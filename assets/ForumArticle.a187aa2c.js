import{r as y,U as H,b as r,o as i,c as d,e as n,d as t,t as e,$ as M,a0 as N,a6 as T,k as C,a1 as j}from"./index.3d7aaf87.js";import{A as S,F as V}from"./useForum.112dbe34.js";const W={class:""},z={class:"grid mb-4"},O={class:"col-12 py-0 px-2 mb-2"},q={class:"card"},G={class:"m-0"},J={class:"col-12 py-0 px-2"},K={class:"card"},P=t("h6",{class:"m-0"},"1F",-1),Q={class:"grid .p-avatar.p-avatar-circle p-avatar-circle"},X={class:"pb-0 col-12 flex justify-content-center md:col-2"},Y={class:"pb-0 col-12 md:col-10"},Z={class:"flex mb-2"},tt=t("p",{class:"mb-0"},"\u4F5C\u8005\uFF1A",-1),st={class:"text-lg"},et={class:"flex mb-2"},ot=t("p",{class:"mb-0"},"UID\uFF1A",-1),ct={class:"text-lg"},at={class:"text-left md:text-right",style:{"overflow-wrap":"anywhere"}},lt=t("hr",null,null,-1),nt={class:"overflow-scroll"},rt=["innerHTML"],it={class:"col-12 py-0 px-2"},dt={class:"card"},_t={class:"m-0"},ht={class:"grid .p-avatar.p-avatar-circle p-avatar-circle"},ut={class:"pb-0 col-12 flex justify-content-center md:col-2"},vt={class:"pb-0 col-12 md:col-10"},mt={class:"flex mb-2"},pt=t("p",{class:"mb-0"},"\u4F5C\u8005\uFF1A",-1),ft={class:"text-lg"},bt={class:"flex mb-2"},gt=t("p",{class:"mb-0"},"UID\uFF1A",-1),xt={class:"text-lg"},wt={class:"text-left md:text-right"},yt=t("hr",null,null,-1),kt={class:"overflow-scroll"},Ut=["innerHTML"],Ft={__name:"ForumArticle",emits:["showSuccess","showInfo","showWarn","showError"],setup(Bt,{emit:k}){const U=T(),B=C(),I=new j,L=new V,D=new S,{user:F}=D.getUser(),s=y({}),_=y(U.params.id),h=o=>I.convertDate(o),$=o=>{B.push(`/forum/reply/${o}`)},A=()=>{L.getArticle(_.value).then(o=>{var a,l;s.value=o,document.title=`\u3010${(a=s.value.area)==null?void 0:a.name}-${(l=s.value.theme)==null?void 0:l.name}\u3011${s.value.title} \u25B7One Bird WEB\u25C1`}).catch(o=>{s.value=null,k("showError",o)})};return H(()=>{F.value!==null&&A()}),(o,a)=>{var v,m,p,f,b;const l=r("back-button"),E=r("Button"),u=r("Image");return i(),d("div",W,[n(l),n(E,{class:"fixed z-5 bottom-0 right-0 m-5",label:"\u767C\u8868\u56DE\u8986",onClick:a[0]||(a[0]=c=>$(_.value))}),t("div",z,[t("div",O,[t("div",q,[t("h5",G,"\u3010"+e((v=s.value.area)==null?void 0:v.name)+"-"+e((m=s.value.theme)==null?void 0:m.name)+"\u3011"+e(s.value.title),1)])]),t("div",J,[t("div",K,[t("div",null,[P,t("div",Q,[t("div",X,[n(u,{src:(p=s.value.author)==null?void 0:p.photoURL,alt:"Image",width:"80",height:"80",preview:""},null,8,["src"])]),t("div",Y,[t("div",Z,[tt,t("p",st,e((f=s.value.author)==null?void 0:f.displayName),1)]),t("div",et,[ot,t("p",ct,e((b=s.value.author)==null?void 0:b.fromUid),1)]),t("p",at,"\u767C\u8868\u6642\u9593\uFF1A"+e(h(s.value.date)),1)])])]),lt,t("div",nt,[t("div",{innerHTML:s.value.content},null,8,rt)])])])]),(i(!0),d(M,null,N(s.value.reply,(c,It,R)=>{var g,x,w;return i(),d("div",{class:"grid mb-4",key:c},[t("div",it,[t("div",dt,[t("div",null,[t("h6",_t,e(R+2)+"F",1),t("div",ht,[t("div",ut,[n(u,{src:(g=c.author)==null?void 0:g.photoURL,alt:"Image",width:"80",height:"80",preview:""},null,8,["src"])]),t("div",vt,[t("div",mt,[pt,t("p",ft,e((x=c.author)==null?void 0:x.displayName),1)]),t("div",bt,[gt,t("p",xt,e((w=c.author)==null?void 0:w.fromUid),1)]),t("p",wt,"\u767C\u8868\u6642\u9593\uFF1A"+e(h(c.date)),1)])])]),yt,t("div",kt,[t("div",{innerHTML:c.content},null,8,Ut)])])])])}),128))])}}};export{Ft as default};
