(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const w of d.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&u(w)}).observe(document,{childList:!0,subtree:!0});function r(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerpolicy&&(d.referrerPolicy=f.referrerpolicy),f.crossorigin==="use-credentials"?d.credentials="include":f.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function u(f){if(f.ep)return;f.ep=!0;const d=r(f);fetch(f.href,d)}})();function GJ(t,n){const r=Object.create(null),u=t.split(",");for(let f=0;f<u.length;f++)r[u[f]]=!0;return n?f=>!!r[f.toLowerCase()]:f=>!!r[f]}function yr(t){if(Yo(t)){const n={};for(let r=0;r<t.length;r++){const u=t[r],f=gl(u)?gde(u):yr(u);if(f)for(const d in f)n[d]=f[d]}return n}else{if(gl(t))return t;if(oi(t))return t}}const hde=/;(?![^(]*\))/g,mde=/:([^]+)/,pde=/\/\*.*?\*\//gs;function gde(t){const n={};return t.replace(pde,"").split(hde).forEach(r=>{if(r){const u=r.split(mde);u.length>1&&(n[u[0].trim()]=u[1].trim())}}),n}function rn(t){let n="";if(gl(t))n=t;else if(Yo(t))for(let r=0;r<t.length;r++){const u=rn(t[r]);u&&(n+=u+" ")}else if(oi(t))for(const r in t)t[r]&&(n+=r+" ");return n.trim()}const yde="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bde=GJ(yde);function Xse(t){return!!t||t===""}const Ho=t=>gl(t)?t:t==null?"":Yo(t)||oi(t)&&(t.toString===tre||!ms(t.toString))?JSON.stringify(t,Jse,2):String(t),Jse=(t,n)=>n&&n.__v_isRef?Jse(t,n.value):xI(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((r,[u,f])=>(r[`${u} =>`]=f,r),{})}:Qse(n)?{[`Set(${n.size})`]:[...n.values()]}:oi(n)&&!Yo(n)&&!nre(n)?String(n):n,ni={},SI=[],rg=()=>{},vde=()=>!1,wde=/^on[^a-z]/,qV=t=>wde.test(t),qJ=t=>t.startsWith("onUpdate:"),Ac=Object.assign,KJ=(t,n)=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)},_de=Object.prototype.hasOwnProperty,lr=(t,n)=>_de.call(t,n),Yo=Array.isArray,xI=t=>KV(t)==="[object Map]",Qse=t=>KV(t)==="[object Set]",ms=t=>typeof t=="function",gl=t=>typeof t=="string",YJ=t=>typeof t=="symbol",oi=t=>t!==null&&typeof t=="object",ere=t=>oi(t)&&ms(t.then)&&ms(t.catch),tre=Object.prototype.toString,KV=t=>tre.call(t),kde=t=>KV(t).slice(8,-1),nre=t=>KV(t)==="[object Object]",XJ=t=>gl(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,cV=GJ(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),YV=t=>{const n=Object.create(null);return r=>n[r]||(n[r]=t(r))},Cde=/-(\w)/g,qy=YV(t=>t.replace(Cde,(n,r)=>r?r.toUpperCase():"")),Sde=/\B([A-Z])/g,vx=YV(t=>t.replace(Sde,"-$1").toLowerCase()),XV=YV(t=>t.charAt(0).toUpperCase()+t.slice(1)),uV=YV(t=>t?`on${XV(t)}`:""),FN=(t,n)=>!Object.is(t,n),_X=(t,n)=>{for(let r=0;r<t.length;r++)t[r](n)},yV=(t,n,r)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value:r})},JJ=t=>{const n=parseFloat(t);return isNaN(n)?t:n};let Cne;const xde=()=>Cne||(Cne=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Dh;class ore{constructor(n=!1){this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Dh,!n&&Dh&&(this.index=(Dh.scopes||(Dh.scopes=[])).push(this)-1)}run(n){if(this.active){const r=Dh;try{return Dh=this,n()}finally{Dh=r}}}on(){Dh=this}off(){Dh=this.parent}stop(n){if(this.active){let r,u;for(r=0,u=this.effects.length;r<u;r++)this.effects[r].stop();for(r=0,u=this.cleanups.length;r<u;r++)this.cleanups[r]();if(this.scopes)for(r=0,u=this.scopes.length;r<u;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!n){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.parent=void 0,this.active=!1}}}function sre(t){return new ore(t)}function Ede(t,n=Dh){n&&n.active&&n.effects.push(t)}function Tde(){return Dh}function Rde(t){Dh&&Dh.cleanups.push(t)}const QJ=t=>{const n=new Set(t);return n.w=0,n.n=0,n},rre=t=>(t.w&T0)>0,are=t=>(t.n&T0)>0,Ide=({deps:t})=>{if(t.length)for(let n=0;n<t.length;n++)t[n].w|=T0},Ade=t=>{const{deps:n}=t;if(n.length){let r=0;for(let u=0;u<n.length;u++){const f=n[u];rre(f)&&!are(f)?f.delete(t):n[r++]=f,f.w&=~T0,f.n&=~T0}n.length=r}},KX=new WeakMap;let wN=0,T0=1;const YX=30;let tg;const rx=Symbol(""),XX=Symbol("");class eQ{constructor(n,r=null,u){this.fn=n,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,Ede(this,u)}run(){if(!this.active)return this.fn();let n=tg,r=y0;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=tg,tg=this,y0=!0,T0=1<<++wN,wN<=YX?Ide(this):Sne(this),this.fn()}finally{wN<=YX&&Ade(this),T0=1<<--wN,tg=this.parent,y0=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){tg===this?this.deferStop=!0:this.active&&(Sne(this),this.onStop&&this.onStop(),this.active=!1)}}function Sne(t){const{deps:n}=t;if(n.length){for(let r=0;r<n.length;r++)n[r].delete(t);n.length=0}}let y0=!0;const ire=[];function ZI(){ire.push(y0),y0=!1}function GI(){const t=ire.pop();y0=t===void 0?!0:t}function Mh(t,n,r){if(y0&&tg){let u=KX.get(t);u||KX.set(t,u=new Map);let f=u.get(r);f||u.set(r,f=QJ()),lre(f)}}function lre(t,n){let r=!1;wN<=YX?are(t)||(t.n|=T0,r=!rre(t)):r=!t.has(tg),r&&(t.add(tg),tg.deps.push(t))}function g1(t,n,r,u,f,d){const w=KX.get(t);if(!w)return;let x=[];if(n==="clear")x=[...w.values()];else if(r==="length"&&Yo(t)){const T=JJ(u);w.forEach((A,$)=>{($==="length"||$>=T)&&x.push(A)})}else switch(r!==void 0&&x.push(w.get(r)),n){case"add":Yo(t)?XJ(r)&&x.push(w.get("length")):(x.push(w.get(rx)),xI(t)&&x.push(w.get(XX)));break;case"delete":Yo(t)||(x.push(w.get(rx)),xI(t)&&x.push(w.get(XX)));break;case"set":xI(t)&&x.push(w.get(rx));break}if(x.length===1)x[0]&&JX(x[0]);else{const T=[];for(const A of x)A&&T.push(...A);JX(QJ(T))}}function JX(t,n){const r=Yo(t)?t:[...t];for(const u of r)u.computed&&xne(u);for(const u of r)u.computed||xne(u)}function xne(t,n){(t!==tg||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Ode=GJ("__proto__,__v_isRef,__isVue"),cre=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(YJ)),Dde=tQ(),Mde=tQ(!1,!0),Pde=tQ(!0),Ene=zde();function zde(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...r){const u=rr(this);for(let d=0,w=this.length;d<w;d++)Mh(u,"get",d+"");const f=u[n](...r);return f===-1||f===!1?u[n](...r.map(rr)):f}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...r){ZI();const u=rr(this)[n].apply(this,r);return GI(),u}}),t}function tQ(t=!1,n=!1){return function(u,f,d){if(f==="__v_isReactive")return!t;if(f==="__v_isReadonly")return t;if(f==="__v_isShallow")return n;if(f==="__v_raw"&&d===(t?n?Xde:mre:n?hre:fre).get(u))return u;const w=Yo(u);if(!t&&w&&lr(Ene,f))return Reflect.get(Ene,f,d);const x=Reflect.get(u,f,d);return(YJ(f)?cre.has(f):Ode(f))||(t||Mh(u,"get",f),n)?x:br(x)?w&&XJ(f)?x:x.value:oi(x)?t?pre(x):Ku(x):x}}const Nde=ure(),Lde=ure(!0);function ure(t=!1){return function(r,u,f,d){let w=r[u];if(DI(w)&&br(w)&&!br(f))return!1;if(!t&&(!bV(f)&&!DI(f)&&(w=rr(w),f=rr(f)),!Yo(r)&&br(w)&&!br(f)))return w.value=f,!0;const x=Yo(r)&&XJ(u)?Number(u)<r.length:lr(r,u),T=Reflect.set(r,u,f,d);return r===rr(d)&&(x?FN(f,w)&&g1(r,"set",u,f):g1(r,"add",u,f)),T}}function Bde(t,n){const r=lr(t,n);t[n];const u=Reflect.deleteProperty(t,n);return u&&r&&g1(t,"delete",n,void 0),u}function Fde(t,n){const r=Reflect.has(t,n);return(!YJ(n)||!cre.has(n))&&Mh(t,"has",n),r}function $de(t){return Mh(t,"iterate",Yo(t)?"length":rx),Reflect.ownKeys(t)}const dre={get:Dde,set:Nde,deleteProperty:Bde,has:Fde,ownKeys:$de},Vde={get:Pde,set(t,n){return!0},deleteProperty(t,n){return!0}},Hde=Ac({},dre,{get:Mde,set:Lde}),nQ=t=>t,JV=t=>Reflect.getPrototypeOf(t);function Z8(t,n,r=!1,u=!1){t=t.__v_raw;const f=rr(t),d=rr(n);r||(n!==d&&Mh(f,"get",n),Mh(f,"get",d));const{has:w}=JV(f),x=u?nQ:r?rQ:$N;if(w.call(f,n))return x(t.get(n));if(w.call(f,d))return x(t.get(d));t!==f&&t.get(n)}function G8(t,n=!1){const r=this.__v_raw,u=rr(r),f=rr(t);return n||(t!==f&&Mh(u,"has",t),Mh(u,"has",f)),t===f?r.has(t):r.has(t)||r.has(f)}function q8(t,n=!1){return t=t.__v_raw,!n&&Mh(rr(t),"iterate",rx),Reflect.get(t,"size",t)}function Tne(t){t=rr(t);const n=rr(this);return JV(n).has.call(n,t)||(n.add(t),g1(n,"add",t,t)),this}function Rne(t,n){n=rr(n);const r=rr(this),{has:u,get:f}=JV(r);let d=u.call(r,t);d||(t=rr(t),d=u.call(r,t));const w=f.call(r,t);return r.set(t,n),d?FN(n,w)&&g1(r,"set",t,n):g1(r,"add",t,n),this}function Ine(t){const n=rr(this),{has:r,get:u}=JV(n);let f=r.call(n,t);f||(t=rr(t),f=r.call(n,t)),u&&u.call(n,t);const d=n.delete(t);return f&&g1(n,"delete",t,void 0),d}function Ane(){const t=rr(this),n=t.size!==0,r=t.clear();return n&&g1(t,"clear",void 0,void 0),r}function K8(t,n){return function(u,f){const d=this,w=d.__v_raw,x=rr(w),T=n?nQ:t?rQ:$N;return!t&&Mh(x,"iterate",rx),w.forEach((A,$)=>u.call(f,T(A),T($),d))}}function Y8(t,n,r){return function(...u){const f=this.__v_raw,d=rr(f),w=xI(d),x=t==="entries"||t===Symbol.iterator&&w,T=t==="keys"&&w,A=f[t](...u),$=r?nQ:n?rQ:$N;return!n&&Mh(d,"iterate",T?XX:rx),{next(){const{value:B,done:H}=A.next();return H?{value:B,done:H}:{value:x?[$(B[0]),$(B[1])]:$(B),done:H}},[Symbol.iterator](){return this}}}}function t0(t){return function(...n){return t==="delete"?!1:this}}function Ude(){const t={get(d){return Z8(this,d)},get size(){return q8(this)},has:G8,add:Tne,set:Rne,delete:Ine,clear:Ane,forEach:K8(!1,!1)},n={get(d){return Z8(this,d,!1,!0)},get size(){return q8(this)},has:G8,add:Tne,set:Rne,delete:Ine,clear:Ane,forEach:K8(!1,!0)},r={get(d){return Z8(this,d,!0)},get size(){return q8(this,!0)},has(d){return G8.call(this,d,!0)},add:t0("add"),set:t0("set"),delete:t0("delete"),clear:t0("clear"),forEach:K8(!0,!1)},u={get(d){return Z8(this,d,!0,!0)},get size(){return q8(this,!0)},has(d){return G8.call(this,d,!0)},add:t0("add"),set:t0("set"),delete:t0("delete"),clear:t0("clear"),forEach:K8(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{t[d]=Y8(d,!1,!1),r[d]=Y8(d,!0,!1),n[d]=Y8(d,!1,!0),u[d]=Y8(d,!0,!0)}),[t,r,n,u]}const[jde,Wde,Zde,Gde]=Ude();function oQ(t,n){const r=n?t?Gde:Zde:t?Wde:jde;return(u,f,d)=>f==="__v_isReactive"?!t:f==="__v_isReadonly"?t:f==="__v_raw"?u:Reflect.get(lr(r,f)&&f in u?r:u,f,d)}const qde={get:oQ(!1,!1)},Kde={get:oQ(!1,!0)},Yde={get:oQ(!0,!1)},fre=new WeakMap,hre=new WeakMap,mre=new WeakMap,Xde=new WeakMap;function Jde(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Qde(t){return t.__v_skip||!Object.isExtensible(t)?0:Jde(kde(t))}function Ku(t){return DI(t)?t:sQ(t,!1,dre,qde,fre)}function efe(t){return sQ(t,!1,Hde,Kde,hre)}function pre(t){return sQ(t,!0,Vde,Yde,mre)}function sQ(t,n,r,u,f){if(!oi(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const d=f.get(t);if(d)return d;const w=Qde(t);if(w===0)return t;const x=new Proxy(t,w===2?u:r);return f.set(t,x),x}function m1(t){return DI(t)?m1(t.__v_raw):!!(t&&t.__v_isReactive)}function DI(t){return!!(t&&t.__v_isReadonly)}function bV(t){return!!(t&&t.__v_isShallow)}function gre(t){return m1(t)||DI(t)}function rr(t){const n=t&&t.__v_raw;return n?rr(n):t}function R0(t){return yV(t,"__v_skip",!0),t}const $N=t=>oi(t)?Ku(t):t,rQ=t=>oi(t)?pre(t):t;function yre(t){y0&&tg&&(t=rr(t),lre(t.dep||(t.dep=QJ())))}function bre(t,n){t=rr(t),t.dep&&JX(t.dep)}function br(t){return!!(t&&t.__v_isRef===!0)}function as(t){return vre(t,!1)}function tfe(t){return vre(t,!0)}function vre(t,n){return br(t)?t:new nfe(t,n)}class nfe{constructor(n,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?n:rr(n),this._value=r?n:$N(n)}get value(){return yre(this),this._value}set value(n){const r=this.__v_isShallow||bV(n)||DI(n);n=r?n:rr(n),FN(n,this._rawValue)&&(this._rawValue=n,this._value=r?n:$N(n),bre(this))}}function At(t){return br(t)?t.value:t}const ofe={get:(t,n,r)=>At(Reflect.get(t,n,r)),set:(t,n,r,u)=>{const f=t[n];return br(f)&&!br(r)?(f.value=r,!0):Reflect.set(t,n,r,u)}};function wre(t){return m1(t)?t:new Proxy(t,ofe)}function VN(t){const n=Yo(t)?new Array(t.length):{};for(const r in t)n[r]=Ol(t,r);return n}class sfe{constructor(n,r,u){this._object=n,this._key=r,this._defaultValue=u,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}}function Ol(t,n,r){const u=t[n];return br(u)?u:new sfe(t,n,r)}var _re;class rfe{constructor(n,r,u,f){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[_re]=!1,this._dirty=!0,this.effect=new eQ(n,()=>{this._dirty||(this._dirty=!0,bre(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!f,this.__v_isReadonly=u}get value(){const n=rr(this);return yre(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}_re="__v_isReadonly";function afe(t,n,r=!1){let u,f;const d=ms(t);return d?(u=t,f=rg):(u=t.get,f=t.set),new rfe(u,f,d||!f,r)}function b0(t,n,r,u){let f;try{f=u?t(...u):t()}catch(d){QV(d,n,r)}return f}function Nm(t,n,r,u){if(ms(t)){const d=b0(t,n,r,u);return d&&ere(d)&&d.catch(w=>{QV(w,n,r)}),d}const f=[];for(let d=0;d<t.length;d++)f.push(Nm(t[d],n,r,u));return f}function QV(t,n,r,u=!0){const f=n?n.vnode:null;if(n){let d=n.parent;const w=n.proxy,x=r;for(;d;){const A=d.ec;if(A){for(let $=0;$<A.length;$++)if(A[$](t,w,x)===!1)return}d=d.parent}const T=n.appContext.config.errorHandler;if(T){b0(T,null,10,[t,w,x]);return}}ife(t,r,f,u)}function ife(t,n,r,u=!0){console.error(t)}let HN=!1,QX=!1;const Wu=[];let Wy=0;const EI=[];let c1=null,QS=0;const kre=Promise.resolve();let aQ=null;function Vd(t){const n=aQ||kre;return t?n.then(this?t.bind(this):t):n}function lfe(t){let n=Wy+1,r=Wu.length;for(;n<r;){const u=n+r>>>1;UN(Wu[u])<t?n=u+1:r=u}return n}function iQ(t){(!Wu.length||!Wu.includes(t,HN&&t.allowRecurse?Wy+1:Wy))&&(t.id==null?Wu.push(t):Wu.splice(lfe(t.id),0,t),Cre())}function Cre(){!HN&&!QX&&(QX=!0,aQ=kre.then(xre))}function cfe(t){const n=Wu.indexOf(t);n>Wy&&Wu.splice(n,1)}function ufe(t){Yo(t)?EI.push(...t):(!c1||!c1.includes(t,t.allowRecurse?QS+1:QS))&&EI.push(t),Cre()}function One(t,n=HN?Wy+1:0){for(;n<Wu.length;n++){const r=Wu[n];r&&r.pre&&(Wu.splice(n,1),n--,r())}}function Sre(t){if(EI.length){const n=[...new Set(EI)];if(EI.length=0,c1){c1.push(...n);return}for(c1=n,c1.sort((r,u)=>UN(r)-UN(u)),QS=0;QS<c1.length;QS++)c1[QS]();c1=null,QS=0}}const UN=t=>t.id==null?1/0:t.id,dfe=(t,n)=>{const r=UN(t)-UN(n);if(r===0){if(t.pre&&!n.pre)return-1;if(n.pre&&!t.pre)return 1}return r};function xre(t){QX=!1,HN=!0,Wu.sort(dfe);const n=rg;try{for(Wy=0;Wy<Wu.length;Wy++){const r=Wu[Wy];r&&r.active!==!1&&b0(r,null,14)}}finally{Wy=0,Wu.length=0,Sre(),HN=!1,aQ=null,(Wu.length||EI.length)&&xre()}}function ffe(t,n,...r){if(t.isUnmounted)return;const u=t.vnode.props||ni;let f=r;const d=n.startsWith("update:"),w=d&&n.slice(7);if(w&&w in u){const $=`${w==="modelValue"?"model":w}Modifiers`,{number:B,trim:H}=u[$]||ni;H&&(f=r.map(le=>gl(le)?le.trim():le)),B&&(f=r.map(JJ))}let x,T=u[x=uV(n)]||u[x=uV(qy(n))];!T&&d&&(T=u[x=uV(vx(n))]),T&&Nm(T,t,6,f);const A=u[x+"Once"];if(A){if(!t.emitted)t.emitted={};else if(t.emitted[x])return;t.emitted[x]=!0,Nm(A,t,6,f)}}function Ere(t,n,r=!1){const u=n.emitsCache,f=u.get(t);if(f!==void 0)return f;const d=t.emits;let w={},x=!1;if(!ms(t)){const T=A=>{const $=Ere(A,n,!0);$&&(x=!0,Ac(w,$))};!r&&n.mixins.length&&n.mixins.forEach(T),t.extends&&T(t.extends),t.mixins&&t.mixins.forEach(T)}return!d&&!x?(oi(t)&&u.set(t,null),null):(Yo(d)?d.forEach(T=>w[T]=null):Ac(w,d),oi(t)&&u.set(t,w),w)}function e7(t,n){return!t||!qV(n)?!1:(n=n.slice(2).replace(/Once$/,""),lr(t,n[0].toLowerCase()+n.slice(1))||lr(t,vx(n))||lr(t,n))}let lu=null,t7=null;function vV(t){const n=lu;return lu=t,t7=t&&t.type.__scopeId||null,n}function IRe(t){t7=t}function ARe(){t7=null}function is(t,n=lu,r){if(!n||t._n)return t;const u=(...f)=>{u._d&&Hne(-1);const d=vV(n);let w;try{w=t(...f)}finally{vV(d),u._d&&Hne(1)}return w};return u._n=!0,u._c=!0,u._d=!0,u}function kX(t){const{type:n,vnode:r,proxy:u,withProxy:f,props:d,propsOptions:[w],slots:x,attrs:T,emit:A,render:$,renderCache:B,data:H,setupState:le,ctx:ke,inheritAttrs:Ne}=t;let Se,je;const gt=vV(t);try{if(r.shapeFlag&4){const ht=f||u;Se=jy($.call(ht,ht,B,d,le,H,ke)),je=T}else{const ht=n;Se=jy(ht.length>1?ht(d,{attrs:T,slots:x,emit:A}):ht(d,null)),je=n.props?T:hfe(T)}}catch(ht){EN.length=0,QV(ht,t,1),Se=Nn(Lm)}let ee=Se;if(je&&Ne!==!1){const ht=Object.keys(je),{shapeFlag:He}=ee;ht.length&&He&7&&(w&&ht.some(qJ)&&(je=mfe(je,w)),ee=I0(ee,je))}return r.dirs&&(ee=I0(ee),ee.dirs=ee.dirs?ee.dirs.concat(r.dirs):r.dirs),r.transition&&(ee.transition=r.transition),Se=ee,vV(gt),Se}const hfe=t=>{let n;for(const r in t)(r==="class"||r==="style"||qV(r))&&((n||(n={}))[r]=t[r]);return n},mfe=(t,n)=>{const r={};for(const u in t)(!qJ(u)||!(u.slice(9)in n))&&(r[u]=t[u]);return r};function pfe(t,n,r){const{props:u,children:f,component:d}=t,{props:w,children:x,patchFlag:T}=n,A=d.emitsOptions;if(n.dirs||n.transition)return!0;if(r&&T>=0){if(T&1024)return!0;if(T&16)return u?Dne(u,w,A):!!w;if(T&8){const $=n.dynamicProps;for(let B=0;B<$.length;B++){const H=$[B];if(w[H]!==u[H]&&!e7(A,H))return!0}}}else return(f||x)&&(!x||!x.$stable)?!0:u===w?!1:u?w?Dne(u,w,A):!0:!!w;return!1}function Dne(t,n,r){const u=Object.keys(n);if(u.length!==Object.keys(t).length)return!0;for(let f=0;f<u.length;f++){const d=u[f];if(n[d]!==t[d]&&!e7(r,d))return!0}return!1}function gfe({vnode:t,parent:n},r){for(;n&&n.subTree===t;)(t=n.vnode).el=r,n=n.parent}const yfe=t=>t.__isSuspense;function bfe(t,n){n&&n.pendingBranch?Yo(t)?n.effects.push(...t):n.effects.push(t):ufe(t)}function v0(t,n){if(Ic){let r=Ic.provides;const u=Ic.parent&&Ic.parent.provides;u===r&&(r=Ic.provides=Object.create(u)),r[t]=n}}function cu(t,n,r=!1){const u=Ic||lu;if(u){const f=u.parent==null?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides;if(f&&t in f)return f[t];if(arguments.length>1)return r&&ms(n)?n.call(u.proxy):n}}function lQ(t,n){return cQ(t,null,n)}const X8={};function Ps(t,n,r){return cQ(t,n,r)}function cQ(t,n,{immediate:r,deep:u,flush:f,onTrack:d,onTrigger:w}=ni){const x=Ic;let T,A=!1,$=!1;if(br(t)?(T=()=>t.value,A=bV(t)):m1(t)?(T=()=>t,u=!0):Yo(t)?($=!0,A=t.some(ee=>m1(ee)||bV(ee)),T=()=>t.map(ee=>{if(br(ee))return ee.value;if(m1(ee))return ox(ee);if(ms(ee))return b0(ee,x,2)})):ms(t)?n?T=()=>b0(t,x,2):T=()=>{if(!(x&&x.isUnmounted))return B&&B(),Nm(t,x,3,[H])}:T=rg,n&&u){const ee=T;T=()=>ox(ee())}let B,H=ee=>{B=je.onStop=()=>{b0(ee,x,4)}},le;if(GN)if(H=rg,n?r&&Nm(n,x,3,[T(),$?[]:void 0,H]):T(),f==="sync"){const ee=ihe();le=ee.__watcherHandles||(ee.__watcherHandles=[])}else return rg;let ke=$?new Array(t.length).fill(X8):X8;const Ne=()=>{if(!!je.active)if(n){const ee=je.run();(u||A||($?ee.some((ht,He)=>FN(ht,ke[He])):FN(ee,ke)))&&(B&&B(),Nm(n,x,3,[ee,ke===X8?void 0:$&&ke[0]===X8?[]:ke,H]),ke=ee)}else je.run()};Ne.allowRecurse=!!n;let Se;f==="sync"?Se=Ne:f==="post"?Se=()=>Df(Ne,x&&x.suspense):(Ne.pre=!0,x&&(Ne.id=x.uid),Se=()=>iQ(Ne));const je=new eQ(T,Se);n?r?Ne():ke=je.run():f==="post"?Df(je.run.bind(je),x&&x.suspense):je.run();const gt=()=>{je.stop(),x&&x.scope&&KJ(x.scope.effects,je)};return le&&le.push(gt),gt}function vfe(t,n,r){const u=this.proxy,f=gl(t)?t.includes(".")?Tre(u,t):()=>u[t]:t.bind(u,u);let d;ms(n)?d=n:(d=n.handler,r=n);const w=Ic;MI(this);const x=cQ(f,d.bind(u),r);return w?MI(w):ax(),x}function Tre(t,n){const r=n.split(".");return()=>{let u=t;for(let f=0;f<r.length&&u;f++)u=u[r[f]];return u}}function ox(t,n){if(!oi(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),br(t))ox(t.value,n);else if(Yo(t))for(let r=0;r<t.length;r++)ox(t[r],n);else if(Qse(t)||xI(t))t.forEach(r=>{ox(r,n)});else if(nre(t))for(const r in t)ox(t[r],n);return t}function Rre(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return P0(()=>{t.isMounted=!0}),wx(()=>{t.isUnmounting=!0}),t}const Pm=[Function,Array],wfe={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Pm,onEnter:Pm,onAfterEnter:Pm,onEnterCancelled:Pm,onBeforeLeave:Pm,onLeave:Pm,onAfterLeave:Pm,onLeaveCancelled:Pm,onBeforeAppear:Pm,onAppear:Pm,onAfterAppear:Pm,onAppearCancelled:Pm},setup(t,{slots:n}){const r=k1(),u=Rre();let f;return()=>{const d=n.default&&uQ(n.default(),!0);if(!d||!d.length)return;let w=d[0];if(d.length>1){for(const Ne of d)if(Ne.type!==Lm){w=Ne;break}}const x=rr(t),{mode:T}=x;if(u.isLeaving)return CX(w);const A=Mne(w);if(!A)return CX(w);const $=jN(A,x,u,r);WN(A,$);const B=r.subTree,H=B&&Mne(B);let le=!1;const{getTransitionKey:ke}=A.type;if(ke){const Ne=ke();f===void 0?f=Ne:Ne!==f&&(f=Ne,le=!0)}if(H&&H.type!==Lm&&(!ex(A,H)||le)){const Ne=jN(H,x,u,r);if(WN(H,Ne),T==="out-in")return u.isLeaving=!0,Ne.afterLeave=()=>{u.isLeaving=!1,r.update.active!==!1&&r.update()},CX(w);T==="in-out"&&A.type!==Lm&&(Ne.delayLeave=(Se,je,gt)=>{const ee=Are(u,H);ee[String(H.key)]=H,Se._leaveCb=()=>{je(),Se._leaveCb=void 0,delete $.delayedLeave},$.delayedLeave=gt})}return w}}},Ire=wfe;function Are(t,n){const{leavingVNodes:r}=t;let u=r.get(n.type);return u||(u=Object.create(null),r.set(n.type,u)),u}function jN(t,n,r,u){const{appear:f,mode:d,persisted:w=!1,onBeforeEnter:x,onEnter:T,onAfterEnter:A,onEnterCancelled:$,onBeforeLeave:B,onLeave:H,onAfterLeave:le,onLeaveCancelled:ke,onBeforeAppear:Ne,onAppear:Se,onAfterAppear:je,onAppearCancelled:gt}=n,ee=String(t.key),ht=Are(r,t),He=(Te,st)=>{Te&&Nm(Te,u,9,st)},Ze=(Te,st)=>{const _t=st[1];He(Te,st),Yo(Te)?Te.every(Ue=>Ue.length<=1)&&_t():Te.length<=1&&_t()},J={mode:d,persisted:w,beforeEnter(Te){let st=x;if(!r.isMounted)if(f)st=Ne||x;else return;Te._leaveCb&&Te._leaveCb(!0);const _t=ht[ee];_t&&ex(t,_t)&&_t.el._leaveCb&&_t.el._leaveCb(),He(st,[Te])},enter(Te){let st=T,_t=A,Ue=$;if(!r.isMounted)if(f)st=Se||T,_t=je||A,Ue=gt||$;else return;let de=!1;const Tn=Te._enterCb=nn=>{de||(de=!0,nn?He(Ue,[Te]):He(_t,[Te]),J.delayedLeave&&J.delayedLeave(),Te._enterCb=void 0)};st?Ze(st,[Te,Tn]):Tn()},leave(Te,st){const _t=String(t.key);if(Te._enterCb&&Te._enterCb(!0),r.isUnmounting)return st();He(B,[Te]);let Ue=!1;const de=Te._leaveCb=Tn=>{Ue||(Ue=!0,st(),Tn?He(ke,[Te]):He(le,[Te]),Te._leaveCb=void 0,ht[_t]===t&&delete ht[_t])};ht[_t]=t,H?Ze(H,[Te,de]):de()},clone(Te){return jN(Te,n,r,u)}};return J}function CX(t){if(n7(t))return t=I0(t),t.children=null,t}function Mne(t){return n7(t)?t.children?t.children[0]:void 0:t}function WN(t,n){t.shapeFlag&6&&t.component?WN(t.component.subTree,n):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function uQ(t,n=!1,r){let u=[],f=0;for(let d=0;d<t.length;d++){let w=t[d];const x=r==null?w.key:String(r)+String(w.key!=null?w.key:d);w.type===qn?(w.patchFlag&128&&f++,u=u.concat(uQ(w.children,n,x))):(n||w.type!==Lm)&&u.push(x!=null?I0(w,{key:x}):w)}if(f>1)for(let d=0;d<u.length;d++)u[d].patchFlag=-2;return u}function cg(t){return ms(t)?{setup:t,name:t.name}:t}const CN=t=>!!t.type.__asyncLoader,n7=t=>t.type.__isKeepAlive;function Ore(t,n){Mre(t,"a",n)}function Dre(t,n){Mre(t,"da",n)}function Mre(t,n,r=Ic){const u=t.__wdc||(t.__wdc=()=>{let f=r;for(;f;){if(f.isDeactivated)return;f=f.parent}return t()});if(o7(n,u,r),r){let f=r.parent;for(;f&&f.parent;)n7(f.parent.vnode)&&_fe(u,n,r,f),f=f.parent}}function _fe(t,n,r,u){const f=o7(n,t,u,!0);Nre(()=>{KJ(u[n],f)},r)}function o7(t,n,r=Ic,u=!1){if(r){const f=r[t]||(r[t]=[]),d=n.__weh||(n.__weh=(...w)=>{if(r.isUnmounted)return;ZI(),MI(r);const x=Nm(n,r,t,w);return ax(),GI(),x});return u?f.unshift(d):f.push(d),d}}const _1=t=>(n,r=Ic)=>(!GN||t==="sp")&&o7(t,(...u)=>n(...u),r),Pre=_1("bm"),P0=_1("m"),kfe=_1("bu"),zre=_1("u"),wx=_1("bum"),Nre=_1("um"),Cfe=_1("sp"),Sfe=_1("rtg"),xfe=_1("rtc");function Efe(t,n=Ic){o7("ec",t,n)}function ur(t,n){const r=lu;if(r===null)return t;const u=a7(r)||r.proxy,f=t.dirs||(t.dirs=[]);for(let d=0;d<n.length;d++){let[w,x,T,A=ni]=n[d];w&&(ms(w)&&(w={mounted:w,updated:w}),w.deep&&ox(x),f.push({dir:w,instance:u,value:x,oldValue:void 0,arg:T,modifiers:A}))}return t}function jS(t,n,r,u){const f=t.dirs,d=n&&n.dirs;for(let w=0;w<f.length;w++){const x=f[w];d&&(x.oldValue=d[w].value);let T=x.dir[u];T&&(ZI(),Nm(T,r,8,[t.el,x,t,n]),GI())}}const dQ="components",Tfe="directives";function Dn(t,n){return fQ(dQ,t,!0,n)||t}const Lre=Symbol();function ja(t){return gl(t)?fQ(dQ,t,!1)||t:t||Lre}function Ii(t){return fQ(Tfe,t)}function fQ(t,n,r=!0,u=!1){const f=lu||Ic;if(f){const d=f.type;if(t===dQ){const x=she(d,!1);if(x&&(x===n||x===qy(n)||x===XV(qy(n))))return d}const w=Pne(f[t]||d[t],n)||Pne(f.appContext[t],n);return!w&&u?d:w}}function Pne(t,n){return t&&(t[n]||t[qy(n)]||t[XV(qy(n))])}function Sa(t,n,r,u){let f;const d=r&&r[u];if(Yo(t)||gl(t)){f=new Array(t.length);for(let w=0,x=t.length;w<x;w++)f[w]=n(t[w],w,void 0,d&&d[w])}else if(typeof t=="number"){f=new Array(t);for(let w=0;w<t;w++)f[w]=n(w+1,w,void 0,d&&d[w])}else if(oi(t))if(t[Symbol.iterator])f=Array.from(t,(w,x)=>n(w,x,void 0,d&&d[x]));else{const w=Object.keys(t);f=new Array(w.length);for(let x=0,T=w.length;x<T;x++){const A=w[x];f[x]=n(t[A],A,x,d&&d[x])}}else f=[];return r&&(r[u]=f),f}function eJ(t,n){for(let r=0;r<n.length;r++){const u=n[r];if(Yo(u))for(let f=0;f<u.length;f++)t[u[f].name]=u[f].fn;else u&&(t[u.name]=u.key?(...f)=>{const d=u.fn(...f);return d&&(d.key=u.key),d}:u.fn)}return t}function _o(t,n,r={},u,f){if(lu.isCE||lu.parent&&CN(lu.parent)&&lu.parent.isCE)return n!=="default"&&(r.name=n),Nn("slot",r,u&&u());let d=t[n];d&&d._c&&(d._d=!1),ye();const w=d&&Bre(d(r)),x=Mn(qn,{key:r.key||w&&w.key||`_${n}`},w||(u?u():[]),w&&t._===1?64:-2);return!f&&x.scopeId&&(x.slotScopeIds=[x.scopeId+"-s"]),d&&d._c&&(d._d=!0),x}function Bre(t){return t.some(n=>_V(n)?!(n.type===Lm||n.type===qn&&!Bre(n.children)):!0)?t:null}function J8(t,n){const r={};for(const u in t)r[n&&/[A-Z]/.test(u)?`on:${u}`:uV(u)]=t[u];return r}const tJ=t=>t?Kre(t)?a7(t)||t.proxy:tJ(t.parent):null,SN=Ac(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>tJ(t.parent),$root:t=>tJ(t.root),$emit:t=>t.emit,$options:t=>hQ(t),$forceUpdate:t=>t.f||(t.f=()=>iQ(t.update)),$nextTick:t=>t.n||(t.n=Vd.bind(t.proxy)),$watch:t=>vfe.bind(t)}),SX=(t,n)=>t!==ni&&!t.__isScriptSetup&&lr(t,n),Rfe={get({_:t},n){const{ctx:r,setupState:u,data:f,props:d,accessCache:w,type:x,appContext:T}=t;let A;if(n[0]!=="$"){const le=w[n];if(le!==void 0)switch(le){case 1:return u[n];case 2:return f[n];case 4:return r[n];case 3:return d[n]}else{if(SX(u,n))return w[n]=1,u[n];if(f!==ni&&lr(f,n))return w[n]=2,f[n];if((A=t.propsOptions[0])&&lr(A,n))return w[n]=3,d[n];if(r!==ni&&lr(r,n))return w[n]=4,r[n];nJ&&(w[n]=0)}}const $=SN[n];let B,H;if($)return n==="$attrs"&&Mh(t,"get",n),$(t);if((B=x.__cssModules)&&(B=B[n]))return B;if(r!==ni&&lr(r,n))return w[n]=4,r[n];if(H=T.config.globalProperties,lr(H,n))return H[n]},set({_:t},n,r){const{data:u,setupState:f,ctx:d}=t;return SX(f,n)?(f[n]=r,!0):u!==ni&&lr(u,n)?(u[n]=r,!0):lr(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(d[n]=r,!0)},has({_:{data:t,setupState:n,accessCache:r,ctx:u,appContext:f,propsOptions:d}},w){let x;return!!r[w]||t!==ni&&lr(t,w)||SX(n,w)||(x=d[0])&&lr(x,w)||lr(u,w)||lr(SN,w)||lr(f.config.globalProperties,w)},defineProperty(t,n,r){return r.get!=null?t._.accessCache[n]=0:lr(r,"value")&&this.set(t,n,r.value,null),Reflect.defineProperty(t,n,r)}};let nJ=!0;function Ife(t){const n=hQ(t),r=t.proxy,u=t.ctx;nJ=!1,n.beforeCreate&&zne(n.beforeCreate,t,"bc");const{data:f,computed:d,methods:w,watch:x,provide:T,inject:A,created:$,beforeMount:B,mounted:H,beforeUpdate:le,updated:ke,activated:Ne,deactivated:Se,beforeDestroy:je,beforeUnmount:gt,destroyed:ee,unmounted:ht,render:He,renderTracked:Ze,renderTriggered:J,errorCaptured:Te,serverPrefetch:st,expose:_t,inheritAttrs:Ue,components:de,directives:Tn,filters:nn}=n;if(A&&Afe(A,u,null,t.appContext.config.unwrapInjectedRef),w)for(const Ht in w){const ot=w[Ht];ms(ot)&&(u[Ht]=ot.bind(r))}if(f){const Ht=f.call(r,r);oi(Ht)&&(t.data=Ku(Ht))}if(nJ=!0,d)for(const Ht in d){const ot=d[Ht],Bn=ms(ot)?ot.bind(r,r):ms(ot.get)?ot.get.bind(r,r):rg,cn=!ms(ot)&&ms(ot.set)?ot.set.bind(r):rg,it=To({get:Bn,set:cn});Object.defineProperty(u,Ht,{enumerable:!0,configurable:!0,get:()=>it.value,set:Gn=>it.value=Gn})}if(x)for(const Ht in x)Fre(x[Ht],u,r,Ht);if(T){const Ht=ms(T)?T.call(r):T;Reflect.ownKeys(Ht).forEach(ot=>{v0(ot,Ht[ot])})}$&&zne($,t,"c");function L(Ht,ot){Yo(ot)?ot.forEach(Bn=>Ht(Bn.bind(r))):ot&&Ht(ot.bind(r))}if(L(Pre,B),L(P0,H),L(kfe,le),L(zre,ke),L(Ore,Ne),L(Dre,Se),L(Efe,Te),L(xfe,Ze),L(Sfe,J),L(wx,gt),L(Nre,ht),L(Cfe,st),Yo(_t))if(_t.length){const Ht=t.exposed||(t.exposed={});_t.forEach(ot=>{Object.defineProperty(Ht,ot,{get:()=>r[ot],set:Bn=>r[ot]=Bn})})}else t.exposed||(t.exposed={});He&&t.render===rg&&(t.render=He),Ue!=null&&(t.inheritAttrs=Ue),de&&(t.components=de),Tn&&(t.directives=Tn)}function Afe(t,n,r=rg,u=!1){Yo(t)&&(t=oJ(t));for(const f in t){const d=t[f];let w;oi(d)?"default"in d?w=cu(d.from||f,d.default,!0):w=cu(d.from||f):w=cu(d),br(w)&&u?Object.defineProperty(n,f,{enumerable:!0,configurable:!0,get:()=>w.value,set:x=>w.value=x}):n[f]=w}}function zne(t,n,r){Nm(Yo(t)?t.map(u=>u.bind(n.proxy)):t.bind(n.proxy),n,r)}function Fre(t,n,r,u){const f=u.includes(".")?Tre(r,u):()=>r[u];if(gl(t)){const d=n[t];ms(d)&&Ps(f,d)}else if(ms(t))Ps(f,t.bind(r));else if(oi(t))if(Yo(t))t.forEach(d=>Fre(d,n,r,u));else{const d=ms(t.handler)?t.handler.bind(r):n[t.handler];ms(d)&&Ps(f,d,t)}}function hQ(t){const n=t.type,{mixins:r,extends:u}=n,{mixins:f,optionsCache:d,config:{optionMergeStrategies:w}}=t.appContext,x=d.get(n);let T;return x?T=x:!f.length&&!r&&!u?T=n:(T={},f.length&&f.forEach(A=>wV(T,A,w,!0)),wV(T,n,w)),oi(n)&&d.set(n,T),T}function wV(t,n,r,u=!1){const{mixins:f,extends:d}=n;d&&wV(t,d,r,!0),f&&f.forEach(w=>wV(t,w,r,!0));for(const w in n)if(!(u&&w==="expose")){const x=Ofe[w]||r&&r[w];t[w]=x?x(t[w],n[w]):n[w]}return t}const Ofe={data:Nne,props:KS,emits:KS,methods:KS,computed:KS,beforeCreate:$d,created:$d,beforeMount:$d,mounted:$d,beforeUpdate:$d,updated:$d,beforeDestroy:$d,beforeUnmount:$d,destroyed:$d,unmounted:$d,activated:$d,deactivated:$d,errorCaptured:$d,serverPrefetch:$d,components:KS,directives:KS,watch:Mfe,provide:Nne,inject:Dfe};function Nne(t,n){return n?t?function(){return Ac(ms(t)?t.call(this,this):t,ms(n)?n.call(this,this):n)}:n:t}function Dfe(t,n){return KS(oJ(t),oJ(n))}function oJ(t){if(Yo(t)){const n={};for(let r=0;r<t.length;r++)n[t[r]]=t[r];return n}return t}function $d(t,n){return t?[...new Set([].concat(t,n))]:n}function KS(t,n){return t?Ac(Ac(Object.create(null),t),n):n}function Mfe(t,n){if(!t)return n;if(!n)return t;const r=Ac(Object.create(null),t);for(const u in n)r[u]=$d(t[u],n[u]);return r}function Pfe(t,n,r,u=!1){const f={},d={};yV(d,r7,1),t.propsDefaults=Object.create(null),$re(t,n,f,d);for(const w in t.propsOptions[0])w in f||(f[w]=void 0);r?t.props=u?f:efe(f):t.type.props?t.props=f:t.props=d,t.attrs=d}function zfe(t,n,r,u){const{props:f,attrs:d,vnode:{patchFlag:w}}=t,x=rr(f),[T]=t.propsOptions;let A=!1;if((u||w>0)&&!(w&16)){if(w&8){const $=t.vnode.dynamicProps;for(let B=0;B<$.length;B++){let H=$[B];if(e7(t.emitsOptions,H))continue;const le=n[H];if(T)if(lr(d,H))le!==d[H]&&(d[H]=le,A=!0);else{const ke=qy(H);f[ke]=sJ(T,x,ke,le,t,!1)}else le!==d[H]&&(d[H]=le,A=!0)}}}else{$re(t,n,f,d)&&(A=!0);let $;for(const B in x)(!n||!lr(n,B)&&(($=vx(B))===B||!lr(n,$)))&&(T?r&&(r[B]!==void 0||r[$]!==void 0)&&(f[B]=sJ(T,x,B,void 0,t,!0)):delete f[B]);if(d!==x)for(const B in d)(!n||!lr(n,B)&&!0)&&(delete d[B],A=!0)}A&&g1(t,"set","$attrs")}function $re(t,n,r,u){const[f,d]=t.propsOptions;let w=!1,x;if(n)for(let T in n){if(cV(T))continue;const A=n[T];let $;f&&lr(f,$=qy(T))?!d||!d.includes($)?r[$]=A:(x||(x={}))[$]=A:e7(t.emitsOptions,T)||(!(T in u)||A!==u[T])&&(u[T]=A,w=!0)}if(d){const T=rr(r),A=x||ni;for(let $=0;$<d.length;$++){const B=d[$];r[B]=sJ(f,T,B,A[B],t,!lr(A,B))}}return w}function sJ(t,n,r,u,f,d){const w=t[r];if(w!=null){const x=lr(w,"default");if(x&&u===void 0){const T=w.default;if(w.type!==Function&&ms(T)){const{propsDefaults:A}=f;r in A?u=A[r]:(MI(f),u=A[r]=T.call(null,n),ax())}else u=T}w[0]&&(d&&!x?u=!1:w[1]&&(u===""||u===vx(r))&&(u=!0))}return u}function Vre(t,n,r=!1){const u=n.propsCache,f=u.get(t);if(f)return f;const d=t.props,w={},x=[];let T=!1;if(!ms(t)){const $=B=>{T=!0;const[H,le]=Vre(B,n,!0);Ac(w,H),le&&x.push(...le)};!r&&n.mixins.length&&n.mixins.forEach($),t.extends&&$(t.extends),t.mixins&&t.mixins.forEach($)}if(!d&&!T)return oi(t)&&u.set(t,SI),SI;if(Yo(d))for(let $=0;$<d.length;$++){const B=qy(d[$]);Lne(B)&&(w[B]=ni)}else if(d)for(const $ in d){const B=qy($);if(Lne(B)){const H=d[$],le=w[B]=Yo(H)||ms(H)?{type:H}:Object.assign({},H);if(le){const ke=$ne(Boolean,le.type),Ne=$ne(String,le.type);le[0]=ke>-1,le[1]=Ne<0||ke<Ne,(ke>-1||lr(le,"default"))&&x.push(B)}}}const A=[w,x];return oi(t)&&u.set(t,A),A}function Lne(t){return t[0]!=="$"}function Bne(t){const n=t&&t.toString().match(/^\s*function (\w+)/);return n?n[1]:t===null?"null":""}function Fne(t,n){return Bne(t)===Bne(n)}function $ne(t,n){return Yo(n)?n.findIndex(r=>Fne(r,t)):ms(n)&&Fne(n,t)?0:-1}const Hre=t=>t[0]==="_"||t==="$stable",mQ=t=>Yo(t)?t.map(jy):[jy(t)],Nfe=(t,n,r)=>{if(n._n)return n;const u=is((...f)=>mQ(n(...f)),r);return u._c=!1,u},Ure=(t,n,r)=>{const u=t._ctx;for(const f in t){if(Hre(f))continue;const d=t[f];if(ms(d))n[f]=Nfe(f,d,u);else if(d!=null){const w=mQ(d);n[f]=()=>w}}},jre=(t,n)=>{const r=mQ(n);t.slots.default=()=>r},Lfe=(t,n)=>{if(t.vnode.shapeFlag&32){const r=n._;r?(t.slots=rr(n),yV(n,"_",r)):Ure(n,t.slots={})}else t.slots={},n&&jre(t,n);yV(t.slots,r7,1)},Bfe=(t,n,r)=>{const{vnode:u,slots:f}=t;let d=!0,w=ni;if(u.shapeFlag&32){const x=n._;x?r&&x===1?d=!1:(Ac(f,n),!r&&x===1&&delete f._):(d=!n.$stable,Ure(n,f)),w=n}else n&&(jre(t,n),w={default:1});if(d)for(const x in f)!Hre(x)&&!(x in w)&&delete f[x]};function Wre(){return{app:null,config:{isNativeTag:vde,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ffe=0;function $fe(t,n){return function(u,f=null){ms(u)||(u=Object.assign({},u)),f!=null&&!oi(f)&&(f=null);const d=Wre(),w=new Set;let x=!1;const T=d.app={_uid:Ffe++,_component:u,_props:f,_container:null,_context:d,_instance:null,version:lhe,get config(){return d.config},set config(A){},use(A,...$){return w.has(A)||(A&&ms(A.install)?(w.add(A),A.install(T,...$)):ms(A)&&(w.add(A),A(T,...$))),T},mixin(A){return d.mixins.includes(A)||d.mixins.push(A),T},component(A,$){return $?(d.components[A]=$,T):d.components[A]},directive(A,$){return $?(d.directives[A]=$,T):d.directives[A]},mount(A,$,B){if(!x){const H=Nn(u,f);return H.appContext=d,$&&n?n(H,A):t(H,A,B),x=!0,T._container=A,A.__vue_app__=T,a7(H.component)||H.component.proxy}},unmount(){x&&(t(null,T._container),delete T._container.__vue_app__)},provide(A,$){return d.provides[A]=$,T}};return T}}function rJ(t,n,r,u,f=!1){if(Yo(t)){t.forEach((H,le)=>rJ(H,n&&(Yo(n)?n[le]:n),r,u,f));return}if(CN(u)&&!f)return;const d=u.shapeFlag&4?a7(u.component)||u.component.proxy:u.el,w=f?null:d,{i:x,r:T}=t,A=n&&n.r,$=x.refs===ni?x.refs={}:x.refs,B=x.setupState;if(A!=null&&A!==T&&(gl(A)?($[A]=null,lr(B,A)&&(B[A]=null)):br(A)&&(A.value=null)),ms(T))b0(T,x,12,[w,$]);else{const H=gl(T),le=br(T);if(H||le){const ke=()=>{if(t.f){const Ne=H?lr(B,T)?B[T]:$[T]:T.value;f?Yo(Ne)&&KJ(Ne,d):Yo(Ne)?Ne.includes(d)||Ne.push(d):H?($[T]=[d],lr(B,T)&&(B[T]=$[T])):(T.value=[d],t.k&&($[t.k]=T.value))}else H?($[T]=w,lr(B,T)&&(B[T]=w)):le&&(T.value=w,t.k&&($[t.k]=w))};w?(ke.id=-1,Df(ke,r)):ke()}}}const Df=bfe;function Vfe(t){return Hfe(t)}function Hfe(t,n){const r=xde();r.__VUE__=!0;const{insert:u,remove:f,patchProp:d,createElement:w,createText:x,createComment:T,setText:A,setElementText:$,parentNode:B,nextSibling:H,setScopeId:le=rg,insertStaticContent:ke}=t,Ne=(re,Re,Oe,yt=null,Ye=null,ce=null,Fe=!1,et=null,$e=!!Re.dynamicChildren)=>{if(re===Re)return;re&&!ex(re,Re)&&(yt=me(re),Gn(re,Ye,ce,!0),re=null),Re.patchFlag===-2&&($e=!1,Re.dynamicChildren=null);const{type:oe,ref:be,shapeFlag:Xe}=Re;switch(oe){case s7:Se(re,Re,Oe,yt);break;case Lm:je(re,Re,Oe,yt);break;case dV:re==null&&gt(Re,Oe,yt,Fe);break;case qn:de(re,Re,Oe,yt,Ye,ce,Fe,et,$e);break;default:Xe&1?He(re,Re,Oe,yt,Ye,ce,Fe,et,$e):Xe&6?Tn(re,Re,Oe,yt,Ye,ce,Fe,et,$e):(Xe&64||Xe&128)&&oe.process(re,Re,Oe,yt,Ye,ce,Fe,et,$e,lt)}be!=null&&Ye&&rJ(be,re&&re.ref,ce,Re||re,!Re)},Se=(re,Re,Oe,yt)=>{if(re==null)u(Re.el=x(Re.children),Oe,yt);else{const Ye=Re.el=re.el;Re.children!==re.children&&A(Ye,Re.children)}},je=(re,Re,Oe,yt)=>{re==null?u(Re.el=T(Re.children||""),Oe,yt):Re.el=re.el},gt=(re,Re,Oe,yt)=>{[re.el,re.anchor]=ke(re.children,Re,Oe,yt,re.el,re.anchor)},ee=({el:re,anchor:Re},Oe,yt)=>{let Ye;for(;re&&re!==Re;)Ye=H(re),u(re,Oe,yt),re=Ye;u(Re,Oe,yt)},ht=({el:re,anchor:Re})=>{let Oe;for(;re&&re!==Re;)Oe=H(re),f(re),re=Oe;f(Re)},He=(re,Re,Oe,yt,Ye,ce,Fe,et,$e)=>{Fe=Fe||Re.type==="svg",re==null?Ze(Re,Oe,yt,Ye,ce,Fe,et,$e):st(re,Re,Ye,ce,Fe,et,$e)},Ze=(re,Re,Oe,yt,Ye,ce,Fe,et)=>{let $e,oe;const{type:be,props:Xe,shapeFlag:ut,transition:zt,dirs:Dt}=re;if($e=re.el=w(re.type,ce,Xe&&Xe.is,Xe),ut&8?$($e,re.children):ut&16&&Te(re.children,$e,null,yt,Ye,ce&&be!=="foreignObject",Fe,et),Dt&&jS(re,null,yt,"created"),Xe){for(const an in Xe)an!=="value"&&!cV(an)&&d($e,an,null,Xe[an],ce,re.children,yt,Ye,Ee);"value"in Xe&&d($e,"value",null,Xe.value),(oe=Xe.onVnodeBeforeMount)&&Uy(oe,yt,re)}J($e,re,re.scopeId,Fe,yt),Dt&&jS(re,null,yt,"beforeMount");const Vt=(!Ye||Ye&&!Ye.pendingBranch)&&zt&&!zt.persisted;Vt&&zt.beforeEnter($e),u($e,Re,Oe),((oe=Xe&&Xe.onVnodeMounted)||Vt||Dt)&&Df(()=>{oe&&Uy(oe,yt,re),Vt&&zt.enter($e),Dt&&jS(re,null,yt,"mounted")},Ye)},J=(re,Re,Oe,yt,Ye)=>{if(Oe&&le(re,Oe),yt)for(let ce=0;ce<yt.length;ce++)le(re,yt[ce]);if(Ye){let ce=Ye.subTree;if(Re===ce){const Fe=Ye.vnode;J(re,Fe,Fe.scopeId,Fe.slotScopeIds,Ye.parent)}}},Te=(re,Re,Oe,yt,Ye,ce,Fe,et,$e=0)=>{for(let oe=$e;oe<re.length;oe++){const be=re[oe]=et?l0(re[oe]):jy(re[oe]);Ne(null,be,Re,Oe,yt,Ye,ce,Fe,et)}},st=(re,Re,Oe,yt,Ye,ce,Fe)=>{const et=Re.el=re.el;let{patchFlag:$e,dynamicChildren:oe,dirs:be}=Re;$e|=re.patchFlag&16;const Xe=re.props||ni,ut=Re.props||ni;let zt;Oe&&WS(Oe,!1),(zt=ut.onVnodeBeforeUpdate)&&Uy(zt,Oe,Re,re),be&&jS(Re,re,Oe,"beforeUpdate"),Oe&&WS(Oe,!0);const Dt=Ye&&Re.type!=="foreignObject";if(oe?_t(re.dynamicChildren,oe,et,Oe,yt,Dt,ce):Fe||ot(re,Re,et,null,Oe,yt,Dt,ce,!1),$e>0){if($e&16)Ue(et,Re,Xe,ut,Oe,yt,Ye);else if($e&2&&Xe.class!==ut.class&&d(et,"class",null,ut.class,Ye),$e&4&&d(et,"style",Xe.style,ut.style,Ye),$e&8){const Vt=Re.dynamicProps;for(let an=0;an<Vt.length;an++){const _n=Vt[an],jn=Xe[_n],lo=ut[_n];(lo!==jn||_n==="value")&&d(et,_n,jn,lo,Ye,re.children,Oe,yt,Ee)}}$e&1&&re.children!==Re.children&&$(et,Re.children)}else!Fe&&oe==null&&Ue(et,Re,Xe,ut,Oe,yt,Ye);((zt=ut.onVnodeUpdated)||be)&&Df(()=>{zt&&Uy(zt,Oe,Re,re),be&&jS(Re,re,Oe,"updated")},yt)},_t=(re,Re,Oe,yt,Ye,ce,Fe)=>{for(let et=0;et<Re.length;et++){const $e=re[et],oe=Re[et],be=$e.el&&($e.type===qn||!ex($e,oe)||$e.shapeFlag&70)?B($e.el):Oe;Ne($e,oe,be,null,yt,Ye,ce,Fe,!0)}},Ue=(re,Re,Oe,yt,Ye,ce,Fe)=>{if(Oe!==yt){if(Oe!==ni)for(const et in Oe)!cV(et)&&!(et in yt)&&d(re,et,Oe[et],null,Fe,Re.children,Ye,ce,Ee);for(const et in yt){if(cV(et))continue;const $e=yt[et],oe=Oe[et];$e!==oe&&et!=="value"&&d(re,et,oe,$e,Fe,Re.children,Ye,ce,Ee)}"value"in yt&&d(re,"value",Oe.value,yt.value)}},de=(re,Re,Oe,yt,Ye,ce,Fe,et,$e)=>{const oe=Re.el=re?re.el:x(""),be=Re.anchor=re?re.anchor:x("");let{patchFlag:Xe,dynamicChildren:ut,slotScopeIds:zt}=Re;zt&&(et=et?et.concat(zt):zt),re==null?(u(oe,Oe,yt),u(be,Oe,yt),Te(Re.children,Oe,be,Ye,ce,Fe,et,$e)):Xe>0&&Xe&64&&ut&&re.dynamicChildren?(_t(re.dynamicChildren,ut,Oe,Ye,ce,Fe,et),(Re.key!=null||Ye&&Re===Ye.subTree)&&pQ(re,Re,!0)):ot(re,Re,Oe,be,Ye,ce,Fe,et,$e)},Tn=(re,Re,Oe,yt,Ye,ce,Fe,et,$e)=>{Re.slotScopeIds=et,re==null?Re.shapeFlag&512?Ye.ctx.activate(Re,Oe,yt,Fe,$e):nn(Re,Oe,yt,Ye,ce,Fe,$e):Ot(re,Re,$e)},nn=(re,Re,Oe,yt,Ye,ce,Fe)=>{const et=re.component=Qfe(re,yt,Ye);if(n7(re)&&(et.ctx.renderer=lt),ehe(et),et.asyncDep){if(Ye&&Ye.registerDep(et,L),!re.el){const $e=et.subTree=Nn(Lm);je(null,$e,Re,Oe)}return}L(et,re,Re,Oe,Ye,ce,Fe)},Ot=(re,Re,Oe)=>{const yt=Re.component=re.component;if(pfe(re,Re,Oe))if(yt.asyncDep&&!yt.asyncResolved){Ht(yt,Re,Oe);return}else yt.next=Re,cfe(yt.update),yt.update();else Re.el=re.el,yt.vnode=Re},L=(re,Re,Oe,yt,Ye,ce,Fe)=>{const et=()=>{if(re.isMounted){let{next:be,bu:Xe,u:ut,parent:zt,vnode:Dt}=re,Vt=be,an;WS(re,!1),be?(be.el=Dt.el,Ht(re,be,Fe)):be=Dt,Xe&&_X(Xe),(an=be.props&&be.props.onVnodeBeforeUpdate)&&Uy(an,zt,be,Dt),WS(re,!0);const _n=kX(re),jn=re.subTree;re.subTree=_n,Ne(jn,_n,B(jn.el),me(jn),re,Ye,ce),be.el=_n.el,Vt===null&&gfe(re,_n.el),ut&&Df(ut,Ye),(an=be.props&&be.props.onVnodeUpdated)&&Df(()=>Uy(an,zt,be,Dt),Ye)}else{let be;const{el:Xe,props:ut}=Re,{bm:zt,m:Dt,parent:Vt}=re,an=CN(Re);if(WS(re,!1),zt&&_X(zt),!an&&(be=ut&&ut.onVnodeBeforeMount)&&Uy(be,Vt,Re),WS(re,!0),Xe&&Tt){const _n=()=>{re.subTree=kX(re),Tt(Xe,re.subTree,re,Ye,null)};an?Re.type.__asyncLoader().then(()=>!re.isUnmounted&&_n()):_n()}else{const _n=re.subTree=kX(re);Ne(null,_n,Oe,yt,re,Ye,ce),Re.el=_n.el}if(Dt&&Df(Dt,Ye),!an&&(be=ut&&ut.onVnodeMounted)){const _n=Re;Df(()=>Uy(be,Vt,_n),Ye)}(Re.shapeFlag&256||Vt&&CN(Vt.vnode)&&Vt.vnode.shapeFlag&256)&&re.a&&Df(re.a,Ye),re.isMounted=!0,Re=Oe=yt=null}},$e=re.effect=new eQ(et,()=>iQ(oe),re.scope),oe=re.update=()=>$e.run();oe.id=re.uid,WS(re,!0),oe()},Ht=(re,Re,Oe)=>{Re.component=re;const yt=re.vnode.props;re.vnode=Re,re.next=null,zfe(re,Re.props,yt,Oe),Bfe(re,Re.children,Oe),ZI(),One(),GI()},ot=(re,Re,Oe,yt,Ye,ce,Fe,et,$e=!1)=>{const oe=re&&re.children,be=re?re.shapeFlag:0,Xe=Re.children,{patchFlag:ut,shapeFlag:zt}=Re;if(ut>0){if(ut&128){cn(oe,Xe,Oe,yt,Ye,ce,Fe,et,$e);return}else if(ut&256){Bn(oe,Xe,Oe,yt,Ye,ce,Fe,et,$e);return}}zt&8?(be&16&&Ee(oe,Ye,ce),Xe!==oe&&$(Oe,Xe)):be&16?zt&16?cn(oe,Xe,Oe,yt,Ye,ce,Fe,et,$e):Ee(oe,Ye,ce,!0):(be&8&&$(Oe,""),zt&16&&Te(Xe,Oe,yt,Ye,ce,Fe,et,$e))},Bn=(re,Re,Oe,yt,Ye,ce,Fe,et,$e)=>{re=re||SI,Re=Re||SI;const oe=re.length,be=Re.length,Xe=Math.min(oe,be);let ut;for(ut=0;ut<Xe;ut++){const zt=Re[ut]=$e?l0(Re[ut]):jy(Re[ut]);Ne(re[ut],zt,Oe,null,Ye,ce,Fe,et,$e)}oe>be?Ee(re,Ye,ce,!0,!1,Xe):Te(Re,Oe,yt,Ye,ce,Fe,et,$e,Xe)},cn=(re,Re,Oe,yt,Ye,ce,Fe,et,$e)=>{let oe=0;const be=Re.length;let Xe=re.length-1,ut=be-1;for(;oe<=Xe&&oe<=ut;){const zt=re[oe],Dt=Re[oe]=$e?l0(Re[oe]):jy(Re[oe]);if(ex(zt,Dt))Ne(zt,Dt,Oe,null,Ye,ce,Fe,et,$e);else break;oe++}for(;oe<=Xe&&oe<=ut;){const zt=re[Xe],Dt=Re[ut]=$e?l0(Re[ut]):jy(Re[ut]);if(ex(zt,Dt))Ne(zt,Dt,Oe,null,Ye,ce,Fe,et,$e);else break;Xe--,ut--}if(oe>Xe){if(oe<=ut){const zt=ut+1,Dt=zt<be?Re[zt].el:yt;for(;oe<=ut;)Ne(null,Re[oe]=$e?l0(Re[oe]):jy(Re[oe]),Oe,Dt,Ye,ce,Fe,et,$e),oe++}}else if(oe>ut)for(;oe<=Xe;)Gn(re[oe],Ye,ce,!0),oe++;else{const zt=oe,Dt=oe,Vt=new Map;for(oe=Dt;oe<=ut;oe++){const jo=Re[oe]=$e?l0(Re[oe]):jy(Re[oe]);jo.key!=null&&Vt.set(jo.key,oe)}let an,_n=0;const jn=ut-Dt+1;let lo=!1,mo=0;const Ao=new Array(jn);for(oe=0;oe<jn;oe++)Ao[oe]=0;for(oe=zt;oe<=Xe;oe++){const jo=re[oe];if(_n>=jn){Gn(jo,Ye,ce,!0);continue}let zs;if(jo.key!=null)zs=Vt.get(jo.key);else for(an=Dt;an<=ut;an++)if(Ao[an-Dt]===0&&ex(jo,Re[an])){zs=an;break}zs===void 0?Gn(jo,Ye,ce,!0):(Ao[zs-Dt]=oe+1,zs>=mo?mo=zs:lo=!0,Ne(jo,Re[zs],Oe,null,Ye,ce,Fe,et,$e),_n++)}const ks=lo?Ufe(Ao):SI;for(an=ks.length-1,oe=jn-1;oe>=0;oe--){const jo=Dt+oe,zs=Re[jo],Dl=jo+1<be?Re[jo+1].el:yt;Ao[oe]===0?Ne(null,zs,Oe,Dl,Ye,ce,Fe,et,$e):lo&&(an<0||oe!==ks[an]?it(zs,Oe,Dl,2):an--)}}},it=(re,Re,Oe,yt,Ye=null)=>{const{el:ce,type:Fe,transition:et,children:$e,shapeFlag:oe}=re;if(oe&6){it(re.component.subTree,Re,Oe,yt);return}if(oe&128){re.suspense.move(Re,Oe,yt);return}if(oe&64){Fe.move(re,Re,Oe,lt);return}if(Fe===qn){u(ce,Re,Oe);for(let Xe=0;Xe<$e.length;Xe++)it($e[Xe],Re,Oe,yt);u(re.anchor,Re,Oe);return}if(Fe===dV){ee(re,Re,Oe);return}if(yt!==2&&oe&1&&et)if(yt===0)et.beforeEnter(ce),u(ce,Re,Oe),Df(()=>et.enter(ce),Ye);else{const{leave:Xe,delayLeave:ut,afterLeave:zt}=et,Dt=()=>u(ce,Re,Oe),Vt=()=>{Xe(ce,()=>{Dt(),zt&&zt()})};ut?ut(ce,Dt,Vt):Vt()}else u(ce,Re,Oe)},Gn=(re,Re,Oe,yt=!1,Ye=!1)=>{const{type:ce,props:Fe,ref:et,children:$e,dynamicChildren:oe,shapeFlag:be,patchFlag:Xe,dirs:ut}=re;if(et!=null&&rJ(et,null,Oe,re,!0),be&256){Re.ctx.deactivate(re);return}const zt=be&1&&ut,Dt=!CN(re);let Vt;if(Dt&&(Vt=Fe&&Fe.onVnodeBeforeUnmount)&&Uy(Vt,Re,re),be&6)Et(re.component,Oe,yt);else{if(be&128){re.suspense.unmount(Oe,yt);return}zt&&jS(re,null,Re,"beforeUnmount"),be&64?re.type.remove(re,Re,Oe,Ye,lt,yt):oe&&(ce!==qn||Xe>0&&Xe&64)?Ee(oe,Re,Oe,!1,!0):(ce===qn&&Xe&384||!Ye&&be&16)&&Ee($e,Re,Oe),yt&&io(re)}(Dt&&(Vt=Fe&&Fe.onVnodeUnmounted)||zt)&&Df(()=>{Vt&&Uy(Vt,Re,re),zt&&jS(re,null,Re,"unmounted")},Oe)},io=re=>{const{type:Re,el:Oe,anchor:yt,transition:Ye}=re;if(Re===qn){uo(Oe,yt);return}if(Re===dV){ht(re);return}const ce=()=>{f(Oe),Ye&&!Ye.persisted&&Ye.afterLeave&&Ye.afterLeave()};if(re.shapeFlag&1&&Ye&&!Ye.persisted){const{leave:Fe,delayLeave:et}=Ye,$e=()=>Fe(Oe,ce);et?et(re.el,ce,$e):$e()}else ce()},uo=(re,Re)=>{let Oe;for(;re!==Re;)Oe=H(re),f(re),re=Oe;f(Re)},Et=(re,Re,Oe)=>{const{bum:yt,scope:Ye,update:ce,subTree:Fe,um:et}=re;yt&&_X(yt),Ye.stop(),ce&&(ce.active=!1,Gn(Fe,re,Re,Oe)),et&&Df(et,Re),Df(()=>{re.isUnmounted=!0},Re),Re&&Re.pendingBranch&&!Re.isUnmounted&&re.asyncDep&&!re.asyncResolved&&re.suspenseId===Re.pendingId&&(Re.deps--,Re.deps===0&&Re.resolve())},Ee=(re,Re,Oe,yt=!1,Ye=!1,ce=0)=>{for(let Fe=ce;Fe<re.length;Fe++)Gn(re[Fe],Re,Oe,yt,Ye)},me=re=>re.shapeFlag&6?me(re.component.subTree):re.shapeFlag&128?re.suspense.next():H(re.anchor||re.el),j=(re,Re,Oe)=>{re==null?Re._vnode&&Gn(Re._vnode,null,null,!0):Ne(Re._vnode||null,re,Re,null,null,null,Oe),One(),Sre(),Re._vnode=re},lt={p:Ne,um:Gn,m:it,r:io,mt:nn,mc:Te,pc:ot,pbc:_t,n:me,o:t};let Je,Tt;return n&&([Je,Tt]=n(lt)),{render:j,hydrate:Je,createApp:$fe(j,Je)}}function WS({effect:t,update:n},r){t.allowRecurse=n.allowRecurse=r}function pQ(t,n,r=!1){const u=t.children,f=n.children;if(Yo(u)&&Yo(f))for(let d=0;d<u.length;d++){const w=u[d];let x=f[d];x.shapeFlag&1&&!x.dynamicChildren&&((x.patchFlag<=0||x.patchFlag===32)&&(x=f[d]=l0(f[d]),x.el=w.el),r||pQ(w,x)),x.type===s7&&(x.el=w.el)}}function Ufe(t){const n=t.slice(),r=[0];let u,f,d,w,x;const T=t.length;for(u=0;u<T;u++){const A=t[u];if(A!==0){if(f=r[r.length-1],t[f]<A){n[u]=f,r.push(u);continue}for(d=0,w=r.length-1;d<w;)x=d+w>>1,t[r[x]]<A?d=x+1:w=x;A<t[r[d]]&&(d>0&&(n[u]=r[d-1]),r[d]=u)}}for(d=r.length,w=r[d-1];d-- >0;)r[d]=w,w=n[w];return r}const jfe=t=>t.__isTeleport,xN=t=>t&&(t.disabled||t.disabled===""),Vne=t=>typeof SVGElement<"u"&&t instanceof SVGElement,aJ=(t,n)=>{const r=t&&t.to;return gl(r)?n?n(r):null:r},Wfe={__isTeleport:!0,process(t,n,r,u,f,d,w,x,T,A){const{mc:$,pc:B,pbc:H,o:{insert:le,querySelector:ke,createText:Ne,createComment:Se}}=A,je=xN(n.props);let{shapeFlag:gt,children:ee,dynamicChildren:ht}=n;if(t==null){const He=n.el=Ne(""),Ze=n.anchor=Ne("");le(He,r,u),le(Ze,r,u);const J=n.target=aJ(n.props,ke),Te=n.targetAnchor=Ne("");J&&(le(Te,J),w=w||Vne(J));const st=(_t,Ue)=>{gt&16&&$(ee,_t,Ue,f,d,w,x,T)};je?st(r,Ze):J&&st(J,Te)}else{n.el=t.el;const He=n.anchor=t.anchor,Ze=n.target=t.target,J=n.targetAnchor=t.targetAnchor,Te=xN(t.props),st=Te?r:Ze,_t=Te?He:J;if(w=w||Vne(Ze),ht?(H(t.dynamicChildren,ht,st,f,d,w,x),pQ(t,n,!0)):T||B(t,n,st,_t,f,d,w,x,!1),je)Te||Q8(n,r,He,A,1);else if((n.props&&n.props.to)!==(t.props&&t.props.to)){const Ue=n.target=aJ(n.props,ke);Ue&&Q8(n,Ue,null,A,0)}else Te&&Q8(n,Ze,J,A,1)}Zre(n)},remove(t,n,r,u,{um:f,o:{remove:d}},w){const{shapeFlag:x,children:T,anchor:A,targetAnchor:$,target:B,props:H}=t;if(B&&d($),(w||!xN(H))&&(d(A),x&16))for(let le=0;le<T.length;le++){const ke=T[le];f(ke,n,r,!0,!!ke.dynamicChildren)}},move:Q8,hydrate:Zfe};function Q8(t,n,r,{o:{insert:u},m:f},d=2){d===0&&u(t.targetAnchor,n,r);const{el:w,anchor:x,shapeFlag:T,children:A,props:$}=t,B=d===2;if(B&&u(w,n,r),(!B||xN($))&&T&16)for(let H=0;H<A.length;H++)f(A[H],n,r,2);B&&u(x,n,r)}function Zfe(t,n,r,u,f,d,{o:{nextSibling:w,parentNode:x,querySelector:T}},A){const $=n.target=aJ(n.props,T);if($){const B=$._lpa||$.firstChild;if(n.shapeFlag&16)if(xN(n.props))n.anchor=A(w(t),n,x(t),r,u,f,d),n.targetAnchor=B;else{n.anchor=w(t);let H=B;for(;H;)if(H=w(H),H&&H.nodeType===8&&H.data==="teleport anchor"){n.targetAnchor=H,$._lpa=n.targetAnchor&&w(n.targetAnchor);break}A(B,n,$,r,u,f,d)}Zre(n)}return n.anchor&&w(n.anchor)}const Gfe=Wfe;function Zre(t){const n=t.ctx;if(n&&n.ut){let r=t.children[0].el;for(;r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}const qn=Symbol(void 0),s7=Symbol(void 0),Lm=Symbol(void 0),dV=Symbol(void 0),EN=[];let og=null;function ye(t=!1){EN.push(og=t?null:[])}function qfe(){EN.pop(),og=EN[EN.length-1]||null}let ZN=1;function Hne(t){ZN+=t}function Gre(t){return t.dynamicChildren=ZN>0?og||SI:null,qfe(),ZN>0&&og&&og.push(t),t}function Pe(t,n,r,u,f,d){return Gre(rt(t,n,r,u,f,d,!0))}function Mn(t,n,r,u,f){return Gre(Nn(t,n,r,u,f,!0))}function _V(t){return t?t.__v_isVNode===!0:!1}function ex(t,n){return t.type===n.type&&t.key===n.key}const r7="__vInternal",qre=({key:t})=>t!=null?t:null,fV=({ref:t,ref_key:n,ref_for:r})=>t!=null?gl(t)||br(t)||ms(t)?{i:lu,r:t,k:n,f:!!r}:t:null;function rt(t,n=null,r=null,u=0,f=null,d=t===qn?0:1,w=!1,x=!1){const T={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&qre(n),ref:n&&fV(n),scopeId:t7,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:u,dynamicProps:f,dynamicChildren:null,appContext:null,ctx:lu};return x?(gQ(T,r),d&128&&t.normalize(T)):r&&(T.shapeFlag|=gl(r)?8:16),ZN>0&&!w&&og&&(T.patchFlag>0||d&6)&&T.patchFlag!==32&&og.push(T),T}const Nn=Kfe;function Kfe(t,n=null,r=null,u=0,f=null,d=!1){if((!t||t===Lre)&&(t=Lm),_V(t)){const x=I0(t,n,!0);return r&&gQ(x,r),ZN>0&&!d&&og&&(x.shapeFlag&6?og[og.indexOf(t)]=x:og.push(x)),x.patchFlag|=-2,x}if(rhe(t)&&(t=t.__vccOpts),n){n=Yfe(n);let{class:x,style:T}=n;x&&!gl(x)&&(n.class=rn(x)),oi(T)&&(gre(T)&&!Yo(T)&&(T=Ac({},T)),n.style=yr(T))}const w=gl(t)?1:yfe(t)?128:jfe(t)?64:oi(t)?4:ms(t)?2:0;return rt(t,n,r,u,f,w,d,!0)}function Yfe(t){return t?gre(t)||r7 in t?Ac({},t):t:null}function I0(t,n,r=!1){const{props:u,ref:f,patchFlag:d,children:w}=t,x=n?cr(u||{},n):u;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:x,key:x&&qre(x),ref:n&&n.ref?r&&f?Yo(f)?f.concat(fV(n)):[f,fV(n)]:fV(n):f,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:w,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==qn?d===-1?16:d|16:d,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&I0(t.ssContent),ssFallback:t.ssFallback&&I0(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function Zu(t=" ",n=0){return Nn(s7,null,t,n)}function ORe(t,n){const r=Nn(dV,null,t);return r.staticCount=n,r}function Ut(t="",n=!1){return n?(ye(),Mn(Lm,null,t)):Nn(Lm,null,t)}function jy(t){return t==null||typeof t=="boolean"?Nn(Lm):Yo(t)?Nn(qn,null,t.slice()):typeof t=="object"?l0(t):Nn(s7,null,String(t))}function l0(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:I0(t)}function gQ(t,n){let r=0;const{shapeFlag:u}=t;if(n==null)n=null;else if(Yo(n))r=16;else if(typeof n=="object")if(u&65){const f=n.default;f&&(f._c&&(f._d=!1),gQ(t,f()),f._c&&(f._d=!0));return}else{r=32;const f=n._;!f&&!(r7 in n)?n._ctx=lu:f===3&&lu&&(lu.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else ms(n)?(n={default:n,_ctx:lu},r=32):(n=String(n),u&64?(r=16,n=[Zu(n)]):r=8);t.children=n,t.shapeFlag|=r}function cr(...t){const n={};for(let r=0;r<t.length;r++){const u=t[r];for(const f in u)if(f==="class")n.class!==u.class&&(n.class=rn([n.class,u.class]));else if(f==="style")n.style=yr([n.style,u.style]);else if(qV(f)){const d=n[f],w=u[f];w&&d!==w&&!(Yo(d)&&d.includes(w))&&(n[f]=d?[].concat(d,w):w)}else f!==""&&(n[f]=u[f])}return n}function Uy(t,n,r,u=null){Nm(t,n,7,[r,u])}const Xfe=Wre();let Jfe=0;function Qfe(t,n,r){const u=t.type,f=(n?n.appContext:t.appContext)||Xfe,d={uid:Jfe++,vnode:t,type:u,parent:n,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,scope:new ore(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(f.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vre(u,f),emitsOptions:Ere(u,f),emit:null,emitted:null,propsDefaults:ni,inheritAttrs:u.inheritAttrs,ctx:ni,data:ni,props:ni,attrs:ni,slots:ni,refs:ni,setupState:ni,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=n?n.root:d,d.emit=ffe.bind(null,d),t.ce&&t.ce(d),d}let Ic=null;const k1=()=>Ic||lu,MI=t=>{Ic=t,t.scope.on()},ax=()=>{Ic&&Ic.scope.off(),Ic=null};function Kre(t){return t.vnode.shapeFlag&4}let GN=!1;function ehe(t,n=!1){GN=n;const{props:r,children:u}=t.vnode,f=Kre(t);Pfe(t,r,f,n),Lfe(t,u);const d=f?the(t,n):void 0;return GN=!1,d}function the(t,n){const r=t.type;t.accessCache=Object.create(null),t.proxy=R0(new Proxy(t.ctx,Rfe));const{setup:u}=r;if(u){const f=t.setupContext=u.length>1?ohe(t):null;MI(t),ZI();const d=b0(u,t,0,[t.props,f]);if(GI(),ax(),ere(d)){if(d.then(ax,ax),n)return d.then(w=>{Une(t,w,n)}).catch(w=>{QV(w,t,0)});t.asyncDep=d}else Une(t,d,n)}else Yre(t,n)}function Une(t,n,r){ms(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:oi(n)&&(t.setupState=wre(n)),Yre(t,r)}let jne;function Yre(t,n,r){const u=t.type;if(!t.render){if(!n&&jne&&!u.render){const f=u.template||hQ(t).template;if(f){const{isCustomElement:d,compilerOptions:w}=t.appContext.config,{delimiters:x,compilerOptions:T}=u,A=Ac(Ac({isCustomElement:d,delimiters:x},w),T);u.render=jne(f,A)}}t.render=u.render||rg}MI(t),ZI(),Ife(t),GI(),ax()}function nhe(t){return new Proxy(t.attrs,{get(n,r){return Mh(t,"get","$attrs"),n[r]}})}function ohe(t){const n=u=>{t.exposed=u||{}};let r;return{get attrs(){return r||(r=nhe(t))},slots:t.slots,emit:t.emit,expose:n}}function a7(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(wre(R0(t.exposed)),{get(n,r){if(r in n)return n[r];if(r in SN)return SN[r](t)},has(n,r){return r in n||r in SN}}))}function she(t,n=!0){return ms(t)?t.displayName||t.name:t.name||n&&t.__name}function rhe(t){return ms(t)&&"__vccOpts"in t}const To=(t,n)=>afe(t,n,GN);function Ph(t,n,r){const u=arguments.length;return u===2?oi(n)&&!Yo(n)?_V(n)?Nn(t,null,[n]):Nn(t,n):Nn(t,null,n):(u>3?r=Array.prototype.slice.call(arguments,2):u===3&&_V(r)&&(r=[r]),Nn(t,n,r))}const ahe=Symbol(""),ihe=()=>cu(ahe),lhe="3.2.45",che="http://www.w3.org/2000/svg",tx=typeof document<"u"?document:null,Wne=tx&&tx.createElement("template"),uhe={insert:(t,n,r)=>{n.insertBefore(t,r||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,r,u)=>{const f=n?tx.createElementNS(che,t):tx.createElement(t,r?{is:r}:void 0);return t==="select"&&u&&u.multiple!=null&&f.setAttribute("multiple",u.multiple),f},createText:t=>tx.createTextNode(t),createComment:t=>tx.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>tx.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,r,u,f,d){const w=r?r.previousSibling:n.lastChild;if(f&&(f===d||f.nextSibling))for(;n.insertBefore(f.cloneNode(!0),r),!(f===d||!(f=f.nextSibling)););else{Wne.innerHTML=u?`<svg>${t}</svg>`:t;const x=Wne.content;if(u){const T=x.firstChild;for(;T.firstChild;)x.appendChild(T.firstChild);x.removeChild(T)}n.insertBefore(x,r)}return[w?w.nextSibling:n.firstChild,r?r.previousSibling:n.lastChild]}};function dhe(t,n,r){const u=t._vtc;u&&(n=(n?[n,...u]:[...u]).join(" ")),n==null?t.removeAttribute("class"):r?t.setAttribute("class",n):t.className=n}function fhe(t,n,r){const u=t.style,f=gl(r);if(r&&!f){for(const d in r)iJ(u,d,r[d]);if(n&&!gl(n))for(const d in n)r[d]==null&&iJ(u,d,"")}else{const d=u.display;f?n!==r&&(u.cssText=r):n&&t.removeAttribute("style"),"_vod"in t&&(u.display=d)}}const Zne=/\s*!important$/;function iJ(t,n,r){if(Yo(r))r.forEach(u=>iJ(t,n,u));else if(r==null&&(r=""),n.startsWith("--"))t.setProperty(n,r);else{const u=hhe(t,n);Zne.test(r)?t.setProperty(vx(u),r.replace(Zne,""),"important"):t[u]=r}}const Gne=["Webkit","Moz","ms"],xX={};function hhe(t,n){const r=xX[n];if(r)return r;let u=qy(n);if(u!=="filter"&&u in t)return xX[n]=u;u=XV(u);for(let f=0;f<Gne.length;f++){const d=Gne[f]+u;if(d in t)return xX[n]=d}return n}const qne="http://www.w3.org/1999/xlink";function mhe(t,n,r,u,f){if(u&&n.startsWith("xlink:"))r==null?t.removeAttributeNS(qne,n.slice(6,n.length)):t.setAttributeNS(qne,n,r);else{const d=bde(n);r==null||d&&!Xse(r)?t.removeAttribute(n):t.setAttribute(n,d?"":r)}}function phe(t,n,r,u,f,d,w){if(n==="innerHTML"||n==="textContent"){u&&w(u,f,d),t[n]=r==null?"":r;return}if(n==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=r;const T=r==null?"":r;(t.value!==T||t.tagName==="OPTION")&&(t.value=T),r==null&&t.removeAttribute(n);return}let x=!1;if(r===""||r==null){const T=typeof t[n];T==="boolean"?r=Xse(r):r==null&&T==="string"?(r="",x=!0):T==="number"&&(r=0,x=!0)}try{t[n]=r}catch{}x&&t.removeAttribute(n)}function ghe(t,n,r,u){t.addEventListener(n,r,u)}function yhe(t,n,r,u){t.removeEventListener(n,r,u)}function bhe(t,n,r,u,f=null){const d=t._vei||(t._vei={}),w=d[n];if(u&&w)w.value=u;else{const[x,T]=vhe(n);if(u){const A=d[n]=khe(u,f);ghe(t,x,A,T)}else w&&(yhe(t,x,w,T),d[n]=void 0)}}const Kne=/(?:Once|Passive|Capture)$/;function vhe(t){let n;if(Kne.test(t)){n={};let u;for(;u=t.match(Kne);)t=t.slice(0,t.length-u[0].length),n[u[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):vx(t.slice(2)),n]}let EX=0;const whe=Promise.resolve(),_he=()=>EX||(whe.then(()=>EX=0),EX=Date.now());function khe(t,n){const r=u=>{if(!u._vts)u._vts=Date.now();else if(u._vts<=r.attached)return;Nm(Che(u,r.value),n,5,[u])};return r.value=t,r.attached=_he(),r}function Che(t,n){if(Yo(n)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},n.map(u=>f=>!f._stopped&&u&&u(f))}else return n}const Yne=/^on[a-z]/,She=(t,n,r,u,f=!1,d,w,x,T)=>{n==="class"?dhe(t,u,f):n==="style"?fhe(t,r,u):qV(n)?qJ(n)||bhe(t,n,r,u,w):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):xhe(t,n,u,f))?phe(t,n,u,d,w,x,T):(n==="true-value"?t._trueValue=u:n==="false-value"&&(t._falseValue=u),mhe(t,n,u,f))};function xhe(t,n,r,u){return u?!!(n==="innerHTML"||n==="textContent"||n in t&&Yne.test(n)&&ms(r)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA"||Yne.test(n)&&gl(r)?!1:n in t}const n0="transition",hN="animation",Pf=(t,{slots:n})=>Ph(Ire,Jre(t),n);Pf.displayName="Transition";const Xre={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ehe=Pf.props=Ac({},Ire.props,Xre),ZS=(t,n=[])=>{Yo(t)?t.forEach(r=>r(...n)):t&&t(...n)},Xne=t=>t?Yo(t)?t.some(n=>n.length>1):t.length>1:!1;function Jre(t){const n={};for(const de in t)de in Xre||(n[de]=t[de]);if(t.css===!1)return n;const{name:r="v",type:u,duration:f,enterFromClass:d=`${r}-enter-from`,enterActiveClass:w=`${r}-enter-active`,enterToClass:x=`${r}-enter-to`,appearFromClass:T=d,appearActiveClass:A=w,appearToClass:$=x,leaveFromClass:B=`${r}-leave-from`,leaveActiveClass:H=`${r}-leave-active`,leaveToClass:le=`${r}-leave-to`}=t,ke=The(f),Ne=ke&&ke[0],Se=ke&&ke[1],{onBeforeEnter:je,onEnter:gt,onEnterCancelled:ee,onLeave:ht,onLeaveCancelled:He,onBeforeAppear:Ze=je,onAppear:J=gt,onAppearCancelled:Te=ee}=n,st=(de,Tn,nn)=>{r0(de,Tn?$:x),r0(de,Tn?A:w),nn&&nn()},_t=(de,Tn)=>{de._isLeaving=!1,r0(de,B),r0(de,le),r0(de,H),Tn&&Tn()},Ue=de=>(Tn,nn)=>{const Ot=de?J:gt,L=()=>st(Tn,de,nn);ZS(Ot,[Tn,L]),Jne(()=>{r0(Tn,de?T:d),l1(Tn,de?$:x),Xne(Ot)||Qne(Tn,u,Ne,L)})};return Ac(n,{onBeforeEnter(de){ZS(je,[de]),l1(de,d),l1(de,w)},onBeforeAppear(de){ZS(Ze,[de]),l1(de,T),l1(de,A)},onEnter:Ue(!1),onAppear:Ue(!0),onLeave(de,Tn){de._isLeaving=!0;const nn=()=>_t(de,Tn);l1(de,B),eae(),l1(de,H),Jne(()=>{!de._isLeaving||(r0(de,B),l1(de,le),Xne(ht)||Qne(de,u,Se,nn))}),ZS(ht,[de,nn])},onEnterCancelled(de){st(de,!1),ZS(ee,[de])},onAppearCancelled(de){st(de,!0),ZS(Te,[de])},onLeaveCancelled(de){_t(de),ZS(He,[de])}})}function The(t){if(t==null)return null;if(oi(t))return[TX(t.enter),TX(t.leave)];{const n=TX(t);return[n,n]}}function TX(t){return JJ(t)}function l1(t,n){n.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t._vtc||(t._vtc=new Set)).add(n)}function r0(t,n){n.split(/\s+/).forEach(u=>u&&t.classList.remove(u));const{_vtc:r}=t;r&&(r.delete(n),r.size||(t._vtc=void 0))}function Jne(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Rhe=0;function Qne(t,n,r,u){const f=t._endId=++Rhe,d=()=>{f===t._endId&&u()};if(r)return setTimeout(d,r);const{type:w,timeout:x,propCount:T}=Qre(t,n);if(!w)return u();const A=w+"end";let $=0;const B=()=>{t.removeEventListener(A,H),d()},H=le=>{le.target===t&&++$>=T&&B()};setTimeout(()=>{$<T&&B()},x+1),t.addEventListener(A,H)}function Qre(t,n){const r=window.getComputedStyle(t),u=ke=>(r[ke]||"").split(", "),f=u(`${n0}Delay`),d=u(`${n0}Duration`),w=eoe(f,d),x=u(`${hN}Delay`),T=u(`${hN}Duration`),A=eoe(x,T);let $=null,B=0,H=0;n===n0?w>0&&($=n0,B=w,H=d.length):n===hN?A>0&&($=hN,B=A,H=T.length):(B=Math.max(w,A),$=B>0?w>A?n0:hN:null,H=$?$===n0?d.length:T.length:0);const le=$===n0&&/\b(transform|all)(,|$)/.test(u(`${n0}Property`).toString());return{type:$,timeout:B,propCount:H,hasTransform:le}}function eoe(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((r,u)=>toe(r)+toe(t[u])))}function toe(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function eae(){return document.body.offsetHeight}const tae=new WeakMap,nae=new WeakMap,Ihe={name:"TransitionGroup",props:Ac({},Ehe,{tag:String,moveClass:String}),setup(t,{slots:n}){const r=k1(),u=Rre();let f,d;return zre(()=>{if(!f.length)return;const w=t.moveClass||`${t.name||"v"}-move`;if(!Phe(f[0].el,r.vnode.el,w))return;f.forEach(Ohe),f.forEach(Dhe);const x=f.filter(Mhe);eae(),x.forEach(T=>{const A=T.el,$=A.style;l1(A,w),$.transform=$.webkitTransform=$.transitionDuration="";const B=A._moveCb=H=>{H&&H.target!==A||(!H||/transform$/.test(H.propertyName))&&(A.removeEventListener("transitionend",B),A._moveCb=null,r0(A,w))};A.addEventListener("transitionend",B)})}),()=>{const w=rr(t),x=Jre(w);let T=w.tag||qn;f=d,d=n.default?uQ(n.default()):[];for(let A=0;A<d.length;A++){const $=d[A];$.key!=null&&WN($,jN($,x,u,r))}if(f)for(let A=0;A<f.length;A++){const $=f[A];WN($,jN($,x,u,r)),tae.set($,$.el.getBoundingClientRect())}return Nn(T,null,d)}}},Ahe=Ihe;function Ohe(t){const n=t.el;n._moveCb&&n._moveCb(),n._enterCb&&n._enterCb()}function Dhe(t){nae.set(t,t.el.getBoundingClientRect())}function Mhe(t){const n=tae.get(t),r=nae.get(t),u=n.left-r.left,f=n.top-r.top;if(u||f){const d=t.el.style;return d.transform=d.webkitTransform=`translate(${u}px,${f}px)`,d.transitionDuration="0s",t}}function Phe(t,n,r){const u=t.cloneNode();t._vtc&&t._vtc.forEach(w=>{w.split(/\s+/).forEach(x=>x&&u.classList.remove(x))}),r.split(/\s+/).forEach(w=>w&&u.classList.add(w)),u.style.display="none";const f=n.nodeType===1?n:n.parentNode;f.appendChild(u);const{hasTransform:d}=Qre(u);return f.removeChild(u),d}const zhe=["ctrl","shift","alt","meta"],Nhe={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>zhe.some(r=>t[`${r}Key`]&&!n.includes(r))},yQ=(t,n)=>(r,...u)=>{for(let f=0;f<n.length;f++){const d=Nhe[n[f]];if(d&&d(r,n))return}return t(r,...u)},Lhe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ix=(t,n)=>r=>{if(!("key"in r))return;const u=vx(r.key);if(n.some(f=>f===u||Lhe[f]===u))return t(r)},bQ={beforeMount(t,{value:n},{transition:r}){t._vod=t.style.display==="none"?"":t.style.display,r&&n?r.beforeEnter(t):mN(t,n)},mounted(t,{value:n},{transition:r}){r&&n&&r.enter(t)},updated(t,{value:n,oldValue:r},{transition:u}){!n!=!r&&(u?n?(u.beforeEnter(t),mN(t,!0),u.enter(t)):u.leave(t,()=>{mN(t,!1)}):mN(t,n))},beforeUnmount(t,{value:n}){mN(t,n)}};function mN(t,n){t.style.display=n?t._vod:"none"}const Bhe=Ac({patchProp:She},uhe);let noe;function Fhe(){return noe||(noe=Vfe(Bhe))}const $he=(...t)=>{const n=Fhe().createApp(...t),{mount:r}=n;return n.mount=u=>{const f=Vhe(u);if(!f)return;const d=n._component;!ms(d)&&!d.render&&!d.template&&(d.template=f.innerHTML),f.innerHTML="";const w=r(f,!1,f instanceof SVGElement);return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),w},n};function Vhe(t){return gl(t)?document.querySelector(t):t}var Hhe=!1;/*!
  * pinia v2.0.27
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let oae;const i7=t=>oae=t,sae=Symbol();function lJ(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var TN;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(TN||(TN={}));function Uhe(){const t=sre(!0),n=t.run(()=>as({}));let r=[],u=[];const f=R0({install(d){i7(f),f._a=d,d.provide(sae,f),d.config.globalProperties.$pinia=f,u.forEach(w=>r.push(w)),u=[]},use(d){return!this._a&&!Hhe?u.push(d):r.push(d),this},_p:r,_a:null,_e:t,_s:new Map,state:n});return f}const rae=()=>{};function ooe(t,n,r,u=rae){t.push(n);const f=()=>{const d=t.indexOf(n);d>-1&&(t.splice(d,1),u())};return!r&&Tde()&&Rde(f),f}function yI(t,...n){t.slice().forEach(r=>{r(...n)})}function cJ(t,n){t instanceof Map&&n instanceof Map&&n.forEach((r,u)=>t.set(u,r)),t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const r in n){if(!n.hasOwnProperty(r))continue;const u=n[r],f=t[r];lJ(f)&&lJ(u)&&t.hasOwnProperty(r)&&!br(u)&&!m1(u)?t[r]=cJ(f,u):t[r]=u}return t}const jhe=Symbol();function Whe(t){return!lJ(t)||!t.hasOwnProperty(jhe)}const{assign:c0}=Object;function Zhe(t){return!!(br(t)&&t.effect)}function Ghe(t,n,r,u){const{state:f,actions:d,getters:w}=n,x=r.state.value[t];let T;function A(){x||(r.state.value[t]=f?f():{});const $=VN(r.state.value[t]);return c0($,d,Object.keys(w||{}).reduce((B,H)=>(B[H]=R0(To(()=>{i7(r);const le=r._s.get(t);return w[H].call(le,le)})),B),{}))}return T=aae(t,A,n,r,u,!0),T.$reset=function(){const B=f?f():{};this.$patch(H=>{c0(H,B)})},T}function aae(t,n,r={},u,f,d){let w;const x=c0({actions:{}},r),T={deep:!0};let A,$,B=R0([]),H=R0([]),le;const ke=u.state.value[t];!d&&!ke&&(u.state.value[t]={}),as({});let Ne;function Se(J){let Te;A=$=!1,typeof J=="function"?(J(u.state.value[t]),Te={type:TN.patchFunction,storeId:t,events:le}):(cJ(u.state.value[t],J),Te={type:TN.patchObject,payload:J,storeId:t,events:le});const st=Ne=Symbol();Vd().then(()=>{Ne===st&&(A=!0)}),$=!0,yI(B,Te,u.state.value[t])}const je=rae;function gt(){w.stop(),B=[],H=[],u._s.delete(t)}function ee(J,Te){return function(){i7(u);const st=Array.from(arguments),_t=[],Ue=[];function de(Ot){_t.push(Ot)}function Tn(Ot){Ue.push(Ot)}yI(H,{args:st,name:J,store:He,after:de,onError:Tn});let nn;try{nn=Te.apply(this&&this.$id===t?this:He,st)}catch(Ot){throw yI(Ue,Ot),Ot}return nn instanceof Promise?nn.then(Ot=>(yI(_t,Ot),Ot)).catch(Ot=>(yI(Ue,Ot),Promise.reject(Ot))):(yI(_t,nn),nn)}}const ht={_p:u,$id:t,$onAction:ooe.bind(null,H),$patch:Se,$reset:je,$subscribe(J,Te={}){const st=ooe(B,J,Te.detached,()=>_t()),_t=w.run(()=>Ps(()=>u.state.value[t],Ue=>{(Te.flush==="sync"?$:A)&&J({storeId:t,type:TN.direct,events:le},Ue)},c0({},T,Te)));return st},$dispose:gt},He=Ku(ht);u._s.set(t,He);const Ze=u._e.run(()=>(w=sre(),w.run(()=>n())));for(const J in Ze){const Te=Ze[J];if(br(Te)&&!Zhe(Te)||m1(Te))d||(ke&&Whe(Te)&&(br(Te)?Te.value=ke[J]:cJ(Te,ke[J])),u.state.value[t][J]=Te);else if(typeof Te=="function"){const st=ee(J,Te);Ze[J]=st,x.actions[J]=Te}}return c0(He,Ze),c0(rr(He),Ze),Object.defineProperty(He,"$state",{get:()=>u.state.value[t],set:J=>{Se(Te=>{c0(Te,J)})}}),u._p.forEach(J=>{c0(He,w.run(()=>J({store:He,app:u._a,pinia:u,options:x})))}),ke&&d&&r.hydrate&&r.hydrate(He.$state,ke),A=!0,$=!0,He}function qhe(t,n,r){let u,f;const d=typeof n=="function";typeof t=="string"?(u=t,f=d?r:n):(f=t,u=t.id);function w(x,T){const A=k1();return x=x||A&&cu(sae),x&&i7(x),x=oae,x._s.has(u)||(d?aae(u,n,f,x):Ghe(u,f,x)),x._s.get(u)}return w.$id=u,w}function Khe(t){{t=rr(t);const n={};for(const r in t){const u=t[r];(br(u)||m1(u))&&(n[r]=Ol(t,r))}return n}}var Ge={innerWidth(t){if(t){let n=t.offsetWidth,r=getComputedStyle(t);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width(t){if(t){let n=t.offsetWidth,r=getComputedStyle(t);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)},getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)},getOuterWidth(t,n){if(t){let r=t.offsetWidth;if(n){let u=getComputedStyle(t);r+=parseFloat(u.marginLeft)+parseFloat(u.marginRight)}return r}return 0},getOuterHeight(t,n){if(t){let r=t.offsetHeight;if(n){let u=getComputedStyle(t);r+=parseFloat(u.marginTop)+parseFloat(u.marginBottom)}return r}return 0},getClientHeight(t,n){if(t){let r=t.clientHeight;if(n){let u=getComputedStyle(t);r+=parseFloat(u.marginTop)+parseFloat(u.marginBottom)}return r}return 0},getViewport(){let t=window,n=document,r=n.documentElement,u=n.getElementsByTagName("body")[0],f=t.innerWidth||r.clientWidth||u.clientWidth,d=t.innerHeight||r.clientHeight||u.clientHeight;return{width:f,height:d}},getOffset(t){if(t){let n=t.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index(t){if(t){let n=t.parentNode.childNodes,r=0;for(let u=0;u<n.length;u++){if(n[u]===t)return r;n[u].nodeType===1&&r++}}return-1},addMultipleClasses(t,n){if(t&&n)if(t.classList){let r=n.split(" ");for(let u=0;u<r.length;u++)t.classList.add(r[u])}else{let r=n.split(" ");for(let u=0;u<r.length;u++)t.className+=" "+r[u]}},addClass(t,n){t&&n&&(t.classList?t.classList.add(n):t.className+=" "+n)},removeClass(t,n){t&&n&&(t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass(t,n){return t?t.classList?t.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(t.className):!1},find(t,n){return this.isElement(t)?t.querySelectorAll(n):[]},findSingle(t,n){return this.isElement(t)?t.querySelector(n):null},getHeight(t){if(t){let n=t.offsetHeight,r=getComputedStyle(t);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth(t){if(t){let n=t.offsetWidth,r=getComputedStyle(t);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition(t,n){if(t){let r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),u=r.height,f=r.width,d=n.offsetHeight,w=n.offsetWidth,x=n.getBoundingClientRect(),T=this.getWindowScrollTop(),A=this.getWindowScrollLeft(),$=this.getViewport(),B,H;x.top+d+u>$.height?(B=x.top+T-u,t.style.transformOrigin="bottom",B<0&&(B=T)):(B=d+x.top+T,t.style.transformOrigin="top"),x.left+f>$.width?H=Math.max(0,x.left+A+w-f):H=x.left+A,t.style.top=B+"px",t.style.left=H+"px"}},relativePosition(t,n){if(t){let r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const u=n.offsetHeight,f=n.getBoundingClientRect(),d=this.getViewport();let w,x;f.top+u+r.height>d.height?(w=-1*r.height,t.style.transformOrigin="bottom",f.top+w<0&&(w=-1*f.top)):(w=u,t.style.transformOrigin="top"),r.width>d.width?x=f.left*-1:f.left+r.width>d.width?x=(f.left+r.width-d.width)*-1:x=0,t.style.top=w+"px",t.style.left=x+"px"}},getParents(t,n=[]){return t.parentNode===null?n:this.getParents(t.parentNode,n.concat([t.parentNode]))},getScrollableParents(t){let n=[];if(t){let r=this.getParents(t);const u=/(auto|scroll)/,f=d=>{let w=window.getComputedStyle(d,null);return u.test(w.getPropertyValue("overflow"))||u.test(w.getPropertyValue("overflowX"))||u.test(w.getPropertyValue("overflowY"))};for(let d of r){let w=d.nodeType===1&&d.dataset.scrollselectors;if(w){let x=w.split(",");for(let T of x){let A=this.findSingle(d,T);A&&f(A)&&n.push(A)}}d.nodeType!==9&&f(d)&&n.push(d)}}return n},getHiddenElementOuterHeight(t){if(t){t.style.visibility="hidden",t.style.display="block";let n=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",n}return 0},getHiddenElementOuterWidth(t){if(t){t.style.visibility="hidden",t.style.display="block";let n=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",n}return 0},getHiddenElementDimensions(t){if(t){let n={};return t.style.visibility="hidden",t.style.display="block",n.width=t.offsetWidth,n.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",n}return 0},fadeIn(t,n){if(t){t.style.opacity=0;let r=+new Date,u=0,f=function(){u=+t.style.opacity+(new Date().getTime()-r)/n,t.style.opacity=u,r=+new Date,+u<1&&(window.requestAnimationFrame&&requestAnimationFrame(f)||setTimeout(f,16))};f()}},fadeOut(t,n){if(t){let r=1,u=50,f=n,d=u/f,w=setInterval(()=>{r-=d,r<=0&&(r=0,clearInterval(w)),t.style.opacity=r},u)}},getUserAgent(){return navigator.userAgent},appendChild(t,n){if(this.isElement(n))n.appendChild(t);else if(n.el&&n.elElement)n.elElement.appendChild(t);else throw new Error("Cannot append "+n+" to "+t)},isElement(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"},scrollInView(t,n){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),u=r?parseFloat(r):0,f=getComputedStyle(t).getPropertyValue("paddingTop"),d=f?parseFloat(f):0,w=t.getBoundingClientRect(),T=n.getBoundingClientRect().top+document.body.scrollTop-(w.top+document.body.scrollTop)-u-d,A=t.scrollTop,$=t.clientHeight,B=this.getOuterHeight(n);T<0?t.scrollTop=A+T:T+B>$&&(t.scrollTop=A+T-$+B)},clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let n=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=n,n},getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(t)||/(webkit)[ ]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible(t){return t&&t.offsetParent!=null},invokeElementMethod(t,n,r){t[n].apply(t,r)},isExist(t){return!!(t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode)},isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus(t,n){t&&document.activeElement!==t&&t.focus(n)},isFocusableElement(t,n=""){return this.isElement(t)?t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n}`):!1},getFocusableElements(t,n=""){let r=this.find(t,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n}`),u=[];for(let f of r)getComputedStyle(f).display!="none"&&getComputedStyle(f).visibility!="hidden"&&u.push(f);return u},getFirstFocusableElement(t,n){const r=this.getFocusableElements(t,n);return r.length>0?r[0]:null},getLastFocusableElement(t,n){const r=this.getFocusableElements(t,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement(t,n,r){const u=this.getFocusableElements(t,r),f=u.length>0?u.findIndex(w=>w===n):-1,d=f>-1&&u.length>=f+1?f+1:-1;return d>-1?u[d]:null},isClickable(t){if(t){const n=t.nodeName,r=t.parentElement&&t.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!t.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle(t,n){if(typeof n=="string")t.style.cssText=n;else for(let r in n)t.style[r]=n[r]},isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid(){return/(android)/i.test(navigator.userAgent)},isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},exportCSV(t,n){let r=new Blob([t],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{let u=document.createElement("a");u.download!==void 0?(u.setAttribute("href",URL.createObjectURL(r)),u.setAttribute("download",n+".csv"),u.style.display="none",document.body.appendChild(u),u.click(),document.body.removeChild(u)):(t="data:text/csv;charset=utf-8,"+t,window.open(encodeURI(t)))}}};class qI{constructor(n,r=()=>{}){this.element=n,this.listener=r}bindScrollListener(){this.scrollableParents=Ge.getScrollableParents(this.element);for(let n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}function iae(){const t=new Map;return{on(n,r){let u=t.get(n);u?u.push(r):u=[r],t.set(n,u)},off(n,r){let u=t.get(n);u&&u.splice(u.indexOf(r)>>>0,1)},emit(n,r){let u=t.get(n);u&&u.slice().map(f=>{f(r)})}}}var An={equals(t,n,r){return r?this.resolveFieldData(t,r)===this.resolveFieldData(n,r):this.deepEquals(t,n)},deepEquals(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){var r=Array.isArray(t),u=Array.isArray(n),f,d,w;if(r&&u){if(d=t.length,d!=n.length)return!1;for(f=d;f--!==0;)if(!this.deepEquals(t[f],n[f]))return!1;return!0}if(r!=u)return!1;var x=t instanceof Date,T=n instanceof Date;if(x!=T)return!1;if(x&&T)return t.getTime()==n.getTime();var A=t instanceof RegExp,$=n instanceof RegExp;if(A!=$)return!1;if(A&&$)return t.toString()==n.toString();var B=Object.keys(t);if(d=B.length,d!==Object.keys(n).length)return!1;for(f=d;f--!==0;)if(!Object.prototype.hasOwnProperty.call(n,B[f]))return!1;for(f=d;f--!==0;)if(w=B[f],!this.deepEquals(t[w],n[w]))return!1;return!0}return t!==t&&n!==n},resolveFieldData(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(n.indexOf(".")===-1)return t[n];{let f=n.split("."),d=t;for(var r=0,u=f.length;r<u;++r){if(d==null)return null;d=d[f[r]]}return d}}else return null},isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},getItemValue(t,...n){return this.isFunction(t)?t(...n):t},filter(t,n,r){var u=[];if(t){for(let f of t)for(let d of n)if(String(this.resolveFieldData(f,d)).toLowerCase().indexOf(r.toLowerCase())>-1){u.push(f);break}}return u},reorderArray(t,n,r){t&&n!==r&&(r>=t.length&&(r%=t.length,n%=t.length),t.splice(r,0,t.splice(n,1)[0]))},findIndexInList(t,n){let r=-1;if(n){for(let u=0;u<n.length;u++)if(n[u]===t){r=u;break}}return r},contains(t,n){if(t!=null&&n&&n.length){for(let r of n)if(this.equals(t,r))return!0}return!1},insertIntoOrderedArray(t,n,r,u){if(r.length>0){let f=!1;for(let d=0;d<r.length;d++)if(this.findIndexInList(r[d],u)>n){r.splice(d,0,t),f=!0;break}f||r.push(t)}else r.push(t)},removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t},getVNodeProp(t,n){let r=t.props;if(r){let u=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),f=Object.prototype.hasOwnProperty.call(r,u)?u:n;return t.type.props[n].type===Boolean&&r[f]===""?!0:r[f]}return null},isEmpty(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!(t instanceof Date)&&typeof t=="object"&&Object.keys(t).length===0},isNotEmpty(t){return!this.isEmpty(t)},isPrintableCharacter(t=""){return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)},findLast(t,n){let r;if(this.isNotEmpty(t))try{r=t.findLast(n)}catch{r=[...t].reverse().find(n)}return r},findLastIndex(t,n){let r=-1;if(this.isNotEmpty(t))try{r=t.findLastIndex(n)}catch{r=t.lastIndexOf([...t].reverse().find(n))}return r}},soe=0;function Gu(t="pv_id_"){return soe++,`${t}${soe}`}function Yhe(){let t=[];const n=(w,x,T=999)=>{const A=f(w,x,T),$=A.value+(A.key===w?0:T)+1;return t.push({key:w,value:$}),$},r=w=>{t=t.filter(x=>x.value!==w)},u=(w,x)=>f(w,x).value,f=(w,x,T=0)=>[...t].reverse().find(A=>x?!0:A.key===w)||{key:w,value:T},d=w=>w&&parseInt(w.style.zIndex,10)||0;return{get:d,set:(w,x,T)=>{x&&(x.style.zIndex=String(n(w,!0,T)))},clear:w=>{w&&(r(d(w)),w.style.zIndex="")},getCurrent:w=>u(w,!0)}}var Br=Yhe();const Ec={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"},kV={AND:"and",OR:"or"},uJ={filter(t,n,r,u,f){let d=[];if(t)for(let w of t)for(let x of n){let T=An.resolveFieldData(w,x);if(this.filters[u](T,r,f)){d.push(w);break}}return d},filters:{startsWith(t,n,r){if(n==null||n.trim()==="")return!0;if(t==null)return!1;let u=An.removeAccents(n.toString()).toLocaleLowerCase(r);return An.removeAccents(t.toString()).toLocaleLowerCase(r).slice(0,u.length)===u},contains(t,n,r){if(n==null||typeof n=="string"&&n.trim()==="")return!0;if(t==null)return!1;let u=An.removeAccents(n.toString()).toLocaleLowerCase(r);return An.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(u)!==-1},notContains(t,n,r){if(n==null||typeof n=="string"&&n.trim()==="")return!0;if(t==null)return!1;let u=An.removeAccents(n.toString()).toLocaleLowerCase(r);return An.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(u)===-1},endsWith(t,n,r){if(n==null||n.trim()==="")return!0;if(t==null)return!1;let u=An.removeAccents(n.toString()).toLocaleLowerCase(r),f=An.removeAccents(t.toString()).toLocaleLowerCase(r);return f.indexOf(u,f.length-u.length)!==-1},equals(t,n,r){return n==null||typeof n=="string"&&n.trim()===""?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()===n.getTime():An.removeAccents(t.toString()).toLocaleLowerCase(r)==An.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals(t,n,r){return n==null||typeof n=="string"&&n.trim()===""?!1:t==null?!0:t.getTime&&n.getTime?t.getTime()!==n.getTime():An.removeAccents(t.toString()).toLocaleLowerCase(r)!=An.removeAccents(n.toString()).toLocaleLowerCase(r)},in(t,n){if(n==null||n.length===0)return!0;for(let r=0;r<n.length;r++)if(An.equals(t,n[r]))return!0;return!1},between(t,n){return n==null||n[0]==null||n[1]==null?!0:t==null?!1:t.getTime?n[0].getTime()<=t.getTime()&&t.getTime()<=n[1].getTime():n[0]<=t&&t<=n[1]},lt(t,n){return n==null?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()<n.getTime():t<n},lte(t,n){return n==null?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()<=n.getTime():t<=n},gt(t,n){return n==null?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()>n.getTime():t>n},gte(t,n){return n==null?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()>=n.getTime():t>=n},dateIs(t,n){return n==null?!0:t==null?!1:t.toDateString()===n.toDateString()},dateIsNot(t,n){return n==null?!0:t==null?!1:t.toDateString()!==n.toDateString()},dateBefore(t,n){return n==null?!0:t==null?!1:t.getTime()<n.getTime()},dateAfter(t,n){return n==null?!0:t==null?!1:t.getTime()>n.getTime()}},register(t,n){this.filters[t]=n}},roe={ripple:!1,inputStyle:"outlined",locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}},filterMatchModeOptions:{text:[Ec.STARTS_WITH,Ec.CONTAINS,Ec.NOT_CONTAINS,Ec.ENDS_WITH,Ec.EQUALS,Ec.NOT_EQUALS],numeric:[Ec.EQUALS,Ec.NOT_EQUALS,Ec.LESS_THAN,Ec.LESS_THAN_OR_EQUAL_TO,Ec.GREATER_THAN,Ec.GREATER_THAN_OR_EQUAL_TO],date:[Ec.DATE_IS,Ec.DATE_IS_NOT,Ec.DATE_BEFORE,Ec.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100}},Xhe=Symbol();function Jhe(t,n,r,u){const f=document.getElementById(r),d=f.cloneNode(!0),w=f.getAttribute("href").replace(t,n);d.setAttribute("id",r+"-clone"),d.setAttribute("href",w),d.addEventListener("load",()=>{f.remove(),d.setAttribute("id",r),u&&u()}),f.parentNode&&f.parentNode.insertBefore(d,f.nextSibling)}var Qhe={install:(t,n)=>{let r=n?{...roe,...n}:{...roe};const u={config:Ku(r),changeTheme:Jhe};t.config.globalProperties.$primevue=u,t.provide(Xhe,u)}},u1=iae();const lae=Symbol();function cae(){const t=cu(lae);if(!t)throw new Error("No PrimeVue Toast provided!");return t}var eme={install:t=>{const n={add:r=>{u1.emit("add",r)},removeGroup:r=>{u1.emit("remove-group",r)},removeAllGroups:()=>{u1.emit("remove-all-groups")}};t.config.globalProperties.$toast=n,t.provide(lae,n)}};/**
  * vee-validate v4.8.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function Ky(t){return typeof t=="function"}function RN(t){return t==null}const ux=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function uae(t){return Number(t)>=0}function tme(t){const n=parseFloat(t);return isNaN(n)?t:n}const dae={};function nme(t,n){sme(t,n),dae[t]=n}function ome(t){return dae[t]}function sme(t,n){if(!Ky(n))throw new Error(`Extension Error: The validator '${t}' must be a function.`)}const i4=Symbol("vee-validate-form"),rme=Symbol("vee-validate-field-instance"),CV=Symbol("Default empty value"),ame=typeof window<"u";function dJ(t){return Ky(t)&&!!t.__locatorRef}function w0(t){return!!t&&Ky(t.parse)&&t.__type==="VVTypedSchema"}function IN(t){return!!t&&Ky(t.validate)}function PI(t){return t==="checkbox"||t==="radio"}function ime(t){return ux(t)||Array.isArray(t)}function fae(t){return Array.isArray(t)?t.length===0:ux(t)&&Object.keys(t).length===0}function l7(t){return/^\[.+\]$/i.test(t)}function lme(t){return hae(t)&&t.multiple}function hae(t){return t.tagName==="SELECT"}function cme(t,n){const r=![!1,null,void 0,0].includes(n.multiple)&&!Number.isNaN(n.multiple);return t==="select"&&"multiple"in n&&r}function ume(t,n){return!cme(t,n)&&n.type!=="file"&&!PI(n.type)}function mae(t){return vQ(t)&&t.target&&"submit"in t.target}function vQ(t){return t?!!(typeof Event<"u"&&Ky(Event)&&t instanceof Event||t&&t.srcElement):!1}function aoe(t,n){return n in t&&t[n]!==CV}function sc(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,u,f;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(u=r;u--!==0;)if(!sc(t[u],n[u]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(u of t.entries())if(!n.has(u[0]))return!1;for(u of t.entries())if(!sc(u[1],n.get(u[0])))return!1;return!0}if(ioe(t)&&ioe(n))return!(t.size!==n.size||t.name!==n.name||t.lastModified!==n.lastModified||t.type!==n.type);if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(u of t.entries())if(!n.has(u[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(u=r;u--!==0;)if(t[u]!==n[u])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(f=Object.keys(t),r=f.length,r!==Object.keys(n).length)return!1;for(u=r;u--!==0;)if(!Object.prototype.hasOwnProperty.call(n,f[u]))return!1;for(u=r;u--!==0;){var d=f[u];if(!sc(t[d],n[d]))return!1}return!0}return t!==t&&n!==n}function ioe(t){return ame?t instanceof File:!1}function loe(t,n,r){typeof r.value=="object"&&(r.value=aa(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||n==="__proto__"?Object.defineProperty(t,n,r):t[n]=r.value}function aa(t){if(typeof t!="object")return t;var n=0,r,u,f,d=Object.prototype.toString.call(t);if(d==="[object Object]"?f=Object.create(t.__proto__||null):d==="[object Array]"?f=Array(t.length):d==="[object Set]"?(f=new Set,t.forEach(function(w){f.add(aa(w))})):d==="[object Map]"?(f=new Map,t.forEach(function(w,x){f.set(aa(x),aa(w))})):d==="[object Date]"?f=new Date(+t):d==="[object RegExp]"?f=new RegExp(t.source,t.flags):d==="[object DataView]"?f=new t.constructor(aa(t.buffer)):d==="[object ArrayBuffer]"?f=t.slice(0):d.slice(-6)==="Array]"&&(f=new t.constructor(t)),f){for(u=Object.getOwnPropertySymbols(t);n<u.length;n++)loe(f,u[n],Object.getOwnPropertyDescriptor(t,u[n]));for(n=0,u=Object.getOwnPropertyNames(t);n<u.length;n++)Object.hasOwnProperty.call(f,r=u[n])&&f[r]===t[r]||loe(f,r,Object.getOwnPropertyDescriptor(t,r))}return f||t}function wQ(t){return l7(t)?t.replace(/\[|\]/gi,""):t}function ml(t,n,r){return t?l7(n)?t[wQ(n)]:(n||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((f,d)=>ime(f)&&d in f?f[d]:r,t):r}function a0(t,n,r){if(l7(n)){t[wQ(n)]=r;return}const u=n.split(/\.|\[(\d+)\]/).filter(Boolean);let f=t;for(let d=0;d<u.length;d++){if(d===u.length-1){f[u[d]]=r;return}(!(u[d]in f)||RN(f[u[d]]))&&(f[u[d]]=uae(u[d+1])?[]:{}),f=f[u[d]]}}function RX(t,n){if(Array.isArray(t)&&uae(n)){t.splice(Number(n),1);return}ux(t)&&delete t[n]}function eV(t,n){if(l7(n)){delete t[wQ(n)];return}const r=n.split(/\.|\[(\d+)\]/).filter(Boolean);let u=t;for(let d=0;d<r.length;d++){if(d===r.length-1){RX(u,r[d]);break}if(!(r[d]in u)||RN(u[r[d]]))break;u=u[r[d]]}const f=r.map((d,w)=>ml(t,r.slice(0,w).join(".")));for(let d=f.length-1;d>=0;d--)if(!!fae(f[d])){if(d===0){RX(t,r[0]);continue}RX(f[d-1],r[d-1])}}function ru(t){return Object.keys(t)}function _Q(t,n=void 0){const r=k1();return(r==null?void 0:r.provides[t])||cu(t,n)}function fJ(t,n,r){if(Array.isArray(t)){const u=[...t],f=u.findIndex(d=>sc(d,n));return f>=0?u.splice(f,1):u.push(n),u}return sc(t,n)?r:n}function coe(t,n=0){let r=null,u=[];return function(...f){return r&&window.clearTimeout(r),r=window.setTimeout(()=>{const d=t(...f);u.forEach(w=>w(d)),u=[]},n),new Promise(d=>u.push(d))}}function dme(t,n){return ux(n)&&n.number?tme(t):t}function hJ(t,n){let r;return async function(...f){const d=t(...f);r=d;const w=await d;return d!==r||(r=void 0,n(w,f)),w}}function fme({get:t,set:n}){const r=as(aa(t()));return Ps(t,u=>{sc(u,r.value)||(r.value=aa(u))},{deep:!0}),Ps(r,u=>{sc(u,t())||n(aa(u))},{deep:!0}),r}function hme(t){return Ky(t)?t():At(t)}function mme(t){return To(()=>hme(t))}const c7=(t,n,r)=>n.slots.default?typeof t=="string"||!t?n.slots.default(r()):{default:()=>{var u,f;return(f=(u=n.slots).default)===null||f===void 0?void 0:f.call(u,r())}}:n.slots.default;function IX(t){if(pae(t))return t._value}function pae(t){return"_value"in t}function kQ(t){if(!vQ(t))return t;const n=t.target;if(PI(n.type)&&pae(n))return IX(n);if(n.type==="file"&&n.files){const r=Array.from(n.files);return n.multiple?r:r[0]}if(lme(n))return Array.from(n.options).filter(r=>r.selected&&!r.disabled).map(IX);if(hae(n)){const r=Array.from(n.options).find(u=>u.selected);return r?IX(r):n.value}return n.value}function gae(t){const n={};return Object.defineProperty(n,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?ux(t)&&t._$$isNormalized?t:ux(t)?Object.keys(t).reduce((r,u)=>{const f=pme(t[u]);return t[u]!==!1&&(r[u]=uoe(f)),r},n):typeof t!="string"?n:t.split("|").reduce((r,u)=>{const f=gme(u);return f.name&&(r[f.name]=uoe(f.params)),r},n):n}function pme(t){return t===!0?[]:Array.isArray(t)||ux(t)?t:[t]}function uoe(t){const n=r=>typeof r=="string"&&r[0]==="@"?yme(r.slice(1)):r;return Array.isArray(t)?t.map(n):t instanceof RegExp?[t]:Object.keys(t).reduce((r,u)=>(r[u]=n(t[u]),r),{})}const gme=t=>{let n=[];const r=t.split(":")[0];return t.includes(":")&&(n=t.split(":").slice(1).join(":").split(",")),{name:r,params:n}};function yme(t){const n=r=>ml(r,t)||r[t];return n.__locatorRef=t,n}function bme(t){return Array.isArray(t)?t.filter(dJ):ru(t).filter(n=>dJ(t[n])).map(n=>t[n])}const vme={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let mJ=Object.assign({},vme);const CQ=()=>mJ,wme=t=>{mJ=Object.assign(Object.assign({},mJ),t)},_me=wme;async function yae(t,n,r={}){const u=r==null?void 0:r.bails,f={name:(r==null?void 0:r.name)||"{field}",rules:n,label:r==null?void 0:r.label,bails:u!=null?u:!0,formData:(r==null?void 0:r.values)||{}},w=(await kme(f,t)).errors;return{errors:w,valid:!w.length}}async function kme(t,n){if(w0(t.rules)||IN(t.rules))return Sme(n,t.rules);if(Ky(t.rules)||Array.isArray(t.rules)){const w={field:t.label||t.name,name:t.name,label:t.label,form:t.formData,value:n},x=Array.isArray(t.rules)?t.rules:[t.rules],T=x.length,A=[];for(let $=0;$<T;$++){const B=x[$],H=await B(n,w);if(typeof H!="string"&&H)continue;const ke=typeof H=="string"?H:vae(w);if(A.push(ke),t.bails)return{errors:A}}return{errors:A}}const r=Object.assign(Object.assign({},t),{rules:gae(t.rules)}),u=[],f=Object.keys(r.rules),d=f.length;for(let w=0;w<d;w++){const x=f[w],T=await xme(r,n,{name:x,params:r.rules[x]});if(T.error&&(u.push(T.error),t.bails))return{errors:u}}return{errors:u}}function Cme(t){return!!t&&t.name==="ValidationError"}function bae(t){return{__type:"VVTypedSchema",async parse(r){var u;try{return{output:await t.validate(r,{abortEarly:!1}),errors:[]}}catch(f){if(!Cme(f))throw f;if(!(!((u=f.inner)===null||u===void 0)&&u.length)&&f.errors.length)return{errors:[{path:f.path,errors:f.errors}]};const d=f.inner.reduce((w,x)=>{const T=x.path||"";return w[T]||(w[T]={errors:[],path:T}),w[T].errors.push(...x.errors),w},{});return{errors:Object.values(d)}}}}}async function Sme(t,n){const u=await(w0(n)?n:bae(n)).parse(t),f=[];for(const d of u.errors)d.errors.length&&f.push(...d.errors);return{errors:f}}async function xme(t,n,r){const u=ome(r.name);if(!u)throw new Error(`No such validator '${r.name}' exists.`);const f=Eme(r.params,t.formData),d={field:t.label||t.name,name:t.name,label:t.label,value:n,form:t.formData,rule:Object.assign(Object.assign({},r),{params:f})},w=await u(n,f,d);return typeof w=="string"?{error:w}:{error:w?void 0:vae(d)}}function vae(t){const n=CQ().generateMessage;return n?n(t):"Field is invalid"}function Eme(t,n){const r=u=>dJ(u)?u(n):u;return Array.isArray(t)?t.map(r):Object.keys(t).reduce((u,f)=>(u[f]=r(t[f]),u),{})}async function Tme(t,n){const u=await(w0(t)?t:bae(t)).parse(n),f={},d={};for(const w of u.errors){const x=w.errors,T=(w.path||"").replace(/\["(\d+)"\]/g,(A,$)=>`[${$}]`);f[T]={valid:!x.length,errors:x},x.length&&(d[T]=x[0])}return{valid:!u.errors.length,results:f,errors:d,values:u.value}}async function Rme(t,n,r){const f=ru(t).map(async A=>{var $,B,H;const le=($=r==null?void 0:r.names)===null||$===void 0?void 0:$[A],ke=await yae(ml(n,A),t[A],{name:(le==null?void 0:le.name)||A,label:le==null?void 0:le.label,values:n,bails:(H=(B=r==null?void 0:r.bailsMap)===null||B===void 0?void 0:B[A])!==null&&H!==void 0?H:!0});return Object.assign(Object.assign({},ke),{path:A})});let d=!0;const w=await Promise.all(f),x={},T={};for(const A of w)x[A.path]={valid:A.valid,errors:A.errors},A.valid||(d=!1,T[A.path]=A.errors[0]);return{valid:d,results:x,errors:T}}let doe=0;function Ime(t,n){const{value:r,initialValue:u,setInitialValue:f}=wae(t,n.modelValue,n.form),{errorMessage:d,errors:w,setErrors:x}=Dme(t,n.form),T=Ome(r,u,w),A=doe>=Number.MAX_SAFE_INTEGER?0:++doe;function $(B){var H;"value"in B&&(r.value=B.value),"errors"in B&&x(B.errors),"touched"in B&&(T.touched=(H=B.touched)!==null&&H!==void 0?H:T.touched),"initialValue"in B&&f(B.initialValue)}return{id:A,path:t,value:r,initialValue:u,meta:T,errors:w,errorMessage:d,setState:$}}function wae(t,n,r){const u=as(At(n));function f(){return r?ml(r.meta.value.initialValues,At(t),At(u)):At(u)}function d(A){if(!r){u.value=A;return}r.stageInitialValue(At(t),A,!0)}const w=To(f);if(!r)return{value:as(f()),initialValue:w,setInitialValue:d};const x=Ame(n,r,w,t);return r.stageInitialValue(At(t),x,!0),{value:To({get(){return ml(r.values,At(t))},set(A){r.setFieldValue(At(t),A)}}),initialValue:w,setInitialValue:d}}function Ame(t,n,r,u){return br(t)?At(t):t!==void 0?t:ml(n.values,At(u),At(r))}function Ome(t,n,r){const u=Ku({touched:!1,pending:!1,valid:!0,validated:!!At(r).length,initialValue:To(()=>At(n)),dirty:To(()=>!sc(At(t),At(n)))});return Ps(r,f=>{u.valid=!f.length},{immediate:!0,flush:"sync"}),u}function Dme(t,n){function r(f){return f?Array.isArray(f)?f:[f]:[]}if(!n){const f=as([]);return{errors:f,errorMessage:To(()=>f.value[0]),setErrors:d=>{f.value=r(d)}}}const u=To(()=>n.errorBag.value[At(t)]||[]);return{errors:u,errorMessage:To(()=>u.value[0]),setErrors:f=>{n.setFieldErrorBag(At(t),r(f))}}}function Mme(t,n,r){return PI(r==null?void 0:r.type)?Nme(t,n,r):_ae(t,n,r)}function _ae(t,n,r){const{initialValue:u,validateOnMount:f,bails:d,type:w,checkedValue:x,label:T,validateOnValueUpdate:A,uncheckedValue:$,controlled:B,keepValueOnUnmount:H,modelPropName:le,syncVModel:ke,form:Ne}=Pme(r),Se=B?_Q(i4):void 0,je=Ne||Se,gt=mme(t);let ee=!1;const{id:ht,value:He,initialValue:Ze,meta:J,setState:Te,errors:st,errorMessage:_t}=Ime(gt,{modelValue:u,form:je});ke&&Lme({value:He,prop:le,handleChange:Ht});const Ue=()=>{J.touched=!0},de=To(()=>{let me=At(n);const j=At(je==null?void 0:je.schema);return j&&!IN(j)&&!w0(j)&&(me=zme(j,At(gt))||me),IN(me)||w0(me)||Ky(me)||Array.isArray(me)?me:gae(me)});async function Tn(me){var j,lt;return je!=null&&je.validateSchema?(j=(await je.validateSchema(me)).results[At(gt)])!==null&&j!==void 0?j:{valid:!0,errors:[]}:yae(He.value,de.value,{name:At(gt),label:At(T),values:(lt=je==null?void 0:je.values)!==null&&lt!==void 0?lt:{},bails:d})}const nn=hJ(async()=>(J.pending=!0,J.validated=!0,Tn("validated-only")),me=>(ee&&(me.valid=!0,me.errors=[]),Te({errors:me.errors}),J.pending=!1,me)),Ot=hJ(async()=>Tn("silent"),me=>(ee&&(me.valid=!0),J.valid=me.valid,me));function L(me){return(me==null?void 0:me.mode)==="silent"?Ot():nn()}function Ht(me,j=!0){const lt=kQ(me);He.value=lt,!A&&j&&nn()}P0(()=>{if(f)return nn();(!je||!je.validateSchema)&&Ot()});function ot(me){J.touched=me}let Bn,cn=aa(He.value);function it(){Bn=Ps(He,(me,j)=>{if(sc(me,j)&&sc(me,cn))return;(A?nn:Ot)(),cn=aa(me)},{deep:!0})}it();function Gn(me){var j;Bn==null||Bn();const lt=me&&"value"in me?me.value:Ze.value;Te({value:aa(lt),initialValue:aa(lt),touched:(j=me==null?void 0:me.touched)!==null&&j!==void 0?j:!1,errors:(me==null?void 0:me.errors)||[]}),J.pending=!1,J.validated=!1,Ot(),Vd(()=>{it()})}function io(me){He.value=me}function uo(me){Te({errors:Array.isArray(me)?me:[me]})}const Et={id:ht,name:gt,label:T,value:He,meta:J,errors:st,errorMessage:_t,type:w,checkedValue:x,uncheckedValue:$,bails:d,keepValueOnUnmount:H,resetField:Gn,handleReset:()=>Gn(),validate:L,handleChange:Ht,handleBlur:Ue,setState:Te,setTouched:ot,setErrors:uo,setValue:io};if(v0(rme,Et),br(n)&&typeof At(n)!="function"&&Ps(n,(me,j)=>{sc(me,j)||(J.validated?nn():Ot())},{deep:!0}),!je)return Et;je.register(Et),wx(()=>{ee=!0,je.unregister(Et)});const Ee=To(()=>{const me=de.value;return!me||Ky(me)||IN(me)||w0(me)||Array.isArray(me)?{}:Object.keys(me).reduce((j,lt)=>{const Je=bme(me[lt]).map(Tt=>Tt.__locatorRef).reduce((Tt,re)=>{const Re=ml(je.values,re)||je.values[re];return Re!==void 0&&(Tt[re]=Re),Tt},{});return Object.assign(j,Je),j},{})});return Ps(Ee,(me,j)=>{if(!Object.keys(me).length)return;!sc(me,j)&&(J.validated?nn():Ot())}),Et}function Pme(t){var n;const r=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),f=((n=t==null?void 0:t.syncVModel)!==null&&n!==void 0?n:!0)&&!("initialValue"in(t||{}))?pJ(k1(),(t==null?void 0:t.modelPropName)||"modelValue"):t==null?void 0:t.initialValue;if(!t)return Object.assign(Object.assign({},r()),{initialValue:f});const d="valueProp"in t?t.valueProp:t.checkedValue,w="standalone"in t?!t.standalone:t.controlled;return Object.assign(Object.assign(Object.assign({},r()),t||{}),{initialValue:f,controlled:w!=null?w:!0,checkedValue:d})}function zme(t,n){if(!!t)return t[n]}function Nme(t,n,r){const u=r!=null&&r.standalone?void 0:_Q(i4),f=r==null?void 0:r.checkedValue,d=r==null?void 0:r.uncheckedValue;function w(x){const T=x.handleChange,A=To(()=>{const B=At(x.value),H=At(f);return Array.isArray(B)?B.findIndex(le=>sc(le,H))>=0:sc(H,B)});function $(B,H=!0){var le;if(A.value===((le=B==null?void 0:B.target)===null||le===void 0?void 0:le.checked)){H&&x.validate();return}let ke=kQ(B);u||(ke=fJ(At(x.value),At(f),At(d))),T(ke,H)}return Object.assign(Object.assign({},x),{checked:A,checkedValue:f,uncheckedValue:d,handleChange:$})}return w(_ae(t,n,r))}function Lme({prop:t,value:n,handleChange:r}){const u=k1();if(!u)return;const f=t||"modelValue",d=`update:${f}`;f in u.props&&(Ps(n,w=>{sc(w,pJ(u,f))||u.emit(d,w)}),Ps(()=>pJ(u,f),w=>{if(w===CV&&n.value===void 0)return;const x=w===CV?void 0:w;sc(x,dme(n.value,u.props.modelModifiers))||r(x)}))}function pJ(t,n){if(!!t)return t.props[n]}const Bme=cg({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>CQ().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:CV},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(t,n){const r=Ol(t,"rules"),u=Ol(t,"name"),f=Ol(t,"label"),d=Ol(t,"uncheckedValue"),w=Ol(t,"keepValue"),{errors:x,value:T,errorMessage:A,validate:$,handleChange:B,handleBlur:H,setTouched:le,resetField:ke,handleReset:Ne,meta:Se,checked:je,setErrors:gt}=Mme(u,r,{validateOnMount:t.validateOnMount,bails:t.bails,standalone:t.standalone,type:n.attrs.type,initialValue:$me(t,n),checkedValue:n.attrs.value,uncheckedValue:d,label:f,validateOnValueUpdate:!1,keepValueOnUnmount:w}),ee=function(st,_t=!0){B(st,_t),n.emit("update:modelValue",T.value)},ht=Te=>{PI(n.attrs.type)||(T.value=kQ(Te))},He=function(st){ht(st),n.emit("update:modelValue",T.value)},Ze=To(()=>{const{validateOnInput:Te,validateOnChange:st,validateOnBlur:_t,validateOnModelUpdate:Ue}=Fme(t),de=[H,n.attrs.onBlur,_t?$:void 0].filter(Boolean),Tn=[Ht=>ee(Ht,Te),n.attrs.onInput].filter(Boolean),nn=[Ht=>ee(Ht,st),n.attrs.onChange].filter(Boolean),Ot={name:t.name,onBlur:de,onInput:Tn,onChange:nn};Ot["onUpdate:modelValue"]=Ht=>ee(Ht,Ue),PI(n.attrs.type)&&je&&(Ot.checked=je.value);const L=foe(t,n);return ume(L,n.attrs)&&(Ot.value=T.value),Ot});function J(){return{field:Ze.value,value:T.value,meta:Se,errors:x.value,errorMessage:A.value,validate:$,resetField:ke,handleChange:ee,handleInput:He,handleReset:Ne,handleBlur:H,setTouched:le,setErrors:gt}}return n.expose({setErrors:gt,setTouched:le,reset:ke,validate:$,handleChange:B}),()=>{const Te=ja(foe(t,n)),st=c7(Te,n,J);return Te?Ph(Te,Object.assign(Object.assign({},n.attrs),Ze.value),st):st}}});function foe(t,n){let r=t.as||"";return!t.as&&!n.slots.default&&(r="input"),r}function Fme(t){var n,r,u,f;const{validateOnInput:d,validateOnChange:w,validateOnBlur:x,validateOnModelUpdate:T}=CQ();return{validateOnInput:(n=t.validateOnInput)!==null&&n!==void 0?n:d,validateOnChange:(r=t.validateOnChange)!==null&&r!==void 0?r:w,validateOnBlur:(u=t.validateOnBlur)!==null&&u!==void 0?u:x,validateOnModelUpdate:(f=t.validateOnModelUpdate)!==null&&f!==void 0?f:T}}function $me(t,n){return PI(n.attrs.type)?aoe(t,"modelValue")?t.modelValue:void 0:aoe(t,"modelValue")?t.modelValue:n.attrs.value}const Vme=Bme;let Hme=0;function kae(t){const n=At(t==null?void 0:t.initialValues)||{},r=At(t==null?void 0:t.validationSchema);return r&&w0(r)&&Ky(r.cast)?aa(r.cast(n)||{}):aa(n)}function Ume(t){var n;const r=Hme++,u=new Set;let f=!1;const d=as({}),w=as(!1),x=as(0),T=[],A=Ku(kae(t)),{errorBag:$,setErrorBag:B,setFieldErrorBag:H}=Zme(t==null?void 0:t.initialErrors),le=To(()=>ru($.value).reduce((oe,be)=>{const Xe=$.value[be];return Xe&&Xe.length&&(oe[be]=Xe[0]),oe},{}));function ke(oe){const be=d.value[oe];return Array.isArray(be)?be[0]:be}function Ne(oe){return!!d.value[oe]}const Se=To(()=>ru(d.value).reduce((oe,be)=>{const Xe=ke(be);return Xe&&(oe[be]={name:At(Xe.name)||"",label:At(Xe.label)||""}),oe},{})),je=To(()=>ru(d.value).reduce((oe,be)=>{var Xe;const ut=ke(be);return ut&&(oe[be]=(Xe=ut.bails)!==null&&Xe!==void 0?Xe:!0),oe},{})),gt=Object.assign({},(t==null?void 0:t.initialErrors)||{}),ee=(n=t==null?void 0:t.keepValuesOnUnmount)!==null&&n!==void 0?n:!1,{initialValues:ht,originalInitialValues:He,setInitialValues:Ze}=Wme(d,A,t),J=jme(d,A,He,le),Te=To(()=>[...u,...ru(d.value)].reduce((oe,be)=>{const Xe=ml(A,be);return a0(oe,be,Xe),oe},{})),st=t==null?void 0:t.validationSchema,_t=coe(et,5),Ue=coe(et,5),de=hJ(async oe=>await oe==="silent"?_t():Ue(),(oe,[be])=>{const Xe=L.fieldsByPath.value||{},ut=ru(L.errorBag.value);return[...new Set([...ru(oe.results),...ru(Xe),...ut])].reduce((Dt,Vt)=>{const an=Xe[Vt],_n=(oe.results[Vt]||{errors:[]}).errors,jn={errors:_n,valid:!_n.length};if(Dt.results[Vt]=jn,jn.valid||(Dt.errors[Vt]=jn.errors[0]),!an)return cn(Vt,_n),Dt;if(ot(an,mo=>mo.meta.valid=jn.valid),be==="silent")return Dt;const lo=Array.isArray(an)?an.some(mo=>mo.meta.validated):an.meta.validated;return be==="validated-only"&&!lo||ot(an,mo=>mo.setState({errors:jn.errors})),Dt},{valid:oe.valid,results:{},errors:{}})});function Tn(oe){return function(Xe,ut){return function(Dt){return Dt instanceof Event&&(Dt.preventDefault(),Dt.stopPropagation()),me(ru(d.value).reduce((Vt,an)=>(Vt[an]=!0,Vt),{})),w.value=!0,x.value++,Oe().then(Vt=>{const an=aa(A);if(Vt.valid&&typeof Xe=="function"){const _n=aa(Te.value);let jn=oe?_n:an;return Vt.values&&(jn=Vt.values),Xe(jn,{evt:Dt,controlledValues:_n,setErrors:it,setFieldError:cn,setTouched:me,setFieldTouched:Ee,setValues:io,setFieldValue:Gn,resetForm:lt,resetField:j})}!Vt.valid&&typeof ut=="function"&&ut({values:an,evt:Dt,errors:Vt.errors,results:Vt.results})}).then(Vt=>(w.value=!1,Vt),Vt=>{throw w.value=!1,Vt})}}}const Ot=Tn(!1);Ot.withControlled=Tn(!0);const L={formId:r,fieldsByPath:d,values:A,controlledValues:Te,errorBag:$,errors:le,schema:st,submitCount:x,meta:J,isSubmitting:w,fieldArrays:T,keepValuesOnUnmount:ee,validateSchema:At(st)?de:void 0,validate:Oe,register:re,unregister:Re,setFieldErrorBag:H,validateField:yt,setFieldValue:Gn,setValues:io,setErrors:it,setFieldError:cn,setFieldTouched:Ee,setTouched:me,resetForm:lt,resetField:j,handleSubmit:Ot,stageInitialValue:ce,unsetInitialValue:Ye,setFieldInitialValue:Fe,useFieldModel:Et};function Ht(oe){return Array.isArray(oe)}function ot(oe,be){return Array.isArray(oe)?oe.forEach(be):be(oe)}function Bn(oe){Object.values(d.value).forEach(be=>{!be||ot(be,oe)})}function cn(oe,be){H(oe,be)}function it(oe){B(oe)}function Gn(oe,be,{force:Xe}={force:!1}){var ut;const zt=d.value[oe],Dt=aa(be);if(!zt){a0(A,oe,Dt);return}if(Ht(zt)&&((ut=zt[0])===null||ut===void 0?void 0:ut.type)==="checkbox"&&!Array.isArray(be)){const an=aa(fJ(ml(A,oe)||[],be,void 0));a0(A,oe,an);return}let Vt=Dt;!Ht(zt)&&zt.type==="checkbox"&&!Xe&&!f&&(Vt=aa(fJ(ml(A,oe),be,At(zt.uncheckedValue)))),a0(A,oe,Vt)}function io(oe){ru(A).forEach(be=>{delete A[be]}),ru(oe).forEach(be=>{Gn(be,oe[be])}),T.forEach(be=>be&&be.reset())}function uo(oe){const{value:be}=wae(oe,void 0,L);return Ps(be,()=>{Ne(At(oe))||Oe({mode:"validated-only"})},{deep:!0}),u.add(At(oe)),be}function Et(oe){return Array.isArray(oe)?oe.map(uo):uo(oe)}function Ee(oe,be){const Xe=d.value[oe];Xe&&ot(Xe,ut=>ut.setTouched(be))}function me(oe){ru(oe).forEach(be=>{Ee(be,!!oe[be])})}function j(oe,be){const Xe=d.value[oe];Xe&&ot(Xe,ut=>ut.resetField(be))}function lt(oe){f=!0,Bn(Xe=>Xe.resetField());const be=oe!=null&&oe.values?oe.values:He.value;Ze(be),io(be),oe!=null&&oe.touched&&me(oe.touched),it((oe==null?void 0:oe.errors)||{}),x.value=(oe==null?void 0:oe.submitCount)||0,Vd(()=>{f=!1})}function Je(oe,be){const Xe=R0(oe),ut=be;if(!d.value[ut]){d.value[ut]=Xe;return}const zt=d.value[ut];zt&&!Array.isArray(zt)&&(d.value[ut]=[zt]),d.value[ut]=[...d.value[ut],Xe]}function Tt(oe,be){const Xe=be,ut=d.value[Xe];if(!!ut){if(!Ht(ut)&&oe.id===ut.id){delete d.value[Xe];return}if(Ht(ut)){const zt=ut.findIndex(Dt=>Dt.id===oe.id);if(zt===-1)return;ut.splice(zt,1),ut.length||delete d.value[Xe]}}}function re(oe){const be=At(oe.name);Je(oe,be),br(oe.name)&&Ps(oe.name,async(ut,zt)=>{await Vd(),Tt(oe,zt),Je(oe,ut),(le.value[zt]||le.value[ut])&&(cn(zt,void 0),yt(ut)),await Vd(),Ne(zt)||eV(A,zt)});const Xe=At(oe.errorMessage);Xe&&(gt==null?void 0:gt[be])!==Xe&&yt(be),delete gt[be]}function Re(oe){const be=At(oe.name),Xe=d.value[be],ut=!!Xe&&Ht(Xe);Tt(oe,be),Vd(()=>{var zt;const Dt=(zt=At(oe.keepValueOnUnmount))!==null&&zt!==void 0?zt:At(ee),Vt=ml(A,be);if(ut&&(Xe===d.value[be]||!d.value[be])&&!Dt)if(Array.isArray(Vt)){const _n=Vt.findIndex(jn=>sc(jn,At(oe.checkedValue)));if(_n>-1){const jn=[...Vt];jn.splice(_n,1),Gn(be,jn,{force:!0})}}else Vt===At(oe.checkedValue)&&eV(A,be);if(!Ne(be)){if(cn(be,void 0),Dt||ut&&Array.isArray(Vt)&&!fae(Vt))return;eV(A,be)}})}async function Oe(oe){const be=(oe==null?void 0:oe.mode)||"force";if(be==="force"&&Bn(Dt=>Dt.meta.validated=!0),L.validateSchema)return L.validateSchema(be);const Xe=await Promise.all(Object.values(d.value).map(Dt=>{const Vt=Array.isArray(Dt)?Dt[0]:Dt;return Vt?Vt.validate(oe).then(an=>({key:At(Vt.name),valid:an.valid,errors:an.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),ut={},zt={};for(const Dt of Xe)ut[Dt.key]={valid:Dt.valid,errors:Dt.errors},Dt.errors.length&&(zt[Dt.key]=Dt.errors[0]);return{valid:Xe.every(Dt=>Dt.valid),results:ut,errors:zt}}async function yt(oe){const be=d.value[oe];return be?Array.isArray(be)?be.map(Xe=>Xe.validate())[0]:be.validate():Promise.resolve({errors:[],valid:!0})}function Ye(oe){eV(ht.value,oe)}function ce(oe,be,Xe=!1){a0(A,oe,be),Fe(oe,be),Xe&&!(t!=null&&t.initialValues)&&a0(He.value,oe,aa(be))}function Fe(oe,be){a0(ht.value,oe,aa(be))}async function et(){const oe=At(st);return oe?IN(oe)||w0(oe)?await Tme(oe,A):await Rme(oe,A,{names:Se.value,bailsMap:je.value}):{valid:!0,results:{},errors:{}}}const $e=Ot((oe,{evt:be})=>{mae(be)&&be.target.submit()});return P0(()=>{if(t!=null&&t.initialErrors&&it(t.initialErrors),t!=null&&t.initialTouched&&me(t.initialTouched),t!=null&&t.validateOnMount){Oe();return}L.validateSchema&&L.validateSchema("silent")}),br(st)&&Ps(st,()=>{var oe;(oe=L.validateSchema)===null||oe===void 0||oe.call(L,"validated-only")}),v0(i4,L),Object.assign(Object.assign({},L),{handleReset:()=>lt(),submitForm:$e})}function jme(t,n,r,u){const f={touched:"some",pending:"some",valid:"every"},d=To(()=>!sc(n,At(r)));function w(){const T=Object.values(t.value).flat(1).filter(Boolean);return ru(f).reduce((A,$)=>{const B=f[$];return A[$]=T[B](H=>H.meta[$]),A},{})}const x=Ku(w());return lQ(()=>{const T=w();x.touched=T.touched,x.valid=T.valid,x.pending=T.pending}),To(()=>Object.assign(Object.assign({initialValues:At(r)},x),{valid:x.valid&&!ru(u.value).length,dirty:d.value}))}function Wme(t,n,r){const u=kae(r),f=r==null?void 0:r.initialValues,d=as(u),w=as(aa(u));function x(T,A=!1){d.value=aa(T),w.value=aa(T),A&&ru(t.value).forEach($=>{const B=t.value[$],H=Array.isArray(B)?B.some(ke=>ke.meta.touched):B==null?void 0:B.meta.touched;if(!B||H)return;const le=ml(d.value,$);a0(n,$,aa(le))})}return br(f)&&Ps(f,T=>{x(T,!0)},{deep:!0}),{initialValues:d,originalInitialValues:w,setInitialValues:x}}function Zme(t){const n=as({});function r(d){return Array.isArray(d)?d:d?[d]:[]}function u(d,w){if(!w){delete n.value[d];return}n.value[d]=r(w)}function f(d){n.value=ru(d).reduce((w,x)=>{const T=d[x];return T&&(w[x]=r(T)),w},{})}return t&&f(t),{errorBag:n,setErrorBag:f,setFieldErrorBag:u}}const Gme=cg({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(t,n){const r=Ol(t,"initialValues"),u=Ol(t,"validationSchema"),f=Ol(t,"keepValues"),{errors:d,errorBag:w,values:x,meta:T,isSubmitting:A,submitCount:$,controlledValues:B,validate:H,validateField:le,handleReset:ke,resetForm:Ne,handleSubmit:Se,setErrors:je,setFieldError:gt,setFieldValue:ee,setValues:ht,setFieldTouched:He,setTouched:Ze,resetField:J}=Ume({validationSchema:u.value?u:void 0,initialValues:r,initialErrors:t.initialErrors,initialTouched:t.initialTouched,validateOnMount:t.validateOnMount,keepValuesOnUnmount:f}),Te=Se((L,{evt:Ht})=>{mae(Ht)&&Ht.target.submit()},t.onInvalidSubmit),st=t.onSubmit?Se(t.onSubmit,t.onInvalidSubmit):Te;function _t(L){vQ(L)&&L.preventDefault(),ke(),typeof n.attrs.onReset=="function"&&n.attrs.onReset()}function Ue(L,Ht){return Se(typeof L=="function"&&!Ht?L:Ht,t.onInvalidSubmit)(L)}function de(){return aa(x)}function Tn(){return aa(T.value)}function nn(){return aa(d.value)}function Ot(){return{meta:T.value,errors:d.value,errorBag:w.value,values:x,isSubmitting:A.value,submitCount:$.value,controlledValues:B.value,validate:H,validateField:le,handleSubmit:Ue,handleReset:ke,submitForm:Te,setErrors:je,setFieldError:gt,setFieldValue:ee,setValues:ht,setFieldTouched:He,setTouched:Ze,resetForm:Ne,resetField:J,getValues:de,getMeta:Tn,getErrors:nn}}return n.expose({setFieldError:gt,setErrors:je,setFieldValue:ee,setValues:ht,setFieldTouched:He,setTouched:Ze,resetForm:Ne,validate:H,validateField:le,resetField:J,getValues:de,getMeta:Tn,getErrors:nn}),function(){const Ht=t.as==="form"?t.as:ja(t.as),ot=c7(Ht,n,Ot);if(!t.as)return ot;const Bn=t.as==="form"?{novalidate:!0}:{};return Ph(Ht,Object.assign(Object.assign(Object.assign({},Bn),n.attrs),{onSubmit:st,onReset:_t}),ot)}}}),qme=Gme;function Kme(t){const n=_Q(i4,void 0),r=as([]),u=()=>{},f={fields:r,remove:u,push:u,swap:u,insert:u,update:u,replace:u,prepend:u,move:u};if(!n||!At(t))return f;const d=n.fieldArrays.find(He=>At(He.path)===At(t));if(d)return d;let w=0;function x(){return ml(n==null?void 0:n.values,At(t),[])||[]}function T(){const He=x();r.value=He.map($),A()}T();function A(){const He=r.value.length;for(let Ze=0;Ze<He;Ze++){const J=r.value[Ze];J.isFirst=Ze===0,J.isLast=Ze===He-1}}function $(He){const Ze=w++;return{key:Ze,value:fme({get(){const Te=ml(n==null?void 0:n.values,At(t),[])||[],st=r.value.findIndex(_t=>_t.key===Ze);return st===-1?He:Te[st]},set(Te){const st=r.value.findIndex(_t=>_t.key===Ze);st!==-1&&je(st,Te)}}),isFirst:!1,isLast:!1}}function B(){A(),n==null||n.validate({mode:"silent"})}function H(He){const Ze=At(t),J=ml(n==null?void 0:n.values,Ze);if(!J||!Array.isArray(J))return;const Te=[...J];Te.splice(He,1),n==null||n.unsetInitialValue(Ze+`[${He}]`),n==null||n.setFieldValue(Ze,Te),r.value.splice(He,1),B()}function le(He){const Ze=At(t),J=ml(n==null?void 0:n.values,Ze),Te=RN(J)?[]:J;if(!Array.isArray(Te))return;const st=[...Te];st.push(He),n==null||n.stageInitialValue(Ze+`[${st.length-1}]`,He),n==null||n.setFieldValue(Ze,st),r.value.push($(He)),B()}function ke(He,Ze){const J=At(t),Te=ml(n==null?void 0:n.values,J);if(!Array.isArray(Te)||!(He in Te)||!(Ze in Te))return;const st=[...Te],_t=[...r.value],Ue=st[He];st[He]=st[Ze],st[Ze]=Ue;const de=_t[He];_t[He]=_t[Ze],_t[Ze]=de,n==null||n.setFieldValue(J,st),r.value=_t,A()}function Ne(He,Ze){const J=At(t),Te=ml(n==null?void 0:n.values,J);if(!Array.isArray(Te)||Te.length<He)return;const st=[...Te],_t=[...r.value];st.splice(He,0,Ze),_t.splice(He,0,$(Ze)),n==null||n.setFieldValue(J,st),r.value=_t,B()}function Se(He){const Ze=At(t);n==null||n.setFieldValue(Ze,He),T(),B()}function je(He,Ze){const J=At(t),Te=ml(n==null?void 0:n.values,J);!Array.isArray(Te)||Te.length-1<He||(n==null||n.setFieldValue(`${J}[${He}]`,Ze),n==null||n.validate({mode:"validated-only"}))}function gt(He){const Ze=At(t),J=ml(n==null?void 0:n.values,Ze),Te=RN(J)?[]:J;if(!Array.isArray(Te))return;const st=[He,...Te];n==null||n.stageInitialValue(Ze+`[${st.length-1}]`,He),n==null||n.setFieldValue(Ze,st),r.value.unshift($(He)),B()}function ee(He,Ze){const J=At(t),Te=ml(n==null?void 0:n.values,J),st=RN(Te)?[]:[...Te];if(!Array.isArray(Te)||!(He in Te)||!(Ze in Te))return;const _t=[...r.value],Ue=_t[He];_t.splice(He,1),_t.splice(Ze,0,Ue);const de=st[He];st.splice(He,1),st.splice(Ze,0,de),n==null||n.setFieldValue(J,st),r.value=_t,B()}const ht={fields:r,remove:H,push:le,swap:ke,insert:Ne,update:je,replace:Se,prepend:gt,move:ee};return n.fieldArrays.push(Object.assign({path:t,reset:T},ht)),wx(()=>{const He=n.fieldArrays.findIndex(Ze=>At(Ze.path)===At(t));He>=0&&n.fieldArrays.splice(He,1)}),Ps(x,He=>{const Ze=r.value.map(J=>J.value);sc(He,Ze)||T()}),ht}cg({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(t,n){const{push:r,remove:u,swap:f,insert:d,replace:w,update:x,prepend:T,move:A,fields:$}=Kme(Ol(t,"name"));function B(){return{fields:$.value,push:r,remove:u,swap:f,insert:d,update:x,replace:w,prepend:T,move:A}}return n.expose({push:r,remove:u,swap:f,insert:d,update:x,replace:w,prepend:T,move:A}),()=>c7(void 0,n,B)}});const Yme=cg({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,n){const r=cu(i4,void 0),u=To(()=>r==null?void 0:r.errors.value[t.name]);function f(){return{message:u.value}}return()=>{if(!u.value)return;const d=t.as?ja(t.as):t.as,w=c7(d,n,f),x=Object.assign({role:"alert"},n.attrs);return!d&&(Array.isArray(w)||!w)&&(w==null?void 0:w.length)?w:(Array.isArray(w)||!w)&&!(w!=null&&w.length)?Ph(d||"span",x,u.value):Ph(d,x,w)}}}),Xme=Yme;/**
  * vee-validate v4.8.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const tV={en:/^[A-Z]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[A-ZÆØÅ]*$/i,de:/^[A-ZÄÖÜß]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[A-Z\xC0-\xFF]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ]*$/i,nl:/^[A-ZÉËÏÓÖÜ]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ru:/^[А-ЯЁ]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[A-ZČĆŽŠĐ]*$/i,sv:/^[A-ZÅÄÖ]*$/i,tr:/^[A-ZÇĞİıÖŞÜ]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[A-ZÇƏĞİıÖŞÜ]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ]*$/i},nV={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},oV={en:/^[0-9A-Z]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[0-9A-ZÆØÅ]$/i,de:/^[0-9A-ZÄÖÜß]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ]*$/i,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[0-9A-Z\xC0-\xFF]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ru:/^[0-9А-ЯЁ]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[0-9A-ZČĆŽŠĐ]*$/i,sv:/^[0-9A-ZÅÄÖ]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ]*$/i,ug:/^[0-9A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ]*$/i},sV={en:/^[0-9A-Z_-]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ_-]*$/i,da:/^[0-9A-ZÆØÅ_-]*$/i,de:/^[0-9A-ZÄÖÜß_-]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ_-]*$/i,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ_-]*$/i,it:/^[0-9A-Z\xC0-\xFF_-]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ_-]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ_-]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ_-]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ_-]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ_-]*$/i,ru:/^[0-9А-ЯЁ_-]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ_-]*$/i,sr:/^[0-9A-ZČĆŽŠĐ_-]*$/i,sv:/^[0-9A-ZÅÄÖ_-]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ_-]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ_-]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ_-]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ_-]*$/i,ug:/^[0-9A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ_-]*$/i},u7=t=>{if(!!t)return Array.isArray(t)?t[0]:t.locale};function Fm(t,n){return Array.isArray(t)?t[0]:t[n]}function Qi(t){return!!(t==null||t===""||Array.isArray(t)&&t.length===0)}const Cae=(t,n)=>{if(Qi(t))return!0;const r=u7(n);if(Array.isArray(t))return t.every(f=>Cae(f,{locale:r}));const u=String(t);return r?(tV[r]||tV.en).test(u):Object.keys(tV).some(f=>tV[f].test(u))},Sae=(t,n)=>{if(Qi(t))return!0;const r=u7(n);if(Array.isArray(t))return t.every(f=>Sae(f,{locale:r}));const u=String(t);return r?(sV[r]||sV.en).test(u):Object.keys(sV).some(f=>sV[f].test(u))},xae=(t,n)=>{if(Qi(t))return!0;const r=u7(n);if(Array.isArray(t))return t.every(f=>xae(f,{locale:r}));const u=String(t);return r?(oV[r]||oV.en).test(u):Object.keys(oV).some(f=>oV[f].test(u))},Eae=(t,n)=>{if(Qi(t))return!0;const r=u7(n);if(Array.isArray(t))return t.every(f=>Eae(f,{locale:r}));const u=String(t);return r?(nV[r]||nV.en).test(u):Object.keys(nV).some(f=>nV[f].test(u))};function Jme(t){return Array.isArray(t)?{min:t[0],max:t[1]}:t}const Tae=(t,n)=>{if(Qi(t))return!0;const{min:r,max:u}=Jme(n);if(Array.isArray(t))return t.every(d=>Tae(d,{min:r,max:u}));const f=Number(t);return Number(r)<=f&&Number(u)>=f},Qme=(t,n)=>{const r=Fm(n,"target");return String(t)===String(r)},Rae=(t,n)=>{if(Qi(t))return!0;const r=Fm(n,"length");if(Array.isArray(t))return t.every(f=>Rae(f,{length:r}));const u=String(t);return/^[0-9]*$/.test(u)&&u.length===Number(r)},epe=(t,n,r)=>{const u=window.URL||window.webkitURL;return new Promise(f=>{const d=new Image;d.onerror=()=>f(!1),d.onload=()=>f(d.width===n&&d.height===r),d.src=u.createObjectURL(t)})};function tpe(t){return t?Array.isArray(t)?{width:Number(t[0]),height:Number(t[1])}:{width:Number(t.width),height:Number(t.height)}:{width:0,height:0}}const npe=(t,n)=>{if(Qi(t))return!0;const{width:r,height:u}=tpe(n),f=[],d=Array.isArray(t)?t:[t];for(let w=0;w<d.length;w++){if(!/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(d[w].name))return Promise.resolve(!1);f.push(d[w])}return Promise.all(f.map(w=>epe(w,r,u))).then(w=>w.every(x=>x))},ope=t=>{if(Qi(t))return!0;const n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(t)?t.every(r=>n.test(String(r))):n.test(String(t))},spe=(t,n)=>{if(Qi(t))return!0;const r=new RegExp(`\\.(${n.join("|")})$`,"i");return Array.isArray(t)?t.every(u=>r.test(u.name)):r.test(t.name)},rpe=t=>{if(Qi(t))return!0;const n=/\.(jpg|svg|jpeg|png|bmp|gif|webp)$/i;return Array.isArray(t)?t.every(r=>n.test(r.name)):n.test(t.name)},ape=t=>Qi(t)?!0:Array.isArray(t)?t.every(n=>/^-?[0-9]+$/.test(String(n))):/^-?[0-9]+$/.test(String(t)),ipe=(t,n)=>{const r=Fm(n,"other");return t===r},lpe=(t,n)=>{const r=Fm(n,"other");return t!==r};function Iae(t){return t==null}function cpe(t){return Array.isArray(t)&&t.length===0}const upe=(t,n)=>{const r=Fm(n,"length");return Iae(t)?!1:(typeof t=="number"&&(t=String(t)),t.length||(t=Array.from(t)),t.length===Number(r))},Aae=(t,n)=>{if(Qi(t))return!0;const r=Fm(n,"length");return Array.isArray(t)?t.every(u=>Aae(u,{length:r})):String(t).length<=Number(r)},Oae=(t,n)=>{if(Qi(t))return!0;const r=Fm(n,"max");return Array.isArray(t)?t.length>0&&t.every(u=>Oae(u,{max:r})):Number(t)<=Number(r)},dpe=(t,n)=>{if(Qi(t))return!0;n||(n=[]);const r=new RegExp(`${n.join("|").replace("*",".+")}$`,"i");return Array.isArray(t)?t.every(u=>r.test(u.type)):r.test(t.type)},Dae=(t,n)=>{if(Qi(t))return!0;const r=Fm(n,"length");return Array.isArray(t)?t.every(u=>Dae(u,{length:r})):String(t).length>=Number(r)},Mae=(t,n)=>{if(Qi(t))return!0;const r=Fm(n,"min");return Array.isArray(t)?t.length>0&&t.every(u=>Mae(u,{min:r})):Number(t)>=Number(r)},SQ=(t,n)=>Qi(t)?!0:Array.isArray(t)?t.every(r=>SQ(r,n)):Array.from(n).some(r=>r==t),fpe=(t,n)=>Qi(t)?!0:!SQ(t,n),hpe=/^[٠١٢٣٤٥٦٧٨٩]+$/,mpe=/^[0-9]+$/,ppe=t=>{if(Qi(t))return!0;const n=r=>{const u=String(r);return mpe.test(u)||hpe.test(u)};return Array.isArray(t)?t.every(n):n(t)},Pae=(t,n)=>{if(Qi(t))return!0;let r=Fm(n,"regex");return typeof r=="string"&&(r=new RegExp(r)),Array.isArray(t)?t.every(u=>Pae(u,{regex:r})):r.test(String(t))},gpe=t=>Iae(t)||cpe(t)||t===!1?!1:!!String(t).trim().length,ype=(t,n)=>{if(Qi(t))return!0;let r=Fm(n,"size");if(r=Number(r),isNaN(r))return!1;const u=r*1024;if(!Array.isArray(t))return t.size<=u;for(let f=0;f<t.length;f++)if(t[f].size>u)return!1;return!0},bpe=(t,n)=>{var r;if(Qi(t))return!0;let u=Fm(n,"pattern");typeof u=="string"&&(u=new RegExp(u));try{new URL(t)}catch{return!1}return(r=u==null?void 0:u.test(t))!==null&&r!==void 0?r:!0};/**
  * vee-validate v4.8.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function y1(t){return typeof t=="function"}function AN(t){return t==null}const dx=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function zae(t){return Number(t)>=0}function vpe(t){const n=parseFloat(t);return isNaN(n)?t:n}const wpe={};function _pe(t){return wpe[t]}const l4=Symbol("vee-validate-form"),kpe=Symbol("vee-validate-field-instance"),SV=Symbol("Default empty value"),Cpe=typeof window<"u";function gJ(t){return y1(t)&&!!t.__locatorRef}function _0(t){return!!t&&y1(t.parse)&&t.__type==="VVTypedSchema"}function ON(t){return!!t&&y1(t.validate)}function zI(t){return t==="checkbox"||t==="radio"}function Spe(t){return dx(t)||Array.isArray(t)}function Nae(t){return Array.isArray(t)?t.length===0:dx(t)&&Object.keys(t).length===0}function d7(t){return/^\[.+\]$/i.test(t)}function xpe(t){return Lae(t)&&t.multiple}function Lae(t){return t.tagName==="SELECT"}function Epe(t,n){const r=![!1,null,void 0,0].includes(n.multiple)&&!Number.isNaN(n.multiple);return t==="select"&&"multiple"in n&&r}function Tpe(t,n){return!Epe(t,n)&&n.type!=="file"&&!zI(n.type)}function Bae(t){return xQ(t)&&t.target&&"submit"in t.target}function xQ(t){return t?!!(typeof Event<"u"&&y1(Event)&&t instanceof Event||t&&t.srcElement):!1}function hoe(t,n){return n in t&&t[n]!==SV}function rc(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,u,f;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(u=r;u--!==0;)if(!rc(t[u],n[u]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(u of t.entries())if(!n.has(u[0]))return!1;for(u of t.entries())if(!rc(u[1],n.get(u[0])))return!1;return!0}if(moe(t)&&moe(n))return!(t.size!==n.size||t.name!==n.name||t.lastModified!==n.lastModified||t.type!==n.type);if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(u of t.entries())if(!n.has(u[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(u=r;u--!==0;)if(t[u]!==n[u])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(f=Object.keys(t),r=f.length,r!==Object.keys(n).length)return!1;for(u=r;u--!==0;)if(!Object.prototype.hasOwnProperty.call(n,f[u]))return!1;for(u=r;u--!==0;){var d=f[u];if(!rc(t[d],n[d]))return!1}return!0}return t!==t&&n!==n}function moe(t){return Cpe?t instanceof File:!1}function poe(t,n,r){typeof r.value=="object"&&(r.value=ia(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||n==="__proto__"?Object.defineProperty(t,n,r):t[n]=r.value}function ia(t){if(typeof t!="object")return t;var n=0,r,u,f,d=Object.prototype.toString.call(t);if(d==="[object Object]"?f=Object.create(t.__proto__||null):d==="[object Array]"?f=Array(t.length):d==="[object Set]"?(f=new Set,t.forEach(function(w){f.add(ia(w))})):d==="[object Map]"?(f=new Map,t.forEach(function(w,x){f.set(ia(x),ia(w))})):d==="[object Date]"?f=new Date(+t):d==="[object RegExp]"?f=new RegExp(t.source,t.flags):d==="[object DataView]"?f=new t.constructor(ia(t.buffer)):d==="[object ArrayBuffer]"?f=t.slice(0):d.slice(-6)==="Array]"&&(f=new t.constructor(t)),f){for(u=Object.getOwnPropertySymbols(t);n<u.length;n++)poe(f,u[n],Object.getOwnPropertyDescriptor(t,u[n]));for(n=0,u=Object.getOwnPropertyNames(t);n<u.length;n++)Object.hasOwnProperty.call(f,r=u[n])&&f[r]===t[r]||poe(f,r,Object.getOwnPropertyDescriptor(t,r))}return f||t}function EQ(t){return d7(t)?t.replace(/\[|\]/gi,""):t}function pl(t,n,r){return t?d7(n)?t[EQ(n)]:(n||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((f,d)=>Spe(f)&&d in f?f[d]:r,t):r}function i0(t,n,r){if(d7(n)){t[EQ(n)]=r;return}const u=n.split(/\.|\[(\d+)\]/).filter(Boolean);let f=t;for(let d=0;d<u.length;d++){if(d===u.length-1){f[u[d]]=r;return}(!(u[d]in f)||AN(f[u[d]]))&&(f[u[d]]=zae(u[d+1])?[]:{}),f=f[u[d]]}}function AX(t,n){if(Array.isArray(t)&&zae(n)){t.splice(Number(n),1);return}dx(t)&&delete t[n]}function rV(t,n){if(d7(n)){delete t[EQ(n)];return}const r=n.split(/\.|\[(\d+)\]/).filter(Boolean);let u=t;for(let d=0;d<r.length;d++){if(d===r.length-1){AX(u,r[d]);break}if(!(r[d]in u)||AN(u[r[d]]))break;u=u[r[d]]}const f=r.map((d,w)=>pl(t,r.slice(0,w).join(".")));for(let d=f.length-1;d>=0;d--)if(!!Nae(f[d])){if(d===0){AX(t,r[0]);continue}AX(f[d-1],r[d-1])}}function au(t){return Object.keys(t)}function TQ(t,n=void 0){const r=k1();return(r==null?void 0:r.provides[t])||cu(t,n)}function yJ(t,n,r){if(Array.isArray(t)){const u=[...t],f=u.findIndex(d=>rc(d,n));return f>=0?u.splice(f,1):u.push(n),u}return rc(t,n)?r:n}function goe(t,n=0){let r=null,u=[];return function(...f){return r&&window.clearTimeout(r),r=window.setTimeout(()=>{const d=t(...f);u.forEach(w=>w(d)),u=[]},n),new Promise(d=>u.push(d))}}function Rpe(t,n){return dx(n)&&n.number?vpe(t):t}function bJ(t,n){let r;return async function(...f){const d=t(...f);r=d;const w=await d;return d!==r||(r=void 0,n(w,f)),w}}function Ipe({get:t,set:n}){const r=as(ia(t()));return Ps(t,u=>{rc(u,r.value)||(r.value=ia(u))},{deep:!0}),Ps(r,u=>{rc(u,t())||n(ia(u))},{deep:!0}),r}function Ape(t){return y1(t)?t():At(t)}function Ope(t){return To(()=>Ape(t))}const f7=(t,n,r)=>n.slots.default?typeof t=="string"||!t?n.slots.default(r()):{default:()=>{var u,f;return(f=(u=n.slots).default)===null||f===void 0?void 0:f.call(u,r())}}:n.slots.default;function OX(t){if(Fae(t))return t._value}function Fae(t){return"_value"in t}function RQ(t){if(!xQ(t))return t;const n=t.target;if(zI(n.type)&&Fae(n))return OX(n);if(n.type==="file"&&n.files){const r=Array.from(n.files);return n.multiple?r:r[0]}if(xpe(n))return Array.from(n.options).filter(r=>r.selected&&!r.disabled).map(OX);if(Lae(n)){const r=Array.from(n.options).find(u=>u.selected);return r?OX(r):n.value}return n.value}function $ae(t){const n={};return Object.defineProperty(n,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?dx(t)&&t._$$isNormalized?t:dx(t)?Object.keys(t).reduce((r,u)=>{const f=Dpe(t[u]);return t[u]!==!1&&(r[u]=yoe(f)),r},n):typeof t!="string"?n:t.split("|").reduce((r,u)=>{const f=Mpe(u);return f.name&&(r[f.name]=yoe(f.params)),r},n):n}function Dpe(t){return t===!0?[]:Array.isArray(t)||dx(t)?t:[t]}function yoe(t){const n=r=>typeof r=="string"&&r[0]==="@"?Ppe(r.slice(1)):r;return Array.isArray(t)?t.map(n):t instanceof RegExp?[t]:Object.keys(t).reduce((r,u)=>(r[u]=n(t[u]),r),{})}const Mpe=t=>{let n=[];const r=t.split(":")[0];return t.includes(":")&&(n=t.split(":").slice(1).join(":").split(",")),{name:r,params:n}};function Ppe(t){const n=r=>pl(r,t)||r[t];return n.__locatorRef=t,n}function zpe(t){return Array.isArray(t)?t.filter(gJ):au(t).filter(n=>gJ(t[n])).map(n=>t[n])}const Npe={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Lpe=Object.assign({},Npe);const IQ=()=>Lpe;async function Vae(t,n,r={}){const u=r==null?void 0:r.bails,f={name:(r==null?void 0:r.name)||"{field}",rules:n,label:r==null?void 0:r.label,bails:u!=null?u:!0,formData:(r==null?void 0:r.values)||{}},w=(await Bpe(f,t)).errors;return{errors:w,valid:!w.length}}async function Bpe(t,n){if(_0(t.rules)||ON(t.rules))return $pe(n,t.rules);if(y1(t.rules)||Array.isArray(t.rules)){const w={field:t.label||t.name,name:t.name,label:t.label,form:t.formData,value:n},x=Array.isArray(t.rules)?t.rules:[t.rules],T=x.length,A=[];for(let $=0;$<T;$++){const B=x[$],H=await B(n,w);if(typeof H!="string"&&H)continue;const ke=typeof H=="string"?H:Uae(w);if(A.push(ke),t.bails)return{errors:A}}return{errors:A}}const r=Object.assign(Object.assign({},t),{rules:$ae(t.rules)}),u=[],f=Object.keys(r.rules),d=f.length;for(let w=0;w<d;w++){const x=f[w],T=await Vpe(r,n,{name:x,params:r.rules[x]});if(T.error&&(u.push(T.error),t.bails))return{errors:u}}return{errors:u}}function Fpe(t){return!!t&&t.name==="ValidationError"}function Hae(t){return{__type:"VVTypedSchema",async parse(r){var u;try{return{output:await t.validate(r,{abortEarly:!1}),errors:[]}}catch(f){if(!Fpe(f))throw f;if(!(!((u=f.inner)===null||u===void 0)&&u.length)&&f.errors.length)return{errors:[{path:f.path,errors:f.errors}]};const d=f.inner.reduce((w,x)=>{const T=x.path||"";return w[T]||(w[T]={errors:[],path:T}),w[T].errors.push(...x.errors),w},{});return{errors:Object.values(d)}}}}}async function $pe(t,n){const u=await(_0(n)?n:Hae(n)).parse(t),f=[];for(const d of u.errors)d.errors.length&&f.push(...d.errors);return{errors:f}}async function Vpe(t,n,r){const u=_pe(r.name);if(!u)throw new Error(`No such validator '${r.name}' exists.`);const f=Hpe(r.params,t.formData),d={field:t.label||t.name,name:t.name,label:t.label,value:n,form:t.formData,rule:Object.assign(Object.assign({},r),{params:f})},w=await u(n,f,d);return typeof w=="string"?{error:w}:{error:w?void 0:Uae(d)}}function Uae(t){const n=IQ().generateMessage;return n?n(t):"Field is invalid"}function Hpe(t,n){const r=u=>gJ(u)?u(n):u;return Array.isArray(t)?t.map(r):Object.keys(t).reduce((u,f)=>(u[f]=r(t[f]),u),{})}async function Upe(t,n){const u=await(_0(t)?t:Hae(t)).parse(n),f={},d={};for(const w of u.errors){const x=w.errors,T=(w.path||"").replace(/\["(\d+)"\]/g,(A,$)=>`[${$}]`);f[T]={valid:!x.length,errors:x},x.length&&(d[T]=x[0])}return{valid:!u.errors.length,results:f,errors:d,values:u.value}}async function jpe(t,n,r){const f=au(t).map(async A=>{var $,B,H;const le=($=r==null?void 0:r.names)===null||$===void 0?void 0:$[A],ke=await Vae(pl(n,A),t[A],{name:(le==null?void 0:le.name)||A,label:le==null?void 0:le.label,values:n,bails:(H=(B=r==null?void 0:r.bailsMap)===null||B===void 0?void 0:B[A])!==null&&H!==void 0?H:!0});return Object.assign(Object.assign({},ke),{path:A})});let d=!0;const w=await Promise.all(f),x={},T={};for(const A of w)x[A.path]={valid:A.valid,errors:A.errors},A.valid||(d=!1,T[A.path]=A.errors[0]);return{valid:d,results:x,errors:T}}let boe=0;function Wpe(t,n){const{value:r,initialValue:u,setInitialValue:f}=jae(t,n.modelValue,n.form),{errorMessage:d,errors:w,setErrors:x}=qpe(t,n.form),T=Gpe(r,u,w),A=boe>=Number.MAX_SAFE_INTEGER?0:++boe;function $(B){var H;"value"in B&&(r.value=B.value),"errors"in B&&x(B.errors),"touched"in B&&(T.touched=(H=B.touched)!==null&&H!==void 0?H:T.touched),"initialValue"in B&&f(B.initialValue)}return{id:A,path:t,value:r,initialValue:u,meta:T,errors:w,errorMessage:d,setState:$}}function jae(t,n,r){const u=as(At(n));function f(){return r?pl(r.meta.value.initialValues,At(t),At(u)):At(u)}function d(A){if(!r){u.value=A;return}r.stageInitialValue(At(t),A,!0)}const w=To(f);if(!r)return{value:as(f()),initialValue:w,setInitialValue:d};const x=Zpe(n,r,w,t);return r.stageInitialValue(At(t),x,!0),{value:To({get(){return pl(r.values,At(t))},set(A){r.setFieldValue(At(t),A)}}),initialValue:w,setInitialValue:d}}function Zpe(t,n,r,u){return br(t)?At(t):t!==void 0?t:pl(n.values,At(u),At(r))}function Gpe(t,n,r){const u=Ku({touched:!1,pending:!1,valid:!0,validated:!!At(r).length,initialValue:To(()=>At(n)),dirty:To(()=>!rc(At(t),At(n)))});return Ps(r,f=>{u.valid=!f.length},{immediate:!0,flush:"sync"}),u}function qpe(t,n){function r(f){return f?Array.isArray(f)?f:[f]:[]}if(!n){const f=as([]);return{errors:f,errorMessage:To(()=>f.value[0]),setErrors:d=>{f.value=r(d)}}}const u=To(()=>n.errorBag.value[At(t)]||[]);return{errors:u,errorMessage:To(()=>u.value[0]),setErrors:f=>{n.setFieldErrorBag(At(t),r(f))}}}function Kpe(t,n,r){return zI(r==null?void 0:r.type)?Jpe(t,n,r):Wae(t,n,r)}function Wae(t,n,r){const{initialValue:u,validateOnMount:f,bails:d,type:w,checkedValue:x,label:T,validateOnValueUpdate:A,uncheckedValue:$,controlled:B,keepValueOnUnmount:H,modelPropName:le,syncVModel:ke,form:Ne}=Ype(r),Se=B?TQ(l4):void 0,je=Ne||Se,gt=Ope(t);let ee=!1;const{id:ht,value:He,initialValue:Ze,meta:J,setState:Te,errors:st,errorMessage:_t}=Wpe(gt,{modelValue:u,form:je});ke&&Qpe({value:He,prop:le,handleChange:Ht});const Ue=()=>{J.touched=!0},de=To(()=>{let me=At(n);const j=At(je==null?void 0:je.schema);return j&&!ON(j)&&!_0(j)&&(me=Xpe(j,At(gt))||me),ON(me)||_0(me)||y1(me)||Array.isArray(me)?me:$ae(me)});async function Tn(me){var j,lt;return je!=null&&je.validateSchema?(j=(await je.validateSchema(me)).results[At(gt)])!==null&&j!==void 0?j:{valid:!0,errors:[]}:Vae(He.value,de.value,{name:At(gt),label:At(T),values:(lt=je==null?void 0:je.values)!==null&&lt!==void 0?lt:{},bails:d})}const nn=bJ(async()=>(J.pending=!0,J.validated=!0,Tn("validated-only")),me=>(ee&&(me.valid=!0,me.errors=[]),Te({errors:me.errors}),J.pending=!1,me)),Ot=bJ(async()=>Tn("silent"),me=>(ee&&(me.valid=!0),J.valid=me.valid,me));function L(me){return(me==null?void 0:me.mode)==="silent"?Ot():nn()}function Ht(me,j=!0){const lt=RQ(me);He.value=lt,!A&&j&&nn()}P0(()=>{if(f)return nn();(!je||!je.validateSchema)&&Ot()});function ot(me){J.touched=me}let Bn,cn=ia(He.value);function it(){Bn=Ps(He,(me,j)=>{if(rc(me,j)&&rc(me,cn))return;(A?nn:Ot)(),cn=ia(me)},{deep:!0})}it();function Gn(me){var j;Bn==null||Bn();const lt=me&&"value"in me?me.value:Ze.value;Te({value:ia(lt),initialValue:ia(lt),touched:(j=me==null?void 0:me.touched)!==null&&j!==void 0?j:!1,errors:(me==null?void 0:me.errors)||[]}),J.pending=!1,J.validated=!1,Ot(),Vd(()=>{it()})}function io(me){He.value=me}function uo(me){Te({errors:Array.isArray(me)?me:[me]})}const Et={id:ht,name:gt,label:T,value:He,meta:J,errors:st,errorMessage:_t,type:w,checkedValue:x,uncheckedValue:$,bails:d,keepValueOnUnmount:H,resetField:Gn,handleReset:()=>Gn(),validate:L,handleChange:Ht,handleBlur:Ue,setState:Te,setTouched:ot,setErrors:uo,setValue:io};if(v0(kpe,Et),br(n)&&typeof At(n)!="function"&&Ps(n,(me,j)=>{rc(me,j)||(J.validated?nn():Ot())},{deep:!0}),!je)return Et;je.register(Et),wx(()=>{ee=!0,je.unregister(Et)});const Ee=To(()=>{const me=de.value;return!me||y1(me)||ON(me)||_0(me)||Array.isArray(me)?{}:Object.keys(me).reduce((j,lt)=>{const Je=zpe(me[lt]).map(Tt=>Tt.__locatorRef).reduce((Tt,re)=>{const Re=pl(je.values,re)||je.values[re];return Re!==void 0&&(Tt[re]=Re),Tt},{});return Object.assign(j,Je),j},{})});return Ps(Ee,(me,j)=>{if(!Object.keys(me).length)return;!rc(me,j)&&(J.validated?nn():Ot())}),Et}function Ype(t){var n;const r=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),f=((n=t==null?void 0:t.syncVModel)!==null&&n!==void 0?n:!0)&&!("initialValue"in(t||{}))?vJ(k1(),(t==null?void 0:t.modelPropName)||"modelValue"):t==null?void 0:t.initialValue;if(!t)return Object.assign(Object.assign({},r()),{initialValue:f});const d="valueProp"in t?t.valueProp:t.checkedValue,w="standalone"in t?!t.standalone:t.controlled;return Object.assign(Object.assign(Object.assign({},r()),t||{}),{initialValue:f,controlled:w!=null?w:!0,checkedValue:d})}function Xpe(t,n){if(!!t)return t[n]}function Jpe(t,n,r){const u=r!=null&&r.standalone?void 0:TQ(l4),f=r==null?void 0:r.checkedValue,d=r==null?void 0:r.uncheckedValue;function w(x){const T=x.handleChange,A=To(()=>{const B=At(x.value),H=At(f);return Array.isArray(B)?B.findIndex(le=>rc(le,H))>=0:rc(H,B)});function $(B,H=!0){var le;if(A.value===((le=B==null?void 0:B.target)===null||le===void 0?void 0:le.checked)){H&&x.validate();return}let ke=RQ(B);u||(ke=yJ(At(x.value),At(f),At(d))),T(ke,H)}return Object.assign(Object.assign({},x),{checked:A,checkedValue:f,uncheckedValue:d,handleChange:$})}return w(Wae(t,n,r))}function Qpe({prop:t,value:n,handleChange:r}){const u=k1();if(!u)return;const f=t||"modelValue",d=`update:${f}`;f in u.props&&(Ps(n,w=>{rc(w,vJ(u,f))||u.emit(d,w)}),Ps(()=>vJ(u,f),w=>{if(w===SV&&n.value===void 0)return;const x=w===SV?void 0:w;rc(x,Rpe(n.value,u.props.modelModifiers))||r(x)}))}function vJ(t,n){if(!!t)return t.props[n]}cg({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>IQ().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:SV},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(t,n){const r=Ol(t,"rules"),u=Ol(t,"name"),f=Ol(t,"label"),d=Ol(t,"uncheckedValue"),w=Ol(t,"keepValue"),{errors:x,value:T,errorMessage:A,validate:$,handleChange:B,handleBlur:H,setTouched:le,resetField:ke,handleReset:Ne,meta:Se,checked:je,setErrors:gt}=Kpe(u,r,{validateOnMount:t.validateOnMount,bails:t.bails,standalone:t.standalone,type:n.attrs.type,initialValue:tge(t,n),checkedValue:n.attrs.value,uncheckedValue:d,label:f,validateOnValueUpdate:!1,keepValueOnUnmount:w}),ee=function(st,_t=!0){B(st,_t),n.emit("update:modelValue",T.value)},ht=Te=>{zI(n.attrs.type)||(T.value=RQ(Te))},He=function(st){ht(st),n.emit("update:modelValue",T.value)},Ze=To(()=>{const{validateOnInput:Te,validateOnChange:st,validateOnBlur:_t,validateOnModelUpdate:Ue}=ege(t),de=[H,n.attrs.onBlur,_t?$:void 0].filter(Boolean),Tn=[Ht=>ee(Ht,Te),n.attrs.onInput].filter(Boolean),nn=[Ht=>ee(Ht,st),n.attrs.onChange].filter(Boolean),Ot={name:t.name,onBlur:de,onInput:Tn,onChange:nn};Ot["onUpdate:modelValue"]=Ht=>ee(Ht,Ue),zI(n.attrs.type)&&je&&(Ot.checked=je.value);const L=voe(t,n);return Tpe(L,n.attrs)&&(Ot.value=T.value),Ot});function J(){return{field:Ze.value,value:T.value,meta:Se,errors:x.value,errorMessage:A.value,validate:$,resetField:ke,handleChange:ee,handleInput:He,handleReset:Ne,handleBlur:H,setTouched:le,setErrors:gt}}return n.expose({setErrors:gt,setTouched:le,reset:ke,validate:$,handleChange:B}),()=>{const Te=ja(voe(t,n)),st=f7(Te,n,J);return Te?Ph(Te,Object.assign(Object.assign({},n.attrs),Ze.value),st):st}}});function voe(t,n){let r=t.as||"";return!t.as&&!n.slots.default&&(r="input"),r}function ege(t){var n,r,u,f;const{validateOnInput:d,validateOnChange:w,validateOnBlur:x,validateOnModelUpdate:T}=IQ();return{validateOnInput:(n=t.validateOnInput)!==null&&n!==void 0?n:d,validateOnChange:(r=t.validateOnChange)!==null&&r!==void 0?r:w,validateOnBlur:(u=t.validateOnBlur)!==null&&u!==void 0?u:x,validateOnModelUpdate:(f=t.validateOnModelUpdate)!==null&&f!==void 0?f:T}}function tge(t,n){return zI(n.attrs.type)?hoe(t,"modelValue")?t.modelValue:void 0:hoe(t,"modelValue")?t.modelValue:n.attrs.value}let nge=0;function Zae(t){const n=At(t==null?void 0:t.initialValues)||{},r=At(t==null?void 0:t.validationSchema);return r&&_0(r)&&y1(r.cast)?ia(r.cast(n)||{}):ia(n)}function oge(t){var n;const r=nge++,u=new Set;let f=!1;const d=as({}),w=as(!1),x=as(0),T=[],A=Ku(Zae(t)),{errorBag:$,setErrorBag:B,setFieldErrorBag:H}=age(t==null?void 0:t.initialErrors),le=To(()=>au($.value).reduce((oe,be)=>{const Xe=$.value[be];return Xe&&Xe.length&&(oe[be]=Xe[0]),oe},{}));function ke(oe){const be=d.value[oe];return Array.isArray(be)?be[0]:be}function Ne(oe){return!!d.value[oe]}const Se=To(()=>au(d.value).reduce((oe,be)=>{const Xe=ke(be);return Xe&&(oe[be]={name:At(Xe.name)||"",label:At(Xe.label)||""}),oe},{})),je=To(()=>au(d.value).reduce((oe,be)=>{var Xe;const ut=ke(be);return ut&&(oe[be]=(Xe=ut.bails)!==null&&Xe!==void 0?Xe:!0),oe},{})),gt=Object.assign({},(t==null?void 0:t.initialErrors)||{}),ee=(n=t==null?void 0:t.keepValuesOnUnmount)!==null&&n!==void 0?n:!1,{initialValues:ht,originalInitialValues:He,setInitialValues:Ze}=rge(d,A,t),J=sge(d,A,He,le),Te=To(()=>[...u,...au(d.value)].reduce((oe,be)=>{const Xe=pl(A,be);return i0(oe,be,Xe),oe},{})),st=t==null?void 0:t.validationSchema,_t=goe(et,5),Ue=goe(et,5),de=bJ(async oe=>await oe==="silent"?_t():Ue(),(oe,[be])=>{const Xe=L.fieldsByPath.value||{},ut=au(L.errorBag.value);return[...new Set([...au(oe.results),...au(Xe),...ut])].reduce((Dt,Vt)=>{const an=Xe[Vt],_n=(oe.results[Vt]||{errors:[]}).errors,jn={errors:_n,valid:!_n.length};if(Dt.results[Vt]=jn,jn.valid||(Dt.errors[Vt]=jn.errors[0]),!an)return cn(Vt,_n),Dt;if(ot(an,mo=>mo.meta.valid=jn.valid),be==="silent")return Dt;const lo=Array.isArray(an)?an.some(mo=>mo.meta.validated):an.meta.validated;return be==="validated-only"&&!lo||ot(an,mo=>mo.setState({errors:jn.errors})),Dt},{valid:oe.valid,results:{},errors:{}})});function Tn(oe){return function(Xe,ut){return function(Dt){return Dt instanceof Event&&(Dt.preventDefault(),Dt.stopPropagation()),me(au(d.value).reduce((Vt,an)=>(Vt[an]=!0,Vt),{})),w.value=!0,x.value++,Oe().then(Vt=>{const an=ia(A);if(Vt.valid&&typeof Xe=="function"){const _n=ia(Te.value);let jn=oe?_n:an;return Vt.values&&(jn=Vt.values),Xe(jn,{evt:Dt,controlledValues:_n,setErrors:it,setFieldError:cn,setTouched:me,setFieldTouched:Ee,setValues:io,setFieldValue:Gn,resetForm:lt,resetField:j})}!Vt.valid&&typeof ut=="function"&&ut({values:an,evt:Dt,errors:Vt.errors,results:Vt.results})}).then(Vt=>(w.value=!1,Vt),Vt=>{throw w.value=!1,Vt})}}}const Ot=Tn(!1);Ot.withControlled=Tn(!0);const L={formId:r,fieldsByPath:d,values:A,controlledValues:Te,errorBag:$,errors:le,schema:st,submitCount:x,meta:J,isSubmitting:w,fieldArrays:T,keepValuesOnUnmount:ee,validateSchema:At(st)?de:void 0,validate:Oe,register:re,unregister:Re,setFieldErrorBag:H,validateField:yt,setFieldValue:Gn,setValues:io,setErrors:it,setFieldError:cn,setFieldTouched:Ee,setTouched:me,resetForm:lt,resetField:j,handleSubmit:Ot,stageInitialValue:ce,unsetInitialValue:Ye,setFieldInitialValue:Fe,useFieldModel:Et};function Ht(oe){return Array.isArray(oe)}function ot(oe,be){return Array.isArray(oe)?oe.forEach(be):be(oe)}function Bn(oe){Object.values(d.value).forEach(be=>{!be||ot(be,oe)})}function cn(oe,be){H(oe,be)}function it(oe){B(oe)}function Gn(oe,be,{force:Xe}={force:!1}){var ut;const zt=d.value[oe],Dt=ia(be);if(!zt){i0(A,oe,Dt);return}if(Ht(zt)&&((ut=zt[0])===null||ut===void 0?void 0:ut.type)==="checkbox"&&!Array.isArray(be)){const an=ia(yJ(pl(A,oe)||[],be,void 0));i0(A,oe,an);return}let Vt=Dt;!Ht(zt)&&zt.type==="checkbox"&&!Xe&&!f&&(Vt=ia(yJ(pl(A,oe),be,At(zt.uncheckedValue)))),i0(A,oe,Vt)}function io(oe){au(A).forEach(be=>{delete A[be]}),au(oe).forEach(be=>{Gn(be,oe[be])}),T.forEach(be=>be&&be.reset())}function uo(oe){const{value:be}=jae(oe,void 0,L);return Ps(be,()=>{Ne(At(oe))||Oe({mode:"validated-only"})},{deep:!0}),u.add(At(oe)),be}function Et(oe){return Array.isArray(oe)?oe.map(uo):uo(oe)}function Ee(oe,be){const Xe=d.value[oe];Xe&&ot(Xe,ut=>ut.setTouched(be))}function me(oe){au(oe).forEach(be=>{Ee(be,!!oe[be])})}function j(oe,be){const Xe=d.value[oe];Xe&&ot(Xe,ut=>ut.resetField(be))}function lt(oe){f=!0,Bn(Xe=>Xe.resetField());const be=oe!=null&&oe.values?oe.values:He.value;Ze(be),io(be),oe!=null&&oe.touched&&me(oe.touched),it((oe==null?void 0:oe.errors)||{}),x.value=(oe==null?void 0:oe.submitCount)||0,Vd(()=>{f=!1})}function Je(oe,be){const Xe=R0(oe),ut=be;if(!d.value[ut]){d.value[ut]=Xe;return}const zt=d.value[ut];zt&&!Array.isArray(zt)&&(d.value[ut]=[zt]),d.value[ut]=[...d.value[ut],Xe]}function Tt(oe,be){const Xe=be,ut=d.value[Xe];if(!!ut){if(!Ht(ut)&&oe.id===ut.id){delete d.value[Xe];return}if(Ht(ut)){const zt=ut.findIndex(Dt=>Dt.id===oe.id);if(zt===-1)return;ut.splice(zt,1),ut.length||delete d.value[Xe]}}}function re(oe){const be=At(oe.name);Je(oe,be),br(oe.name)&&Ps(oe.name,async(ut,zt)=>{await Vd(),Tt(oe,zt),Je(oe,ut),(le.value[zt]||le.value[ut])&&(cn(zt,void 0),yt(ut)),await Vd(),Ne(zt)||rV(A,zt)});const Xe=At(oe.errorMessage);Xe&&(gt==null?void 0:gt[be])!==Xe&&yt(be),delete gt[be]}function Re(oe){const be=At(oe.name),Xe=d.value[be],ut=!!Xe&&Ht(Xe);Tt(oe,be),Vd(()=>{var zt;const Dt=(zt=At(oe.keepValueOnUnmount))!==null&&zt!==void 0?zt:At(ee),Vt=pl(A,be);if(ut&&(Xe===d.value[be]||!d.value[be])&&!Dt)if(Array.isArray(Vt)){const _n=Vt.findIndex(jn=>rc(jn,At(oe.checkedValue)));if(_n>-1){const jn=[...Vt];jn.splice(_n,1),Gn(be,jn,{force:!0})}}else Vt===At(oe.checkedValue)&&rV(A,be);if(!Ne(be)){if(cn(be,void 0),Dt||ut&&Array.isArray(Vt)&&!Nae(Vt))return;rV(A,be)}})}async function Oe(oe){const be=(oe==null?void 0:oe.mode)||"force";if(be==="force"&&Bn(Dt=>Dt.meta.validated=!0),L.validateSchema)return L.validateSchema(be);const Xe=await Promise.all(Object.values(d.value).map(Dt=>{const Vt=Array.isArray(Dt)?Dt[0]:Dt;return Vt?Vt.validate(oe).then(an=>({key:At(Vt.name),valid:an.valid,errors:an.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),ut={},zt={};for(const Dt of Xe)ut[Dt.key]={valid:Dt.valid,errors:Dt.errors},Dt.errors.length&&(zt[Dt.key]=Dt.errors[0]);return{valid:Xe.every(Dt=>Dt.valid),results:ut,errors:zt}}async function yt(oe){const be=d.value[oe];return be?Array.isArray(be)?be.map(Xe=>Xe.validate())[0]:be.validate():Promise.resolve({errors:[],valid:!0})}function Ye(oe){rV(ht.value,oe)}function ce(oe,be,Xe=!1){i0(A,oe,be),Fe(oe,be),Xe&&!(t!=null&&t.initialValues)&&i0(He.value,oe,ia(be))}function Fe(oe,be){i0(ht.value,oe,ia(be))}async function et(){const oe=At(st);return oe?ON(oe)||_0(oe)?await Upe(oe,A):await jpe(oe,A,{names:Se.value,bailsMap:je.value}):{valid:!0,results:{},errors:{}}}const $e=Ot((oe,{evt:be})=>{Bae(be)&&be.target.submit()});return P0(()=>{if(t!=null&&t.initialErrors&&it(t.initialErrors),t!=null&&t.initialTouched&&me(t.initialTouched),t!=null&&t.validateOnMount){Oe();return}L.validateSchema&&L.validateSchema("silent")}),br(st)&&Ps(st,()=>{var oe;(oe=L.validateSchema)===null||oe===void 0||oe.call(L,"validated-only")}),v0(l4,L),Object.assign(Object.assign({},L),{handleReset:()=>lt(),submitForm:$e})}function sge(t,n,r,u){const f={touched:"some",pending:"some",valid:"every"},d=To(()=>!rc(n,At(r)));function w(){const T=Object.values(t.value).flat(1).filter(Boolean);return au(f).reduce((A,$)=>{const B=f[$];return A[$]=T[B](H=>H.meta[$]),A},{})}const x=Ku(w());return lQ(()=>{const T=w();x.touched=T.touched,x.valid=T.valid,x.pending=T.pending}),To(()=>Object.assign(Object.assign({initialValues:At(r)},x),{valid:x.valid&&!au(u.value).length,dirty:d.value}))}function rge(t,n,r){const u=Zae(r),f=r==null?void 0:r.initialValues,d=as(u),w=as(ia(u));function x(T,A=!1){d.value=ia(T),w.value=ia(T),A&&au(t.value).forEach($=>{const B=t.value[$],H=Array.isArray(B)?B.some(ke=>ke.meta.touched):B==null?void 0:B.meta.touched;if(!B||H)return;const le=pl(d.value,$);i0(n,$,ia(le))})}return br(f)&&Ps(f,T=>{x(T,!0)},{deep:!0}),{initialValues:d,originalInitialValues:w,setInitialValues:x}}function age(t){const n=as({});function r(d){return Array.isArray(d)?d:d?[d]:[]}function u(d,w){if(!w){delete n.value[d];return}n.value[d]=r(w)}function f(d){n.value=au(d).reduce((w,x)=>{const T=d[x];return T&&(w[x]=r(T)),w},{})}return t&&f(t),{errorBag:n,setErrorBag:f,setFieldErrorBag:u}}cg({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(t,n){const r=Ol(t,"initialValues"),u=Ol(t,"validationSchema"),f=Ol(t,"keepValues"),{errors:d,errorBag:w,values:x,meta:T,isSubmitting:A,submitCount:$,controlledValues:B,validate:H,validateField:le,handleReset:ke,resetForm:Ne,handleSubmit:Se,setErrors:je,setFieldError:gt,setFieldValue:ee,setValues:ht,setFieldTouched:He,setTouched:Ze,resetField:J}=oge({validationSchema:u.value?u:void 0,initialValues:r,initialErrors:t.initialErrors,initialTouched:t.initialTouched,validateOnMount:t.validateOnMount,keepValuesOnUnmount:f}),Te=Se((L,{evt:Ht})=>{Bae(Ht)&&Ht.target.submit()},t.onInvalidSubmit),st=t.onSubmit?Se(t.onSubmit,t.onInvalidSubmit):Te;function _t(L){xQ(L)&&L.preventDefault(),ke(),typeof n.attrs.onReset=="function"&&n.attrs.onReset()}function Ue(L,Ht){return Se(typeof L=="function"&&!Ht?L:Ht,t.onInvalidSubmit)(L)}function de(){return ia(x)}function Tn(){return ia(T.value)}function nn(){return ia(d.value)}function Ot(){return{meta:T.value,errors:d.value,errorBag:w.value,values:x,isSubmitting:A.value,submitCount:$.value,controlledValues:B.value,validate:H,validateField:le,handleSubmit:Ue,handleReset:ke,submitForm:Te,setErrors:je,setFieldError:gt,setFieldValue:ee,setValues:ht,setFieldTouched:He,setTouched:Ze,resetForm:Ne,resetField:J,getValues:de,getMeta:Tn,getErrors:nn}}return n.expose({setFieldError:gt,setErrors:je,setFieldValue:ee,setValues:ht,setFieldTouched:He,setTouched:Ze,resetForm:Ne,validate:H,validateField:le,resetField:J,getValues:de,getMeta:Tn,getErrors:nn}),function(){const Ht=t.as==="form"?t.as:ja(t.as),ot=f7(Ht,n,Ot);if(!t.as)return ot;const Bn=t.as==="form"?{novalidate:!0}:{};return Ph(Ht,Object.assign(Object.assign(Object.assign({},Bn),n.attrs),{onSubmit:st,onReset:_t}),ot)}}});function ige(t){const n=TQ(l4,void 0),r=as([]),u=()=>{},f={fields:r,remove:u,push:u,swap:u,insert:u,update:u,replace:u,prepend:u,move:u};if(!n||!At(t))return f;const d=n.fieldArrays.find(He=>At(He.path)===At(t));if(d)return d;let w=0;function x(){return pl(n==null?void 0:n.values,At(t),[])||[]}function T(){const He=x();r.value=He.map($),A()}T();function A(){const He=r.value.length;for(let Ze=0;Ze<He;Ze++){const J=r.value[Ze];J.isFirst=Ze===0,J.isLast=Ze===He-1}}function $(He){const Ze=w++;return{key:Ze,value:Ipe({get(){const Te=pl(n==null?void 0:n.values,At(t),[])||[],st=r.value.findIndex(_t=>_t.key===Ze);return st===-1?He:Te[st]},set(Te){const st=r.value.findIndex(_t=>_t.key===Ze);st!==-1&&je(st,Te)}}),isFirst:!1,isLast:!1}}function B(){A(),n==null||n.validate({mode:"silent"})}function H(He){const Ze=At(t),J=pl(n==null?void 0:n.values,Ze);if(!J||!Array.isArray(J))return;const Te=[...J];Te.splice(He,1),n==null||n.unsetInitialValue(Ze+`[${He}]`),n==null||n.setFieldValue(Ze,Te),r.value.splice(He,1),B()}function le(He){const Ze=At(t),J=pl(n==null?void 0:n.values,Ze),Te=AN(J)?[]:J;if(!Array.isArray(Te))return;const st=[...Te];st.push(He),n==null||n.stageInitialValue(Ze+`[${st.length-1}]`,He),n==null||n.setFieldValue(Ze,st),r.value.push($(He)),B()}function ke(He,Ze){const J=At(t),Te=pl(n==null?void 0:n.values,J);if(!Array.isArray(Te)||!(He in Te)||!(Ze in Te))return;const st=[...Te],_t=[...r.value],Ue=st[He];st[He]=st[Ze],st[Ze]=Ue;const de=_t[He];_t[He]=_t[Ze],_t[Ze]=de,n==null||n.setFieldValue(J,st),r.value=_t,A()}function Ne(He,Ze){const J=At(t),Te=pl(n==null?void 0:n.values,J);if(!Array.isArray(Te)||Te.length<He)return;const st=[...Te],_t=[...r.value];st.splice(He,0,Ze),_t.splice(He,0,$(Ze)),n==null||n.setFieldValue(J,st),r.value=_t,B()}function Se(He){const Ze=At(t);n==null||n.setFieldValue(Ze,He),T(),B()}function je(He,Ze){const J=At(t),Te=pl(n==null?void 0:n.values,J);!Array.isArray(Te)||Te.length-1<He||(n==null||n.setFieldValue(`${J}[${He}]`,Ze),n==null||n.validate({mode:"validated-only"}))}function gt(He){const Ze=At(t),J=pl(n==null?void 0:n.values,Ze),Te=AN(J)?[]:J;if(!Array.isArray(Te))return;const st=[He,...Te];n==null||n.stageInitialValue(Ze+`[${st.length-1}]`,He),n==null||n.setFieldValue(Ze,st),r.value.unshift($(He)),B()}function ee(He,Ze){const J=At(t),Te=pl(n==null?void 0:n.values,J),st=AN(Te)?[]:[...Te];if(!Array.isArray(Te)||!(He in Te)||!(Ze in Te))return;const _t=[...r.value],Ue=_t[He];_t.splice(He,1),_t.splice(Ze,0,Ue);const de=st[He];st.splice(He,1),st.splice(Ze,0,de),n==null||n.setFieldValue(J,st),r.value=_t,B()}const ht={fields:r,remove:H,push:le,swap:ke,insert:Ne,update:je,replace:Se,prepend:gt,move:ee};return n.fieldArrays.push(Object.assign({path:t,reset:T},ht)),wx(()=>{const He=n.fieldArrays.findIndex(Ze=>At(Ze.path)===At(t));He>=0&&n.fieldArrays.splice(He,1)}),Ps(x,He=>{const Ze=r.value.map(J=>J.value);rc(He,Ze)||T()}),ht}cg({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(t,n){const{push:r,remove:u,swap:f,insert:d,replace:w,update:x,prepend:T,move:A,fields:$}=ige(Ol(t,"name"));function B(){return{fields:$.value,push:r,remove:u,swap:f,insert:d,update:x,replace:w,prepend:T,move:A}}return n.expose({push:r,remove:u,swap:f,insert:d,update:x,replace:w,prepend:T,move:A}),()=>f7(void 0,n,B)}});cg({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,n){const r=cu(l4,void 0),u=To(()=>r==null?void 0:r.errors.value[t.name]);function f(){return{message:u.value}}return()=>{if(!u.value)return;const d=t.as?ja(t.as):t.as,w=f7(d,n,f),x=Object.assign({role:"alert"},n.attrs);return!d&&(Array.isArray(w)||!w)&&(w==null?void 0:w.length)?w:(Array.isArray(w)||!w)&&!(w!=null&&w.length)?Ph(d||"span",x,u.value):Ph(d,x,w)}}});const woe={alpha_dash:Sae,alpha_num:xae,alpha_spaces:Eae,alpha:Cae,between:Tae,confirmed:Qme,digits:Rae,dimensions:npe,email:ope,ext:spe,image:rpe,integer:ape,is_not:lpe,is:ipe,length:upe,max_value:Oae,max:Aae,mimes:dpe,min_value:Mae,min:Dae,not_one_of:fpe,numeric:ppe,one_of:SQ,regex:Pae,required:gpe,size:ype,url:bpe};/**
  * vee-validate v4.8.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function _oe(t){return typeof t=="function"}const lge=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function Gae(t,n){return Object.keys(n).forEach(r=>{if(lge(n[r])){t[r]||(t[r]={}),Gae(t[r],n[r]);return}t[r]=n[r]}),t}function koe(t,n){return t.replace(/(\d:)?{([^}]+)}/g,function(r,u,f){if(!u||!n.params)return f in n?n[f]:n.params&&f in n.params?n.params[f]:`{${f}}`;if(!Array.isArray(n.params))return f in n.params?n.params[f]:`{${f}}`;const d=Number(u.replace(":",""));return d in n.params?n.params[d]:`${u}{${f}}`})}class cge{constructor(n,r){this.container={},this.locale=n,this.merge(r)}resolve(n){return this.format(this.locale,n)}getLocaleDefault(n,r){var u,f,d,w,x;return((d=(f=(u=this.container[n])===null||u===void 0?void 0:u.fields)===null||f===void 0?void 0:f[r])===null||d===void 0?void 0:d._default)||((x=(w=this.container[n])===null||w===void 0?void 0:w.messages)===null||x===void 0?void 0:x._default)}format(n,r){var u,f,d,w,x,T,A;let $;const{rule:B,form:H,label:le,name:ke}=r,Ne=le||((f=(u=this.container[n])===null||u===void 0?void 0:u.names)===null||f===void 0?void 0:f[ke])||ke;return B?($=((x=(w=(d=this.container[n])===null||d===void 0?void 0:d.fields)===null||w===void 0?void 0:w[ke])===null||x===void 0?void 0:x[B.name])||((A=(T=this.container[n])===null||T===void 0?void 0:T.messages)===null||A===void 0?void 0:A[B.name]),$||($=this.getLocaleDefault(n,ke)||`${Ne} is not valid`),_oe($)?$(r):koe($,Object.assign(Object.assign({},H),{field:Ne,params:B.params}))):($=this.getLocaleDefault(n,ke)||`${Ne} is not valid`,_oe($)?$(r):koe($,Object.assign(Object.assign({},H),{field:Ne})))}merge(n){Gae(this.container,n)}}let YS;function uge(t,n){YS||(YS=new cge("en",{}));const r=u=>YS.resolve(u);return typeof t=="string"?(YS.locale=t,n&&YS.merge({[t]:n}),r):(YS.merge(t),r)}function dge(t){YS.locale=t}const fge="zh_TW",hge={_default:"{field} \u7684\u503C\u7121\u6548",alpha:"{field} \u9808\u4EE5\u82F1\u6587\u7D44\u6210",alpha_dash:"{field} \u9808\u4EE5\u82F1\u6578\u3001\u7834\u6298\u865F\u53CA\u5E95\u7DDA\u7D44\u6210",alpha_num:"{field} \u9808\u4EE5\u82F1\u6578\u7D44\u6210",alpha_spaces:"{field} \u9808\u4EE5\u82F1\u6587\u53CA\u7A7A\u683C\u7D44\u6210",between:"{field} \u9808\u4ECB\u65BC 0:{min} \u81F3 1:{max}\u4E4B\u9593",confirmed:" {field} \u4E0D\u4E00\u81F4",digits:"{field} \u9808\u70BA 0:{length} \u4F4D\u6578\u5B57",dimensions:"{field} \u5716\u7247\u5C3A\u5BF8\u4E0D\u6B63\u78BA\u3002\u9808\u70BA 0:{width} x 1:{height} \u50CF\u7D20",email:"{field} \u9808\u70BA\u6709\u6548\u7684\u96FB\u5B50\u4FE1\u7BB1",not_one_of:"{field} \u7684\u9078\u9805\u7121\u6548",ext:"{field} \u9808\u70BA\u6709\u6548\u7684\u6A94\u6848",image:"{field} \u9808\u70BA\u5716\u7247",one_of:"{field} \u7684\u9078\u9805\u7121\u6548",integer:"{field} \u9808\u70BA\u6574\u6578",length:"{field} \u7684\u9577\u5EA6\u9808\u70BA 0:{length} \u5B57\u5143",max:"{field} \u4E0D\u80FD\u5927\u65BC 0:{length} \u500B\u5B57\u5143",max_value:"{field} \u4E0D\u5F97\u5927\u65BC 0:{max}",mimes:"{field} \u9808\u70BA\u6709\u6548\u7684\u6A94\u6848\u985E\u578B",min:"{field} \u4E0D\u80FD\u5C0F\u65BC 0:{length} \u500B\u5B57\u5143",min_value:"{field} \u4E0D\u5F97\u5C0F\u65BC 0:{min}",numeric:"{field} \u9808\u70BA\u6578\u5B57",regex:"{field} \u7684\u683C\u5F0F\u932F\u8AA4",required:"{field} \u70BA\u5FC5\u586B",required_if:"{field} \u70BA\u5FC5\u586B",size:"{field} \u7684\u6A94\u6848\u9808\u5C0F\u65BC 0:{size}KB",url:"{field} \u9808\u70BA\u6709\u6548\u7684URL"},mge={code:fge,messages:hge};const pge={__name:"App",setup(t){const n=cae(),r=w=>{n.add({severity:"success",summary:"Success Message",detail:w,life:3e3})},u=w=>{n.add({severity:"info",summary:"Info Message",detail:w,life:3e3})},f=w=>{n.add({severity:"warn",summary:"Warn Message",detail:w,life:3e3})},d=w=>{console.log(w),n.add({severity:"error",summary:"Error Message",detail:w,life:3e3})};return(w,x)=>{const T=Dn("RouterView"),A=Dn("Toast");return ye(),Pe(qn,null,[Nn(T,{onShowSuccess:r,onShowInfo:u,onShowWarn:f,onShowError:d}),Nn(A)],64)}}},gge="modulepreload",yge=function(t){return"/vite_base_dist/"+t},Coe={},Al=function(n,r,u){if(!r||r.length===0)return n();const f=document.getElementsByTagName("link");return Promise.all(r.map(d=>{if(d=yge(d),d in Coe)return;Coe[d]=!0;const w=d.endsWith(".css"),x=w?'[rel="stylesheet"]':"";if(!!u)for(let $=f.length-1;$>=0;$--){const B=f[$];if(B.href===d&&(!w||B.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${x}`))return;const A=document.createElement("link");if(A.rel=w?"stylesheet":gge,w||(A.as="script",A.crossOrigin=""),A.href=d,document.head.appendChild(A),w)return new Promise(($,B)=>{A.addEventListener("load",$),A.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${d}`)))})})).then(()=>n())};/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const _I=typeof window<"u";function bge(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Kr=Object.assign;function DX(t,n){const r={};for(const u in n){const f=n[u];r[u]=ig(f)?f.map(t):t(f)}return r}const DN=()=>{},ig=Array.isArray,vge=/\/$/,wge=t=>t.replace(vge,"");function MX(t,n,r="/"){let u,f={},d="",w="";const x=n.indexOf("#");let T=n.indexOf("?");return x<T&&x>=0&&(T=-1),T>-1&&(u=n.slice(0,T),d=n.slice(T+1,x>-1?x:n.length),f=t(d)),x>-1&&(u=u||n.slice(0,x),w=n.slice(x,n.length)),u=Sge(u!=null?u:n,r),{fullPath:u+(d&&"?")+d+w,path:u,query:f,hash:w}}function _ge(t,n){const r=n.query?t(n.query):"";return n.path+(r&&"?")+r+(n.hash||"")}function Soe(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function kge(t,n,r){const u=n.matched.length-1,f=r.matched.length-1;return u>-1&&u===f&&NI(n.matched[u],r.matched[f])&&qae(n.params,r.params)&&t(n.query)===t(r.query)&&n.hash===r.hash}function NI(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function qae(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(!Cge(t[r],n[r]))return!1;return!0}function Cge(t,n){return ig(t)?xoe(t,n):ig(n)?xoe(n,t):t===n}function xoe(t,n){return ig(n)?t.length===n.length&&t.every((r,u)=>r===n[u]):t.length===1&&t[0]===n}function Sge(t,n){if(t.startsWith("/"))return t;if(!t)return n;const r=n.split("/"),u=t.split("/");let f=r.length-1,d,w;for(d=0;d<u.length;d++)if(w=u[d],w!==".")if(w==="..")f>1&&f--;else break;return r.slice(0,f).join("/")+"/"+u.slice(d-(d===u.length?1:0)).join("/")}var qN;(function(t){t.pop="pop",t.push="push"})(qN||(qN={}));var MN;(function(t){t.back="back",t.forward="forward",t.unknown=""})(MN||(MN={}));function xge(t){if(!t)if(_I){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),wge(t)}const Ege=/^[^#]+#/;function Tge(t,n){return t.replace(Ege,"#")+n}function Rge(t,n){const r=document.documentElement.getBoundingClientRect(),u=t.getBoundingClientRect();return{behavior:n.behavior,left:u.left-r.left-(n.left||0),top:u.top-r.top-(n.top||0)}}const h7=()=>({left:window.pageXOffset,top:window.pageYOffset});function Ige(t){let n;if("el"in t){const r=t.el,u=typeof r=="string"&&r.startsWith("#"),f=typeof r=="string"?u?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!f)return;n=Rge(f,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function Eoe(t,n){return(history.state?history.state.position-n:-1)+t}const wJ=new Map;function Age(t,n){wJ.set(t,n)}function Oge(t){const n=wJ.get(t);return wJ.delete(t),n}let Dge=()=>location.protocol+"//"+location.host;function Kae(t,n){const{pathname:r,search:u,hash:f}=n,d=t.indexOf("#");if(d>-1){let x=f.includes(t.slice(d))?t.slice(d).length:1,T=f.slice(x);return T[0]!=="/"&&(T="/"+T),Soe(T,"")}return Soe(r,t)+u+f}function Mge(t,n,r,u){let f=[],d=[],w=null;const x=({state:H})=>{const le=Kae(t,location),ke=r.value,Ne=n.value;let Se=0;if(H){if(r.value=le,n.value=H,w&&w===ke){w=null;return}Se=Ne?H.position-Ne.position:0}else u(le);f.forEach(je=>{je(r.value,ke,{delta:Se,type:qN.pop,direction:Se?Se>0?MN.forward:MN.back:MN.unknown})})};function T(){w=r.value}function A(H){f.push(H);const le=()=>{const ke=f.indexOf(H);ke>-1&&f.splice(ke,1)};return d.push(le),le}function $(){const{history:H}=window;!H.state||H.replaceState(Kr({},H.state,{scroll:h7()}),"")}function B(){for(const H of d)H();d=[],window.removeEventListener("popstate",x),window.removeEventListener("beforeunload",$)}return window.addEventListener("popstate",x),window.addEventListener("beforeunload",$),{pauseListeners:T,listen:A,destroy:B}}function Toe(t,n,r,u=!1,f=!1){return{back:t,current:n,forward:r,replaced:u,position:window.history.length,scroll:f?h7():null}}function Pge(t){const{history:n,location:r}=window,u={value:Kae(t,r)},f={value:n.state};f.value||d(u.value,{back:null,current:u.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function d(T,A,$){const B=t.indexOf("#"),H=B>-1?(r.host&&document.querySelector("base")?t:t.slice(B))+T:Dge()+t+T;try{n[$?"replaceState":"pushState"](A,"",H),f.value=A}catch(le){console.error(le),r[$?"replace":"assign"](H)}}function w(T,A){const $=Kr({},n.state,Toe(f.value.back,T,f.value.forward,!0),A,{position:f.value.position});d(T,$,!0),u.value=T}function x(T,A){const $=Kr({},f.value,n.state,{forward:T,scroll:h7()});d($.current,$,!0);const B=Kr({},Toe(u.value,T,null),{position:$.position+1},A);d(T,B,!1),u.value=T}return{location:u,state:f,push:x,replace:w}}function zge(t){t=xge(t);const n=Pge(t),r=Mge(t,n.state,n.location,n.replace);function u(d,w=!0){w||r.pauseListeners(),history.go(d)}const f=Kr({location:"",base:t,go:u,createHref:Tge.bind(null,t)},n,r);return Object.defineProperty(f,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(f,"state",{enumerable:!0,get:()=>n.state.value}),f}function Nge(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),zge(t)}function Lge(t){return typeof t=="string"||t&&typeof t=="object"}function Yae(t){return typeof t=="string"||typeof t=="symbol"}const o0={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Xae=Symbol("");var Roe;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Roe||(Roe={}));function LI(t,n){return Kr(new Error,{type:t,[Xae]:!0},n)}function a1(t,n){return t instanceof Error&&Xae in t&&(n==null||!!(t.type&n))}const Ioe="[^/]+?",Bge={sensitive:!1,strict:!1,start:!0,end:!0},Fge=/[.+*?^${}()[\]/\\]/g;function $ge(t,n){const r=Kr({},Bge,n),u=[];let f=r.start?"^":"";const d=[];for(const A of t){const $=A.length?[]:[90];r.strict&&!A.length&&(f+="/");for(let B=0;B<A.length;B++){const H=A[B];let le=40+(r.sensitive?.25:0);if(H.type===0)B||(f+="/"),f+=H.value.replace(Fge,"\\$&"),le+=40;else if(H.type===1){const{value:ke,repeatable:Ne,optional:Se,regexp:je}=H;d.push({name:ke,repeatable:Ne,optional:Se});const gt=je||Ioe;if(gt!==Ioe){le+=10;try{new RegExp(`(${gt})`)}catch(ht){throw new Error(`Invalid custom RegExp for param "${ke}" (${gt}): `+ht.message)}}let ee=Ne?`((?:${gt})(?:/(?:${gt}))*)`:`(${gt})`;B||(ee=Se&&A.length<2?`(?:/${ee})`:"/"+ee),Se&&(ee+="?"),f+=ee,le+=20,Se&&(le+=-8),Ne&&(le+=-20),gt===".*"&&(le+=-50)}$.push(le)}u.push($)}if(r.strict&&r.end){const A=u.length-1;u[A][u[A].length-1]+=.7000000000000001}r.strict||(f+="/?"),r.end?f+="$":r.strict&&(f+="(?:/|$)");const w=new RegExp(f,r.sensitive?"":"i");function x(A){const $=A.match(w),B={};if(!$)return null;for(let H=1;H<$.length;H++){const le=$[H]||"",ke=d[H-1];B[ke.name]=le&&ke.repeatable?le.split("/"):le}return B}function T(A){let $="",B=!1;for(const H of t){(!B||!$.endsWith("/"))&&($+="/"),B=!1;for(const le of H)if(le.type===0)$+=le.value;else if(le.type===1){const{value:ke,repeatable:Ne,optional:Se}=le,je=ke in A?A[ke]:"";if(ig(je)&&!Ne)throw new Error(`Provided param "${ke}" is an array but it is not repeatable (* or + modifiers)`);const gt=ig(je)?je.join("/"):je;if(!gt)if(Se)H.length<2&&($.endsWith("/")?$=$.slice(0,-1):B=!0);else throw new Error(`Missing required param "${ke}"`);$+=gt}}return $||"/"}return{re:w,score:u,keys:d,parse:x,stringify:T}}function Vge(t,n){let r=0;for(;r<t.length&&r<n.length;){const u=n[r]-t[r];if(u)return u;r++}return t.length<n.length?t.length===1&&t[0]===40+40?-1:1:t.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function Hge(t,n){let r=0;const u=t.score,f=n.score;for(;r<u.length&&r<f.length;){const d=Vge(u[r],f[r]);if(d)return d;r++}if(Math.abs(f.length-u.length)===1){if(Aoe(u))return 1;if(Aoe(f))return-1}return f.length-u.length}function Aoe(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const Uge={type:0,value:""},jge=/[a-zA-Z0-9_]/;function Wge(t){if(!t)return[[]];if(t==="/")return[[Uge]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function n(le){throw new Error(`ERR (${r})/"${A}": ${le}`)}let r=0,u=r;const f=[];let d;function w(){d&&f.push(d),d=[]}let x=0,T,A="",$="";function B(){!A||(r===0?d.push({type:0,value:A}):r===1||r===2||r===3?(d.length>1&&(T==="*"||T==="+")&&n(`A repeatable param (${A}) must be alone in its segment. eg: '/:ids+.`),d.push({type:1,value:A,regexp:$,repeatable:T==="*"||T==="+",optional:T==="*"||T==="?"})):n("Invalid state to consume buffer"),A="")}function H(){A+=T}for(;x<t.length;){if(T=t[x++],T==="\\"&&r!==2){u=r,r=4;continue}switch(r){case 0:T==="/"?(A&&B(),w()):T===":"?(B(),r=1):H();break;case 4:H(),r=u;break;case 1:T==="("?r=2:jge.test(T)?H():(B(),r=0,T!=="*"&&T!=="?"&&T!=="+"&&x--);break;case 2:T===")"?$[$.length-1]=="\\"?$=$.slice(0,-1)+T:r=3:$+=T;break;case 3:B(),r=0,T!=="*"&&T!=="?"&&T!=="+"&&x--,$="";break;default:n("Unknown state");break}}return r===2&&n(`Unfinished custom RegExp for param "${A}"`),B(),w(),f}function Zge(t,n,r){const u=$ge(Wge(t.path),r),f=Kr(u,{record:t,parent:n,children:[],alias:[]});return n&&!f.record.aliasOf==!n.record.aliasOf&&n.children.push(f),f}function Gge(t,n){const r=[],u=new Map;n=Moe({strict:!1,end:!0,sensitive:!1},n);function f($){return u.get($)}function d($,B,H){const le=!H,ke=qge($);ke.aliasOf=H&&H.record;const Ne=Moe(n,$),Se=[ke];if("alias"in $){const ee=typeof $.alias=="string"?[$.alias]:$.alias;for(const ht of ee)Se.push(Kr({},ke,{components:H?H.record.components:ke.components,path:ht,aliasOf:H?H.record:ke}))}let je,gt;for(const ee of Se){const{path:ht}=ee;if(B&&ht[0]!=="/"){const He=B.record.path,Ze=He[He.length-1]==="/"?"":"/";ee.path=B.record.path+(ht&&Ze+ht)}if(je=Zge(ee,B,Ne),H?H.alias.push(je):(gt=gt||je,gt!==je&&gt.alias.push(je),le&&$.name&&!Doe(je)&&w($.name)),ke.children){const He=ke.children;for(let Ze=0;Ze<He.length;Ze++)d(He[Ze],je,H&&H.children[Ze])}H=H||je,(je.record.components&&Object.keys(je.record.components).length||je.record.name||je.record.redirect)&&T(je)}return gt?()=>{w(gt)}:DN}function w($){if(Yae($)){const B=u.get($);B&&(u.delete($),r.splice(r.indexOf(B),1),B.children.forEach(w),B.alias.forEach(w))}else{const B=r.indexOf($);B>-1&&(r.splice(B,1),$.record.name&&u.delete($.record.name),$.children.forEach(w),$.alias.forEach(w))}}function x(){return r}function T($){let B=0;for(;B<r.length&&Hge($,r[B])>=0&&($.record.path!==r[B].record.path||!Jae($,r[B]));)B++;r.splice(B,0,$),$.record.name&&!Doe($)&&u.set($.record.name,$)}function A($,B){let H,le={},ke,Ne;if("name"in $&&$.name){if(H=u.get($.name),!H)throw LI(1,{location:$});Ne=H.record.name,le=Kr(Ooe(B.params,H.keys.filter(gt=>!gt.optional).map(gt=>gt.name)),$.params&&Ooe($.params,H.keys.map(gt=>gt.name))),ke=H.stringify(le)}else if("path"in $)ke=$.path,H=r.find(gt=>gt.re.test(ke)),H&&(le=H.parse(ke),Ne=H.record.name);else{if(H=B.name?u.get(B.name):r.find(gt=>gt.re.test(B.path)),!H)throw LI(1,{location:$,currentLocation:B});Ne=H.record.name,le=Kr({},B.params,$.params),ke=H.stringify(le)}const Se=[];let je=H;for(;je;)Se.unshift(je.record),je=je.parent;return{name:Ne,path:ke,params:le,matched:Se,meta:Yge(Se)}}return t.forEach($=>d($)),{addRoute:d,resolve:A,removeRoute:w,getRoutes:x,getRecordMatcher:f}}function Ooe(t,n){const r={};for(const u of n)u in t&&(r[u]=t[u]);return r}function qge(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Kge(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Kge(t){const n={},r=t.props||!1;if("component"in t)n.default=r;else for(const u in t.components)n[u]=typeof r=="boolean"?r:r[u];return n}function Doe(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Yge(t){return t.reduce((n,r)=>Kr(n,r.meta),{})}function Moe(t,n){const r={};for(const u in t)r[u]=u in n?n[u]:t[u];return r}function Jae(t,n){return n.children.some(r=>r===t||Jae(t,r))}const Qae=/#/g,Xge=/&/g,Jge=/\//g,Qge=/=/g,eye=/\?/g,eie=/\+/g,tye=/%5B/g,nye=/%5D/g,tie=/%5E/g,oye=/%60/g,nie=/%7B/g,sye=/%7C/g,oie=/%7D/g,rye=/%20/g;function AQ(t){return encodeURI(""+t).replace(sye,"|").replace(tye,"[").replace(nye,"]")}function aye(t){return AQ(t).replace(nie,"{").replace(oie,"}").replace(tie,"^")}function _J(t){return AQ(t).replace(eie,"%2B").replace(rye,"+").replace(Qae,"%23").replace(Xge,"%26").replace(oye,"`").replace(nie,"{").replace(oie,"}").replace(tie,"^")}function iye(t){return _J(t).replace(Qge,"%3D")}function lye(t){return AQ(t).replace(Qae,"%23").replace(eye,"%3F")}function cye(t){return t==null?"":lye(t).replace(Jge,"%2F")}function xV(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function uye(t){const n={};if(t===""||t==="?")return n;const u=(t[0]==="?"?t.slice(1):t).split("&");for(let f=0;f<u.length;++f){const d=u[f].replace(eie," "),w=d.indexOf("="),x=xV(w<0?d:d.slice(0,w)),T=w<0?null:xV(d.slice(w+1));if(x in n){let A=n[x];ig(A)||(A=n[x]=[A]),A.push(T)}else n[x]=T}return n}function Poe(t){let n="";for(let r in t){const u=t[r];if(r=iye(r),u==null){u!==void 0&&(n+=(n.length?"&":"")+r);continue}(ig(u)?u.map(d=>d&&_J(d)):[u&&_J(u)]).forEach(d=>{d!==void 0&&(n+=(n.length?"&":"")+r,d!=null&&(n+="="+d))})}return n}function dye(t){const n={};for(const r in t){const u=t[r];u!==void 0&&(n[r]=ig(u)?u.map(f=>f==null?null:""+f):u==null?u:""+u)}return n}const fye=Symbol(""),zoe=Symbol(""),m7=Symbol(""),OQ=Symbol(""),kJ=Symbol("");function pN(){let t=[];function n(u){return t.push(u),()=>{const f=t.indexOf(u);f>-1&&t.splice(f,1)}}function r(){t=[]}return{add:n,list:()=>t,reset:r}}function u0(t,n,r,u,f){const d=u&&(u.enterCallbacks[f]=u.enterCallbacks[f]||[]);return()=>new Promise((w,x)=>{const T=B=>{B===!1?x(LI(4,{from:r,to:n})):B instanceof Error?x(B):Lge(B)?x(LI(2,{from:n,to:B})):(d&&u.enterCallbacks[f]===d&&typeof B=="function"&&d.push(B),w())},A=t.call(u&&u.instances[f],n,r,T);let $=Promise.resolve(A);t.length<3&&($=$.then(T)),$.catch(B=>x(B))})}function PX(t,n,r,u){const f=[];for(const d of t)for(const w in d.components){let x=d.components[w];if(!(n!=="beforeRouteEnter"&&!d.instances[w]))if(hye(x)){const A=(x.__vccOpts||x)[n];A&&f.push(u0(A,r,u,d,w))}else{let T=x();f.push(()=>T.then(A=>{if(!A)return Promise.reject(new Error(`Couldn't resolve component "${w}" at "${d.path}"`));const $=bge(A)?A.default:A;d.components[w]=$;const H=($.__vccOpts||$)[n];return H&&u0(H,r,u,d,w)()}))}}return f}function hye(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Noe(t){const n=cu(m7),r=cu(OQ),u=To(()=>n.resolve(At(t.to))),f=To(()=>{const{matched:T}=u.value,{length:A}=T,$=T[A-1],B=r.matched;if(!$||!B.length)return-1;const H=B.findIndex(NI.bind(null,$));if(H>-1)return H;const le=Loe(T[A-2]);return A>1&&Loe($)===le&&B[B.length-1].path!==le?B.findIndex(NI.bind(null,T[A-2])):H}),d=To(()=>f.value>-1&&yye(r.params,u.value.params)),w=To(()=>f.value>-1&&f.value===r.matched.length-1&&qae(r.params,u.value.params));function x(T={}){return gye(T)?n[At(t.replace)?"replace":"push"](At(t.to)).catch(DN):Promise.resolve()}return{route:u,href:To(()=>u.value.href),isActive:d,isExactActive:w,navigate:x}}const mye=cg({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Noe,setup(t,{slots:n}){const r=Ku(Noe(t)),{options:u}=cu(m7),f=To(()=>({[Boe(t.activeClass,u.linkActiveClass,"router-link-active")]:r.isActive,[Boe(t.exactActiveClass,u.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const d=n.default&&n.default(r);return t.custom?d:Ph("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:f.value},d)}}}),pye=mye;function gye(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function yye(t,n){for(const r in n){const u=n[r],f=t[r];if(typeof u=="string"){if(u!==f)return!1}else if(!ig(f)||f.length!==u.length||u.some((d,w)=>d!==f[w]))return!1}return!0}function Loe(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Boe=(t,n,r)=>t!=null?t:n!=null?n:r,bye=cg({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:r}){const u=cu(kJ),f=To(()=>t.route||u.value),d=cu(zoe,0),w=To(()=>{let A=At(d);const{matched:$}=f.value;let B;for(;(B=$[A])&&!B.components;)A++;return A}),x=To(()=>f.value.matched[w.value]);v0(zoe,To(()=>w.value+1)),v0(fye,x),v0(kJ,f);const T=as();return Ps(()=>[T.value,x.value,t.name],([A,$,B],[H,le,ke])=>{$&&($.instances[B]=A,le&&le!==$&&A&&A===H&&($.leaveGuards.size||($.leaveGuards=le.leaveGuards),$.updateGuards.size||($.updateGuards=le.updateGuards))),A&&$&&(!le||!NI($,le)||!H)&&($.enterCallbacks[B]||[]).forEach(Ne=>Ne(A))},{flush:"post"}),()=>{const A=f.value,$=t.name,B=x.value,H=B&&B.components[$];if(!H)return Foe(r.default,{Component:H,route:A});const le=B.props[$],ke=le?le===!0?A.params:typeof le=="function"?le(A):le:null,Se=Ph(H,Kr({},ke,n,{onVnodeUnmounted:je=>{je.component.isUnmounted&&(B.instances[$]=null)},ref:T}));return Foe(r.default,{Component:Se,route:A})||Se}}});function Foe(t,n){if(!t)return null;const r=t(n);return r.length===1?r[0]:r}const vye=bye;function wye(t){const n=Gge(t.routes,t),r=t.parseQuery||uye,u=t.stringifyQuery||Poe,f=t.history,d=pN(),w=pN(),x=pN(),T=tfe(o0);let A=o0;_I&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const $=DX.bind(null,Et=>""+Et),B=DX.bind(null,cye),H=DX.bind(null,xV);function le(Et,Ee){let me,j;return Yae(Et)?(me=n.getRecordMatcher(Et),j=Ee):j=Et,n.addRoute(j,me)}function ke(Et){const Ee=n.getRecordMatcher(Et);Ee&&n.removeRoute(Ee)}function Ne(){return n.getRoutes().map(Et=>Et.record)}function Se(Et){return!!n.getRecordMatcher(Et)}function je(Et,Ee){if(Ee=Kr({},Ee||T.value),typeof Et=="string"){const re=MX(r,Et,Ee.path),Re=n.resolve({path:re.path},Ee),Oe=f.createHref(re.fullPath);return Kr(re,Re,{params:H(Re.params),hash:xV(re.hash),redirectedFrom:void 0,href:Oe})}let me;if("path"in Et)me=Kr({},Et,{path:MX(r,Et.path,Ee.path).path});else{const re=Kr({},Et.params);for(const Re in re)re[Re]==null&&delete re[Re];me=Kr({},Et,{params:B(Et.params)}),Ee.params=B(Ee.params)}const j=n.resolve(me,Ee),lt=Et.hash||"";j.params=$(H(j.params));const Je=_ge(u,Kr({},Et,{hash:aye(lt),path:j.path})),Tt=f.createHref(Je);return Kr({fullPath:Je,hash:lt,query:u===Poe?dye(Et.query):Et.query||{}},j,{redirectedFrom:void 0,href:Tt})}function gt(Et){return typeof Et=="string"?MX(r,Et,T.value.path):Kr({},Et)}function ee(Et,Ee){if(A!==Et)return LI(8,{from:Ee,to:Et})}function ht(Et){return J(Et)}function He(Et){return ht(Kr(gt(Et),{replace:!0}))}function Ze(Et){const Ee=Et.matched[Et.matched.length-1];if(Ee&&Ee.redirect){const{redirect:me}=Ee;let j=typeof me=="function"?me(Et):me;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=gt(j):{path:j},j.params={}),Kr({query:Et.query,hash:Et.hash,params:"path"in j?{}:Et.params},j)}}function J(Et,Ee){const me=A=je(Et),j=T.value,lt=Et.state,Je=Et.force,Tt=Et.replace===!0,re=Ze(me);if(re)return J(Kr(gt(re),{state:typeof re=="object"?Kr({},lt,re.state):lt,force:Je,replace:Tt}),Ee||me);const Re=me;Re.redirectedFrom=Ee;let Oe;return!Je&&kge(u,j,me)&&(Oe=LI(16,{to:Re,from:j}),cn(j,j,!0,!1)),(Oe?Promise.resolve(Oe):st(Re,j)).catch(yt=>a1(yt)?a1(yt,2)?yt:Bn(yt):Ht(yt,Re,j)).then(yt=>{if(yt){if(a1(yt,2))return J(Kr({replace:Tt},gt(yt.to),{state:typeof yt.to=="object"?Kr({},lt,yt.to.state):lt,force:Je}),Ee||Re)}else yt=Ue(Re,j,!0,Tt,lt);return _t(Re,j,yt),yt})}function Te(Et,Ee){const me=ee(Et,Ee);return me?Promise.reject(me):Promise.resolve()}function st(Et,Ee){let me;const[j,lt,Je]=_ye(Et,Ee);me=PX(j.reverse(),"beforeRouteLeave",Et,Ee);for(const re of j)re.leaveGuards.forEach(Re=>{me.push(u0(Re,Et,Ee))});const Tt=Te.bind(null,Et,Ee);return me.push(Tt),bI(me).then(()=>{me=[];for(const re of d.list())me.push(u0(re,Et,Ee));return me.push(Tt),bI(me)}).then(()=>{me=PX(lt,"beforeRouteUpdate",Et,Ee);for(const re of lt)re.updateGuards.forEach(Re=>{me.push(u0(Re,Et,Ee))});return me.push(Tt),bI(me)}).then(()=>{me=[];for(const re of Et.matched)if(re.beforeEnter&&!Ee.matched.includes(re))if(ig(re.beforeEnter))for(const Re of re.beforeEnter)me.push(u0(Re,Et,Ee));else me.push(u0(re.beforeEnter,Et,Ee));return me.push(Tt),bI(me)}).then(()=>(Et.matched.forEach(re=>re.enterCallbacks={}),me=PX(Je,"beforeRouteEnter",Et,Ee),me.push(Tt),bI(me))).then(()=>{me=[];for(const re of w.list())me.push(u0(re,Et,Ee));return me.push(Tt),bI(me)}).catch(re=>a1(re,8)?re:Promise.reject(re))}function _t(Et,Ee,me){for(const j of x.list())j(Et,Ee,me)}function Ue(Et,Ee,me,j,lt){const Je=ee(Et,Ee);if(Je)return Je;const Tt=Ee===o0,re=_I?history.state:{};me&&(j||Tt?f.replace(Et.fullPath,Kr({scroll:Tt&&re&&re.scroll},lt)):f.push(Et.fullPath,lt)),T.value=Et,cn(Et,Ee,me,Tt),Bn()}let de;function Tn(){de||(de=f.listen((Et,Ee,me)=>{if(!uo.listening)return;const j=je(Et),lt=Ze(j);if(lt){J(Kr(lt,{replace:!0}),j).catch(DN);return}A=j;const Je=T.value;_I&&Age(Eoe(Je.fullPath,me.delta),h7()),st(j,Je).catch(Tt=>a1(Tt,12)?Tt:a1(Tt,2)?(J(Tt.to,j).then(re=>{a1(re,20)&&!me.delta&&me.type===qN.pop&&f.go(-1,!1)}).catch(DN),Promise.reject()):(me.delta&&f.go(-me.delta,!1),Ht(Tt,j,Je))).then(Tt=>{Tt=Tt||Ue(j,Je,!1),Tt&&(me.delta&&!a1(Tt,8)?f.go(-me.delta,!1):me.type===qN.pop&&a1(Tt,20)&&f.go(-1,!1)),_t(j,Je,Tt)}).catch(DN)}))}let nn=pN(),Ot=pN(),L;function Ht(Et,Ee,me){Bn(Et);const j=Ot.list();return j.length?j.forEach(lt=>lt(Et,Ee,me)):console.error(Et),Promise.reject(Et)}function ot(){return L&&T.value!==o0?Promise.resolve():new Promise((Et,Ee)=>{nn.add([Et,Ee])})}function Bn(Et){return L||(L=!Et,Tn(),nn.list().forEach(([Ee,me])=>Et?me(Et):Ee()),nn.reset()),Et}function cn(Et,Ee,me,j){const{scrollBehavior:lt}=t;if(!_I||!lt)return Promise.resolve();const Je=!me&&Oge(Eoe(Et.fullPath,0))||(j||!me)&&history.state&&history.state.scroll||null;return Vd().then(()=>lt(Et,Ee,Je)).then(Tt=>Tt&&Ige(Tt)).catch(Tt=>Ht(Tt,Et,Ee))}const it=Et=>f.go(Et);let Gn;const io=new Set,uo={currentRoute:T,listening:!0,addRoute:le,removeRoute:ke,hasRoute:Se,getRoutes:Ne,resolve:je,options:t,push:ht,replace:He,go:it,back:()=>it(-1),forward:()=>it(1),beforeEach:d.add,beforeResolve:w.add,afterEach:x.add,onError:Ot.add,isReady:ot,install(Et){const Ee=this;Et.component("RouterLink",pye),Et.component("RouterView",vye),Et.config.globalProperties.$router=Ee,Object.defineProperty(Et.config.globalProperties,"$route",{enumerable:!0,get:()=>At(T)}),_I&&!Gn&&T.value===o0&&(Gn=!0,ht(f.location).catch(lt=>{}));const me={};for(const lt in o0)me[lt]=To(()=>T.value[lt]);Et.provide(m7,Ee),Et.provide(OQ,Ku(me)),Et.provide(kJ,T);const j=Et.unmount;io.add(Et),Et.unmount=function(){io.delete(Et),io.size<1&&(A=o0,de&&de(),de=null,T.value=o0,Gn=!1,L=!1),j()}}};return uo}function bI(t){return t.reduce((n,r)=>n.then(()=>r()),Promise.resolve())}function _ye(t,n){const r=[],u=[],f=[],d=Math.max(n.matched.length,t.matched.length);for(let w=0;w<d;w++){const x=n.matched[w];x&&(t.matched.find(A=>NI(A,x))?u.push(x):r.push(x));const T=t.matched[w];T&&(n.matched.find(A=>NI(A,T))||f.push(T))}return[r,u,f]}function sie(){return cu(m7)}function kye(){return cu(OQ)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rie={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=function(t,n){if(!t)throw KI(n)},KI=function(t){return new Error("Firebase Database ("+rie.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aie=function(t){const n=[];let r=0;for(let u=0;u<t.length;u++){let f=t.charCodeAt(u);f<128?n[r++]=f:f<2048?(n[r++]=f>>6|192,n[r++]=f&63|128):(f&64512)===55296&&u+1<t.length&&(t.charCodeAt(u+1)&64512)===56320?(f=65536+((f&1023)<<10)+(t.charCodeAt(++u)&1023),n[r++]=f>>18|240,n[r++]=f>>12&63|128,n[r++]=f>>6&63|128,n[r++]=f&63|128):(n[r++]=f>>12|224,n[r++]=f>>6&63|128,n[r++]=f&63|128)}return n},Cye=function(t){const n=[];let r=0,u=0;for(;r<t.length;){const f=t[r++];if(f<128)n[u++]=String.fromCharCode(f);else if(f>191&&f<224){const d=t[r++];n[u++]=String.fromCharCode((f&31)<<6|d&63)}else if(f>239&&f<365){const d=t[r++],w=t[r++],x=t[r++],T=((f&7)<<18|(d&63)<<12|(w&63)<<6|x&63)-65536;n[u++]=String.fromCharCode(55296+(T>>10)),n[u++]=String.fromCharCode(56320+(T&1023))}else{const d=t[r++],w=t[r++];n[u++]=String.fromCharCode((f&15)<<12|(d&63)<<6|w&63)}}return n.join("")},DQ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,n){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,u=[];for(let f=0;f<t.length;f+=3){const d=t[f],w=f+1<t.length,x=w?t[f+1]:0,T=f+2<t.length,A=T?t[f+2]:0,$=d>>2,B=(d&3)<<4|x>>4;let H=(x&15)<<2|A>>6,le=A&63;T||(le=64,w||(H=64)),u.push(r[$],r[B],r[H],r[le])}return u.join("")},encodeString(t,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(t):this.encodeByteArray(aie(t),n)},decodeString(t,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(t):Cye(this.decodeStringToByteArray(t,n))},decodeStringToByteArray(t,n){this.init_();const r=n?this.charToByteMapWebSafe_:this.charToByteMap_,u=[];for(let f=0;f<t.length;){const d=r[t.charAt(f++)],x=f<t.length?r[t.charAt(f)]:0;++f;const A=f<t.length?r[t.charAt(f)]:64;++f;const B=f<t.length?r[t.charAt(f)]:64;if(++f,d==null||x==null||A==null||B==null)throw Error();const H=d<<2|x>>4;if(u.push(H),A!==64){const le=x<<4&240|A>>2;if(u.push(le),B!==64){const ke=A<<6&192|B;u.push(ke)}}}return u},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},iie=function(t){const n=aie(t);return DQ.encodeByteArray(n,!0)},EV=function(t){return iie(t).replace(/\./g,"")},TV=function(t){try{return DQ.decodeString(t,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sye(t){return lie(void 0,t)}function lie(t,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const r=n;return new Date(r.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return n}for(const r in n)!n.hasOwnProperty(r)||!xye(r)||(t[r]=lie(t[r],n[r]));return t}function xye(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qu())}function DRe(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Eye(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cie(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tye(){const t=qu();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uie(){return rie.NODE_ADMIN===!0}function Rye(){try{return typeof indexedDB=="object"}catch{return!1}}function Iye(){return new Promise((t,n)=>{try{let r=!0;const u="validate-browser-context-for-indexeddb-analytics-module",f=self.indexedDB.open(u);f.onsuccess=()=>{f.result.close(),r||self.indexedDB.deleteDatabase(u),t(!0)},f.onupgradeneeded=()=>{r=!1},f.onerror=()=>{var d;n(((d=f.error)===null||d===void 0?void 0:d.message)||"")}}catch(r){n(r)}})}function Aye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oye=()=>Aye().__FIREBASE_DEFAULTS__,Dye=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mye=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=t&&TV(t[1]);return n&&JSON.parse(n)},PQ=()=>{try{return Oye()||Dye()||Mye()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},die=t=>{var n,r;return(r=(n=PQ())===null||n===void 0?void 0:n.emulatorHosts)===null||r===void 0?void 0:r[t]},Pye=t=>{const n=die(t);if(!n)return;const r=n.lastIndexOf(":");if(r<=0||r+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const u=parseInt(n.substring(r+1),10);return n[0]==="["?[n.substring(1,r-1),u]:[n.substring(0,r),u]},zye=()=>{var t;return(t=PQ())===null||t===void 0?void 0:t.config},fie=t=>{var n;return(n=PQ())===null||n===void 0?void 0:n[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}wrapCallback(n){return(r,u)=>{r?this.reject(r):this.resolve(u),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(r):n(r,u))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nye(t,n){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},u=n||"demo-project",f=t.iat||0,d=t.sub||t.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const w=Object.assign({iss:`https://securetoken.google.com/${u}`,aud:u,iat:f,exp:f+3600,auth_time:f,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}}},t),x="";return[EV(JSON.stringify(r)),EV(JSON.stringify(w)),x].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lye="FirebaseError";class z0 extends Error{constructor(n,r,u){super(r),this.code=n,this.customData=u,this.name=Lye,Object.setPrototypeOf(this,z0.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u4.prototype.create)}}class u4{constructor(n,r,u){this.service=n,this.serviceName=r,this.errors=u}create(n,...r){const u=r[0]||{},f=`${this.service}/${n}`,d=this.errors[n],w=d?Bye(d,u):"Error",x=`${this.serviceName}: ${w} (${f}).`;return new z0(f,x,u)}}function Bye(t,n){return t.replace(Fye,(r,u)=>{const f=n[u];return f!=null?String(f):`<${u}?>`})}const Fye=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t){return JSON.parse(t)}function oc(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hie=function(t){let n={},r={},u={},f="";try{const d=t.split(".");n=KN(TV(d[0])||""),r=KN(TV(d[1])||""),f=d[2],u=r.d||{},delete r.d}catch{}return{header:n,claims:r,data:u,signature:f}},$ye=function(t){const n=hie(t),r=n.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},Vye=function(t){const n=hie(t).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function BI(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}function CJ(t){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}function RV(t,n,r){const u={};for(const f in t)Object.prototype.hasOwnProperty.call(t,f)&&(u[f]=n.call(r,t[f],f,t));return u}function IV(t,n){if(t===n)return!0;const r=Object.keys(t),u=Object.keys(n);for(const f of r){if(!u.includes(f))return!1;const d=t[f],w=n[f];if($oe(d)&&$oe(w)){if(!IV(d,w))return!1}else if(d!==w)return!1}for(const f of u)if(!r.includes(f))return!1;return!0}function $oe(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t){const n=[];for(const[r,u]of Object.entries(t))Array.isArray(u)?u.forEach(f=>{n.push(encodeURIComponent(r)+"="+encodeURIComponent(f))}):n.push(encodeURIComponent(r)+"="+encodeURIComponent(u));return n.length?"&"+n.join("&"):""}function _N(t){const n={};return t.replace(/^\?/,"").split("&").forEach(u=>{if(u){const[f,d]=u.split("=");n[decodeURIComponent(f)]=decodeURIComponent(d)}}),n}function kN(t){const n=t.indexOf("?");if(!n)return"";const r=t.indexOf("#",n);return t.substring(n,r>0?r:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hye{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,r){r||(r=0);const u=this.W_;if(typeof n=="string")for(let B=0;B<16;B++)u[B]=n.charCodeAt(r)<<24|n.charCodeAt(r+1)<<16|n.charCodeAt(r+2)<<8|n.charCodeAt(r+3),r+=4;else for(let B=0;B<16;B++)u[B]=n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3],r+=4;for(let B=16;B<80;B++){const H=u[B-3]^u[B-8]^u[B-14]^u[B-16];u[B]=(H<<1|H>>>31)&4294967295}let f=this.chain_[0],d=this.chain_[1],w=this.chain_[2],x=this.chain_[3],T=this.chain_[4],A,$;for(let B=0;B<80;B++){B<40?B<20?(A=x^d&(w^x),$=1518500249):(A=d^w^x,$=1859775393):B<60?(A=d&w|x&(d|w),$=2400959708):(A=d^w^x,$=3395469782);const H=(f<<5|f>>>27)+A+T+$+u[B]&4294967295;T=x,x=w,w=(d<<30|d>>>2)&4294967295,d=f,f=H}this.chain_[0]=this.chain_[0]+f&4294967295,this.chain_[1]=this.chain_[1]+d&4294967295,this.chain_[2]=this.chain_[2]+w&4294967295,this.chain_[3]=this.chain_[3]+x&4294967295,this.chain_[4]=this.chain_[4]+T&4294967295}update(n,r){if(n==null)return;r===void 0&&(r=n.length);const u=r-this.blockSize;let f=0;const d=this.buf_;let w=this.inbuf_;for(;f<r;){if(w===0)for(;f<=u;)this.compress_(n,f),f+=this.blockSize;if(typeof n=="string"){for(;f<r;)if(d[w]=n.charCodeAt(f),++w,++f,w===this.blockSize){this.compress_(d),w=0;break}}else for(;f<r;)if(d[w]=n[f],++w,++f,w===this.blockSize){this.compress_(d),w=0;break}}this.inbuf_=w,this.total_+=r}digest(){const n=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let f=this.blockSize-1;f>=56;f--)this.buf_[f]=r&255,r/=256;this.compress_(this.buf_);let u=0;for(let f=0;f<5;f++)for(let d=24;d>=0;d-=8)n[u]=this.chain_[f]>>d&255,++u;return n}}function Uye(t,n){const r=new jye(t,n);return r.subscribe.bind(r)}class jye{constructor(n,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{n(this)}).catch(u=>{this.error(u)})}next(n){this.forEachObserver(r=>{r.next(n)})}error(n){this.forEachObserver(r=>{r.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,r,u){let f;if(n===void 0&&r===void 0&&u===void 0)throw new Error("Missing Observer.");Wye(n,["next","error","complete"])?f=n:f={next:n,error:r,complete:u},f.next===void 0&&(f.next=zX),f.error===void 0&&(f.error=zX),f.complete===void 0&&(f.complete=zX);const d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?f.error(this.finalError):f.complete()}catch{}}),this.observers.push(f),d}unsubscribeOne(n){this.observers===void 0||this.observers[n]===void 0||(delete this.observers[n],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(n){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,n)}sendOne(n,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[n]!==void 0)try{r(this.observers[n])}catch(u){typeof console<"u"&&console.error&&console.error(u)}})}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wye(t,n){if(typeof t!="object"||t===null)return!1;for(const r of n)if(r in t&&typeof t[r]=="function")return!0;return!1}function zX(){}function p7(t,n){return`${t} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zye=function(t){const n=[];let r=0;for(let u=0;u<t.length;u++){let f=t.charCodeAt(u);if(f>=55296&&f<=56319){const d=f-55296;u++,kn(u<t.length,"Surrogate pair missing trail surrogate.");const w=t.charCodeAt(u)-56320;f=65536+(d<<10)+w}f<128?n[r++]=f:f<2048?(n[r++]=f>>6|192,n[r++]=f&63|128):f<65536?(n[r++]=f>>12|224,n[r++]=f>>6&63|128,n[r++]=f&63|128):(n[r++]=f>>18|240,n[r++]=f>>12&63|128,n[r++]=f>>6&63|128,n[r++]=f&63|128)}return n},g7=function(t){let n=0;for(let r=0;r<t.length;r++){const u=t.charCodeAt(r);u<128?n++:u<2048?n+=2:u>=55296&&u<=56319?(n+=4,r++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t){return t&&t._delegate?t._delegate:t}class fx{constructor(n,r,u){this.name=n,this.instanceFactory=r,this.type=u,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gye{constructor(n,r){this.name=n,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const r=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(r)){const u=new c4;if(this.instancesDeferred.set(r,u),this.isInitialized(r)||this.shouldAutoInitialize())try{const f=this.getOrInitializeService({instanceIdentifier:r});f&&u.resolve(f)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(n){var r;const u=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),f=(r=n==null?void 0:n.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(u)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:u})}catch(d){if(f)return null;throw d}else{if(f)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(Kye(n))try{this.getOrInitializeService({instanceIdentifier:XS})}catch{}for(const[r,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(r);try{const d=this.getOrInitializeService({instanceIdentifier:f});u.resolve(d)}catch{}}}}clearInstance(n=XS){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=XS){return this.instances.has(n)}getOptions(n=XS){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:r={}}=n,u=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(u))throw Error(`${this.name}(${u}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const f=this.getOrInitializeService({instanceIdentifier:u,options:r});for(const[d,w]of this.instancesDeferred.entries()){const x=this.normalizeInstanceIdentifier(d);u===x&&w.resolve(f)}return f}onInit(n,r){var u;const f=this.normalizeInstanceIdentifier(r),d=(u=this.onInitCallbacks.get(f))!==null&&u!==void 0?u:new Set;d.add(n),this.onInitCallbacks.set(f,d);const w=this.instances.get(f);return w&&n(w,f),()=>{d.delete(n)}}invokeOnInitCallbacks(n,r){const u=this.onInitCallbacks.get(r);if(!!u)for(const f of u)try{f(n,r)}catch{}}getOrInitializeService({instanceIdentifier:n,options:r={}}){let u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:qye(n),options:r}),this.instances.set(n,u),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null}normalizeInstanceIdentifier(n=XS){return this.component?this.component.multipleInstances?n:XS:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qye(t){return t===XS?void 0:t}function Kye(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yye{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const r=this.getProvider(n.name);if(r.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);r.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const r=new Gye(n,this);return this.providers.set(n,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ca;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ca||(Ca={}));const Xye={debug:Ca.DEBUG,verbose:Ca.VERBOSE,info:Ca.INFO,warn:Ca.WARN,error:Ca.ERROR,silent:Ca.SILENT},Jye=Ca.INFO,Qye={[Ca.DEBUG]:"log",[Ca.VERBOSE]:"log",[Ca.INFO]:"info",[Ca.WARN]:"warn",[Ca.ERROR]:"error"},ebe=(t,n,...r)=>{if(n<t.logLevel)return;const u=new Date().toISOString(),f=Qye[n];if(f)console[f](`[${u}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class zQ{constructor(n){this.name=n,this._logLevel=Jye,this._logHandler=ebe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ca))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?Xye[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ca.DEBUG,...n),this._logHandler(this,Ca.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ca.VERBOSE,...n),this._logHandler(this,Ca.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ca.INFO,...n),this._logHandler(this,Ca.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ca.WARN,...n),this._logHandler(this,Ca.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ca.ERROR,...n),this._logHandler(this,Ca.ERROR,...n)}}const tbe=(t,n)=>n.some(r=>t instanceof r);let Voe,Hoe;function nbe(){return Voe||(Voe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function obe(){return Hoe||(Hoe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mie=new WeakMap,SJ=new WeakMap,pie=new WeakMap,NX=new WeakMap,NQ=new WeakMap;function sbe(t){const n=new Promise((r,u)=>{const f=()=>{t.removeEventListener("success",d),t.removeEventListener("error",w)},d=()=>{r(k0(t.result)),f()},w=()=>{u(t.error),f()};t.addEventListener("success",d),t.addEventListener("error",w)});return n.then(r=>{r instanceof IDBCursor&&mie.set(r,t)}).catch(()=>{}),NQ.set(n,t),n}function rbe(t){if(SJ.has(t))return;const n=new Promise((r,u)=>{const f=()=>{t.removeEventListener("complete",d),t.removeEventListener("error",w),t.removeEventListener("abort",w)},d=()=>{r(),f()},w=()=>{u(t.error||new DOMException("AbortError","AbortError")),f()};t.addEventListener("complete",d),t.addEventListener("error",w),t.addEventListener("abort",w)});SJ.set(t,n)}let xJ={get(t,n,r){if(t instanceof IDBTransaction){if(n==="done")return SJ.get(t);if(n==="objectStoreNames")return t.objectStoreNames||pie.get(t);if(n==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return k0(t[n])},set(t,n,r){return t[n]=r,!0},has(t,n){return t instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in t}};function abe(t){xJ=t(xJ)}function ibe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...r){const u=t.call(LX(this),n,...r);return pie.set(u,n.sort?n.sort():[n]),k0(u)}:obe().includes(t)?function(...n){return t.apply(LX(this),n),k0(mie.get(this))}:function(...n){return k0(t.apply(LX(this),n))}}function lbe(t){return typeof t=="function"?ibe(t):(t instanceof IDBTransaction&&rbe(t),tbe(t,nbe())?new Proxy(t,xJ):t)}function k0(t){if(t instanceof IDBRequest)return sbe(t);if(NX.has(t))return NX.get(t);const n=lbe(t);return n!==t&&(NX.set(t,n),NQ.set(n,t)),n}const LX=t=>NQ.get(t);function cbe(t,n,{blocked:r,upgrade:u,blocking:f,terminated:d}={}){const w=indexedDB.open(t,n),x=k0(w);return u&&w.addEventListener("upgradeneeded",T=>{u(k0(w.result),T.oldVersion,T.newVersion,k0(w.transaction))}),r&&w.addEventListener("blocked",()=>r()),x.then(T=>{d&&T.addEventListener("close",()=>d()),f&&T.addEventListener("versionchange",()=>f())}).catch(()=>{}),x}const ube=["get","getKey","getAll","getAllKeys","count"],dbe=["put","add","delete","clear"],BX=new Map;function Uoe(t,n){if(!(t instanceof IDBDatabase&&!(n in t)&&typeof n=="string"))return;if(BX.get(n))return BX.get(n);const r=n.replace(/FromIndex$/,""),u=n!==r,f=dbe.includes(r);if(!(r in(u?IDBIndex:IDBObjectStore).prototype)||!(f||ube.includes(r)))return;const d=async function(w,...x){const T=this.transaction(w,f?"readwrite":"readonly");let A=T.store;return u&&(A=A.index(x.shift())),(await Promise.all([A[r](...x),f&&T.done]))[0]};return BX.set(n,d),d}abe(t=>({...t,get:(n,r,u)=>Uoe(n,r)||t.get(n,r,u),has:(n,r)=>!!Uoe(n,r)||t.has(n,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fbe{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(hbe(r)){const u=r.getImmediate();return`${u.library}/${u.version}`}else return null}).filter(r=>r).join(" ")}}function hbe(t){const n=t.getComponent();return(n==null?void 0:n.type)==="VERSION"}const EJ="@firebase/app",joe="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=new zQ("@firebase/app"),mbe="@firebase/app-compat",pbe="@firebase/analytics-compat",gbe="@firebase/analytics",ybe="@firebase/app-check-compat",bbe="@firebase/app-check",vbe="@firebase/auth",wbe="@firebase/auth-compat",_be="@firebase/database",kbe="@firebase/database-compat",Cbe="@firebase/functions",Sbe="@firebase/functions-compat",xbe="@firebase/installations",Ebe="@firebase/installations-compat",Tbe="@firebase/messaging",Rbe="@firebase/messaging-compat",Ibe="@firebase/performance",Abe="@firebase/performance-compat",Obe="@firebase/remote-config",Dbe="@firebase/remote-config-compat",Mbe="@firebase/storage",Pbe="@firebase/storage-compat",zbe="@firebase/firestore",Nbe="@firebase/firestore-compat",Lbe="firebase",Bbe="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TJ="[DEFAULT]",Fbe={[EJ]:"fire-core",[mbe]:"fire-core-compat",[gbe]:"fire-analytics",[pbe]:"fire-analytics-compat",[bbe]:"fire-app-check",[ybe]:"fire-app-check-compat",[vbe]:"fire-auth",[wbe]:"fire-auth-compat",[_be]:"fire-rtdb",[kbe]:"fire-rtdb-compat",[Cbe]:"fire-fn",[Sbe]:"fire-fn-compat",[xbe]:"fire-iid",[Ebe]:"fire-iid-compat",[Tbe]:"fire-fcm",[Rbe]:"fire-fcm-compat",[Ibe]:"fire-perf",[Abe]:"fire-perf-compat",[Obe]:"fire-rc",[Dbe]:"fire-rc-compat",[Mbe]:"fire-gcs",[Pbe]:"fire-gcs-compat",[zbe]:"fire-fst",[Nbe]:"fire-fst-compat","fire-js":"fire-js",[Lbe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=new Map,RJ=new Map;function $be(t,n){try{t.container.addComponent(n)}catch(r){hx.debug(`Component ${n.name} failed to register with FirebaseApp ${t.name}`,r)}}function FI(t){const n=t.name;if(RJ.has(n))return hx.debug(`There were multiple attempts to register component ${n}.`),!1;RJ.set(n,t);for(const r of AV.values())$be(r,t);return!0}function LQ(t,n){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vbe={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},C0=new u4("app","Firebase",Vbe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hbe{constructor(n,r,u){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=u,this.container.addComponent(new fx("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw C0.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=Bbe;function gie(t,n={}){let r=t;typeof n!="object"&&(n={name:n});const u=Object.assign({name:TJ,automaticDataCollectionEnabled:!1},n),f=u.name;if(typeof f!="string"||!f)throw C0.create("bad-app-name",{appName:String(f)});if(r||(r=zye()),!r)throw C0.create("no-options");const d=AV.get(f);if(d){if(IV(r,d.options)&&IV(u,d.config))return d;throw C0.create("duplicate-app",{appName:f})}const w=new Yye(f);for(const T of RJ.values())w.addComponent(T);const x=new Hbe(r,u,w);return AV.set(f,x),x}function yie(t=TJ){const n=AV.get(t);if(!n&&t===TJ)return gie();if(!n)throw C0.create("no-app",{appName:t});return n}function S0(t,n,r){var u;let f=(u=Fbe[t])!==null&&u!==void 0?u:t;r&&(f+=`-${r}`);const d=f.match(/\s|\//),w=n.match(/\s|\//);if(d||w){const x=[`Unable to register library "${f}" with version "${n}":`];d&&x.push(`library name "${f}" contains illegal characters (whitespace or "/")`),d&&w&&x.push("and"),w&&x.push(`version name "${n}" contains illegal characters (whitespace or "/")`),hx.warn(x.join(" "));return}FI(new fx(`${f}-version`,()=>({library:f,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ube="firebase-heartbeat-database",jbe=1,YN="firebase-heartbeat-store";let FX=null;function bie(){return FX||(FX=cbe(Ube,jbe,{upgrade:(t,n)=>{switch(n){case 0:t.createObjectStore(YN)}}}).catch(t=>{throw C0.create("idb-open",{originalErrorMessage:t.message})})),FX}async function Wbe(t){try{return(await bie()).transaction(YN).objectStore(YN).get(vie(t))}catch(n){if(n instanceof z0)hx.warn(n.message);else{const r=C0.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});hx.warn(r.message)}}}async function Woe(t,n){try{const u=(await bie()).transaction(YN,"readwrite");return await u.objectStore(YN).put(n,vie(t)),u.done}catch(r){if(r instanceof z0)hx.warn(r.message);else{const u=C0.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});hx.warn(u.message)}}}function vie(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zbe=1024,Gbe=30*24*60*60*1e3;class qbe{constructor(n){this.container=n,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Ybe(r),this._heartbeatsCachePromise=this._storage.read().then(u=>(this._heartbeatsCache=u,u))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Zoe();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u)))return this._heartbeatsCache.heartbeats.push({date:u,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const d=new Date(f.date).valueOf();return Date.now()-d<=Gbe}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zoe(),{heartbeatsToSend:r,unsentEntries:u}=Kbe(this._heartbeatsCache.heartbeats),f=EV(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}}function Zoe(){return new Date().toISOString().substring(0,10)}function Kbe(t,n=Zbe){const r=[];let u=t.slice();for(const f of t){const d=r.find(w=>w.agent===f.agent);if(d){if(d.dates.push(f.date),Goe(r)>n){d.dates.pop();break}}else if(r.push({agent:f.agent,dates:[f.date]}),Goe(r)>n){r.pop();break}u=u.slice(1)}return{heartbeatsToSend:r,unsentEntries:u}}class Ybe{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rye()?Iye().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Wbe(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(n){var r;if(await this._canUseIndexedDBPromise){const f=await this.read();return Woe(this.app,{lastSentHeartbeatDate:(r=n.lastSentHeartbeatDate)!==null&&r!==void 0?r:f.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var r;if(await this._canUseIndexedDBPromise){const f=await this.read();return Woe(this.app,{lastSentHeartbeatDate:(r=n.lastSentHeartbeatDate)!==null&&r!==void 0?r:f.lastSentHeartbeatDate,heartbeats:[...f.heartbeats,...n.heartbeats]})}else return}}function Goe(t){return EV(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xbe(t){FI(new fx("platform-logger",n=>new fbe(n),"PRIVATE")),FI(new fx("heartbeat",n=>new qbe(n),"PRIVATE")),S0(EJ,joe,t),S0(EJ,joe,"esm2017"),S0("fire-js","")}Xbe("");var Jbe="firebase",Qbe="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */S0(Jbe,Qbe,"app");function BQ(t,n){var r={};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&n.indexOf(u)<0&&(r[u]=t[u]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,u=Object.getOwnPropertySymbols(t);f<u.length;f++)n.indexOf(u[f])<0&&Object.prototype.propertyIsEnumerable.call(t,u[f])&&(r[u[f]]=t[u[f]]);return r}function wie(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eve=wie,_ie=new u4("auth","Firebase",wie());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qoe=new zQ("@firebase/auth");function hV(t,...n){qoe.logLevel<=Ca.ERROR&&qoe.error(`Auth (${d4}): ${t}`,...n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t,...n){throw FQ(t,...n)}function Zy(t,...n){return FQ(t,...n)}function tve(t,n,r){const u=Object.assign(Object.assign({},eve()),{[n]:r});return new u4("auth","Firebase",u).create(n,{appName:t.name})}function FQ(t,...n){if(typeof t!="string"){const r=n[0],u=[...n.slice(1)];return u[0]&&(u[0].appName=t.name),t._errorFactory.create(r,...u)}return _ie.create(t,...n)}function Do(t,n,...r){if(!t)throw FQ(n,...r)}function d1(t){const n="INTERNAL ASSERTION FAILED: "+t;throw hV(n),new Error(n)}function b1(t,n){t||d1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Koe=new Map;function f1(t){b1(t instanceof Function,"Expected a class definition");let n=Koe.get(t);return n?(b1(n instanceof t,"Instance stored in cache mismatched with class"),n):(n=new t,Koe.set(t,n),n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nve(t,n){const r=LQ(t,"auth");if(r.isInitialized()){const f=r.getImmediate(),d=r.getOptions();if(IV(d,n!=null?n:{}))return f;lg(f,"already-initialized")}return r.initialize({options:n})}function ove(t,n){const r=(n==null?void 0:n.persistence)||[],u=(Array.isArray(r)?r:[r]).map(f1);n!=null&&n.errorMap&&t._updateErrorMap(n.errorMap),t._initializeWithPersistence(u,n==null?void 0:n.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IJ(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sve(){return Yoe()==="http:"||Yoe()==="https:"}function Yoe(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rve(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sve()||Eye()||"connection"in navigator)?navigator.onLine:!0}function ave(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(n,r){this.shortDelay=n,this.longDelay=r,b1(r>n,"Short delay should be less than long delay!"),this.isMobile=MQ()||cie()}get(){return rve()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Q(t,n){b1(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return n?`${r}${n.startsWith("/")?n.slice(1):n}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kie{static initialize(n,r,u){this.fetchImpl=n,r&&(this.headersImpl=r),u&&(this.responseImpl=u)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;d1("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;d1("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;d1("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ive={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lve=new f4(3e4,6e4);function XI(t,n){return t.tenantId&&!n.tenantId?Object.assign(Object.assign({},n),{tenantId:t.tenantId}):n}async function _x(t,n,r,u,f={}){return Cie(t,f,async()=>{let d={},w={};u&&(n==="GET"?w=u:d={body:JSON.stringify(u)});const x=YI(Object.assign({key:t.config.apiKey},w)).slice(1),T=await t._getAdditionalHeaders();return T["Content-Type"]="application/json",t.languageCode&&(T["X-Firebase-Locale"]=t.languageCode),kie.fetch()(Sie(t,t.config.apiHost,r,x),Object.assign({method:n,headers:T,referrerPolicy:"no-referrer"},d))})}async function Cie(t,n,r){t._canInitEmulator=!1;const u=Object.assign(Object.assign({},ive),n);try{const f=new cve(t),d=await Promise.race([r(),f.promise]);f.clearNetworkTimeout();const w=await d.json();if("needConfirmation"in w)throw aV(t,"account-exists-with-different-credential",w);if(d.ok&&!("errorMessage"in w))return w;{const x=d.ok?w.errorMessage:w.error.message,[T,A]=x.split(" : ");if(T==="FEDERATED_USER_ID_ALREADY_LINKED")throw aV(t,"credential-already-in-use",w);if(T==="EMAIL_EXISTS")throw aV(t,"email-already-in-use",w);if(T==="USER_DISABLED")throw aV(t,"user-disabled",w);const $=u[T]||T.toLowerCase().replace(/[_\s]+/g,"-");if(A)throw tve(t,$,A);lg(t,$)}}catch(f){if(f instanceof z0)throw f;lg(t,"network-request-failed")}}async function h4(t,n,r,u,f={}){const d=await _x(t,n,r,u,f);return"mfaPendingCredential"in d&&lg(t,"multi-factor-auth-required",{_serverResponse:d}),d}function Sie(t,n,r,u){const f=`${n}${r}?${u}`;return t.config.emulator?$Q(t.config,f):`${t.config.apiScheme}://${f}`}class cve{constructor(n){this.auth=n,this.timer=null,this.promise=new Promise((r,u)=>{this.timer=setTimeout(()=>u(Zy(this.auth,"network-request-failed")),lve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function aV(t,n,r){const u={appName:t.name};r.email&&(u.email=r.email),r.phoneNumber&&(u.phoneNumber=r.phoneNumber);const f=Zy(t,n,u);return f.customData._tokenResponse=r,f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uve(t,n){return _x(t,"POST","/v1/accounts:delete",n)}async function dve(t,n){return _x(t,"POST","/v1/accounts:lookup",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t){if(!!t)try{const n=new Date(Number(t));if(!isNaN(n.getTime()))return n.toUTCString()}catch{}}async function fve(t,n=!1){const r=Ai(t),u=await r.getIdToken(n),f=VQ(u);Do(f&&f.exp&&f.auth_time&&f.iat,r.auth,"internal-error");const d=typeof f.firebase=="object"?f.firebase:void 0,w=d==null?void 0:d.sign_in_provider;return{claims:f,token:u,authTime:PN($X(f.auth_time)),issuedAtTime:PN($X(f.iat)),expirationTime:PN($X(f.exp)),signInProvider:w||null,signInSecondFactor:(d==null?void 0:d.sign_in_second_factor)||null}}function $X(t){return Number(t)*1e3}function VQ(t){const[n,r,u]=t.split(".");if(n===void 0||r===void 0||u===void 0)return hV("JWT malformed, contained fewer than 3 sections"),null;try{const f=TV(r);return f?JSON.parse(f):(hV("Failed to decode base64 JWT payload"),null)}catch(f){return hV("Caught error parsing JWT payload as JSON",f==null?void 0:f.toString()),null}}function hve(t){const n=VQ(t);return Do(n,"internal-error"),Do(typeof n.exp<"u","internal-error"),Do(typeof n.iat<"u","internal-error"),Number(n.exp)-Number(n.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(t,n,r=!1){if(r)return n;try{return await n}catch(u){throw u instanceof z0&&mve(u)&&t.auth.currentUser===t&&await t.auth.signOut(),u}}function mve({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pve{constructor(n){this.user=n,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(n){var r;if(n){const u=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),u}else{this.errorBackoff=3e4;const f=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,f)}}schedule(n=!1){if(!this.isRunning)return;const r=this.getInterval(n);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(n){(n==null?void 0:n.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xie{constructor(n,r){this.createdAt=n,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=PN(this.lastLoginAt),this.creationTime=PN(this.createdAt)}_copy(n){this.createdAt=n.createdAt,this.lastLoginAt=n.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(t){var n;const r=t.auth,u=await t.getIdToken(),f=await mx(t,dve(r,{idToken:u}));Do(f==null?void 0:f.users.length,r,"internal-error");const d=f.users[0];t._notifyReloadListener(d);const w=!((n=d.providerUserInfo)===null||n===void 0)&&n.length?bve(d.providerUserInfo):[],x=yve(t.providerData,w),T=t.isAnonymous,A=!(t.email&&d.passwordHash)&&!(x!=null&&x.length),$=T?A:!1,B={uid:d.localId,displayName:d.displayName||null,photoURL:d.photoUrl||null,email:d.email||null,emailVerified:d.emailVerified||!1,phoneNumber:d.phoneNumber||null,tenantId:d.tenantId||null,providerData:x,metadata:new xie(d.createdAt,d.lastLoginAt),isAnonymous:$};Object.assign(t,B)}async function gve(t){const n=Ai(t);await XN(n),await n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)}function yve(t,n){return[...t.filter(u=>!n.some(f=>f.providerId===u.providerId)),...n]}function bve(t){return t.map(n=>{var{providerId:r}=n,u=BQ(n,["providerId"]);return{providerId:r,uid:u.rawId||"",displayName:u.displayName||null,email:u.email||null,phoneNumber:u.phoneNumber||null,photoURL:u.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vve(t,n){const r=await Cie(t,{},async()=>{const u=YI({grant_type:"refresh_token",refresh_token:n}).slice(1),{tokenApiHost:f,apiKey:d}=t.config,w=Sie(t,f,"/v1/token",`key=${d}`),x=await t._getAdditionalHeaders();return x["Content-Type"]="application/x-www-form-urlencoded",kie.fetch()(w,{method:"POST",headers:x,body:u})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(n){Do(n.idToken,"internal-error"),Do(typeof n.idToken<"u","internal-error"),Do(typeof n.refreshToken<"u","internal-error");const r="expiresIn"in n&&typeof n.expiresIn<"u"?Number(n.expiresIn):hve(n.idToken);this.updateTokensAndExpiration(n.idToken,n.refreshToken,r)}async getToken(n,r=!1){return Do(!this.accessToken||this.refreshToken,n,"user-token-expired"),!r&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(n,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(n,r){const{accessToken:u,refreshToken:f,expiresIn:d}=await vve(n,r);this.updateTokensAndExpiration(u,f,Number(d))}updateTokensAndExpiration(n,r,u){this.refreshToken=r||null,this.accessToken=n||null,this.expirationTime=Date.now()+u*1e3}static fromJSON(n,r){const{refreshToken:u,accessToken:f,expirationTime:d}=r,w=new JN;return u&&(Do(typeof u=="string","internal-error",{appName:n}),w.refreshToken=u),f&&(Do(typeof f=="string","internal-error",{appName:n}),w.accessToken=f),d&&(Do(typeof d=="number","internal-error",{appName:n}),w.expirationTime=d),w}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(n){this.accessToken=n.accessToken,this.refreshToken=n.refreshToken,this.expirationTime=n.expirationTime}_clone(){return Object.assign(new JN,this.toJSON())}_performRefresh(){return d1("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t,n){Do(typeof t=="string"||typeof t>"u","internal-error",{appName:n})}class lx{constructor(n){var{uid:r,auth:u,stsTokenManager:f}=n,d=BQ(n,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pve(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=u,this.stsTokenManager=f,this.accessToken=f.accessToken,this.displayName=d.displayName||null,this.email=d.email||null,this.emailVerified=d.emailVerified||!1,this.phoneNumber=d.phoneNumber||null,this.photoURL=d.photoURL||null,this.isAnonymous=d.isAnonymous||!1,this.tenantId=d.tenantId||null,this.providerData=d.providerData?[...d.providerData]:[],this.metadata=new xie(d.createdAt||void 0,d.lastLoginAt||void 0)}async getIdToken(n){const r=await mx(this,this.stsTokenManager.getToken(this.auth,n));return Do(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(n){return fve(this,n)}reload(){return gve(this)}_assign(n){this!==n&&(Do(this.uid===n.uid,this.auth,"internal-error"),this.displayName=n.displayName,this.photoURL=n.photoURL,this.email=n.email,this.emailVerified=n.emailVerified,this.phoneNumber=n.phoneNumber,this.isAnonymous=n.isAnonymous,this.tenantId=n.tenantId,this.providerData=n.providerData.map(r=>Object.assign({},r)),this.metadata._copy(n.metadata),this.stsTokenManager._assign(n.stsTokenManager))}_clone(n){return new lx(Object.assign(Object.assign({},this),{auth:n,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(n){Do(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=n,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(n){this.reloadListener?this.reloadListener(n):this.reloadUserInfo=n}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(n,r=!1){let u=!1;n.idToken&&n.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(n),u=!0),r&&await XN(this),await this.auth._persistUserIfCurrent(this),u&&this.auth._notifyListenersIfCurrent(this)}async delete(){const n=await this.getIdToken();return await mx(this,uve(this.auth,{idToken:n})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(n=>Object.assign({},n)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(n,r){var u,f,d,w,x,T,A,$;const B=(u=r.displayName)!==null&&u!==void 0?u:void 0,H=(f=r.email)!==null&&f!==void 0?f:void 0,le=(d=r.phoneNumber)!==null&&d!==void 0?d:void 0,ke=(w=r.photoURL)!==null&&w!==void 0?w:void 0,Ne=(x=r.tenantId)!==null&&x!==void 0?x:void 0,Se=(T=r._redirectEventId)!==null&&T!==void 0?T:void 0,je=(A=r.createdAt)!==null&&A!==void 0?A:void 0,gt=($=r.lastLoginAt)!==null&&$!==void 0?$:void 0,{uid:ee,emailVerified:ht,isAnonymous:He,providerData:Ze,stsTokenManager:J}=r;Do(ee&&J,n,"internal-error");const Te=JN.fromJSON(this.name,J);Do(typeof ee=="string",n,"internal-error"),s0(B,n.name),s0(H,n.name),Do(typeof ht=="boolean",n,"internal-error"),Do(typeof He=="boolean",n,"internal-error"),s0(le,n.name),s0(ke,n.name),s0(Ne,n.name),s0(Se,n.name),s0(je,n.name),s0(gt,n.name);const st=new lx({uid:ee,auth:n,email:H,emailVerified:ht,displayName:B,isAnonymous:He,photoURL:ke,phoneNumber:le,tenantId:Ne,stsTokenManager:Te,createdAt:je,lastLoginAt:gt});return Ze&&Array.isArray(Ze)&&(st.providerData=Ze.map(_t=>Object.assign({},_t))),Se&&(st._redirectEventId=Se),st}static async _fromIdTokenResponse(n,r,u=!1){const f=new JN;f.updateFromServerResponse(r);const d=new lx({uid:r.localId,auth:n,stsTokenManager:f,isAnonymous:u});return await XN(d),d}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eie{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){const r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}Eie.type="NONE";const Xoe=Eie;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t,n,r){return`firebase:${t}:${n}:${r}`}class TI{constructor(n,r,u){this.persistence=n,this.auth=r,this.userKey=u;const{config:f,name:d}=this.auth;this.fullUserKey=mV(this.userKey,f.apiKey,d),this.fullPersistenceKey=mV("persistence",f.apiKey,d),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(n){return this.persistence._set(this.fullUserKey,n.toJSON())}async getCurrentUser(){const n=await this.persistence._get(this.fullUserKey);return n?lx._fromJSON(this.auth,n):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(n){if(this.persistence===n)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=n,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(n,r,u="authUser"){if(!r.length)return new TI(f1(Xoe),n,u);const f=(await Promise.all(r.map(async A=>{if(await A._isAvailable())return A}))).filter(A=>A);let d=f[0]||f1(Xoe);const w=mV(u,n.config.apiKey,n.name);let x=null;for(const A of r)try{const $=await A._get(w);if($){const B=lx._fromJSON(n,$);A!==d&&(x=B),d=A;break}}catch{}const T=f.filter(A=>A._shouldAllowMigration);return!d._shouldAllowMigration||!T.length?new TI(d,n,u):(d=T[0],x&&await d._set(w,x.toJSON()),await Promise.all(r.map(async A=>{if(A!==d)try{await A._remove(w)}catch{}})),new TI(d,n,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Joe(t){const n=t.toLowerCase();if(n.includes("opera/")||n.includes("opr/")||n.includes("opios/"))return"Opera";if(Iie(n))return"IEMobile";if(n.includes("msie")||n.includes("trident/"))return"IE";if(n.includes("edge/"))return"Edge";if(Tie(n))return"Firefox";if(n.includes("silk/"))return"Silk";if(Oie(n))return"Blackberry";if(Die(n))return"Webos";if(HQ(n))return"Safari";if((n.includes("chrome/")||Rie(n))&&!n.includes("edge/"))return"Chrome";if(Aie(n))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,u=t.match(r);if((u==null?void 0:u.length)===2)return u[1]}return"Other"}function Tie(t=qu()){return/firefox\//i.test(t)}function HQ(t=qu()){const n=t.toLowerCase();return n.includes("safari/")&&!n.includes("chrome/")&&!n.includes("crios/")&&!n.includes("android")}function Rie(t=qu()){return/crios\//i.test(t)}function Iie(t=qu()){return/iemobile/i.test(t)}function Aie(t=qu()){return/android/i.test(t)}function Oie(t=qu()){return/blackberry/i.test(t)}function Die(t=qu()){return/webos/i.test(t)}function y7(t=qu()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wve(t=qu()){var n;return y7(t)&&!!(!((n=window.navigator)===null||n===void 0)&&n.standalone)}function _ve(){return Tye()&&document.documentMode===10}function Mie(t=qu()){return y7(t)||Aie(t)||Die(t)||Oie(t)||/windows phone/i.test(t)||Iie(t)}function kve(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pie(t,n=[]){let r;switch(t){case"Browser":r=Joe(qu());break;case"Worker":r=`${Joe(qu())}-${t}`;break;default:r=t}const u=n.length?n.join(","):"FirebaseCore-web";return`${r}/JsCore/${d4}/${u}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cve{constructor(n){this.auth=n,this.queue=[]}pushCallback(n,r){const u=d=>new Promise((w,x)=>{try{const T=n(d);w(T)}catch(T){x(T)}});u.onAbort=r,this.queue.push(u);const f=this.queue.length-1;return()=>{this.queue[f]=()=>Promise.resolve()}}async runMiddleware(n){if(this.auth.currentUser===n)return;const r=[];try{for(const u of this.queue)await u(n),u.onAbort&&r.push(u.onAbort)}catch(u){r.reverse();for(const f of r)try{f()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:u==null?void 0:u.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sve{constructor(n,r,u){this.app=n,this.heartbeatServiceProvider=r,this.config=u,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qoe(this),this.idTokenSubscription=new Qoe(this),this.beforeStateQueue=new Cve(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_ie,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=n.name,this.clientVersion=u.sdkClientVersion}_initializeWithPersistence(n,r){return r&&(this._popupRedirectResolver=f1(r)),this._initializationPromise=this.queue(async()=>{var u,f;if(!this._deleted&&(this.persistenceManager=await TI.create(this,n),!this._deleted)){if(!((u=this._popupRedirectResolver)===null||u===void 0)&&u._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((f=this.currentUser)===null||f===void 0?void 0:f.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const n=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!n)){if(this.currentUser&&n&&this.currentUser.uid===n.uid){this._currentUser._assign(n),await this.currentUser.getIdToken();return}await this._updateCurrentUser(n,!0)}}async initializeCurrentUser(n){var r;const u=await this.assertedPersistence.getCurrentUser();let f=u,d=!1;if(n&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const w=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,x=f==null?void 0:f._redirectEventId,T=await this.tryRedirectSignIn(n);(!w||w===x)&&(T==null?void 0:T.user)&&(f=T.user,d=!0)}if(!f)return this.directlySetCurrentUser(null);if(!f._redirectEventId){if(d)try{await this.beforeStateQueue.runMiddleware(f)}catch(w){f=u,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(w))}return f?this.reloadAndSetCurrentUserOrClear(f):this.directlySetCurrentUser(null)}return Do(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===f._redirectEventId?this.directlySetCurrentUser(f):this.reloadAndSetCurrentUserOrClear(f)}async tryRedirectSignIn(n){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,n,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(n){try{await XN(n)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(n)}useDeviceLanguage(){this.languageCode=ave()}async _delete(){this._deleted=!0}async updateCurrentUser(n){const r=n?Ai(n):null;return r&&Do(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(n,r=!1){if(!this._deleted)return n&&Do(this.tenantId===n.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(n),this.queue(async()=>{await this.directlySetCurrentUser(n),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(n){return this.queue(async()=>{await this.assertedPersistence.setPersistence(f1(n))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(n){this._errorFactory=new u4("auth","Firebase",n())}onAuthStateChanged(n,r,u){return this.registerStateListener(this.authStateSubscription,n,r,u)}beforeAuthStateChanged(n,r){return this.beforeStateQueue.pushCallback(n,r)}onIdTokenChanged(n,r,u){return this.registerStateListener(this.idTokenSubscription,n,r,u)}toJSON(){var n;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(n=this._currentUser)===null||n===void 0?void 0:n.toJSON()}}async _setRedirectUser(n,r){const u=await this.getOrInitRedirectPersistenceManager(r);return n===null?u.removeCurrentUser():u.setCurrentUser(n)}async getOrInitRedirectPersistenceManager(n){if(!this.redirectPersistenceManager){const r=n&&f1(n)||this._popupRedirectResolver;Do(r,this,"argument-error"),this.redirectPersistenceManager=await TI.create(this,[f1(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(n){var r,u;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===n?this._currentUser:((u=this.redirectUser)===null||u===void 0?void 0:u._redirectEventId)===n?this.redirectUser:null}async _persistUserIfCurrent(n){if(n===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(n))}_notifyListenersIfCurrent(n){n===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const u=(r=(n=this.currentUser)===null||n===void 0?void 0:n.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==u&&(this.lastNotifiedUid=u,this.authStateSubscription.next(this.currentUser))}registerStateListener(n,r,u,f){if(this._deleted)return()=>{};const d=typeof r=="function"?r:r.next.bind(r),w=this._isInitialized?Promise.resolve():this._initializationPromise;return Do(w,this,"internal-error"),w.then(()=>d(this.currentUser)),typeof r=="function"?n.addObserver(r,u,f):n.addObserver(r)}async directlySetCurrentUser(n){this.currentUser&&this.currentUser!==n&&this._currentUser._stopProactiveRefresh(),n&&this.isProactiveRefreshEnabled&&n._startProactiveRefresh(),this.currentUser=n,n?await this.assertedPersistence.setCurrentUser(n):await this.assertedPersistence.removeCurrentUser()}queue(n){return this.operations=this.operations.then(n,n),this.operations}get assertedPersistence(){return Do(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(n){!n||this.frameworks.includes(n)||(this.frameworks.push(n),this.frameworks.sort(),this.clientVersion=Pie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var n;const r={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const u=await((n=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||n===void 0?void 0:n.getHeartbeatsHeader());return u&&(r["X-Firebase-Client"]=u),r}}function JI(t){return Ai(t)}class Qoe{constructor(n){this.auth=n,this.observer=null,this.addObserver=Uye(r=>this.observer=r)}get next(){return Do(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xve(t,n,r){const u=JI(t);Do(u._canInitEmulator,u,"emulator-config-failed"),Do(/^https?:\/\//.test(n),u,"invalid-emulator-scheme");const f=!!(r!=null&&r.disableWarnings),d=zie(n),{host:w,port:x}=Eve(n),T=x===null?"":`:${x}`;u.config.emulator={url:`${d}//${w}${T}/`},u.settings.appVerificationDisabledForTesting=!0,u.emulatorConfig=Object.freeze({host:w,port:x,protocol:d.replace(":",""),options:Object.freeze({disableWarnings:f})}),f||Tve()}function zie(t){const n=t.indexOf(":");return n<0?"":t.substr(0,n+1)}function Eve(t){const n=zie(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(n.length));if(!r)return{host:"",port:null};const u=r[2].split("@").pop()||"",f=/^(\[[^\]]+\])(:|$)/.exec(u);if(f){const d=f[1];return{host:d,port:ese(u.substr(d.length+1))}}else{const[d,w]=u.split(":");return{host:d,port:ese(w)}}}function ese(t){if(!t)return null;const n=Number(t);return isNaN(n)?null:n}function Tve(){function t(){const n=document.createElement("p"),r=n.style;n.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",n.classList.add("firebase-emulator-warning"),document.body.appendChild(n)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(n,r){this.providerId=n,this.signInMethod=r}toJSON(){return d1("not implemented")}_getIdTokenResponse(n){return d1("not implemented")}_linkToIdToken(n,r){return d1("not implemented")}_getReauthenticationResolver(n){return d1("not implemented")}}async function Nie(t,n){return _x(t,"POST","/v1/accounts:update",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rve(t,n){return h4(t,"POST","/v1/accounts:signInWithPassword",XI(t,n))}async function Lie(t,n){return _x(t,"POST","/v1/accounts:sendOobCode",XI(t,n))}async function Ive(t,n){return Lie(t,n)}async function Ave(t,n){return Lie(t,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ove(t,n){return h4(t,"POST","/v1/accounts:signInWithEmailLink",XI(t,n))}async function Dve(t,n){return h4(t,"POST","/v1/accounts:signInWithEmailLink",XI(t,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN extends UQ{constructor(n,r,u,f=null){super("password",u),this._email=n,this._password=r,this._tenantId=f}static _fromEmailAndPassword(n,r){return new QN(n,r,"password")}static _fromEmailAndCode(n,r,u=null){return new QN(n,r,"emailLink",u)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(n){const r=typeof n=="string"?JSON.parse(n):n;if((r==null?void 0:r.email)&&(r==null?void 0:r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(n){switch(this.signInMethod){case"password":return Rve(n,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Ove(n,{email:this._email,oobCode:this._password});default:lg(n,"internal-error")}}async _linkToIdToken(n,r){switch(this.signInMethod){case"password":return Nie(n,{idToken:r,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Dve(n,{idToken:r,email:this._email,oobCode:this._password});default:lg(n,"internal-error")}}_getReauthenticationResolver(n){return this._getIdTokenResponse(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(t,n){return h4(t,"POST","/v1/accounts:signInWithIdp",XI(t,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mve="http://localhost";class px extends UQ{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(n){const r=new px(n.providerId,n.signInMethod);return n.idToken||n.accessToken?(n.idToken&&(r.idToken=n.idToken),n.accessToken&&(r.accessToken=n.accessToken),n.nonce&&!n.pendingToken&&(r.nonce=n.nonce),n.pendingToken&&(r.pendingToken=n.pendingToken)):n.oauthToken&&n.oauthTokenSecret?(r.accessToken=n.oauthToken,r.secret=n.oauthTokenSecret):lg("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(n){const r=typeof n=="string"?JSON.parse(n):n,{providerId:u,signInMethod:f}=r,d=BQ(r,["providerId","signInMethod"]);if(!u||!f)return null;const w=new px(u,f);return w.idToken=d.idToken||void 0,w.accessToken=d.accessToken||void 0,w.secret=d.secret,w.nonce=d.nonce,w.pendingToken=d.pendingToken||null,w}_getIdTokenResponse(n){const r=this.buildRequest();return RI(n,r)}_linkToIdToken(n,r){const u=this.buildRequest();return u.idToken=r,RI(n,u)}_getReauthenticationResolver(n){const r=this.buildRequest();return r.autoCreate=!1,RI(n,r)}buildRequest(){const n={requestUri:Mve,returnSecureToken:!0};if(this.pendingToken)n.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),n.postBody=YI(r)}return n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pve(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zve(t){const n=_N(kN(t)).link,r=n?_N(kN(n)).deep_link_id:null,u=_N(kN(t)).deep_link_id;return(u?_N(kN(u)).link:null)||u||r||n||t}class jQ{constructor(n){var r,u,f,d,w,x;const T=_N(kN(n)),A=(r=T.apiKey)!==null&&r!==void 0?r:null,$=(u=T.oobCode)!==null&&u!==void 0?u:null,B=Pve((f=T.mode)!==null&&f!==void 0?f:null);Do(A&&$&&B,"argument-error"),this.apiKey=A,this.operation=B,this.code=$,this.continueUrl=(d=T.continueUrl)!==null&&d!==void 0?d:null,this.languageCode=(w=T.languageCode)!==null&&w!==void 0?w:null,this.tenantId=(x=T.tenantId)!==null&&x!==void 0?x:null}static parseLink(n){const r=zve(n);try{return new jQ(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.providerId=QI.PROVIDER_ID}static credential(n,r){return QN._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const u=jQ.parseLink(r);return Do(u,"argument-error"),QN._fromEmailAndCode(n,u.code,u.tenantId)}}QI.PROVIDER_ID="password";QI.EMAIL_PASSWORD_SIGN_IN_METHOD="password";QI.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bie{constructor(n){this.providerId=n,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(n){this.defaultLanguageCode=n}setCustomParameters(n){return this.customParameters=n,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4 extends Bie{constructor(){super(...arguments),this.scopes=[]}addScope(n){return this.scopes.includes(n)||this.scopes.push(n),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends m4{constructor(){super("facebook.com")}static credential(n){return px._fromParams({providerId:f0.PROVIDER_ID,signInMethod:f0.FACEBOOK_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return f0.credentialFromTaggedObject(n)}static credentialFromError(n){return f0.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return f0.credential(n.oauthAccessToken)}catch{return null}}}f0.FACEBOOK_SIGN_IN_METHOD="facebook.com";f0.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends m4{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return px._fromParams({providerId:h0.PROVIDER_ID,signInMethod:h0.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return h0.credentialFromTaggedObject(n)}static credentialFromError(n){return h0.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:u}=n;if(!r&&!u)return null;try{return h0.credential(r,u)}catch{return null}}}h0.GOOGLE_SIGN_IN_METHOD="google.com";h0.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends m4{constructor(){super("github.com")}static credential(n){return px._fromParams({providerId:m0.PROVIDER_ID,signInMethod:m0.GITHUB_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return m0.credentialFromTaggedObject(n)}static credentialFromError(n){return m0.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return m0.credential(n.oauthAccessToken)}catch{return null}}}m0.GITHUB_SIGN_IN_METHOD="github.com";m0.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0 extends m4{constructor(){super("twitter.com")}static credential(n,r){return px._fromParams({providerId:p0.PROVIDER_ID,signInMethod:p0.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:r})}static credentialFromResult(n){return p0.credentialFromTaggedObject(n)}static credentialFromError(n){return p0.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthAccessToken:r,oauthTokenSecret:u}=n;if(!r||!u)return null;try{return p0.credential(r,u)}catch{return null}}}p0.TWITTER_SIGN_IN_METHOD="twitter.com";p0.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fie(t,n){return h4(t,"POST","/v1/accounts:signUp",XI(t,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(n){this.user=n.user,this.providerId=n.providerId,this._tokenResponse=n._tokenResponse,this.operationType=n.operationType}static async _fromIdTokenResponse(n,r,u,f=!1){const d=await lx._fromIdTokenResponse(n,u,f),w=tse(u);return new v1({user:d,providerId:w,_tokenResponse:u,operationType:r})}static async _forOperation(n,r,u){await n._updateTokensIfNecessary(u,!0);const f=tse(u);return new v1({user:n,providerId:f,_tokenResponse:u,operationType:r})}}function tse(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MRe(t){var n;const r=JI(t);if(await r._initializationPromise,!((n=r.currentUser)===null||n===void 0)&&n.isAnonymous)return new v1({user:r.currentUser,providerId:null,operationType:"signIn"});const u=await Fie(r,{returnSecureToken:!0}),f=await v1._fromIdTokenResponse(r,"signIn",u,!0);return await r._updateCurrentUser(f.user),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV extends z0{constructor(n,r,u,f){var d;super(r.code,r.message),this.operationType=u,this.user=f,Object.setPrototypeOf(this,OV.prototype),this.customData={appName:n.name,tenantId:(d=n.tenantId)!==null&&d!==void 0?d:void 0,_serverResponse:r.customData._serverResponse,operationType:u}}static _fromErrorAndOperation(n,r,u,f){return new OV(n,r,u,f)}}function $ie(t,n,r,u){return(n==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(d=>{throw d.code==="auth/multi-factor-auth-required"?OV._fromErrorAndOperation(t,d,n,u):d})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nve(t){return new Set(t.map(({providerId:n})=>n).filter(n=>!!n))}async function Vie(t,n,r=!1){const u=await mx(t,n._linkToIdToken(t.auth,await t.getIdToken()),r);return v1._forOperation(t,"link",u)}async function Lve(t,n,r){await XN(n);const u=Nve(n.providerData),f=t===!1?"provider-already-linked":"no-such-provider";Do(u.has(r)===t,n.auth,f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hie(t,n,r=!1){const{auth:u}=t,f="reauthenticate";try{const d=await mx(t,$ie(u,f,n,t),r);Do(d.idToken,u,"internal-error");const w=VQ(d.idToken);Do(w,u,"internal-error");const{sub:x}=w;return Do(t.uid===x,u,"user-mismatch"),v1._forOperation(t,f,d)}catch(d){throw(d==null?void 0:d.code)==="auth/user-not-found"&&lg(u,"user-mismatch"),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uie(t,n,r=!1){const u="signIn",f=await $ie(t,u,n),d=await v1._fromIdTokenResponse(t,u,f);return r||await t._updateCurrentUser(d.user),d}async function Bve(t,n){return Uie(JI(t),n)}async function PRe(t,n){const r=Ai(t);return await Lve(!1,r,n.providerId),Vie(r,n)}async function zRe(t,n){return Hie(Ai(t),n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jie(t,n,r){var u;Do(((u=r.url)===null||u===void 0?void 0:u.length)>0,t,"invalid-continue-uri"),Do(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),n.continueUrl=r.url,n.dynamicLinkDomain=r.dynamicLinkDomain,n.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(Do(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),n.iOSBundleId=r.iOS.bundleId),r.android&&(Do(r.android.packageName.length>0,t,"missing-android-pkg-name"),n.androidInstallApp=r.android.installApp,n.androidMinimumVersionCode=r.android.minimumVersion,n.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NRe(t,n,r){const u=Ai(t),f={requestType:"PASSWORD_RESET",email:n};r&&jie(u,f,r),await Ave(u,f)}async function LRe(t,n,r){const u=JI(t),f=await Fie(u,{returnSecureToken:!0,email:n,password:r}),d=await v1._fromIdTokenResponse(u,"signIn",f);return await u._updateCurrentUser(d.user),d}function BRe(t,n,r){return Bve(Ai(t),QI.credential(n,r))}async function FRe(t,n){const r=Ai(t),f={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};n&&jie(r.auth,f,n);const{email:d}=await Ive(r.auth,f);d!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fve(t,n){return _x(t,"POST","/v1/accounts:update",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Re(t,{displayName:n,photoURL:r}){if(n===void 0&&r===void 0)return;const u=Ai(t),d={idToken:await u.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},w=await mx(u,Fve(u.auth,d));u.displayName=w.displayName||null,u.photoURL=w.photoUrl||null;const x=u.providerData.find(({providerId:T})=>T==="password");x&&(x.displayName=u.displayName,x.photoURL=u.photoURL),await u._updateTokensIfNecessary(w)}function VRe(t,n){return $ve(Ai(t),null,n)}async function $ve(t,n,r){const{auth:u}=t,d={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(d.email=n),r&&(d.password=r);const w=await mx(t,Nie(u,d));await t._updateTokensIfNecessary(w,!0)}function Vve(t,n,r,u){return Ai(t).onIdTokenChanged(n,r,u)}function Hve(t,n,r){return Ai(t).beforeAuthStateChanged(n,r)}function Uve(t,n,r,u){return Ai(t).onAuthStateChanged(n,r,u)}function jve(t){return Ai(t).signOut()}async function HRe(t){return Ai(t).delete()}const DV="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wie{constructor(n,r){this.storageRetriever=n,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(DV,"1"),this.storage.removeItem(DV),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(n,r){return this.storage.setItem(n,JSON.stringify(r)),Promise.resolve()}_get(n){const r=this.storage.getItem(n);return Promise.resolve(r?JSON.parse(r):null)}_remove(n){return this.storage.removeItem(n),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wve(){const t=qu();return HQ(t)||y7(t)}const Zve=1e3,Gve=10;class Zie extends Wie{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Wve()&&kve(),this.fallbackToPolling=Mie(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const u=this.storage.getItem(r),f=this.localCache[r];u!==f&&n(r,f,u)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((w,x,T)=>{this.notifyListeners(w,T)});return}const u=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const w=this.storage.getItem(u);if(n.newValue!==w)n.newValue!==null?this.storage.setItem(u,n.newValue):this.storage.removeItem(u);else if(this.localCache[u]===n.newValue&&!r)return}const f=()=>{const w=this.storage.getItem(u);!r&&this.localCache[u]===w||this.notifyListeners(u,w)},d=this.storage.getItem(u);_ve()&&d!==n.newValue&&n.newValue!==n.oldValue?setTimeout(f,Gve):f()}notifyListeners(n,r){this.localCache[n]=r;const u=this.listeners[n];if(u)for(const f of Array.from(u))f(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,u)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:u}),!0)})},Zve)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){const r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}Zie.type="LOCAL";const qve=Zie;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gie extends Wie{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}Gie.type="SESSION";const qie=Gie;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kve(t){return Promise.all(t.map(async n=>{try{return{fulfilled:!0,value:await n}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(f=>f.isListeningto(n));if(r)return r;const u=new b7(n);return this.receivers.push(u),u}isListeningto(n){return this.eventTarget===n}async handleEvent(n){const r=n,{eventId:u,eventType:f,data:d}=r.data,w=this.handlersMap[f];if(!(w!=null&&w.size))return;r.ports[0].postMessage({status:"ack",eventId:u,eventType:f});const x=Array.from(w).map(async A=>A(r.origin,d)),T=await Kve(x);r.ports[0].postMessage({status:"done",eventId:u,eventType:f,response:T})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}b7.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WQ(t="",n=10){let r="";for(let u=0;u<n;u++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yve{constructor(n){this.target=n,this.handlers=new Set}removeMessageHandler(n){n.messageChannel&&(n.messageChannel.port1.removeEventListener("message",n.onMessage),n.messageChannel.port1.close()),this.handlers.delete(n)}async _send(n,r,u=50){const f=typeof MessageChannel<"u"?new MessageChannel:null;if(!f)throw new Error("connection_unavailable");let d,w;return new Promise((x,T)=>{const A=WQ("",20);f.port1.start();const $=setTimeout(()=>{T(new Error("unsupported_event"))},u);w={messageChannel:f,onMessage(B){const H=B;if(H.data.eventId===A)switch(H.data.status){case"ack":clearTimeout($),d=setTimeout(()=>{T(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),x(H.data.response);break;default:clearTimeout($),clearTimeout(d),T(new Error("invalid_response"));break}}},this.handlers.add(w),f.port1.addEventListener("message",w.onMessage),this.target.postMessage({eventType:n,eventId:A,data:r},[f.port2])}).finally(()=>{w&&this.removeMessageHandler(w)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(){return window}function Xve(t){Gy().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kie(){return typeof Gy().WorkerGlobalScope<"u"&&typeof Gy().importScripts=="function"}async function Jve(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qve(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function e1e(){return Kie()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yie="firebaseLocalStorageDb",t1e=1,MV="firebaseLocalStorage",Xie="fbase_key";class p4{constructor(n){this.request=n}toPromise(){return new Promise((n,r)=>{this.request.addEventListener("success",()=>{n(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function v7(t,n){return t.transaction([MV],n?"readwrite":"readonly").objectStore(MV)}function n1e(){const t=indexedDB.deleteDatabase(Yie);return new p4(t).toPromise()}function AJ(){const t=indexedDB.open(Yie,t1e);return new Promise((n,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const u=t.result;try{u.createObjectStore(MV,{keyPath:Xie})}catch(f){r(f)}}),t.addEventListener("success",async()=>{const u=t.result;u.objectStoreNames.contains(MV)?n(u):(u.close(),await n1e(),n(await AJ()))})})}async function nse(t,n,r){const u=v7(t,!0).put({[Xie]:n,value:r});return new p4(u).toPromise()}async function o1e(t,n){const r=v7(t,!1).get(n),u=await new p4(r).toPromise();return u===void 0?null:u.value}function ose(t,n){const r=v7(t,!0).delete(n);return new p4(r).toPromise()}const s1e=800,r1e=3;class Jie{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await AJ(),this.db)}async _withRetries(n){let r=0;for(;;)try{const u=await this._openDb();return await n(u)}catch(u){if(r++>r1e)throw u;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kie()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=b7._getInstance(e1e()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Jve(),!this.activeServiceWorker)return;this.sender=new Yve(this.activeServiceWorker);const u=await this.sender._send("ping",{},800);!u||((n=u[0])===null||n===void 0?void 0:n.fulfilled)&&((r=u[0])===null||r===void 0?void 0:r.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||Qve()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const n=await AJ();return await nse(n,DV,"1"),await ose(n,DV),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(u=>nse(u,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){const r=await this._withRetries(u=>o1e(u,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ose(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){const n=await this._withRetries(f=>{const d=v7(f,!1).getAll();return new p4(d).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];const r=[],u=new Set;for(const{fbase_key:f,value:d}of n)u.add(f),JSON.stringify(this.localCache[f])!==JSON.stringify(d)&&(this.notifyListeners(f,d),r.push(f));for(const f of Object.keys(this.localCache))this.localCache[f]&&!u.has(f)&&(this.notifyListeners(f,null),r.push(f));return r}notifyListeners(n,r){this.localCache[n]=r;const u=this.listeners[n];if(u)for(const f of Array.from(u))f(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s1e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Jie.type="LOCAL";const a1e=Jie;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1e(){var t,n;return(n=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&n!==void 0?n:document}function l1e(t){return new Promise((n,r)=>{const u=document.createElement("script");u.setAttribute("src",t),u.onload=n,u.onerror=f=>{const d=Zy("internal-error");d.customData=f,r(d)},u.type="text/javascript",u.charset="UTF-8",i1e().appendChild(u)})}function c1e(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new f4(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1e(t,n){return n?f1(n):(Do(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ extends UQ{constructor(n){super("custom","custom"),this.params=n}_getIdTokenResponse(n){return RI(n,this._buildIdpRequest())}_linkToIdToken(n,r){return RI(n,this._buildIdpRequest(r))}_getReauthenticationResolver(n){return RI(n,this._buildIdpRequest())}_buildIdpRequest(n){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return n&&(r.idToken=n),r}}function d1e(t){return Uie(t.auth,new ZQ(t),t.bypassAuthState)}function f1e(t){const{auth:n,user:r}=t;return Do(r,n,"internal-error"),Hie(r,new ZQ(t),t.bypassAuthState)}async function h1e(t){const{auth:n,user:r}=t;return Do(r,n,"internal-error"),Vie(r,new ZQ(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qie{constructor(n,r,u,f,d=!1){this.auth=n,this.resolver=u,this.user=f,this.bypassAuthState=d,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(n,r)=>{this.pendingPromise={resolve:n,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(u){this.reject(u)}})}async onAuthEvent(n){const{urlResponse:r,sessionId:u,postBody:f,tenantId:d,error:w,type:x}=n;if(w){this.reject(w);return}const T={auth:this.auth,requestUri:r,sessionId:u,tenantId:d||void 0,postBody:f||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(x)(T))}catch(A){this.reject(A)}}onError(n){this.reject(n)}getIdpTask(n){switch(n){case"signInViaPopup":case"signInViaRedirect":return d1e;case"linkViaPopup":case"linkViaRedirect":return h1e;case"reauthViaPopup":case"reauthViaRedirect":return f1e;default:lg(this.auth,"internal-error")}}resolve(n){b1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(n),this.unregisterAndCleanUp()}reject(n){b1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(n),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1e=new f4(2e3,1e4);class kI extends Qie{constructor(n,r,u,f,d){super(n,r,f,d),this.provider=u,this.authWindow=null,this.pollId=null,kI.currentPopupAction&&kI.currentPopupAction.cancel(),kI.currentPopupAction=this}async executeNotNull(){const n=await this.execute();return Do(n,this.auth,"internal-error"),n}async onExecution(){b1(this.filter.length===1,"Popup operations only handle one event");const n=WQ();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Zy(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Zy(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kI.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,u;if(!((u=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||u===void 0)&&u.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zy(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(n,m1e.get())};n()}}kI.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1e="pendingRedirect",pV=new Map;class g1e extends Qie{constructor(n,r,u=!1){super(n,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,u),this.eventId=null}async execute(){let n=pV.get(this.auth._key());if(!n){try{const u=await y1e(this.resolver,this.auth)?await super.execute():null;n=()=>Promise.resolve(u)}catch(r){n=()=>Promise.reject(r)}pV.set(this.auth._key(),n)}return this.bypassAuthState||pV.set(this.auth._key(),()=>Promise.resolve(null)),n()}async onAuthEvent(n){if(n.type==="signInViaRedirect")return super.onAuthEvent(n);if(n.type==="unknown"){this.resolve(null);return}if(n.eventId){const r=await this.auth._redirectUserForId(n.eventId);if(r)return this.user=r,super.onAuthEvent(n);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y1e(t,n){const r=w1e(n),u=v1e(t);if(!await u._isAvailable())return!1;const f=await u._get(r)==="true";return await u._remove(r),f}function b1e(t,n){pV.set(t._key(),n)}function v1e(t){return f1(t._redirectPersistence)}function w1e(t){return mV(p1e,t.config.apiKey,t.name)}async function _1e(t,n,r=!1){const u=JI(t),f=u1e(u,n),w=await new g1e(u,f,r).execute();return w&&!r&&(delete w.user._redirectEventId,await u._persistUserIfCurrent(w.user),await u._setRedirectUser(null,n)),w}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1e=10*60*1e3;class C1e{constructor(n){this.auth=n,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(n){this.consumers.add(n),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,n)&&(this.sendToConsumer(this.queuedRedirectEvent,n),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(n){this.consumers.delete(n)}onEvent(n){if(this.hasEventBeenHandled(n))return!1;let r=!1;return this.consumers.forEach(u=>{this.isEventForConsumer(n,u)&&(r=!0,this.sendToConsumer(n,u),this.saveEventToCache(n))}),this.hasHandledPotentialRedirect||!S1e(n)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=n,r=!0)),r}sendToConsumer(n,r){var u;if(n.error&&!ele(n)){const f=((u=n.error.code)===null||u===void 0?void 0:u.split("auth/")[1])||"internal-error";r.onError(Zy(this.auth,f))}else r.onAuthEvent(n)}isEventForConsumer(n,r){const u=r.eventId===null||!!n.eventId&&n.eventId===r.eventId;return r.filter.includes(n.type)&&u}hasEventBeenHandled(n){return Date.now()-this.lastProcessedEventTime>=k1e&&this.cachedEventUids.clear(),this.cachedEventUids.has(sse(n))}saveEventToCache(n){this.cachedEventUids.add(sse(n)),this.lastProcessedEventTime=Date.now()}}function sse(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(n=>n).join("-")}function ele({type:t,error:n}){return t==="unknown"&&(n==null?void 0:n.code)==="auth/no-auth-event"}function S1e(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ele(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1e(t,n={}){return _x(t,"GET","/v1/projects",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T1e=/^https?/;async function R1e(t){if(t.config.emulator)return;const{authorizedDomains:n}=await x1e(t);for(const r of n)try{if(I1e(r))return}catch{}lg(t,"unauthorized-domain")}function I1e(t){const n=IJ(),{protocol:r,hostname:u}=new URL(n);if(t.startsWith("chrome-extension://")){const w=new URL(t);return w.hostname===""&&u===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===n.replace("chrome-extension://",""):r==="chrome-extension:"&&w.hostname===u}if(!T1e.test(r))return!1;if(E1e.test(t))return u===t;const f=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+f+"|"+f+")$","i").test(u)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1e=new f4(3e4,6e4);function rse(){const t=Gy().___jsl;if(t!=null&&t.H){for(const n of Object.keys(t.H))if(t.H[n].r=t.H[n].r||[],t.H[n].L=t.H[n].L||[],t.H[n].r=[...t.H[n].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function O1e(t){return new Promise((n,r)=>{var u,f,d;function w(){rse(),gapi.load("gapi.iframes",{callback:()=>{n(gapi.iframes.getContext())},ontimeout:()=>{rse(),r(Zy(t,"network-request-failed"))},timeout:A1e.get()})}if(!((f=(u=Gy().gapi)===null||u===void 0?void 0:u.iframes)===null||f===void 0)&&f.Iframe)n(gapi.iframes.getContext());else if(!((d=Gy().gapi)===null||d===void 0)&&d.load)w();else{const x=c1e("iframefcb");return Gy()[x]=()=>{gapi.load?w():r(Zy(t,"network-request-failed"))},l1e(`https://apis.google.com/js/api.js?onload=${x}`).catch(T=>r(T))}}).catch(n=>{throw gV=null,n})}let gV=null;function D1e(t){return gV=gV||O1e(t),gV}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1e=new f4(5e3,15e3),P1e="__/auth/iframe",z1e="emulator/auth/iframe",N1e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L1e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B1e(t){const n=t.config;Do(n.authDomain,t,"auth-domain-config-required");const r=n.emulator?$Q(n,z1e):`https://${t.config.authDomain}/${P1e}`,u={apiKey:n.apiKey,appName:t.name,v:d4},f=L1e.get(t.config.apiHost);f&&(u.eid=f);const d=t._getFrameworks();return d.length&&(u.fw=d.join(",")),`${r}?${YI(u).slice(1)}`}async function F1e(t){const n=await D1e(t),r=Gy().gapi;return Do(r,t,"internal-error"),n.open({where:document.body,url:B1e(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N1e,dontclear:!0},u=>new Promise(async(f,d)=>{await u.restyle({setHideOnLeave:!1});const w=Zy(t,"network-request-failed"),x=Gy().setTimeout(()=>{d(w)},M1e.get());function T(){Gy().clearTimeout(x),f(u)}u.ping(T).then(T,()=>{d(w)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V1e=500,H1e=600,U1e="_blank",j1e="http://localhost";class ase{constructor(n){this.window=n,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W1e(t,n,r,u=V1e,f=H1e){const d=Math.max((window.screen.availHeight-f)/2,0).toString(),w=Math.max((window.screen.availWidth-u)/2,0).toString();let x="";const T=Object.assign(Object.assign({},$1e),{width:u.toString(),height:f.toString(),top:d,left:w}),A=qu().toLowerCase();r&&(x=Rie(A)?U1e:r),Tie(A)&&(n=n||j1e,T.scrollbars="yes");const $=Object.entries(T).reduce((H,[le,ke])=>`${H}${le}=${ke},`,"");if(wve(A)&&x!=="_self")return Z1e(n||"",x),new ase(null);const B=window.open(n||"",x,$);Do(B,t,"popup-blocked");try{B.focus()}catch{}return new ase(B)}function Z1e(t,n){const r=document.createElement("a");r.href=t,r.target=n;const u=document.createEvent("MouseEvent");u.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1e="__/auth/handler",q1e="emulator/auth/handler";function ise(t,n,r,u,f,d){Do(t.config.authDomain,t,"auth-domain-config-required"),Do(t.config.apiKey,t,"invalid-api-key");const w={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:u,v:d4,eventId:f};if(n instanceof Bie){n.setDefaultLanguage(t.languageCode),w.providerId=n.providerId||"",CJ(n.getCustomParameters())||(w.customParameters=JSON.stringify(n.getCustomParameters()));for(const[T,A]of Object.entries(d||{}))w[T]=A}if(n instanceof m4){const T=n.getScopes().filter(A=>A!=="");T.length>0&&(w.scopes=T.join(","))}t.tenantId&&(w.tid=t.tenantId);const x=w;for(const T of Object.keys(x))x[T]===void 0&&delete x[T];return`${K1e(t)}?${YI(x).slice(1)}`}function K1e({config:t}){return t.emulator?$Q(t,q1e):`https://${t.authDomain}/${G1e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VX="webStorageSupport";class Y1e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qie,this._completeRedirectFn=_1e,this._overrideRedirectResult=b1e}async _openPopup(n,r,u,f){var d;b1((d=this.eventManagers[n._key()])===null||d===void 0?void 0:d.manager,"_initialize() not called before _openPopup()");const w=ise(n,r,u,IJ(),f);return W1e(n,w,WQ())}async _openRedirect(n,r,u,f){return await this._originValidation(n),Xve(ise(n,r,u,IJ(),f)),new Promise(()=>{})}_initialize(n){const r=n._key();if(this.eventManagers[r]){const{manager:f,promise:d}=this.eventManagers[r];return f?Promise.resolve(f):(b1(d,"If manager is not set, promise should be"),d)}const u=this.initAndGetManager(n);return this.eventManagers[r]={promise:u},u.catch(()=>{delete this.eventManagers[r]}),u}async initAndGetManager(n){const r=await F1e(n),u=new C1e(n);return r.register("authEvent",f=>(Do(f==null?void 0:f.authEvent,n,"invalid-auth-event"),{status:u.onEvent(f.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[n._key()]={manager:u},this.iframes[n._key()]=r,u}_isIframeWebStorageSupported(n,r){this.iframes[n._key()].send(VX,{type:VX},f=>{var d;const w=(d=f==null?void 0:f[0])===null||d===void 0?void 0:d[VX];w!==void 0&&r(!!w),lg(n,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(n){const r=n._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=R1e(n)),this.originValidationPromises[r]}get _shouldInitProactively(){return Mie()||HQ()||y7()}}const X1e=Y1e;var lse="@firebase/auth",cse="0.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1e{constructor(n){this.auth=n,this.internalListeners=new Map}getUid(){var n;return this.assertAuthConfigured(),((n=this.auth.currentUser)===null||n===void 0?void 0:n.uid)||null}async getToken(n){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(n)}:null}addAuthTokenListener(n){if(this.assertAuthConfigured(),this.internalListeners.has(n))return;const r=this.auth.onIdTokenChanged(u=>{n((u==null?void 0:u.stsTokenManager.accessToken)||null)});this.internalListeners.set(n,r),this.updateProactiveRefresh()}removeAuthTokenListener(n){this.assertAuthConfigured();const r=this.internalListeners.get(n);!r||(this.internalListeners.delete(n),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Do(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function ewe(t){FI(new fx("auth",(n,{options:r})=>{const u=n.getProvider("app").getImmediate(),f=n.getProvider("heartbeat"),{apiKey:d,authDomain:w}=u.options;return((x,T)=>{Do(d&&!d.includes(":"),"invalid-api-key",{appName:x.name}),Do(!(w!=null&&w.includes(":")),"argument-error",{appName:x.name});const A={apiKey:d,authDomain:w,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pie(t)},$=new Sve(x,T,A);return ove($,r),$})(u,f)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,r,u)=>{n.getProvider("auth-internal").initialize()})),FI(new fx("auth-internal",n=>{const r=JI(n.getProvider("auth").getImmediate());return(u=>new J1e(u))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),S0(lse,cse,Q1e(t)),S0(lse,cse,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const twe=5*60,nwe=fie("authIdTokenMaxAge")||twe;let use=null;const owe=t=>async n=>{const r=n&&await n.getIdTokenResult(),u=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(u&&u>nwe)return;const f=r==null?void 0:r.token;use!==f&&(use=f,await fetch(t,{method:f?"POST":"DELETE",headers:f?{Authorization:`Bearer ${f}`}:{}}))};function tle(t=yie()){const n=LQ(t,"auth");if(n.isInitialized())return n.getImmediate();const r=nve(t,{popupRedirectResolver:X1e,persistence:[a1e,qve,qie]}),u=fie("authTokenSyncURL");if(u){const d=owe(u);Hve(r,d,()=>d(r.currentUser)),Vve(r,w=>d(w))}const f=die("auth");return f&&xve(r,`http://${f}`),r}ewe("Browser");gie({apiKey:"AIzaSyBZbHSiAQrJktVbyRoJ8i6EwCLns-TMmfk",authDomain:"mygame-xian.firebaseapp.com",projectId:"mygame-xian",storageBucket:"mygame-xian.appspot.com",messagingSenderId:"496921879585",appId:"1:496921879585:web:34ead29c0601e5c592af60"});const swe=tle(),rwe=()=>{jve(swe)},GQ=qhe("counter",()=>{const t=as(null),n=as(!1),r=as(!1);return{user:t,authOn:n,signOutFun:rwe,messageOnValue:r}}),nle="/vite_base_dist/assets/logo.da9b9095.svg",dse="@firebase/database",fse="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ole="";function awe(t){ole=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iwe{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,r){r==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),oc(r))}get(n){const r=this.domStorage_.getItem(this.prefixedName_(n));return r==null?null:KN(r)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lwe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,r){r==null?delete this.cache_[n]:this.cache_[n]=r}get(n){return Yy(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sle=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new iwe(n)}}catch{}return new lwe},sx=sle("localStorage"),OJ=sle("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=new zQ("@firebase/database"),cwe=function(){let t=1;return function(){return t++}}(),rle=function(t){const n=Zye(t),r=new Hye;r.update(n);const u=r.digest();return DQ.encodeByteArray(u)},g4=function(...t){let n="";for(let r=0;r<t.length;r++){const u=t[r];Array.isArray(u)||u&&typeof u=="object"&&typeof u.length=="number"?n+=g4.apply(null,u):typeof u=="object"?n+=oc(u):n+=u,n+=" "}return n};let cx=null,hse=!0;const uwe=function(t,n){kn(!n||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(II.logLevel=Ca.VERBOSE,cx=II.log.bind(II),n&&OJ.set("logging_enabled",!0)):typeof t=="function"?cx=t:(cx=null,OJ.remove("logging_enabled"))},iu=function(...t){if(hse===!0&&(hse=!1,cx===null&&OJ.get("logging_enabled")===!0&&uwe(!0)),cx){const n=g4.apply(null,t);cx(n)}},y4=function(t){return function(...n){iu(t,...n)}},DJ=function(...t){const n="FIREBASE INTERNAL ERROR: "+g4(...t);II.error(n)},w1=function(...t){const n=`FIREBASE FATAL ERROR: ${g4(...t)}`;throw II.error(n),new Error(n)},jd=function(...t){const n="FIREBASE WARNING: "+g4(...t);II.warn(n)},dwe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&jd("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},qQ=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},fwe=function(t){if(document.readyState==="complete")t();else{let n=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}n||(n=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},$I="[MIN_NAME]",gx="[MAX_NAME]",kx=function(t,n){if(t===n)return 0;if(t===$I||n===gx)return-1;if(n===$I||t===gx)return 1;{const r=mse(t),u=mse(n);return r!==null?u!==null?r-u===0?t.length-n.length:r-u:-1:u!==null?1:t<n?-1:1}},hwe=function(t,n){return t===n?0:t<n?-1:1},gN=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+oc(n))},KQ=function(t){if(typeof t!="object"||t===null)return oc(t);const n=[];for(const u in t)n.push(u);n.sort();let r="{";for(let u=0;u<n.length;u++)u!==0&&(r+=","),r+=oc(n[u]),r+=":",r+=KQ(t[n[u]]);return r+="}",r},ale=function(t,n){const r=t.length;if(r<=n)return[t];const u=[];for(let f=0;f<r;f+=n)f+n>r?u.push(t.substring(f,r)):u.push(t.substring(f,f+n));return u};function uu(t,n){for(const r in t)t.hasOwnProperty(r)&&n(r,t[r])}const ile=function(t){kn(!qQ(t),"Invalid JSON number");const n=11,r=52,u=(1<<n-1)-1;let f,d,w,x,T;t===0?(d=0,w=0,f=1/t===-1/0?1:0):(f=t<0,t=Math.abs(t),t>=Math.pow(2,1-u)?(x=Math.min(Math.floor(Math.log(t)/Math.LN2),u),d=x+u,w=Math.round(t*Math.pow(2,r-x)-Math.pow(2,r))):(d=0,w=Math.round(t/Math.pow(2,1-u-r))));const A=[];for(T=r;T;T-=1)A.push(w%2?1:0),w=Math.floor(w/2);for(T=n;T;T-=1)A.push(d%2?1:0),d=Math.floor(d/2);A.push(f?1:0),A.reverse();const $=A.join("");let B="";for(T=0;T<64;T+=8){let H=parseInt($.substr(T,8),2).toString(16);H.length===1&&(H="0"+H),B=B+H}return B.toLowerCase()},mwe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},pwe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function gwe(t,n){let r="Unknown Error";t==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?r="Client doesn't have permission to access the desired data.":t==="unavailable"&&(r="The service is unavailable");const u=new Error(t+" at "+n._path.toString()+": "+r);return u.code=t.toUpperCase(),u}const ywe=new RegExp("^-?(0*)\\d{1,10}$"),bwe=-2147483648,vwe=2147483647,mse=function(t){if(ywe.test(t)){const n=Number(t);if(n>=bwe&&n<=vwe)return n}return null},eA=function(t){try{t()}catch(n){setTimeout(()=>{const r=n.stack||"";throw jd("Exception was thrown by user callback.",r),n},Math.floor(0))}},wwe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},zN=function(t,n){const r=setTimeout(t,n);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _we{constructor(n,r){this.appName_=n,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(u=>this.appCheck=u)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((r,u)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(r,u):r(null)},0)})}addTokenChangeListener(n){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(u=>u.addTokenListener(n))}notifyForInvalidToken(){jd(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kwe{constructor(n,r,u){this.appName_=n,this.firebaseOptions_=r,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(f=>this.auth_=f)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(r=>r&&r.code==="auth/token-not-initialized"?(iu("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,u)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(r,u):r(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(r=>r.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(r=>r.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jd(n)}}class AI{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}AI.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YQ="5",lle="v",cle="s",ule="r",dle="f",fle=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hle="ls",mle="p",MJ="ac",ple="websocket",gle="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yle{constructor(n,r,u,f,d=!1,w="",x=!1){this.secure=r,this.namespace=u,this.webSocketOnly=f,this.nodeAdmin=d,this.persistenceKey=w,this.includeNamespaceInQueryParams=x,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sx.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&sx.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${r}`}}function Cwe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ble(t,n,r){kn(typeof n=="string","typeof type must == string"),kn(typeof r=="object","typeof params must == object");let u;if(n===ple)u=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(n===gle)u=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);Cwe(t)&&(r.ns=t.namespace);const f=[];return uu(r,(d,w)=>{f.push(d+"="+w)}),u+f.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Swe{constructor(){this.counters_={}}incrementCounter(n,r=1){Yy(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=r}get(){return Sye(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HX={},UX={};function XQ(t){const n=t.toString();return HX[n]||(HX[n]=new Swe),HX[n]}function xwe(t,n){const r=t.toString();return UX[r]||(UX[r]=n()),UX[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ewe{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,r){this.closeAfterResponse=n,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,r){for(this.pendingResponses[n]=r;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let f=0;f<u.length;++f)u[f]&&eA(()=>{this.onMessage_(u[f])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pse="start",Twe="close",Rwe="pLPCommand",Iwe="pRTLPCB",vle="id",wle="pw",_le="ser",Awe="cb",Owe="seg",Dwe="ts",Mwe="d",Pwe="dframe",kle=1870,Cle=30,zwe=kle-Cle,Nwe=25e3,Lwe=3e4;class CI{constructor(n,r,u,f,d,w,x){this.connId=n,this.repoInfo=r,this.applicationId=u,this.appCheckToken=f,this.authToken=d,this.transportSessionId=w,this.lastSessionId=x,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=y4(n),this.stats_=XQ(r),this.urlFn=T=>(this.appCheckToken&&(T[MJ]=this.appCheckToken),ble(r,gle,T))}open(n,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new Ewe(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Lwe)),fwe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new JQ((...d)=>{const[w,x,T,A,$]=d;if(this.incrementIncomingBytes_(d),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,w===pse)this.id=x,this.password=T;else if(w===Twe)x?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(x,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+w)},(...d)=>{const[w,x]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(w,x)},()=>{this.onClosed_()},this.urlFn);const u={};u[pse]="t",u[_le]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(u[Awe]=this.scriptTagHolder.uniqueCallbackIdentifier),u[lle]=YQ,this.transportSessionId&&(u[cle]=this.transportSessionId),this.lastSessionId&&(u[hle]=this.lastSessionId),this.applicationId&&(u[mle]=this.applicationId),this.appCheckToken&&(u[MJ]=this.appCheckToken),typeof location<"u"&&location.hostname&&fle.test(location.hostname)&&(u[ule]=dle);const f=this.urlFn(u);this.log_("Connecting via long-poll to "+f),this.scriptTagHolder.addTag(f,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){CI.forceAllow_=!0}static forceDisallow(){CI.forceDisallow_=!0}static isAvailable(){return CI.forceAllow_?!0:!CI.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mwe()&&!pwe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const r=oc(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const u=iie(r),f=ale(u,zwe);for(let d=0;d<f.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,f.length,f[d]),this.curSegmentNum++}addDisconnectPingFrame(n,r){this.myDisconnFrame=document.createElement("iframe");const u={};u[Pwe]="t",u[vle]=n,u[wle]=r,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const r=oc(n).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class JQ{constructor(n,r,u,f){this.onDisconnect=u,this.urlFn=f,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=cwe(),window[Rwe+this.uniqueCallbackIdentifier]=n,window[Iwe+this.uniqueCallbackIdentifier]=r,this.myIFrame=JQ.createIFrame_();let d="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(d='<script>document.domain="'+document.domain+'";<\/script>');const w="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(w),this.myIFrame.doc.close()}catch(x){iu("frame writing exception"),x.stack&&iu(x.stack),iu(x)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||iu("No IE domain setting required")}catch{const u=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,r){for(this.myID=n,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[vle]=this.myID,n[wle]=this.myPW,n[_le]=this.currentSerial;let r=this.urlFn(n),u="",f=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Cle+u.length<=kle;){const w=this.pendingSegs.shift();u=u+"&"+Owe+f+"="+w.seg+"&"+Dwe+f+"="+w.ts+"&"+Mwe+f+"="+w.d,f++}return r=r+u,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(n,r,u){this.pendingSegs.push({seg:n,ts:r,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(n,r){this.outstandingRequests.add(r);const u=()=>{this.outstandingRequests.delete(r),this.newRequest_()},f=setTimeout(u,Math.floor(Nwe)),d=()=>{clearTimeout(f),u()};this.addTag(n,d)}addTag(n,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=n,u.onload=u.onreadystatechange=function(){const f=u.readyState;(!f||f==="loaded"||f==="complete")&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),r())},u.onerror=()=>{iu("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bwe=16384,Fwe=45e3;let PV=null;typeof MozWebSocket<"u"?PV=MozWebSocket:typeof WebSocket<"u"&&(PV=WebSocket);class ng{constructor(n,r,u,f,d,w,x){this.connId=n,this.applicationId=u,this.appCheckToken=f,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=y4(this.connId),this.stats_=XQ(r),this.connURL=ng.connectionURL_(r,w,x,f,u),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,u,f,d){const w={};return w[lle]=YQ,typeof location<"u"&&location.hostname&&fle.test(location.hostname)&&(w[ule]=dle),r&&(w[cle]=r),u&&(w[hle]=u),f&&(w[MJ]=f),d&&(w[mle]=d),ble(n,ple,w)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sx.set("previous_websocket_failure",!0);try{let u;uie(),this.mySock=new PV(this.connURL,[],u)}catch(u){this.log_("Error instantiating WebSocket.");const f=u.message||u.data;f&&this.log_(f),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const f=u.message||u.data;f&&this.log_(f),this.onClosed_()}}start(){}static forceDisallow(){ng.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,u=navigator.userAgent.match(r);u&&u.length>1&&parseFloat(u[1])<4.4&&(n=!0)}return!n&&PV!==null&&!ng.forceDisallow_}static previouslyFailed(){return sx.isInMemoryStorage||sx.get("previous_websocket_failure")===!0}markConnectionHealthy(){sx.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const u=KN(r);this.onMessage(u)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(kn(this.frames===null,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const u=this.extractFrameCount_(r);u!==null&&this.appendFrame_(u)}}send(n){this.resetKeepAlive();const r=oc(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const u=ale(r,Bwe);u.length>1&&this.sendString_(String(u.length));for(let f=0;f<u.length;f++)this.sendString_(u[f])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Fwe))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ng.responsesRequiredToBeHealthy=2;ng.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[CI,ng]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=ng&&ng.isAvailable();let u=r&&!ng.previouslyFailed();if(n.webSocketOnly&&(r||jd("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),u=!0),u)this.transports_=[ng];else{const f=this.transports_=[];for(const d of e4.ALL_TRANSPORTS)d&&d.isAvailable()&&f.push(d);e4.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e4.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $we=6e4,Vwe=5e3,Hwe=10*1024,Uwe=100*1024,jX="t",gse="d",jwe="s",yse="r",Wwe="e",bse="o",vse="a",wse="n",_se="p",Zwe="h";class Gwe{constructor(n,r,u,f,d,w,x,T,A,$){this.id=n,this.repoInfo_=r,this.applicationId_=u,this.appCheckToken_=f,this.authToken_=d,this.onMessage_=w,this.onReady_=x,this.onDisconnect_=T,this.onKill_=A,this.lastSessionId=$,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=y4("c:"+this.id+":"),this.transportManager_=new e4(r),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,u)},Math.floor(0));const f=n.healthyTimeout||0;f>0&&(this.healthyTimeout_=zN(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Uwe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Hwe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(f)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return r=>{n===this.conn_?this.onConnectionLost_(r):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return r=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(r):n===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(n){const r={t:"d",d:n};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(jX in n){const r=n[jX];r===vse?this.upgradeIfSecondaryHealthy_():r===yse?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===bse&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const r=gN("t",n),u=gN("d",n);if(r==="c")this.onSecondaryControl_(u);else if(r==="d")this.pendingDataMessages.push(u);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:_se,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:vse,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:wse,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const r=gN("t",n),u=gN("d",n);r==="c"?this.onControl_(u):r==="d"&&this.onDataMessage_(u)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const r=gN(jX,n);if(gse in n){const u=n[gse];if(r===Zwe)this.onHandshake_(u);else if(r===wse){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let f=0;f<this.pendingDataMessages.length;++f)this.onDataMessage_(this.pendingDataMessages[f]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===jwe?this.onConnectionShutdown_(u):r===yse?this.onReset_(u):r===Wwe?DJ("Server Error: "+u):r===bse?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):DJ("Unknown control packet command: "+r)}}onHandshake_(n){const r=n.ts,u=n.v,f=n.h;this.sessionId=n.s,this.repoInfo_.host=f,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),YQ!==u&&jd("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,u),zN(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($we))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,r){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zN(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Vwe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:_se,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sx.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sle{put(n,r,u,f){}merge(n,r,u,f){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,r,u){}onDisconnectMerge(n,r,u){}onDisconnectCancel(n,r){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xle{constructor(n){this.allowedEvents_=n,this.listeners_={},kn(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...r){if(Array.isArray(this.listeners_[n])){const u=[...this.listeners_[n]];for(let f=0;f<u.length;f++)u[f].callback.apply(u[f].context,r)}}on(n,r,u){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:r,context:u});const f=this.getInitialEvent(n);f&&r.apply(u,f)}off(n,r,u){this.validateEventType_(n);const f=this.listeners_[n]||[];for(let d=0;d<f.length;d++)if(f[d].callback===r&&(!u||u===f[d].context)){f.splice(d,1);return}}validateEventType_(n){kn(this.allowedEvents_.find(r=>r===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV extends xle{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!MQ()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new zV}getInitialEvent(n){return kn(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kse=32,Cse=768;class la{constructor(n,r){if(r===void 0){this.pieces_=n.split("/");let u=0;for(let f=0;f<this.pieces_.length;f++)this.pieces_[f].length>0&&(this.pieces_[u]=this.pieces_[f],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=r}toString(){let n="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(n+="/"+this.pieces_[r]);return n||"/"}}function gr(){return new la("")}function Ds(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function A0(t){return t.pieces_.length-t.pieceNum_}function Ua(t){let n=t.pieceNum_;return n<t.pieces_.length&&n++,new la(t.pieces_,n)}function QQ(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function qwe(t){let n="";for(let r=t.pieceNum_;r<t.pieces_.length;r++)t.pieces_[r]!==""&&(n+="/"+encodeURIComponent(String(t.pieces_[r])));return n||"/"}function t4(t,n=0){return t.pieces_.slice(t.pieceNum_+n)}function Ele(t){if(t.pieceNum_>=t.pieces_.length)return null;const n=[];for(let r=t.pieceNum_;r<t.pieces_.length-1;r++)n.push(t.pieces_[r]);return new la(n,0)}function Xi(t,n){const r=[];for(let u=t.pieceNum_;u<t.pieces_.length;u++)r.push(t.pieces_[u]);if(n instanceof la)for(let u=n.pieceNum_;u<n.pieces_.length;u++)r.push(n.pieces_[u]);else{const u=n.split("/");for(let f=0;f<u.length;f++)u[f].length>0&&r.push(u[f])}return new la(r,0)}function $s(t){return t.pieceNum_>=t.pieces_.length}function Hd(t,n){const r=Ds(t),u=Ds(n);if(r===null)return n;if(r===u)return Hd(Ua(t),Ua(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")}function Kwe(t,n){const r=t4(t,0),u=t4(n,0);for(let f=0;f<r.length&&f<u.length;f++){const d=kx(r[f],u[f]);if(d!==0)return d}return r.length===u.length?0:r.length<u.length?-1:1}function eee(t,n){if(A0(t)!==A0(n))return!1;for(let r=t.pieceNum_,u=n.pieceNum_;r<=t.pieces_.length;r++,u++)if(t.pieces_[r]!==n.pieces_[u])return!1;return!0}function zm(t,n){let r=t.pieceNum_,u=n.pieceNum_;if(A0(t)>A0(n))return!1;for(;r<t.pieces_.length;){if(t.pieces_[r]!==n.pieces_[u])return!1;++r,++u}return!0}class Ywe{constructor(n,r){this.errorPrefix_=r,this.parts_=t4(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=g7(this.parts_[u]);Tle(this)}}function Xwe(t,n){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(n),t.byteLength_+=g7(n),Tle(t)}function Jwe(t){const n=t.parts_.pop();t.byteLength_-=g7(n),t.parts_.length>0&&(t.byteLength_-=1)}function Tle(t){if(t.byteLength_>Cse)throw new Error(t.errorPrefix_+"has a key path longer than "+Cse+" bytes ("+t.byteLength_+").");if(t.parts_.length>kse)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+kse+") or object contains a cycle "+JS(t))}function JS(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tee extends xle{constructor(){super(["visible"]);let n,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const u=!document[n];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}static getInstance(){return new tee}getInitialEvent(n){return kn(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=1e3,Qwe=60*5*1e3,Sse=30*1e3,e_e=1.3,t_e=3e4,n_e="server_kill",xse=3;class p1 extends Sle{constructor(n,r,u,f,d,w,x,T){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=u,this.onConnectStatus_=f,this.onServerInfoUpdate_=d,this.authTokenProvider_=w,this.appCheckTokenProvider_=x,this.authOverride_=T,this.id=p1.nextPersistentConnectionId_++,this.log_=y4("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yN,this.maxReconnectDelay_=Qwe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,T&&!uie())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tee.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&zV.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,u){const f=++this.requestNumber_,d={r:f,a:n,b:r};this.log_(oc(d)),kn(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),u&&(this.requestCBHash_[f]=u)}get(n){this.initConnection_();const r=new c4,f={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:w=>{const x=w.d;w.s==="ok"?r.resolve(x):r.reject(x)}};this.outstandingGets_.push(f),this.outstandingGetCount_++;const d=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(d),r.promise}listen(n,r,u,f){this.initConnection_();const d=n._queryIdentifier,w=n._path.toString();this.log_("Listen called for "+w+" "+d),this.listens.has(w)||this.listens.set(w,new Map),kn(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),kn(!this.listens.get(w).has(d),"listen() called twice for same path/queryId.");const x={onComplete:f,hashFn:r,query:n,tag:u};this.listens.get(w).set(d,x),this.connected_&&this.sendListen_(x)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,u=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(u)})}sendListen_(n){const r=n.query,u=r._path.toString(),f=r._queryIdentifier;this.log_("Listen on "+u+" for "+f);const d={p:u},w="q";n.tag&&(d.q=r._queryObject,d.t=n.tag),d.h=n.hashFn(),this.sendRequest(w,d,x=>{const T=x.d,A=x.s;p1.warnOnListenWarnings_(T,r),(this.listens.get(u)&&this.listens.get(u).get(f))===n&&(this.log_("listen response",x),A!=="ok"&&this.removeListen_(u,f),n.onComplete&&n.onComplete(A,T))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Yy(n,"w")){const u=BI(n,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const f='".indexOn": "'+r._queryParams.getIndex().toString()+'"',d=r._path.toString();jd(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${f} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Vye(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Sse)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=$ye(n)?"auth":"gauth",u={cred:n};this.authOverride_===null?u.noauth=!0:typeof this.authOverride_=="object"&&(u.authvar=this.authOverride_),this.sendRequest(r,u,f=>{const d=f.s,w=f.d||"error";this.authToken_===n&&(d==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,w))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,u=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,u)})}unlisten(n,r){const u=n._path.toString(),f=n._queryIdentifier;this.log_("Unlisten called for "+u+" "+f),kn(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,f)&&this.connected_&&this.sendUnlisten_(u,f,n._queryObject,r)}sendUnlisten_(n,r,u,f){this.log_("Unlisten on "+n+" for "+r);const d={p:n},w="n";f&&(d.q=u,d.t=f),this.sendRequest(w,d)}onDisconnectPut(n,r,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,u):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:u})}onDisconnectMerge(n,r,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,u):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:u})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,u,f){const d={p:r,d:u};this.log_("onDisconnect "+n,d),this.sendRequest(n,d,w=>{f&&setTimeout(()=>{f(w.s,w.d)},Math.floor(0))})}put(n,r,u,f){this.putInternal("p",n,r,u,f)}merge(n,r,u,f){this.putInternal("m",n,r,u,f)}putInternal(n,r,u,f,d){this.initConnection_();const w={p:r,d:u};d!==void 0&&(w.h=d),this.outstandingPuts_.push({action:n,request:w,onComplete:f}),this.outstandingPutCount_++;const x=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(x):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,u=this.outstandingPuts_[n].request,f=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,u,d=>{this.log_(r+" response",d),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),f&&f(d.s,d.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,u=>{if(u.s!=="ok"){const d=u.d;this.log_("reportStats","Error sending stats: "+d)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+oc(n));const r=n.r,u=this.requestCBHash_[r];u&&(delete this.requestCBHash_[r],u(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):DJ("Unrecognized action received from server: "+oc(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){kn(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yN,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=yN,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>t_e&&(this.reconnectDelay_=yN),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*e_e)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),u=this.onRealtimeDisconnect_.bind(this),f=this.id+":"+p1.nextConnectionId_++,d=this.lastSessionId;let w=!1,x=null;const T=function(){x?x.close():(w=!0,u())},A=function(B){kn(x,"sendRequest call when we're not connected not allowed."),x.sendRequest(B)};this.realtime_={close:T,sendRequest:A};const $=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[B,H]=await Promise.all([this.authTokenProvider_.getToken($),this.appCheckTokenProvider_.getToken($)]);w?iu("getToken() completed but was canceled"):(iu("getToken() completed. Creating connection."),this.authToken_=B&&B.accessToken,this.appCheckToken_=H&&H.token,x=new Gwe(f,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,u,le=>{jd(le+" ("+this.repoInfo_.toString()+")"),this.interrupt(n_e)},d))}catch(B){this.log_("Failed to get token: "+B),w||(this.repoInfo_.nodeAdmin&&jd(B),T())}}}interrupt(n){iu("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){iu("Resuming connection for reason: "+n),delete this.interruptReasons_[n],CJ(this.interruptReasons_)&&(this.reconnectDelay_=yN,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let u;r?u=r.map(d=>KQ(d)).join("$"):u="default";const f=this.removeListen_(n,u);f&&f.onComplete&&f.onComplete("permission_denied")}removeListen_(n,r){const u=new la(n).toString();let f;if(this.listens.has(u)){const d=this.listens.get(u);f=d.get(r),d.delete(r),d.size===0&&this.listens.delete(u)}else f=void 0;return f}onAuthRevoked_(n,r){iu("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=xse&&(this.reconnectDelay_=Sse,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){iu("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=xse&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+ole.replace(/\./g,"-")]=1,MQ()?n["framework.cordova"]=1:cie()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=zV.getInstance().currentlyOnline();return CJ(this.interruptReasons_)&&n}}p1.nextPersistentConnectionId_=0;p1.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(n,r){this.name=n,this.node=r}static Wrap(n,r){return new Ms(n,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,r){const u=new Ms($I,n),f=new Ms($I,r);return this.compare(u,f)!==0}minPost(){return Ms.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iV;class Rle extends w7{static get __EMPTY_NODE(){return iV}static set __EMPTY_NODE(n){iV=n}compare(n,r){return kx(n.name,r.name)}isDefinedOn(n){throw KI("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,r){return!1}minPost(){return Ms.MIN}maxPost(){return new Ms(gx,iV)}makePost(n,r){return kn(typeof n=="string","KeyIndex indexValue must always be a string."),new Ms(n,iV)}toString(){return".key"}}const OI=new Rle;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(n,r,u,f,d=null){this.isReverse_=f,this.resultGenerator_=d,this.nodeStack_=[];let w=1;for(;!n.isEmpty();)if(n=n,w=r?u(n.key,r):1,f&&(w*=-1),w<0)this.isReverse_?n=n.left:n=n.right;else if(w===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(n.key,n.value):r={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class Rc{constructor(n,r,u,f,d){this.key=n,this.value=r,this.color=u!=null?u:Rc.RED,this.left=f!=null?f:Mf.EMPTY_NODE,this.right=d!=null?d:Mf.EMPTY_NODE}copy(n,r,u,f,d){return new Rc(n!=null?n:this.key,r!=null?r:this.value,u!=null?u:this.color,f!=null?f:this.left,d!=null?d:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,u){let f=this;const d=u(n,f.key);return d<0?f=f.copy(null,null,null,f.left.insert(n,r,u),null):d===0?f=f.copy(null,r,null,null,null):f=f.copy(null,null,null,null,f.right.insert(n,r,u)),f.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mf.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let u,f;if(u=this,r(n,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(n,r),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),r(n,u.key)===0){if(u.right.isEmpty())return Mf.EMPTY_NODE;f=u.right.min_(),u=u.copy(f.key,f.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(n,r))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,Rc.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,Rc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}Rc.RED=!0;Rc.BLACK=!1;class o_e{copy(n,r,u,f,d){return this}insert(n,r,u){return new Rc(n,r,null)}remove(n,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Mf{constructor(n,r=Mf.EMPTY_NODE){this.comparator_=n,this.root_=r}insert(n,r){return new Mf(this.comparator_,this.root_.insert(n,r,this.comparator_).copy(null,null,Rc.BLACK,null,null))}remove(n){return new Mf(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Rc.BLACK,null,null))}get(n){let r,u=this.root_;for(;!u.isEmpty();){if(r=this.comparator_(n,u.key),r===0)return u.value;r<0?u=u.left:r>0&&(u=u.right)}return null}getPredecessorKey(n){let r,u=this.root_,f=null;for(;!u.isEmpty();)if(r=this.comparator_(n,u.key),r===0){if(u.left.isEmpty())return f?f.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}else r<0?u=u.left:r>0&&(f=u,u=u.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new lV(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,r){return new lV(this.root_,n,this.comparator_,!1,r)}getReverseIteratorFrom(n,r){return new lV(this.root_,n,this.comparator_,!0,r)}getReverseIterator(n){return new lV(this.root_,null,this.comparator_,!0,n)}}Mf.EMPTY_NODE=new o_e;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_e(t,n){return kx(t.name,n.name)}function nee(t,n){return kx(t,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PJ;function r_e(t){PJ=t}const Ile=function(t){return typeof t=="number"?"number:"+ile(t):"string:"+t},Ale=function(t){if(t.isLeafNode()){const n=t.val();kn(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Yy(n,".sv"),"Priority must be a string or number.")}else kn(t===PJ||t.isEmpty(),"priority of unexpected type.");kn(t===PJ||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ese;class Tc{constructor(n,r=Tc.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,kn(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ale(this.priorityNode_)}static set __childrenNodeConstructor(n){Ese=n}static get __childrenNodeConstructor(){return Ese}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new Tc(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:Tc.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return $s(n)?this:Ds(n)===".priority"?this.priorityNode_:Tc.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:Tc.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const u=Ds(n);return u===null?r:r.isEmpty()&&u!==".priority"?this:(kn(u!==".priority"||A0(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(u,Tc.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ua(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Ile(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",r==="number"?n+=ile(this.value_):n+=this.value_,this.lazyHash_=rle(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===Tc.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof Tc.__childrenNodeConstructor?-1:(kn(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,u=typeof this.value_,f=Tc.VALUE_TYPE_ORDER.indexOf(r),d=Tc.VALUE_TYPE_ORDER.indexOf(u);return kn(f>=0,"Unknown leaf type: "+r),kn(d>=0,"Unknown leaf type: "+u),f===d?u==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:d-f}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Tc.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ole,Dle;function a_e(t){Ole=t}function i_e(t){Dle=t}class l_e extends w7{compare(n,r){const u=n.node.getPriority(),f=r.node.getPriority(),d=u.compareTo(f);return d===0?kx(n.name,r.name):d}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,r){return!n.getPriority().equals(r.getPriority())}minPost(){return Ms.MIN}maxPost(){return new Ms(gx,new Tc("[PRIORITY-POST]",Dle))}makePost(n,r){const u=Ole(n);return new Ms(r,new Tc("[PRIORITY-POST]",u))}toString(){return".priority"}}const Ji=new l_e;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_e=Math.log(2);class u_e{constructor(n){const r=d=>parseInt(Math.log(d)/c_e,10),u=d=>parseInt(Array(d+1).join("1"),2);this.count=r(n+1),this.current_=this.count-1;const f=u(this.count);this.bits_=n+1&f}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const NV=function(t,n,r,u){t.sort(n);const f=function(T,A){const $=A-T;let B,H;if($===0)return null;if($===1)return B=t[T],H=r?r(B):B,new Rc(H,B.node,Rc.BLACK,null,null);{const le=parseInt($/2,10)+T,ke=f(T,le),Ne=f(le+1,A);return B=t[le],H=r?r(B):B,new Rc(H,B.node,Rc.BLACK,ke,Ne)}},d=function(T){let A=null,$=null,B=t.length;const H=function(ke,Ne){const Se=B-ke,je=B;B-=ke;const gt=f(Se+1,je),ee=t[Se],ht=r?r(ee):ee;le(new Rc(ht,ee.node,Ne,null,gt))},le=function(ke){A?(A.left=ke,A=ke):($=ke,A=ke)};for(let ke=0;ke<T.count;++ke){const Ne=T.nextBitIsOne(),Se=Math.pow(2,T.count-(ke+1));Ne?H(Se,Rc.BLACK):(H(Se,Rc.BLACK),H(Se,Rc.RED))}return $},w=new u_e(t.length),x=d(w);return new Mf(u||n,x)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WX;const vI={};class h1{constructor(n,r){this.indexes_=n,this.indexSet_=r}static get Default(){return kn(vI&&Ji,"ChildrenNode.ts has not been loaded"),WX=WX||new h1({".priority":vI},{".priority":Ji}),WX}get(n){const r=BI(this.indexes_,n);if(!r)throw new Error("No index defined for "+n);return r instanceof Mf?r:null}hasIndex(n){return Yy(this.indexSet_,n.toString())}addIndex(n,r){kn(n!==OI,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let f=!1;const d=r.getIterator(Ms.Wrap);let w=d.getNext();for(;w;)f=f||n.isDefinedOn(w.node),u.push(w),w=d.getNext();let x;f?x=NV(u,n.getCompare()):x=vI;const T=n.toString(),A=Object.assign({},this.indexSet_);A[T]=n;const $=Object.assign({},this.indexes_);return $[T]=x,new h1($,A)}addToIndexes(n,r){const u=RV(this.indexes_,(f,d)=>{const w=BI(this.indexSet_,d);if(kn(w,"Missing index implementation for "+d),f===vI)if(w.isDefinedOn(n.node)){const x=[],T=r.getIterator(Ms.Wrap);let A=T.getNext();for(;A;)A.name!==n.name&&x.push(A),A=T.getNext();return x.push(n),NV(x,w.getCompare())}else return vI;else{const x=r.get(n.name);let T=f;return x&&(T=T.remove(new Ms(n.name,x))),T.insert(n,n.node)}});return new h1(u,this.indexSet_)}removeFromIndexes(n,r){const u=RV(this.indexes_,f=>{if(f===vI)return f;{const d=r.get(n.name);return d?f.remove(new Ms(n.name,d)):f}});return new h1(u,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bN;class Uo{constructor(n,r,u){this.children_=n,this.priorityNode_=r,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&Ale(this.priorityNode_),this.children_.isEmpty()&&kn(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bN||(bN=new Uo(new Mf(nee),null,h1.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bN}updatePriority(n){return this.children_.isEmpty()?this:new Uo(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const r=this.children_.get(n);return r===null?bN:r}}getChild(n){const r=Ds(n);return r===null?this:this.getImmediateChild(r).getChild(Ua(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(kn(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{const u=new Ms(n,r);let f,d;r.isEmpty()?(f=this.children_.remove(n),d=this.indexMap_.removeFromIndexes(u,this.children_)):(f=this.children_.insert(n,r),d=this.indexMap_.addToIndexes(u,this.children_));const w=f.isEmpty()?bN:this.priorityNode_;return new Uo(f,w,d)}}updateChild(n,r){const u=Ds(n);if(u===null)return r;{kn(Ds(n)!==".priority"||A0(n)===1,".priority must be the last token in a path");const f=this.getImmediateChild(u).updateChild(Ua(n),r);return this.updateImmediateChild(u,f)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let u=0,f=0,d=!0;if(this.forEachChild(Ji,(w,x)=>{r[w]=x.val(n),u++,d&&Uo.INTEGER_REGEXP_.test(w)?f=Math.max(f,Number(w)):d=!1}),!n&&d&&f<2*u){const w=[];for(const x in r)w[x]=r[x];return w}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Ile(this.getPriority().val())+":"),this.forEachChild(Ji,(r,u)=>{const f=u.hash();f!==""&&(n+=":"+r+":"+f)}),this.lazyHash_=n===""?"":rle(n)}return this.lazyHash_}getPredecessorChildName(n,r,u){const f=this.resolveIndex_(u);if(f){const d=f.getPredecessorKey(new Ms(n,r));return d?d.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const u=r.minKey();return u&&u.name}else return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new Ms(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const u=r.maxKey();return u&&u.name}else return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new Ms(r,this.children_.get(r)):null}forEachChild(n,r){const u=this.resolveIndex_(n);return u?u.inorderTraversal(f=>r(f.name,f.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const u=this.resolveIndex_(r);if(u)return u.getIteratorFrom(n,f=>f);{const f=this.children_.getIteratorFrom(n.name,Ms.Wrap);let d=f.peek();for(;d!=null&&r.compare(d,n)<0;)f.getNext(),d=f.peek();return f}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const u=this.resolveIndex_(r);if(u)return u.getReverseIteratorFrom(n,f=>f);{const f=this.children_.getReverseIteratorFrom(n.name,Ms.Wrap);let d=f.peek();for(;d!=null&&r.compare(d,n)>0;)f.getNext(),d=f.peek();return f}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===b4?-1:0}withIndex(n){if(n===OI||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new Uo(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===OI||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const u=this.getIterator(Ji),f=r.getIterator(Ji);let d=u.getNext(),w=f.getNext();for(;d&&w;){if(d.name!==w.name||!d.node.equals(w.node))return!1;d=u.getNext(),w=f.getNext()}return d===null&&w===null}else return!1;else return!1}}resolveIndex_(n){return n===OI?null:this.indexMap_.get(n.toString())}}Uo.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class d_e extends Uo{constructor(){super(new Mf(nee),Uo.EMPTY_NODE,h1.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Uo.EMPTY_NODE}isEmpty(){return!1}}const b4=new d_e;Object.defineProperties(Ms,{MIN:{value:new Ms($I,Uo.EMPTY_NODE)},MAX:{value:new Ms(gx,b4)}});Rle.__EMPTY_NODE=Uo.EMPTY_NODE;Tc.__childrenNodeConstructor=Uo;r_e(b4);i_e(b4);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_e=!0;function nc(t,n=null){if(t===null)return Uo.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(n=t[".priority"]),kn(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const r=t;return new Tc(r,nc(n))}if(!(t instanceof Array)&&f_e){const r=[];let u=!1;if(uu(t,(w,x)=>{if(w.substring(0,1)!=="."){const T=nc(x);T.isEmpty()||(u=u||!T.getPriority().isEmpty(),r.push(new Ms(w,T)))}}),r.length===0)return Uo.EMPTY_NODE;const d=NV(r,s_e,w=>w.name,nee);if(u){const w=NV(r,Ji.getCompare());return new Uo(d,nc(n),new h1({".priority":w},{".priority":Ji}))}else return new Uo(d,nc(n),h1.Default)}else{let r=Uo.EMPTY_NODE;return uu(t,(u,f)=>{if(Yy(t,u)&&u.substring(0,1)!=="."){const d=nc(f);(d.isLeafNode()||!d.isEmpty())&&(r=r.updateImmediateChild(u,d))}}),r.updatePriority(nc(n))}}a_e(nc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_e extends w7{constructor(n){super(),this.indexPath_=n,kn(!$s(n)&&Ds(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,r){const u=this.extractChild(n.node),f=this.extractChild(r.node),d=u.compareTo(f);return d===0?kx(n.name,r.name):d}makePost(n,r){const u=nc(n),f=Uo.EMPTY_NODE.updateChild(this.indexPath_,u);return new Ms(r,f)}maxPost(){const n=Uo.EMPTY_NODE.updateChild(this.indexPath_,b4);return new Ms(gx,n)}toString(){return t4(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_e extends w7{compare(n,r){const u=n.node.compareTo(r.node);return u===0?kx(n.name,r.name):u}isDefinedOn(n){return!0}indexedValueChanged(n,r){return!n.equals(r)}minPost(){return Ms.MIN}maxPost(){return Ms.MAX}makePost(n,r){const u=nc(n);return new Ms(r,u)}toString(){return".value"}}const p_e=new m_e;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mle(t){return{type:"value",snapshotNode:t}}function VI(t,n){return{type:"child_added",snapshotNode:n,childName:t}}function n4(t,n){return{type:"child_removed",snapshotNode:n,childName:t}}function o4(t,n,r){return{type:"child_changed",snapshotNode:n,childName:t,oldSnap:r}}function g_e(t,n){return{type:"child_moved",snapshotNode:n,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oee{constructor(n){this.index_=n}updateChild(n,r,u,f,d,w){kn(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const x=n.getImmediateChild(r);return x.getChild(f).equals(u.getChild(f))&&x.isEmpty()===u.isEmpty()||(w!=null&&(u.isEmpty()?n.hasChild(r)?w.trackChildChange(n4(r,x)):kn(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):x.isEmpty()?w.trackChildChange(VI(r,u)):w.trackChildChange(o4(r,u,x))),n.isLeafNode()&&u.isEmpty())?n:n.updateImmediateChild(r,u).withIndex(this.index_)}updateFullNode(n,r,u){return u!=null&&(n.isLeafNode()||n.forEachChild(Ji,(f,d)=>{r.hasChild(f)||u.trackChildChange(n4(f,d))}),r.isLeafNode()||r.forEachChild(Ji,(f,d)=>{if(n.hasChild(f)){const w=n.getImmediateChild(f);w.equals(d)||u.trackChildChange(o4(f,d,w))}else u.trackChildChange(VI(f,d))})),r.withIndex(this.index_)}updatePriority(n,r){return n.isEmpty()?Uo.EMPTY_NODE:n.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(n){this.indexedFilter_=new oee(n.getIndex()),this.index_=n.getIndex(),this.startPost_=s4.getStartPost_(n),this.endPost_=s4.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,u=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return r&&u}updateChild(n,r,u,f,d,w){return this.matches(new Ms(r,u))||(u=Uo.EMPTY_NODE),this.indexedFilter_.updateChild(n,r,u,f,d,w)}updateFullNode(n,r,u){r.isLeafNode()&&(r=Uo.EMPTY_NODE);let f=r.withIndex(this.index_);f=f.updatePriority(Uo.EMPTY_NODE);const d=this;return r.forEachChild(Ji,(w,x)=>{d.matches(new Ms(w,x))||(f=f.updateImmediateChild(w,Uo.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,f,u)}updatePriority(n,r){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const r=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),r)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const r=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),r)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_e{constructor(n){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const u=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?u<=0:u<0},this.withinEndPost=r=>{const u=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?u<=0:u<0},this.rangedFilter_=new s4(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,r,u,f,d,w){return this.rangedFilter_.matches(new Ms(r,u))||(u=Uo.EMPTY_NODE),n.getImmediateChild(r).equals(u)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,r,u,f,d,w):this.fullLimitUpdateChild_(n,r,u,d,w)}updateFullNode(n,r,u){let f;if(r.isLeafNode()||r.isEmpty())f=Uo.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){f=Uo.EMPTY_NODE.withIndex(this.index_);let d;this.reverse_?d=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let w=0;for(;d.hasNext()&&w<this.limit_;){const x=d.getNext();if(this.withinDirectionalStart(x))if(this.withinDirectionalEnd(x))f=f.updateImmediateChild(x.name,x.node),w++;else break;else continue}}else{f=r.withIndex(this.index_),f=f.updatePriority(Uo.EMPTY_NODE);let d;this.reverse_?d=f.getReverseIterator(this.index_):d=f.getIterator(this.index_);let w=0;for(;d.hasNext();){const x=d.getNext();w<this.limit_&&this.withinDirectionalStart(x)&&this.withinDirectionalEnd(x)?w++:f=f.updateImmediateChild(x.name,Uo.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,f,u)}updatePriority(n,r){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,r,u,f,d){let w;if(this.reverse_){const B=this.index_.getCompare();w=(H,le)=>B(le,H)}else w=this.index_.getCompare();const x=n;kn(x.numChildren()===this.limit_,"");const T=new Ms(r,u),A=this.reverse_?x.getFirstChild(this.index_):x.getLastChild(this.index_),$=this.rangedFilter_.matches(T);if(x.hasChild(r)){const B=x.getImmediateChild(r);let H=f.getChildAfterChild(this.index_,A,this.reverse_);for(;H!=null&&(H.name===r||x.hasChild(H.name));)H=f.getChildAfterChild(this.index_,H,this.reverse_);const le=H==null?1:w(H,T);if($&&!u.isEmpty()&&le>=0)return d!=null&&d.trackChildChange(o4(r,u,B)),x.updateImmediateChild(r,u);{d!=null&&d.trackChildChange(n4(r,B));const Ne=x.updateImmediateChild(r,Uo.EMPTY_NODE);return H!=null&&this.rangedFilter_.matches(H)?(d!=null&&d.trackChildChange(VI(H.name,H.node)),Ne.updateImmediateChild(H.name,H.node)):Ne}}else return u.isEmpty()?n:$&&w(A,T)>=0?(d!=null&&(d.trackChildChange(n4(A.name,A.node)),d.trackChildChange(VI(r,u))),x.updateImmediateChild(r,u).updateImmediateChild(A.name,Uo.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class see{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ji}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return kn(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return kn(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$I}hasEnd(){return this.endSet_}getIndexEndValue(){return kn(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return kn(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gx}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return kn(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ji}copy(){const n=new see;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function b_e(t){return t.loadsAllData()?new oee(t.getIndex()):t.hasLimit()?new y_e(t):new s4(t)}function Tse(t){const n={};if(t.isDefault())return n;let r;if(t.index_===Ji?r="$priority":t.index_===p_e?r="$value":t.index_===OI?r="$key":(kn(t.index_ instanceof h_e,"Unrecognized index type!"),r=t.index_.toString()),n.orderBy=oc(r),t.startSet_){const u=t.startAfterSet_?"startAfter":"startAt";n[u]=oc(t.indexStartValue_),t.startNameSet_&&(n[u]+=","+oc(t.indexStartName_))}if(t.endSet_){const u=t.endBeforeSet_?"endBefore":"endAt";n[u]=oc(t.indexEndValue_),t.endNameSet_&&(n[u]+=","+oc(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n}function Rse(t){const n={};if(t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_),n.sin=!t.startAfterSet_),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_),n.ein=!t.endBeforeSet_),t.limitSet_){n.l=t.limit_;let r=t.viewFrom_;r===""&&(t.isViewFromLeft()?r="l":r="r"),n.vf=r}return t.index_!==Ji&&(n.i=t.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV extends Sle{constructor(n,r,u,f){super(),this.repoInfo_=n,this.onDataUpdate_=r,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.log_=y4("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,r){return r!==void 0?"tag$"+r:(kn(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,r,u,f){const d=n._path.toString();this.log_("Listen called for "+d+" "+n._queryIdentifier);const w=LV.getListenId_(n,u),x={};this.listens_[w]=x;const T=Tse(n._queryParams);this.restRequest_(d+".json",T,(A,$)=>{let B=$;if(A===404&&(B=null,A=null),A===null&&this.onDataUpdate_(d,B,!1,u),BI(this.listens_,w)===x){let H;A?A===401?H="permission_denied":H="rest_error:"+A:H="ok",f(H,null)}})}unlisten(n,r){const u=LV.getListenId_(n,r);delete this.listens_[u]}get(n){const r=Tse(n._queryParams),u=n._path.toString(),f=new c4;return this.restRequest_(u+".json",r,(d,w)=>{let x=w;d===404&&(x=null,d=null),d===null?(this.onDataUpdate_(u,x,!1,null),f.resolve(x)):f.reject(new Error(x))}),f.promise}refreshAuthToken(n){}restRequest_(n,r={},u){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([f,d])=>{f&&f.accessToken&&(r.auth=f.accessToken),d&&d.token&&(r.ac=d.token);const w=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+YI(r);this.log_("Sending REST request for "+w);const x=new XMLHttpRequest;x.onreadystatechange=()=>{if(u&&x.readyState===4){this.log_("REST Response for "+w+" received. status:",x.status,"response:",x.responseText);let T=null;if(x.status>=200&&x.status<300){try{T=KN(x.responseText)}catch{jd("Failed to parse JSON response for "+w+": "+x.responseText)}u(null,T)}else x.status!==401&&x.status!==404&&jd("Got unsuccessful REST response for "+w+" Status: "+x.status),u(x.status);u=null}},x.open("GET",w,!0),x.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_e{constructor(){this.rootNode_=Uo.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,r){this.rootNode_=this.rootNode_.updateChild(n,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(){return{value:null,children:new Map}}function Ple(t,n,r){if($s(n))t.value=r,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(n,r);else{const u=Ds(n);t.children.has(u)||t.children.set(u,BV());const f=t.children.get(u);n=Ua(n),Ple(f,n,r)}}function zJ(t,n,r){t.value!==null?r(n,t.value):w_e(t,(u,f)=>{const d=new la(n.toString()+"/"+u);zJ(f,d,r)})}function w_e(t,n){t.children.forEach((r,u)=>{n(u,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __e{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),r=Object.assign({},n);return this.last_&&uu(this.last_,(u,f)=>{r[u]=r[u]-f}),this.last_=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ise=10*1e3,k_e=30*1e3,C_e=5*60*1e3;class S_e{constructor(n,r){this.server_=r,this.statsToReport_={},this.statsListener_=new __e(n);const u=Ise+(k_e-Ise)*Math.random();zN(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const n=this.statsListener_.get(),r={};let u=!1;uu(n,(f,d)=>{d>0&&Yy(this.statsToReport_,f)&&(r[f]=d,u=!0)}),u&&this.server_.reportStats(r),zN(this.reportStats_.bind(this),Math.floor(Math.random()*2*C_e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sg;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sg||(sg={}));function ree(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function aee(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function iee(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(n,r,u){this.path=n,this.affectedTree=r,this.revert=u,this.type=sg.ACK_USER_WRITE,this.source=ree()}operationForChild(n){if($s(this.path)){if(this.affectedTree.value!=null)return kn(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new la(n));return new FV(gr(),r,this.revert)}}else return kn(Ds(this.path)===n,"operationForChild called for unrelated child."),new FV(Ua(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(n,r){this.source=n,this.path=r,this.type=sg.LISTEN_COMPLETE}operationForChild(n){return $s(this.path)?new r4(this.source,gr()):new r4(this.source,Ua(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(n,r,u){this.source=n,this.path=r,this.snap=u,this.type=sg.OVERWRITE}operationForChild(n){return $s(this.path)?new yx(this.source,gr(),this.snap.getImmediateChild(n)):new yx(this.source,Ua(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(n,r,u){this.source=n,this.path=r,this.children=u,this.type=sg.MERGE}operationForChild(n){if($s(this.path)){const r=this.children.subtree(new la(n));return r.isEmpty()?null:r.value?new yx(this.source,gr(),r.value):new HI(this.source,gr(),r)}else return kn(Ds(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new HI(this.source,Ua(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(n,r,u){this.node_=n,this.fullyInitialized_=r,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if($s(n))return this.isFullyInitialized()&&!this.filtered_;const r=Ds(n);return this.isCompleteForChild(r)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_e{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function E_e(t,n,r,u){const f=[],d=[];return n.forEach(w=>{w.type==="child_changed"&&t.index_.indexedValueChanged(w.oldSnap,w.snapshotNode)&&d.push(g_e(w.childName,w.snapshotNode))}),vN(t,f,"child_removed",n,u,r),vN(t,f,"child_added",n,u,r),vN(t,f,"child_moved",d,u,r),vN(t,f,"child_changed",n,u,r),vN(t,f,"value",n,u,r),f}function vN(t,n,r,u,f,d){const w=u.filter(x=>x.type===r);w.sort((x,T)=>R_e(t,x,T)),w.forEach(x=>{const T=T_e(t,x,d);f.forEach(A=>{A.respondsTo(x.type)&&n.push(A.createEvent(T,t.query_))})})}function T_e(t,n,r){return n.type==="value"||n.type==="child_removed"||(n.prevName=r.getPredecessorChildName(n.childName,n.snapshotNode,t.index_)),n}function R_e(t,n,r){if(n.childName==null||r.childName==null)throw KI("Should only compare child_ events.");const u=new Ms(n.childName,n.snapshotNode),f=new Ms(r.childName,r.snapshotNode);return t.index_.compare(u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(t,n){return{eventCache:t,serverCache:n}}function NN(t,n,r,u){return _7(new O0(n,r,u),t.serverCache)}function zle(t,n,r,u){return _7(t.eventCache,new O0(n,r,u))}function $V(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function bx(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZX;const I_e=()=>(ZX||(ZX=new Mf(hwe)),ZX);class Ha{constructor(n,r=I_e()){this.value=n,this.children=r}static fromObject(n){let r=new Ha(null);return uu(n,(u,f)=>{r=r.set(new la(u),f)}),r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,r){if(this.value!=null&&r(this.value))return{path:gr(),value:this.value};if($s(n))return null;{const u=Ds(n),f=this.children.get(u);if(f!==null){const d=f.findRootMostMatchingPathAndValue(Ua(n),r);return d!=null?{path:Xi(new la(u),d.path),value:d.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if($s(n))return this;{const r=Ds(n),u=this.children.get(r);return u!==null?u.subtree(Ua(n)):new Ha(null)}}set(n,r){if($s(n))return new Ha(r,this.children);{const u=Ds(n),d=(this.children.get(u)||new Ha(null)).set(Ua(n),r),w=this.children.insert(u,d);return new Ha(this.value,w)}}remove(n){if($s(n))return this.children.isEmpty()?new Ha(null):new Ha(null,this.children);{const r=Ds(n),u=this.children.get(r);if(u){const f=u.remove(Ua(n));let d;return f.isEmpty()?d=this.children.remove(r):d=this.children.insert(r,f),this.value===null&&d.isEmpty()?new Ha(null):new Ha(this.value,d)}else return this}}get(n){if($s(n))return this.value;{const r=Ds(n),u=this.children.get(r);return u?u.get(Ua(n)):null}}setTree(n,r){if($s(n))return r;{const u=Ds(n),d=(this.children.get(u)||new Ha(null)).setTree(Ua(n),r);let w;return d.isEmpty()?w=this.children.remove(u):w=this.children.insert(u,d),new Ha(this.value,w)}}fold(n){return this.fold_(gr(),n)}fold_(n,r){const u={};return this.children.inorderTraversal((f,d)=>{u[f]=d.fold_(Xi(n,f),r)}),r(n,this.value,u)}findOnPath(n,r){return this.findOnPath_(n,gr(),r)}findOnPath_(n,r,u){const f=this.value?u(r,this.value):!1;if(f)return f;if($s(n))return null;{const d=Ds(n),w=this.children.get(d);return w?w.findOnPath_(Ua(n),Xi(r,d),u):null}}foreachOnPath(n,r){return this.foreachOnPath_(n,gr(),r)}foreachOnPath_(n,r,u){if($s(n))return this;{this.value&&u(r,this.value);const f=Ds(n),d=this.children.get(f);return d?d.foreachOnPath_(Ua(n),Xi(r,f),u):new Ha(null)}}foreach(n){this.foreach_(gr(),n)}foreach_(n,r){this.children.inorderTraversal((u,f)=>{f.foreach_(Xi(n,u),r)}),this.value&&r(n,this.value)}foreachChild(n){this.children.inorderTraversal((r,u)=>{u.value&&n(r,u.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(n){this.writeTree_=n}static empty(){return new ag(new Ha(null))}}function LN(t,n,r){if($s(n))return new ag(new Ha(r));{const u=t.writeTree_.findRootMostValueAndPath(n);if(u!=null){const f=u.path;let d=u.value;const w=Hd(f,n);return d=d.updateChild(w,r),new ag(t.writeTree_.set(f,d))}else{const f=new Ha(r),d=t.writeTree_.setTree(n,f);return new ag(d)}}}function NJ(t,n,r){let u=t;return uu(r,(f,d)=>{u=LN(u,Xi(n,f),d)}),u}function Ase(t,n){if($s(n))return ag.empty();{const r=t.writeTree_.setTree(n,new Ha(null));return new ag(r)}}function LJ(t,n){return Cx(t,n)!=null}function Cx(t,n){const r=t.writeTree_.findRootMostValueAndPath(n);return r!=null?t.writeTree_.get(r.path).getChild(Hd(r.path,n)):null}function Ose(t){const n=[],r=t.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Ji,(u,f)=>{n.push(new Ms(u,f))}):t.writeTree_.children.inorderTraversal((u,f)=>{f.value!=null&&n.push(new Ms(u,f.value))}),n}function x0(t,n){if($s(n))return t;{const r=Cx(t,n);return r!=null?new ag(new Ha(r)):new ag(t.writeTree_.subtree(n))}}function BJ(t){return t.writeTree_.isEmpty()}function UI(t,n){return Nle(gr(),t.writeTree_,n)}function Nle(t,n,r){if(n.value!=null)return r.updateChild(t,n.value);{let u=null;return n.children.inorderTraversal((f,d)=>{f===".priority"?(kn(d.value!==null,"Priority writes must always be leaf nodes"),u=d.value):r=Nle(Xi(t,f),d,r)}),!r.getChild(t).isEmpty()&&u!==null&&(r=r.updateChild(Xi(t,".priority"),u)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(t,n){return $le(n,t)}function A_e(t,n,r,u,f){kn(u>t.lastWriteId,"Stacking an older write on top of newer ones"),f===void 0&&(f=!0),t.allWrites.push({path:n,snap:r,writeId:u,visible:f}),f&&(t.visibleWrites=LN(t.visibleWrites,n,r)),t.lastWriteId=u}function O_e(t,n,r,u){kn(u>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:n,children:r,writeId:u,visible:!0}),t.visibleWrites=NJ(t.visibleWrites,n,r),t.lastWriteId=u}function D_e(t,n){for(let r=0;r<t.allWrites.length;r++){const u=t.allWrites[r];if(u.writeId===n)return u}return null}function M_e(t,n){const r=t.allWrites.findIndex(x=>x.writeId===n);kn(r>=0,"removeWrite called with nonexistent writeId.");const u=t.allWrites[r];t.allWrites.splice(r,1);let f=u.visible,d=!1,w=t.allWrites.length-1;for(;f&&w>=0;){const x=t.allWrites[w];x.visible&&(w>=r&&P_e(x,u.path)?f=!1:zm(u.path,x.path)&&(d=!0)),w--}if(f){if(d)return z_e(t),!0;if(u.snap)t.visibleWrites=Ase(t.visibleWrites,u.path);else{const x=u.children;uu(x,T=>{t.visibleWrites=Ase(t.visibleWrites,Xi(u.path,T))})}return!0}else return!1}function P_e(t,n){if(t.snap)return zm(t.path,n);for(const r in t.children)if(t.children.hasOwnProperty(r)&&zm(Xi(t.path,r),n))return!0;return!1}function z_e(t){t.visibleWrites=Lle(t.allWrites,N_e,gr()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function N_e(t){return t.visible}function Lle(t,n,r){let u=ag.empty();for(let f=0;f<t.length;++f){const d=t[f];if(n(d)){const w=d.path;let x;if(d.snap)zm(r,w)?(x=Hd(r,w),u=LN(u,x,d.snap)):zm(w,r)&&(x=Hd(w,r),u=LN(u,gr(),d.snap.getChild(x)));else if(d.children){if(zm(r,w))x=Hd(r,w),u=NJ(u,x,d.children);else if(zm(w,r))if(x=Hd(w,r),$s(x))u=NJ(u,gr(),d.children);else{const T=BI(d.children,Ds(x));if(T){const A=T.getChild(Ua(x));u=LN(u,gr(),A)}}}else throw KI("WriteRecord should have .snap or .children")}}return u}function Ble(t,n,r,u,f){if(!u&&!f){const d=Cx(t.visibleWrites,n);if(d!=null)return d;{const w=x0(t.visibleWrites,n);if(BJ(w))return r;if(r==null&&!LJ(w,gr()))return null;{const x=r||Uo.EMPTY_NODE;return UI(w,x)}}}else{const d=x0(t.visibleWrites,n);if(!f&&BJ(d))return r;if(!f&&r==null&&!LJ(d,gr()))return null;{const w=function(A){return(A.visible||f)&&(!u||!~u.indexOf(A.writeId))&&(zm(A.path,n)||zm(n,A.path))},x=Lle(t.allWrites,w,n),T=r||Uo.EMPTY_NODE;return UI(x,T)}}}function L_e(t,n,r){let u=Uo.EMPTY_NODE;const f=Cx(t.visibleWrites,n);if(f)return f.isLeafNode()||f.forEachChild(Ji,(d,w)=>{u=u.updateImmediateChild(d,w)}),u;if(r){const d=x0(t.visibleWrites,n);return r.forEachChild(Ji,(w,x)=>{const T=UI(x0(d,new la(w)),x);u=u.updateImmediateChild(w,T)}),Ose(d).forEach(w=>{u=u.updateImmediateChild(w.name,w.node)}),u}else{const d=x0(t.visibleWrites,n);return Ose(d).forEach(w=>{u=u.updateImmediateChild(w.name,w.node)}),u}}function B_e(t,n,r,u,f){kn(u||f,"Either existingEventSnap or existingServerSnap must exist");const d=Xi(n,r);if(LJ(t.visibleWrites,d))return null;{const w=x0(t.visibleWrites,d);return BJ(w)?f.getChild(r):UI(w,f.getChild(r))}}function F_e(t,n,r,u){const f=Xi(n,r),d=Cx(t.visibleWrites,f);if(d!=null)return d;if(u.isCompleteForChild(r)){const w=x0(t.visibleWrites,f);return UI(w,u.getNode().getImmediateChild(r))}else return null}function $_e(t,n){return Cx(t.visibleWrites,n)}function V_e(t,n,r,u,f,d,w){let x;const T=x0(t.visibleWrites,n),A=Cx(T,gr());if(A!=null)x=A;else if(r!=null)x=UI(T,r);else return[];if(x=x.withIndex(w),!x.isEmpty()&&!x.isLeafNode()){const $=[],B=w.getCompare(),H=d?x.getReverseIteratorFrom(u,w):x.getIteratorFrom(u,w);let le=H.getNext();for(;le&&$.length<f;)B(le,u)!==0&&$.push(le),le=H.getNext();return $}else return[]}function H_e(){return{visibleWrites:ag.empty(),allWrites:[],lastWriteId:-1}}function VV(t,n,r,u){return Ble(t.writeTree,t.treePath,n,r,u)}function lee(t,n){return L_e(t.writeTree,t.treePath,n)}function Dse(t,n,r,u){return B_e(t.writeTree,t.treePath,n,r,u)}function HV(t,n){return $_e(t.writeTree,Xi(t.treePath,n))}function U_e(t,n,r,u,f,d){return V_e(t.writeTree,t.treePath,n,r,u,f,d)}function cee(t,n,r){return F_e(t.writeTree,t.treePath,n,r)}function Fle(t,n){return $le(Xi(t.treePath,n),t.writeTree)}function $le(t,n){return{treePath:t,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_e{constructor(){this.changeMap=new Map}trackChildChange(n){const r=n.type,u=n.childName;kn(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),kn(u!==".priority","Only non-priority child changes can be tracked.");const f=this.changeMap.get(u);if(f){const d=f.type;if(r==="child_added"&&d==="child_removed")this.changeMap.set(u,o4(u,n.snapshotNode,f.snapshotNode));else if(r==="child_removed"&&d==="child_added")this.changeMap.delete(u);else if(r==="child_removed"&&d==="child_changed")this.changeMap.set(u,n4(u,f.oldSnap));else if(r==="child_changed"&&d==="child_added")this.changeMap.set(u,VI(u,n.snapshotNode));else if(r==="child_changed"&&d==="child_changed")this.changeMap.set(u,o4(u,n.snapshotNode,f.oldSnap));else throw KI("Illegal combination of changes: "+n+" occurred after "+f)}else this.changeMap.set(u,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_e{getCompleteChild(n){return null}getChildAfterChild(n,r,u){return null}}const Vle=new W_e;class uee{constructor(n,r,u=null){this.writes_=n,this.viewCache_=r,this.optCompleteServerCache_=u}getCompleteChild(n){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(n))return r.getNode().getImmediateChild(n);{const u=this.optCompleteServerCache_!=null?new O0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cee(this.writes_,n,u)}}getChildAfterChild(n,r,u){const f=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:bx(this.viewCache_),d=U_e(this.writes_,f,r,1,u,n);return d.length===0?null:d[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_e(t){return{filter:t}}function G_e(t,n){kn(n.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),kn(n.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function q_e(t,n,r,u,f){const d=new j_e;let w,x;if(r.type===sg.OVERWRITE){const A=r;A.source.fromUser?w=FJ(t,n,A.path,A.snap,u,f,d):(kn(A.source.fromServer,"Unknown source."),x=A.source.tagged||n.serverCache.isFiltered()&&!$s(A.path),w=UV(t,n,A.path,A.snap,u,f,x,d))}else if(r.type===sg.MERGE){const A=r;A.source.fromUser?w=Y_e(t,n,A.path,A.children,u,f,d):(kn(A.source.fromServer,"Unknown source."),x=A.source.tagged||n.serverCache.isFiltered(),w=$J(t,n,A.path,A.children,u,f,x,d))}else if(r.type===sg.ACK_USER_WRITE){const A=r;A.revert?w=Q_e(t,n,A.path,u,f,d):w=X_e(t,n,A.path,A.affectedTree,u,f,d)}else if(r.type===sg.LISTEN_COMPLETE)w=J_e(t,n,r.path,u,d);else throw KI("Unknown operation type: "+r.type);const T=d.getChanges();return K_e(n,w,T),{viewCache:w,changes:T}}function K_e(t,n,r){const u=n.eventCache;if(u.isFullyInitialized()){const f=u.getNode().isLeafNode()||u.getNode().isEmpty(),d=$V(t);(r.length>0||!t.eventCache.isFullyInitialized()||f&&!u.getNode().equals(d)||!u.getNode().getPriority().equals(d.getPriority()))&&r.push(Mle($V(n)))}}function Hle(t,n,r,u,f,d){const w=n.eventCache;if(HV(u,r)!=null)return n;{let x,T;if($s(r))if(kn(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const A=bx(n),$=A instanceof Uo?A:Uo.EMPTY_NODE,B=lee(u,$);x=t.filter.updateFullNode(n.eventCache.getNode(),B,d)}else{const A=VV(u,bx(n));x=t.filter.updateFullNode(n.eventCache.getNode(),A,d)}else{const A=Ds(r);if(A===".priority"){kn(A0(r)===1,"Can't have a priority with additional path components");const $=w.getNode();T=n.serverCache.getNode();const B=Dse(u,r,$,T);B!=null?x=t.filter.updatePriority($,B):x=w.getNode()}else{const $=Ua(r);let B;if(w.isCompleteForChild(A)){T=n.serverCache.getNode();const H=Dse(u,r,w.getNode(),T);H!=null?B=w.getNode().getImmediateChild(A).updateChild($,H):B=w.getNode().getImmediateChild(A)}else B=cee(u,A,n.serverCache);B!=null?x=t.filter.updateChild(w.getNode(),A,B,$,f,d):x=w.getNode()}}return NN(n,x,w.isFullyInitialized()||$s(r),t.filter.filtersNodes())}}function UV(t,n,r,u,f,d,w,x){const T=n.serverCache;let A;const $=w?t.filter:t.filter.getIndexedFilter();if($s(r))A=$.updateFullNode(T.getNode(),u,null);else if($.filtersNodes()&&!T.isFiltered()){const le=T.getNode().updateChild(r,u);A=$.updateFullNode(T.getNode(),le,null)}else{const le=Ds(r);if(!T.isCompleteForPath(r)&&A0(r)>1)return n;const ke=Ua(r),Se=T.getNode().getImmediateChild(le).updateChild(ke,u);le===".priority"?A=$.updatePriority(T.getNode(),Se):A=$.updateChild(T.getNode(),le,Se,ke,Vle,null)}const B=zle(n,A,T.isFullyInitialized()||$s(r),$.filtersNodes()),H=new uee(f,B,d);return Hle(t,B,r,f,H,x)}function FJ(t,n,r,u,f,d,w){const x=n.eventCache;let T,A;const $=new uee(f,n,d);if($s(r))A=t.filter.updateFullNode(n.eventCache.getNode(),u,w),T=NN(n,A,!0,t.filter.filtersNodes());else{const B=Ds(r);if(B===".priority")A=t.filter.updatePriority(n.eventCache.getNode(),u),T=NN(n,A,x.isFullyInitialized(),x.isFiltered());else{const H=Ua(r),le=x.getNode().getImmediateChild(B);let ke;if($s(H))ke=u;else{const Ne=$.getCompleteChild(B);Ne!=null?QQ(H)===".priority"&&Ne.getChild(Ele(H)).isEmpty()?ke=Ne:ke=Ne.updateChild(H,u):ke=Uo.EMPTY_NODE}if(le.equals(ke))T=n;else{const Ne=t.filter.updateChild(x.getNode(),B,ke,H,$,w);T=NN(n,Ne,x.isFullyInitialized(),t.filter.filtersNodes())}}}return T}function Mse(t,n){return t.eventCache.isCompleteForChild(n)}function Y_e(t,n,r,u,f,d,w){let x=n;return u.foreach((T,A)=>{const $=Xi(r,T);Mse(n,Ds($))&&(x=FJ(t,x,$,A,f,d,w))}),u.foreach((T,A)=>{const $=Xi(r,T);Mse(n,Ds($))||(x=FJ(t,x,$,A,f,d,w))}),x}function Pse(t,n,r){return r.foreach((u,f)=>{n=n.updateChild(u,f)}),n}function $J(t,n,r,u,f,d,w,x){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let T=n,A;$s(r)?A=u:A=new Ha(null).setTree(r,u);const $=n.serverCache.getNode();return A.children.inorderTraversal((B,H)=>{if($.hasChild(B)){const le=n.serverCache.getNode().getImmediateChild(B),ke=Pse(t,le,H);T=UV(t,T,new la(B),ke,f,d,w,x)}}),A.children.inorderTraversal((B,H)=>{const le=!n.serverCache.isCompleteForChild(B)&&H.value===null;if(!$.hasChild(B)&&!le){const ke=n.serverCache.getNode().getImmediateChild(B),Ne=Pse(t,ke,H);T=UV(t,T,new la(B),Ne,f,d,w,x)}}),T}function X_e(t,n,r,u,f,d,w){if(HV(f,r)!=null)return n;const x=n.serverCache.isFiltered(),T=n.serverCache;if(u.value!=null){if($s(r)&&T.isFullyInitialized()||T.isCompleteForPath(r))return UV(t,n,r,T.getNode().getChild(r),f,d,x,w);if($s(r)){let A=new Ha(null);return T.getNode().forEachChild(OI,($,B)=>{A=A.set(new la($),B)}),$J(t,n,r,A,f,d,x,w)}else return n}else{let A=new Ha(null);return u.foreach(($,B)=>{const H=Xi(r,$);T.isCompleteForPath(H)&&(A=A.set($,T.getNode().getChild(H)))}),$J(t,n,r,A,f,d,x,w)}}function J_e(t,n,r,u,f){const d=n.serverCache,w=zle(n,d.getNode(),d.isFullyInitialized()||$s(r),d.isFiltered());return Hle(t,w,r,u,Vle,f)}function Q_e(t,n,r,u,f,d){let w;if(HV(u,r)!=null)return n;{const x=new uee(u,n,f),T=n.eventCache.getNode();let A;if($s(r)||Ds(r)===".priority"){let $;if(n.serverCache.isFullyInitialized())$=VV(u,bx(n));else{const B=n.serverCache.getNode();kn(B instanceof Uo,"serverChildren would be complete if leaf node"),$=lee(u,B)}$=$,A=t.filter.updateFullNode(T,$,d)}else{const $=Ds(r);let B=cee(u,$,n.serverCache);B==null&&n.serverCache.isCompleteForChild($)&&(B=T.getImmediateChild($)),B!=null?A=t.filter.updateChild(T,$,B,Ua(r),x,d):n.eventCache.getNode().hasChild($)?A=t.filter.updateChild(T,$,Uo.EMPTY_NODE,Ua(r),x,d):A=T,A.isEmpty()&&n.serverCache.isFullyInitialized()&&(w=VV(u,bx(n)),w.isLeafNode()&&(A=t.filter.updateFullNode(A,w,d)))}return w=n.serverCache.isFullyInitialized()||HV(u,gr())!=null,NN(n,A,w,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0e{constructor(n,r){this.query_=n,this.eventRegistrations_=[];const u=this.query_._queryParams,f=new oee(u.getIndex()),d=b_e(u);this.processor_=Z_e(d);const w=r.serverCache,x=r.eventCache,T=f.updateFullNode(Uo.EMPTY_NODE,w.getNode(),null),A=d.updateFullNode(Uo.EMPTY_NODE,x.getNode(),null),$=new O0(T,w.isFullyInitialized(),f.filtersNodes()),B=new O0(A,x.isFullyInitialized(),d.filtersNodes());this.viewCache_=_7(B,$),this.eventGenerator_=new x_e(this.query_)}get query(){return this.query_}}function t0e(t){return t.viewCache_.serverCache.getNode()}function n0e(t){return $V(t.viewCache_)}function o0e(t,n){const r=bx(t.viewCache_);return r&&(t.query._queryParams.loadsAllData()||!$s(n)&&!r.getImmediateChild(Ds(n)).isEmpty())?r.getChild(n):null}function zse(t){return t.eventRegistrations_.length===0}function s0e(t,n){t.eventRegistrations_.push(n)}function Nse(t,n,r){const u=[];if(r){kn(n==null,"A cancel should cancel all event registrations.");const f=t.query._path;t.eventRegistrations_.forEach(d=>{const w=d.createCancelEvent(r,f);w&&u.push(w)})}if(n){let f=[];for(let d=0;d<t.eventRegistrations_.length;++d){const w=t.eventRegistrations_[d];if(!w.matches(n))f.push(w);else if(n.hasAnyCallback()){f=f.concat(t.eventRegistrations_.slice(d+1));break}}t.eventRegistrations_=f}else t.eventRegistrations_=[];return u}function Lse(t,n,r,u){n.type===sg.MERGE&&n.source.queryId!==null&&(kn(bx(t.viewCache_),"We should always have a full cache before handling merges"),kn($V(t.viewCache_),"Missing event cache, even though we have a server cache"));const f=t.viewCache_,d=q_e(t.processor_,f,n,r,u);return G_e(t.processor_,d.viewCache),kn(d.viewCache.serverCache.isFullyInitialized()||!f.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=d.viewCache,Ule(t,d.changes,d.viewCache.eventCache.getNode(),null)}function r0e(t,n){const r=t.viewCache_.eventCache,u=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Ji,(d,w)=>{u.push(VI(d,w))}),r.isFullyInitialized()&&u.push(Mle(r.getNode())),Ule(t,u,r.getNode(),n)}function Ule(t,n,r,u){const f=u?[u]:t.eventRegistrations_;return E_e(t.eventGenerator_,n,r,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jV;class jle{constructor(){this.views=new Map}}function a0e(t){kn(!jV,"__referenceConstructor has already been defined"),jV=t}function i0e(){return kn(jV,"Reference.ts has not been loaded"),jV}function l0e(t){return t.views.size===0}function dee(t,n,r,u){const f=n.source.queryId;if(f!==null){const d=t.views.get(f);return kn(d!=null,"SyncTree gave us an op for an invalid query."),Lse(d,n,r,u)}else{let d=[];for(const w of t.views.values())d=d.concat(Lse(w,n,r,u));return d}}function Wle(t,n,r,u,f){const d=n._queryIdentifier,w=t.views.get(d);if(!w){let x=VV(r,f?u:null),T=!1;x?T=!0:u instanceof Uo?(x=lee(r,u),T=!1):(x=Uo.EMPTY_NODE,T=!1);const A=_7(new O0(x,T,!1),new O0(u,f,!1));return new e0e(n,A)}return w}function c0e(t,n,r,u,f,d){const w=Wle(t,n,u,f,d);return t.views.has(n._queryIdentifier)||t.views.set(n._queryIdentifier,w),s0e(w,r),r0e(w,r)}function u0e(t,n,r,u){const f=n._queryIdentifier,d=[];let w=[];const x=D0(t);if(f==="default")for(const[T,A]of t.views.entries())w=w.concat(Nse(A,r,u)),zse(A)&&(t.views.delete(T),A.query._queryParams.loadsAllData()||d.push(A.query));else{const T=t.views.get(f);T&&(w=w.concat(Nse(T,r,u)),zse(T)&&(t.views.delete(f),T.query._queryParams.loadsAllData()||d.push(T.query)))}return x&&!D0(t)&&d.push(new(i0e())(n._repo,n._path)),{removed:d,events:w}}function Zle(t){const n=[];for(const r of t.views.values())r.query._queryParams.loadsAllData()||n.push(r);return n}function E0(t,n){let r=null;for(const u of t.views.values())r=r||o0e(u,n);return r}function Gle(t,n){if(n._queryParams.loadsAllData())return C7(t);{const u=n._queryIdentifier;return t.views.get(u)}}function qle(t,n){return Gle(t,n)!=null}function D0(t){return C7(t)!=null}function C7(t){for(const n of t.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WV;function d0e(t){kn(!WV,"__referenceConstructor has already been defined"),WV=t}function f0e(){return kn(WV,"Reference.ts has not been loaded"),WV}let h0e=1;class Bse{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Ha(null),this.pendingWriteTree_=H_e(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Kle(t,n,r,u,f){return A_e(t.pendingWriteTree_,n,r,u,f),f?tA(t,new yx(ree(),n,r)):[]}function m0e(t,n,r,u){O_e(t.pendingWriteTree_,n,r,u);const f=Ha.fromObject(r);return tA(t,new HI(ree(),n,f))}function g0(t,n,r=!1){const u=D_e(t.pendingWriteTree_,n);if(M_e(t.pendingWriteTree_,n)){let d=new Ha(null);return u.snap!=null?d=d.set(gr(),!0):uu(u.children,w=>{d=d.set(new la(w),!0)}),tA(t,new FV(u.path,d,r))}else return[]}function v4(t,n,r){return tA(t,new yx(aee(),n,r))}function p0e(t,n,r){const u=Ha.fromObject(r);return tA(t,new HI(aee(),n,u))}function g0e(t,n){return tA(t,new r4(aee(),n))}function y0e(t,n,r){const u=hee(t,r);if(u){const f=mee(u),d=f.path,w=f.queryId,x=Hd(d,n),T=new r4(iee(w),x);return pee(t,d,T)}else return[]}function ZV(t,n,r,u,f=!1){const d=n._path,w=t.syncPointTree_.get(d);let x=[];if(w&&(n._queryIdentifier==="default"||qle(w,n))){const T=u0e(w,n,r,u);l0e(w)&&(t.syncPointTree_=t.syncPointTree_.remove(d));const A=T.removed;if(x=T.events,!f){const $=A.findIndex(H=>H._queryParams.loadsAllData())!==-1,B=t.syncPointTree_.findOnPath(d,(H,le)=>D0(le));if($&&!B){const H=t.syncPointTree_.subtree(d);if(!H.isEmpty()){const le=w0e(H);for(let ke=0;ke<le.length;++ke){const Ne=le[ke],Se=Ne.query,je=Qle(t,Ne);t.listenProvider_.startListening(BN(Se),a4(t,Se),je.hashFn,je.onComplete)}}}!B&&A.length>0&&!u&&($?t.listenProvider_.stopListening(BN(n),null):A.forEach(H=>{const le=t.queryToTagMap.get(S7(H));t.listenProvider_.stopListening(BN(H),le)}))}_0e(t,A)}return x}function Yle(t,n,r,u){const f=hee(t,u);if(f!=null){const d=mee(f),w=d.path,x=d.queryId,T=Hd(w,n),A=new yx(iee(x),T,r);return pee(t,w,A)}else return[]}function b0e(t,n,r,u){const f=hee(t,u);if(f){const d=mee(f),w=d.path,x=d.queryId,T=Hd(w,n),A=Ha.fromObject(r),$=new HI(iee(x),T,A);return pee(t,w,$)}else return[]}function VJ(t,n,r,u=!1){const f=n._path;let d=null,w=!1;t.syncPointTree_.foreachOnPath(f,(H,le)=>{const ke=Hd(H,f);d=d||E0(le,ke),w=w||D0(le)});let x=t.syncPointTree_.get(f);x?(w=w||D0(x),d=d||E0(x,gr())):(x=new jle,t.syncPointTree_=t.syncPointTree_.set(f,x));let T;d!=null?T=!0:(T=!1,d=Uo.EMPTY_NODE,t.syncPointTree_.subtree(f).foreachChild((le,ke)=>{const Ne=E0(ke,gr());Ne&&(d=d.updateImmediateChild(le,Ne))}));const A=qle(x,n);if(!A&&!n._queryParams.loadsAllData()){const H=S7(n);kn(!t.queryToTagMap.has(H),"View does not exist, but we have a tag");const le=k0e();t.queryToTagMap.set(H,le),t.tagToQueryMap.set(le,H)}const $=k7(t.pendingWriteTree_,f);let B=c0e(x,n,r,$,d,T);if(!A&&!w&&!u){const H=Gle(x,n);B=B.concat(C0e(t,n,H))}return B}function fee(t,n,r){const f=t.pendingWriteTree_,d=t.syncPointTree_.findOnPath(n,(w,x)=>{const T=Hd(w,n),A=E0(x,T);if(A)return A});return Ble(f,n,d,r,!0)}function v0e(t,n){const r=n._path;let u=null;t.syncPointTree_.foreachOnPath(r,(A,$)=>{const B=Hd(A,r);u=u||E0($,B)});let f=t.syncPointTree_.get(r);f?u=u||E0(f,gr()):(f=new jle,t.syncPointTree_=t.syncPointTree_.set(r,f));const d=u!=null,w=d?new O0(u,!0,!1):null,x=k7(t.pendingWriteTree_,n._path),T=Wle(f,n,x,d?w.getNode():Uo.EMPTY_NODE,d);return n0e(T)}function tA(t,n){return Xle(n,t.syncPointTree_,null,k7(t.pendingWriteTree_,gr()))}function Xle(t,n,r,u){if($s(t.path))return Jle(t,n,r,u);{const f=n.get(gr());r==null&&f!=null&&(r=E0(f,gr()));let d=[];const w=Ds(t.path),x=t.operationForChild(w),T=n.children.get(w);if(T&&x){const A=r?r.getImmediateChild(w):null,$=Fle(u,w);d=d.concat(Xle(x,T,A,$))}return f&&(d=d.concat(dee(f,t,u,r))),d}}function Jle(t,n,r,u){const f=n.get(gr());r==null&&f!=null&&(r=E0(f,gr()));let d=[];return n.children.inorderTraversal((w,x)=>{const T=r?r.getImmediateChild(w):null,A=Fle(u,w),$=t.operationForChild(w);$&&(d=d.concat(Jle($,x,T,A)))}),f&&(d=d.concat(dee(f,t,u,r))),d}function Qle(t,n){const r=n.query,u=a4(t,r);return{hashFn:()=>(t0e(n)||Uo.EMPTY_NODE).hash(),onComplete:f=>{if(f==="ok")return u?y0e(t,r._path,u):g0e(t,r._path);{const d=gwe(f,r);return ZV(t,r,null,d)}}}}function a4(t,n){const r=S7(n);return t.queryToTagMap.get(r)}function S7(t){return t._path.toString()+"$"+t._queryIdentifier}function hee(t,n){return t.tagToQueryMap.get(n)}function mee(t){const n=t.indexOf("$");return kn(n!==-1&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new la(t.substr(0,n))}}function pee(t,n,r){const u=t.syncPointTree_.get(n);kn(u,"Missing sync point for query tag that we're tracking");const f=k7(t.pendingWriteTree_,n);return dee(u,r,f,null)}function w0e(t){return t.fold((n,r,u)=>{if(r&&D0(r))return[C7(r)];{let f=[];return r&&(f=Zle(r)),uu(u,(d,w)=>{f=f.concat(w)}),f}})}function BN(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(f0e())(t._repo,t._path):t}function _0e(t,n){for(let r=0;r<n.length;++r){const u=n[r];if(!u._queryParams.loadsAllData()){const f=S7(u),d=t.queryToTagMap.get(f);t.queryToTagMap.delete(f),t.tagToQueryMap.delete(d)}}}function k0e(){return h0e++}function C0e(t,n,r){const u=n._path,f=a4(t,n),d=Qle(t,r),w=t.listenProvider_.startListening(BN(n),f,d.hashFn,d.onComplete),x=t.syncPointTree_.subtree(u);if(f)kn(!D0(x.value),"If we're adding a query, it shouldn't be shadowed");else{const T=x.fold((A,$,B)=>{if(!$s(A)&&$&&D0($))return[C7($).query];{let H=[];return $&&(H=H.concat(Zle($).map(le=>le.query))),uu(B,(le,ke)=>{H=H.concat(ke)}),H}});for(let A=0;A<T.length;++A){const $=T[A];t.listenProvider_.stopListening(BN($),a4(t,$))}}return w}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(n){this.node_=n}getImmediateChild(n){const r=this.node_.getImmediateChild(n);return new gee(r)}node(){return this.node_}}class yee{constructor(n,r){this.syncTree_=n,this.path_=r}getImmediateChild(n){const r=Xi(this.path_,n);return new yee(this.syncTree_,r)}node(){return fee(this.syncTree_,this.path_)}}const S0e=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Fse=function(t,n,r){if(!t||typeof t!="object")return t;if(kn(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return x0e(t[".sv"],n,r);if(typeof t[".sv"]=="object")return E0e(t[".sv"],n);kn(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},x0e=function(t,n,r){switch(t){case"timestamp":return r.timestamp;default:kn(!1,"Unexpected server value: "+t)}},E0e=function(t,n,r){t.hasOwnProperty("increment")||kn(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const u=t.increment;typeof u!="number"&&kn(!1,"Unexpected increment value: "+u);const f=n.node();if(kn(f!==null&&typeof f<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!f.isLeafNode())return u;const w=f.getValue();return typeof w!="number"?u:w+u},ece=function(t,n,r,u){return bee(n,new yee(r,t),u)},tce=function(t,n,r){return bee(t,new gee(n),r)};function bee(t,n,r){const u=t.getPriority().val(),f=Fse(u,n.getImmediateChild(".priority"),r);let d;if(t.isLeafNode()){const w=t,x=Fse(w.getValue(),n,r);return x!==w.getValue()||f!==w.getPriority().val()?new Tc(x,nc(f)):t}else{const w=t;return d=w,f!==w.getPriority().val()&&(d=d.updatePriority(new Tc(f))),w.forEachChild(Ji,(x,T)=>{const A=bee(T,n.getImmediateChild(x),r);A!==T&&(d=d.updateImmediateChild(x,A))}),d}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vee{constructor(n="",r=null,u={children:{},childCount:0}){this.name=n,this.parent=r,this.node=u}}function wee(t,n){let r=n instanceof la?n:new la(n),u=t,f=Ds(r);for(;f!==null;){const d=BI(u.node.children,f)||{children:{},childCount:0};u=new vee(f,u,d),r=Ua(r),f=Ds(r)}return u}function nA(t){return t.node.value}function nce(t,n){t.node.value=n,HJ(t)}function oce(t){return t.node.childCount>0}function T0e(t){return nA(t)===void 0&&!oce(t)}function x7(t,n){uu(t.node.children,(r,u)=>{n(new vee(r,t,u))})}function sce(t,n,r,u){r&&!u&&n(t),x7(t,f=>{sce(f,n,!0,u)}),r&&u&&n(t)}function R0e(t,n,r){let u=r?t:t.parent;for(;u!==null;){if(n(u))return!0;u=u.parent}return!1}function w4(t){return new la(t.parent===null?t.name:w4(t.parent)+"/"+t.name)}function HJ(t){t.parent!==null&&I0e(t.parent,t.name,t)}function I0e(t,n,r){const u=T0e(r),f=Yy(t.node.children,n);u&&f?(delete t.node.children[n],t.node.childCount--,HJ(t)):!u&&!f&&(t.node.children[n]=r.node,t.node.childCount++,HJ(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0e=/[\[\].#$\/\u0000-\u001F\u007F]/,O0e=/[\[\].#$\u0000-\u001F\u007F]/,GX=10*1024*1024,_ee=function(t){return typeof t=="string"&&t.length!==0&&!A0e.test(t)},rce=function(t){return typeof t=="string"&&t.length!==0&&!O0e.test(t)},D0e=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rce(t)},M0e=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!qQ(t)||t&&typeof t=="object"&&Yy(t,".sv")},ace=function(t,n,r,u){u&&n===void 0||E7(p7(t,"value"),n,r)},E7=function(t,n,r){const u=r instanceof la?new Ywe(r,t):r;if(n===void 0)throw new Error(t+"contains undefined "+JS(u));if(typeof n=="function")throw new Error(t+"contains a function "+JS(u)+" with contents = "+n.toString());if(qQ(n))throw new Error(t+"contains "+n.toString()+" "+JS(u));if(typeof n=="string"&&n.length>GX/3&&g7(n)>GX)throw new Error(t+"contains a string greater than "+GX+" utf8 bytes "+JS(u)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let f=!1,d=!1;if(uu(n,(w,x)=>{if(w===".value")f=!0;else if(w!==".priority"&&w!==".sv"&&(d=!0,!_ee(w)))throw new Error(t+" contains an invalid key ("+w+") "+JS(u)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Xwe(u,w),E7(t,x,u),Jwe(u)}),f&&d)throw new Error(t+' contains ".value" child '+JS(u)+" in addition to actual children.")}},P0e=function(t,n){let r,u;for(r=0;r<n.length;r++){u=n[r];const d=t4(u);for(let w=0;w<d.length;w++)if(!(d[w]===".priority"&&w===d.length-1)){if(!_ee(d[w]))throw new Error(t+"contains an invalid key ("+d[w]+") in path "+u.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(Kwe);let f=null;for(r=0;r<n.length;r++){if(u=n[r],f!==null&&zm(f,u))throw new Error(t+"contains a path "+f.toString()+" that is ancestor of another path "+u.toString());f=u}},z0e=function(t,n,r,u){if(u&&n===void 0)return;const f=p7(t,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(f+" must be an object containing the children to replace.");const d=[];uu(n,(w,x)=>{const T=new la(w);if(E7(f,x,Xi(r,T)),QQ(T)===".priority"&&!M0e(x))throw new Error(f+"contains an invalid value for '"+T.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(T)}),P0e(f,d)},ice=function(t,n,r,u){if(!(u&&r===void 0)&&!rce(r))throw new Error(p7(t,n)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},N0e=function(t,n,r,u){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),ice(t,n,r,u)},kee=function(t,n){if(Ds(n)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},L0e=function(t,n){const r=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!_ee(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!D0e(r))throw new Error(p7(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0e{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function T7(t,n){let r=null;for(let u=0;u<n.length;u++){const f=n[u],d=f.getPath();r!==null&&!eee(d,r.path)&&(t.eventLists_.push(r),r=null),r===null&&(r={events:[],path:d}),r.events.push(f)}r&&t.eventLists_.push(r)}function lce(t,n,r){T7(t,r),cce(t,u=>eee(u,n))}function Bm(t,n,r){T7(t,r),cce(t,u=>zm(u,n)||zm(n,u))}function cce(t,n){t.recursionDepth_++;let r=!0;for(let u=0;u<t.eventLists_.length;u++){const f=t.eventLists_[u];if(f){const d=f.path;n(d)?(F0e(t.eventLists_[u]),t.eventLists_[u]=null):r=!1}}r&&(t.eventLists_=[]),t.recursionDepth_--}function F0e(t){for(let n=0;n<t.events.length;n++){const r=t.events[n];if(r!==null){t.events[n]=null;const u=r.getEventRunner();cx&&iu("event: "+r.toString()),eA(u)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0e="repo_interrupt",V0e=25;class H0e{constructor(n,r,u,f){this.repoInfo_=n,this.forceRestClient_=r,this.authTokenProvider_=u,this.appCheckProvider_=f,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new B0e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=BV(),this.transactionQueueTree_=new vee,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function U0e(t,n,r){if(t.stats_=XQ(t.repoInfo_),t.forceRestClient_||wwe())t.server_=new LV(t.repoInfo_,(u,f,d,w)=>{$se(t,u,f,d,w)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Vse(t,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{oc(r)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}t.persistentConnection_=new p1(t.repoInfo_,n,(u,f,d,w)=>{$se(t,u,f,d,w)},u=>{Vse(t,u)},u=>{j0e(t,u)},t.authTokenProvider_,t.appCheckProvider_,r),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(u=>{t.server_.refreshAuthToken(u)}),t.appCheckProvider_.addTokenChangeListener(u=>{t.server_.refreshAppCheckToken(u.token)}),t.statsReporter_=xwe(t.repoInfo_,()=>new S_e(t.stats_,t.server_)),t.infoData_=new v_e,t.infoSyncTree_=new Bse({startListening:(u,f,d,w)=>{let x=[];const T=t.infoData_.getNode(u._path);return T.isEmpty()||(x=v4(t.infoSyncTree_,u._path,T),setTimeout(()=>{w("ok")},0)),x},stopListening:()=>{}}),Cee(t,"connected",!1),t.serverSyncTree_=new Bse({startListening:(u,f,d,w)=>(t.server_.listen(u,d,f,(x,T)=>{const A=w(x,T);Bm(t.eventQueue_,u._path,A)}),[]),stopListening:(u,f)=>{t.server_.unlisten(u,f)}})}function uce(t){const r=t.infoData_.getNode(new la(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function R7(t){return S0e({timestamp:uce(t)})}function $se(t,n,r,u,f){t.dataUpdateCount++;const d=new la(n);r=t.interceptServerDataCallback_?t.interceptServerDataCallback_(n,r):r;let w=[];if(f)if(u){const T=RV(r,A=>nc(A));w=b0e(t.serverSyncTree_,d,T,f)}else{const T=nc(r);w=Yle(t.serverSyncTree_,d,T,f)}else if(u){const T=RV(r,A=>nc(A));w=p0e(t.serverSyncTree_,d,T)}else{const T=nc(r);w=v4(t.serverSyncTree_,d,T)}let x=d;w.length>0&&(x=jI(t,d)),Bm(t.eventQueue_,x,w)}function Vse(t,n){Cee(t,"connected",n),n===!1&&q0e(t)}function j0e(t,n){uu(n,(r,u)=>{Cee(t,r,u)})}function Cee(t,n,r){const u=new la("/.info/"+n),f=nc(r);t.infoData_.updateSnapshot(u,f);const d=v4(t.infoSyncTree_,u,f);Bm(t.eventQueue_,u,d)}function See(t){return t.nextWriteId_++}function W0e(t,n,r){const u=v0e(t.serverSyncTree_,n);return u!=null?Promise.resolve(u):t.server_.get(n).then(f=>{const d=nc(f).withIndex(n._queryParams.getIndex());VJ(t.serverSyncTree_,n,r,!0);let w;if(n._queryParams.loadsAllData())w=v4(t.serverSyncTree_,n._path,d);else{const x=a4(t.serverSyncTree_,n);w=Yle(t.serverSyncTree_,n._path,d,x)}return Bm(t.eventQueue_,n._path,w),ZV(t.serverSyncTree_,n,r,null,!0),d},f=>(_4(t,"get for query "+oc(n)+" failed: "+f),Promise.reject(new Error(f))))}function Z0e(t,n,r,u,f){_4(t,"set",{path:n.toString(),value:r,priority:u});const d=R7(t),w=nc(r,u),x=fee(t.serverSyncTree_,n),T=tce(w,x,d),A=See(t),$=Kle(t.serverSyncTree_,n,T,A,!0);T7(t.eventQueue_,$),t.server_.put(n.toString(),w.val(!0),(H,le)=>{const ke=H==="ok";ke||jd("set at "+n+" failed: "+H);const Ne=g0(t.serverSyncTree_,A,!ke);Bm(t.eventQueue_,n,Ne),UJ(t,f,H,le)});const B=Eee(t,n);jI(t,B),Bm(t.eventQueue_,B,[])}function G0e(t,n,r,u){_4(t,"update",{path:n.toString(),value:r});let f=!0;const d=R7(t),w={};if(uu(r,(x,T)=>{f=!1,w[x]=ece(Xi(n,x),nc(T),t.serverSyncTree_,d)}),f)iu("update() called with empty data.  Don't do anything."),UJ(t,u,"ok",void 0);else{const x=See(t),T=m0e(t.serverSyncTree_,n,w,x);T7(t.eventQueue_,T),t.server_.merge(n.toString(),r,(A,$)=>{const B=A==="ok";B||jd("update at "+n+" failed: "+A);const H=g0(t.serverSyncTree_,x,!B),le=H.length>0?jI(t,n):n;Bm(t.eventQueue_,le,H),UJ(t,u,A,$)}),uu(r,A=>{const $=Eee(t,Xi(n,A));jI(t,$)}),Bm(t.eventQueue_,n,[])}}function q0e(t){_4(t,"onDisconnectEvents");const n=R7(t),r=BV();zJ(t.onDisconnect_,gr(),(f,d)=>{const w=ece(f,d,t.serverSyncTree_,n);Ple(r,f,w)});let u=[];zJ(r,gr(),(f,d)=>{u=u.concat(v4(t.serverSyncTree_,f,d));const w=Eee(t,f);jI(t,w)}),t.onDisconnect_=BV(),Bm(t.eventQueue_,gr(),u)}function K0e(t,n,r){let u;Ds(n._path)===".info"?u=VJ(t.infoSyncTree_,n,r):u=VJ(t.serverSyncTree_,n,r),lce(t.eventQueue_,n._path,u)}function Hse(t,n,r){let u;Ds(n._path)===".info"?u=ZV(t.infoSyncTree_,n,r):u=ZV(t.serverSyncTree_,n,r),lce(t.eventQueue_,n._path,u)}function Y0e(t){t.persistentConnection_&&t.persistentConnection_.interrupt($0e)}function _4(t,...n){let r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),iu(r,...n)}function UJ(t,n,r,u){n&&eA(()=>{if(r==="ok")n(null);else{const f=(r||"error").toUpperCase();let d=f;u&&(d+=": "+u);const w=new Error(d);w.code=f,n(w)}})}function dce(t,n,r){return fee(t.serverSyncTree_,n,r)||Uo.EMPTY_NODE}function xee(t,n=t.transactionQueueTree_){if(n||I7(t,n),nA(n)){const r=hce(t,n);kn(r.length>0,"Sending zero length transaction queue"),r.every(f=>f.status===0)&&X0e(t,w4(n),r)}else oce(n)&&x7(n,r=>{xee(t,r)})}function X0e(t,n,r){const u=r.map(A=>A.currentWriteId),f=dce(t,n,u);let d=f;const w=f.hash();for(let A=0;A<r.length;A++){const $=r[A];kn($.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),$.status=1,$.retryCount++;const B=Hd(n,$.path);d=d.updateChild(B,$.currentOutputSnapshotRaw)}const x=d.val(!0),T=n;t.server_.put(T.toString(),x,A=>{_4(t,"transaction put response",{path:T.toString(),status:A});let $=[];if(A==="ok"){const B=[];for(let H=0;H<r.length;H++)r[H].status=2,$=$.concat(g0(t.serverSyncTree_,r[H].currentWriteId)),r[H].onComplete&&B.push(()=>r[H].onComplete(null,!0,r[H].currentOutputSnapshotResolved)),r[H].unwatcher();I7(t,wee(t.transactionQueueTree_,n)),xee(t,t.transactionQueueTree_),Bm(t.eventQueue_,n,$);for(let H=0;H<B.length;H++)eA(B[H])}else{if(A==="datastale")for(let B=0;B<r.length;B++)r[B].status===3?r[B].status=4:r[B].status=0;else{jd("transaction at "+T.toString()+" failed: "+A);for(let B=0;B<r.length;B++)r[B].status=4,r[B].abortReason=A}jI(t,n)}},w)}function jI(t,n){const r=fce(t,n),u=w4(r),f=hce(t,r);return J0e(t,f,u),u}function J0e(t,n,r){if(n.length===0)return;const u=[];let f=[];const w=n.filter(x=>x.status===0).map(x=>x.currentWriteId);for(let x=0;x<n.length;x++){const T=n[x],A=Hd(r,T.path);let $=!1,B;if(kn(A!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),T.status===4)$=!0,B=T.abortReason,f=f.concat(g0(t.serverSyncTree_,T.currentWriteId,!0));else if(T.status===0)if(T.retryCount>=V0e)$=!0,B="maxretry",f=f.concat(g0(t.serverSyncTree_,T.currentWriteId,!0));else{const H=dce(t,T.path,w);T.currentInputSnapshot=H;const le=n[x].update(H.val());if(le!==void 0){E7("transaction failed: Data returned ",le,T.path);let ke=nc(le);typeof le=="object"&&le!=null&&Yy(le,".priority")||(ke=ke.updatePriority(H.getPriority()));const Se=T.currentWriteId,je=R7(t),gt=tce(ke,H,je);T.currentOutputSnapshotRaw=ke,T.currentOutputSnapshotResolved=gt,T.currentWriteId=See(t),w.splice(w.indexOf(Se),1),f=f.concat(Kle(t.serverSyncTree_,T.path,gt,T.currentWriteId,T.applyLocally)),f=f.concat(g0(t.serverSyncTree_,Se,!0))}else $=!0,B="nodata",f=f.concat(g0(t.serverSyncTree_,T.currentWriteId,!0))}Bm(t.eventQueue_,r,f),f=[],$&&(n[x].status=2,function(H){setTimeout(H,Math.floor(0))}(n[x].unwatcher),n[x].onComplete&&(B==="nodata"?u.push(()=>n[x].onComplete(null,!1,n[x].currentInputSnapshot)):u.push(()=>n[x].onComplete(new Error(B),!1,null))))}I7(t,t.transactionQueueTree_);for(let x=0;x<u.length;x++)eA(u[x]);xee(t,t.transactionQueueTree_)}function fce(t,n){let r,u=t.transactionQueueTree_;for(r=Ds(n);r!==null&&nA(u)===void 0;)u=wee(u,r),n=Ua(n),r=Ds(n);return u}function hce(t,n){const r=[];return mce(t,n,r),r.sort((u,f)=>u.order-f.order),r}function mce(t,n,r){const u=nA(n);if(u)for(let f=0;f<u.length;f++)r.push(u[f]);x7(n,f=>{mce(t,f,r)})}function I7(t,n){const r=nA(n);if(r){let u=0;for(let f=0;f<r.length;f++)r[f].status!==2&&(r[u]=r[f],u++);r.length=u,nce(n,r.length>0?r:void 0)}x7(n,u=>{I7(t,u)})}function Eee(t,n){const r=w4(fce(t,n)),u=wee(t.transactionQueueTree_,n);return R0e(u,f=>{qX(t,f)}),qX(t,u),sce(u,f=>{qX(t,f)}),r}function qX(t,n){const r=nA(n);if(r){const u=[];let f=[],d=-1;for(let w=0;w<r.length;w++)r[w].status===3||(r[w].status===1?(kn(d===w-1,"All SENT items should be at beginning of queue."),d=w,r[w].status=3,r[w].abortReason="set"):(kn(r[w].status===0,"Unexpected transaction status in abort"),r[w].unwatcher(),f=f.concat(g0(t.serverSyncTree_,r[w].currentWriteId,!0)),r[w].onComplete&&u.push(r[w].onComplete.bind(null,new Error("set"),!1,null))));d===-1?nce(n,void 0):r.length=d+1,Bm(t.eventQueue_,w4(n),f);for(let w=0;w<u.length;w++)eA(u[w])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0e(t){let n="";const r=t.split("/");for(let u=0;u<r.length;u++)if(r[u].length>0){let f=r[u];try{f=decodeURIComponent(f.replace(/\+/g," "))}catch{}n+="/"+f}return n}function eke(t){const n={};t.charAt(0)==="?"&&(t=t.substring(1));for(const r of t.split("&")){if(r.length===0)continue;const u=r.split("=");u.length===2?n[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):jd(`Invalid query segment '${r}' in query '${t}'`)}return n}const Use=function(t,n){const r=tke(t),u=r.namespace;r.domain==="firebase.com"&&w1(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||u==="undefined")&&r.domain!=="localhost"&&w1("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||dwe();const f=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new yle(r.host,r.secure,u,f,n,"",u!==r.subdomain),path:new la(r.pathString)}},tke=function(t){let n="",r="",u="",f="",d="",w=!0,x="https",T=443;if(typeof t=="string"){let A=t.indexOf("//");A>=0&&(x=t.substring(0,A-1),t=t.substring(A+2));let $=t.indexOf("/");$===-1&&($=t.length);let B=t.indexOf("?");B===-1&&(B=t.length),n=t.substring(0,Math.min($,B)),$<B&&(f=Q0e(t.substring($,B)));const H=eke(t.substring(Math.min(t.length,B)));A=n.indexOf(":"),A>=0?(w=x==="https"||x==="wss",T=parseInt(n.substring(A+1),10)):A=n.length;const le=n.slice(0,A);if(le.toLowerCase()==="localhost")r="localhost";else if(le.split(".").length<=2)r=le;else{const ke=n.indexOf(".");u=n.substring(0,ke).toLowerCase(),r=n.substring(ke+1),d=u}"ns"in H&&(d=H.ns)}return{host:n,port:T,domain:r,subdomain:u,secure:w,scheme:x,pathString:f,namespace:d}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jse="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",nke=function(){let t=0;const n=[];return function(r){const u=r===t;t=r;let f;const d=new Array(8);for(f=7;f>=0;f--)d[f]=jse.charAt(r%64),r=Math.floor(r/64);kn(r===0,"Cannot push at time == 0");let w=d.join("");if(u){for(f=11;f>=0&&n[f]===63;f--)n[f]=0;n[f]++}else for(f=0;f<12;f++)n[f]=Math.floor(Math.random()*64);for(f=0;f<12;f++)w+=jse.charAt(n[f]);return kn(w.length===20,"nextPushId: Length should be 20."),w}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pce{constructor(n,r,u,f){this.eventType=n,this.eventRegistration=r,this.snapshot=u,this.prevName=f}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+oc(this.snapshot.exportVal())}}class gce{constructor(n,r,u){this.eventRegistration=n,this.error=r,this.path=u}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yce{constructor(n,r){this.snapshotCallback=n,this.cancelCallback=r}onValue(n,r){this.snapshotCallback.call(null,n,r)}onCancel(n){return kn(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tee{constructor(n,r,u,f){this._repo=n,this._path=r,this._queryParams=u,this._orderByCalled=f}get key(){return $s(this._path)?null:QQ(this._path)}get ref(){return new Xy(this._repo,this._path)}get _queryIdentifier(){const n=Rse(this._queryParams),r=KQ(n);return r==="{}"?"default":r}get _queryObject(){return Rse(this._queryParams)}isEqual(n){if(n=Ai(n),!(n instanceof Tee))return!1;const r=this._repo===n._repo,u=eee(this._path,n._path),f=this._queryIdentifier===n._queryIdentifier;return r&&u&&f}toJSON(){return this.toString()}toString(){return this._repo.toString()+qwe(this._path)}}class Xy extends Tee{constructor(n,r){super(n,r,new see,!1)}get parent(){const n=Ele(this._path);return n===null?null:new Xy(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class WI{constructor(n,r,u){this._node=n,this.ref=r,this._index=u}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const r=new la(n),u=M0(this.ref,n);return new WI(this._node.getChild(r),u,Ji)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(u,f)=>n(new WI(f,M0(this.ref,u),Ji)))}hasChild(n){const r=new la(n);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function d0(t,n){return t=Ai(t),t._checkNotDeleted("ref"),n!==void 0?M0(t._root,n):t._root}function M0(t,n){return t=Ai(t),Ds(t._path)===null?N0e("child","path",n,!1):ice("child","path",n,!1),new Xy(t._repo,Xi(t._path,n))}function oke(t,n){t=Ai(t),kee("push",t._path),ace("push",n,t._path,!0);const r=uce(t._repo),u=nke(r),f=M0(t,u),d=M0(t,u);let w;return n!=null?w=GV(d,n).then(()=>d):w=Promise.resolve(d),f.then=w.then.bind(w),f.catch=w.then.bind(w,void 0),f}function ske(t){return kee("remove",t._path),GV(t,null)}function GV(t,n){t=Ai(t),kee("set",t._path),ace("set",n,t._path,!1);const r=new c4;return Z0e(t._repo,t._path,n,null,r.wrapCallback(()=>{})),r.promise}function rke(t,n){z0e("update",n,t._path,!1);const r=new c4;return G0e(t._repo,t._path,n,r.wrapCallback(()=>{})),r.promise}function Wse(t){t=Ai(t);const n=new yce(()=>{}),r=new A7(n);return W0e(t._repo,t,r).then(u=>new WI(u,new Xy(t._repo,t._path),t._queryParams.getIndex()))}class A7{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,r){const u=r._queryParams.getIndex();return new pce("value",this,new WI(n.snapshotNode,new Xy(r._repo,r._path),u))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,r){return this.callbackContext.hasCancelCallback?new gce(this,n,r):null}matches(n){return n instanceof A7?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ree{constructor(n,r){this.eventType=n,this.callbackContext=r}respondsTo(n){let r=n==="children_added"?"child_added":n;return r=r==="children_removed"?"child_removed":r,this.eventType===r}createCancelEvent(n,r){return this.callbackContext.hasCancelCallback?new gce(this,n,r):null}createEvent(n,r){kn(n.childName!=null,"Child events should have a childName.");const u=M0(new Xy(r._repo,r._path),n.childName),f=r._queryParams.getIndex();return new pce(n.type,this,new WI(n.snapshotNode,u,f),n.prevName)}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof Ree?this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function ake(t,n,r,u,f){let d;if(typeof u=="object"&&(d=void 0,f=u),typeof u=="function"&&(d=u),f&&f.onlyOnce){const T=r,A=($,B)=>{Hse(t._repo,t,x),T($,B)};A.userCallback=r.userCallback,A.context=r.context,r=A}const w=new yce(r,d||void 0),x=n==="value"?new A7(w):new Ree(n,w);return K0e(t._repo,t,x),()=>Hse(t._repo,t,x)}function bce(t,n,r,u){return ake(t,"value",n,r,u)}a0e(Xy);d0e(Xy);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ike="FIREBASE_DATABASE_EMULATOR_HOST",jJ={};let lke=!1;function cke(t,n,r,u){t.repoInfo_=new yle(`${n}:${r}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),u&&(t.authTokenProvider_=u)}function uke(t,n,r,u,f){let d=u||t.options.databaseURL;d===void 0&&(t.options.projectId||w1("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),iu("Using default host for project ",t.options.projectId),d=`${t.options.projectId}-default-rtdb.firebaseio.com`);let w=Use(d,f),x=w.repoInfo,T,A;typeof process<"u"&&process.env&&(A=process.env[ike]),A?(T=!0,d=`http://${A}?ns=${x.namespace}`,w=Use(d,f),x=w.repoInfo):T=!w.repoInfo.secure;const $=f&&T?new AI(AI.OWNER):new kwe(t.name,t.options,n);L0e("Invalid Firebase Database URL",w),$s(w.path)||w1("Database URL must point to the root of a Firebase Database (not including a child path).");const B=fke(x,t,$,new _we(t.name,r));return new hke(B,t)}function dke(t,n){const r=jJ[n];(!r||r[t.key]!==t)&&w1(`Database ${n}(${t.repoInfo_}) has already been deleted.`),Y0e(t),delete r[t.key]}function fke(t,n,r,u){let f=jJ[n.name];f||(f={},jJ[n.name]=f);let d=f[t.toURLString()];return d&&w1("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new H0e(t,lke,r,u),f[t.toURLString()]=d,d}class hke{constructor(n,r){this._repoInternal=n,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(U0e(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xy(this._repo,gr())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dke(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&w1("Cannot call "+n+" on a deleted database.")}}function Iee(t=yie(),n){const r=LQ(t,"database").getImmediate({identifier:n}),u=Pye("database");return u&&mke(r,...u),r}function mke(t,n,r,u={}){t=Ai(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&w1("Cannot call useEmulator() after instance has already been initialized.");const f=t._repoInternal;let d;if(f.repoInfo_.nodeAdmin)u.mockUserToken&&w1('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new AI(AI.OWNER);else if(u.mockUserToken){const w=typeof u.mockUserToken=="string"?u.mockUserToken:Nye(u.mockUserToken,t.app.options.projectId);d=new AI(w)}cke(f,n,r,d)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pke(t){awe(d4),FI(new fx("database",(n,{instanceIdentifier:r})=>{const u=n.getProvider("app").getImmediate(),f=n.getProvider("auth-internal"),d=n.getProvider("app-check-internal");return uke(u,f,d,r)},"PUBLIC").setMultipleInstances(!0)),S0(dse,fse,t),S0(dse,fse,"esm2017")}p1.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)};p1.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)};pke();const gke={class:"layout-topbar"},yke=rt("img",{src:nle,alt:"logo"},null,-1),bke=rt("span",null,"One Bird WEB",-1),vke={class:"layout-topbar-menu"},wke=rt("i",{class:"pi pi-calendar"},null,-1),_ke=rt("span",null,"Calendar",-1),kke=[wke,_ke],Cke=rt("i",{class:"pi pi-question"},null,-1),Ske=rt("span",null,"Q&A",-1),xke=[Cke,Ske],Eke={class:"pi pi-bell",style:{"font-size":"1.5rem"}},Tke=rt("div",{class:"flex align-items-center justify-content-center"},[rt("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}}),rt("span",null,"\u662F\u5426\u767B\u51FA\uFF1F")],-1),Rke=rt("h2",null,"\u7591\u96E3\u96DC\u75C7",-1),Ike=rt("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",-1),Ake=rt("h2",null,"Bottom Sidebar",-1),Oke=rt("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",-1),Dke=rt("h2",null,"Bottom Sidebar",-1),Mke=rt("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",-1),Pke=rt("h2",null,"Bottom Sidebar",-1),zke=rt("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",-1),Nke=rt("h2",null,"Bottom Sidebar",-1),Lke=rt("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",-1),Bke=rt("h2",null,"Bottom Sidebar",-1),Fke=rt("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",-1),$ke=rt("h2",null,"Bottom Sidebar",-1),Vke=rt("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",-1),Hke={__name:"AppTopbar",setup(t){const n=sie(),r=Iee(),u=GQ(),{user:f}=Khe(u),d=()=>{u.signOutFun(),w.value=!1,n.push("/")},w=as(!1),x=as(!1),T=as(0),A=as([{label:"\u767B\u5165",icon:"pi pi-sign-in",to:"/auth/login"},{label:"\u8A3B\u518A",icon:"pi pi-user-edit",to:"/auth/register"}]),$=as(null),B=as(null),H=()=>{w.value=!0},le=()=>{w.value=!1},ke=ee=>{$.value.toggle(ee)},Ne=ee=>{B.value.toggle(ee)};function Se(ee){T.value=(ee.private?Object.keys(ee.private).length:0)+(ee.system?Object.keys(ee.system).length:0)}let je;const gt=()=>{n.push("/user/usercommunity")};return lQ(()=>{f.value!==null?u.messageOnValue||(console.log(`database onValue: ${f.value.uid}/notCheckedMessage start`),je=bce(d0(r,`user/${f.value.uid}/notCheckedMessage/`),ee=>{console.log(`database onValue: ${f.value.uid}/notCheckedMessage update`),u.messageOnValue=!0,ee.exists()?Se(ee.val()):T.value=0})):u.messageOnValue&&(T.value=0,u.messageOnValue=!1,je())}),(ee,ht)=>{const He=Dn("router-link"),Ze=Dn("ChatBox"),J=Dn("OverlayPanel"),Te=Dn("Avatar"),st=Dn("Menu"),_t=Dn("Button"),Ue=Dn("Dialog"),de=Dn("Sidebar"),Tn=Ii("badge");return ye(),Pe("div",gke,[Nn(He,{to:"/",class:"layout-topbar-logo"},{default:is(()=>[yke,bke]),_:1}),rt("div",vke,[rt("button",{onClick:Ne,class:"p-link layout-topbar-button"},kke),Nn(J,{ref_key:"op",ref:B,class:"w-full sm:w-5"},{default:is(()=>[Nn(Ze)]),_:1},512),rt("button",{onClick:ht[0]||(ht[0]=nn=>x.value=!0),class:"p-link layout-topbar-button"},xke),rt("div",{class:"ml-3 layout-topbar-icon",onClick:gt},[ur(rt("i",Eke,null,512),[[Tn,T.value]])]),rt("button",{onClick:ke,class:"layout-topbar-button"},[Nn(Te,{image:At(f)!==null?At(f).photoURL:"src/assets/logo.svg",size:"large",shape:"circle"},null,8,["image"]),Nn(st,{ref_key:"menu",ref:$,model:At(f)!==null?[{label:At(f).displayName,to:"/user/userprofile"},{separator:!0},{label:"\u767B\u51FA",icon:"pi pi-sign-out",command:()=>{H()}}]:A.value,popup:!0},null,8,["model"])]),Nn(Ue,{header:"\u78BA\u8A8D",visible:w.value,"onUpdate:visible":ht[2]||(ht[2]=nn=>w.value=nn),style:{width:"350px"},modal:!0},{footer:is(()=>[Nn(_t,{label:"No",icon:"pi pi-times",onClick:le,class:"p-button-text",autofocus:""}),Nn(_t,{label:"Yes",icon:"pi pi-check",onClick:ht[1]||(ht[1]=nn=>d()),class:"p-button-text"})]),default:is(()=>[Tke]),_:1},8,["visible"]),Nn(de,{visible:x.value,"onUpdate:visible":ht[3]||(ht[3]=nn=>x.value=nn),position:"bottom"},{default:is(()=>[Rke,Ike,Ake,Oke,Dke,Mke,Pke,zke,Nke,Lke,Bke,Fke,$ke,Vke]),_:1},8,["visible"])])])}}},vce=(t,n)=>{const r=t.__vccOpts||t;for(const[u,f]of n)r[u]=f;return r},Uke={},jke={class:"layout-footer"},Wke=rt("img",{src:nle,alt:"Logo",height:"20",class:"mr-2"},null,-1),Zke=rt("span",{class:"font-medium ml-2"},"One Bird WEB",-1);function Gke(t,n){return ye(),Pe("div",jke,[Wke,Zu(" by "),Zke])}const qke=vce(Uke,[["render",Gke]]),GS=Ku({ripple:!1,darkTheme:!1,inputStyle:"outlined",menuMode:"static",theme:"lara-light-indigo",scale:14,activeMenuItem:null}),i1=Ku({staticMenuDesktopInactive:!1,overlayMenuActive:!1,profileSidebarVisible:!1,configSidebarVisible:!1,staticMenuMobileActive:!1,menuHoverActive:!1});function Aee(){const t=(w,x)=>{GS.darkTheme=x,GS.theme=w},n=w=>{GS.scale=w},r=w=>{GS.activeMenuItem=w.value||w},u=()=>{GS.menuMode==="overlay"&&(i1.overlayMenuActive=!i1.overlayMenuActive),window.innerWidth>991?i1.staticMenuDesktopInactive=!i1.staticMenuDesktopInactive:i1.staticMenuMobileActive=!i1.staticMenuMobileActive},f=To(()=>i1.overlayMenuActive||i1.staticMenuMobileActive),d=To(()=>GS.darkTheme);return{layoutConfig:VN(GS),layoutState:VN(i1),changeThemeSettings:t,setScale:n,onMenuToggle:u,isSidebarActive:f,isDarkTheme:d,setActiveMenuItem:r}}const Kke={key:0,class:"layout-menuitem-root-text"},Yke=["href","target"],Xke={class:"layout-menuitem-text"},Jke={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},Qke={class:"layout-menuitem-text"},eCe={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},tCe={class:"layout-submenu"},nCe={__name:"AppMenuItem",props:{item:{type:Object,default:()=>({})},index:{type:Number,default:0},root:{type:Boolean,default:!0},parentItemKey:{type:String,default:null}},setup(t){const n=t,r=kye(),{layoutConfig:u,layoutState:f,setActiveMenuItem:d,onMenuToggle:w}=Aee(),x=as(!1),T=as(null);Pre(()=>{T.value=n.parentItemKey?n.parentItemKey+"-"+n.index:String(n.index);const B=f.activeMenuItem;x.value=B===T.value||B?B.startsWith(T.value+"-"):!1}),Ps(()=>u.activeMenuItem.value,B=>{x.value=B===T.value||B.startsWith(T.value+"-")});const A=(B,H)=>{if(H.disabled){B.preventDefault();return}const{overlayMenuActive:le,staticMenuMobileActive:ke}=f;(H.to||H.url)&&(ke.value||le.value)&&w(),H.command&&H.command({originalEvent:B,item:H});const Ne=H.items?x.value?n.parentItemKey:T:T.value;d(Ne)},$=B=>B.to=="/"?r.path==B.to:r.path.indexOf(B.to)>=0;return(B,H)=>{const le=Dn("router-link"),ke=Dn("app-menu-item",!0);return ye(),Pe("li",{class:rn({"layout-root-menuitem":t.root,"active-menuitem":x.value})},[t.root&&t.item.visible!==!1?(ye(),Pe("div",Kke,Ho(t.item.label),1)):Ut("",!0),(!t.item.to||t.item.items)&&t.item.visible!==!1?(ye(),Pe("a",{key:1,href:t.item.url,onClick:H[0]||(H[0]=Ne=>A(Ne,t.item,t.index)),class:rn(t.item.class),target:t.item.target,tabindex:"0"},[rt("i",{class:rn([t.item.icon,"layout-menuitem-icon"])},null,2),rt("span",Xke,Ho(t.item.label),1),t.item.items?(ye(),Pe("i",Jke)):Ut("",!0)],10,Yke)):Ut("",!0),t.item.to&&!t.item.items&&t.item.visible!==!1?(ye(),Mn(le,{key:2,onClick:H[1]||(H[1]=Ne=>A(Ne,t.item,t.index)),class:rn([t.item.class,{"active-route":$(t.item)}]),tabindex:"0",to:t.item.to},{default:is(()=>[rt("i",{class:rn([t.item.icon,"layout-menuitem-icon"])},null,2),rt("span",Qke,Ho(t.item.label),1),t.item.items?(ye(),Pe("i",eCe)):Ut("",!0)]),_:1},8,["class","to"])):Ut("",!0),t.item.items&&t.item.visible!==!1?(ye(),Mn(Pf,{key:3,name:"layout-submenu"},{default:is(()=>[ur(rt("ul",tCe,[(ye(!0),Pe(qn,null,Sa(t.item.items,(Ne,Se)=>(ye(),Mn(ke,{key:Ne,index:Se,item:Ne,parentItemKey:T.value,root:!1},null,8,["index","item","parentItemKey"]))),128))],512),[[bQ,t.root?!0:x.value]])]),_:1})):Ut("",!0)],2)}}},oCe={class:"layout-menu"},sCe={key:1,class:"menu-separator"},rCe={__name:"AppMenu",setup(t){const n=as([{label:"\u4E3B\u9801",items:[{label:"\u9996\u9801",icon:"pi pi-fw pi-home",to:"/"}]},{label:"\u793E\u7FA4",icon:"pi pi-fw pi-briefcase",to:"/pages",items:[{label:"\u8A0E\u8AD6\u5340",icon:"pi pi-fw pi-window-maximize",to:"/forum"},{label:"\u597D\u53CB",icon:"pi pi-fw pi-users",to:"/user/usercommunity"}]},{label:"\u8A2D\u5B9A",icon:"pi pi-fw pi-briefcase",to:"/pages",items:[{label:"\u5E33\u6236",icon:"pi pi-fw pi-user",items:[{label:"\u500B\u4EBA\u8CC7\u6599",icon:"pi pi-fw pi-id-card",to:"/user/userprofile"}]}]}]);return(r,u)=>(ye(),Pe("ul",oCe,[(ye(!0),Pe(qn,null,Sa(n.value,(f,d)=>(ye(),Pe(qn,{key:f},[f.separator?Ut("",!0):(ye(),Mn(nCe,{key:0,item:f,index:d},null,8,["item","index"])),f.separator?(ye(),Pe("li",sCe)):Ut("",!0)],64))),128))]))}},aCe={__name:"AppSidebar",setup(t){return(n,r)=>(ye(),Mn(rCe))}},iCe=rt("i",{class:"pi pi-bars"},null,-1),lCe=[iCe],cCe={__name:"AppMenuToggle",setup(t){const{onMenuToggle:n}=Aee();return(r,u)=>(ye(),Pe("button",{class:"layout-menu-toggle p-link",onClick:u[0]||(u[0]=f=>At(n)())},lCe))}},uCe={class:"layout-sidebar"},dCe={class:"layout-main-container"},fCe={class:"layout-main"},hCe=rt("div",{class:"layout-mask"},null,-1),mCe={__name:"AppLayout",setup(t){const n=cae(),r=ke=>{n.add({severity:"success",summary:"Success Message",detail:ke,life:3e3})},u=ke=>{n.add({severity:"info",summary:"Info Message",detail:ke,life:3e3})},f=ke=>{n.add({severity:"warn",summary:"Warn Message",detail:ke,life:3e3})},d=ke=>{n.add({severity:"error",summary:"Error Message",detail:ke,life:3e3})},{layoutConfig:w,layoutState:x,isSidebarActive:T}=Aee(),A=as(null);Ps(T,ke=>{ke?B():H()});const $=To(()=>({"layout-theme-light":w.darkTheme.value==="light","layout-theme-dark":w.darkTheme.value==="dark","layout-overlay":w.menuMode.value==="overlay","layout-static":w.menuMode.value==="static","layout-static-inactive":x.staticMenuDesktopInactive.value&&w.menuMode.value==="static","layout-overlay-active":x.overlayMenuActive.value,"layout-mobile-active":x.staticMenuMobileActive.value,"p-input-filled":w.inputStyle.value==="filled","p-ripple-disabled":!w.ripple.value})),B=()=>{A.value||(A.value=ke=>{le(ke)&&(x.overlayMenuActive.value=!1,x.staticMenuMobileActive.value=!1,x.menuHoverActive.value=!1)},document.addEventListener("click",A.value))},H=()=>{A.value&&(document.removeEventListener("click",A),A.value=null)},le=ke=>{const Ne=document.querySelector(".layout-sidebar"),Se=document.querySelector(".layout-menu-toggle");return!(Ne.isSameNode(ke.target)||Ne.contains(ke.target)||Se.isSameNode(ke.target)||Se.contains(ke.target))};return(ke,Ne)=>{const Se=Dn("router-view");return ye(),Pe("div",{class:rn(["layout-wrapper",At($)])},[Nn(Hke),rt("div",uCe,[Nn(aCe)]),rt("div",dCe,[rt("div",fCe,[Nn(Se,{onShowSuccess:r,onShowInfo:u,onShowWarn:f,onShowError:d})]),Nn(qke)]),Nn(cCe),hCe],2)}}},pCe={path:"/auth/",redirect:{name:"Auth"},children:[{path:"login",name:"Login",component:()=>Al(()=>import("./AuthLogin.eed95f22.js"),["assets/AuthLogin.eed95f22.js","assets/useForum.112dbe34.js"]),meta:{title:"\u767B\u5165"}},{path:"register",name:"Register",component:()=>Al(()=>import("./AuthRegister.015e62af.js"),["assets/AuthRegister.015e62af.js","assets/useForum.112dbe34.js"]),meta:{title:"\u8A3B\u518A"}},{path:"forget",name:"Forget",component:()=>Al(()=>import("./AuthForget.802833bd.js"),["assets/AuthForget.802833bd.js","assets/useForum.112dbe34.js"]),meta:{title:"\u5FD8\u8A18\u5BC6\u78BC"}}]},gCe={path:"/user/",children:[{path:"userprofile",name:"UserProfile",component:()=>Al(()=>import("./UserProfile.27caf7c7.js"),["assets/UserProfile.27caf7c7.js","assets/useForum.112dbe34.js"]),meta:{title:"\u500B\u4EBA\u8CC7\u6599"}},{path:"usercommunity",name:"UserCommunity",component:()=>Al(()=>import("./UserCommunity.b90411f7.js"),[]),meta:{title:"\u597D\u53CB"},children:[{path:"system",name:"UserMessageSystem",component:()=>Al(()=>import("./UserMessageSystem.4ad21e96.js"),["assets/UserMessageSystem.4ad21e96.js","assets/useForum.112dbe34.js"]),meta:{title:"\u7CFB\u7D71\u4FE1\u4EF6"}},{path:"private",name:"UserMessagePrivate",component:()=>Al(()=>import("./UserMessagePrivate.d97069ef.js"),["assets/UserMessagePrivate.d97069ef.js","assets/useForum.112dbe34.js"]),meta:{title:"\u79C1\u4EBA\u4FE1\u4EF6"}},{path:"send",name:"UserMessageSend",component:()=>Al(()=>import("./UserMessageSend.ec2b5ab8.js"),["assets/UserMessageSend.ec2b5ab8.js","assets/useForum.112dbe34.js"]),meta:{title:"\u5BC4\u9001\u4FE1\u4EF6"}},{path:"manage",name:"UserFriendsManage",component:()=>Al(()=>import("./UserFriendsManage.629c39c8.js"),["assets/UserFriendsManage.629c39c8.js","assets/useForum.112dbe34.js","assets/UserFriendsManage.080ac3f3.css"]),meta:{title:"\u597D\u53CB\u7BA1\u7406"}},{path:"add",name:"UserFriendsAdd",component:()=>Al(()=>import("./UserFriendsAdd.e9d11d0f.js"),["assets/UserFriendsAdd.e9d11d0f.js","assets/useForum.112dbe34.js"]),meta:{title:"\u65B0\u589E\u597D\u53CB"}},{path:"request",name:"UserFriendsRequest",component:()=>Al(()=>import("./UserFriendsRequest.4b0e948a.js"),["assets/UserFriendsRequest.4b0e948a.js","assets/useForum.112dbe34.js"]),meta:{title:"\u8ACB\u6C42\u7BA1\u7406"}}]}]},yCe={path:"/forum",redirect:"/forum/forumhome",children:[{path:"forumhome",name:"ForumHome",component:()=>Al(()=>import("./ForumHome.853a8e00.js"),["assets/ForumHome.853a8e00.js","assets/ForumHome.a85b610c.css"]),meta:{title:"\u8A0E\u8AD6\u5340"}},{path:":id(\\S+)",name:"ForumArticle",component:()=>Al(()=>import("./ForumArticle.a187aa2c.js"),["assets/ForumArticle.a187aa2c.js","assets/useForum.112dbe34.js"]),meta:{title:"\u6587\u7AE0"}},{path:"reply/:id(\\S+)",name:"ForumReply",component:()=>Al(()=>import("./ForumReply.fe4efbb1.js"),["assets/ForumReply.fe4efbb1.js","assets/useForum.112dbe34.js"]),meta:{title:"\u56DE\u8986"}},{path:"comprehensive",name:"ForumComprehensive",component:()=>Al(()=>import("./ForumComprehensive.5da4882d.js"),["assets/ForumComprehensive.5da4882d.js","assets/ForumArea.8ed95762.js","assets/useForum.112dbe34.js","assets/ForumArea.c795b67d.css"]),meta:{title:"\u7D9C\u5408\u8A0E\u8AD6\u5340"}},{path:"game",name:"ForumGame",component:()=>Al(()=>import("./ForumGame.9c039c1c.js"),["assets/ForumGame.9c039c1c.js","assets/ForumArea.8ed95762.js","assets/useForum.112dbe34.js","assets/ForumArea.c795b67d.css"]),meta:{title:"\u904A\u6232\u8A0E\u8AD6\u5340"}},{path:"published",name:"ForumPublished",component:()=>Al(()=>import("./ForumPublished.9bbbe891.js"),["assets/ForumPublished.9bbbe891.js","assets/useForum.112dbe34.js"]),meta:{title:"\u767C\u5E03\u6587\u7AE0"}}]},bCe=tle(),WJ=wye({history:Nge("/vite_base_dist/"),routes:[{path:"/",component:mCe,children:[{path:"/",name:"Dashboard",component:()=>Al(()=>import("./Dashboard.0e80f7f4.js"),[]),meta:{title:"\u9996\u9801"}},gCe,yCe]},pCe,{path:"/:404(.*)*",name:"404",component:()=>Al(()=>import("./NotFound.1970418e.js"),[]),meta:{title:"\u627E\u4E0D\u5230\u9801\u9762"}}]});WJ.beforeEach(t=>{const n=GQ();if(document.title=`${t.meta.title} \u25B7One Bird WEB\u25C1`,!n.authOn)Uve(bCe,r=>{r?(n.user=r,console.log(`${r.email} sign in`),n.authOn=!0,r.email===null&&r.displayName===null?n.user.displayName="\u8A2A\u5BA2":r.email!==null&&r.displayName===null&&(n.user.displayName=r.email)):(n.user=null,console.log("sign out"),n.authOn=!0,t.name!=="Login"&&t.name!=="Dashboard"&&t.name!=="Register"&&t.name!=="Forget"&&n.user===null&&(console.log("please log in"),WJ.push("/auth/login")))});else if(t.name!=="Login"&&t.name!=="Dashboard"&&t.name!=="Register"&&t.name!=="Forget"&&n.user===null)return console.log("please log in"),{name:"Login"}});var O7={name:"InputText",emits:["update:modelValue"],props:{modelValue:null},methods:{onInput(t){this.$emit("update:modelValue",t.target.value)}},computed:{filled(){return this.modelValue!=null&&this.modelValue.toString().length>0}}};const vCe=["value"];function wCe(t,n,r,u,f,d){return ye(),Pe("input",{class:rn(["p-inputtext p-component",{"p-filled":d.filled}]),value:r.modelValue,onInput:n[0]||(n[0]=(...w)=>d.onInput&&d.onInput(...w))},null,42,vCe)}O7.render=wCe;var wce={name:"Checkbox",emits:["click","update:modelValue","change","input","focus","blur"],props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{focused:!1}},methods:{onClick(t){if(!this.disabled&&!this.readonly){let n;this.binary?n=this.checked?this.falseValue:this.trueValue:this.checked?n=this.modelValue.filter(r=>!An.equals(r,this.value)):n=this.modelValue?[...this.modelValue,this.value]:[this.value],this.$emit("click",t),this.$emit("update:modelValue",n),this.$emit("change",t),this.$emit("input",n),this.$refs.input.focus()}},onFocus(t){this.focused=!0,this.$emit("focus",t)},onBlur(t){this.focused=!1,this.$emit("blur",t)}},computed:{checked(){return this.binary?this.modelValue===this.trueValue:An.contains(this.value,this.modelValue)},containerClass(){return["p-checkbox p-component",{"p-checkbox-checked":this.checked,"p-checkbox-disabled":this.disabled,"p-checkbox-focused":this.focused}]}}};const _Ce={class:"p-hidden-accessible"},kCe=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label"];function CCe(t,n,r,u,f,d){return ye(),Pe("div",{class:rn(d.containerClass),onClick:n[2]||(n[2]=w=>d.onClick(w))},[rt("div",_Ce,[rt("input",cr({ref:"input",id:r.inputId,type:"checkbox",value:r.value,name:r.name,checked:d.checked,tabindex:r.tabindex,disabled:r.disabled,readonly:r.readonly,required:r.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,onFocus:n[0]||(n[0]=w=>d.onFocus(w)),onBlur:n[1]||(n[1]=w=>d.onBlur(w))},r.inputProps),null,16,kCe)]),rt("div",{ref:"box",class:rn(["p-checkbox-box",r.inputClass,{"p-highlight":d.checked,"p-disabled":r.disabled,"p-focus":f.focused}]),style:yr(r.inputStyle)},[rt("span",{class:rn(["p-checkbox-icon",{"pi pi-check":d.checked}])},null,2)],6)],2)}wce.render=CCe;let ZJ;function SCe(t){t.addEventListener("mousedown",_ce)}function xCe(t){t.removeEventListener("mousedown",_ce)}function ECe(t){let n=document.createElement("span");n.className="p-ink",n.setAttribute("role","presentation"),n.setAttribute("aria-hidden","true"),t.appendChild(n),n.addEventListener("animationend",kce)}function TCe(t){let n=Cce(t);n&&(xCe(t),n.removeEventListener("animationend",kce),n.remove())}function _ce(t){let n=t.currentTarget,r=Cce(n);if(!r||getComputedStyle(r,null).display==="none")return;if(Ge.removeClass(r,"p-ink-active"),!Ge.getHeight(r)&&!Ge.getWidth(r)){let w=Math.max(Ge.getOuterWidth(n),Ge.getOuterHeight(n));r.style.height=w+"px",r.style.width=w+"px"}let u=Ge.getOffset(n),f=t.pageX-u.left+document.body.scrollTop-Ge.getWidth(r)/2,d=t.pageY-u.top+document.body.scrollLeft-Ge.getHeight(r)/2;r.style.top=d+"px",r.style.left=f+"px",Ge.addClass(r,"p-ink-active"),ZJ=setTimeout(()=>{r&&Ge.removeClass(r,"p-ink-active")},401)}function kce(t){ZJ&&clearTimeout(ZJ),Ge.removeClass(t.currentTarget,"p-ink-active")}function Cce(t){for(let n=0;n<t.children.length;n++)if(typeof t.children[n].className=="string"&&t.children[n].className.indexOf("p-ink")!==-1)return t.children[n];return null}const du={mounted(t,n){n.instance.$primevue&&n.instance.$primevue.config&&n.instance.$primevue.config.ripple&&(ECe(t),SCe(t))},unmounted(t){TCe(t)}};var oA={name:"Button",props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:String,default:null},badge:{type:String,default:null},badgeClass:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},plain:{type:Boolean,default:!1}},computed:{buttonClass(){return["p-button p-component",{"p-button-icon-only":this.icon&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-disabled":this.$attrs.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label,"p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain}]},iconStyleClass(){return[this.loading?"p-button-loading-icon "+this.loadingIcon:this.icon,"p-button-icon",this.iconClass,{"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label}]},badgeStyleClass(){return["p-badge p-component",this.badgeClass,{"p-badge-no-gutter":this.badge&&String(this.badge).length===1}]},disabled(){return this.$attrs.disabled||this.loading},defaultAriaLabel(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs["aria-label"]}},directives:{ripple:du}};const RCe=["aria-label","disabled"],ICe={class:"p-button-label"};function ACe(t,n,r,u,f,d){const w=Ii("ripple");return ur((ye(),Pe("button",{class:rn(d.buttonClass),type:"button","aria-label":d.defaultAriaLabel,disabled:d.disabled},[_o(t.$slots,"default",{},()=>[r.loading&&!r.icon?(ye(),Pe("span",{key:0,class:rn(d.iconStyleClass)},null,2)):Ut("",!0),r.icon?(ye(),Pe("span",{key:1,class:rn(d.iconStyleClass)},null,2)):Ut("",!0),rt("span",ICe,Ho(r.label||"\xA0"),1),r.badge?(ye(),Pe("span",{key:2,class:rn(d.badgeStyleClass)},Ho(r.badge),3)):Ut("",!0)])],10,RCe)),[[w]])}oA.render=ACe;var Ud=iae(),ug={name:"Portal",props:{appendTo:{type:String,default:"body"},disabled:{type:Boolean,default:!1}},data(){return{mounted:!1}},mounted(){this.mounted=Ge.isClient()},computed:{inline(){return this.disabled||this.appendTo==="self"}}};function OCe(t,n,r,u,f,d){return d.inline?_o(t.$slots,"default",{key:0}):f.mounted?(ye(),Mn(Gfe,{key:1,to:r.appendTo},[_o(t.$slots,"default")],8,["to"])):Ut("",!0)}ug.render=OCe;var Sce={name:"Password",emits:["update:modelValue","change","focus","blur","invalid"],props:{modelValue:String,promptLabel:{type:String,default:null},mediumRegex:{type:String,default:"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"},strongRegex:{type:String,default:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})"},weakLabel:{type:String,default:null},mediumLabel:{type:String,default:null},strongLabel:{type:String,default:null},feedback:{type:Boolean,default:!0},appendTo:{type:String,default:"body"},toggleMask:{type:Boolean,default:!1},hideIcon:{type:String,default:"pi pi-eye-slash"},showIcon:{type:String,default:"pi pi-eye"},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelId:{type:String,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{overlayVisible:!1,meter:null,infoText:null,focused:!1,unmasked:!1}},mediumCheckRegExp:null,strongCheckRegExp:null,resizeListener:null,scrollHandler:null,overlay:null,mounted(){this.infoText=this.promptText,this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex)},beforeUnmount(){this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Br.clear(this.overlay),this.overlay=null)},methods:{onOverlayEnter(t){Br.set("overlay",t,this.$primevue.config.zIndex.overlay),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener()},onOverlayLeave(){this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null},onOverlayAfterLeave(t){Br.clear(t)},alignOverlay(){this.appendTo==="self"?Ge.relativePosition(this.overlay,this.$refs.input.$el):(this.overlay.style.minWidth=Ge.getOuterWidth(this.$refs.input.$el)+"px",Ge.absolutePosition(this.overlay,this.$refs.input.$el))},testStrength(t){let n=0;return this.strongCheckRegExp.test(t)?n=3:this.mediumCheckRegExp.test(t)?n=2:t.length&&(n=1),n},onInput(t){this.$emit("update:modelValue",t.target.value)},onFocus(t){this.focused=!0,this.feedback&&(this.setPasswordMeter(this.modelValue),this.overlayVisible=!0),this.$emit("focus",t)},onBlur(t){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.$emit("blur",t)},onKeyUp(t){if(this.feedback){const n=t.target.value,{meter:r,label:u}=this.checkPasswordStrength(n);if(this.meter=r,this.infoText=u,t.code==="Escape"){this.overlayVisible&&(this.overlayVisible=!1);return}this.overlayVisible||(this.overlayVisible=!0)}},setPasswordMeter(){if(!this.modelValue)return;const{meter:t,label:n}=this.checkPasswordStrength(this.modelValue);this.meter=t,this.infoText=n,this.overlayVisible||(this.overlayVisible=!0)},checkPasswordStrength(t){let n=null,r=null;switch(this.testStrength(t)){case 1:n=this.weakText,r={strength:"weak",width:"33.33%"};break;case 2:n=this.mediumText,r={strength:"medium",width:"66.66%"};break;case 3:n=this.strongText,r={strength:"strong",width:"100%"};break;default:n=this.promptText,r=null;break}return{label:n,meter:r}},onInvalid(t){this.$emit("invalid",t)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new qI(this.$refs.input.$el,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!Ge.isTouchDevice()&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},overlayRef(t){this.overlay=t},onMaskToggle(){this.unmasked=!this.unmasked},onOverlayClick(t){Ud.emit("overlay-click",{originalEvent:t,target:this.$el})}},computed:{containerClass(){return["p-password p-component p-inputwrapper",{"p-inputwrapper-filled":this.filled,"p-inputwrapper-focus":this.focused,"p-input-icon-right":this.toggleMask}]},inputFieldClass(){return["p-password-input",this.inputClass,{"p-disabled":this.disabled}]},panelStyleClass(){return["p-password-panel p-component",this.panelClass,{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},toggleIconClass(){return this.unmasked?this.hideIcon:this.showIcon},strengthClass(){return`p-password-strength ${this.meter?this.meter.strength:""}`},inputType(){return this.unmasked?"text":"password"},filled(){return this.modelValue!=null&&this.modelValue.toString().length>0},weakText(){return this.weakLabel||this.$primevue.config.locale.weak},mediumText(){return this.mediumLabel||this.$primevue.config.locale.medium},strongText(){return this.strongLabel||this.$primevue.config.locale.strong},promptText(){return this.promptLabel||this.$primevue.config.locale.passwordPrompt},panelUniqueId(){return Gu()+"_panel"}},components:{PInputText:O7,Portal:ug}};const DCe={class:"p-hidden-accessible","aria-live":"polite"},MCe=["id"],PCe={class:"p-password-meter"},zCe={class:"p-password-info"};function NCe(t,n,r,u,f,d){const w=Dn("PInputText"),x=Dn("Portal");return ye(),Pe("div",{class:rn(d.containerClass)},[Nn(w,cr({ref:"input",id:r.inputId,type:d.inputType,class:d.inputFieldClass,style:r.inputStyle,value:r.modelValue,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-controls":r.panelProps&&r.panelProps.id||r.panelId||d.panelUniqueId,"aria-expanded":f.overlayVisible,"aria-haspopup":!0,placeholder:r.placeholder,required:r.required,onInput:d.onInput,onFocus:d.onFocus,onBlur:d.onBlur,onKeyup:d.onKeyUp,onInvalid:d.onInvalid},r.inputProps),null,16,["id","type","class","style","value","aria-labelledby","aria-label","aria-controls","aria-expanded","placeholder","required","onInput","onFocus","onBlur","onKeyup","onInvalid"]),r.toggleMask?(ye(),Pe("i",{key:0,class:rn(d.toggleIconClass),onClick:n[0]||(n[0]=(...T)=>d.onMaskToggle&&d.onMaskToggle(...T))},null,2)):Ut("",!0),rt("span",DCe,Ho(f.infoText),1),Nn(x,{appendTo:r.appendTo},{default:is(()=>[Nn(Pf,{name:"p-connected-overlay",onEnter:d.onOverlayEnter,onLeave:d.onOverlayLeave,onAfterLeave:d.onOverlayAfterLeave},{default:is(()=>[f.overlayVisible?(ye(),Pe("div",cr({key:0,ref:d.overlayRef,id:r.panelId||d.panelUniqueId,class:d.panelStyleClass,style:r.panelStyle,onClick:n[1]||(n[1]=(...T)=>d.onOverlayClick&&d.onOverlayClick(...T))},r.panelProps),[_o(t.$slots,"header"),_o(t.$slots,"content",{},()=>[rt("div",PCe,[rt("div",{class:rn(d.strengthClass),style:yr({width:f.meter?f.meter.width:""})},null,6)]),rt("div",zCe,Ho(f.infoText),1)]),_o(t.$slots,"footer")],16,MCe)):Ut("",!0)]),_:3},8,["onEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo"])],2)}function LCe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var BCe=`
.p-password {
    position: relative;
    display: inline-flex;
}
.p-password-panel {
    position: absolute;
    top: 0;
    left: 0;
}
.p-password .p-password-panel {
    min-width: 100%;
}
.p-password-meter {
    height: 10px;
}
.p-password-strength {
    height: 100%;
    width: 0;
    transition: width 1s ease-in-out;
}
.p-fluid .p-password {
    display: flex;
}
.p-password-input::-ms-reveal,
.p-password-input::-ms-clear {
    display: none;
}
`;LCe(BCe);Sce.render=NCe;var xce={name:"Avatar",emits:["error"],props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},size:{type:String,default:"normal"},shape:{type:String,default:"square"},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},methods:{onError(){this.$emit("error")}},computed:{containerClass(){return["p-avatar p-component",{"p-avatar-image":this.image!=null,"p-avatar-circle":this.shape==="circle","p-avatar-lg":this.size==="large","p-avatar-xl":this.size==="xlarge"}]},iconClass(){return["p-avatar-icon",this.icon]}}};const FCe=["aria-labelledby","aria-label"],$Ce={key:0,class:"p-avatar-text"},VCe=["src","alt"];function HCe(t,n,r,u,f,d){return ye(),Pe("div",{class:rn(d.containerClass),"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel},[_o(t.$slots,"default",{},()=>[r.label?(ye(),Pe("span",$Ce,Ho(r.label),1)):r.icon?(ye(),Pe("span",{key:1,class:rn(d.iconClass)},null,2)):r.image?(ye(),Pe("img",{key:2,src:r.image,alt:t.ariaLabel,onError:n[0]||(n[0]=(...w)=>d.onError&&d.onError(...w))},null,40,VCe)):Ut("",!0)])],10,FCe)}function UCe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var jCe=`
.p-avatar {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2rem;
    height: 2rem;
    font-size: 1rem;
}
.p-avatar.p-avatar-image {
    background-color: transparent;
}
.p-avatar.p-avatar-circle {
    border-radius: 50%;
}
.p-avatar-circle img {
    border-radius: 50%;
}
.p-avatar .p-avatar-icon {
    font-size: 1rem;
}
.p-avatar img {
    width: 100%;
    height: 100%;
}
`;UCe(jCe);xce.render=HCe;var Ece={name:"Menuitem",inheritAttrs:!1,emits:["item-click"],props:{item:null,template:null,exact:null,id:null,focusedOptionId:null},methods:{getItemProp(t,n){return t&&t.item?An.getItemValue(t.item[n]):void 0},onItemActionClick(t,n){n&&n(t)},onItemClick(t){const n=this.getItemProp(this.item,"command");n&&n({originalEvent:t,item:this.item.item}),this.$emit("item-click",{originalEvent:t,item:this.item,id:this.id})},containerClass(){return["p-menuitem",this.item.class,{"p-focus":this.id===this.focusedOptionId,"p-disabled":this.disabled()}]},linkClass(t){return["p-menuitem-link",{"router-link-active":t&&t.isActive,"router-link-active-exact":this.exact&&t&&t.isExactActive}]},visible(){return typeof this.item.visible=="function"?this.item.visible():this.item.visible!==!1},disabled(){return typeof this.item.disabled=="function"?this.item.disabled():this.item.disabled},label(){return typeof this.item.label=="function"?this.item.label():this.item.label}},directives:{ripple:du}};const WCe=["id","aria-label","aria-disabled"],ZCe=["href","onClick"],GCe={class:"p-menuitem-text"},qCe=["href","target"],KCe={class:"p-menuitem-text"};function YCe(t,n,r,u,f,d){const w=Dn("router-link"),x=Ii("ripple");return d.visible()?(ye(),Pe("li",{key:0,id:r.id,class:rn(d.containerClass()),role:"menuitem",style:yr(r.item.style),"aria-label":d.label(),"aria-disabled":d.disabled()},[rt("div",{class:"p-menuitem-content",onClick:n[0]||(n[0]=T=>d.onItemClick(T))},[r.template?(ye(),Mn(ja(r.template),{key:1,item:r.item},null,8,["item"])):(ye(),Pe(qn,{key:0},[r.item.to&&!d.disabled()?(ye(),Mn(w,{key:0,to:r.item.to,custom:""},{default:is(({navigate:T,href:A,isActive:$,isExactActive:B})=>[ur((ye(),Pe("a",{href:A,class:rn(d.linkClass({isActive:$,isExactActive:B})),tabindex:"-1","aria-hidden":"true",onClick:H=>d.onItemActionClick(H,T)},[r.item.icon?(ye(),Pe("span",{key:0,class:rn(["p-menuitem-icon",r.item.icon])},null,2)):Ut("",!0),rt("span",GCe,Ho(d.label()),1)],10,ZCe)),[[x]])]),_:1},8,["to"])):ur((ye(),Pe("a",{key:1,href:r.item.url,class:rn(d.linkClass()),target:r.item.target,tabindex:"-1","aria-hidden":"true"},[r.item.icon?(ye(),Pe("span",{key:0,class:rn(["p-menuitem-icon",r.item.icon])},null,2)):Ut("",!0),rt("span",KCe,Ho(d.label()),1)],10,qCe)),[[x]])],64))])],14,WCe)):Ut("",!0)}Ece.render=YCe;var Tce={name:"Menu",inheritAttrs:!1,emits:["show","hide","focus","blur"],props:{popup:{type:Boolean,default:!1},model:{type:Array,default:null},appendTo:{type:String,default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},exact:{type:Boolean,default:!0},tabindex:{type:Number,default:0},"aria-label":{type:String,default:null},"aria-labelledby":{type:String,default:null}},data(){return{id:this.$attrs.id,overlayVisible:!1,focused:!1,focusedOptionIndex:-1,selectedOptionIndex:-1}},watch:{"$attrs.id":function(t){this.id=t||Gu()}},target:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,list:null,mounted(){this.id=this.id||Gu(),this.popup||(this.bindResizeListener(),this.bindOutsideClickListener())},beforeUnmount(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.target=null,this.container&&this.autoZIndex&&Br.clear(this.container),this.container=null},methods:{itemClick(t){const n=t.item;this.disabled(n)||(n.command&&n.command(t),n.to&&t.navigate&&t.navigate(t.originalEvent),this.overlayVisible&&this.hide(),!this.popup&&this.focusedOptionIndex!==t.id&&(this.focusedOptionIndex=t.id))},onListFocus(t){this.focused=!0,this.popup||(this.selectedOptionIndex!==-1?(this.changeFocusedOptionIndex(this.selectedOptionIndex),this.selectedOptionIndex=-1):this.changeFocusedOptionIndex(0)),this.$emit("focus",t)},onListBlur(t){this.focused=!1,this.focusedOptionIndex=-1,this.$emit("blur",t)},onListKeyDown(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Enter":this.onEnterKey(t);break;case"Space":this.onSpaceKey(t);break;case"Escape":this.popup&&(Ge.focus(this.target),this.hide());case"Tab":this.overlayVisible&&this.hide();break}},onArrowDownKey(t){const n=this.findNextOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(n),t.preventDefault()},onArrowUpKey(t){if(t.altKey&&this.popup)Ge.focus(this.target),this.hide(),t.preventDefault();else{const n=this.findPrevOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(n),t.preventDefault()}},onHomeKey(t){this.changeFocusedOptionIndex(0),t.preventDefault()},onEndKey(t){this.changeFocusedOptionIndex(Ge.find(this.container,"li.p-menuitem:not(.p-disabled)").length-1),t.preventDefault()},onEnterKey(t){const n=Ge.findSingle(this.list,`li[id="${`${this.focusedOptionIndex}`}"]`),r=n&&Ge.findSingle(n,".p-menuitem-link");this.popup&&Ge.focus(this.target),r?r.click():n&&n.click(),t.preventDefault()},onSpaceKey(t){this.onEnterKey(t)},findNextOptionIndex(t){const r=[...Ge.find(this.container,"li.p-menuitem:not(.p-disabled)")].findIndex(u=>u.id===t);return r>-1?r+1:0},findPrevOptionIndex(t){const r=[...Ge.find(this.container,"li.p-menuitem:not(.p-disabled)")].findIndex(u=>u.id===t);return r>-1?r-1:0},changeFocusedOptionIndex(t){const n=Ge.find(this.container,"li.p-menuitem:not(.p-disabled)");let r=t>=n.length?n.length-1:t<0?0:t;r>-1&&(this.focusedOptionIndex=n[r].getAttribute("id"))},toggle(t){this.overlayVisible?this.hide():this.show(t)},show(t){this.overlayVisible=!0,this.target=t.currentTarget},hide(){this.overlayVisible=!1,this.target=null},onEnter(t){this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),this.autoZIndex&&Br.set("menu",t,this.baseZIndex+this.$primevue.config.zIndex.menu),this.popup&&(Ge.focus(this.list),this.changeFocusedOptionIndex(0)),this.$emit("show")},onLeave(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.$emit("hide")},onAfterLeave(t){this.autoZIndex&&Br.clear(t)},alignOverlay(){Ge.absolutePosition(this.container,this.target),this.container.style.minWidth=Ge.getOuterWidth(this.target)+"px"},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=t=>{const n=this.container&&!this.container.contains(t.target),r=!(this.target&&(this.target===t.target||this.target.contains(t.target)));this.overlayVisible&&n&&r?this.hide():!this.popup&&n&&r&&(this.focusedOptionIndex=-1)},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new qI(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!Ge.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},visible(t){return typeof t.visible=="function"?t.visible():t.visible!==!1},disabled(t){return typeof t.disabled=="function"?t.disabled():t.disabled},label(t){return typeof t.label=="function"?t.label():t.label},separatorClass(t){return["p-menuitem-separator",t.class]},onOverlayClick(t){Ud.emit("overlay-click",{originalEvent:t,target:this.target})},containerRef(t){this.container=t},listRef(t){this.list=t}},computed:{containerClass(){return["p-menu p-component",{"p-menu-overlay":this.popup,"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},focusedOptionId(){return this.focusedOptionIndex!==-1?this.focusedOptionIndex:null}},components:{PVMenuitem:Ece,Portal:ug}};const XCe=["id"],JCe={key:0,class:"p-menu-start"},QCe=["id","tabindex","aria-activedescendant","aria-label","aria-labelledby"],eSe=["id"],tSe={key:1,class:"p-menu-end"};function nSe(t,n,r,u,f,d){const w=Dn("PVMenuitem"),x=Dn("Portal");return ye(),Mn(x,{appendTo:r.appendTo,disabled:!r.popup},{default:is(()=>[Nn(Pf,{name:"p-connected-overlay",onEnter:d.onEnter,onLeave:d.onLeave,onAfterLeave:d.onAfterLeave},{default:is(()=>[!r.popup||f.overlayVisible?(ye(),Pe("div",cr({key:0,ref:d.containerRef,id:f.id,class:d.containerClass},t.$attrs,{onClick:n[3]||(n[3]=(...T)=>d.onOverlayClick&&d.onOverlayClick(...T))}),[t.$slots.start?(ye(),Pe("div",JCe,[_o(t.$slots,"start")])):Ut("",!0),rt("ul",{ref:d.listRef,id:f.id+"_list",class:"p-menu-list p-reset",role:"menu",tabindex:r.tabindex,"aria-activedescendant":f.focused?d.focusedOptionId:void 0,"aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,onFocus:n[0]||(n[0]=(...T)=>d.onListFocus&&d.onListFocus(...T)),onBlur:n[1]||(n[1]=(...T)=>d.onListBlur&&d.onListBlur(...T)),onKeydown:n[2]||(n[2]=(...T)=>d.onListKeyDown&&d.onListKeyDown(...T))},[(ye(!0),Pe(qn,null,Sa(r.model,(T,A)=>(ye(),Pe(qn,{key:d.label(T)+A.toString()},[T.items&&d.visible(T)&&!T.separator?(ye(),Pe(qn,{key:0},[T.items?(ye(),Pe("li",{key:0,id:f.id+"_"+A,class:"p-submenu-header",role:"none"},[_o(t.$slots,"item",{item:T},()=>[Zu(Ho(d.label(T)),1)])],8,eSe)):Ut("",!0),(ye(!0),Pe(qn,null,Sa(T.items,($,B)=>(ye(),Pe(qn,{key:$.label+A+"_"+B},[d.visible($)&&!$.separator?(ye(),Mn(w,{key:0,id:f.id+"_"+A+"_"+B,item:$,template:t.$slots.item,exact:r.exact,focusedOptionId:d.focusedOptionId,onItemClick:d.itemClick},null,8,["id","item","template","exact","focusedOptionId","onItemClick"])):d.visible($)&&$.separator?(ye(),Pe("li",{key:"separator"+A+B,class:rn(d.separatorClass(T)),style:yr($.style),role:"separator"},null,6)):Ut("",!0)],64))),128))],64)):d.visible(T)&&T.separator?(ye(),Pe("li",{key:"separator"+A.toString(),class:rn(d.separatorClass(T)),style:yr(T.style),role:"separator"},null,6)):(ye(),Mn(w,{key:d.label(T)+A.toString(),id:f.id+"_"+A,item:T,template:t.$slots.item,exact:r.exact,focusedOptionId:d.focusedOptionId,onItemClick:d.itemClick},null,8,["id","item","template","exact","focusedOptionId","onItemClick"]))],64))),128))],40,QCe),t.$slots.end?(ye(),Pe("div",tSe,[_o(t.$slots,"end")])):Ut("",!0)],16,XCe)):Ut("",!0)]),_:3},8,["onEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo","disabled"])}function oSe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var sSe=`
.p-menu-overlay {
    position: absolute;
    top: 0;
    left: 0;
}
.p-menu ul {
    margin: 0;
    padding: 0;
    list-style: none;
}
.p-menu .p-menuitem-link {
    cursor: pointer;
    display: flex;
    align-items: center;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
.p-menu .p-menuitem-text {
    line-height: 1;
}
`;oSe(sSe);Tce.render=nSe;var Rce={name:"Message",emits:["close"],props:{severity:{type:String,default:"info"},closable:{type:Boolean,default:!0},sticky:{type:Boolean,default:!0},life:{type:Number,default:3e3},icon:{type:String,default:null},closeIcon:{type:String,default:"pi pi-times"},closeButtonProps:{type:null,default:null}},timeout:null,data(){return{visible:!0}},mounted(){this.sticky||this.x()},methods:{close(t){this.visible=!1,this.$emit("close",t)},x(){setTimeout(()=>{this.visible=!1},this.life)}},computed:{containerClass(){return"p-message p-component p-message-"+this.severity},iconClass(){return["p-message-icon pi",this.icon?this.icon:{"pi-info-circle":this.severity==="info","pi-check":this.severity==="success","pi-exclamation-triangle":this.severity==="warn","pi-times-circle":this.severity==="error"}]},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{ripple:du}};const rSe={class:"p-message-wrapper"},aSe={class:"p-message-text"},iSe=["aria-label"];function lSe(t,n,r,u,f,d){const w=Ii("ripple");return ye(),Mn(Pf,{name:"p-message",appear:""},{default:is(()=>[ur(rt("div",{class:rn(d.containerClass),role:"alert","aria-live":"assertive","aria-atomic":"true"},[rt("div",rSe,[rt("span",{class:rn(d.iconClass)},null,2),rt("div",aSe,[_o(t.$slots,"default")]),r.closable?ur((ye(),Pe("button",cr({key:0,class:"p-message-close p-link","aria-label":d.closeAriaLabel,type:"button",onClick:n[0]||(n[0]=x=>d.close(x))},r.closeButtonProps),[rt("i",{class:rn(["p-message-close-icon",r.closeIcon])},null,2)],16,iSe)),[[w]]):Ut("",!0)])],2),[[bQ,f.visible]])]),_:3})}function cSe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var uSe=`
.p-message-wrapper {
    display: flex;
    align-items: center;
}
.p-message-close {
    display: flex;
    align-items: center;
    justify-content: center;
}
.p-message-close.p-link {
    margin-left: auto;
    overflow: hidden;
    position: relative;
}
.p-message-enter-from {
    opacity: 0;
}
.p-message-enter-active {
    transition: opacity 0.3s;
}
.p-message.p-message-leave-from {
    max-height: 1000px;
}
.p-message.p-message-leave-to {
    max-height: 0;
    opacity: 0;
    margin: 0 !important;
}
.p-message-leave-active {
    overflow: hidden;
    transition: max-height 0.3s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin 0.15s;
}
.p-message-leave-active .p-message-close {
    display: none;
}
`;cSe(uSe);Rce.render=lSe;var Ice={name:"ProgressBar",props:{value:{type:Number,default:null},mode:{type:String,default:"determinate"},showValue:{type:Boolean,default:!0}},computed:{containerClass(){return["p-progressbar p-component",{"p-progressbar-determinate":this.determinate,"p-progressbar-indeterminate":this.indeterminate}]},progressStyle(){return{width:this.value+"%",display:"flex"}},indeterminate(){return this.mode==="indeterminate"},determinate(){return this.mode==="determinate"}}};const dSe=["aria-valuenow"],fSe={key:0,class:"p-progressbar-label"},hSe={key:1,class:"p-progressbar-indeterminate-container"},mSe=rt("div",{class:"p-progressbar-value p-progressbar-value-animate"},null,-1),pSe=[mSe];function gSe(t,n,r,u,f,d){return ye(),Pe("div",{role:"progressbar",class:rn(d.containerClass),"aria-valuemin":"0","aria-valuenow":r.value,"aria-valuemax":"100"},[d.determinate?(ye(),Pe("div",{key:0,class:"p-progressbar-value p-progressbar-value-animate",style:yr(d.progressStyle)},[r.value!=null&&r.value!==0&&r.showValue?(ye(),Pe("div",fSe,[_o(t.$slots,"default",{},()=>[Zu(Ho(r.value+"%"),1)])])):Ut("",!0)],4)):Ut("",!0),d.indeterminate?(ye(),Pe("div",hSe,pSe)):Ut("",!0)],10,dSe)}function ySe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var bSe=`
.p-progressbar {
    position: relative;
    overflow: hidden;
}
.p-progressbar-determinate .p-progressbar-value {
    height: 100%;
    width: 0%;
    position: absolute;
    display: none;
    border: 0 none;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}
.p-progressbar-determinate .p-progressbar-label {
    display: inline-flex;
}
.p-progressbar-determinate .p-progressbar-value-animate {
    transition: width 1s ease-in-out;
}
.p-progressbar-indeterminate .p-progressbar-value::before {
    content: '';
    position: absolute;
    background-color: inherit;
    top: 0;
    left: 0;
    bottom: 0;
    will-change: left, right;
    -webkit-animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
}
.p-progressbar-indeterminate .p-progressbar-value::after {
    content: '';
    position: absolute;
    background-color: inherit;
    top: 0;
    left: 0;
    bottom: 0;
    will-change: left, right;
    -webkit-animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
    animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
    -webkit-animation-delay: 1.15s;
    animation-delay: 1.15s;
}
@-webkit-keyframes p-progressbar-indeterminate-anim {
0% {
        left: -35%;
        right: 100%;
}
60% {
        left: 100%;
        right: -90%;
}
100% {
        left: 100%;
        right: -90%;
}
}
@keyframes p-progressbar-indeterminate-anim {
0% {
        left: -35%;
        right: 100%;
}
60% {
        left: 100%;
        right: -90%;
}
100% {
        left: 100%;
        right: -90%;
}
}
@-webkit-keyframes p-progressbar-indeterminate-anim-short {
0% {
        left: -200%;
        right: 100%;
}
60% {
        left: 107%;
        right: -8%;
}
100% {
        left: 107%;
        right: -8%;
}
}
@keyframes p-progressbar-indeterminate-anim-short {
0% {
        left: -200%;
        right: 100%;
}
60% {
        left: 107%;
        right: -8%;
}
100% {
        left: 107%;
        right: -8%;
}
}
`;ySe(bSe);Ice.render=gSe;var Oee={name:"Badge",props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},computed:{containerClass(){return this.$slots.default?"p-overlay-badge":this.badgeClass},badgeClass(){return["p-badge p-component",{"p-badge-no-gutter":An.isNotEmpty(this.value)&&String(this.value).length===1,"p-badge-dot":An.isEmpty(this.value)&&!this.$slots.default,"p-badge-lg":this.size==="large","p-badge-xl":this.size==="xlarge","p-badge-info":this.severity==="info","p-badge-success":this.severity==="success","p-badge-warning":this.severity==="warning","p-badge-danger":this.severity==="danger"}]}}};function vSe(t,n,r,u,f,d){return ye(),Pe("span",{class:rn(d.badgeClass)},[_o(t.$slots,"default",{},()=>[Zu(Ho(r.value),1)])],2)}Oee.render=vSe;var Ace={emits:["remove"],props:{files:{type:Array,default:()=>[]},badgeSeverity:{type:String,default:"warning"},badgeValue:{type:String,default:null},previewWidth:{type:Number,default:50}},methods:{formatSize(t){if(t===0)return"0 B";let n=1e3,r=3,u=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],f=Math.floor(Math.log(t)/Math.log(n));return parseFloat((t/Math.pow(n,f)).toFixed(r))+" "+u[f]}},components:{FileUploadButton:oA,FileUploadBadge:Oee}};const wSe=["alt","src","width"],_Se={class:"p-fileupload-file-details"},kSe={class:"p-fileupload-file-name"},CSe={class:"p-fileupload-file-size"},SSe={class:"p-fileupload-file-actions"};function xSe(t,n,r,u,f,d){const w=Dn("FileUploadBadge"),x=Dn("FileUploadButton");return ye(!0),Pe(qn,null,Sa(r.files,(T,A)=>(ye(),Pe("div",{key:T.name+T.type+T.size,class:"p-fileupload-file"},[rt("img",{role:"presentation",class:"p-fileupload-file-thumbnail",alt:T.name,src:T.objectURL,width:r.previewWidth},null,8,wSe),rt("div",_Se,[rt("div",kSe,Ho(T.name),1),rt("span",CSe,Ho(d.formatSize(T.size)),1),Nn(w,{value:r.badgeValue,class:"p-fileupload-file-badge",severity:r.badgeSeverity},null,8,["value","severity"])]),rt("div",SSe,[Nn(x,{icon:"pi pi-times",onClick:$=>t.$emit("remove",A),class:"p-fileupload-file-remove p-button-text p-button-danger p-button-rounded"},null,8,["onClick"])])]))),128)}Ace.render=xSe;var Oce={name:"FileUpload",emits:["select","uploader","before-upload","progress","upload","error","before-send","clear","remove","remove-uploaded-file"],props:{name:{type:String,default:null},url:{type:String,default:null},mode:{type:String,default:"advanced"},multiple:{type:Boolean,default:!1},accept:{type:String,default:null},disabled:{type:Boolean,default:!1},auto:{type:Boolean,default:!1},maxFileSize:{type:Number,default:null},invalidFileSizeMessage:{type:String,default:"{0}: Invalid file size, file size should be smaller than {1}."},invalidFileTypeMessage:{type:String,default:"{0}: Invalid file type, allowed file types: {1}."},fileLimit:{type:Number,default:null},invalidFileLimitMessage:{type:String,default:"Maximum number of files exceeded, limit is {0} at most."},withCredentials:{type:Boolean,default:!1},previewWidth:{type:Number,default:50},chooseLabel:{type:String,default:null},uploadLabel:{type:String,default:null},cancelLabel:{type:String,default:null},customUpload:{type:Boolean,default:!1},showUploadButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!0},chooseIcon:{type:String,default:"pi pi-plus"},uploadIcon:{type:String,default:"pi pi-upload"},cancelIcon:{type:String,default:"pi pi-times"},style:null,class:null},duplicateIEEvent:!1,data(){return{uploadedFileCount:0,files:[],messages:[],focused:!1,progress:null,uploadedFiles:[]}},methods:{onFileSelect(t){if(t.type!=="drop"&&this.isIE11()&&this.duplicateIEEvent){this.duplicateIEEvent=!1;return}this.messages=[],this.files=this.files||[];let n=t.dataTransfer?t.dataTransfer.files:t.target.files;for(let r of n)this.isFileSelected(r)||this.validate(r)&&(this.isImage(r)&&(r.objectURL=window.URL.createObjectURL(r)),this.files.push(r));this.$emit("select",{originalEvent:t,files:this.files}),this.fileLimit&&this.checkFileLimit(),this.auto&&this.hasFiles&&!this.isFileLimitExceeded()&&this.upload(),t.type!=="drop"&&this.isIE11()?this.clearIEInput():this.clearInputElement()},choose(){this.$refs.fileInput.click()},upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.$emit("uploader",{files:this.files}),this.clear();else{let t=new XMLHttpRequest,n=new FormData;this.$emit("before-upload",{xhr:t,formData:n});for(let r of this.files)n.append(this.name,r,r.name);t.upload.addEventListener("progress",r=>{r.lengthComputable&&(this.progress=Math.round(r.loaded*100/r.total)),this.$emit("progress",{originalEvent:r,progress:this.progress})}),t.onreadystatechange=()=>{t.readyState===4&&(this.progress=0,t.status>=200&&t.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.$emit("upload",{xhr:t,files:this.files})):this.$emit("error",{xhr:t,files:this.files}),this.uploadedFiles.push(...this.files),this.clear())},t.open("POST",this.url,!0),this.$emit("before-send",{xhr:t,formData:n}),t.withCredentials=this.withCredentials,t.send(n)}},clear(){this.files=[],this.messages=null,this.$emit("clear"),this.isAdvanced&&this.clearInputElement()},onFocus(){this.focused=!0},onBlur(){this.focused=!1},isFileSelected(t){if(this.files&&this.files.length){for(let n of this.files)if(n.name+n.type+n.size===t.name+t.type+t.size)return!0}return!1},isIE11(){return!!window.MSInputMethodContext&&!!document.documentMode},validate(t){return this.accept&&!this.isFileTypeValid(t)?(this.messages.push(this.invalidFileTypeMessage.replace("{0}",t.name).replace("{1}",this.accept)),!1):this.maxFileSize&&t.size>this.maxFileSize?(this.messages.push(this.invalidFileSizeMessage.replace("{0}",t.name).replace("{1}",this.formatSize(this.maxFileSize))),!1):!0},isFileTypeValid(t){let n=this.accept.split(",").map(r=>r.trim());for(let r of n)if(this.isWildcard(r)?this.getTypeClass(t.type)===this.getTypeClass(r):t.type==r||this.getFileExtension(t).toLowerCase()===r.toLowerCase())return!0;return!1},getTypeClass(t){return t.substring(0,t.indexOf("/"))},isWildcard(t){return t.indexOf("*")!==-1},getFileExtension(t){return"."+t.name.split(".").pop()},isImage(t){return/^image\//.test(t.type)},onDragEnter(t){this.disabled||(t.stopPropagation(),t.preventDefault())},onDragOver(t){this.disabled||(Ge.addClass(this.$refs.content,"p-fileupload-highlight"),t.stopPropagation(),t.preventDefault())},onDragLeave(){this.disabled||Ge.removeClass(this.$refs.content,"p-fileupload-highlight")},onDrop(t){if(!this.disabled){Ge.removeClass(this.$refs.content,"p-fileupload-highlight"),t.stopPropagation(),t.preventDefault();const n=t.dataTransfer?t.dataTransfer.files:t.target.files;(this.multiple||n&&n.length===1)&&this.onFileSelect(t)}},onBasicUploaderClick(){this.hasFiles?this.upload():this.$refs.fileInput.click()},remove(t){this.clearInputElement();let n=this.files.splice(t,1)[0];this.files=[...this.files],this.$emit("remove",{file:n,files:this.files})},removeUploadedFile(t){let n=this.uploadedFiles.splice(t,1)[0];this.uploadedFiles=[...this.uploadedFiles],this.$emit("remove-uploaded-file",{file:n,files:this.uploadedFiles})},clearInputElement(){this.$refs.fileInput.value=""},clearIEInput(){this.$refs.fileInput&&(this.duplicateIEEvent=!0,this.$refs.fileInput.value="")},formatSize(t){if(t===0)return"0 B";let n=1e3,r=3,u=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],f=Math.floor(Math.log(t)/Math.log(n));return parseFloat((t/Math.pow(n,f)).toFixed(r))+" "+u[f]},isFileLimitExceeded(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount&&this.focused&&(this.focused=!1),this.fileLimit&&this.fileLimit<this.files.length+this.uploadedFileCount},checkFileLimit(){this.isFileLimitExceeded()&&this.messages.push(this.invalidFileLimitMessage.replace("{0}",this.fileLimit.toString()))},onMessageClose(){this.messages=null}},computed:{isAdvanced(){return this.mode==="advanced"},isBasic(){return this.mode==="basic"},advancedChooseButtonClass(){return["p-button p-component p-fileupload-choose",this.class,{"p-disabled":this.disabled,"p-focus":this.focused}]},basicChooseButtonClass(){return["p-button p-component p-fileupload-choose",this.class,{"p-fileupload-choose-selected":this.hasFiles,"p-disabled":this.disabled,"p-focus":this.focused}]},advancedChooseIconClass(){return["p-button-icon p-button-icon-left pi-fw",this.chooseIcon]},basicChooseButtonIconClass(){return["p-button-icon p-button-icon-left",!this.hasFiles||this.auto?this.uploadIcon:this.chooseIcon]},basicChooseButtonLabel(){return this.auto?this.chooseButtonLabel:this.hasFiles?this.files.map(t=>t.name).join(", "):this.chooseButtonLabel},hasFiles(){return this.files&&this.files.length>0},hasUploadedFiles(){return this.uploadedFiles&&this.uploadedFiles.length>0},chooseDisabled(){return this.disabled||this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount},uploadDisabled(){return this.disabled||!this.hasFiles||this.fileLimit&&this.fileLimit<this.files.length},cancelDisabled(){return this.disabled||!this.hasFiles},chooseButtonLabel(){return this.chooseLabel||this.$primevue.config.locale.choose},uploadButtonLabel(){return this.uploadLabel||this.$primevue.config.locale.upload},cancelButtonLabel(){return this.cancelLabel||this.$primevue.config.locale.cancel},completedLabel(){return this.$primevue.config.locale.completed},pendingLabel(){return this.$primevue.config.locale.pending}},components:{FileUploadButton:oA,FileUploadProgressBar:Ice,FileUploadMessage:Rce,FileContent:Ace},directives:{ripple:du}};const ESe={key:0,class:"p-fileupload p-fileupload-advanced p-component"},TSe=["multiple","accept","disabled"],RSe={class:"p-fileupload-buttonbar"},ISe={class:"p-button-label"},ASe={key:0,class:"p-fileupload-empty"},OSe={key:1,class:"p-fileupload p-fileupload-basic p-component"},DSe={class:"p-button-label"},MSe=["accept","disabled","multiple"];function PSe(t,n,r,u,f,d){const w=Dn("FileUploadButton"),x=Dn("FileUploadProgressBar"),T=Dn("FileUploadMessage"),A=Dn("FileContent"),$=Ii("ripple");return d.isAdvanced?(ye(),Pe("div",ESe,[rt("input",{ref:"fileInput",type:"file",onChange:n[0]||(n[0]=(...B)=>d.onFileSelect&&d.onFileSelect(...B)),multiple:r.multiple,accept:r.accept,disabled:d.chooseDisabled},null,40,TSe),rt("div",RSe,[_o(t.$slots,"header",{files:f.files,uploadedFiles:f.uploadedFiles,chooseCallback:d.choose,uploadCallback:d.upload,clearCallback:d.clear},()=>[ur((ye(),Pe("span",{class:rn(d.advancedChooseButtonClass),style:yr(r.style),onClick:n[1]||(n[1]=(...B)=>d.choose&&d.choose(...B)),onKeydown:n[2]||(n[2]=ix((...B)=>d.choose&&d.choose(...B),["enter"])),onFocus:n[3]||(n[3]=(...B)=>d.onFocus&&d.onFocus(...B)),onBlur:n[4]||(n[4]=(...B)=>d.onBlur&&d.onBlur(...B)),tabindex:"0"},[rt("span",{class:rn(d.advancedChooseIconClass)},null,2),rt("span",ISe,Ho(d.chooseButtonLabel),1)],38)),[[$]]),r.showUploadButton?(ye(),Mn(w,{key:0,label:d.uploadButtonLabel,icon:r.uploadIcon,onClick:d.upload,disabled:d.uploadDisabled},null,8,["label","icon","onClick","disabled"])):Ut("",!0),r.showCancelButton?(ye(),Mn(w,{key:1,label:d.cancelButtonLabel,icon:r.cancelIcon,onClick:d.clear,disabled:d.cancelDisabled},null,8,["label","icon","onClick","disabled"])):Ut("",!0)])]),rt("div",{ref:"content",class:"p-fileupload-content",onDragenter:n[5]||(n[5]=(...B)=>d.onDragEnter&&d.onDragEnter(...B)),onDragover:n[6]||(n[6]=(...B)=>d.onDragOver&&d.onDragOver(...B)),onDragleave:n[7]||(n[7]=(...B)=>d.onDragLeave&&d.onDragLeave(...B)),onDrop:n[8]||(n[8]=(...B)=>d.onDrop&&d.onDrop(...B))},[_o(t.$slots,"content",{files:f.files,uploadedFiles:f.uploadedFiles,removeUploadedFileCallback:d.removeUploadedFile,removeFileCallback:d.remove,progress:f.progress,messages:f.messages},()=>[d.hasFiles?(ye(),Mn(x,{key:0,value:f.progress,showValue:!1},null,8,["value"])):Ut("",!0),(ye(!0),Pe(qn,null,Sa(f.messages,B=>(ye(),Mn(T,{key:B,severity:"error",onClose:d.onMessageClose},{default:is(()=>[Zu(Ho(B),1)]),_:2},1032,["onClose"]))),128)),d.hasFiles?(ye(),Mn(A,{key:1,files:f.files,onRemove:d.remove,badgeValue:d.pendingLabel,previewWidth:r.previewWidth},null,8,["files","onRemove","badgeValue","previewWidth"])):Ut("",!0),Nn(A,{files:f.uploadedFiles,onRemove:d.removeUploadedFile,badgeValue:d.completedLabel,badgeSeverity:"success",previewWidth:r.previewWidth},null,8,["files","onRemove","badgeValue","previewWidth"])]),t.$slots.empty&&!d.hasFiles&&!d.hasUploadedFiles?(ye(),Pe("div",ASe,[_o(t.$slots,"empty")])):Ut("",!0)],544)])):d.isBasic?(ye(),Pe("div",OSe,[(ye(!0),Pe(qn,null,Sa(f.messages,B=>(ye(),Mn(T,{key:B,severity:"error",onClose:d.onMessageClose},{default:is(()=>[Zu(Ho(B),1)]),_:2},1032,["onClose"]))),128)),ur((ye(),Pe("span",{class:rn(d.basicChooseButtonClass),style:yr(r.style),onMouseup:n[12]||(n[12]=(...B)=>d.onBasicUploaderClick&&d.onBasicUploaderClick(...B)),onKeydown:n[13]||(n[13]=ix((...B)=>d.choose&&d.choose(...B),["enter"])),onFocus:n[14]||(n[14]=(...B)=>d.onFocus&&d.onFocus(...B)),onBlur:n[15]||(n[15]=(...B)=>d.onBlur&&d.onBlur(...B)),tabindex:"0"},[rt("span",{class:rn(d.basicChooseButtonIconClass)},null,2),rt("span",DSe,Ho(d.basicChooseButtonLabel),1),d.hasFiles?Ut("",!0):(ye(),Pe("input",{key:0,ref:"fileInput",type:"file",accept:r.accept,disabled:r.disabled,multiple:r.multiple,onChange:n[9]||(n[9]=(...B)=>d.onFileSelect&&d.onFileSelect(...B)),onFocus:n[10]||(n[10]=(...B)=>d.onFocus&&d.onFocus(...B)),onBlur:n[11]||(n[11]=(...B)=>d.onBlur&&d.onBlur(...B))},null,40,MSe))],38)),[[$]])])):Ut("",!0)}function zSe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var NSe=`
.p-fileupload-content {
    position: relative;
}
.p-fileupload-content .p-progressbar {
    width: 100%;
    position: absolute;
    top: 0;
    left: 0;
}
.p-button.p-fileupload-choose {
    position: relative;
    overflow: hidden;
}
.p-fileupload-buttonbar {
    display: flex;
    flex-wrap: wrap;
}
.p-fileupload > input[type='file'],
.p-fileupload-basic input[type='file'] {
    display: none;
}
.p-fluid .p-fileupload .p-button {
    width: auto;
}
.p-fileupload-file {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
}
.p-fileupload-file-thumbnail {
    flex-shrink: 0;
}
.p-fileupload-file-actions {
    margin-left: auto;
}
`;zSe(NSe);Oce.render=PSe;var Dce={name:"ToastMessage",emits:["close"],props:{message:{type:null,default:null},template:{type:null,default:null},closeIcon:{type:String,default:null},infoIcon:{type:String,default:null},warnIcon:{type:String,default:null},errorIcon:{type:String,default:null},successIcon:{type:String,default:null},closeButtonProps:{type:null,default:null}},closeTimeout:null,mounted(){this.message.life&&(this.closeTimeout=setTimeout(()=>{this.close({message:this.message,type:"life-end"})},this.message.life))},beforeUnmount(){this.clearCloseTimeout()},methods:{close(t){this.$emit("close",t)},onCloseClick(){this.clearCloseTimeout(),this.close({message:this.message,type:"close"})},clearCloseTimeout(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)}},computed:{containerClass(){return["p-toast-message",this.message.styleClass,{"p-toast-message-info":this.message.severity==="info","p-toast-message-warn":this.message.severity==="warn","p-toast-message-error":this.message.severity==="error","p-toast-message-success":this.message.severity==="success"}]},iconClass(){return["p-toast-message-icon",{[this.infoIcon]:this.message.severity==="info",[this.warnIcon]:this.message.severity==="warn",[this.errorIcon]:this.message.severity==="error",[this.successIcon]:this.message.severity==="success"}]},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{ripple:du}};const LSe={class:"p-toast-message-text"},BSe={class:"p-toast-summary"},FSe={class:"p-toast-detail"},$Se={key:2},VSe=["aria-label"];function HSe(t,n,r,u,f,d){const w=Ii("ripple");return ye(),Pe("div",{class:rn(d.containerClass),role:"alert","aria-live":"assertive","aria-atomic":"true"},[rt("div",{class:rn(["p-toast-message-content",r.message.contentStyleClass])},[r.template?(ye(),Mn(ja(r.template),{key:1,message:r.message},null,8,["message"])):(ye(),Pe(qn,{key:0},[rt("span",{class:rn(d.iconClass)},null,2),rt("div",LSe,[rt("span",BSe,Ho(r.message.summary),1),rt("div",FSe,Ho(r.message.detail),1)])],64)),r.message.closable!==!1?(ye(),Pe("div",$Se,[ur((ye(),Pe("button",cr({class:"p-toast-icon-close p-link",type:"button","aria-label":d.closeAriaLabel,onClick:n[0]||(n[0]=(...x)=>d.onCloseClick&&d.onCloseClick(...x)),autofocus:""},r.closeButtonProps),[rt("span",{class:rn(["p-toast-icon-close-icon",r.closeIcon])},null,2)],16,VSe)),[[w]])])):Ut("",!0)],2)],2)}Dce.render=HSe;var USe=0,Mce={name:"Toast",inheritAttrs:!1,emits:["close","life-end"],props:{group:{type:String,default:null},position:{type:String,default:"top-right"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},breakpoints:{type:Object,default:null},closeIcon:{type:String,default:"pi pi-times"},infoIcon:{type:String,default:"pi pi-info-circle"},warnIcon:{type:String,default:"pi pi-exclamation-triangle"},errorIcon:{type:String,default:"pi pi-times"},successIcon:{type:String,default:"pi pi-check"},closeButtonProps:{type:null,default:null}},data(){return{messages:[]}},styleElement:null,mounted(){u1.on("add",this.onAdd),u1.on("remove-group",this.onRemoveGroup),u1.on("remove-all-groups",this.onRemoveAllGroups),this.breakpoints&&this.createStyle()},beforeUnmount(){this.destroyStyle(),this.$refs.container&&this.autoZIndex&&Br.clear(this.$refs.container),u1.off("add",this.onAdd),u1.off("remove-group",this.onRemoveGroup),u1.off("remove-all-groups",this.onRemoveAllGroups)},methods:{add(t){t.id==null&&(t.id=USe++),this.messages=[...this.messages,t]},remove(t){let n=-1;for(let r=0;r<this.messages.length;r++)if(this.messages[r]===t.message){n=r;break}this.messages.splice(n,1),this.$emit(t.type,{message:t.message})},onAdd(t){this.group==t.group&&this.add(t)},onRemoveGroup(t){this.group===t&&(this.messages=[])},onRemoveAllGroups(){this.messages=[]},onEnter(){this.$refs.container.setAttribute(this.attributeSelector,""),this.autoZIndex&&Br.set("modal",this.$refs.container,this.baseZIndex||this.$primevue.config.zIndex.modal)},onLeave(){this.$refs.container&&this.autoZIndex&&An.isEmpty(this.messages)&&setTimeout(()=>{Br.clear(this.$refs.container)},200)},createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let n in this.breakpoints){let r="";for(let u in this.breakpoints[n])r+=u+":"+this.breakpoints[n][u]+"!important;";t+=`
                        @media screen and (max-width: ${n}) {
                            .p-toast[${this.attributeSelector}] {
                                ${r}
                            }
                        }
                    `}this.styleElement.innerHTML=t}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}},computed:{containerClass(){return["p-toast p-component p-toast-"+this.position,{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},attributeSelector(){return Gu()}},components:{ToastMessage:Dce,Portal:ug}};function jSe(t,n,r,u,f,d){const w=Dn("ToastMessage"),x=Dn("Portal");return ye(),Mn(x,null,{default:is(()=>[rt("div",cr({ref:"container",class:d.containerClass},t.$attrs),[Nn(Ahe,{name:"p-toast-message",tag:"div",onEnter:d.onEnter,onLeave:d.onLeave},{default:is(()=>[(ye(!0),Pe(qn,null,Sa(f.messages,T=>(ye(),Mn(w,{key:T.id,message:T,template:t.$slots.message,closeIcon:r.closeIcon,infoIcon:r.infoIcon,warnIcon:r.warnIcon,errorIcon:r.errorIcon,successIcon:r.successIcon,closeButtonProps:r.closeButtonProps,onClose:n[0]||(n[0]=A=>d.remove(A))},null,8,["message","template","closeIcon","infoIcon","warnIcon","errorIcon","successIcon","closeButtonProps"]))),128))]),_:1},8,["onEnter","onLeave"])],16)]),_:1})}function WSe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var ZSe=`
.p-toast {
    position: fixed;
    width: 25rem;
}
.p-toast-message-content {
    display: flex;
    align-items: flex-start;
}
.p-toast-message-text {
    flex: 1 1 auto;
}
.p-toast-top-right {
    top: 20px;
    right: 20px;
}
.p-toast-top-left {
    top: 20px;
    left: 20px;
}
.p-toast-bottom-left {
    bottom: 20px;
    left: 20px;
}
.p-toast-bottom-right {
    bottom: 20px;
    right: 20px;
}
.p-toast-top-center {
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
}
.p-toast-bottom-center {
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
}
.p-toast-center {
    left: 50%;
    top: 50%;
    min-width: 20vw;
    transform: translate(-50%, -50%);
}
.p-toast-icon-close {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}
.p-toast-icon-close.p-link {
    cursor: pointer;
}

/* Animations */
.p-toast-message-enter-from {
    opacity: 0;
    -webkit-transform: translateY(50%);
    -ms-transform: translateY(50%);
    transform: translateY(50%);
}
.p-toast-message-leave-from {
    max-height: 1000px;
}
.p-toast .p-toast-message.p-toast-message-leave-to {
    max-height: 0;
    opacity: 0;
    margin-bottom: 0;
    overflow: hidden;
}
.p-toast-message-enter-active {
    -webkit-transition: transform 0.3s, opacity 0.3s;
    transition: transform 0.3s, opacity 0.3s;
}
.p-toast-message-leave-active {
    -webkit-transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin-bottom 0.3s;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin-bottom 0.3s;
}
`;WSe(ZSe);Mce.render=jSe;function GSe(t,n){const{onFocusIn:r,onFocusOut:u}=n.value||{};t.$_pfocustrap_mutationobserver=new MutationObserver(f=>{f.forEach(d=>{if(d.type==="childList"&&!t.contains(document.activeElement)){const w=x=>{const T=Ge.isFocusableElement(x)?x:Ge.getFirstFocusableElement(x);return An.isNotEmpty(T)?T:w(x.nextSibling)};Ge.focus(w(d.nextSibling))}})}),t.$_pfocustrap_mutationobserver.disconnect(),t.$_pfocustrap_mutationobserver.observe(t,{childList:!0}),t.$_pfocustrap_focusinlistener=f=>r&&r(f),t.$_pfocustrap_focusoutlistener=f=>u&&u(f),t.addEventListener("focusin",t.$_pfocustrap_focusinlistener),t.addEventListener("focusout",t.$_pfocustrap_focusoutlistener)}function Zse(t){t.$_pfocustrap_mutationobserver&&t.$_pfocustrap_mutationobserver.disconnect(),t.$_pfocustrap_focusinlistener&&t.removeEventListener("focusin",t.$_pfocustrap_focusinlistener)&&(t.$_pfocustrap_focusinlistener=null),t.$_pfocustrap_focusoutlistener&&t.removeEventListener("focusout",t.$_pfocustrap_focusoutlistener)&&(t.$_pfocustrap_focusoutlistener=null)}function qSe(t,n){const{autoFocusSelector:r="",firstFocusableSelector:u="",autoFocus:f=!1}=n.value||{};let d=Ge.getFirstFocusableElement(t,`[autofocus]:not(.p-hidden-focusable)${r}`);f&&!d&&(d=Ge.getFirstFocusableElement(t,`:not(.p-hidden-focusable)${u}`)),Ge.focus(d)}function KSe(t){const{currentTarget:n,relatedTarget:r}=t,u=r===n.$_pfocustrap_lasthiddenfocusableelement?Ge.getFirstFocusableElement(n.parentElement,`:not(.p-hidden-focusable)${n.$_pfocustrap_focusableselector}`):n.$_pfocustrap_lasthiddenfocusableelement;Ge.focus(u)}function YSe(t){const{currentTarget:n,relatedTarget:r}=t,u=r===n.$_pfocustrap_firsthiddenfocusableelement?Ge.getLastFocusableElement(n.parentElement,`:not(.p-hidden-focusable)${n.$_pfocustrap_focusableselector}`):n.$_pfocustrap_firsthiddenfocusableelement;Ge.focus(u)}function XSe(t,n){const{tabIndex:r=0,firstFocusableSelector:u="",lastFocusableSelector:f=""}=n.value||{},d=T=>{const A=document.createElement("span");return A.classList="p-hidden-accessible p-hidden-focusable",A.tabIndex=r,A.setAttribute("aria-hidden","true"),A.setAttribute("role","presentation"),A.addEventListener("focus",T),A},w=d(KSe),x=d(YSe);w.$_pfocustrap_lasthiddenfocusableelement=x,w.$_pfocustrap_focusableselector=u,x.$_pfocustrap_firsthiddenfocusableelement=w,x.$_pfocustrap_focusableselector=f,t.prepend(w),t.append(x)}const k4={mounted(t,n){const{disabled:r}=n.value||{};r||(XSe(t,n),GSe(t,n),qSe(t,n))},updated(t,n){const{disabled:r}=n.value||{};r&&Zse(t)},unmounted(t){Zse(t)}};var Pce={name:"Dialog",inheritAttrs:!1,emits:["update:visible","show","hide","after-hide","maximize","unmaximize","dragend"],props:{header:{type:null,default:null},footer:{type:null,default:null},visible:{type:Boolean,default:!1},modal:{type:Boolean,default:null},contentStyle:{type:null,default:null},contentClass:{type:String,default:null},contentProps:{type:null,default:null},rtl:{type:Boolean,default:null},maximizable:{type:Boolean,default:!1},dismissableMask:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},closeOnEscape:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},position:{type:String,default:"center"},breakpoints:{type:Object,default:null},draggable:{type:Boolean,default:!0},keepInViewport:{type:Boolean,default:!0},minX:{type:Number,default:0},minY:{type:Number,default:0},appendTo:{type:String,default:"body"},closeIcon:{type:String,default:"pi pi-times"},maximizeIcon:{type:String,default:"pi pi-window-maximize"},minimizeIcon:{type:String,default:"pi pi-window-minimize"},closeButtonProps:{type:null,default:null},_instance:null},provide(){return{dialogRef:To(()=>this._instance)}},data(){return{containerVisible:this.visible,maximized:!1,focusableMax:null,focusableClose:null}},documentKeydownListener:null,container:null,mask:null,content:null,headerContainer:null,footerContainer:null,maximizableButton:null,closeButton:null,styleElement:null,dragging:null,documentDragListener:null,documentDragEndListener:null,lastPageX:null,lastPageY:null,updated(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount(){this.unbindDocumentState(),this.unbindGlobalListeners(),this.destroyStyle(),this.mask&&this.autoZIndex&&Br.clear(this.mask),this.container=null,this.mask=null},mounted(){this.breakpoints&&this.createStyle()},methods:{close(){this.$emit("update:visible",!1)},onBeforeEnter(t){t.setAttribute(this.attributeSelector,"")},onEnter(){this.$emit("show"),this.focus(),this.enableDocumentSettings(),this.bindGlobalListeners(),this.autoZIndex&&Br.set("modal",this.mask,this.baseZIndex+this.$primevue.config.zIndex.modal)},onBeforeLeave(){this.modal&&Ge.addClass(this.mask,"p-component-overlay-leave")},onLeave(){this.$emit("hide"),this.focusableClose=null,this.focusableMax=null},onAfterLeave(){this.autoZIndex&&Br.clear(this.mask),this.containerVisible=!1,this.unbindDocumentState(),this.unbindGlobalListeners(),this.$emit("after-hide")},onMaskClick(t){this.dismissableMask&&this.modal&&this.mask===t.target&&this.close()},focus(){const t=r=>r.querySelector("[autofocus]");let n=this.$slots.footer&&t(this.footerContainer);n||(n=this.$slots.header&&t(this.headerContainer),n||(n=this.$slots.default&&t(this.content),n||(this.maximizable?(this.focusableMax=!0,n=this.maximizableButton):(this.focusableClose=!0,n=this.closeButton)))),n&&Ge.focus(n)},maximize(t){this.maximized?(this.maximized=!1,this.$emit("unmaximize",t)):(this.maximized=!0,this.$emit("maximize",t)),this.modal||(this.maximized?Ge.addClass(document.body,"p-overflow-hidden"):Ge.removeClass(document.body,"p-overflow-hidden"))},enableDocumentSettings(){(this.modal||this.maximizable&&this.maximized)&&Ge.addClass(document.body,"p-overflow-hidden")},unbindDocumentState(){(this.modal||this.maximizable&&this.maximized)&&Ge.removeClass(document.body,"p-overflow-hidden")},onKeyDown(t){t.code==="Escape"&&this.closeOnEscape&&this.close()},bindDocumentKeyDownListener(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},getPositionClass(){const n=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find(r=>r===this.position);return n?`p-dialog-${n}`:""},containerRef(t){this.container=t},maskRef(t){this.mask=t},contentRef(t){this.content=t},headerContainerRef(t){this.headerContainer=t},footerContainerRef(t){this.footerContainer=t},maximizableRef(t){this.maximizableButton=t},closeButtonRef(t){this.closeButton=t},createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let n in this.breakpoints)t+=`
                        @media screen and (max-width: ${n}) {
                            .p-dialog[${this.attributeSelector}] {
                                width: ${this.breakpoints[n]} !important;
                            }
                        }
                    `;this.styleElement.innerHTML=t}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},initDrag(t){Ge.hasClass(t.target,"p-dialog-header-icon")||Ge.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",Ge.addClass(document.body,"p-unselectable-text"))},bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.closeOnEscape&&this.closable&&this.bindDocumentKeyDownListener()},unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentKeyDownListener()},bindDocumentDragListener(){this.documentDragListener=t=>{if(this.dragging){let n=Ge.getOuterWidth(this.container),r=Ge.getOuterHeight(this.container),u=t.pageX-this.lastPageX,f=t.pageY-this.lastPageY,d=this.container.getBoundingClientRect(),w=d.left+u,x=d.top+f,T=Ge.getViewport();this.container.style.position="fixed",this.keepInViewport?(w>=this.minX&&w+n<T.width&&(this.lastPageX=t.pageX,this.container.style.left=w+"px"),x>=this.minY&&x+r<T.height&&(this.lastPageY=t.pageY,this.container.style.top=x+"px")):(this.lastPageX=t.pageX,this.container.style.left=w+"px",this.lastPageY=t.pageY,this.container.style.top=x+"px")}},window.document.addEventListener("mousemove",this.documentDragListener)},unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)},bindDocumentDragEndListener(){this.documentDragEndListener=t=>{this.dragging&&(this.dragging=!1,Ge.removeClass(document.body,"p-unselectable-text"),this.$emit("dragend",t))},window.document.addEventListener("mouseup",this.documentDragEndListener)},unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}},computed:{maskClass(){return["p-dialog-mask",{"p-component-overlay p-component-overlay-enter":this.modal},this.getPositionClass()]},dialogClass(){return["p-dialog p-component",{"p-dialog-rtl":this.rtl,"p-dialog-maximized":this.maximizable&&this.maximized,"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},maximizeIconClass(){return["p-dialog-header-maximize-icon",{[this.maximizeIcon]:!this.maximized,[this.minimizeIcon]:this.maximized}]},ariaId(){return Gu()},ariaLabelledById(){return this.header!=null||this.$attrs["aria-labelledby"]!==null?this.ariaId+"_header":null},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},attributeSelector(){return Gu()},contentStyleClass(){return["p-dialog-content",this.contentClass]}},directives:{ripple:du,focustrap:k4},components:{Portal:ug}};const JSe=["aria-labelledby","aria-modal"],QSe=["id"],exe={class:"p-dialog-header-icons"},txe=["autofocus","tabindex"],nxe=["autofocus","aria-label"];function oxe(t,n,r,u,f,d){const w=Dn("Portal"),x=Ii("ripple"),T=Ii("focustrap");return ye(),Mn(w,{appendTo:r.appendTo},{default:is(()=>[f.containerVisible?(ye(),Pe("div",{key:0,ref:d.maskRef,class:rn(d.maskClass),onClick:n[3]||(n[3]=(...A)=>d.onMaskClick&&d.onMaskClick(...A))},[Nn(Pf,{name:"p-dialog",onBeforeEnter:d.onBeforeEnter,onEnter:d.onEnter,onBeforeLeave:d.onBeforeLeave,onLeave:d.onLeave,onAfterLeave:d.onAfterLeave,appear:""},{default:is(()=>[r.visible?ur((ye(),Pe("div",cr({key:0,ref:d.containerRef,class:d.dialogClass,role:"dialog","aria-labelledby":d.ariaLabelledById,"aria-modal":r.modal},t.$attrs),[r.showHeader?(ye(),Pe("div",{key:0,ref:d.headerContainerRef,class:"p-dialog-header",onMousedown:n[2]||(n[2]=(...A)=>d.initDrag&&d.initDrag(...A))},[_o(t.$slots,"header",{},()=>[r.header?(ye(),Pe("span",{key:0,id:d.ariaLabelledById,class:"p-dialog-title"},Ho(r.header),9,QSe)):Ut("",!0)]),rt("div",exe,[r.maximizable?ur((ye(),Pe("button",{key:0,ref:d.maximizableRef,autofocus:f.focusableMax,class:"p-dialog-header-icon p-dialog-header-maximize p-link",onClick:n[0]||(n[0]=(...A)=>d.maximize&&d.maximize(...A)),type:"button",tabindex:r.maximizable?"0":"-1"},[rt("span",{class:rn(d.maximizeIconClass)},null,2)],8,txe)),[[x]]):Ut("",!0),r.closable?ur((ye(),Pe("button",cr({key:1,ref:d.closeButtonRef,autofocus:f.focusableClose,class:"p-dialog-header-icon p-dialog-header-close p-link",onClick:n[1]||(n[1]=(...A)=>d.close&&d.close(...A)),"aria-label":d.closeAriaLabel,type:"button"},r.closeButtonProps),[rt("span",{class:rn(["p-dialog-header-close-icon",r.closeIcon])},null,2)],16,nxe)),[[x]]):Ut("",!0)])],544)):Ut("",!0),rt("div",cr({ref:d.contentRef,class:d.contentStyleClass,style:r.contentStyle},r.contentProps),[_o(t.$slots,"default")],16),r.footer||t.$slots.footer?(ye(),Pe("div",{key:1,ref:d.footerContainerRef,class:"p-dialog-footer"},[_o(t.$slots,"footer",{},()=>[Zu(Ho(r.footer),1)])],512)):Ut("",!0)],16,JSe)),[[T,{disabled:!r.modal}]]):Ut("",!0)]),_:3},8,["onBeforeEnter","onEnter","onBeforeLeave","onLeave","onAfterLeave"])],2)):Ut("",!0)]),_:3},8,["appendTo"])}function sxe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var rxe=`
.p-dialog-mask {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    pointer-events: none;
}
.p-dialog-mask.p-component-overlay {
    pointer-events: auto;
}
.p-dialog {
    display: flex;
    flex-direction: column;
    pointer-events: auto;
    max-height: 90%;
    transform: scale(1);
}
.p-dialog-content {
    overflow-y: auto;
}
.p-dialog-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0;
}
.p-dialog-footer {
    flex-shrink: 0;
}
.p-dialog .p-dialog-header-icons {
    display: flex;
    align-items: center;
}
.p-dialog .p-dialog-header-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

/* Fluid */
.p-fluid .p-dialog-footer .p-button {
    width: auto;
}

/* Animation */
/* Center */
.p-dialog-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}
.p-dialog-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}
.p-dialog-enter-from,
.p-dialog-leave-to {
    opacity: 0;
    transform: scale(0.7);
}

/* Top, Bottom, Left, Right, Top* and Bottom* */
.p-dialog-top .p-dialog,
.p-dialog-bottom .p-dialog,
.p-dialog-left .p-dialog,
.p-dialog-right .p-dialog,
.p-dialog-topleft .p-dialog,
.p-dialog-topright .p-dialog,
.p-dialog-bottomleft .p-dialog,
.p-dialog-bottomright .p-dialog {
    margin: 0.75rem;
    transform: translate3d(0px, 0px, 0px);
}
.p-dialog-top .p-dialog-enter-active,
.p-dialog-top .p-dialog-leave-active,
.p-dialog-bottom .p-dialog-enter-active,
.p-dialog-bottom .p-dialog-leave-active,
.p-dialog-left .p-dialog-enter-active,
.p-dialog-left .p-dialog-leave-active,
.p-dialog-right .p-dialog-enter-active,
.p-dialog-right .p-dialog-leave-active,
.p-dialog-topleft .p-dialog-enter-active,
.p-dialog-topleft .p-dialog-leave-active,
.p-dialog-topright .p-dialog-enter-active,
.p-dialog-topright .p-dialog-leave-active,
.p-dialog-bottomleft .p-dialog-enter-active,
.p-dialog-bottomleft .p-dialog-leave-active,
.p-dialog-bottomright .p-dialog-enter-active,
.p-dialog-bottomright .p-dialog-leave-active {
    transition: all 0.3s ease-out;
}
.p-dialog-top .p-dialog-enter-from,
.p-dialog-top .p-dialog-leave-to {
    transform: translate3d(0px, -100%, 0px);
}
.p-dialog-bottom .p-dialog-enter-from,
.p-dialog-bottom .p-dialog-leave-to {
    transform: translate3d(0px, 100%, 0px);
}
.p-dialog-left .p-dialog-enter-from,
.p-dialog-left .p-dialog-leave-to,
.p-dialog-topleft .p-dialog-enter-from,
.p-dialog-topleft .p-dialog-leave-to,
.p-dialog-bottomleft .p-dialog-enter-from,
.p-dialog-bottomleft .p-dialog-leave-to {
    transform: translate3d(-100%, 0px, 0px);
}
.p-dialog-right .p-dialog-enter-from,
.p-dialog-right .p-dialog-leave-to,
.p-dialog-topright .p-dialog-enter-from,
.p-dialog-topright .p-dialog-leave-to,
.p-dialog-bottomright .p-dialog-enter-from,
.p-dialog-bottomright .p-dialog-leave-to {
    transform: translate3d(100%, 0px, 0px);
}

/* Maximize */
.p-dialog-maximized {
    -webkit-transition: none;
    transition: none;
    transform: none;
    width: 100vw !important;
    height: 100vh !important;
    top: 0px !important;
    left: 0px !important;
    max-height: 100%;
    height: 100%;
}
.p-dialog-maximized .p-dialog-content {
    flex-grow: 1;
}

/* Position */
.p-dialog-left {
    justify-content: flex-start;
}
.p-dialog-right {
    justify-content: flex-end;
}
.p-dialog-top {
    align-items: flex-start;
}
.p-dialog-topleft {
    justify-content: flex-start;
    align-items: flex-start;
}
.p-dialog-topright {
    justify-content: flex-end;
    align-items: flex-start;
}
.p-dialog-bottom {
    align-items: flex-end;
}
.p-dialog-bottomleft {
    justify-content: flex-start;
    align-items: flex-end;
}
.p-dialog-bottomright {
    justify-content: flex-end;
    align-items: flex-end;
}
.p-confirm-dialog .p-dialog-content {
    display: flex;
    align-items: center;
}
`;sxe(rxe);Pce.render=oxe;var zce={name:"Image",inheritAttrs:!1,emits:["show","hide","error"],props:{preview:{type:Boolean,default:!1},class:{type:null,default:null},style:{type:null,default:null},imageStyle:{type:null,default:null},imageClass:{type:null,default:null},previewButtonProps:{type:null,default:null},indicatorIcon:{type:String,default:"pi pi-eye"}},mask:null,data(){return{maskVisible:!1,previewVisible:!1,rotate:0,scale:1}},beforeUnmount(){this.mask&&Br.clear(this.container)},methods:{maskRef(t){this.mask=t},toolbarRef(t){this.toolbarRef=t},onImageClick(){this.preview&&(this.maskVisible=!0,setTimeout(()=>{this.previewVisible=!0},25))},onPreviewImageClick(){this.previewClick=!0},onMaskClick(){this.previewClick||(this.previewVisible=!1,this.rotate=0,this.scale=1),this.previewClick=!1},onMaskKeydown(t){switch(t.code){case"Escape":this.onMaskClick(),setTimeout(()=>{Ge.focus(this.$refs.previewButton)},25),t.preventDefault();break}},onError(){this.$emit("error")},rotateRight(){this.rotate+=90,this.previewClick=!0},rotateLeft(){this.rotate-=90,this.previewClick=!0},zoomIn(){this.scale=this.scale+.1,this.previewClick=!0},zoomOut(){this.scale=this.scale-.1,this.previewClick=!0},onBeforeEnter(){Br.set("modal",this.mask,this.$primevue.config.zIndex.modal)},onEnter(){this.focus(),this.$emit("show")},onBeforeLeave(){Ge.addClass(this.mask,"p-component-overlay-leave")},onLeave(){this.$emit("hide")},onAfterLeave(t){Br.clear(t),this.maskVisible=!1},focus(){let t=this.mask.querySelector("[autofocus]");t&&t.focus()}},computed:{containerClass(){return["p-image p-component",this.class,{"p-image-preview-container":this.preview}]},maskClass(){return["p-image-mask p-component-overlay p-component-overlay-enter"]},rotateClass(){return"p-image-preview-rotate-"+this.rotate},imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}},zoomDisabled(){return this.scale<=.5||this.scale>=1.5},rightAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateRight:void 0},leftAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateLeft:void 0},zoomInAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomIn:void 0},zoomOutAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomOut:void 0},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},components:{Portal:ug},directives:{focustrap:k4}};const axe=["aria-modal"],ixe={class:"p-image-toolbar"},lxe=["aria-label"],cxe=rt("i",{class:"pi pi-refresh"},null,-1),uxe=["aria-label"],dxe=rt("i",{class:"pi pi-undo"},null,-1),fxe=["disabled","aria-label"],hxe=rt("i",{class:"pi pi-search-minus"},null,-1),mxe=["disabled","aria-label"],pxe=rt("i",{class:"pi pi-search-plus"},null,-1),gxe=["aria-label"],yxe=rt("i",{class:"pi pi-times"},null,-1),bxe={key:0},vxe=["src"];function wxe(t,n,r,u,f,d){const w=Dn("Portal"),x=Ii("focustrap");return ye(),Pe("span",{class:rn(d.containerClass),style:yr(r.style)},[rt("img",cr(t.$attrs,{style:r.imageStyle,class:r.imageClass,onError:n[0]||(n[0]=(...T)=>d.onError&&d.onError(...T))}),null,16),r.preview?(ye(),Pe("button",cr({key:0,ref:"previewButton",class:"p-image-preview-indicator",onClick:n[1]||(n[1]=(...T)=>d.onImageClick&&d.onImageClick(...T))},r.previewButtonProps),[_o(t.$slots,"indicator",{},()=>[rt("i",{class:rn(["p-image-preview-icon",r.indicatorIcon])},null,2)])],16)):Ut("",!0),Nn(w,null,{default:is(()=>[f.maskVisible?ur((ye(),Pe("div",{key:0,ref:d.maskRef,role:"dialog",class:rn(d.maskClass),"aria-modal":f.maskVisible,onClick:n[8]||(n[8]=(...T)=>d.onMaskClick&&d.onMaskClick(...T)),onKeydown:n[9]||(n[9]=(...T)=>d.onMaskKeydown&&d.onMaskKeydown(...T))},[rt("div",ixe,[rt("button",{class:"p-image-action p-link",onClick:n[2]||(n[2]=(...T)=>d.rotateRight&&d.rotateRight(...T)),type:"button","aria-label":d.rightAriaLabel},[_o(t.$slots,"refresh",{},()=>[cxe])],8,lxe),rt("button",{class:"p-image-action p-link",onClick:n[3]||(n[3]=(...T)=>d.rotateLeft&&d.rotateLeft(...T)),type:"button","aria-label":d.leftAriaLabel},[_o(t.$slots,"undo",{},()=>[dxe])],8,uxe),rt("button",{class:"p-image-action p-link",onClick:n[4]||(n[4]=(...T)=>d.zoomOut&&d.zoomOut(...T)),type:"button",disabled:d.zoomDisabled,"aria-label":d.zoomOutAriaLabel},[_o(t.$slots,"zoomout",{},()=>[hxe])],8,fxe),rt("button",{class:"p-image-action p-link",onClick:n[5]||(n[5]=(...T)=>d.zoomIn&&d.zoomIn(...T)),type:"button",disabled:d.zoomDisabled,"aria-label":d.zoomInAriaLabel},[_o(t.$slots,"zoomin",{},()=>[pxe])],8,mxe),rt("button",{class:"p-image-action p-link",type:"button",onClick:n[6]||(n[6]=(...T)=>t.hidePreview&&t.hidePreview(...T)),"aria-label":d.closeAriaLabel,autofocus:""},[_o(t.$slots,"close",{},()=>[yxe])],8,gxe)]),Nn(Pf,{name:"p-image-preview",onBeforeEnter:d.onBeforeEnter,onEnter:d.onEnter,onLeave:d.onLeave,onBeforeLeave:d.onBeforeLeave,onAfterLeave:d.onAfterLeave},{default:is(()=>[f.previewVisible?(ye(),Pe("div",bxe,[rt("img",{src:t.$attrs.src,class:"p-image-preview",style:yr(d.imagePreviewStyle),onClick:n[7]||(n[7]=(...T)=>d.onPreviewImageClick&&d.onPreviewImageClick(...T))},null,12,vxe)])):Ut("",!0)]),_:1},8,["onBeforeEnter","onEnter","onLeave","onBeforeLeave","onAfterLeave"])],42,axe)),[[x]]):Ut("",!0)]),_:3})],6)}function _xe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var kxe=`
.p-image-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}
.p-image-preview-container {
    position: relative;
    display: inline-block;
}
.p-image-preview-indicator {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s;
}
.p-image-preview-icon {
    font-size: 1.5rem;
}
.p-image-preview-container:hover > .p-image-preview-indicator {
    opacity: 1;
    cursor: pointer;
}
.p-image-preview-container > img {
    cursor: pointer;
}
.p-image-toolbar {
    position: absolute;
    top: 0;
    right: 0;
    display: flex;
}
.p-image-action.p-link {
    display: flex;
    justify-content: center;
    align-items: center;
}
.p-image-preview {
    transition: transform 0.15s;
    max-width: 100vw;
    max-height: 100vh;
}
.p-image-preview-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}
.p-image-preview-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}
.p-image-preview-enter-from,
.p-image-preview-leave-to {
    opacity: 0;
    transform: scale(0.7);
}
`;_xe(kxe);zce.render=wxe;var Dee={name:"VirtualScroller",emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},data(){return{first:this.isBoth()?{rows:0,cols:0}:0,last:this.isBoth()?{rows:0,cols:0}:0,page:this.isBoth()?{rows:0,cols:0}:0,numItemsInViewport:this.isBoth()?{rows:0,cols:0}:0,lastScrollPos:this.isBoth()?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems(t){this.d_numToleratedItems=t},loading(t){this.d_loading=t},items(t,n){(!n||n.length!==(t||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize(){this.init(),this.calculateAutoSize()},orientation(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight(){this.init(),this.calculateAutoSize()},scrollWidth(){this.init(),this.calculateAutoSize()}},mounted(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated(){!this.initialized&&this.viewInit()},unmounted(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit(){Ge.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.bindResizeListener(),this.defaultWidth=Ge.getWidth(this.element),this.defaultHeight=Ge.getHeight(this.element),this.defaultContentWidth=Ge.getWidth(this.content),this.defaultContentHeight=Ge.getHeight(this.content),this.initialized=!0)},init(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical(){return this.orientation==="vertical"},isHorizontal(){return this.orientation==="horizontal"},isBoth(){return this.orientation==="both"},scrollTo(t){this.lastScrollPos=this.both?{top:0,left:0}:0,this.element&&this.element.scrollTo(t)},scrollToIndex(t,n="auto"){const r=this.isBoth(),u=this.isHorizontal(),f=this.first,{numToleratedItems:d}=this.calculateNumItems(),w=this.getContentPosition(),x=this.itemSize,T=(le=0,ke)=>le<=ke?0:le,A=(le,ke,Ne)=>le*ke+Ne,$=(le=0,ke=0)=>this.scrollTo({left:le,top:ke,behavior:n});let B=r?{rows:0,cols:0}:0,H=!1;r?(B={rows:T(t[0],d[0]),cols:T(t[1],d[1])},$(A(B.cols,x[1],w.left),A(B.rows,x[0],w.top)),H=B.rows!==f.rows||B.cols!==f.cols):(B=T(t,d),u?$(A(B,x,w.left),0):$(0,A(B,x,w.top)),H=B!==f),this.isRangeChanged=H,this.first=B},scrollInView(t,n,r="auto"){if(n){const u=this.isBoth(),f=this.isHorizontal(),{first:d,viewport:w}=this.getRenderedRange(),x=($=0,B=0)=>this.scrollTo({left:$,top:B,behavior:r}),T=n==="to-start",A=n==="to-end";if(T){if(u)w.first.rows-d.rows>t[0]?x(w.first.cols*this.itemSize[1],(w.first.rows-1)*this.itemSize[0]):w.first.cols-d.cols>t[1]&&x((w.first.cols-1)*this.itemSize[1],w.first.rows*this.itemSize[0]);else if(w.first-d>t){const $=(w.first-1)*this.itemSize;f?x($,0):x(0,$)}}else if(A){if(u)w.last.rows-d.rows<=t[0]+1?x(w.first.cols*this.itemSize[1],(w.first.rows+1)*this.itemSize[0]):w.last.cols-d.cols<=t[1]+1&&x((w.first.cols+1)*this.itemSize[1],w.first.rows*this.itemSize[0]);else if(w.last-d<=t+1){const $=(w.first+1)*this.itemSize;f?x($,0):x(0,$)}}}else this.scrollToIndex(t,r)},getRenderedRange(){const t=(u,f)=>Math.floor(u/(f||u));let n=this.first,r=0;if(this.element){const u=this.isBoth(),f=this.isHorizontal(),{scrollTop:d,scrollLeft:w}=this.element.scrollTop;u?(n={rows:t(d,this.itemSize[0]),cols:t(w,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols}):(n=t(f?w:d,this.itemSize),r=n+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems(){const t=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,u=this.getContentPosition(),f=this.element?this.element.offsetWidth-u.left:0,d=this.element?this.element.offsetHeight-u.top:0,w=($,B)=>Math.ceil($/(B||$)),x=$=>Math.ceil($/2),T=t?{rows:w(d,r[0]),cols:w(f,r[1])}:w(n?f:d,r),A=this.d_numToleratedItems||(t?[x(T.rows),x(T.cols)]:x(T));return{numItemsInViewport:T,numToleratedItems:A}},calculateOptions(){const t=this.isBoth(),n=this.first,{numItemsInViewport:r,numToleratedItems:u}=this.calculateNumItems(),f=(w,x,T,A=!1)=>this.getLast(w+x+(w<T?2:3)*T,A),d=t?{rows:f(n.rows,r.rows,u[0]),cols:f(n.cols,r.cols,u[1],!0)}:f(n,r,u);this.last=d,this.numItemsInViewport=r,this.d_numToleratedItems=u,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=t?Array.from({length:r.rows}).map(()=>Array.from({length:r.cols})):Array.from({length:r})),this.lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this.step?t?{rows:0,cols:n.cols}:0:n,last:Math.min(this.step?this.step:d,this.items.length)},this.$emit("lazy-load",this.lazyLoadState)})},calculateAutoSize(){this.autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.content){const t=this.isBoth(),n=this.isHorizontal(),r=this.isVertical();this.content.style.minHeight=this.content.style.minWidth="auto",this.content.style.position="relative",this.element.style.contain="none";const[u,f]=[Ge.getWidth(this.content),Ge.getHeight(this.content)];u!==this.defaultContentWidth&&(this.element.style.width=""),f!==this.defaultContentHeight&&(this.element.style.height="");const[d,w]=[Ge.getWidth(this.element),Ge.getHeight(this.element)];(t||n)&&(this.element.style.width=d<this.defaultWidth?d+"px":this.scrollWidth||this.defaultWidth+"px"),(t||r)&&(this.element.style.height=w<this.defaultHeight?w+"px":this.scrollHeight||this.defaultHeight+"px"),this.content.style.minHeight=this.content.style.minWidth="",this.content.style.position="",this.element.style.contain=""}})},getLast(t=0,n){return this.items?Math.min(n?(this.columns||this.items[0]).length:this.items.length,t):0},getContentPosition(){if(this.content){const t=getComputedStyle(this.content),n=parseFloat(t.paddingLeft)+Math.max(parseFloat(t.left)||0,0),r=parseFloat(t.paddingRight)+Math.max(parseFloat(t.right)||0,0),u=parseFloat(t.paddingTop)+Math.max(parseFloat(t.top)||0,0),f=parseFloat(t.paddingBottom)+Math.max(parseFloat(t.bottom)||0,0);return{left:n,right:r,top:u,bottom:f,x:n+r,y:u+f}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize(){if(this.element){const t=this.isBoth(),n=this.isHorizontal(),r=this.element.parentElement,u=this.scrollWidth||`${this.element.offsetWidth||r.offsetWidth}px`,f=this.scrollHeight||`${this.element.offsetHeight||r.offsetHeight}px`,d=(w,x)=>this.element.style[w]=x;t||n?(d("height",f),d("width",u)):d("height",f)}},setSpacerSize(){const t=this.items;if(t){const n=this.isBoth(),r=this.isHorizontal(),u=this.getContentPosition(),f=(d,w,x,T=0)=>this.spacerStyle={...this.spacerStyle,[`${d}`]:(w||[]).length*x+T+"px"};n?(f("height",t,this.itemSize[0],u.y),f("width",this.columns||t[1],this.itemSize[1],u.x)):r?f("width",this.columns||t,this.itemSize,u.x):f("height",t,this.itemSize,u.y)}},setContentPosition(t){if(this.content&&!this.appendOnly){const n=this.isBoth(),r=this.isHorizontal(),u=t?t.first:this.first,f=(w,x)=>w*x,d=(w=0,x=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${w}px, ${x}px, 0)`};if(n)d(f(u.cols,this.itemSize[1]),f(u.rows,this.itemSize[0]));else{const w=f(u,this.itemSize);r?d(w,0):d(0,w)}}},onScrollPositionChange(t){const n=t.target,r=this.isBoth(),u=this.isHorizontal(),f=this.getContentPosition(),d=(Se,je)=>Se?Se>je?Se-je:Se:0,w=(Se,je)=>Math.floor(Se/(je||Se)),x=(Se,je,gt,ee,ht,He)=>Se<=ht?ht:He?gt-ee-ht:je+ht-1,T=(Se,je,gt,ee,ht,He,Ze)=>Se<=He?0:Math.max(0,Ze?Se<je?gt:Se-He:Se>je?gt:Se-2*He),A=(Se,je,gt,ee,ht,He)=>{let Ze=je+ee+2*ht;return Se>=ht&&(Ze+=ht+1),this.getLast(Ze,He)},$=d(n.scrollTop,f.top),B=d(n.scrollLeft,f.left);let H=r?{rows:0,cols:0}:0,le=this.last,ke=!1,Ne=this.lastScrollPos;if(r){const Se=this.lastScrollPos.top<=$,je=this.lastScrollPos.left<=B;if(!this.appendOnly||this.appendOnly&&(Se||je)){const gt={rows:w($,this.itemSize[0]),cols:w(B,this.itemSize[1])},ee={rows:x(gt.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],Se),cols:x(gt.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],je)};H={rows:T(gt.rows,ee.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],Se),cols:T(gt.cols,ee.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],je)},le={rows:A(gt.rows,H.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:A(gt.cols,H.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},ke=H.rows!==this.first.rows||le.rows!==this.last.rows||H.cols!==this.first.cols||le.cols!==this.last.cols||this.isRangeChanged,Ne={top:$,left:B}}}else{const Se=u?B:$,je=this.lastScrollPos<=Se;if(!this.appendOnly||this.appendOnly&&je){const gt=w(Se,this.itemSize),ee=x(gt,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,je);H=T(gt,ee,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,je),le=A(gt,H,this.last,this.numItemsInViewport,this.d_numToleratedItems),ke=H!==this.first||le!==this.last||this.isRangeChanged,Ne=Se}}return{first:H,last:le,isRangeChanged:ke,scrollPos:Ne}},onScrollChange(t){const{first:n,last:r,isRangeChanged:u,scrollPos:f}=this.onScrollPositionChange(t);if(u){const d={first:n,last:r};if(this.setContentPosition(d),this.first=n,this.last=r,this.lastScrollPos=f,this.$emit("scroll-index-change",d),this.lazy&&this.isPageChanged(n)){const w={first:this.step?Math.min(this.getPageByFirst(n)*this.step,this.items.length-this.step):n,last:Math.min(this.step?(this.getPageByFirst(n)+1)*this.step:r,this.items.length)};(this.lazyLoadState.first!==w.first||this.lazyLoadState.last!==w.last)&&this.$emit("lazy-load",w),this.lazyLoadState=w}}},onScroll(t){if(this.$emit("scroll",t),this.delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:n}=this.onScrollPositionChange(t);(n||(this.step?this.isPageChanged():!1))&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(t),this.d_loading&&this.showLoader&&(!this.lazy||this.loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst())},this.delay)}else this.onScrollChange(t)},onResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(Ge.isVisible(this.element)){const t=this.isBoth(),n=this.isVertical(),r=this.isHorizontal(),[u,f]=[Ge.getWidth(this.element),Ge.getHeight(this.element)],[d,w]=[u!==this.defaultWidth,f!==this.defaultHeight];(t?d||w:r?d:n?w:!1)&&(this.d_numToleratedItems=this.numToleratedItems,this.defaultWidth=u,this.defaultHeight=f,this.defaultContentWidth=Ge.getWidth(this.content),this.defaultContentHeight=Ge.getHeight(this.content),this.init())}},this.resizeDelay)},bindResizeListener(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions(t){const n=(this.items||[]).length,r=this.isBoth()?this.first.rows+t:this.first+t;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions(t,n){let r=this.loaderArr.length;return{index:t,count:r,first:t===0,last:t===r-1,even:t%2===0,odd:t%2!==0,...n}},getPageByFirst(t){return Math.floor(((t!=null?t:this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged(t){return this.step?this.page!==this.getPageByFirst(t!=null?t:this.first):!0},setContentEl(t){this.content=t||this.content||Ge.findSingle(this.element,".p-virtualscroller-content")},elementRef(t){this.element=t},contentRef(t){this.content=t}},computed:{containerClass(){return["p-virtualscroller",{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()},this.class]},contentClass(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems(){return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(t=>this.columns?t:t.slice(this.appendOnly?0:this.first.cols,this.last.cols)):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns(){if(this.columns){const t=this.isBoth(),n=this.isHorizontal();if(t||n)return this.d_loading&&this.loaderDisabled?t?this.loaderArr[0]:this.loaderArr:this.columns.slice(t?this.first.cols:this.first,t?this.last.cols:this.last)}return this.columns}}};const Cxe=["tabindex"],Sxe={key:1,class:"p-virtualscroller-loading-icon pi pi-spinner pi-spin"};function xxe(t,n,r,u,f,d){return r.disabled?(ye(),Pe(qn,{key:1},[_o(t.$slots,"default"),_o(t.$slots,"content",{items:r.items,rows:r.items,columns:d.loadedColumns})],64)):(ye(),Pe("div",{key:0,ref:d.elementRef,class:rn(d.containerClass),tabindex:r.tabindex,style:yr(r.style),onScroll:n[0]||(n[0]=(...w)=>d.onScroll&&d.onScroll(...w))},[_o(t.$slots,"content",{styleClass:d.contentClass,items:d.loadedItems,getItemOptions:d.getOptions,loading:f.d_loading,getLoaderOptions:d.getLoaderOptions,itemSize:r.itemSize,rows:d.loadedRows,columns:d.loadedColumns,contentRef:d.contentRef,spacerStyle:f.spacerStyle,contentStyle:f.contentStyle,vertical:d.isVertical(),horizontal:d.isHorizontal(),both:d.isBoth()},()=>[rt("div",{ref:d.contentRef,class:rn(d.contentClass),style:yr(f.contentStyle)},[(ye(!0),Pe(qn,null,Sa(d.loadedItems,(w,x)=>_o(t.$slots,"item",{key:x,item:w,options:d.getOptions(x)})),128))],6)]),r.showSpacer?(ye(),Pe("div",{key:0,class:"p-virtualscroller-spacer",style:yr(f.spacerStyle)},null,4)):Ut("",!0),!r.loaderDisabled&&r.showLoader&&f.d_loading?(ye(),Pe("div",{key:1,class:rn(d.loaderClass)},[t.$slots&&t.$slots.loader?(ye(!0),Pe(qn,{key:0},Sa(f.loaderArr,(w,x)=>_o(t.$slots,"loader",{key:x,options:d.getLoaderOptions(x,d.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})),128)):(ye(),Pe("i",Sxe))],2)):Ut("",!0)],46,Cxe))}function Exe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var Txe=`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}
.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    /* contain: content; */
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}
.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}
.p-virtualscroller .p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}
.p-virtualscroller-loader.p-component-overlay {
    display: flex;
    align-items: center;
    justify-content: center;
}
.p-virtualscroller-loading-icon {
    font-size: 2rem;
}
.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

/* Inline */
.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`;Exe(Txe);Dee.render=xxe;var C4={name:"Dropdown",emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:String,default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:"pi pi-times"},dropdownIcon:{type:String,default:"pi pi-chevron-down"},filterIcon:{type:String,default:"pi pi-search"},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!0},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},"aria-label":{type:String,default:null},"aria-labelledby":{type:String,default:null}},outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,focusOnHover:!1,data(){return{id:this.$attrs.id,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(t){this.id=t||Gu()},modelValue(){this.isModelValueChanged=!0},options(){this.autoUpdateModel()}},mounted(){this.id=this.id||Gu(),this.autoUpdateModel()},updated(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Br.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex(t,n){return this.virtualScrollerDisabled?t:n&&n(t).index},getOptionLabel(t){return this.optionLabel?An.resolveFieldData(t,this.optionLabel):t},getOptionValue(t){return this.optionValue?An.resolveFieldData(t,this.optionValue):t},getOptionRenderKey(t,n){return(this.dataKey?An.resolveFieldData(t,this.dataKey):this.getOptionLabel(t))+"_"+n},isOptionDisabled(t){return this.optionDisabled?An.resolveFieldData(t,this.optionDisabled):!1},isOptionGroup(t){return this.optionGroupLabel&&t.optionGroup&&t.group},getOptionGroupLabel(t){return An.resolveFieldData(t,this.optionGroupLabel)},getOptionGroupChildren(t){return An.resolveFieldData(t,this.optionGroupChildren)},getAriaPosInset(t){return(this.optionGroupLabel?t-this.visibleOptions.slice(0,t).filter(n=>this.isOptionGroup(n)).length:t)+1},show(t){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,t&&Ge.focus(this.$refs.focusInput)},hide(t){const n=()=>{this.$emit("before-hide"),this.overlayVisible=!1,this.focusedOptionIndex=-1,this.searchValue="",this.resetFilterOnHide&&(this.filterValue=null),t&&Ge.focus(this.$refs.focusInput)};setTimeout(()=>{n()},0)},onFocus(t){this.disabled||(this.focused=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,this.overlayVisible&&this.scrollInView(this.focusedOptionIndex),this.$emit("focus",t))},onBlur(t){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",t)},onKeyDown(t){if(this.disabled){t.preventDefault();return}const n=t.metaKey||t.ctrlKey;switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,this.editable);break;case"Home":this.onHomeKey(t,this.editable);break;case"End":this.onEndKey(t,this.editable);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Space":this.onSpaceKey(t,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"Backspace":this.onBackspaceKey(t,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&An.isPrintableCharacter(t.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(t,t.key));break}},onEditableInput(t){const n=t.target.value;this.searchValue="",!this.searchOptions(t,n)&&(this.focusedOptionIndex=-1),this.updateModel(t,n)},onContainerClick(t){this.disabled||this.loading||Ge.hasClass(t.target,"p-dropdown-clear-icon")||t.target.tagName==="INPUT"||(!this.overlay||!this.overlay.contains(t.target))&&(this.overlayVisible?this.hide(!0):this.show(!0))},onClearClick(t){this.updateModel(t,null)},onFirstHiddenFocus(t){const n=t.relatedTarget===this.$refs.focusInput?Ge.getFirstFocusableElement(this.overlay,":not(.p-hidden-focusable)"):this.$refs.focusInput;Ge.focus(n)},onLastHiddenFocus(t){const n=t.relatedTarget===this.$refs.focusInput?Ge.getLastFocusableElement(this.overlay,":not(.p-hidden-focusable)"):this.$refs.focusInput;Ge.focus(n)},onOptionSelect(t,n,r=!0){const u=this.getOptionValue(n);this.updateModel(t,u),r&&this.hide(!0)},onOptionMouseMove(t,n){this.focusOnHover&&this.changeFocusedOptionIndex(t,n)},onFilterChange(t){const n=t.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:t,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,!0);break;case"Home":this.onHomeKey(t,!0);break;case"End":this.onEndKey(t,!0);break;case"Enter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t,!0);break}},onFilterBlur(){this.focusedOptionIndex=-1},onFilterUpdated(){this.overlayVisible&&this.alignOverlay()},onOverlayClick(t){Ud.emit("overlay-click",{originalEvent:t,target:this.$el})},onOverlayKeyDown(t){switch(t.code){case"Escape":this.onEscapeKey(t);break}},onArrowDownKey(t){const n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(t,n),!this.overlayVisible&&this.show(),t.preventDefault()},onArrowUpKey(t,n=!1){if(t.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(t,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),t.preventDefault();else{const r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(t,r),!this.overlayVisible&&this.show(),t.preventDefault()}},onArrowLeftKey(t,n=!1){n&&(this.focusedOptionIndex=-1)},onHomeKey(t,n=!1){n?(t.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex=-1):(this.changeFocusedOptionIndex(t,this.findFirstOptionIndex()),!this.overlayVisible&&this.show()),t.preventDefault()},onEndKey(t,n=!1){if(n){const r=t.currentTarget,u=r.value.length;r.setSelectionRange(u,u),this.focusedOptionIndex=-1}else this.changeFocusedOptionIndex(t,this.findLastOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()},onPageUpKey(t){this.scrollInView(0),t.preventDefault()},onPageDownKey(t){this.scrollInView(this.visibleOptions.length-1),t.preventDefault()},onEnterKey(t){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(t,this.visibleOptions[this.focusedOptionIndex]),this.hide()):this.onArrowDownKey(t),t.preventDefault()},onSpaceKey(t,n=!1){!n&&this.onEnterKey(t)},onEscapeKey(t){this.overlayVisible&&this.hide(!0),t.preventDefault()},onTabKey(t,n=!1){n||(this.overlayVisible&&this.hasFocusableElements()?(Ge.focus(this.$refs.firstHiddenFocusableElementOnOverlay),t.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(t,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey(t,n=!1){n&&!this.overlayVisible&&this.show()},onOverlayEnter(t){Br.set("overlay",t,this.$primevue.config.zIndex.overlay),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&Ge.focus(this.$refs.filterInput)},onOverlayAfterEnter(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave(t){Br.clear(t)},alignOverlay(){this.appendTo==="self"?Ge.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=Ge.getOuterWidth(this.$el)+"px",Ge.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=t=>{this.overlayVisible&&this.overlay&&!this.$el.contains(t.target)&&!this.overlay.contains(t.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new qI(this.$refs.container,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!Ge.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},hasFocusableElements(){return Ge.getFocusableElements(this.overlay,":not(.p-hidden-focusable)").length>0},isOptionMatched(t){return this.isValidOption(t)&&this.getOptionLabel(t).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))},isValidOption(t){return t&&!(this.isOptionDisabled(t)||this.isOptionGroup(t))},isValidSelectedOption(t){return this.isValidOption(t)&&this.isSelected(t)},isSelected(t){return this.isValidOption(t)&&An.equals(this.modelValue,this.getOptionValue(t),this.equalityKey)},findFirstOptionIndex(){return this.visibleOptions.findIndex(t=>this.isValidOption(t))},findLastOptionIndex(){return An.findLastIndex(this.visibleOptions,t=>this.isValidOption(t))},findNextOptionIndex(t){const n=t<this.visibleOptions.length-1?this.visibleOptions.slice(t+1).findIndex(r=>this.isValidOption(r)):-1;return n>-1?n+t+1:t},findPrevOptionIndex(t){const n=t>0?An.findLastIndex(this.visibleOptions.slice(0,t),r=>this.isValidOption(r)):-1;return n>-1?n:t},findSelectedOptionIndex(){return this.hasSelectedOption?this.visibleOptions.findIndex(t=>this.isValidSelectedOption(t)):-1},findFirstFocusedOptionIndex(){const t=this.findSelectedOptionIndex();return t<0?this.findFirstOptionIndex():t},findLastFocusedOptionIndex(){const t=this.findSelectedOptionIndex();return t<0?this.findLastOptionIndex():t},searchOptions(t,n){this.searchValue=(this.searchValue||"")+n;let r=-1,u=!1;return this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(f=>this.isOptionMatched(f)),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(f=>this.isOptionMatched(f)):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(f=>this.isOptionMatched(f)),r!==-1&&(u=!0),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(t,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),u},changeFocusedOptionIndex(t,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(t,this.visibleOptions[n],!1))},scrollInView(t=-1){const n=t!==-1?`${this.id}_${t}`:this.focusedOptionId,r=Ge.findSingle(this.list,`li[id="${n}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"start"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroller&&this.virtualScroller.scrollToIndex(t!==-1?t:this.focusedOptionIndex)},0)},autoUpdateModel(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel(t,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:t,value:n})},flatOptions(t){return(t||[]).reduce((n,r,u)=>{n.push({optionGroup:r,group:!0,index:u});const f=this.getOptionGroupChildren(r);return f&&f.forEach(d=>n.push(d)),n},[])},overlayRef(t){this.overlay=t},listRef(t,n){this.list=t,n&&n(t)},virtualScrollerRef(t){this.virtualScroller=t}},computed:{containerClass(){return["p-dropdown p-component p-inputwrapper",{"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-overlay-open":this.overlayVisible}]},inputStyleClass(){return["p-dropdown-label p-inputtext",this.inputClass,{"p-placeholder":!this.editable&&this.label===this.placeholder,"p-dropdown-label-empty":!this.editable&&!this.$slots.value&&(this.label==="p-emptylabel"||this.label.length===0)}]},panelStyleClass(){return["p-dropdown-panel p-component",this.panelClass,{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},dropdownIconClass(){return["p-dropdown-trigger-icon",this.loading?this.loadingIcon:this.dropdownIcon]},visibleOptions(){const t=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){const n=uJ.filter(t,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){const r=this.options||[],u=[];return r.forEach(f=>{const w=this.getOptionGroupChildren(f).filter(x=>n.includes(x));w.length>0&&u.push({...f,[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...w]})}),this.flatOptions(u)}return n}return t},hasSelectedOption(){return An.isNotEmpty(this.modelValue)},label(){const t=this.findSelectedOptionIndex();return t!==-1?this.getOptionLabel(this.visibleOptions[t]):this.placeholder||"p-emptylabel"},editableInputValue(){const t=this.findSelectedOptionIndex();return t!==-1?this.getOptionLabel(this.visibleOptions[t]):this.modelValue||""},equalityKey(){return this.optionValue?null:this.dataKey},searchFields(){return this.filterFields||[this.optionLabel]},filterResultMessageText(){return An.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},focusedOptionId(){return this.focusedOptionIndex!==-1?`${this.id}_${this.focusedOptionIndex}`:null},ariaSetSize(){return this.visibleOptions.filter(t=>!this.isOptionGroup(t)).length},virtualScrollerDisabled(){return!this.virtualScrollerOptions}},directives:{ripple:du},components:{VirtualScroller:Dee,Portal:ug}};const Rxe=["id"],Ixe=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant"],Axe=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],Oxe={class:"p-dropdown-trigger"},Dxe={key:0,class:"p-dropdown-header"},Mxe={class:"p-dropdown-filter-container"},Pxe=["value","placeholder","aria-owns","aria-activedescendant"],zxe={role:"status","aria-live":"polite",class:"p-hidden-accessible"},Nxe=["id"],Lxe=["id"],Bxe=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove"],Fxe={key:0,class:"p-dropdown-empty-message",role:"option"},$xe={key:1,class:"p-dropdown-empty-message",role:"option"},Vxe={key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},Hxe={role:"status","aria-live":"polite",class:"p-hidden-accessible"};function Uxe(t,n,r,u,f,d){const w=Dn("VirtualScroller"),x=Dn("Portal"),T=Ii("ripple");return ye(),Pe("div",{ref:"container",id:f.id,class:rn(d.containerClass),onClick:n[16]||(n[16]=(...A)=>d.onContainerClick&&d.onContainerClick(...A))},[r.editable?(ye(),Pe("input",cr({key:0,ref:"focusInput",id:r.inputId,type:"text",style:r.inputStyle,class:d.inputStyleClass,value:d.editableInputValue,placeholder:r.placeholder,tabindex:r.disabled?-1:r.tabindex,disabled:r.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":f.overlayVisible,"aria-controls":f.id+"_list","aria-activedescendant":f.focused?d.focusedOptionId:void 0,onFocus:n[0]||(n[0]=(...A)=>d.onFocus&&d.onFocus(...A)),onBlur:n[1]||(n[1]=(...A)=>d.onBlur&&d.onBlur(...A)),onKeydown:n[2]||(n[2]=(...A)=>d.onKeyDown&&d.onKeyDown(...A)),onInput:n[3]||(n[3]=(...A)=>d.onEditableInput&&d.onEditableInput(...A))},r.inputProps),null,16,Ixe)):(ye(),Pe("span",cr({key:1,ref:"focusInput",id:r.inputId,style:r.inputStyle,class:d.inputStyleClass,tabindex:r.disabled?-1:r.tabindex,role:"combobox","aria-label":t.ariaLabel||(d.label==="p-emptylabel"?void 0:d.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":f.overlayVisible,"aria-controls":f.id+"_list","aria-activedescendant":f.focused?d.focusedOptionId:void 0,"aria-disabled":r.disabled,onFocus:n[4]||(n[4]=(...A)=>d.onFocus&&d.onFocus(...A)),onBlur:n[5]||(n[5]=(...A)=>d.onBlur&&d.onBlur(...A)),onKeydown:n[6]||(n[6]=(...A)=>d.onKeyDown&&d.onKeyDown(...A))},r.inputProps),[_o(t.$slots,"value",{value:r.modelValue,placeholder:r.placeholder},()=>[Zu(Ho(d.label==="p-emptylabel"?"\xA0":d.label||"empty"),1)])],16,Axe)),r.showClear&&r.modelValue!=null?(ye(),Pe("i",cr({key:2,class:["p-dropdown-clear-icon",r.clearIcon],onClick:n[7]||(n[7]=(...A)=>d.onClearClick&&d.onClearClick(...A))},r.clearIconProps),null,16)):Ut("",!0),rt("div",Oxe,[_o(t.$slots,"indicator",{},()=>[rt("span",{class:rn(d.dropdownIconClass),"aria-hidden":"true"},null,2)])]),Nn(x,{appendTo:r.appendTo},{default:is(()=>[Nn(Pf,{name:"p-connected-overlay",onEnter:d.onOverlayEnter,onAfterEnter:d.onOverlayAfterEnter,onLeave:d.onOverlayLeave,onAfterLeave:d.onOverlayAfterLeave},{default:is(()=>[f.overlayVisible?(ye(),Pe("div",cr({key:0,ref:d.overlayRef,style:r.panelStyle,class:d.panelStyleClass,onClick:n[14]||(n[14]=(...A)=>d.onOverlayClick&&d.onOverlayClick(...A)),onKeydown:n[15]||(n[15]=(...A)=>d.onOverlayKeyDown&&d.onOverlayKeyDown(...A))},r.panelProps),[rt("span",{ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:n[8]||(n[8]=(...A)=>d.onFirstHiddenFocus&&d.onFirstHiddenFocus(...A))},null,544),_o(t.$slots,"header",{value:r.modelValue,options:d.visibleOptions}),r.filter?(ye(),Pe("div",Dxe,[rt("div",Mxe,[rt("input",cr({ref:"filterInput",type:"text",value:f.filterValue,onVnodeUpdated:n[9]||(n[9]=(...A)=>d.onFilterUpdated&&d.onFilterUpdated(...A)),class:"p-dropdown-filter p-inputtext p-component",placeholder:r.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":f.id+"_list","aria-activedescendant":d.focusedOptionId,onKeydown:n[10]||(n[10]=(...A)=>d.onFilterKeyDown&&d.onFilterKeyDown(...A)),onBlur:n[11]||(n[11]=(...A)=>d.onFilterBlur&&d.onFilterBlur(...A)),onInput:n[12]||(n[12]=(...A)=>d.onFilterChange&&d.onFilterChange(...A))},r.filterInputProps),null,16,Pxe),rt("span",{class:rn(["p-dropdown-filter-icon",r.filterIcon])},null,2)]),rt("span",zxe,Ho(d.filterResultMessageText),1)])):Ut("",!0),rt("div",{class:"p-dropdown-items-wrapper",style:yr({"max-height":d.virtualScrollerDisabled?r.scrollHeight:""})},[Nn(w,cr({ref:d.virtualScrollerRef},r.virtualScrollerOptions,{items:d.visibleOptions,style:{height:r.scrollHeight},tabindex:-1,disabled:d.virtualScrollerDisabled}),eJ({content:is(({styleClass:A,contentRef:$,items:B,getItemOptions:H,contentStyle:le,itemSize:ke})=>[rt("ul",{ref:Ne=>d.listRef(Ne,$),id:f.id+"_list",class:rn(["p-dropdown-items",A]),style:yr(le),role:"listbox"},[(ye(!0),Pe(qn,null,Sa(B,(Ne,Se)=>(ye(),Pe(qn,{key:d.getOptionRenderKey(Ne,d.getOptionIndex(Se,H))},[d.isOptionGroup(Ne)?(ye(),Pe("li",{key:0,id:f.id+"_"+d.getOptionIndex(Se,H),style:yr({height:ke?ke+"px":void 0}),class:"p-dropdown-item-group",role:"option"},[_o(t.$slots,"optiongroup",{option:Ne.optionGroup,index:d.getOptionIndex(Se,H)},()=>[Zu(Ho(d.getOptionGroupLabel(Ne.optionGroup)),1)])],12,Lxe)):ur((ye(),Pe("li",{key:1,id:f.id+"_"+d.getOptionIndex(Se,H),style:yr({height:ke?ke+"px":void 0}),class:rn(["p-dropdown-item",{"p-highlight":d.isSelected(Ne),"p-focus":f.focusedOptionIndex===d.getOptionIndex(Se,H),"p-disabled":d.isOptionDisabled(Ne)}]),role:"option","aria-label":d.getOptionLabel(Ne),"aria-selected":d.isSelected(Ne),"aria-disabled":d.isOptionDisabled(Ne),"aria-setsize":d.ariaSetSize,"aria-posinset":d.getAriaPosInset(d.getOptionIndex(Se,H)),onClick:je=>d.onOptionSelect(je,Ne),onMousemove:je=>d.onOptionMouseMove(je,d.getOptionIndex(Se,H))},[_o(t.$slots,"option",{option:Ne,index:d.getOptionIndex(Se,H)},()=>[Zu(Ho(d.getOptionLabel(Ne)),1)])],46,Bxe)),[[T]])],64))),128)),f.filterValue&&(!B||B&&B.length===0)?(ye(),Pe("li",Fxe,[_o(t.$slots,"emptyfilter",{},()=>[Zu(Ho(d.emptyFilterMessageText),1)])])):!r.options||r.options&&r.options.length===0?(ye(),Pe("li",$xe,[_o(t.$slots,"empty",{},()=>[Zu(Ho(d.emptyMessageText),1)])])):Ut("",!0)],14,Nxe)]),_:2},[t.$slots.loader?{name:"loader",fn:is(({options:A})=>[_o(t.$slots,"loader",{options:A})]),key:"0"}:void 0]),1040,["items","style","disabled"])],4),_o(t.$slots,"footer",{value:r.modelValue,options:d.visibleOptions}),!r.options||r.options&&r.options.length===0?(ye(),Pe("span",Vxe,Ho(d.emptyMessageText),1)):Ut("",!0),rt("span",Hxe,Ho(d.selectedMessageText),1),rt("span",{ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:n[13]||(n[13]=(...A)=>d.onLastHiddenFocus&&d.onLastHiddenFocus(...A))},null,544)],16)):Ut("",!0)]),_:3},8,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo"])],10,Rxe)}function jxe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var Wxe=`
.p-dropdown {
    display: inline-flex;
    cursor: pointer;
    position: relative;
    user-select: none;
}
.p-dropdown-clear-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}
.p-dropdown-trigger {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}
.p-dropdown-label {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    flex: 1 1 auto;
    width: 1%;
    text-overflow: ellipsis;
    cursor: pointer;
}
.p-dropdown-label-empty {
    overflow: hidden;
    opacity: 0;
}
input.p-dropdown-label {
    cursor: default;
}
.p-dropdown .p-dropdown-panel {
    min-width: 100%;
}
.p-dropdown-panel {
    position: absolute;
    top: 0;
    left: 0;
}
.p-dropdown-items-wrapper {
    overflow: auto;
}
.p-dropdown-item {
    cursor: pointer;
    font-weight: normal;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
}
.p-dropdown-item-group {
    cursor: auto;
}
.p-dropdown-items {
    margin: 0;
    padding: 0;
    list-style-type: none;
}
.p-dropdown-filter {
    width: 100%;
}
.p-dropdown-filter-container {
    position: relative;
}
.p-dropdown-filter-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}
.p-fluid .p-dropdown {
    display: flex;
}
.p-fluid .p-dropdown .p-dropdown-label {
    width: 1%;
}
`;jxe(Wxe);C4.render=Uxe;var Nce={name:"InputNumber",emits:["update:modelValue","input","focus","blur"],props:{modelValue:{type:Number,default:null},format:{type:Boolean,default:!0},showButtons:{type:Boolean,default:!1},buttonLayout:{type:String,default:"stacked"},incrementButtonClass:{type:String,default:null},decrementButtonClass:{type:String,default:null},incrementButtonIcon:{type:String,default:"pi pi-angle-up"},decrementButtonIcon:{type:String,default:"pi pi-angle-down"},locale:{type:String,default:void 0},localeMatcher:{type:String,default:void 0},mode:{type:String,default:"decimal"},prefix:{type:String,default:null},suffix:{type:String,default:null},currency:{type:String,default:void 0},currencyDisplay:{type:String,default:void 0},useGrouping:{type:Boolean,default:!0},minFractionDigits:{type:Number,default:void 0},maxFractionDigits:{type:Number,default:void 0},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:1},allowEmpty:{type:Boolean,default:!0},highlightOnFocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},incrementButtonProps:{type:null,default:null},decrementButtonProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},numberFormat:null,_numeral:null,_decimal:null,_group:null,_minusSign:null,_currency:null,_suffix:null,_prefix:null,_index:null,groupChar:"",isSpecialChar:null,prefixChar:null,suffixChar:null,timer:null,data(){return{d_modelValue:this.modelValue,focused:!1}},watch:{modelValue(t){this.d_modelValue=t},locale(t,n){this.updateConstructParser(t,n)},localeMatcher(t,n){this.updateConstructParser(t,n)},mode(t,n){this.updateConstructParser(t,n)},currency(t,n){this.updateConstructParser(t,n)},currencyDisplay(t,n){this.updateConstructParser(t,n)},useGrouping(t,n){this.updateConstructParser(t,n)},minFractionDigits(t,n){this.updateConstructParser(t,n)},maxFractionDigits(t,n){this.updateConstructParser(t,n)},suffix(t,n){this.updateConstructParser(t,n)},prefix(t,n){this.updateConstructParser(t,n)}},created(){this.constructParser()},methods:{getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}},constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const t=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),n=new Map(t.map((r,u)=>[r,u]));this._numeral=new RegExp(`[${t.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>n.get(r)},updateConstructParser(t,n){t!==n&&this.constructParser()},escapeRegExp(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},getDecimalExpression(){const t=new Intl.NumberFormat(this.locale,{...this.getOptions(),useGrouping:!1});return new RegExp(`[${t.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")},getGroupingExpression(){const t=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=t.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")},getMinusSignExpression(){const t=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${t.format(-1).trim().replace(this._numeral,"")}]`,"g")},getCurrencyExpression(){if(this.currency){const t=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${t.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")},getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=t.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")},getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=t.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")},formatValue(t){if(t!=null){if(t==="-")return t;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(t);return this.prefix&&(r=this.prefix+r),this.suffix&&(r=r+this.suffix),r}return t.toString()}return""},parseValue(t){let n=t.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(n){if(n==="-")return n;let r=+n;return isNaN(r)?null:r}return null},repeat(t,n,r){if(this.readonly)return;let u=n||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(t,40,r)},u),this.spin(t,r)},spin(t,n){if(this.$refs.input){let r=this.step*n,u=this.parseValue(this.$refs.input.$el.value)||0,f=this.validateValue(u+r);this.updateInput(f,null,"spin"),this.updateModel(t,f),this.handleOnInput(t,u,f)}},onUpButtonMouseDown(t){this.disabled||(this.$refs.input.$el.focus(),this.repeat(t,null,1),t.preventDefault())},onUpButtonMouseUp(){this.disabled||this.clearTimer()},onUpButtonMouseLeave(){this.disabled||this.clearTimer()},onUpButtonKeyUp(){this.disabled||this.clearTimer()},onUpButtonKeyDown(t){(t.keyCode===32||t.keyCode===13)&&this.repeat(t,null,1)},onDownButtonMouseDown(t){this.disabled||(this.$refs.input.$el.focus(),this.repeat(t,null,-1),t.preventDefault())},onDownButtonMouseUp(){this.disabled||this.clearTimer()},onDownButtonMouseLeave(){this.disabled||this.clearTimer()},onDownButtonKeyUp(){this.disabled||this.clearTimer()},onDownButtonKeyDown(t){(t.keyCode===32||t.keyCode===13)&&this.repeat(t,null,-1)},onUserInput(){this.isSpecialChar&&(this.$refs.input.$el.value=this.lastValue),this.isSpecialChar=!1},onInputKeyDown(t){if(this.readonly)return;if(this.lastValue=t.target.value,t.shiftKey||t.altKey){this.isSpecialChar=!0;return}let n=t.target.selectionStart,r=t.target.selectionEnd,u=t.target.value,f=null;switch(t.altKey&&t.preventDefault(),t.code){case"ArrowUp":this.spin(t,1),t.preventDefault();break;case"ArrowDown":this.spin(t,-1),t.preventDefault();break;case"ArrowLeft":this.isNumeralChar(u.charAt(n-1))||t.preventDefault();break;case"ArrowRight":this.isNumeralChar(u.charAt(n))||t.preventDefault();break;case"Tab":case"Enter":f=this.validateValue(this.parseValue(u)),this.$refs.input.$el.value=this.formatValue(f),this.$refs.input.$el.setAttribute("aria-valuenow",f),this.updateModel(t,f);break;case"Backspace":{if(t.preventDefault(),n===r){const d=u.charAt(n-1),{decimalCharIndex:w,decimalCharIndexWithoutPrefix:x}=this.getDecimalCharIndexes(u);if(this.isNumeralChar(d)){const T=this.getDecimalLength(u);if(this._group.test(d))this._group.lastIndex=0,f=u.slice(0,n-2)+u.slice(n-1);else if(this._decimal.test(d))this._decimal.lastIndex=0,T?this.$refs.input.$el.setSelectionRange(n-1,n-1):f=u.slice(0,n-1)+u.slice(n);else if(w>0&&n>w){const A=this.isDecimalMode()&&(this.minFractionDigits||0)<T?"":"0";f=u.slice(0,n-1)+A+u.slice(n)}else x===1?(f=u.slice(0,n-1)+"0"+u.slice(n),f=this.parseValue(f)>0?f:""):f=u.slice(0,n-1)+u.slice(n)}this.updateValue(t,f,null,"delete-single")}else f=this.deleteRange(u,n,r),this.updateValue(t,f,null,"delete-range");break}case"Delete":if(t.preventDefault(),n===r){const d=u.charAt(n),{decimalCharIndex:w,decimalCharIndexWithoutPrefix:x}=this.getDecimalCharIndexes(u);if(this.isNumeralChar(d)){const T=this.getDecimalLength(u);if(this._group.test(d))this._group.lastIndex=0,f=u.slice(0,n)+u.slice(n+2);else if(this._decimal.test(d))this._decimal.lastIndex=0,T?this.$refs.input.$el.setSelectionRange(n+1,n+1):f=u.slice(0,n)+u.slice(n+1);else if(w>0&&n>w){const A=this.isDecimalMode()&&(this.minFractionDigits||0)<T?"":"0";f=u.slice(0,n)+A+u.slice(n+1)}else x===1?(f=u.slice(0,n)+"0"+u.slice(n+1),f=this.parseValue(f)>0?f:""):f=u.slice(0,n)+u.slice(n+1)}this.updateValue(t,f,null,"delete-back-single")}else f=this.deleteRange(u,n,r),this.updateValue(t,f,null,"delete-range");break;case"Home":this.min&&(this.updateModel(t,this.min),t.preventDefault());break;case"End":this.max&&(this.updateModel(t,this.max),t.preventDefault());break}},onInputKeyPress(t){if(this.readonly)return;t.preventDefault();let n=t.which||t.keyCode,r=String.fromCharCode(n);const u=this.isDecimalSign(r),f=this.isMinusSign(r);(48<=n&&n<=57||f||u)&&this.insert(t,r,{isDecimalSign:u,isMinusSign:f})},onPaste(t){t.preventDefault();let n=(t.clipboardData||window.clipboardData).getData("Text");if(n){let r=this.parseValue(n);r!=null&&this.insert(t,r.toString())}},allowMinusSign(){return this.min===null||this.min<0},isMinusSign(t){return this._minusSign.test(t)||t==="-"?(this._minusSign.lastIndex=0,!0):!1},isDecimalSign(t){return this._decimal.test(t)?(this._decimal.lastIndex=0,!0):!1},isDecimalMode(){return this.mode==="decimal"},getDecimalCharIndexes(t){let n=t.search(this._decimal);this._decimal.lastIndex=0;const u=t.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:n,decimalCharIndexWithoutPrefix:u}},getCharIndexes(t){const n=t.search(this._decimal);this._decimal.lastIndex=0;const r=t.search(this._minusSign);this._minusSign.lastIndex=0;const u=t.search(this._suffix);this._suffix.lastIndex=0;const f=t.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:n,minusCharIndex:r,suffixCharIndex:u,currencyCharIndex:f}},insert(t,n,r={isDecimalSign:!1,isMinusSign:!1}){const u=n.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&u!==-1)return;const f=this.$refs.input.$el.selectionStart,d=this.$refs.input.$el.selectionEnd;let w=this.$refs.input.$el.value.trim();const{decimalCharIndex:x,minusCharIndex:T,suffixCharIndex:A,currencyCharIndex:$}=this.getCharIndexes(w);let B;if(r.isMinusSign)f===0&&(B=w,(T===-1||d!==0)&&(B=this.insertText(w,n,0,d)),this.updateValue(t,B,n,"insert"));else if(r.isDecimalSign)x>0&&f===x?this.updateValue(t,w,n,"insert"):x>f&&x<d?(B=this.insertText(w,n,f,d),this.updateValue(t,B,n,"insert")):x===-1&&this.maxFractionDigits&&(B=this.insertText(w,n,f,d),this.updateValue(t,B,n,"insert"));else{const H=this.numberFormat.resolvedOptions().maximumFractionDigits,le=f!==d?"range-insert":"insert";if(x>0&&f>x){if(f+n.length-(x+1)<=H){const ke=$>=f?$-1:A>=f?A:w.length;B=w.slice(0,f)+n+w.slice(f+n.length,ke)+w.slice(ke),this.updateValue(t,B,n,le)}}else B=this.insertText(w,n,f,d),this.updateValue(t,B,n,le)}},insertText(t,n,r,u){if((n==="."?n:n.split(".")).length===2){const d=t.slice(r,u).search(this._decimal);return this._decimal.lastIndex=0,d>0?t.slice(0,r)+this.formatValue(n)+t.slice(u):t||this.formatValue(n)}else return u-r===t.length?this.formatValue(n):r===0?n+t.slice(u):u===t.length?t.slice(0,r)+n:t.slice(0,r)+n+t.slice(u)},deleteRange(t,n,r){let u;return r-n===t.length?u="":n===0?u=t.slice(r):r===t.length?u=t.slice(0,n):u=t.slice(0,n)+t.slice(r),u},initCursor(){let t=this.$refs.input.$el.selectionStart,n=this.$refs.input.$el.value,r=n.length,u=null,f=(this.prefixChar||"").length;n=n.replace(this._prefix,""),t=t-f;let d=n.charAt(t);if(this.isNumeralChar(d))return t+f;let w=t-1;for(;w>=0;)if(d=n.charAt(w),this.isNumeralChar(d)){u=w+f;break}else w--;if(u!==null)this.$refs.input.$el.setSelectionRange(u+1,u+1);else{for(w=t;w<r;)if(d=n.charAt(w),this.isNumeralChar(d)){u=w+f;break}else w++;u!==null&&this.$refs.input.$el.setSelectionRange(u,u)}return u||0},onInputClick(){const t=this.$refs.input.$el.value;!this.readonly&&t!==Ge.getSelection()&&this.initCursor()},isNumeralChar(t){return t.length===1&&(this._numeral.test(t)||this._decimal.test(t)||this._group.test(t)||this._minusSign.test(t))?(this.resetRegex(),!0):!1},resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0},updateValue(t,n,r,u){let f=this.$refs.input.$el.value,d=null;n!=null&&(d=this.parseValue(n),d=!d&&!this.allowEmpty?0:d,this.updateInput(d,r,u,n),this.handleOnInput(t,f,d))},handleOnInput(t,n,r){this.isValueChanged(n,r)&&this.$emit("input",{originalEvent:t,value:r,formattedValue:n})},isValueChanged(t,n){if(n===null&&t!==null)return!0;if(n!=null){let r=typeof t=="string"?this.parseValue(t):t;return n!==r}return!1},validateValue(t){return t==="-"||t==null?null:this.min!=null&&t<this.min?this.min:this.max!=null&&t>this.max?this.max:t},updateInput(t,n,r,u){n=n||"";let f=this.$refs.input.$el.value,d=this.formatValue(t),w=f.length;if(d!==u&&(d=this.concatValues(d,u)),w===0){this.$refs.input.$el.value=d,this.$refs.input.$el.setSelectionRange(0,0);const T=this.initCursor()+n.length;this.$refs.input.$el.setSelectionRange(T,T)}else{let x=this.$refs.input.$el.selectionStart,T=this.$refs.input.$el.selectionEnd;this.$refs.input.$el.value=d;let A=d.length;if(r==="range-insert"){const $=this.parseValue((f||"").slice(0,x)),H=($!==null?$.toString():"").split("").join(`(${this.groupChar})?`),le=new RegExp(H,"g");le.test(d);const ke=n.split("").join(`(${this.groupChar})?`),Ne=new RegExp(ke,"g");Ne.test(d.slice(le.lastIndex)),T=le.lastIndex+Ne.lastIndex,this.$refs.input.$el.setSelectionRange(T,T)}else if(A===w)r==="insert"||r==="delete-back-single"?this.$refs.input.$el.setSelectionRange(T+1,T+1):r==="delete-single"?this.$refs.input.$el.setSelectionRange(T-1,T-1):(r==="delete-range"||r==="spin")&&this.$refs.input.$el.setSelectionRange(T,T);else if(r==="delete-back-single"){let $=f.charAt(T-1),B=f.charAt(T),H=w-A,le=this._group.test(B);le&&H===1?T+=1:!le&&this.isNumeralChar($)&&(T+=-1*H+1),this._group.lastIndex=0,this.$refs.input.$el.setSelectionRange(T,T)}else if(f==="-"&&r==="insert"){this.$refs.input.$el.setSelectionRange(0,0);const B=this.initCursor()+n.length+1;this.$refs.input.$el.setSelectionRange(B,B)}else T=T+(A-w),this.$refs.input.$el.setSelectionRange(T,T)}this.$refs.input.$el.setAttribute("aria-valuenow",t)},concatValues(t,n){if(t&&n){let r=n.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?t.replace(this.suffixChar,"").split(this._decimal)[0]+n.replace(this.suffixChar,"").slice(r)+this.suffixChar:r!==-1?t.split(this._decimal)[0]+n.slice(r):t}return t},getDecimalLength(t){if(t){const n=t.split(this._decimal);if(n.length===2)return n[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0},updateModel(t,n){this.d_modelValue=n,this.$emit("update:modelValue",n)},onInputFocus(t){this.focused=!0,!this.disabled&&!this.readonly&&this.$refs.input.$el.value!==Ge.getSelection()&&this.highlightOnFocus&&t.target.select(),this.$emit("focus",t)},onInputBlur(t){this.focused=!1;let n=t.target,r=this.validateValue(this.parseValue(n.value));this.$emit("blur",{originalEvent:t,value:n.value}),n.value=this.formatValue(r),n.setAttribute("aria-valuenow",r),this.updateModel(t,r)},clearTimer(){this.timer&&clearInterval(this.timer)},maxBoundry(){return this.d_modelValue>=this.max},minBoundry(){return this.d_modelValue<=this.min}},computed:{containerClass(){return["p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":this.filled,"p-inputwrapper-focus":this.focused,"p-inputnumber-buttons-stacked":this.showButtons&&this.buttonLayout==="stacked","p-inputnumber-buttons-horizontal":this.showButtons&&this.buttonLayout==="horizontal","p-inputnumber-buttons-vertical":this.showButtons&&this.buttonLayout==="vertical"}]},upButtonClass(){return["p-inputnumber-button p-inputnumber-button-up",this.incrementButtonClass,{"p-disabled":this.showButtons&&this.max!==null&&this.maxBoundry()}]},downButtonClass(){return["p-inputnumber-button p-inputnumber-button-down",this.decrementButtonClass,{"p-disabled":this.showButtons&&this.min!==null&&this.minBoundry()}]},filled(){return this.modelValue!=null&&this.modelValue.toString().length>0},upButtonListeners(){return{mousedown:t=>this.onUpButtonMouseDown(t),mouseup:t=>this.onUpButtonMouseUp(t),mouseleave:t=>this.onUpButtonMouseLeave(t),keydown:t=>this.onUpButtonKeyDown(t),keyup:t=>this.onUpButtonKeyUp(t)}},downButtonListeners(){return{mousedown:t=>this.onDownButtonMouseDown(t),mouseup:t=>this.onDownButtonMouseUp(t),mouseleave:t=>this.onDownButtonMouseLeave(t),keydown:t=>this.onDownButtonKeyDown(t),keyup:t=>this.onDownButtonKeyUp(t)}},formattedValue(){const t=!this.modelValue&&!this.allowEmpty?0:this.modelValue;return this.formatValue(t)},getFormatter(){return this.numberFormat}},components:{INInputText:O7,INButton:oA}};const Zxe={key:0,class:"p-inputnumber-button-group"};function Gxe(t,n,r,u,f,d){const w=Dn("INInputText"),x=Dn("INButton");return ye(),Pe("span",{class:rn(d.containerClass)},[Nn(w,cr({ref:"input",id:r.inputId,class:["p-inputnumber-input",r.inputClass],role:"spinbutton",style:r.inputStyle,value:d.formattedValue,"aria-valuemin":r.min,"aria-valuemax":r.max,"aria-valuenow":r.modelValue,disabled:r.disabled,readonly:r.readonly,placeholder:r.placeholder,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,onInput:d.onUserInput,onKeydown:d.onInputKeyDown,onKeypress:d.onInputKeyPress,onPaste:d.onPaste,onClick:d.onInputClick,onFocus:d.onInputFocus,onBlur:d.onInputBlur},r.inputProps),null,16,["id","class","style","value","aria-valuemin","aria-valuemax","aria-valuenow","disabled","readonly","placeholder","aria-labelledby","aria-label","onInput","onKeydown","onKeypress","onPaste","onClick","onFocus","onBlur"]),r.showButtons&&r.buttonLayout==="stacked"?(ye(),Pe("span",Zxe,[Nn(x,cr({class:d.upButtonClass,icon:r.incrementButtonIcon},J8(d.upButtonListeners),{disabled:r.disabled,tabindex:-1,"aria-hidden":"true"},r.incrementButtonProps),null,16,["class","icon","disabled"]),Nn(x,cr({class:d.downButtonClass,icon:r.decrementButtonIcon},J8(d.downButtonListeners),{disabled:r.disabled,tabindex:-1,"aria-hidden":"true"},r.decrementButtonProps),null,16,["class","icon","disabled"])])):Ut("",!0),r.showButtons&&r.buttonLayout!=="stacked"?(ye(),Mn(x,cr({key:1,class:d.upButtonClass,icon:r.incrementButtonIcon},J8(d.upButtonListeners),{disabled:r.disabled,tabindex:-1,"aria-hidden":"true"},r.incrementButtonProps),null,16,["class","icon","disabled"])):Ut("",!0),r.showButtons&&r.buttonLayout!=="stacked"?(ye(),Mn(x,cr({key:2,class:d.downButtonClass,icon:r.decrementButtonIcon},J8(d.downButtonListeners),{disabled:r.disabled,tabindex:-1,"aria-hidden":"true"},r.decrementButtonProps),null,16,["class","icon","disabled"])):Ut("",!0)],2)}function qxe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var Kxe=`
.p-inputnumber {
    display: inline-flex;
}
.p-inputnumber-button {
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 0 0 auto;
}
.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,
.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label {
    display: none;
}
.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
    padding: 0;
}
.p-inputnumber-buttons-stacked .p-inputnumber-input {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}
.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down {
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    border-bottom-left-radius: 0;
    padding: 0;
}
.p-inputnumber-buttons-stacked .p-inputnumber-button-group {
    display: flex;
    flex-direction: column;
}
.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button {
    flex: 1 1 auto;
}
.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up {
    order: 3;
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}
.p-inputnumber-buttons-horizontal .p-inputnumber-input {
    order: 2;
    border-radius: 0;
}
.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down {
    order: 1;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}
.p-inputnumber-buttons-vertical {
    flex-direction: column;
}
.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up {
    order: 1;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
    width: 100%;
}
.p-inputnumber-buttons-vertical .p-inputnumber-input {
    order: 2;
    border-radius: 0;
    text-align: center;
}
.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down {
    order: 3;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    width: 100%;
}
.p-inputnumber-input {
    flex: 1 1 auto;
}
.p-fluid .p-inputnumber {
    width: 100%;
}
.p-fluid .p-inputnumber .p-inputnumber-input {
    width: 1%;
}
.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input {
    width: 100%;
}
`;qxe(Kxe);Nce.render=Gxe;var Lce={name:"CurrentPageReport",props:{pageCount:{type:Number,default:0},currentPage:{type:Number,default:0},page:{type:Number,default:0},first:{type:Number,default:0},rows:{type:Number,default:0},totalRecords:{type:Number,default:0},template:{type:String,default:"({currentPage} of {totalPages})"}},computed:{text(){return this.template.replace("{currentPage}",this.currentPage).replace("{totalPages}",this.pageCount).replace("{first}",this.pageCount>0?this.first+1:0).replace("{last}",Math.min(this.first+this.rows,this.totalRecords)).replace("{rows}",this.rows).replace("{totalRecords}",this.totalRecords)}}};const Yxe={class:"p-paginator-current"};function Xxe(t,n,r,u,f,d){return ye(),Pe("span",Yxe,Ho(d.text),1)}Lce.render=Xxe;var Bce={name:"FirstPageLink",computed:{containerClass(){return["p-paginator-first p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:du}};const Jxe=rt("span",{class:"p-paginator-icon pi pi-angle-double-left"},null,-1),Qxe=[Jxe];function eEe(t,n,r,u,f,d){const w=Ii("ripple");return ur((ye(),Pe("button",{class:rn(d.containerClass),type:"button"},Qxe,2)),[[w]])}Bce.render=eEe;var Fce={name:"JumpToPageDropdown",emits:["page-change"],props:{page:Number,pageCount:Number,disabled:Boolean},methods:{onChange(t){this.$emit("page-change",t)}},computed:{pageOptions(){let t=[];for(let n=0;n<this.pageCount;n++)t.push({label:String(n+1),value:n});return t}},components:{JTPDropdown:C4}};function tEe(t,n,r,u,f,d){const w=Dn("JTPDropdown");return ye(),Mn(w,{modelValue:r.page,options:d.pageOptions,optionLabel:"label",optionValue:"value","onUpdate:modelValue":n[0]||(n[0]=x=>d.onChange(x)),class:"p-paginator-page-options",disabled:r.disabled},null,8,["modelValue","options","disabled"])}Fce.render=tEe;var $ce={name:"JumpToPageInput",inheritAttrs:!1,emits:["page-change"],props:{page:Number,pageCount:Number,disabled:Boolean},data(){return{d_page:this.page}},watch:{page(t){this.d_page=t}},methods:{onChange(t){t!==this.page&&(this.d_page=t,this.$emit("page-change",t-1))}},computed:{inputArialabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.jumpToPageInputLabel:void 0}},components:{JTPInput:Nce}};function nEe(t,n,r,u,f,d){const w=Dn("JTPInput");return ye(),Mn(w,{ref:"jtpInput",modelValue:f.d_page,class:"p-paginator-page-input","aria-label":d.inputArialabel,disabled:r.disabled,"onUpdate:modelValue":d.onChange},null,8,["modelValue","aria-label","disabled","onUpdate:modelValue"])}$ce.render=nEe;var Vce={name:"LastPageLink",computed:{containerClass(){return["p-paginator-last p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:du}};const oEe=rt("span",{class:"p-paginator-icon pi pi-angle-double-right"},null,-1),sEe=[oEe];function rEe(t,n,r,u,f,d){const w=Ii("ripple");return ur((ye(),Pe("button",{class:rn(d.containerClass),type:"button"},sEe,2)),[[w]])}Vce.render=rEe;var Hce={name:"NextPageLink",computed:{containerClass(){return["p-paginator-next p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:du}};const aEe=rt("span",{class:"p-paginator-icon pi pi-angle-right"},null,-1),iEe=[aEe];function lEe(t,n,r,u,f,d){const w=Ii("ripple");return ur((ye(),Pe("button",{class:rn(d.containerClass),type:"button"},iEe,2)),[[w]])}Hce.render=lEe;var Uce={name:"PageLinks",inheritAttrs:!1,emits:["click"],props:{value:Array,page:Number},methods:{onPageLinkClick(t,n){this.$emit("click",{originalEvent:t,value:n})},ariaPageLabel(t){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.pageLabel.replace(/{page}/g,t):void 0}},computed:{},directives:{ripple:du}};const cEe={class:"p-paginator-pages"},uEe=["aria-label","aria-current","onClick"];function dEe(t,n,r,u,f,d){const w=Ii("ripple");return ye(),Pe("span",cEe,[(ye(!0),Pe(qn,null,Sa(r.value,x=>ur((ye(),Pe("button",{key:x,class:rn(["p-paginator-page p-paginator-element p-link",{"p-highlight":x-1===r.page}]),type:"button","aria-label":d.ariaPageLabel(x),"aria-current":x-1===r.page?"page":void 0,onClick:T=>d.onPageLinkClick(T,x)},[Zu(Ho(x),1)],10,uEe)),[[w]])),128))])}Uce.render=dEe;var jce={name:"PrevPageLink",computed:{containerClass(){return["p-paginator-prev p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:du}};const fEe=rt("span",{class:"p-paginator-icon pi pi-angle-left"},null,-1),hEe=[fEe];function mEe(t,n,r,u,f,d){const w=Ii("ripple");return ur((ye(),Pe("button",{class:rn(d.containerClass),type:"button"},hEe,2)),[[w]])}jce.render=mEe;var Wce={name:"RowsPerPageDropdown",emits:["rows-change"],props:{options:Array,rows:Number,disabled:Boolean},methods:{onChange(t){this.$emit("rows-change",t)}},computed:{rowsOptions(){let t=[];if(this.options)for(let n=0;n<this.options.length;n++)t.push({label:String(this.options[n]),value:this.options[n]});return t}},components:{RPPDropdown:C4}};function pEe(t,n,r,u,f,d){const w=Dn("RPPDropdown");return ye(),Mn(w,{modelValue:r.rows,options:d.rowsOptions,optionLabel:"label",optionValue:"value","onUpdate:modelValue":n[0]||(n[0]=x=>d.onChange(x)),class:"p-paginator-rpp-options",disabled:r.disabled},null,8,["modelValue","options","disabled"])}Wce.render=pEe;var Zce={name:"Paginator",emits:["update:first","update:rows","page"],props:{totalRecords:{type:Number,default:0},rows:{type:Number,default:0},first:{type:Number,default:0},pageLinkSize:{type:Number,default:5},rowsPerPageOptions:{type:Array,default:null},template:{type:[Object,String],default:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},currentPageReportTemplate:{type:null,default:"({currentPage} of {totalPages})"},alwaysShow:{type:Boolean,default:!0}},data(){return{d_first:this.first,d_rows:this.rows}},watch:{first(t){this.d_first=t},rows(t){this.d_rows=t},totalRecords(t){this.page>0&&t&&this.d_first>=t&&this.changePage(this.pageCount-1)}},mounted(){this.setPaginatorAttribute(),this.createStyle()},methods:{changePage(t){const n=this.pageCount;if(t>=0&&t<n){this.d_first=this.d_rows*t;const r={page:t,first:this.d_first,rows:this.d_rows,pageCount:n};this.$emit("update:first",this.d_first),this.$emit("update:rows",this.d_rows),this.$emit("page",r)}},changePageToFirst(t){this.isFirstPage||this.changePage(0),t.preventDefault()},changePageToPrev(t){this.changePage(this.page-1),t.preventDefault()},changePageLink(t){this.changePage(t.value-1),t.originalEvent.preventDefault()},changePageToNext(t){this.changePage(this.page+1),t.preventDefault()},changePageToLast(t){this.isLastPage||this.changePage(this.pageCount-1),t.preventDefault()},onRowChange(t){this.d_rows=t,this.changePage(this.page)},createStyle(){if(this.hasBreakpoints()){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";const n=Object.keys(this.template),r={};n.sort((u,f)=>parseInt(u)-parseInt(f)).forEach(u=>{r[u]=this.template[u]});for(const[u,[f]]of Object.entries(Object.entries(r))){const d=Object.entries(r)[u-1]?`and (min-width:${Object.keys(r)[u-1]})`:"";f==="default"?t+=`
                            @media screen ${d} {
                                .paginator[${this.attributeSelector}],
                                .p-paginator-default{
                                    display: flex !important;
                                }
                            }
                        `:t+=`
                        .paginator[${this.attributeSelector}], .p-paginator-${f} {
                                display: none !important;
                            }
                        @media screen ${d} and (max-width: ${f}) {
                            .paginator[${this.attributeSelector}], .p-paginator-${f} {
                                display: flex !important;
                            }
                            .paginator[${this.attributeSelector}],
                            .p-paginator-default{
                                display: none !important;
                            }
                        }
                    `}this.styleElement.innerHTML=t}},hasBreakpoints(){return typeof this.template=="object"},getPaginatorClasses(t){return[{"p-paginator-default":!this.hasBreakpoints(),[`p-paginator-${t}`]:this.hasBreakpoints()}]},setPaginatorAttribute(){this.$refs.paginator&&this.$refs.paginator.length>=0&&[...this.$refs.paginator].forEach(t=>{t.setAttribute(this.attributeSelector,"")})},getAriaLabel(t){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[t]:void 0}},computed:{templateItems(){let t={};if(this.hasBreakpoints()){t=this.template,t.default||(t.default="FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown");for(const n in t)t[n]=this.template[n].split(" ").map(r=>r.trim());return t}return t.default=this.template.split(" ").map(n=>n.trim()),t},page(){return Math.floor(this.d_first/this.d_rows)},pageCount(){return Math.ceil(this.totalRecords/this.d_rows)},isFirstPage(){return this.page===0},isLastPage(){return this.page===this.pageCount-1},calculatePageLinkBoundaries(){const t=this.pageCount,n=Math.min(this.pageLinkSize,t);let r=Math.max(0,Math.ceil(this.page-n/2)),u=Math.min(t-1,r+n-1);const f=this.pageLinkSize-(u-r+1);return r=Math.max(0,r-f),[r,u]},pageLinks(){let t=[],n=this.calculatePageLinkBoundaries,r=n[0],u=n[1];for(var f=r;f<=u;f++)t.push(f+1);return t},currentState(){return{page:this.page,first:this.d_first,rows:this.d_rows}},empty(){return this.pageCount===0},currentPage(){return this.pageCount>0?this.page+1:0},attributeSelector(){return Gu()}},components:{CurrentPageReport:Lce,FirstPageLink:Bce,LastPageLink:Vce,NextPageLink:Hce,PageLinks:Uce,PrevPageLink:jce,RowsPerPageDropdown:Wce,JumpToPageDropdown:Fce,JumpToPageInput:$ce}};const gEe={key:0},yEe={key:0,class:"p-paginator-left-content"},bEe={key:1,class:"p-paginator-right-content"};function vEe(t,n,r,u,f,d){const w=Dn("FirstPageLink"),x=Dn("PrevPageLink"),T=Dn("NextPageLink"),A=Dn("LastPageLink"),$=Dn("PageLinks"),B=Dn("CurrentPageReport"),H=Dn("RowsPerPageDropdown"),le=Dn("JumpToPageDropdown"),ke=Dn("JumpToPageInput");return r.alwaysShow||d.pageLinks&&d.pageLinks.length>1?(ye(),Pe("nav",gEe,[(ye(!0),Pe(qn,null,Sa(d.templateItems,(Ne,Se)=>(ye(),Pe("div",{key:Se,ref_for:!0,ref:"paginator",class:rn(["p-paginator p-component",d.getPaginatorClasses(Se)])},[t.$slots.start?(ye(),Pe("div",yEe,[_o(t.$slots,"start",{state:d.currentState})])):Ut("",!0),(ye(!0),Pe(qn,null,Sa(Ne,je=>(ye(),Pe(qn,{key:je},[je==="FirstPageLink"?(ye(),Mn(w,{key:0,"aria-label":d.getAriaLabel("firstPageLabel"),onClick:n[0]||(n[0]=gt=>d.changePageToFirst(gt)),disabled:d.isFirstPage||d.empty},null,8,["aria-label","disabled"])):je==="PrevPageLink"?(ye(),Mn(x,{key:1,"aria-label":d.getAriaLabel("prevPageLabel"),onClick:n[1]||(n[1]=gt=>d.changePageToPrev(gt)),disabled:d.isFirstPage||d.empty},null,8,["aria-label","disabled"])):je==="NextPageLink"?(ye(),Mn(T,{key:2,"aria-label":d.getAriaLabel("nextPageLabel"),onClick:n[2]||(n[2]=gt=>d.changePageToNext(gt)),disabled:d.isLastPage||d.empty},null,8,["aria-label","disabled"])):je==="LastPageLink"?(ye(),Mn(A,{key:3,"aria-label":d.getAriaLabel("lastPageLabel"),onClick:n[3]||(n[3]=gt=>d.changePageToLast(gt)),disabled:d.isLastPage||d.empty},null,8,["aria-label","disabled"])):je==="PageLinks"?(ye(),Mn($,{key:4,"aria-label":d.getAriaLabel("pageLabel"),value:d.pageLinks,page:d.page,onClick:n[4]||(n[4]=gt=>d.changePageLink(gt))},null,8,["aria-label","value","page"])):je==="CurrentPageReport"?(ye(),Mn(B,{key:5,"aria-live":"polite",template:r.currentPageReportTemplate,currentPage:d.currentPage,page:d.page,pageCount:d.pageCount,first:f.d_first,rows:f.d_rows,totalRecords:r.totalRecords},null,8,["template","currentPage","page","pageCount","first","rows","totalRecords"])):je==="RowsPerPageDropdown"&&r.rowsPerPageOptions?(ye(),Mn(H,{key:6,"aria-label":d.getAriaLabel("rowsPerPageLabel"),rows:f.d_rows,options:r.rowsPerPageOptions,onRowsChange:n[5]||(n[5]=gt=>d.onRowChange(gt)),disabled:d.empty},null,8,["aria-label","rows","options","disabled"])):je==="JumpToPageDropdown"?(ye(),Mn(le,{key:7,"aria-label":d.getAriaLabel("jumpToPageDropdownLabel"),page:d.page,pageCount:d.pageCount,onPageChange:n[6]||(n[6]=gt=>d.changePage(gt)),disabled:d.empty},null,8,["aria-label","page","pageCount","disabled"])):je==="JumpToPageInput"?(ye(),Mn(ke,{key:8,page:d.currentPage,onPageChange:n[7]||(n[7]=gt=>d.changePage(gt)),disabled:d.empty},null,8,["page","disabled"])):Ut("",!0)],64))),128)),t.$slots.end?(ye(),Pe("div",bEe,[_o(t.$slots,"end",{state:d.currentState})])):Ut("",!0)],2))),128))])):Ut("",!0)}function wEe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var _Ee=`
.p-paginator-default {
    display: flex;
}
.p-paginator {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
}
.p-paginator-left-content {
    margin-right: auto;
}
.p-paginator-right-content {
    margin-left: auto;
}
.p-paginator-page,
.p-paginator-next,
.p-paginator-last,
.p-paginator-first,
.p-paginator-prev,
.p-paginator-current {
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    user-select: none;
    overflow: hidden;
    position: relative;
}
.p-paginator-element:focus {
    z-index: 1;
    position: relative;
}
`;wEe(_Ee);Zce.render=vEe;var Gce={name:"RowCheckbox",emits:["change"],props:{value:null,checked:null},data(){return{focused:!1}},methods:{onClick(t){this.$attrs.disabled||(this.$emit("change",{originalEvent:t,data:this.value}),Ge.focus(this.$refs.input)),t.preventDefault()},onFocus(){this.focused=!0},onBlur(){this.focused=!1},onKeydown(t){switch(t.code){case"Space":{this.onClick(t);break}}}},computed:{checkboxAriaLabel(){return this.$primevue.config.locale.aria?this.checked?this.$primevue.config.locale.aria.selectRow:this.$primevue.config.locale.aria.unselectRow:void 0}}};const kEe={class:"p-hidden-accessible"},CEe=["checked","disabled","tabindex","aria-label"];function SEe(t,n,r,u,f,d){return ye(),Pe("div",{class:rn(["p-checkbox p-component",{"p-checkbox-focused":f.focused}]),onClick:n[3]||(n[3]=(...w)=>d.onClick&&d.onClick(...w))},[rt("div",kEe,[rt("input",{ref:"input",type:"checkbox",checked:r.checked,disabled:t.$attrs.disabled,tabindex:t.$attrs.disabled?null:"0","aria-label":d.checkboxAriaLabel,onFocus:n[0]||(n[0]=w=>d.onFocus(w)),onBlur:n[1]||(n[1]=w=>d.onBlur(w)),onKeydown:n[2]||(n[2]=(...w)=>d.onKeydown&&d.onKeydown(...w))},null,40,CEe)]),rt("div",{ref:"box",class:rn(["p-checkbox-box p-component",{"p-highlight":r.checked,"p-disabled":t.$attrs.disabled,"p-focus":f.focused}])},[rt("span",{class:rn(["p-checkbox-icon",{"pi pi-check":r.checked}])},null,2)],2)],2)}Gce.render=SEe;var qce={name:"RowRadioButton",inheritAttrs:!1,emits:["change"],props:{value:null,checked:null,name:null},data(){return{focused:!1}},methods:{onClick(t){this.disabled||this.checked||(this.$emit("change",{originalEvent:t,data:this.value}),Ge.focus(this.$refs.input))},onFocus(){this.focused=!0},onBlur(){this.focused=!1}}};const xEe={class:"p-hidden-accessible"},EEe=["checked","disabled","name"],TEe=rt("div",{class:"p-radiobutton-icon"},null,-1),REe=[TEe];function IEe(t,n,r,u,f,d){return ye(),Pe("div",{class:rn(["p-radiobutton p-component",{"p-radiobutton-focused":f.focused}]),onClick:n[3]||(n[3]=(...w)=>d.onClick&&d.onClick(...w))},[rt("div",xEe,[rt("input",{ref:"input",type:"radio",checked:r.checked,disabled:t.$attrs.disabled,name:r.name,tabindex:"0",onFocus:n[0]||(n[0]=w=>d.onFocus(w)),onBlur:n[1]||(n[1]=w=>d.onBlur(w)),onKeydown:n[2]||(n[2]=ix(yQ((...w)=>d.onClick&&d.onClick(...w),["prevent"]),["space"]))},null,40,EEe)]),rt("div",{ref:"box",class:rn(["p-radiobutton-box p-component",{"p-highlight":r.checked,"p-disabled":t.$attrs.disabled,"p-focus":f.focused}])},REe,2)],2)}qce.render=IEe;var Kce={name:"BodyCell",emits:["cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","row-toggle","radio-change","checkbox-change","editing-meta-change"],props:{rowData:{type:Object,default:null},column:{type:Object,default:null},frozenRow:{type:Boolean,default:!1},rowIndex:{type:Number,default:null},index:{type:Number,default:null},rowTogglerIcon:{type:Array,default:null},selected:{type:Boolean,default:!1},editing:{type:Boolean,default:!1},editingMeta:{type:Object,default:null},editMode:{type:String,default:null},responsiveLayout:{type:String,default:"stack"},virtualScrollerContentProps:{type:Object,default:null},ariaControls:{type:String,default:null},name:{type:String,default:null}},documentEditListener:null,selfClick:!1,overlayEventListener:null,data(){return{d_editing:this.editing,styleObject:{},isRowExpanded:!1}},watch:{editing(t){this.d_editing=t},"$data.d_editing":function(t){this.$emit("editing-meta-change",{data:this.rowData,field:this.field||`field_${this.index}`,index:this.rowIndex,editing:t})}},mounted(){this.columnProp("frozen")&&this.updateStickyPosition()},updated(){this.columnProp("frozen")&&this.updateStickyPosition(),this.d_editing&&(this.editMode==="cell"||this.editMode==="row"&&this.columnProp("rowEditor"))&&setTimeout(()=>{const t=Ge.getFirstFocusableElement(this.$el);t&&t.focus()},1)},beforeUnmount(){this.overlayEventListener&&(Ud.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null)},methods:{columnProp(t){return An.getVNodeProp(this.column,t)},resolveFieldData(){return An.resolveFieldData(this.rowData,this.field)},toggleRow(t){this.isRowExpanded=!this.isRowExpanded,this.$emit("row-toggle",{originalEvent:t,data:this.rowData})},toggleRowWithRadio(t,n){this.$emit("radio-change",{originalEvent:t.originalEvent,index:n,data:t.data})},toggleRowWithCheckbox(t,n){this.$emit("checkbox-change",{originalEvent:t.originalEvent,index:n,data:t.data})},isEditable(){return this.column.children&&this.column.children.editor!=null},bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=t=>{this.selfClick||this.completeEdit(t,"outside"),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))},unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null,this.selfClick=!1)},switchCellToViewMode(){this.d_editing=!1,this.unbindDocumentEditListener(),Ud.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null},onClick(t){this.editMode==="cell"&&this.isEditable()&&(this.selfClick=!0,this.d_editing||(this.d_editing=!0,this.bindDocumentEditListener(),this.$emit("cell-edit-init",{originalEvent:t,data:this.rowData,field:this.field,index:this.rowIndex}),this.overlayEventListener=n=>{this.$el&&this.$el.contains(n.target)&&(this.selfClick=!0)},Ud.on("overlay-click",this.overlayEventListener)))},completeEdit(t,n){const r={originalEvent:t,data:this.rowData,newData:this.editingRowData,value:this.rowData[this.field],newValue:this.editingRowData[this.field],field:this.field,index:this.rowIndex,type:n,defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0}};this.$emit("cell-edit-complete",r),r.defaultPrevented||this.switchCellToViewMode()},onKeyDown(t){if(this.editMode==="cell")switch(t.code){case"Enter":this.completeEdit(t,"enter");break;case"Escape":this.switchCellToViewMode(),this.$emit("cell-edit-cancel",{originalEvent:t,data:this.rowData,field:this.field,index:this.rowIndex});break;case"Tab":this.completeEdit(t,"tab"),t.shiftKey?this.moveToPreviousCell(t):this.moveToNextCell(t);break}},moveToPreviousCell(t){let n=this.findCell(t.target),r=this.findPreviousEditableColumn(n);r&&(Ge.invokeElementMethod(r,"click"),t.preventDefault())},moveToNextCell(t){let n=this.findCell(t.target),r=this.findNextEditableColumn(n);r&&(Ge.invokeElementMethod(r,"click"),t.preventDefault())},findCell(t){if(t){let n=t;for(;n&&!Ge.hasClass(n,"p-cell-editing");)n=n.parentElement;return n}else return null},findPreviousEditableColumn(t){let n=t.previousElementSibling;if(!n){let r=t.parentElement.previousElementSibling;r&&(n=r.lastElementChild)}return n?Ge.hasClass(n,"p-editable-column")?n:this.findPreviousEditableColumn(n):null},findNextEditableColumn(t){let n=t.nextElementSibling;if(!n){let r=t.parentElement.nextElementSibling;r&&(n=r.firstElementChild)}return n?Ge.hasClass(n,"p-editable-column")?n:this.findNextEditableColumn(n):null},isEditingCellValid(){return Ge.find(this.$el,".p-invalid").length===0},onRowEditInit(t){this.$emit("row-edit-init",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},onRowEditSave(t){this.$emit("row-edit-save",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},onRowEditCancel(t){this.$emit("row-edit-cancel",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},editorInitCallback(t){this.$emit("row-edit-init",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},editorSaveCallback(t){this.editMode==="row"?this.$emit("row-edit-save",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex}):this.completeEdit(t,"enter")},editorCancelCallback(t){this.editMode==="row"?this.$emit("row-edit-cancel",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex}):(this.switchCellToViewMode(),this.$emit("cell-edit-cancel",{originalEvent:t,data:this.rowData,field:this.field,index:this.rowIndex}))},updateStickyPosition(){if(this.columnProp("frozen"))if(this.columnProp("alignFrozen")==="right"){let n=0,r=this.$el.nextElementSibling;r&&(n=Ge.getOuterWidth(r)+parseFloat(r.style.right||0)),this.styleObject.right=n+"px"}else{let n=0,r=this.$el.previousElementSibling;r&&(n=Ge.getOuterWidth(r)+parseFloat(r.style.left||0)),this.styleObject.left=n+"px"}},getVirtualScrollerProp(t){return this.virtualScrollerContentProps?this.virtualScrollerContentProps[t]:null}},computed:{editingRowData(){return this.editingMeta[this.rowIndex]?this.editingMeta[this.rowIndex].data:this.rowData},field(){return this.columnProp("field")},containerClass(){return[this.columnProp("bodyClass"),this.columnProp("class"),{"p-selection-column":this.columnProp("selectionMode")!=null,"p-editable-column":this.isEditable(),"p-cell-editing":this.d_editing,"p-frozen-column":this.columnProp("frozen")}]},containerStyle(){let t=this.columnProp("bodyStyle"),n=this.columnProp("style");return this.columnProp("frozen")?[n,t,this.styleObject]:[n,t]},loading(){return this.getVirtualScrollerProp("loading")},loadingOptions(){const t=this.getVirtualScrollerProp("getLoaderOptions");return t&&t(this.rowIndex,{cellIndex:this.index,cellFirst:this.index===0,cellLast:this.index===this.getVirtualScrollerProp("columns").length-1,cellEven:this.index%2===0,cellOdd:this.index%2!==0,column:this.column,field:this.field})},expandButtonAriaLabel(){return this.$primevue.config.locale.aria?this.isRowExpanded?this.$primevue.config.locale.aria.expandRow:this.$primevue.config.locale.aria.collapseRow:void 0},initButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.editRow:void 0},saveButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.saveEdit:void 0},cancelButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.cancelEdit:void 0}},components:{DTRadioButton:qce,DTCheckbox:Gce},directives:{ripple:du}};const AEe={key:0,class:"p-column-title"},OEe=["aria-expanded","aria-controls","aria-label"],DEe=["aria-label"],MEe=rt("span",{class:"p-row-editor-init-icon pi pi-fw pi-pencil"},null,-1),PEe=[MEe],zEe=["aria-label"],NEe=rt("span",{class:"p-row-editor-save-icon pi pi-fw pi-check"},null,-1),LEe=[NEe],BEe=["aria-label"],FEe=rt("span",{class:"p-row-editor-cancel-icon pi pi-fw pi-times"},null,-1),$Ee=[FEe];function VEe(t,n,r,u,f,d){const w=Dn("DTRadioButton"),x=Dn("DTCheckbox"),T=Ii("ripple");return d.loading?(ye(),Pe("td",{key:0,style:yr(d.containerStyle),class:rn(d.containerClass)},[(ye(),Mn(ja(r.column.children.loading),{data:r.rowData,column:r.column,field:d.field,index:r.rowIndex,frozenRow:r.frozenRow,loadingOptions:d.loadingOptions},null,8,["data","column","field","index","frozenRow","loadingOptions"]))],6)):(ye(),Pe("td",{key:1,style:yr(d.containerStyle),class:rn(d.containerClass),onClick:n[6]||(n[6]=(...A)=>d.onClick&&d.onClick(...A)),onKeydown:n[7]||(n[7]=(...A)=>d.onKeyDown&&d.onKeyDown(...A)),role:"cell"},[r.responsiveLayout==="stack"?(ye(),Pe("span",AEe,Ho(d.columnProp("header")),1)):Ut("",!0),r.column.children&&r.column.children.body&&!f.d_editing?(ye(),Mn(ja(r.column.children.body),{key:1,data:r.rowData,column:r.column,field:d.field,index:r.rowIndex,frozenRow:r.frozenRow,editorInitCallback:d.editorInitCallback},null,8,["data","column","field","index","frozenRow","editorInitCallback"])):r.column.children&&r.column.children.editor&&f.d_editing?(ye(),Mn(ja(r.column.children.editor),{key:2,data:d.editingRowData,column:r.column,field:d.field,index:r.rowIndex,frozenRow:r.frozenRow,editorSaveCallback:d.editorSaveCallback,editorCancelCallback:d.editorCancelCallback},null,8,["data","column","field","index","frozenRow","editorSaveCallback","editorCancelCallback"])):r.column.children&&r.column.children.body&&!r.column.children.editor&&f.d_editing?(ye(),Mn(ja(r.column.children.body),{key:3,data:d.editingRowData,column:r.column,field:d.field,index:r.rowIndex,frozenRow:r.frozenRow},null,8,["data","column","field","index","frozenRow"])):d.columnProp("selectionMode")?(ye(),Pe(qn,{key:4},[d.columnProp("selectionMode")==="single"?(ye(),Mn(w,{key:0,value:r.rowData,name:r.name,checked:r.selected,onChange:n[0]||(n[0]=A=>d.toggleRowWithRadio(A,r.rowIndex))},null,8,["value","name","checked"])):d.columnProp("selectionMode")==="multiple"?(ye(),Mn(x,{key:1,value:r.rowData,checked:r.selected,"aria-selected":r.selected?!0:void 0,onChange:n[1]||(n[1]=A=>d.toggleRowWithCheckbox(A,r.rowIndex))},null,8,["value","checked","aria-selected"])):Ut("",!0)],64)):d.columnProp("rowReorder")?(ye(),Pe("i",{key:5,class:rn(["p-datatable-reorderablerow-handle",d.columnProp("rowReorderIcon")||"pi pi-bars"])},null,2)):d.columnProp("expander")?ur((ye(),Pe("button",{key:6,class:"p-row-toggler p-link",type:"button","aria-expanded":f.isRowExpanded,"aria-controls":r.ariaControls,"aria-label":d.expandButtonAriaLabel,onClick:n[2]||(n[2]=(...A)=>d.toggleRow&&d.toggleRow(...A))},[rt("span",{class:rn(r.rowTogglerIcon)},null,2)],8,OEe)),[[T]]):r.editMode==="row"&&d.columnProp("rowEditor")?(ye(),Pe(qn,{key:7},[f.d_editing?Ut("",!0):ur((ye(),Pe("button",{key:0,class:"p-row-editor-init p-link",type:"button","aria-label":d.initButtonAriaLabel,onClick:n[3]||(n[3]=(...A)=>d.onRowEditInit&&d.onRowEditInit(...A))},PEe,8,DEe)),[[T]]),f.d_editing?ur((ye(),Pe("button",{key:1,class:"p-row-editor-save p-link",type:"button","aria-label":d.saveButtonAriaLabel,onClick:n[4]||(n[4]=(...A)=>d.onRowEditSave&&d.onRowEditSave(...A))},LEe,8,zEe)),[[T]]):Ut("",!0),f.d_editing?ur((ye(),Pe("button",{key:2,class:"p-row-editor-cancel p-link",type:"button","aria-label":d.cancelButtonAriaLabel,onClick:n[5]||(n[5]=(...A)=>d.onRowEditCancel&&d.onRowEditCancel(...A))},$Ee,8,BEe)),[[T]]):Ut("",!0)],64)):(ye(),Pe(qn,{key:8},[Zu(Ho(d.resolveFieldData()),1)],64))],38))}Kce.render=VEe;var Yce={name:"TableBody",emits:["rowgroup-toggle","row-click","row-dblclick","row-rightclick","row-touchend","row-keydown","row-mousedown","row-dragstart","row-dragover","row-dragleave","row-dragend","row-drop","row-toggle","radio-change","checkbox-change","cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","editing-meta-change"],props:{value:{type:Array,default:null},columns:{type:null,default:null},frozenRow:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},first:{type:Number,default:0},dataKey:{type:String,default:null},expandedRowIcon:{type:String,default:null},collapsedRowIcon:{type:String,default:null},expandedRows:{type:Array,default:null},expandedRowKeys:{type:null,default:null},selection:{type:[Array,Object],default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},rowClass:{type:null,default:null},rowStyle:{type:null,default:null},editMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},editingRows:{type:Array,default:null},editingRowKeys:{type:null,default:null},editingMeta:{type:Object,default:null},templates:{type:null,default:null},scrollable:{type:Boolean,default:!1},responsiveLayout:{type:String,default:"stack"},virtualScrollerContentProps:{type:Object,default:null},isVirtualScrollerDisabled:{type:Boolean,default:!1}},data(){return{rowGroupHeaderStyleObject:{},tabindexArray:[],isARowSelected:!1}},mounted(){this.frozenRow&&this.updateFrozenRowStickyPosition(),this.scrollable&&this.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()},updated(){this.frozenRow&&this.updateFrozenRowStickyPosition(),this.scrollable&&this.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()},methods:{columnProp(t,n){return An.getVNodeProp(t,n)},shouldRenderRowGroupHeader(t,n,r){let u=An.resolveFieldData(n,this.groupRowsBy),f=t[r-1];if(f){let d=An.resolveFieldData(f,this.groupRowsBy);return u!==d}else return!0},getRowKey(t,n){return this.dataKey?An.resolveFieldData(t,this.dataKey):this.getRowIndex(n)},getRowIndex(t){const n=this.getVirtualScrollerProp("getItemOptions");return n?n(t).index:this.first+t},getRowStyle(t){if(this.rowStyle)return this.rowStyle(t)},getRowClass(t){let n=[];if(this.selectionMode&&n.push("p-selectable-row"),this.selection&&n.push({"p-highlight":this.isSelected(t)}),this.contextMenuSelection&&n.push({"p-highlight-contextmenu":this.isSelectedWithContextMenu(t)}),this.rowClass){let r=this.rowClass(t);r&&n.push(r)}return n},shouldRenderRowGroupFooter(t,n,r){if(this.expandableRowGroups&&!this.isRowGroupExpanded(n))return!1;{let u=An.resolveFieldData(n,this.groupRowsBy),f=t[r+1];if(f){let d=An.resolveFieldData(f,this.groupRowsBy);return u!==d}else return!0}},shouldRenderBodyCell(t,n,r){if(this.rowGroupMode){if(this.rowGroupMode==="subheader")return this.groupRowsBy!==this.columnProp(n,"field");if(this.rowGroupMode==="rowspan")if(this.isGrouped(n)){let u=t[r-1];if(u){let f=An.resolveFieldData(t[r],this.columnProp(n,"field")),d=An.resolveFieldData(u,this.columnProp(n,"field"));return f!==d}else return!0}else return!0}else return!this.columnProp(n,"hidden")},calculateRowGroupSize(t,n,r){if(this.isGrouped(n)){let u=An.resolveFieldData(t[r],this.columnProp(n,"field")),f=u,d=0;for(;u===f;){d++;let w=t[++r];if(w)f=An.resolveFieldData(w,this.columnProp(n,"field"));else break}return d===1?null:d}else return null},rowTogglerIcon(t){return["p-row-toggler-icon pi",this.isRowExpanded(t)?this.expandedRowIcon:this.collapsedRowIcon]},rowGroupTogglerIcon(t){return["p-row-toggler-icon pi",this.isRowGroupExpanded(t)?this.expandedRowIcon:this.collapsedRowIcon]},isGrouped(t){return this.groupRowsBy&&this.columnProp(t,"field")?Array.isArray(this.groupRowsBy)?this.groupRowsBy.indexOf(t.props.field)>-1:this.groupRowsBy===t.props.field:!1},isRowEditing(t){return t&&this.editingRows?this.dataKey?this.editingRowKeys?this.editingRowKeys[An.resolveFieldData(t,this.dataKey)]!==void 0:!1:this.findIndex(t,this.editingRows)>-1:!1},isRowExpanded(t){return t&&this.expandedRows?this.dataKey?this.expandedRowKeys?this.expandedRowKeys[An.resolveFieldData(t,this.dataKey)]!==void 0:!1:this.findIndex(t,this.expandedRows)>-1:!1},isRowGroupExpanded(t){if(this.expandableRowGroups&&this.expandedRowGroups){let n=An.resolveFieldData(t,this.groupRowsBy);return this.expandedRowGroups.indexOf(n)>-1}return!1},isSelected(t){return t&&this.selection?this.dataKey?this.selectionKeys?this.selectionKeys[An.resolveFieldData(t,this.dataKey)]!==void 0:!1:this.selection instanceof Array?this.findIndexInSelection(t)>-1:this.equals(t,this.selection):!1},isSelectedWithContextMenu(t){return t&&this.contextMenuSelection?this.equals(t,this.contextMenuSelection,this.dataKey):!1},findIndexInSelection(t){return this.findIndex(t,this.selection)},findIndex(t,n){let r=-1;if(n&&n.length){for(let u=0;u<n.length;u++)if(this.equals(t,n[u])){r=u;break}}return r},equals(t,n){return this.compareSelectionBy==="equals"?t===n:An.equals(t,n,this.dataKey)},onRowGroupToggle(t,n){this.$emit("rowgroup-toggle",{originalEvent:t,data:n})},onRowClick(t,n,r){this.$emit("row-click",{originalEvent:t,data:n,index:r})},onRowDblClick(t,n,r){this.$emit("row-dblclick",{originalEvent:t,data:n,index:r})},onRowRightClick(t,n,r){this.$emit("row-rightclick",{originalEvent:t,data:n,index:r})},onRowTouchEnd(t){this.$emit("row-touchend",t)},onRowKeyDown(t,n,r){this.$emit("row-keydown",{originalEvent:t,data:n,index:r})},onRowMouseDown(t){this.$emit("row-mousedown",t)},onRowDragStart(t,n){this.$emit("row-dragstart",{originalEvent:t,index:n})},onRowDragOver(t,n){this.$emit("row-dragover",{originalEvent:t,index:n})},onRowDragLeave(t){this.$emit("row-dragleave",t)},onRowDragEnd(t){this.$emit("row-dragend",t)},onRowDrop(t){this.$emit("row-drop",t)},onRowToggle(t){this.$emit("row-toggle",t)},onRadioChange(t){this.$emit("radio-change",t)},onCheckboxChange(t){this.$emit("checkbox-change",t)},onCellEditInit(t){this.$emit("cell-edit-init",t)},onCellEditComplete(t){this.$emit("cell-edit-complete",t)},onCellEditCancel(t){this.$emit("cell-edit-cancel",t)},onRowEditInit(t){this.$emit("row-edit-init",t)},onRowEditSave(t){this.$emit("row-edit-save",t)},onRowEditCancel(t){this.$emit("row-edit-cancel",t)},onEditingMetaChange(t){this.$emit("editing-meta-change",t)},updateFrozenRowStickyPosition(){this.$el.style.top=Ge.getOuterHeight(this.$el.previousElementSibling)+"px"},updateFrozenRowGroupHeaderStickyPosition(){let t=Ge.getOuterHeight(this.$el.previousElementSibling);this.rowGroupHeaderStyleObject.top=t+"px"},getVirtualScrollerProp(t,n){return n=n||this.virtualScrollerContentProps,n?n[t]:null},bodyRef(t){const n=this.getVirtualScrollerProp("contentRef");n&&n(t)},setRowTabindex(t){return this.selection===null&&(this.selectionMode==="single"||this.selectionMode==="multiple")&&t===0?0:-1}},computed:{columnsLength(){let t=0;return this.columns.forEach(n=>{this.columnProp(n,"selectionMode")==="single"&&t--,this.columnProp(n,"hidden")&&t++}),this.columns?this.columns.length-t:0},rowGroupHeaderStyle(){return this.scrollable?{top:this.rowGroupHeaderStyleObject.top}:null},bodyStyle(){return this.getVirtualScrollerProp("contentStyle")},expandedRowId(){return Gu()},nameAttributeSelector(){return Gu()}},components:{DTBodyCell:Kce}};const HEe=["colspan"],UEe=["onClick"],jEe=["tabindex","aria-selected","onClick","onDblclick","onContextmenu","onKeydown","onDragstart","onDragover"],WEe=["id"],ZEe=["colspan"],GEe=["colspan"],qEe={key:1,class:"p-datatable-emptymessage",role:"row"},KEe=["colspan"];function YEe(t,n,r,u,f,d){const w=Dn("DTBodyCell");return ye(),Pe("tbody",{ref:d.bodyRef,class:"p-datatable-tbody",role:"rowgroup",style:yr(d.bodyStyle)},[r.empty?(ye(),Pe("tr",qEe,[rt("td",{colspan:d.columnsLength},[r.templates.empty?(ye(),Mn(ja(r.templates.empty),{key:0})):Ut("",!0)],8,KEe)])):(ye(!0),Pe(qn,{key:0},Sa(r.value,(x,T)=>(ye(),Pe(qn,null,[r.templates.groupheader&&r.rowGroupMode==="subheader"&&d.shouldRenderRowGroupHeader(r.value,x,d.getRowIndex(T))?(ye(),Pe("tr",{key:d.getRowKey(x,d.getRowIndex(T))+"_subheader",class:"p-rowgroup-header",style:yr(d.rowGroupHeaderStyle),role:"row"},[rt("td",{colspan:d.columnsLength-1},[r.expandableRowGroups?(ye(),Pe("button",{key:0,class:"p-row-toggler p-link",onClick:A=>d.onRowGroupToggle(A,x),type:"button"},[rt("span",{class:rn(d.rowGroupTogglerIcon(x))},null,2)],8,UEe)):Ut("",!0),(ye(),Mn(ja(r.templates.groupheader),{data:x,index:d.getRowIndex(T)},null,8,["data","index"]))],8,HEe)],4)):Ut("",!0),!r.expandableRowGroups||d.isRowGroupExpanded(x)?(ye(),Pe("tr",{key:d.getRowKey(x,d.getRowIndex(T)),class:rn(d.getRowClass(x)),style:yr(d.getRowStyle(x)),tabindex:d.setRowTabindex(T),role:"row","aria-selected":r.selectionMode?d.isSelected(x):null,onClick:A=>d.onRowClick(A,x,d.getRowIndex(T)),onDblclick:A=>d.onRowDblClick(A,x,d.getRowIndex(T)),onContextmenu:A=>d.onRowRightClick(A,x,d.getRowIndex(T)),onTouchend:n[9]||(n[9]=A=>d.onRowTouchEnd(A)),onKeydown:A=>d.onRowKeyDown(A,x,d.getRowIndex(T)),onMousedown:n[10]||(n[10]=A=>d.onRowMouseDown(A)),onDragstart:A=>d.onRowDragStart(A,d.getRowIndex(T)),onDragover:A=>d.onRowDragOver(A,d.getRowIndex(T)),onDragleave:n[11]||(n[11]=A=>d.onRowDragLeave(A)),onDragend:n[12]||(n[12]=A=>d.onRowDragEnd(A)),onDrop:n[13]||(n[13]=A=>d.onRowDrop(A))},[(ye(!0),Pe(qn,null,Sa(r.columns,(A,$)=>(ye(),Pe(qn,null,[d.shouldRenderBodyCell(r.value,A,d.getRowIndex(T))?(ye(),Mn(w,{key:d.columnProp(A,"columnKey")||d.columnProp(A,"field")||$,rowData:x,column:A,rowIndex:d.getRowIndex(T),index:$,selected:d.isSelected(x),rowTogglerIcon:d.columnProp(A,"expander")?d.rowTogglerIcon(x):null,frozenRow:r.frozenRow,rowspan:r.rowGroupMode==="rowspan"?d.calculateRowGroupSize(r.value,A,d.getRowIndex(T)):null,editMode:r.editMode,editing:r.editMode==="row"&&d.isRowEditing(x),editingMeta:r.editingMeta,responsiveLayout:r.responsiveLayout,virtualScrollerContentProps:r.virtualScrollerContentProps,ariaControls:d.expandedRowId+"_"+T+"_expansion",name:d.nameAttributeSelector,onRadioChange:n[0]||(n[0]=B=>d.onRadioChange(B)),onCheckboxChange:n[1]||(n[1]=B=>d.onCheckboxChange(B)),onRowToggle:n[2]||(n[2]=B=>d.onRowToggle(B)),onCellEditInit:n[3]||(n[3]=B=>d.onCellEditInit(B)),onCellEditComplete:n[4]||(n[4]=B=>d.onCellEditComplete(B)),onCellEditCancel:n[5]||(n[5]=B=>d.onCellEditCancel(B)),onRowEditInit:n[6]||(n[6]=B=>d.onRowEditInit(B)),onRowEditSave:n[7]||(n[7]=B=>d.onRowEditSave(B)),onRowEditCancel:n[8]||(n[8]=B=>d.onRowEditCancel(B)),onEditingMetaChange:d.onEditingMetaChange},null,8,["rowData","column","rowIndex","index","selected","rowTogglerIcon","frozenRow","rowspan","editMode","editing","editingMeta","responsiveLayout","virtualScrollerContentProps","ariaControls","name","onEditingMetaChange"])):Ut("",!0)],64))),256))],46,jEe)):Ut("",!0),r.templates.expansion&&r.expandedRows&&d.isRowExpanded(x)?(ye(),Pe("tr",{key:d.getRowKey(x,d.getRowIndex(T))+"_expansion",id:d.expandedRowId+"_"+T+"_expansion",class:"p-datatable-row-expansion",role:"row"},[rt("td",{colspan:d.columnsLength},[(ye(),Mn(ja(r.templates.expansion),{data:x,index:d.getRowIndex(T)},null,8,["data","index"]))],8,ZEe)],8,WEe)):Ut("",!0),r.templates.groupfooter&&r.rowGroupMode==="subheader"&&d.shouldRenderRowGroupFooter(r.value,x,d.getRowIndex(T))?(ye(),Pe("tr",{key:d.getRowKey(x,d.getRowIndex(T))+"_subfooter",class:"p-rowgroup-footer",role:"row"},[rt("td",{colspan:d.columnsLength-1},[(ye(),Mn(ja(r.templates.groupfooter),{data:x,index:d.getRowIndex(T)},null,8,["data","index"]))],8,GEe)])):Ut("",!0)],64))),256))],4)}Yce.render=YEe;var Xce={name:"FooterCell",props:{column:{type:null,default:null}},data(){return{styleObject:{}}},mounted(){this.columnProp("frozen")&&this.updateStickyPosition()},updated(){this.columnProp("frozen")&&this.updateStickyPosition()},methods:{columnProp(t){return An.getVNodeProp(this.column,t)},updateStickyPosition(){if(this.columnProp("frozen"))if(this.columnProp("alignFrozen")==="right"){let n=0,r=this.$el.nextElementSibling;r&&(n=Ge.getOuterWidth(r)+parseFloat(r.style.right||0)),this.styleObject.right=n+"px"}else{let n=0,r=this.$el.previousElementSibling;r&&(n=Ge.getOuterWidth(r)+parseFloat(r.style.left||0)),this.styleObject.left=n+"px"}}},computed:{containerClass(){return[this.columnProp("footerClass"),this.columnProp("class"),{"p-frozen-column":this.columnProp("frozen")}]},containerStyle(){let t=this.columnProp("footerStyle"),n=this.columnProp("style");return this.columnProp("frozen")?[n,t,this.styleObject]:[n,t]}}};const XEe=["colspan","rowspan"];function JEe(t,n,r,u,f,d){return ye(),Pe("td",{style:yr(d.containerStyle),class:rn(d.containerClass),role:"cell",colspan:d.columnProp("colspan"),rowspan:d.columnProp("rowspan")},[r.column.children&&r.column.children.footer?(ye(),Mn(ja(r.column.children.footer),{key:0,column:r.column},null,8,["column"])):Ut("",!0),Zu(" "+Ho(d.columnProp("footer")),1)],14,XEe)}Xce.render=JEe;var Jce={name:"TableFooter",props:{columnGroup:{type:null,default:null},columns:{type:null,default:null}},methods:{columnProp(t,n){return An.getVNodeProp(t,n)},getFooterRows(){let t=[],n=this.columnGroup;if(n.children&&n.children.default){for(let r of n.children.default())r.type.name==="Row"?t.push(r):r.children&&r.children instanceof Array&&(t=r.children);return t}},getFooterColumns(t){let n=[];if(t.children&&t.children.default)return t.children.default().forEach(r=>{r.children&&r.children instanceof Array?n=[...n,...r.children]:r.type.name==="Column"&&n.push(r)}),n}},computed:{hasFooter(){let t=!1;if(this.columnGroup)t=!0;else if(this.columns){for(let n of this.columns)if(this.columnProp(n,"footer")||n.children&&n.children.footer){t=!0;break}}return t}},components:{DTFooterCell:Xce}};const QEe={key:0,class:"p-datatable-tfoot",role:"rowgroup"},e2e={key:0,role:"row"};function t2e(t,n,r,u,f,d){const w=Dn("DTFooterCell");return d.hasFooter?(ye(),Pe("tfoot",QEe,[r.columnGroup?(ye(!0),Pe(qn,{key:1},Sa(d.getFooterRows(),(x,T)=>(ye(),Pe("tr",{key:T,role:"row"},[(ye(!0),Pe(qn,null,Sa(d.getFooterColumns(x),(A,$)=>(ye(),Pe(qn,{key:d.columnProp(A,"columnKey")||d.columnProp(A,"field")||$},[d.columnProp(A,"hidden")?Ut("",!0):(ye(),Mn(w,{key:0,column:A},null,8,["column"]))],64))),128))]))),128)):(ye(),Pe("tr",e2e,[(ye(!0),Pe(qn,null,Sa(r.columns,(x,T)=>(ye(),Pe(qn,{key:d.columnProp(x,"columnKey")||d.columnProp(x,"field")||T},[d.columnProp(x,"hidden")?Ut("",!0):(ye(),Mn(w,{key:0,column:x},null,8,["column"]))],64))),128))]))])):Ut("",!0)}Jce.render=t2e;var Mee={name:"ColumnFilter",emits:["filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{field:{type:String,default:null},type:{type:String,default:"text"},display:{type:String,default:null},showMenu:{type:Boolean,default:!0},matchMode:{type:String,default:null},showOperator:{type:Boolean,default:!0},showClearButton:{type:Boolean,default:!0},showApplyButton:{type:Boolean,default:!0},showMatchModes:{type:Boolean,default:!0},showAddButton:{type:Boolean,default:!0},matchModeOptions:{type:Array,default:null},maxConstraints:{type:Number,default:2},filterElement:null,filterHeaderTemplate:null,filterFooterTemplate:null,filterClearTemplate:null,filterApplyTemplate:null,filters:{type:Object,default:null},filtersStore:{type:Object,default:null},filterMenuClass:{type:String,default:null},filterMenuStyle:{type:null,default:null},filterInputProps:{type:null,default:null}},data(){return{overlayVisible:!1,defaultMatchMode:null,defaultOperator:null}},overlay:null,selfClick:!1,overlayEventListener:null,beforeUnmount(){this.overlayEventListener&&(Ud.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.overlay&&(Br.clear(this.overlay),this.onOverlayHide())},mounted(){if(this.filters&&this.filters[this.field]){let t=this.filters[this.field];t.operator?(this.defaultMatchMode=t.constraints[0].matchMode,this.defaultOperator=t.operator):this.defaultMatchMode=this.filters[this.field].matchMode}},methods:{clearFilter(){let t={...this.filters};t[this.field].operator?(t[this.field].constraints.splice(1),t[this.field].operator=this.defaultOperator,t[this.field].constraints[0]={value:null,matchMode:this.defaultMatchMode}):(t[this.field].value=null,t[this.field].matchMode=this.defaultMatchMode),this.$emit("filter-clear"),this.$emit("filter-change",t),this.$emit("filter-apply"),this.hide()},applyFilter(){this.$emit("apply-click",{field:this.field,constraints:this.filters[this.field]}),this.$emit("filter-apply"),this.hide()},hasFilter(){if(this.filtersStore){let t=this.filtersStore[this.field];if(t)return t.operator?!this.isFilterBlank(t.constraints[0].value):!this.isFilterBlank(t.value)}return!1},hasRowFilter(){return this.filters[this.field]&&!this.isFilterBlank(this.filters[this.field].value)},isFilterBlank(t){return t!=null?typeof t=="string"&&t.trim().length==0||t instanceof Array&&t.length==0:!0},toggleMenu(){this.overlayVisible=!this.overlayVisible},onToggleButtonKeyDown(t){switch(t.code){case"Enter":case"Space":this.toggleMenu(),t.preventDefault();break;case"Escape":this.overlayVisible=!1;break}},onRowMatchModeChange(t){let n={...this.filters};n[this.field].matchMode=t,this.$emit("matchmode-change",{field:this.field,matchMode:t}),this.$emit("filter-change",n),this.$emit("filter-apply"),this.hide()},onRowMatchModeKeyDown(t){let n=t.target;switch(t.code){case"ArrowDown":var r=this.findNextItem(n);r&&(n.removeAttribute("tabindex"),r.tabIndex="0",r.focus()),t.preventDefault();break;case"ArrowUp":var u=this.findPrevItem(n);u&&(n.removeAttribute("tabindex"),u.tabIndex="0",u.focus()),t.preventDefault();break}},isRowMatchModeSelected(t){return this.filters[this.field].matchMode===t},onOperatorChange(t){let n={...this.filters};n[this.field].operator=t,this.$emit("filter-change",n),this.$emit("operator-change",{field:this.field,operator:t}),this.showApplyButton||this.$emit("filter-apply")},onMenuMatchModeChange(t,n){let r={...this.filters};r[this.field].constraints[n].matchMode=t,this.$emit("matchmode-change",{field:this.field,matchMode:t,index:n}),this.showApplyButton||this.$emit("filter-apply")},addConstraint(){let t={...this.filters},n={value:null,matchMode:this.defaultMatchMode};t[this.field].constraints.push(n),this.$emit("constraint-add",{field:this.field,constraing:n}),this.$emit("filter-change",t),this.showApplyButton||this.$emit("filter-apply")},removeConstraint(t){let n={...this.filters},r=n[this.field].constraints.splice(t,1);this.$emit("constraint-remove",{field:this.field,constraing:r}),this.$emit("filter-change",n),this.showApplyButton||this.$emit("filter-apply")},filterCallback(){this.$emit("filter-apply")},findNextItem(t){let n=t.nextElementSibling;return n?Ge.hasClass(n,"p-column-filter-separator")?this.findNextItem(n):n:t.parentElement.firstElementChild},findPrevItem(t){let n=t.previousElementSibling;return n?Ge.hasClass(n,"p-column-filter-separator")?this.findPrevItem(n):n:t.parentElement.lastElementChild},hide(){this.overlayVisible=!1,Ge.focus(this.$refs.icon)},onContentClick(t){this.selfClick=!0,Ud.emit("overlay-click",{originalEvent:t,target:this.overlay})},onContentMouseDown(){this.selfClick=!0},onOverlayEnter(t){this.filterMenuStyle&&Ge.applyStyle(this.overlay,this.filterMenuStyle),Br.set("overlay",t,this.$primevue.config.zIndex.overlay),Ge.absolutePosition(this.overlay,this.$refs.icon),this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.overlayEventListener=n=>{this.isOutsideClicked(n.target)||(this.selfClick=!0)},Ud.on("overlay-click",this.overlayEventListener)},onOverlayLeave(){this.onOverlayHide()},onOverlayAfterLeave(t){Br.clear(t)},onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.overlay=null,Ud.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null},overlayRef(t){this.overlay=t},isOutsideClicked(t){return!this.isTargetClicked(t)&&this.overlay&&!(this.overlay.isSameNode(t)||this.overlay.contains(t))},isTargetClicked(t){return this.$refs.icon&&(this.$refs.icon.isSameNode(t)||this.$refs.icon.contains(t))},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=t=>{this.overlayVisible&&!this.selfClick&&this.isOutsideClicked(t.target)&&(this.overlayVisible=!1),this.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new qI(this.$refs.icon,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!Ge.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}},computed:{containerClass(){return["p-column-filter p-fluid",{"p-column-filter-row":this.display==="row","p-column-filter-menu":this.display==="menu"}]},overlayClass(){return[this.filterMenuClass,{"p-column-filter-overlay p-component p-fluid":!0,"p-column-filter-overlay-menu":this.display==="menu","p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},showMenuButton(){return this.showMenu&&(this.display==="row"?this.type!=="boolean":!0)},overlayId(){return Gu()},matchModes(){return this.matchModeOptions||this.$primevue.config.filterMatchModeOptions[this.type].map(t=>({label:this.$primevue.config.locale[t],value:t}))},isShowMatchModes(){return this.type!=="boolean"&&this.showMatchModes&&this.matchModes},operatorOptions(){return[{label:this.$primevue.config.locale.matchAll,value:kV.AND},{label:this.$primevue.config.locale.matchAny,value:kV.OR}]},noFilterLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.noFilter:void 0},isShowOperator(){return this.showOperator&&this.filters[this.field].operator},operator(){return this.filters[this.field].operator},fieldConstraints(){return this.filters[this.field].constraints||[this.filters[this.field]]},showRemoveIcon(){return this.fieldConstraints.length>1},removeRuleButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.removeRule:void 0},addRuleButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.addRule:void 0},isShowAddConstraint(){return this.showAddButton&&this.filters[this.field].operator&&this.fieldConstraints&&this.fieldConstraints.length<this.maxConstraints},clearButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.clear:void 0},applyButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.apply:void 0},filterMenuButtonAriaLabel(){return this.$primevue.config.locale?this.overlayVisible?this.$primevue.config.locale.showFilterMenu:this.$primevue.config.locale.hideFilterMenu:void 0},filterOperatorAriaLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.filterOperator:void 0},filterConstraintAriaLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.filterConstraint:void 0}},components:{CFDropdown:C4,CFButton:oA,Portal:ug},directives:{focustrap:k4}};const n2e=["aria-label","aria-expanded","aria-controls"],o2e=rt("span",{class:"pi pi-filter-icon pi-filter"},null,-1),s2e=[o2e],r2e=rt("span",{class:"pi pi-filter-slash"},null,-1),a2e=[r2e],i2e=["id","aria-modal"],l2e={key:0,class:"p-column-filter-row-items"},c2e=["onClick","onKeydown","tabindex"],u2e=rt("li",{class:"p-column-filter-separator"},null,-1),d2e={key:0,class:"p-column-filter-operator"},f2e={class:"p-column-filter-constraints"},h2e={key:1,class:"p-column-filter-add-rule"},m2e={class:"p-column-filter-buttonbar"};function p2e(t,n,r,u,f,d){const w=Dn("CFDropdown"),x=Dn("CFButton"),T=Dn("Portal"),A=Ii("focustrap");return ye(),Pe("div",{class:rn(d.containerClass)},[r.display==="row"?(ye(),Pe("div",cr({key:0,class:"p-fluid p-column-filter-element"},r.filterInputProps),[(ye(),Mn(ja(r.filterElement),{field:r.field,filterModel:r.filters[r.field],filterCallback:d.filterCallback},null,8,["field","filterModel","filterCallback"]))],16)):Ut("",!0),d.showMenuButton?(ye(),Pe("button",{key:1,ref:"icon",type:"button",class:rn(["p-column-filter-menu-button p-link",{"p-column-filter-menu-button-open":f.overlayVisible,"p-column-filter-menu-button-active":d.hasFilter()}]),"aria-label":d.filterMenuButtonAriaLabel,"aria-haspopup":"true","aria-expanded":f.overlayVisible,"aria-controls":d.overlayId,onClick:n[0]||(n[0]=$=>d.toggleMenu()),onKeydown:n[1]||(n[1]=$=>d.onToggleButtonKeyDown($))},s2e,42,n2e)):Ut("",!0),r.showClearButton&&r.display==="row"?(ye(),Pe("button",{key:2,class:rn([{"p-hidden-space":!d.hasRowFilter()},"p-column-filter-clear-button p-link"]),type:"button",onClick:n[2]||(n[2]=$=>d.clearFilter())},a2e,2)):Ut("",!0),Nn(T,null,{default:is(()=>[Nn(Pf,{name:"p-connected-overlay",onEnter:d.onOverlayEnter,onLeave:d.onOverlayLeave,onAfterLeave:d.onOverlayAfterLeave},{default:is(()=>[f.overlayVisible?ur((ye(),Pe("div",{key:0,ref:d.overlayRef,id:d.overlayId,"aria-modal":f.overlayVisible,role:"dialog",class:rn(d.overlayClass),onKeydown:n[10]||(n[10]=ix((...$)=>d.hide&&d.hide(...$),["escape"])),onClick:n[11]||(n[11]=(...$)=>d.onContentClick&&d.onContentClick(...$)),onMousedown:n[12]||(n[12]=(...$)=>d.onContentMouseDown&&d.onContentMouseDown(...$))},[(ye(),Mn(ja(r.filterHeaderTemplate),{field:r.field,filterModel:r.filters[r.field],filterCallback:d.filterCallback},null,8,["field","filterModel","filterCallback"])),r.display==="row"?(ye(),Pe("ul",l2e,[(ye(!0),Pe(qn,null,Sa(d.matchModes,($,B)=>(ye(),Pe("li",{key:$.label,class:rn(["p-column-filter-row-item",{"p-highlight":d.isRowMatchModeSelected($.value)}]),onClick:H=>d.onRowMatchModeChange($.value),onKeydown:[n[3]||(n[3]=H=>d.onRowMatchModeKeyDown(H)),ix(yQ(H=>d.onRowMatchModeChange($.value),["prevent"]),["enter"])],tabindex:B===0?"0":null},Ho($.label),43,c2e))),128)),u2e,rt("li",{class:"p-column-filter-row-item",onClick:n[4]||(n[4]=$=>d.clearFilter()),onKeydown:[n[5]||(n[5]=$=>d.onRowMatchModeKeyDown($)),n[6]||(n[6]=ix($=>t.onRowClearItemClick(),["enter"]))]},Ho(d.noFilterLabel),33)])):(ye(),Pe(qn,{key:1},[d.isShowOperator?(ye(),Pe("div",d2e,[Nn(w,{options:d.operatorOptions,modelValue:d.operator,"aria-label":d.filterOperatorAriaLabel,class:"p-column-filter-operator-dropdown",optionLabel:"label",optionValue:"value","onUpdate:modelValue":n[7]||(n[7]=$=>d.onOperatorChange($))},null,8,["options","modelValue","aria-label"])])):Ut("",!0),rt("div",f2e,[(ye(!0),Pe(qn,null,Sa(d.fieldConstraints,($,B)=>(ye(),Pe("div",{key:B,class:"p-column-filter-constraint"},[d.isShowMatchModes?(ye(),Mn(w,{key:0,options:d.matchModes,modelValue:$.matchMode,class:"p-column-filter-matchmode-dropdown",optionLabel:"label",optionValue:"value","aria-label":d.filterConstraintAriaLabel,"onUpdate:modelValue":H=>d.onMenuMatchModeChange(H,B)},null,8,["options","modelValue","aria-label","onUpdate:modelValue"])):Ut("",!0),r.display==="menu"?(ye(),Mn(ja(r.filterElement),{key:1,field:r.field,filterModel:$,filterCallback:d.filterCallback},null,8,["field","filterModel","filterCallback"])):Ut("",!0),rt("div",null,[d.showRemoveIcon?(ye(),Mn(x,{key:0,type:"button",icon:"pi pi-trash",class:"p-column-filter-remove-button p-button-text p-button-danger p-button-sm",onClick:H=>d.removeConstraint(B),label:d.removeRuleButtonLabel},null,8,["onClick","label"])):Ut("",!0)])]))),128))]),d.isShowAddConstraint?(ye(),Pe("div",h2e,[Nn(x,{type:"button",label:d.addRuleButtonLabel,icon:"pi pi-plus",class:"p-column-filter-add-button p-button-text p-button-sm",onClick:n[8]||(n[8]=$=>d.addConstraint())},null,8,["label"])])):Ut("",!0),rt("div",m2e,[!r.filterClearTemplate&&r.showClearButton?(ye(),Mn(x,{key:0,type:"button",class:"p-button-outlined p-button-sm",label:d.clearButtonLabel,onClick:d.clearFilter},null,8,["label","onClick"])):(ye(),Mn(ja(r.filterClearTemplate),{key:1,field:r.field,filterModel:r.filters[r.field],filterCallback:d.clearFilter},null,8,["field","filterModel","filterCallback"])),r.showApplyButton?(ye(),Pe(qn,{key:2},[r.filterApplyTemplate?(ye(),Mn(ja(r.filterApplyTemplate),{key:1,field:r.field,filterModel:r.filters[r.field],filterCallback:d.applyFilter},null,8,["field","filterModel","filterCallback"])):(ye(),Mn(x,{key:0,type:"button",class:"p-button-sm",label:d.applyButtonLabel,onClick:n[9]||(n[9]=$=>d.applyFilter())},null,8,["label"]))],64)):Ut("",!0)])],64)),(ye(),Mn(ja(r.filterFooterTemplate),{field:r.field,filterModel:r.filters[r.field],filterCallback:d.filterCallback},null,8,["field","filterModel","filterCallback"]))],42,i2e)),[[A,{autoFocus:!0}]]):Ut("",!0)]),_:1},8,["onEnter","onLeave","onAfterLeave"])]),_:1})],2)}Mee.render=p2e;var Pee={name:"HeaderCheckbox",emits:["change"],props:{checked:null,disabled:null},data(){return{focused:!1}},methods:{onClick(t){this.disabled||(this.$emit("change",{originalEvent:t,checked:!this.checked}),Ge.focus(this.$refs.input))},onFocus(){this.focused=!0},onBlur(){this.focused=!1}},computed:{headerCheckboxAriaLabel(){return this.$primevue.config.locale.aria?this.checked?this.$primevue.config.locale.aria.selectAll:this.$primevue.config.locale.aria.unselectAll:void 0}}};const g2e={class:"p-hidden-accessible"},y2e=["checked","disabled","tabindex","aria-label"];function b2e(t,n,r,u,f,d){return ye(),Pe("div",{class:rn(["p-checkbox p-component",{"p-checkbox-focused":f.focused,"p-disabled":r.disabled}]),onClick:n[2]||(n[2]=(...w)=>d.onClick&&d.onClick(...w)),onKeydown:n[3]||(n[3]=ix(yQ((...w)=>d.onClick&&d.onClick(...w),["prevent"]),["space"]))},[rt("div",g2e,[rt("input",{ref:"input",type:"checkbox",checked:r.checked,disabled:r.disabled,tabindex:r.disabled?null:"0","aria-label":d.headerCheckboxAriaLabel,onFocus:n[0]||(n[0]=w=>d.onFocus(w)),onBlur:n[1]||(n[1]=w=>d.onBlur(w))},null,40,y2e)]),rt("div",{ref:"box",class:rn(["p-checkbox-box p-component",{"p-highlight":r.checked,"p-disabled":r.disabled,"p-focus":f.focused}])},[rt("span",{class:rn(["p-checkbox-icon",{"pi pi-check":r.checked}])},null,2)],2)],34)}Pee.render=b2e;var Qce={name:"HeaderCell",emits:["column-click","column-mousedown","column-dragstart","column-dragover","column-dragleave","column-drop","column-resizestart","checkbox-change","filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{column:{type:Object,default:null},resizableColumns:{type:Boolean,default:!1},groupRowsBy:{type:[Array,String,Function],default:null},sortMode:{type:String,default:"single"},groupRowSortField:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},multiSortMeta:{type:Array,default:null},allRowsSelected:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},filterDisplay:{type:String,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},filterColumn:{type:Boolean,default:!1},reorderableColumns:{type:Boolean,default:!1},filterInputProps:{type:null,default:null}},data(){return{styleObject:{}}},mounted(){this.columnProp("frozen")&&this.updateStickyPosition()},updated(){this.columnProp("frozen")&&this.updateStickyPosition()},methods:{columnProp(t){return An.getVNodeProp(this.column,t)},onClick(t){this.$emit("column-click",{originalEvent:t,column:this.column})},onKeyDown(t){(t.code==="Enter"||t.code==="Space")&&t.currentTarget.nodeName==="TH"&&Ge.hasClass(t.currentTarget,"p-sortable-column")&&(this.$emit("column-click",{originalEvent:t,column:this.column}),t.preventDefault())},onMouseDown(t){this.$emit("column-mousedown",{originalEvent:t,column:this.column})},onDragStart(t){this.$emit("column-dragstart",t)},onDragOver(t){this.$emit("column-dragover",t)},onDragLeave(t){this.$emit("column-dragleave",t)},onDrop(t){this.$emit("column-drop",t)},onResizeStart(t){this.$emit("column-resizestart",t)},getMultiSortMetaIndex(){return this.multiSortMeta.findIndex(t=>t.field===this.columnProp("field")||t.field===this.columnProp("sortField"))},getBadgeValue(){let t=this.getMultiSortMetaIndex();return this.groupRowsBy&&this.groupRowsBy===this.groupRowSortField&&t>-1?t:t+1},isMultiSorted(){return this.sortMode==="multiple"&&this.columnProp("sortable")&&this.getMultiSortMetaIndex()>-1},isColumnSorted(){return this.sortMode==="single"?this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")):this.isMultiSorted()},updateStickyPosition(){if(this.columnProp("frozen")){if(this.columnProp("alignFrozen")==="right"){let r=0,u=this.$el.nextElementSibling;u&&(r=Ge.getOuterWidth(u)+parseFloat(u.style.right||0)),this.styleObject.right=r+"px"}else{let r=0,u=this.$el.previousElementSibling;u&&(r=Ge.getOuterWidth(u)+parseFloat(u.style.left||0)),this.styleObject.left=r+"px"}let n=this.$el.parentElement.nextElementSibling;if(n){let r=Ge.index(this.$el);n.children[r].style.left=this.styleObject.left,n.children[r].style.right=this.styleObject.right}}},onHeaderCheckboxChange(t){this.$emit("checkbox-change",t)}},computed:{containerClass(){return[this.filterColumn?this.columnProp("filterHeaderClass"):this.columnProp("headerClass"),this.columnProp("class"),{"p-sortable-column":this.columnProp("sortable"),"p-resizable-column":this.resizableColumns,"p-highlight":this.isColumnSorted(),"p-filter-column":this.filterColumn,"p-frozen-column":this.columnProp("frozen"),"p-reorderable-column":this.reorderableColumns}]},containerStyle(){let t=this.filterColumn?this.columnProp("filterHeaderStyle"):this.columnProp("headerStyle"),n=this.columnProp("style");return this.columnProp("frozen")?[n,t,this.styleObject]:[n,t]},sortableColumnIcon(){let t=!1,n=null;if(this.sortMode==="single")t=this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")),n=t?this.sortOrder:0;else if(this.sortMode==="multiple"){let r=this.getMultiSortMetaIndex();r>-1&&(t=!0,n=this.multiSortMeta[r].order)}return["p-sortable-column-icon pi pi-fw",{"pi-sort-alt":!t,"pi-sort-amount-up-alt":t&&n>0,"pi-sort-amount-down":t&&n<0}]},ariaSort(){if(this.columnProp("sortable")){const t=this.sortableColumnIcon;return t[1]["pi-sort-amount-down"]?"descending":t[1]["pi-sort-amount-up-alt"]?"ascending":"none"}else return null}},components:{DTHeaderCheckbox:Pee,DTColumnFilter:Mee}};const v2e=["tabindex","colspan","rowspan","aria-sort"],w2e={class:"p-column-header-content"},_2e={key:1,class:"p-column-title"},k2e={key:3,class:"p-sortable-column-badge"};function C2e(t,n,r,u,f,d){const w=Dn("DTHeaderCheckbox"),x=Dn("DTColumnFilter");return ye(),Pe("th",{style:yr(d.containerStyle),class:rn(d.containerClass),tabindex:d.columnProp("sortable")?"0":null,role:"columnheader",colspan:d.columnProp("colspan"),rowspan:d.columnProp("rowspan"),"aria-sort":d.ariaSort,onClick:n[8]||(n[8]=(...T)=>d.onClick&&d.onClick(...T)),onKeydown:n[9]||(n[9]=(...T)=>d.onKeyDown&&d.onKeyDown(...T)),onMousedown:n[10]||(n[10]=(...T)=>d.onMouseDown&&d.onMouseDown(...T)),onDragstart:n[11]||(n[11]=(...T)=>d.onDragStart&&d.onDragStart(...T)),onDragover:n[12]||(n[12]=(...T)=>d.onDragOver&&d.onDragOver(...T)),onDragleave:n[13]||(n[13]=(...T)=>d.onDragLeave&&d.onDragLeave(...T)),onDrop:n[14]||(n[14]=(...T)=>d.onDrop&&d.onDrop(...T))},[r.resizableColumns&&!d.columnProp("frozen")?(ye(),Pe("span",{key:0,class:"p-column-resizer",onMousedown:n[0]||(n[0]=(...T)=>d.onResizeStart&&d.onResizeStart(...T))},null,32)):Ut("",!0),rt("div",w2e,[r.column.children&&r.column.children.header?(ye(),Mn(ja(r.column.children.header),{key:0,column:r.column},null,8,["column"])):Ut("",!0),d.columnProp("header")?(ye(),Pe("span",_2e,Ho(d.columnProp("header")),1)):Ut("",!0),d.columnProp("sortable")?(ye(),Pe("span",{key:2,class:rn(d.sortableColumnIcon)},null,2)):Ut("",!0),d.isMultiSorted()?(ye(),Pe("span",k2e,Ho(d.getBadgeValue()),1)):Ut("",!0),d.columnProp("selectionMode")==="multiple"&&r.filterDisplay!=="row"?(ye(),Mn(w,{key:4,checked:r.allRowsSelected,onChange:d.onHeaderCheckboxChange,disabled:r.empty},null,8,["checked","onChange","disabled"])):Ut("",!0),r.filterDisplay==="menu"&&r.column.children&&r.column.children.filter?(ye(),Mn(x,{key:5,field:d.columnProp("filterField")||d.columnProp("field"),type:d.columnProp("dataType"),display:"menu",showMenu:d.columnProp("showFilterMenu"),filterElement:r.column.children&&r.column.children.filter,filterHeaderTemplate:r.column.children&&r.column.children.filterheader,filterFooterTemplate:r.column.children&&r.column.children.filterfooter,filterClearTemplate:r.column.children&&r.column.children.filterclear,filterApplyTemplate:r.column.children&&r.column.children.filterapply,filters:r.filters,filtersStore:r.filtersStore,filterInputProps:r.filterInputProps,onFilterChange:n[1]||(n[1]=T=>t.$emit("filter-change",T)),onFilterApply:n[2]||(n[2]=T=>t.$emit("filter-apply")),filterMenuStyle:d.columnProp("filterMenuStyle"),filterMenuClass:d.columnProp("filterMenuClass"),showOperator:d.columnProp("showFilterOperator"),showClearButton:d.columnProp("showClearButton"),showApplyButton:d.columnProp("showApplyButton"),showMatchModes:d.columnProp("showFilterMatchModes"),showAddButton:d.columnProp("showAddButton"),matchModeOptions:d.columnProp("filterMatchModeOptions"),maxConstraints:d.columnProp("maxConstraints"),onOperatorChange:n[3]||(n[3]=T=>t.$emit("operator-change",T)),onMatchmodeChange:n[4]||(n[4]=T=>t.$emit("matchmode-change",T)),onConstraintAdd:n[5]||(n[5]=T=>t.$emit("constraint-add",T)),onConstraintRemove:n[6]||(n[6]=T=>t.$emit("constraint-remove",T)),onApplyClick:n[7]||(n[7]=T=>t.$emit("apply-click",T))},null,8,["field","type","showMenu","filterElement","filterHeaderTemplate","filterFooterTemplate","filterClearTemplate","filterApplyTemplate","filters","filtersStore","filterInputProps","filterMenuStyle","filterMenuClass","showOperator","showClearButton","showApplyButton","showMatchModes","showAddButton","matchModeOptions","maxConstraints"])):Ut("",!0)])],46,v2e)}Qce.render=C2e;var eue={name:"TableHeader",emits:["column-click","column-mousedown","column-dragstart","column-dragover","column-dragleave","column-drop","column-resizestart","checkbox-change","filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{columnGroup:{type:null,default:null},columns:{type:null,default:null},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},resizableColumns:{type:Boolean,default:!1},allRowsSelected:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},sortMode:{type:String,default:"single"},groupRowSortField:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},multiSortMeta:{type:Array,default:null},filterDisplay:{type:String,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},reorderableColumns:{type:Boolean,default:!1},filterInputProps:{type:null,default:null}},methods:{columnProp(t,n){return An.getVNodeProp(t,n)},getFilterColumnHeaderClass(t){return["p-filter-column",this.columnProp(t,"filterHeaderClass"),this.columnProp(t,"class"),{"p-frozen-column":this.columnProp(t,"frozen")}]},getFilterColumnHeaderStyle(t){return[this.columnProp(t,"filterHeaderStyle"),this.columnProp(t,"style")]},getHeaderRows(){let t=[],n=this.columnGroup;if(n.children&&n.children.default){for(let r of n.children.default())r.type.name==="Row"?t.push(r):r.children&&r.children instanceof Array&&(t=r.children);return t}},getHeaderColumns(t){let n=[];if(t.children&&t.children.default)return t.children.default().forEach(r=>{r.children&&r.children instanceof Array?n=[...n,...r.children]:r.type.name==="Column"&&n.push(r)}),n}},components:{DTHeaderCell:Qce,DTHeaderCheckbox:Pee,DTColumnFilter:Mee}};const S2e={class:"p-datatable-thead",role:"rowgroup"},x2e={role:"row"},E2e={key:0,role:"row"};function T2e(t,n,r,u,f,d){const w=Dn("DTHeaderCell"),x=Dn("DTHeaderCheckbox"),T=Dn("DTColumnFilter");return ye(),Pe("thead",S2e,[r.columnGroup?(ye(!0),Pe(qn,{key:1},Sa(d.getHeaderRows(),(A,$)=>(ye(),Pe("tr",{key:$,role:"row"},[(ye(!0),Pe(qn,null,Sa(d.getHeaderColumns(A),(B,H)=>(ye(),Pe(qn,{key:d.columnProp(B,"columnKey")||d.columnProp(B,"field")||H},[!d.columnProp(B,"hidden")&&(r.rowGroupMode!=="subheader"||r.groupRowsBy!==d.columnProp(B,"field"))&&typeof B.children!="string"?(ye(),Mn(w,{key:0,column:B,onColumnClick:n[23]||(n[23]=le=>t.$emit("column-click",le)),onColumnMousedown:n[24]||(n[24]=le=>t.$emit("column-mousedown",le)),groupRowsBy:r.groupRowsBy,groupRowSortField:r.groupRowSortField,sortMode:r.sortMode,sortField:r.sortField,sortOrder:r.sortOrder,multiSortMeta:r.multiSortMeta,allRowsSelected:r.allRowsSelected,empty:r.empty,onCheckboxChange:n[25]||(n[25]=le=>t.$emit("checkbox-change",le)),filters:r.filters,filterDisplay:r.filterDisplay,filtersStore:r.filtersStore,onFilterChange:n[26]||(n[26]=le=>t.$emit("filter-change",le)),onFilterApply:n[27]||(n[27]=le=>t.$emit("filter-apply")),onOperatorChange:n[28]||(n[28]=le=>t.$emit("operator-change",le)),onMatchmodeChange:n[29]||(n[29]=le=>t.$emit("matchmode-change",le)),onConstraintAdd:n[30]||(n[30]=le=>t.$emit("constraint-add",le)),onConstraintRemove:n[31]||(n[31]=le=>t.$emit("constraint-remove",le)),onApplyClick:n[32]||(n[32]=le=>t.$emit("apply-click",le))},null,8,["column","groupRowsBy","groupRowSortField","sortMode","sortField","sortOrder","multiSortMeta","allRowsSelected","empty","filters","filterDisplay","filtersStore"])):Ut("",!0)],64))),128))]))),128)):(ye(),Pe(qn,{key:0},[rt("tr",x2e,[(ye(!0),Pe(qn,null,Sa(r.columns,(A,$)=>(ye(),Pe(qn,{key:d.columnProp(A,"columnKey")||d.columnProp(A,"field")||$},[!d.columnProp(A,"hidden")&&(r.rowGroupMode!=="subheader"||r.groupRowsBy!==d.columnProp(A,"field"))?(ye(),Mn(w,{key:0,column:A,onColumnClick:n[0]||(n[0]=B=>t.$emit("column-click",B)),onColumnMousedown:n[1]||(n[1]=B=>t.$emit("column-mousedown",B)),onColumnDragstart:n[2]||(n[2]=B=>t.$emit("column-dragstart",B)),onColumnDragover:n[3]||(n[3]=B=>t.$emit("column-dragover",B)),onColumnDragleave:n[4]||(n[4]=B=>t.$emit("column-dragleave",B)),onColumnDrop:n[5]||(n[5]=B=>t.$emit("column-drop",B)),groupRowsBy:r.groupRowsBy,groupRowSortField:r.groupRowSortField,reorderableColumns:r.reorderableColumns,resizableColumns:r.resizableColumns,onColumnResizestart:n[6]||(n[6]=B=>t.$emit("column-resizestart",B)),sortMode:r.sortMode,sortField:r.sortField,sortOrder:r.sortOrder,multiSortMeta:r.multiSortMeta,allRowsSelected:r.allRowsSelected,empty:r.empty,onCheckboxChange:n[7]||(n[7]=B=>t.$emit("checkbox-change",B)),filters:r.filters,filterDisplay:r.filterDisplay,filtersStore:r.filtersStore,filterInputProps:r.filterInputProps,onFilterChange:n[8]||(n[8]=B=>t.$emit("filter-change",B)),onFilterApply:n[9]||(n[9]=B=>t.$emit("filter-apply")),onOperatorChange:n[10]||(n[10]=B=>t.$emit("operator-change",B)),onMatchmodeChange:n[11]||(n[11]=B=>t.$emit("matchmode-change",B)),onConstraintAdd:n[12]||(n[12]=B=>t.$emit("constraint-add",B)),onConstraintRemove:n[13]||(n[13]=B=>t.$emit("constraint-remove",B)),onApplyClick:n[14]||(n[14]=B=>t.$emit("apply-click",B))},null,8,["column","groupRowsBy","groupRowSortField","reorderableColumns","resizableColumns","sortMode","sortField","sortOrder","multiSortMeta","allRowsSelected","empty","filters","filterDisplay","filtersStore","filterInputProps"])):Ut("",!0)],64))),128))]),r.filterDisplay==="row"?(ye(),Pe("tr",E2e,[(ye(!0),Pe(qn,null,Sa(r.columns,(A,$)=>(ye(),Pe(qn,{key:d.columnProp(A,"columnKey")||d.columnProp(A,"field")||$},[!d.columnProp(A,"hidden")&&(r.rowGroupMode!=="subheader"||r.groupRowsBy!==d.columnProp(A,"field"))?(ye(),Pe("th",{key:0,style:yr(d.getFilterColumnHeaderStyle(A)),class:rn(d.getFilterColumnHeaderClass(A))},[d.columnProp(A,"selectionMode")==="multiple"?(ye(),Mn(x,{key:0,checked:r.allRowsSelected,disabled:r.empty,onChange:n[15]||(n[15]=B=>t.$emit("checkbox-change",B))},null,8,["checked","disabled"])):Ut("",!0),A.children&&A.children.filter?(ye(),Mn(T,{key:1,field:d.columnProp(A,"filterField")||d.columnProp(A,"field"),type:d.columnProp(A,"dataType"),display:"row",showMenu:d.columnProp(A,"showFilterMenu"),filterElement:A.children&&A.children.filter,filterHeaderTemplate:A.children&&A.children.filterheader,filterFooterTemplate:A.children&&A.children.filterfooter,filterClearTemplate:A.children&&A.children.filterclear,filterApplyTemplate:A.children&&A.children.filterapply,filters:r.filters,filtersStore:r.filtersStore,filterInputProps:r.filterInputProps,onFilterChange:n[16]||(n[16]=B=>t.$emit("filter-change",B)),onFilterApply:n[17]||(n[17]=B=>t.$emit("filter-apply")),filterMenuStyle:d.columnProp(A,"filterMenuStyle"),filterMenuClass:d.columnProp(A,"filterMenuClass"),showOperator:d.columnProp(A,"showFilterOperator"),showClearButton:d.columnProp(A,"showClearButton"),showApplyButton:d.columnProp(A,"showApplyButton"),showMatchModes:d.columnProp(A,"showFilterMatchModes"),showAddButton:d.columnProp(A,"showAddButton"),matchModeOptions:d.columnProp(A,"filterMatchModeOptions"),maxConstraints:d.columnProp(A,"maxConstraints"),onOperatorChange:n[18]||(n[18]=B=>t.$emit("operator-change",B)),onMatchmodeChange:n[19]||(n[19]=B=>t.$emit("matchmode-change",B)),onConstraintAdd:n[20]||(n[20]=B=>t.$emit("constraint-add",B)),onConstraintRemove:n[21]||(n[21]=B=>t.$emit("constraint-remove",B)),onApplyClick:n[22]||(n[22]=B=>t.$emit("apply-click",B))},null,8,["field","type","showMenu","filterElement","filterHeaderTemplate","filterFooterTemplate","filterClearTemplate","filterApplyTemplate","filters","filtersStore","filterInputProps","filterMenuStyle","filterMenuClass","showOperator","showClearButton","showApplyButton","showMatchModes","showAddButton","matchModeOptions","maxConstraints"])):Ut("",!0)],6)):Ut("",!0)],64))),128))])):Ut("",!0)],64))])}eue.render=T2e;var tue={name:"DataTable",emits:["value-change","update:first","update:rows","page","update:sortField","update:sortOrder","update:multiSortMeta","sort","filter","row-click","row-dblclick","update:selection","row-select","row-unselect","update:contextMenuSelection","row-contextmenu","row-unselect-all","row-select-all","select-all-change","column-resize-end","column-reorder","row-reorder","update:expandedRows","row-collapse","row-expand","update:expandedRowGroups","rowgroup-collapse","rowgroup-expand","update:filters","state-restore","state-save","cell-edit-init","cell-edit-complete","cell-edit-cancel","update:editingRows","row-edit-init","row-edit-save","row-edit-cancel"],props:{value:{type:Array,default:null},dataKey:{type:[String,Function],default:null},rows:{type:Number,default:0},first:{type:Number,default:0},totalRecords:{type:Number,default:0},paginator:{type:Boolean,default:!1},paginatorPosition:{type:String,default:"bottom"},alwaysShowPaginator:{type:Boolean,default:!0},paginatorTemplate:{type:[Object,String],default:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},pageLinkSize:{type:Number,default:5},rowsPerPageOptions:{type:Array,default:null},currentPageReportTemplate:{type:String,default:"({currentPage} of {totalPages})"},lazy:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner"},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},defaultSortOrder:{type:Number,default:1},multiSortMeta:{type:Array,default:null},sortMode:{type:String,default:"single"},removableSort:{type:Boolean,default:!1},filters:{type:Object,default:null},filterDisplay:{type:String,default:null},globalFilterFields:{type:Array,default:null},filterLocale:{type:String,default:void 0},selection:{type:[Array,Object],default:null},selectionMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},metaKeySelection:{type:Boolean,default:!0},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},selectAll:{type:Boolean,default:null},rowHover:{type:Boolean,default:!1},csvSeparator:{type:String,default:","},exportFilename:{type:String,default:"download"},exportFunction:{type:Function,default:null},resizableColumns:{type:Boolean,default:!1},columnResizeMode:{type:String,default:"fit"},reorderableColumns:{type:Boolean,default:!1},expandedRows:{type:Array,default:null},expandedRowIcon:{type:String,default:"pi-chevron-down"},collapsedRowIcon:{type:String,default:"pi-chevron-right"},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},stateStorage:{type:String,default:"session"},stateKey:{type:String,default:null},editMode:{type:String,default:null},editingRows:{type:Array,default:null},rowClass:{type:null,default:null},rowStyle:{type:null,default:null},scrollable:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},scrollHeight:{type:String,default:null},frozenValue:{type:Array,default:null},responsiveLayout:{type:String,default:"scroll"},breakpoint:{type:String,default:"960px"},showGridlines:{type:Boolean,default:!1},stripedRows:{type:Boolean,default:!1},tableStyle:{type:null,default:null},tableClass:{type:String,default:null},tableProps:{type:null,default:null},filterInputProps:{type:null,default:null}},data(){return{d_first:this.first,d_rows:this.rows,d_sortField:this.sortField,d_sortOrder:this.sortOrder,d_multiSortMeta:this.multiSortMeta?[...this.multiSortMeta]:[],d_groupRowsSortMeta:null,d_selectionKeys:null,d_expandedRowKeys:null,d_columnOrder:null,d_editingRowKeys:null,d_editingMeta:{},d_filters:this.cloneFilters(this.filters)}},rowTouched:!1,anchorRowIndex:null,rangeRowIndex:null,documentColumnResizeListener:null,documentColumnResizeEndListener:null,lastResizeHelperX:null,resizeColumnElement:null,columnResizing:!1,colReorderIconWidth:null,colReorderIconHeight:null,draggedColumn:null,draggedRowIndex:null,droppedRowIndex:null,rowDragging:null,columnWidthsState:null,tableWidthState:null,columnWidthsRestored:!1,watch:{first(t){this.d_first=t},rows(t){this.d_rows=t},sortField(t){this.d_sortField=t},sortOrder(t){this.d_sortOrder=t},multiSortMeta(t){this.d_multiSortMeta=t},selection:{immediate:!0,handler(t){this.dataKey&&this.updateSelectionKeys(t)}},expandedRows(t){this.dataKey&&this.updateExpandedRowKeys(t)},editingRows(t){this.dataKey&&this.updateEditingRowKeys(t)},filters:{deep:!0,handler:function(t){this.d_filters=this.cloneFilters(t)}}},beforeMount(){this.isStateful()&&this.restoreState()},mounted(){this.$el.setAttribute(this.attributeSelector,""),this.responsiveLayout==="stack"&&!this.scrollable&&this.createResponsiveStyle(),this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.editMode==="row"&&this.dataKey&&!this.d_editingRowKeys&&this.updateEditingRowKeys(this.editingRows)},beforeUnmount(){this.unbindColumnResizeEvents(),this.destroyStyleElement(),this.destroyResponsiveStyle()},updated(){this.isStateful()&&this.saveState(),this.editMode==="row"&&this.dataKey&&!this.d_editingRowKeys&&this.updateEditingRowKeys(this.editingRows)},methods:{columnProp(t,n){return An.getVNodeProp(t,n)},onPage(t){this.clearEditingMetaData(),this.d_first=t.first,this.d_rows=t.rows;let n=this.createLazyLoadEvent(t);n.pageCount=t.pageCount,n.page=t.page,this.$emit("update:first",this.d_first),this.$emit("update:rows",this.d_rows),this.$emit("page",n),this.$emit("value-change",this.processedData)},onColumnHeaderClick(t){const n=t.originalEvent,r=t.column;if(this.columnProp(r,"sortable")){const u=n.target,f=this.columnProp(r,"sortField")||this.columnProp(r,"field");(Ge.hasClass(u,"p-sortable-column")||Ge.hasClass(u,"p-column-title")||Ge.hasClass(u,"p-column-header-content")||Ge.hasClass(u,"p-sortable-column-icon")||Ge.hasClass(u.parentElement,"p-sortable-column-icon"))&&(Ge.clearSelection(),this.sortMode==="single"?(this.d_sortField===f?this.removableSort&&this.d_sortOrder*-1===this.defaultSortOrder?(this.d_sortOrder=null,this.d_sortField=null):this.d_sortOrder=this.d_sortOrder*-1:(this.d_sortOrder=this.defaultSortOrder,this.d_sortField=f),this.$emit("update:sortField",this.d_sortField),this.$emit("update:sortOrder",this.d_sortOrder),this.resetPage()):this.sortMode==="multiple"&&(n.metaKey||n.ctrlKey||(this.d_multiSortMeta=this.d_multiSortMeta.filter(w=>w.field===f)),this.addMultiSortField(f),this.$emit("update:multiSortMeta",this.d_multiSortMeta)),this.$emit("sort",this.createLazyLoadEvent(n)),this.$emit("value-change",this.processedData))}},sortSingle(t){if(this.clearEditingMetaData(),this.groupRowsBy&&this.groupRowsBy===this.sortField)return this.d_multiSortMeta=[{field:this.sortField,order:this.sortOrder||this.defaultSortOrder},{field:this.d_sortField,order:this.d_sortOrder}],this.sortMultiple(t);let n=[...t];return n.sort((r,u)=>{let f=An.resolveFieldData(r,this.d_sortField),d=An.resolveFieldData(u,this.d_sortField),w=null;return f==null&&d!=null?w=-1:f!=null&&d==null?w=1:f==null&&d==null?w=0:typeof f=="string"&&typeof d=="string"?w=f.localeCompare(d,void 0,{numeric:!0}):w=f<d?-1:f>d?1:0,this.d_sortOrder*w}),n},sortMultiple(t){if(this.clearEditingMetaData(),this.groupRowsBy&&(this.d_groupRowsSortMeta||this.d_multiSortMeta.length&&this.groupRowsBy===this.d_multiSortMeta[0].field)){const r=this.d_multiSortMeta[0];!this.d_groupRowsSortMeta&&(this.d_groupRowsSortMeta=r),r.field!==this.d_groupRowsSortMeta.field&&(this.d_multiSortMeta=[this.d_groupRowsSortMeta,...this.d_multiSortMeta])}let n=[...t];return n.sort((r,u)=>this.multisortField(r,u,0)),n},multisortField(t,n,r){const u=An.resolveFieldData(t,this.d_multiSortMeta[r].field),f=An.resolveFieldData(n,this.d_multiSortMeta[r].field);let d=null;if(typeof u=="string"||u instanceof String){if(u.localeCompare&&u!==f)return this.d_multiSortMeta[r].order*u.localeCompare(f,void 0,{numeric:!0})}else d=u<f?-1:1;return u===f?this.d_multiSortMeta.length-1>r?this.multisortField(t,n,r+1):0:this.d_multiSortMeta[r].order*d},addMultiSortField(t){let n=this.d_multiSortMeta.findIndex(r=>r.field===t);n>=0?this.removableSort&&this.d_multiSortMeta[n].order*-1===this.defaultSortOrder?this.d_multiSortMeta.splice(n,1):this.d_multiSortMeta[n]={field:t,order:this.d_multiSortMeta[n].order*-1}:this.d_multiSortMeta.push({field:t,order:this.defaultSortOrder}),this.d_multiSortMeta=[...this.d_multiSortMeta]},filter(t){if(!t)return;this.clearEditingMetaData();let n;this.filters.global&&(n=this.globalFilterFields||this.columns.map(f=>this.columnProp(f,"filterField")||this.columnProp(f,"field")));let r=[];for(let f=0;f<t.length;f++){let d=!0,w=!1,x=!1;for(let A in this.filters)if(Object.prototype.hasOwnProperty.call(this.filters,A)&&A!=="global"){x=!0;let $=A,B=this.filters[$];if(B.operator){for(let H of B.constraints)if(d=this.executeLocalFilter($,t[f],H),B.operator===kV.OR&&d||B.operator===kV.AND&&!d)break}else d=this.executeLocalFilter($,t[f],B);if(!d)break}if(this.filters.global&&!w&&n)for(let A=0;A<n.length;A++){let $=n[A];if(w=uJ.filters[this.filters.global.matchMode||Ec.CONTAINS](An.resolveFieldData(t[f],$),this.filters.global.value,this.filterLocale),w)break}let T;this.filters.global?T=x?x&&d&&w:w:T=x&&d,T&&r.push(t[f])}r.length===this.value.length&&(r=t);let u=this.createLazyLoadEvent();return u.filteredValue=r,this.$emit("filter",u),this.$emit("value-change",r),r},executeLocalFilter(t,n,r){let u=r.value,f=r.matchMode||Ec.STARTS_WITH,d=An.resolveFieldData(n,t),w=uJ.filters[f];return w(d,u,this.filterLocale)},onRowClick(t){const n=t.originalEvent,r=t.index,u=this.$refs.bodyRef&&this.$refs.bodyRef.$el,f=Ge.findSingle(u,'tr.p-selectable-row[tabindex="0"]');if(!Ge.isClickable(n.target)){if(this.$emit("row-click",t),this.selectionMode){const d=t.data,w=this.d_first+t.index;if(this.isMultipleSelectionMode()&&n.shiftKey&&this.anchorRowIndex!=null)Ge.clearSelection(),this.rangeRowIndex=w,this.selectRange(n);else{const x=this.isSelected(d),T=this.rowTouched?!1:this.metaKeySelection;if(this.anchorRowIndex=w,this.rangeRowIndex=w,T){let A=n.metaKey||n.ctrlKey;if(x&&A){if(this.isSingleSelectionMode())this.$emit("update:selection",null);else{const $=this.findIndexInSelection(d),B=this.selection.filter((H,le)=>le!=$);this.$emit("update:selection",B)}this.$emit("row-unselect",{originalEvent:n,data:d,index:w,type:"row"})}else{if(this.isSingleSelectionMode())this.$emit("update:selection",d);else if(this.isMultipleSelectionMode()){let $=A?this.selection||[]:[];$=[...$,d],this.$emit("update:selection",$)}this.$emit("row-select",{originalEvent:n,data:d,index:w,type:"row"})}}else if(this.selectionMode==="single")x?(this.$emit("update:selection",null),this.$emit("row-unselect",{originalEvent:n,data:d,index:w,type:"row"})):(this.$emit("update:selection",d),this.$emit("row-select",{originalEvent:n,data:d,index:w,type:"row"}));else if(this.selectionMode==="multiple")if(x){const A=this.findIndexInSelection(d),$=this.selection.filter((B,H)=>H!=A);this.$emit("update:selection",$),this.$emit("row-unselect",{originalEvent:n,data:d,index:w,type:"row"})}else{const A=this.selection?[...this.selection,d]:[d];this.$emit("update:selection",A),this.$emit("row-select",{originalEvent:n,data:d,index:w,type:"row"})}}}this.rowTouched=!1,f&&(f.tabIndex="-1",Ge.find(u,"tr.p-selectable-row")[r].tabIndex="0")}},onRowDblClick(t){const n=t.originalEvent;Ge.isClickable(n.target)||this.$emit("row-dblclick",t)},onRowRightClick(t){Ge.clearSelection(),t.originalEvent.target.focus(),this.$emit("update:contextMenuSelection",t.data),this.$emit("row-contextmenu",t)},onRowTouchEnd(){this.rowTouched=!0},onRowKeyDown(t,n){const r=t.originalEvent,u=t.data,f=t.index,d=r.metaKey||r.ctrlKey;if(this.selectionMode){const w=r.target;switch(r.code){case"ArrowDown":this.onArrowDownKey(r,w,f,n);break;case"ArrowUp":this.onArrowUpKey(r,w,f,n);break;case"Home":this.onHomeKey(r,w,f,n);break;case"End":this.onEndKey(r,w,f,n);break;case"Enter":this.onEnterKey(r,u,f);break;case"Space":this.onSpaceKey(r,u,f,n);break;case"Tab":this.onTabKey(r,f);break;default:if(r.code==="KeyA"&&d){const x=this.dataToRender(n.rows);this.$emit("update:selection",x)}break}}},onArrowDownKey(t,n,r,u){const f=this.findNextSelectableRow(n);if(f&&this.focusRowChange(n,f),t.shiftKey){const d=this.dataToRender(u.rows),w=r+1>=d.length?d.length-1:r+1;this.onRowClick({originalEvent:t,data:d[w],index:w})}t.preventDefault()},onArrowUpKey(t,n,r,u){const f=this.findPrevSelectableRow(n);if(f&&this.focusRowChange(n,f),t.shiftKey){const d=this.dataToRender(u.rows),w=r-1<=0?0:r-1;this.onRowClick({originalEvent:t,data:d[w],index:w})}t.preventDefault()},onHomeKey(t,n,r,u){const f=this.findFirstSelectableRow();if(f&&this.focusRowChange(n,f),t.ctrlKey&&t.shiftKey){const d=this.dataToRender(u.rows);this.$emit("update:selection",d.slice(0,r+1))}t.preventDefault()},onEndKey(t,n,r,u){const f=this.findLastSelectableRow();if(f&&this.focusRowChange(n,f),t.ctrlKey&&t.shiftKey){const d=this.dataToRender(u.rows);this.$emit("update:selection",d.slice(r,d.length))}t.preventDefault()},onEnterKey(t,n,r){this.onRowClick({originalEvent:t,data:n,index:r}),t.preventDefault()},onSpaceKey(t,n,r,u){if(this.onEnterKey(t,n,r),t.shiftKey&&this.selection!==null){const f=this.dataToRender(u.rows);let d;if(this.selection.length>0){let x,T;x=An.findIndexInList(this.selection[0],f),T=An.findIndexInList(this.selection[this.selection.length-1],f),d=r<=x?T:x}else d=An.findIndexInList(this.selection,f);const w=d!==r?f.slice(Math.min(d,r),Math.max(d,r)+1):n;this.$emit("update:selection",w)}},onTabKey(t,n){const r=this.$refs.bodyRef&&this.$refs.bodyRef.$el,u=Ge.find(r,"tr.p-selectable-row");if(t.code==="Tab"&&u&&u.length>0){const f=Ge.findSingle(r,"tr.p-highlight"),d=Ge.findSingle(r,'tr.p-selectable-row[tabindex="0"]');f?(f.tabIndex="0",d&&d!==f&&(d.tabIndex="-1")):(u[0].tabIndex="0",d!==u[0]&&(u[n].tabIndex="-1"))}},findNextSelectableRow(t){let n=t.nextElementSibling;return n?Ge.hasClass(n,"p-selectable-row")?n:this.findNextSelectableRow(n):null},findPrevSelectableRow(t){let n=t.previousElementSibling;return n?Ge.hasClass(n,"p-selectable-row")?n:this.findPrevSelectableRow(n):null},findFirstSelectableRow(){return Ge.findSingle(this.$refs.table,".p-selectable-row")},findLastSelectableRow(){const t=Ge.find(this.$refs.table,".p-selectable-row");return t?t[t.length-1]:null},focusRowChange(t,n){t.tabIndex="-1",n.tabIndex="0",Ge.focus(n)},toggleRowWithRadio(t){const n=t.data;this.isSelected(n)?(this.$emit("update:selection",null),this.$emit("row-unselect",{originalEvent:t.originalEvent,data:n,index:t.index,type:"radiobutton"})):(this.$emit("update:selection",n),this.$emit("row-select",{originalEvent:t.originalEvent,data:n,index:t.index,type:"radiobutton"}))},toggleRowWithCheckbox(t){const n=t.data;if(this.isSelected(n)){const r=this.findIndexInSelection(n),u=this.selection.filter((f,d)=>d!=r);this.$emit("update:selection",u),this.$emit("row-unselect",{originalEvent:t.originalEvent,data:n,index:t.index,type:"checkbox"})}else{let r=this.selection?[...this.selection]:[];r=[...r,n],this.$emit("update:selection",r),this.$emit("row-select",{originalEvent:t.originalEvent,data:n,index:t.index,type:"checkbox"})}},toggleRowsWithCheckbox(t){if(this.selectAll!==null)this.$emit("select-all-change",t);else{const{originalEvent:n,checked:r}=t;let u=[];r?(u=this.frozenValue?[...this.frozenValue,...this.processedData]:this.processedData,this.$emit("row-select-all",{originalEvent:n,data:u})):this.$emit("row-unselect-all",{originalEvent:n}),this.$emit("update:selection",u)}},isSingleSelectionMode(){return this.selectionMode==="single"},isMultipleSelectionMode(){return this.selectionMode==="multiple"},isSelected(t){return t&&this.selection?this.dataKey?this.d_selectionKeys?this.d_selectionKeys[An.resolveFieldData(t,this.dataKey)]!==void 0:!1:this.selection instanceof Array?this.findIndexInSelection(t)>-1:this.equals(t,this.selection):!1},findIndexInSelection(t){return this.findIndex(t,this.selection)},findIndex(t,n){let r=-1;if(n&&n.length){for(let u=0;u<n.length;u++)if(this.equals(t,n[u])){r=u;break}}return r},updateSelectionKeys(t){if(this.d_selectionKeys={},Array.isArray(t))for(let n of t)this.d_selectionKeys[String(An.resolveFieldData(n,this.dataKey))]=1;else this.d_selectionKeys[String(An.resolveFieldData(t,this.dataKey))]=1},updateExpandedRowKeys(t){if(t&&t.length){this.d_expandedRowKeys={};for(let n of t)this.d_expandedRowKeys[String(An.resolveFieldData(n,this.dataKey))]=1}else this.d_expandedRowKeys=null},updateEditingRowKeys(t){if(t&&t.length){this.d_editingRowKeys={};for(let n of t)this.d_editingRowKeys[String(An.resolveFieldData(n,this.dataKey))]=1}else this.d_editingRowKeys=null},equals(t,n){return this.compareSelectionBy==="equals"?t===n:An.equals(t,n,this.dataKey)},selectRange(t){let n,r;this.rangeRowIndex>this.anchorRowIndex?(n=this.anchorRowIndex,r=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(n=this.rangeRowIndex,r=this.anchorRowIndex):(n=this.rangeRowIndex,r=this.rangeRowIndex),this.lazy&&this.paginator&&(n-=this.first,r-=this.first);const u=this.processedData;let f=[];for(let d=n;d<=r;d++){let w=u[d];f.push(w),this.$emit("row-select",{originalEvent:t,data:w,type:"row"})}this.$emit("update:selection",f)},exportCSV(t,n){let r="\uFEFF";n||(n=this.processedData,t&&t.selectionOnly?n=this.selection||[]:this.frozenValue&&(n=n?[...this.frozenValue,...n]:this.frozenValue));let u=!1;for(let d=0;d<this.columns.length;d++){let w=this.columns[d];this.columnProp(w,"exportable")!==!1&&this.columnProp(w,"field")&&(u?r+=this.csvSeparator:u=!0,r+='"'+(this.columnProp(w,"exportHeader")||this.columnProp(w,"header")||this.columnProp(w,"field"))+'"')}n&&n.forEach(d=>{r+=`
`;let w=!1;for(let x=0;x<this.columns.length;x++){let T=this.columns[x];if(this.columnProp(T,"exportable")!==!1&&this.columnProp(T,"field")){w?r+=this.csvSeparator:w=!0;let A=An.resolveFieldData(d,this.columnProp(T,"field"));A!=null?this.exportFunction?A=this.exportFunction({data:A,field:this.columnProp(T,"field")}):A=String(A).replace(/"/g,'""'):A="",r+='"'+A+'"'}}});let f=!1;for(let d=0;d<this.columns.length;d++){let w=this.columns[d];d===0&&(r+=`
`),this.columnProp(w,"exportable")!==!1&&this.columnProp(w,"exportFooter")&&(f?r+=this.csvSeparator:f=!0,r+='"'+(this.columnProp(w,"exportFooter")||this.columnProp(w,"footer")||this.columnProp(w,"field"))+'"')}Ge.exportCSV(r,this.exportFilename)},resetPage(){this.d_first=0,this.$emit("update:first",this.d_first)},onColumnResizeStart(t){let n=Ge.getOffset(this.$el).left;this.resizeColumnElement=t.target.parentElement,this.columnResizing=!0,this.lastResizeHelperX=t.pageX-n+this.$el.scrollLeft,this.bindColumnResizeEvents()},onColumnResize(t){let n=Ge.getOffset(this.$el).left;Ge.addClass(this.$el,"p-unselectable-text"),this.$refs.resizeHelper.style.height=this.$el.offsetHeight+"px",this.$refs.resizeHelper.style.top=0+"px",this.$refs.resizeHelper.style.left=t.pageX-n+this.$el.scrollLeft+"px",this.$refs.resizeHelper.style.display="block"},onColumnResizeEnd(){let t=this.$refs.resizeHelper.offsetLeft-this.lastResizeHelperX,n=this.resizeColumnElement.offsetWidth,r=n+t,u=this.resizeColumnElement.style.minWidth||15;if(n+t>parseInt(u,10)){if(this.columnResizeMode==="fit"){let d=this.resizeColumnElement.nextElementSibling.offsetWidth-t;r>15&&d>15&&this.resizeTableCells(r,d)}else if(this.columnResizeMode==="expand"){const f=this.$refs.table.offsetWidth+t+"px",d=w=>{w&&(w.style.width=w.style.minWidth=f)};if(d(this.$refs.table),!this.virtualScrollerDisabled){const w=this.$refs.bodyRef&&this.$refs.bodyRef.$el,x=this.$refs.frozenBodyRef&&this.$refs.frozenBodyRef.$el;d(w),d(x)}this.resizeTableCells(r)}this.$emit("column-resize-end",{element:this.resizeColumnElement,delta:t})}this.$refs.resizeHelper.style.display="none",this.resizeColumn=null,Ge.removeClass(this.$el,"p-unselectable-text"),this.unbindColumnResizeEvents(),this.isStateful()&&this.saveState()},resizeTableCells(t,n){let r=Ge.index(this.resizeColumnElement),u=[];Ge.find(this.$refs.table,".p-datatable-thead > tr > th").forEach(x=>u.push(Ge.getOuterWidth(x))),this.destroyStyleElement(),this.createStyleElement();let d="",w=`.p-datatable[${this.attributeSelector}] > .p-datatable-wrapper ${this.virtualScrollerDisabled?"":"> .p-virtualscroller"} > .p-datatable-table`;u.forEach((x,T)=>{let A=T===r?t:n&&T===r+1?n:x,$=`width: ${A}px !important; max-width: ${A}px !important`;d+=`
                    ${w} > .p-datatable-thead > tr > th:nth-child(${T+1}),
                    ${w} > .p-datatable-tbody > tr > td:nth-child(${T+1}),
                    ${w} > .p-datatable-tfoot > tr > td:nth-child(${T+1}) {
                        ${$}
                    }
                `}),this.styleElement.innerHTML=d},bindColumnResizeEvents(){this.documentColumnResizeListener||(this.documentColumnResizeListener=document.addEventListener("mousemove",()=>{this.columnResizing&&this.onColumnResize(event)})),this.documentColumnResizeEndListener||(this.documentColumnResizeEndListener=document.addEventListener("mouseup",()=>{this.columnResizing&&(this.columnResizing=!1,this.onColumnResizeEnd())}))},unbindColumnResizeEvents(){this.documentColumnResizeListener&&(document.removeEventListener("document",this.documentColumnResizeListener),this.documentColumnResizeListener=null),this.documentColumnResizeEndListener&&(document.removeEventListener("document",this.documentColumnResizeEndListener),this.documentColumnResizeEndListener=null)},onColumnHeaderMouseDown(t){const n=t.originalEvent,r=t.column;this.reorderableColumns&&this.columnProp(r,"reorderableColumn")!==!1&&(n.target.nodeName==="INPUT"||n.target.nodeName==="TEXTAREA"||Ge.hasClass(n.target,"p-column-resizer")?n.currentTarget.draggable=!1:n.currentTarget.draggable=!0)},onColumnHeaderDragStart(t){if(this.columnResizing){t.preventDefault();return}this.colReorderIconWidth=Ge.getHiddenElementOuterWidth(this.$refs.reorderIndicatorUp),this.colReorderIconHeight=Ge.getHiddenElementOuterHeight(this.$refs.reorderIndicatorUp),this.draggedColumn=this.findParentHeader(t.target),t.dataTransfer.setData("text","b")},onColumnHeaderDragOver(t){let n=this.findParentHeader(t.target);if(this.reorderableColumns&&this.draggedColumn&&n){t.preventDefault();let r=Ge.getOffset(this.$el),u=Ge.getOffset(n);if(this.draggedColumn!==n){let f=u.left-r.left,d=u.left+n.offsetWidth/2;this.$refs.reorderIndicatorUp.style.top=u.top-r.top-(this.colReorderIconHeight-1)+"px",this.$refs.reorderIndicatorDown.style.top=u.top-r.top+n.offsetHeight+"px",t.pageX>d?(this.$refs.reorderIndicatorUp.style.left=f+n.offsetWidth-Math.ceil(this.colReorderIconWidth/2)+"px",this.$refs.reorderIndicatorDown.style.left=f+n.offsetWidth-Math.ceil(this.colReorderIconWidth/2)+"px",this.dropPosition=1):(this.$refs.reorderIndicatorUp.style.left=f-Math.ceil(this.colReorderIconWidth/2)+"px",this.$refs.reorderIndicatorDown.style.left=f-Math.ceil(this.colReorderIconWidth/2)+"px",this.dropPosition=-1),this.$refs.reorderIndicatorUp.style.display="block",this.$refs.reorderIndicatorDown.style.display="block"}}},onColumnHeaderDragLeave(t){this.reorderableColumns&&this.draggedColumn&&(t.preventDefault(),this.$refs.reorderIndicatorUp.style.display="none",this.$refs.reorderIndicatorDown.style.display="none")},onColumnHeaderDrop(t){if(t.preventDefault(),this.draggedColumn){let n=Ge.index(this.draggedColumn),r=Ge.index(this.findParentHeader(t.target)),u=n!==r;u&&(r-n===1&&this.dropPosition===-1||r-n===-1&&this.dropPosition===1)&&(u=!1),u&&(An.reorderArray(this.columns,n,r),this.updateReorderableColumns(),this.$emit("column-reorder",{originalEvent:t,dragIndex:n,dropIndex:r})),this.$refs.reorderIndicatorUp.style.display="none",this.$refs.reorderIndicatorDown.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}},findParentHeader(t){if(t.nodeName==="TH")return t;{let n=t.parentElement;for(;n.nodeName!=="TH"&&(n=n.parentElement,!!n););return n}},findColumnByKey(t,n){if(t&&t.length)for(let r=0;r<t.length;r++){let u=t[r];if(this.columnProp(u,"columnKey")===n||this.columnProp(u,"field")===n)return u}return null},onRowMouseDown(t){Ge.hasClass(t.target,"p-datatable-reorderablerow-handle")?t.currentTarget.draggable=!0:t.currentTarget.draggable=!1},onRowDragStart(t){const n=t.originalEvent,r=t.index;this.rowDragging=!0,this.draggedRowIndex=r,n.dataTransfer.setData("text","b")},onRowDragOver(t){const n=t.originalEvent,r=t.index;if(this.rowDragging&&this.draggedRowIndex!==r){let u=n.currentTarget,f=Ge.getOffset(u).top+Ge.getWindowScrollTop(),d=n.pageY,w=f+Ge.getOuterHeight(u)/2,x=u.previousElementSibling;d<w?(Ge.removeClass(u,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=r,x?Ge.addClass(x,"p-datatable-dragpoint-bottom"):Ge.addClass(u,"p-datatable-dragpoint-top")):(x?Ge.removeClass(x,"p-datatable-dragpoint-bottom"):Ge.addClass(u,"p-datatable-dragpoint-top"),this.droppedRowIndex=r+1,Ge.addClass(u,"p-datatable-dragpoint-bottom")),n.preventDefault()}},onRowDragLeave(t){let n=t.currentTarget,r=n.previousElementSibling;r&&Ge.removeClass(r,"p-datatable-dragpoint-bottom"),Ge.removeClass(n,"p-datatable-dragpoint-bottom"),Ge.removeClass(n,"p-datatable-dragpoint-top")},onRowDragEnd(t){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null,t.currentTarget.draggable=!1},onRowDrop(t){if(this.droppedRowIndex!=null){let n=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:this.droppedRowIndex===0?0:this.droppedRowIndex-1,r=[...this.processedData];An.reorderArray(r,this.draggedRowIndex+this.d_first,n+this.d_first),this.$emit("row-reorder",{originalEvent:t,dragIndex:this.draggedRowIndex,dropIndex:n,value:r})}this.onRowDragLeave(t),this.onRowDragEnd(t),t.preventDefault()},toggleRow(t){let n=t.data,r,u,f=this.expandedRows?[...this.expandedRows]:[];this.dataKey?r=this.d_expandedRowKeys?this.d_expandedRowKeys[An.resolveFieldData(n,this.dataKey)]!==void 0:!1:(u=this.findIndex(n,this.expandedRows),r=u>-1),r?(u==null&&(u=this.findIndex(n,this.expandedRows)),f.splice(u,1),this.$emit("update:expandedRows",f),this.$emit("row-collapse",t)):(f.push(n),this.$emit("update:expandedRows",f),this.$emit("row-expand",t))},toggleRowGroup(t){const n=t.originalEvent,r=t.data,u=An.resolveFieldData(r,this.groupRowsBy);let f=this.expandedRowGroups?[...this.expandedRowGroups]:[];this.isRowGroupExpanded(r)?(f=f.filter(d=>d!==u),this.$emit("update:expandedRowGroups",f),this.$emit("rowgroup-collapse",{originalEvent:n,data:u})):(f.push(u),this.$emit("update:expandedRowGroups",f),this.$emit("rowgroup-expand",{originalEvent:n,data:u}))},isRowGroupExpanded(t){if(this.expandableRowGroups&&this.expandedRowGroups){let n=An.resolveFieldData(t,this.groupRowsBy);return this.expandedRowGroups.indexOf(n)>-1}return!1},isStateful(){return this.stateKey!=null},getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}},saveState(){const t=this.getStorage();let n={};this.paginator&&(n.first=this.d_first,n.rows=this.d_rows),this.d_sortField&&(n.sortField=this.d_sortField,n.sortOrder=this.d_sortOrder),this.d_multiSortMeta&&(n.multiSortMeta=this.d_multiSortMeta),this.hasFilters&&(n.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(n),this.reorderableColumns&&(n.columnOrder=this.d_columnOrder),this.expandedRows&&(n.expandedRows=this.expandedRows,n.expandedRowKeys=this.d_expandedRowKeys),this.expandedRowGroups&&(n.expandedRowGroups=this.expandedRowGroups),this.selection&&(n.selection=this.selection,n.selectionKeys=this.d_selectionKeys),Object.keys(n).length&&t.setItem(this.stateKey,JSON.stringify(n)),this.$emit("state-save",n)},restoreState(){const n=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,u=function(f,d){return typeof d=="string"&&r.test(d)?new Date(d):d};if(n){let f=JSON.parse(n,u);this.paginator&&(this.d_first=f.first,this.d_rows=f.rows),f.sortField&&(this.d_sortField=f.sortField,this.d_sortOrder=f.sortOrder),f.multiSortMeta&&(this.d_multiSortMeta=f.multiSortMeta),f.filters&&this.$emit("update:filters",f.filters),this.resizableColumns&&(this.columnWidthsState=f.columnWidths,this.tableWidthState=f.tableWidth),this.reorderableColumns&&(this.d_columnOrder=f.columnOrder),f.expandedRows&&(this.d_expandedRowKeys=f.expandedRowKeys,this.$emit("update:expandedRows",f.expandedRows)),f.expandedRowGroups&&this.$emit("update:expandedRowGroups",f.expandedRowGroups),f.selection&&(this.d_selectionKeys=f.d_selectionKeys,this.$emit("update:selection",f.selection)),this.$emit("state-restore",f)}},saveColumnWidths(t){let n=[];Ge.find(this.$el,".p-datatable-thead > tr > th").forEach(u=>n.push(Ge.getOuterWidth(u))),t.columnWidths=n.join(","),this.columnResizeMode==="expand"&&(t.tableWidth=Ge.getOuterWidth(this.$refs.table)+"px")},restoreColumnWidths(){if(this.columnWidthsState){let t=this.columnWidthsState.split(",");if(this.columnResizeMode==="expand"&&this.tableWidthState&&(this.$refs.table.style.width=this.tableWidthState,this.$refs.table.style.minWidth=this.tableWidthState,this.$el.style.width=this.tableWidthState),An.isNotEmpty(t)){this.createStyleElement();let n="",r=`.p-datatable[${this.attributeSelector}] > .p-datatable-wrapper ${this.virtualScrollerDisabled?"":"> .p-virtualscroller"} > .p-datatable-table`;t.forEach((u,f)=>{let d=`width: ${u}px !important; max-width: ${u}px !important`;n+=`
                            ${r} > .p-datatable-thead > tr > th:nth-child(${f+1}),
                            ${r} > .p-datatable-tbody > tr > td:nth-child(${f+1}),
                            ${r} > .p-datatable-tfoot > tr > td:nth-child(${f+1}) {
                                ${d}
                            }
                        `}),this.styleElement.innerHTML=n}}},onCellEditInit(t){this.$emit("cell-edit-init",t)},onCellEditComplete(t){this.$emit("cell-edit-complete",t)},onCellEditCancel(t){this.$emit("cell-edit-cancel",t)},onRowEditInit(t){let n=this.editingRows?[...this.editingRows]:[];n.push(t.data),this.$emit("update:editingRows",n),this.$emit("row-edit-init",t)},onRowEditSave(t){let n=[...this.editingRows];n.splice(this.findIndex(t.data,n),1),this.$emit("update:editingRows",n),this.$emit("row-edit-save",t)},onRowEditCancel(t){let n=[...this.editingRows];n.splice(this.findIndex(t.data,n),1),this.$emit("update:editingRows",n),this.$emit("row-edit-cancel",t)},onEditingMetaChange(t){let{data:n,field:r,index:u,editing:f}=t,d={...this.d_editingMeta},w=d[u];if(f)!w&&(w=d[u]={data:{...n},fields:[]}),w.fields.push(r);else if(w){const x=w.fields.filter(T=>T!==r);x.length?w.fields=x:delete d[u]}this.d_editingMeta=d},clearEditingMetaData(){this.editMode&&(this.d_editingMeta={})},createLazyLoadEvent(t){return{originalEvent:t,first:this.d_first,rows:this.d_rows,sortField:this.d_sortField,sortOrder:this.d_sortOrder,multiSortMeta:this.d_multiSortMeta,filters:this.d_filters}},hasGlobalFilter(){return this.filters&&Object.prototype.hasOwnProperty.call(this.filters,"global")},getChildren(){return this.$slots.default?this.$slots.default():null},onFilterChange(t){this.d_filters=t},onFilterApply(){this.d_first=0,this.$emit("update:first",this.d_first),this.$emit("update:filters",this.d_filters),this.lazy&&this.$emit("filter",this.createLazyLoadEvent())},cloneFilters(){let t={};return this.filters&&Object.entries(this.filters).forEach(([n,r])=>{t[n]=r.operator?{operator:r.operator,constraints:r.constraints.map(u=>({...u}))}:{...r}}),t},updateReorderableColumns(){let t=[];this.columns.forEach(n=>t.push(this.columnProp(n,"columnKey")||this.columnProp(n,"field"))),this.d_columnOrder=t},createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)},createResponsiveStyle(){if(!this.responsiveStyleElement){this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement);let t=`.p-datatable-wrapper ${this.virtualScrollerDisabled?"":"> .p-virtualscroller"} > .p-datatable-table`,n=`.p-datatable[${this.attributeSelector}] > ${t}`,r=`.p-datatable[${this.attributeSelector}].p-datatable-gridlines > ${t}`,u=`
@media screen and (max-width: ${this.breakpoint}) {
    ${n} > .p-datatable-thead > tr > th,
    ${n} > .p-datatable-tfoot > tr > td {
        display: none !important;
    }

    ${n} > .p-datatable-tbody > tr > td {
        display: flex;
        width: 100% !important;
        align-items: center;
        justify-content: space-between;
    }

    ${n} > .p-datatable-tbody > tr > td:not(:last-child) {
        border: 0 none;
    }

    ${r} > .p-datatable-tbody > tr > td:last-child {
        border-top: 0;
        border-right: 0;
        border-left: 0;
    }

    ${n} > .p-datatable-tbody > tr > td > .p-column-title {
        display: block;
    }
}
`;this.responsiveStyleElement.innerHTML=u}},destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)},destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},recursiveGetChildren(t,n){return n||(n=[]),t&&t.length&&t.forEach(r=>{r.children instanceof Array?n.concat(this.recursiveGetChildren(r.children,n)):r.type.name=="Column"&&n.push(r)}),n},dataToRender(t){const n=t||this.processedData;if(n&&this.paginator){const r=this.lazy?0:this.d_first;return n.slice(r,r+this.d_rows)}return n},getVirtualScrollerRef(){return this.$refs.virtualScroller},hasSpacerStyle(t){return An.isNotEmpty(t)}},computed:{containerClass(){return["p-datatable p-component",{"p-datatable-hoverable-rows":this.rowHover||this.selectionMode,"p-datatable-resizable":this.resizableColumns,"p-datatable-resizable-fit":this.resizableColumns&&this.columnResizeMode==="fit","p-datatable-scrollable":this.scrollable,"p-datatable-flex-scrollable":this.scrollable&&this.scrollHeight==="flex","p-datatable-responsive-stack":this.responsiveLayout==="stack","p-datatable-responsive-scroll":this.responsiveLayout==="scroll","p-datatable-striped":this.stripedRows,"p-datatable-gridlines":this.showGridlines,"p-datatable-grouped-header":this.headerColumnGroup!=null,"p-datatable-grouped-footer":this.footerColumnGroup!=null}]},tableStyleClass(){return["p-datatable-table",{"p-datatable-scrollable-table":this.scrollable,"p-datatable-resizable-table":this.resizableColumns,"p-datatable-resizable-table-fit":this.resizableColumns&&this.columnResizeMode==="fit"},this.tableClass]},columns(){let t=this.getChildren();if(!t)return;const n=this.recursiveGetChildren(t,[]);if(this.reorderableColumns&&this.d_columnOrder){let r=[];for(let u of this.d_columnOrder){let f=this.findColumnByKey(n,u);f&&!this.columnProp(f,"hidden")&&r.push(f)}return[...r,...n.filter(u=>r.indexOf(u)<0)]}return n},headerColumnGroup(){const t=this.getChildren();if(t){for(let n of t)if(n.type.name==="ColumnGroup"&&this.columnProp(n,"type")==="header")return n}return null},footerColumnGroup(){const t=this.getChildren();if(t){for(let n of t)if(n.type.name==="ColumnGroup"&&this.columnProp(n,"type")==="footer")return n}return null},hasFilters(){return this.filters&&Object.keys(this.filters).length>0&&this.filters.constructor===Object},processedData(){let t=this.value||[];return this.lazy||t&&t.length&&(this.hasFilters&&(t=this.filter(t)),this.sorted&&(this.sortMode==="single"?t=this.sortSingle(t):this.sortMode==="multiple"&&(t=this.sortMultiple(t)))),t},totalRecordsLength(){if(this.lazy)return this.totalRecords;{const t=this.processedData;return t?t.length:0}},empty(){const t=this.processedData;return!t||t.length===0},paginatorTop(){return this.paginator&&(this.paginatorPosition!=="bottom"||this.paginatorPosition==="both")},paginatorBottom(){return this.paginator&&(this.paginatorPosition!=="top"||this.paginatorPosition==="both")},sorted(){return this.d_sortField||this.d_multiSortMeta&&this.d_multiSortMeta.length>0},loadingIconClass(){return["p-datatable-loading-icon pi-spin",this.loadingIcon]},allRowsSelected(){if(this.selectAll!==null)return this.selectAll;{const t=this.frozenValue?[...this.frozenValue,...this.processedData]:this.processedData;return An.isNotEmpty(t)&&this.selection&&Array.isArray(this.selection)&&t.every(n=>this.selection.some(r=>this.equals(r,n)))}},attributeSelector(){return Gu()},groupRowSortField(){return this.sortMode==="single"?this.sortField:this.d_groupRowsSortMeta?this.d_groupRowsSortMeta.field:null},virtualScrollerDisabled(){return An.isEmpty(this.virtualScrollerOptions)||!this.scrollable}},components:{DTPaginator:Zce,DTTableHeader:eue,DTTableBody:Yce,DTTableFooter:Jce,DTVirtualScroller:Dee}};const R2e={key:0,class:"p-datatable-loading-overlay p-component-overlay"},I2e={key:1,class:"p-datatable-header"},A2e={key:3,class:"p-datatable-footer"},O2e={ref:"resizeHelper",class:"p-column-resizer-helper",style:{display:"none"}},D2e={key:5,ref:"reorderIndicatorUp",class:"pi pi-arrow-down p-datatable-reorder-indicator-up",style:{position:"absolute",display:"none"}},M2e={key:6,ref:"reorderIndicatorDown",class:"pi pi-arrow-up p-datatable-reorder-indicator-down",style:{position:"absolute",display:"none"}};function P2e(t,n,r,u,f,d){const w=Dn("DTPaginator"),x=Dn("DTTableHeader"),T=Dn("DTTableBody"),A=Dn("DTTableFooter"),$=Dn("DTVirtualScroller");return ye(),Pe("div",{class:rn(d.containerClass),"data-scrollselectors":".p-datatable-wrapper"},[_o(t.$slots,"default"),r.loading?(ye(),Pe("div",R2e,[t.$slots.loading?_o(t.$slots,"loading",{key:0}):(ye(),Pe("i",{key:1,class:rn(d.loadingIconClass)},null,2))])):Ut("",!0),t.$slots.header?(ye(),Pe("div",I2e,[_o(t.$slots,"header")])):Ut("",!0),d.paginatorTop?(ye(),Mn(w,{key:2,rows:f.d_rows,first:f.d_first,totalRecords:d.totalRecordsLength,pageLinkSize:r.pageLinkSize,template:r.paginatorTemplate,rowsPerPageOptions:r.rowsPerPageOptions,currentPageReportTemplate:r.currentPageReportTemplate,class:"p-paginator-top",onPage:n[0]||(n[0]=B=>d.onPage(B)),alwaysShow:r.alwaysShowPaginator},eJ({_:2},[t.$slots.paginatorstart?{name:"start",fn:is(()=>[_o(t.$slots,"paginatorstart")]),key:"0"}:void 0,t.$slots.paginatorend?{name:"end",fn:is(()=>[_o(t.$slots,"paginatorend")]),key:"1"}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","alwaysShow"])):Ut("",!0),rt("div",{class:"p-datatable-wrapper",style:yr({maxHeight:d.virtualScrollerDisabled?r.scrollHeight:""})},[Nn($,cr({ref:"virtualScroller"},r.virtualScrollerOptions,{items:d.processedData,columns:d.columns,style:r.scrollHeight!=="flex"?{height:r.scrollHeight}:void 0,scrollHeight:r.scrollHeight!=="flex"?void 0:"100%",disabled:d.virtualScrollerDisabled,loaderDisabled:"",inline:"",autoSize:"",showSpacer:!1}),{content:is(B=>[rt("table",cr({ref:"table",role:"table",class:d.tableStyleClass,style:[r.tableStyle,B.spacerStyle]},r.tableProps),[Nn(x,{columnGroup:d.headerColumnGroup,columns:B.columns,rowGroupMode:r.rowGroupMode,groupRowsBy:r.groupRowsBy,groupRowSortField:d.groupRowSortField,reorderableColumns:r.reorderableColumns,resizableColumns:r.resizableColumns,allRowsSelected:d.allRowsSelected,empty:d.empty,sortMode:r.sortMode,sortField:f.d_sortField,sortOrder:f.d_sortOrder,multiSortMeta:f.d_multiSortMeta,filters:f.d_filters,filtersStore:r.filters,filterDisplay:r.filterDisplay,filterInputProps:r.filterInputProps,onColumnClick:n[1]||(n[1]=H=>d.onColumnHeaderClick(H)),onColumnMousedown:n[2]||(n[2]=H=>d.onColumnHeaderMouseDown(H)),onFilterChange:d.onFilterChange,onFilterApply:d.onFilterApply,onColumnDragstart:n[3]||(n[3]=H=>d.onColumnHeaderDragStart(H)),onColumnDragover:n[4]||(n[4]=H=>d.onColumnHeaderDragOver(H)),onColumnDragleave:n[5]||(n[5]=H=>d.onColumnHeaderDragLeave(H)),onColumnDrop:n[6]||(n[6]=H=>d.onColumnHeaderDrop(H)),onColumnResizestart:n[7]||(n[7]=H=>d.onColumnResizeStart(H)),onCheckboxChange:n[8]||(n[8]=H=>d.toggleRowsWithCheckbox(H))},null,8,["columnGroup","columns","rowGroupMode","groupRowsBy","groupRowSortField","reorderableColumns","resizableColumns","allRowsSelected","empty","sortMode","sortField","sortOrder","multiSortMeta","filters","filtersStore","filterDisplay","filterInputProps","onFilterChange","onFilterApply"]),r.frozenValue?(ye(),Mn(T,{key:0,ref:"frozenBodyRef",value:r.frozenValue,frozenRow:!0,class:"p-datatable-frozen-tbody",columns:B.columns,first:f.d_first,dataKey:r.dataKey,selection:r.selection,selectionKeys:f.d_selectionKeys,selectionMode:r.selectionMode,contextMenu:r.contextMenu,contextMenuSelection:r.contextMenuSelection,rowGroupMode:r.rowGroupMode,groupRowsBy:r.groupRowsBy,expandableRowGroups:r.expandableRowGroups,rowClass:r.rowClass,rowStyle:r.rowStyle,editMode:r.editMode,compareSelectionBy:r.compareSelectionBy,scrollable:r.scrollable,expandedRowIcon:r.expandedRowIcon,collapsedRowIcon:r.collapsedRowIcon,expandedRows:r.expandedRows,expandedRowKeys:f.d_expandedRowKeys,expandedRowGroups:r.expandedRowGroups,editingRows:r.editingRows,editingRowKeys:f.d_editingRowKeys,templates:t.$slots,responsiveLayout:r.responsiveLayout,isVirtualScrollerDisabled:!0,onRowgroupToggle:d.toggleRowGroup,onRowClick:n[9]||(n[9]=H=>d.onRowClick(H)),onRowDblclick:n[10]||(n[10]=H=>d.onRowDblClick(H)),onRowRightclick:n[11]||(n[11]=H=>d.onRowRightClick(H)),onRowTouchend:d.onRowTouchEnd,onRowKeydown:d.onRowKeyDown,onRowMousedown:d.onRowMouseDown,onRowDragstart:n[12]||(n[12]=H=>d.onRowDragStart(H)),onRowDragover:n[13]||(n[13]=H=>d.onRowDragOver(H)),onRowDragleave:n[14]||(n[14]=H=>d.onRowDragLeave(H)),onRowDragend:n[15]||(n[15]=H=>d.onRowDragEnd(H)),onRowDrop:n[16]||(n[16]=H=>d.onRowDrop(H)),onRowToggle:n[17]||(n[17]=H=>d.toggleRow(H)),onRadioChange:n[18]||(n[18]=H=>d.toggleRowWithRadio(H)),onCheckboxChange:n[19]||(n[19]=H=>d.toggleRowWithCheckbox(H)),onCellEditInit:n[20]||(n[20]=H=>d.onCellEditInit(H)),onCellEditComplete:n[21]||(n[21]=H=>d.onCellEditComplete(H)),onCellEditCancel:n[22]||(n[22]=H=>d.onCellEditCancel(H)),onRowEditInit:n[23]||(n[23]=H=>d.onRowEditInit(H)),onRowEditSave:n[24]||(n[24]=H=>d.onRowEditSave(H)),onRowEditCancel:n[25]||(n[25]=H=>d.onRowEditCancel(H)),editingMeta:f.d_editingMeta,onEditingMetaChange:d.onEditingMetaChange},null,8,["value","columns","first","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowKeys","expandedRowGroups","editingRows","editingRowKeys","templates","responsiveLayout","onRowgroupToggle","onRowTouchend","onRowKeydown","onRowMousedown","editingMeta","onEditingMetaChange"])):Ut("",!0),Nn(T,{ref:"bodyRef",value:d.dataToRender(B.rows),class:rn(B.styleClass),columns:B.columns,empty:d.empty,first:f.d_first,dataKey:r.dataKey,selection:r.selection,selectionKeys:f.d_selectionKeys,selectionMode:r.selectionMode,contextMenu:r.contextMenu,contextMenuSelection:r.contextMenuSelection,rowGroupMode:r.rowGroupMode,groupRowsBy:r.groupRowsBy,expandableRowGroups:r.expandableRowGroups,rowClass:r.rowClass,rowStyle:r.rowStyle,editMode:r.editMode,compareSelectionBy:r.compareSelectionBy,scrollable:r.scrollable,expandedRowIcon:r.expandedRowIcon,collapsedRowIcon:r.collapsedRowIcon,expandedRows:r.expandedRows,expandedRowKeys:f.d_expandedRowKeys,expandedRowGroups:r.expandedRowGroups,editingRows:r.editingRows,editingRowKeys:f.d_editingRowKeys,templates:t.$slots,responsiveLayout:r.responsiveLayout,virtualScrollerContentProps:B,isVirtualScrollerDisabled:d.virtualScrollerDisabled,onRowgroupToggle:d.toggleRowGroup,onRowClick:n[26]||(n[26]=H=>d.onRowClick(H)),onRowDblclick:n[27]||(n[27]=H=>d.onRowDblClick(H)),onRowRightclick:n[28]||(n[28]=H=>d.onRowRightClick(H)),onRowTouchend:d.onRowTouchEnd,onRowKeydown:H=>d.onRowKeyDown(H,B),onRowMousedown:d.onRowMouseDown,onRowDragstart:n[29]||(n[29]=H=>d.onRowDragStart(H)),onRowDragover:n[30]||(n[30]=H=>d.onRowDragOver(H)),onRowDragleave:n[31]||(n[31]=H=>d.onRowDragLeave(H)),onRowDragend:n[32]||(n[32]=H=>d.onRowDragEnd(H)),onRowDrop:n[33]||(n[33]=H=>d.onRowDrop(H)),onRowToggle:n[34]||(n[34]=H=>d.toggleRow(H)),onRadioChange:n[35]||(n[35]=H=>d.toggleRowWithRadio(H)),onCheckboxChange:n[36]||(n[36]=H=>d.toggleRowWithCheckbox(H)),onCellEditInit:n[37]||(n[37]=H=>d.onCellEditInit(H)),onCellEditComplete:n[38]||(n[38]=H=>d.onCellEditComplete(H)),onCellEditCancel:n[39]||(n[39]=H=>d.onCellEditCancel(H)),onRowEditInit:n[40]||(n[40]=H=>d.onRowEditInit(H)),onRowEditSave:n[41]||(n[41]=H=>d.onRowEditSave(H)),onRowEditCancel:n[42]||(n[42]=H=>d.onRowEditCancel(H)),editingMeta:f.d_editingMeta,onEditingMetaChange:d.onEditingMetaChange},null,8,["value","class","columns","empty","first","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowKeys","expandedRowGroups","editingRows","editingRowKeys","templates","responsiveLayout","virtualScrollerContentProps","isVirtualScrollerDisabled","onRowgroupToggle","onRowTouchend","onRowKeydown","onRowMousedown","editingMeta","onEditingMetaChange"]),d.hasSpacerStyle(B.spacerStyle)?(ye(),Pe("tbody",{key:1,style:yr({height:`calc(${B.spacerStyle.height} - ${B.rows.length*B.itemSize}px)`}),class:"p-datatable-virtualscroller-spacer"},null,4)):Ut("",!0),Nn(A,{columnGroup:d.footerColumnGroup,columns:B.columns},null,8,["columnGroup","columns"])],16)]),_:1},16,["items","columns","style","scrollHeight","disabled"])],4),t.$slots.footer?(ye(),Pe("div",A2e,[_o(t.$slots,"footer")])):Ut("",!0),d.paginatorBottom?(ye(),Mn(w,{key:4,rows:f.d_rows,first:f.d_first,totalRecords:d.totalRecordsLength,pageLinkSize:r.pageLinkSize,template:r.paginatorTemplate,rowsPerPageOptions:r.rowsPerPageOptions,currentPageReportTemplate:r.currentPageReportTemplate,class:"p-paginator-bottom",onPage:n[43]||(n[43]=B=>d.onPage(B)),alwaysShow:r.alwaysShowPaginator},eJ({_:2},[t.$slots.paginatorstart?{name:"start",fn:is(()=>[_o(t.$slots,"paginatorstart")]),key:"0"}:void 0,t.$slots.paginatorend?{name:"end",fn:is(()=>[_o(t.$slots,"paginatorend")]),key:"1"}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","alwaysShow"])):Ut("",!0),rt("div",O2e,null,512),r.reorderableColumns?(ye(),Pe("span",D2e,null,512)):Ut("",!0),r.reorderableColumns?(ye(),Pe("span",M2e,null,512)):Ut("",!0)],2)}function z2e(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var N2e=`
.p-datatable {
    position: relative;
}
.p-datatable > .p-datatable-wrapper {
    overflow: auto;
}
.p-datatable-table {
    border-spacing: 0px;
    width: 100%;
}
.p-datatable .p-sortable-column {
    cursor: pointer;
    user-select: none;
}
.p-datatable .p-sortable-column .p-column-title,
.p-datatable .p-sortable-column .p-sortable-column-icon,
.p-datatable .p-sortable-column .p-sortable-column-badge {
    vertical-align: middle;
}
.p-datatable .p-sortable-column .p-sortable-column-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}
.p-datatable-hoverable-rows .p-selectable-row {
    cursor: pointer;
}

/* Scrollable */
.p-datatable-scrollable > .p-datatable-wrapper {
    position: relative;
}
.p-datatable-scrollable-table > .p-datatable-thead {
    position: sticky;
    top: 0;
    z-index: 1;
}
.p-datatable-scrollable-table > .p-datatable-frozen-tbody {
    position: sticky;
    z-index: 1;
}
.p-datatable-scrollable-table > .p-datatable-tfoot {
    position: sticky;
    bottom: 0;
    z-index: 1;
}
.p-datatable-scrollable .p-frozen-column {
    position: sticky;
    background: inherit;
}
.p-datatable-scrollable th.p-frozen-column {
    z-index: 1;
}
.p-datatable-flex-scrollable {
    display: flex;
    flex-direction: column;
    height: 100%;
}
.p-datatable-flex-scrollable > .p-datatable-wrapper {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}
.p-datatable-scrollable-table > .p-datatable-tbody > .p-rowgroup-header {
    position: sticky;
    z-index: 1;
}

/* Resizable */
.p-datatable-resizable-table > .p-datatable-thead > tr > th,
.p-datatable-resizable-table > .p-datatable-tfoot > tr > td,
.p-datatable-resizable-table > .p-datatable-tbody > tr > td {
    overflow: hidden;
    white-space: nowrap;
}
.p-datatable-resizable-table > .p-datatable-thead > tr > th.p-resizable-column:not(.p-frozen-column) {
    background-clip: padding-box;
    position: relative;
}
.p-datatable-resizable-table-fit > .p-datatable-thead > tr > th.p-resizable-column:last-child .p-column-resizer {
    display: none;
}
.p-datatable .p-column-resizer {
    display: block;
    position: absolute !important;
    top: 0;
    right: 0;
    margin: 0;
    width: 0.5rem;
    height: 100%;
    padding: 0px;
    cursor: col-resize;
    border: 1px solid transparent;
}
.p-datatable .p-column-header-content {
    display: flex;
    align-items: center;
}
.p-datatable .p-column-resizer-helper {
    width: 1px;
    position: absolute;
    z-index: 10;
    display: none;
}
.p-datatable .p-row-editor-init,
.p-datatable .p-row-editor-save,
.p-datatable .p-row-editor-cancel {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

/* Expand */
.p-datatable .p-row-toggler {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

/* Reorder */
.p-datatable-reorder-indicator-up,
.p-datatable-reorder-indicator-down {
    position: absolute;
    display: none;
}
.p-reorderable-column,
.p-datatable-reorderablerow-handle {
    cursor: move;
}

/* Loader */
.p-datatable .p-datatable-loading-overlay {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

/* Filter */
.p-column-filter-row {
    display: flex;
    align-items: center;
    width: 100%;
}
.p-column-filter-menu {
    display: inline-flex;
    margin-left: auto;
}
.p-column-filter-row .p-column-filter-element {
    flex: 1 1 auto;
    width: 1%;
}
.p-column-filter-menu-button,
.p-column-filter-clear-button {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
.p-column-filter-overlay {
    position: absolute;
    top: 0;
    left: 0;
}
.p-column-filter-row-items {
    margin: 0;
    padding: 0;
    list-style: none;
}
.p-column-filter-row-item {
    cursor: pointer;
}
.p-column-filter-add-button,
.p-column-filter-remove-button {
    justify-content: center;
}
.p-column-filter-add-button .p-button-label,
.p-column-filter-remove-button .p-button-label {
    flex-grow: 0;
}
.p-column-filter-buttonbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.p-column-filter-buttonbar .p-button:not(.p-button-icon-only) {
    width: auto;
}

/* Responsive */
.p-datatable .p-datatable-tbody > tr > td > .p-column-title {
    display: none;
}

/* VirtualScroller */
.p-datatable-virtualscroller-spacer {
    display: flex;
}
.p-datatable .p-virtualscroller .p-virtualscroller-loading {
    transform: none !important;
    min-height: 0;
    position: sticky;
    top: 0;
    left: 0;
}
`;z2e(N2e);tue.render=P2e;var L2e={name:"Column",props:{columnKey:{type:null,default:null},field:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},filterField:{type:[String,Function],default:null},dataType:{type:String,default:"text"},sortable:{type:Boolean,default:!1},header:{type:null,default:null},footer:{type:null,default:null},style:{type:null,default:null},class:{type:String,default:null},headerStyle:{type:null,default:null},headerClass:{type:String,default:null},bodyStyle:{type:null,default:null},bodyClass:{type:String,default:null},footerStyle:{type:null,default:null},footerClass:{type:String,default:null},showFilterMenu:{type:Boolean,default:!0},showFilterOperator:{type:Boolean,default:!0},showClearButton:{type:Boolean,default:!0},showApplyButton:{type:Boolean,default:!0},showFilterMatchModes:{type:Boolean,default:!0},showAddButton:{type:Boolean,default:!0},filterMatchModeOptions:{type:Array,default:null},maxConstraints:{type:Number,default:2},excludeGlobalFilter:{type:Boolean,default:!1},filterHeaderClass:{type:String,default:null},filterHeaderStyle:{type:null,default:null},filterMenuClass:{type:String,default:null},filterMenuStyle:{type:null,default:null},selectionMode:{type:String,default:null},expander:{type:Boolean,default:!1},colspan:{type:Number,default:null},rowspan:{type:Number,default:null},rowReorder:{type:Boolean,default:!1},rowReorderIcon:{type:String,default:"pi pi-bars"},reorderableColumn:{type:Boolean,default:!0},rowEditor:{type:Boolean,default:!1},frozen:{type:Boolean,default:!1},alignFrozen:{type:String,default:"left"},exportable:{type:Boolean,default:!0},exportHeader:{type:String,default:null},exportFooter:{type:String,default:null},filterMatchMode:{type:String,default:null},hidden:{type:Boolean,default:!1}},render(){return null}},nue={name:"Chart",emits:["select","loaded"],props:{type:String,data:null,options:null,plugins:null,width:{type:Number,default:300},height:{type:Number,default:150},canvasProps:{type:null,default:null}},chart:null,watch:{data:{handler(){this.reinit()},deep:!0},type(){this.reinit()},options(){this.reinit()}},mounted(){this.initChart()},beforeUnmount(){this.chart&&(this.chart.destroy(),this.chart=null)},methods:{initChart(){Al(()=>import("./auto.519f8e56.js"),[]).then(t=>{this.chart&&(this.chart.destroy(),this.chart=null),t&&t.default&&(this.chart=new t.default(this.$refs.canvas,{type:this.type,data:this.data,options:this.options,plugins:this.plugins})),this.$emit("loaded",this.chart)})},getCanvas(){return this.$canvas},getChart(){return this.chart},getBase64Image(){return this.chart.toBase64Image()},refresh(){this.chart&&this.chart.update()},reinit(){this.initChart()},onCanvasClick(t){if(this.chart){const n=this.chart.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1),r=this.chart.getElementsAtEventForMode(t,"dataset",{intersect:!0},!1);n&&n[0]&&r&&this.$emit("select",{originalEvent:t,element:n[0],dataset:r})}},generateLegend(){if(this.chart)return this.chart.generateLegend()}}};const B2e={class:"p-chart"},F2e=["width","height"];function $2e(t,n,r,u,f,d){return ye(),Pe("div",B2e,[rt("canvas",cr({ref:"canvas",width:r.width,height:r.height,onClick:n[0]||(n[0]=w=>d.onCanvasClick(w))},r.canvasProps),null,16,F2e)])}function V2e(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var H2e=`
.p-chart {
    position: relative;
}
`;V2e(H2e);nue.render=$2e;var oue={name:"Tag",props:{value:null,severity:null,rounded:Boolean,icon:String},computed:{containerClass(){return["p-tag p-component",{"p-tag-info":this.severity==="info","p-tag-success":this.severity==="success","p-tag-warning":this.severity==="warning","p-tag-danger":this.severity==="danger","p-tag-rounded":this.rounded}]},iconClass(){return["p-tag-icon",this.icon]}}};const U2e={class:"p-tag-value"};function j2e(t,n,r,u,f,d){return ye(),Pe("span",{class:rn(d.containerClass)},[r.icon?(ye(),Pe("span",{key:0,class:rn(d.iconClass)},null,2)):Ut("",!0),_o(t.$slots,"default",{},()=>[rt("span",U2e,Ho(r.value),1)])],2)}function W2e(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var Z2e=`
.p-tag {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}
.p-tag-icon,
.p-tag-value,
.p-tag-icon.pi {
    line-height: 1.5;
}
.p-tag.p-tag-rounded {
    border-radius: 10rem;
}
`;W2e(Z2e);oue.render=j2e;var sue={name:"Textarea",emits:["update:modelValue"],props:{modelValue:null,autoResize:Boolean},mounted(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize(){const t=window.getComputedStyle(this.$el);this.$el.style.height="auto",this.$el.style.height=`calc(${t.borderTopWidth} + ${t.borderBottomWidth} + ${this.$el.scrollHeight}px)`,parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput(t){this.autoResize&&this.resize(),this.$emit("update:modelValue",t.target.value)}},computed:{filled(){return this.modelValue!=null&&this.modelValue.toString().length>0}}};const G2e=["value"];function q2e(t,n,r,u,f,d){return ye(),Pe("textarea",{class:rn(["p-inputtextarea p-inputtext p-component",{"p-filled":d.filled,"p-inputtextarea-resizable ":r.autoResize}]),value:r.modelValue,onInput:n[0]||(n[0]=(...w)=>d.onInput&&d.onInput(...w))},null,42,G2e)}function K2e(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var Y2e=`
.p-inputtextarea-resizable {
    overflow: hidden;
    resize: none;
}
.p-fluid .p-inputtextarea {
    width: 100%;
}
`;K2e(Y2e);sue.render=q2e;var rue={name:"Knob",emits:["update:modelValue","change"],props:{modelValue:{type:Number,default:null},size:{type:Number,default:100},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},step:{type:Number,default:1},min:{type:Number,default:0},max:{type:Number,default:100},valueColor:{type:String,default:"var(--primary-color, Black)"},rangeColor:{type:String,default:"var(--surface-border, LightGray)"},textColor:{type:String,default:"var(--text-color-secondary, Black)"},strokeWidth:{type:Number,default:14},showValue:{type:Boolean,default:!0},valueTemplate:{type:String,default:"{value}"},tabindex:{type:Number,default:0},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{radius:40,midX:50,midY:50,minRadians:4*Math.PI/3,maxRadians:-Math.PI/3}},methods:{updateValue(t,n){let r=t-this.size/2,u=this.size/2-n,f=Math.atan2(u,r),d=-Math.PI/2-Math.PI/6;this.updateModel(f,d)},updateModel(t,n){let r;if(t>this.maxRadians)r=this.mapRange(t,this.minRadians,this.maxRadians,this.min,this.max);else if(t<n)r=this.mapRange(t+2*Math.PI,this.minRadians,this.maxRadians,this.min,this.max);else return;let u=Math.round((r-this.min)/this.step)*this.step+this.min;this.$emit("update:modelValue",u),this.$emit("change",u)},updateModelValue(t){t>this.max?this.$emit("update:modelValue",this.max):t<this.min?this.$emit("update:modelValue",this.min):this.$emit("update:modelValue",t)},mapRange(t,n,r,u,f){return(t-n)*(f-u)/(r-n)+u},onClick(t){!this.disabled&&!this.readonly&&this.updateValue(t.offsetX,t.offsetY)},onMouseDown(t){!this.disabled&&!this.readonly&&(window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),t.preventDefault())},onMouseUp(t){!this.disabled&&!this.readonly&&(window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),t.preventDefault())},onTouchStart(t){!this.disabled&&!this.readonly&&(window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),t.preventDefault())},onTouchEnd(t){!this.disabled&&!this.readonly&&(window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),t.preventDefault())},onMouseMove(t){!this.disabled&&!this.readonly&&(this.updateValue(t.offsetX,t.offsetY),t.preventDefault())},onTouchMove(t){if(!this.disabled&&!this.readonly&&t.touches.length==1){const n=this.$el.getBoundingClientRect(),r=t.targetTouches.item(0),u=r.clientX-n.left,f=r.clientY-n.top;this.updateValue(u,f)}},onKeyDown(t){if(!this.disabled&&!this.readonly)switch(t.code){case"ArrowRight":case"ArrowUp":{t.preventDefault(),this.updateModelValue(this.modelValue+1);break}case"ArrowLeft":case"ArrowDown":{t.preventDefault(),this.updateModelValue(this.modelValue-1);break}case"Home":{t.preventDefault(),this.$emit("update:modelValue",this.min);break}case"End":{t.preventDefault(),this.$emit("update:modelValue",this.max);break}case"PageUp":{t.preventDefault(),this.updateModelValue(this.modelValue+10);break}case"PageDown":{t.preventDefault(),this.updateModelValue(this.modelValue-10);break}}}},computed:{containerClass(){return["p-knob p-component",{"p-disabled":this.disabled}]},rangePath(){return`M ${this.minX} ${this.minY} A ${this.radius} ${this.radius} 0 1 1 ${this.maxX} ${this.maxY}`},valuePath(){return`M ${this.zeroX} ${this.zeroY} A ${this.radius} ${this.radius} 0 ${this.largeArc} ${this.sweep} ${this.valueX} ${this.valueY}`},zeroRadians(){return this.min>0&&this.max>0?this.mapRange(this.min,this.min,this.max,this.minRadians,this.maxRadians):this.mapRange(0,this.min,this.max,this.minRadians,this.maxRadians)},valueRadians(){return this.mapRange(this.modelValue,this.min,this.max,this.minRadians,this.maxRadians)},minX(){return this.midX+Math.cos(this.minRadians)*this.radius},minY(){return this.midY-Math.sin(this.minRadians)*this.radius},maxX(){return this.midX+Math.cos(this.maxRadians)*this.radius},maxY(){return this.midY-Math.sin(this.maxRadians)*this.radius},zeroX(){return this.midX+Math.cos(this.zeroRadians)*this.radius},zeroY(){return this.midY-Math.sin(this.zeroRadians)*this.radius},valueX(){return this.midX+Math.cos(this.valueRadians)*this.radius},valueY(){return this.midY-Math.sin(this.valueRadians)*this.radius},largeArc(){return Math.abs(this.zeroRadians-this.valueRadians)<Math.PI?0:1},sweep(){return this.valueRadians>this.zeroRadians?0:1},valueToDisplay(){return this.valueTemplate.replace(/{value}/g,this.modelValue)}}};const X2e=["width","height","tabindex","aria-valuemin","aria-valuemax","aria-valuenow","aria-labelledby","aria-label"],J2e=["d","stroke-width","stroke"],Q2e=["d","stroke-width","stroke"],eTe=["fill"];function tTe(t,n,r,u,f,d){return ye(),Pe("div",{class:rn(d.containerClass)},[(ye(),Pe("svg",{viewBox:"0 0 100 100",role:"slider",width:r.size,height:r.size,tabindex:r.readonly||r.disabled?-1:r.tabindex,"aria-valuemin":r.min,"aria-valuemax":r.max,"aria-valuenow":r.modelValue,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,onClick:n[0]||(n[0]=(...w)=>d.onClick&&d.onClick(...w)),onKeydown:n[1]||(n[1]=(...w)=>d.onKeyDown&&d.onKeyDown(...w)),onMousedown:n[2]||(n[2]=(...w)=>d.onMouseDown&&d.onMouseDown(...w)),onMouseup:n[3]||(n[3]=(...w)=>d.onMouseUp&&d.onMouseUp(...w)),onTouchstart:n[4]||(n[4]=(...w)=>d.onTouchStart&&d.onTouchStart(...w)),onTouchend:n[5]||(n[5]=(...w)=>d.onTouchEnd&&d.onTouchEnd(...w))},[rt("path",{d:d.rangePath,"stroke-width":r.strokeWidth,stroke:r.rangeColor,class:"p-knob-range"},null,8,J2e),rt("path",{d:d.valuePath,"stroke-width":r.strokeWidth,stroke:r.valueColor,class:"p-knob-value"},null,8,Q2e),r.showValue?(ye(),Pe("text",{key:0,x:50,y:57,"text-anchor":"middle",fill:r.textColor,class:"p-knob-text"},Ho(d.valueToDisplay),9,eTe)):Ut("",!0)],40,X2e))],2)}function nTe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var oTe=`
@keyframes dash-frame {
100% {
        stroke-dashoffset: 0;
}
}
.p-knob-range {
    fill: none;
    transition: stroke 0.1s ease-in;
}
.p-knob-value {
    animation-name: dash-frame;
    animation-fill-mode: forwards;
    fill: none;
}
.p-knob-text {
    font-size: 1.3rem;
    text-align: center;
}
`;nTe(oTe);rue.render=tTe;var aue={name:"Sidebar",inheritAttrs:!1,emits:["update:visible","show","hide","after-hide"],props:{visible:{type:Boolean,default:!1},position:{type:String,default:"left"},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},dismissable:{type:Boolean,default:!0},showCloseIcon:{type:Boolean,default:!0},closeIcon:{type:String,default:"pi pi-times"},modal:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!1}},data(){return{containerVisible:this.visible}},container:null,mask:null,content:null,headerContainer:null,closeButton:null,outsideClickListener:null,updated(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount(){this.disableDocumentSettings(),this.mask&&this.autoZIndex&&Br.clear(this.mask),this.container=null,this.mask=null},methods:{hide(){this.$emit("update:visible",!1)},onEnter(){this.$emit("show"),this.focus(),this.autoZIndex&&Br.set("modal",this.mask,this.baseZIndex||this.$primevue.config.zIndex.modal)},onAfterEnter(){this.enableDocumentSettings()},onBeforeLeave(){this.modal&&Ge.addClass(this.mask,"p-component-overlay-leave")},onLeave(){this.$emit("hide")},onAfterLeave(){this.autoZIndex&&Br.clear(this.mask),this.containerVisible=!1,this.disableDocumentSettings(),this.$emit("after-hide")},onMaskClick(t){this.dismissable&&this.modal&&this.mask===t.target&&this.hide()},focus(){const t=r=>r.querySelector("[autofocus]");let n=this.$slots.default&&t(this.content);n||(n=this.$slots.header&&t(this.headerContainer),n||(n=t(this.container))),n&&n.focus()},enableDocumentSettings(){this.dismissable&&!this.modal&&this.bindOutsideClickListener(),this.blockScroll&&Ge.addClass(document.body,"p-overflow-hidden")},disableDocumentSettings(){this.unbindOutsideClickListener(),this.blockScroll&&Ge.removeClass(document.body,"p-overflow-hidden")},onKeydown(t){t.code==="Escape"&&this.hide()},containerRef(t){this.container=t},maskRef(t){this.mask=t},contentRef(t){this.content=t},headerContainerRef(t){this.headerContainer=t},closeButtonRef(t){this.closeButton=t},getPositionClass(){const n=["left","right","top","bottom"].find(r=>r===this.position);return n?`p-sidebar-${n}`:""},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=t=>{this.isOutsideClicked(t)&&this.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},isOutsideClicked(t){return this.container&&!this.container.contains(t.target)}},computed:{containerClass(){return["p-sidebar p-component",{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1,"p-sidebar-full":this.fullScreen}]},fullScreen(){return this.position==="full"},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},maskClass(){return["p-sidebar-mask",this.getPositionClass(),{"p-component-overlay p-component-overlay-enter":this.modal,"p-sidebar-mask-scrollblocker":this.blockScroll,"p-sidebar-visible":this.containerVisible,"p-sidebar-full":this.fullScreen}]}},directives:{focustrap:k4,ripple:du},components:{Portal:ug}};const sTe=["aria-modal"],rTe={key:0,class:"p-sidebar-header-content"},aTe=["aria-label"];function iTe(t,n,r,u,f,d){const w=Dn("Portal"),x=Ii("ripple"),T=Ii("focustrap");return ye(),Mn(w,null,{default:is(()=>[f.containerVisible?(ye(),Pe("div",{key:0,ref:d.maskRef,class:rn(d.maskClass),onMousedown:n[2]||(n[2]=(...A)=>d.onMaskClick&&d.onMaskClick(...A))},[Nn(Pf,{name:"p-sidebar",onEnter:d.onEnter,onAfterEnter:d.onAfterEnter,onBeforeLeave:d.onBeforeLeave,onLeave:d.onLeave,onAfterLeave:d.onAfterLeave,appear:""},{default:is(()=>[r.visible?ur((ye(),Pe("div",cr({key:0,ref:d.containerRef,class:d.containerClass,role:"complementary","aria-modal":r.modal,onKeydown:n[1]||(n[1]=(...A)=>d.onKeydown&&d.onKeydown(...A))},t.$attrs),[rt("div",{ref:d.headerContainerRef,class:"p-sidebar-header"},[t.$slots.header?(ye(),Pe("div",rTe,[_o(t.$slots,"header")])):Ut("",!0),r.showCloseIcon?ur((ye(),Pe("button",{key:1,ref:d.closeButtonRef,autofocus:"",type:"button",class:"p-sidebar-close p-sidebar-icon p-link","aria-label":d.closeAriaLabel,onClick:n[0]||(n[0]=(...A)=>d.hide&&d.hide(...A))},[rt("span",{class:rn(["p-sidebar-close-icon",r.closeIcon])},null,2)],8,aTe)),[[x]]):Ut("",!0)],512),rt("div",{ref:d.contentRef,class:"p-sidebar-content"},[_o(t.$slots,"default")],512)],16,sTe)),[[T]]):Ut("",!0)]),_:3},8,["onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])],34)):Ut("",!0)]),_:3})}function lTe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var cTe=`
.p-sidebar-mask {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: none;
    justify-content: center;
    align-items: center;
    pointer-events: none;
    background-color: transparent;
    transition-property: background-color;
}
.p-sidebar-mask.p-component-overlay {
    pointer-events: auto;
}
.p-sidebar-visible {
    display: flex;
}
.p-sidebar {
    display: flex;
    flex-direction: column;
    pointer-events: auto;
    transform: translate3d(0px, 0px, 0px);
    position: relative;
    transition: transform 0.3s;
}
.p-sidebar-content {
    overflow-y: auto;
    flex-grow: 1;
}
.p-sidebar-header {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    flex-shrink: 0;
}
.p-sidebar-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}
.p-sidebar-full .p-sidebar {
    transition: none;
    transform: none;
    width: 100vw !important;
    height: 100vh !important;
    max-height: 100%;
    top: 0px !important;
    left: 0px !important;
}

/* Animation */
/* Center */
.p-sidebar-left .p-sidebar-enter-from,
.p-sidebar-left .p-sidebar-leave-to {
    transform: translateX(-100%);
}
.p-sidebar-right .p-sidebar-enter-from,
.p-sidebar-right .p-sidebar-leave-to {
    transform: translateX(100%);
}
.p-sidebar-top .p-sidebar-enter-from,
.p-sidebar-top .p-sidebar-leave-to {
    transform: translateY(-100%);
}
.p-sidebar-bottom .p-sidebar-enter-from,
.p-sidebar-bottom .p-sidebar-leave-to {
    transform: translateY(100%);
}
.p-sidebar-full .p-sidebar-enter-from,
.p-sidebar-full .p-sidebar-leave-to {
    opacity: 0;
}
.p-sidebar-full .p-sidebar-enter-active,
.p-sidebar-full .p-sidebar-leave-active {
    transition: opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* Position */
.p-sidebar-left {
    justify-content: flex-start;
}
.p-sidebar-right {
    justify-content: flex-end;
}
.p-sidebar-top {
    align-items: flex-start;
}
.p-sidebar-bottom {
    align-items: flex-end;
}

/* Size */
.p-sidebar-left .p-sidebar {
    width: 20rem;
    height: 100%;
}
.p-sidebar-right .p-sidebar {
    width: 20rem;
    height: 100%;
}
.p-sidebar-top .p-sidebar {
    height: 10rem;
    width: 100%;
}
.p-sidebar-bottom .p-sidebar {
    height: 10rem;
    width: 100%;
}
.p-sidebar-left .p-sidebar-sm,
.p-sidebar-right .p-sidebar-sm {
    width: 20rem;
}
.p-sidebar-left .p-sidebar-md,
.p-sidebar-right .p-sidebar-md {
    width: 40rem;
}
.p-sidebar-left .p-sidebar-lg,
.p-sidebar-right .p-sidebar-lg {
    width: 60rem;
}
.p-sidebar-top .p-sidebar-sm,
.p-sidebar-bottom .p-sidebar-sm {
    height: 10rem;
}
.p-sidebar-top .p-sidebar-md,
.p-sidebar-bottom .p-sidebar-md {
    height: 20rem;
}
.p-sidebar-top .p-sidebar-lg,
.p-sidebar-bottom .p-sidebar-lg {
    height: 30rem;
}
.p-sidebar-left .p-sidebar-content,
.p-sidebar-right .p-sidebar-content,
.p-sidebar-top .p-sidebar-content,
.p-sidebar-bottom .p-sidebar-content {
    width: 100%;
    height: 100%;
}
@media screen and (max-width: 64em) {
.p-sidebar-left .p-sidebar-lg,
    .p-sidebar-left .p-sidebar-md,
    .p-sidebar-right .p-sidebar-lg,
    .p-sidebar-right .p-sidebar-md {
        width: 20rem;
}
}
`;lTe(cTe);aue.render=iTe;var iue={name:"Fieldset",emits:["update:collapsed","toggle"],props:{legend:String,toggleable:Boolean,collapsed:Boolean,toggleButtonProps:{type:null,default:null}},data(){return{d_collapsed:this.collapsed}},watch:{collapsed(t){this.d_collapsed=t}},methods:{toggle(t){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:t,value:this.d_collapsed})},onKeyDown(t){(t.code==="Enter"||t.code==="Space")&&(this.toggle(t),t.preventDefault())}},computed:{iconClass(){return["p-fieldset-toggler pi ",{"pi-minus":!this.d_collapsed,"pi-plus":this.d_collapsed}]},ariaId(){return Gu()},buttonAriaLabel(){return this.toggleButtonProps&&this.toggleButtonProps["aria-label"]?this.toggleButtonProps["aria-label"]:this.legend}},directives:{ripple:du}};const uTe={class:"p-fieldset-legend"},dTe=["id"],fTe=["id","aria-controls","aria-expanded","aria-label"],hTe={class:"p-fieldset-legend-text"},mTe=["id","aria-labelledby"],pTe={class:"p-fieldset-content"};function gTe(t,n,r,u,f,d){const w=Ii("ripple");return ye(),Pe("fieldset",{class:rn(["p-fieldset p-component",{"p-fieldset-toggleable":r.toggleable}])},[rt("legend",uTe,[r.toggleable?Ut("",!0):_o(t.$slots,"legend",{key:0},()=>[rt("span",{id:d.ariaId+"_header",class:"p-fieldset-legend-text"},Ho(r.legend),9,dTe)]),r.toggleable?ur((ye(),Pe("a",cr({key:1,id:d.ariaId+"_header",tabindex:"0",role:"button","aria-controls":d.ariaId+"_content","aria-expanded":!f.d_collapsed,"aria-label":d.buttonAriaLabel,onClick:n[0]||(n[0]=(...x)=>d.toggle&&d.toggle(...x)),onKeydown:n[1]||(n[1]=(...x)=>d.onKeyDown&&d.onKeyDown(...x))},r.toggleButtonProps),[rt("span",{class:rn(d.iconClass)},null,2),_o(t.$slots,"legend",{},()=>[rt("span",hTe,Ho(r.legend),1)])],16,fTe)),[[w]]):Ut("",!0)]),Nn(Pf,{name:"p-toggleable-content"},{default:is(()=>[ur(rt("div",{id:d.ariaId+"_content",class:"p-toggleable-content",role:"region","aria-labelledby":d.ariaId+"_header"},[rt("div",pTe,[_o(t.$slots,"default")])],8,mTe),[[bQ,!f.d_collapsed]])]),_:3})],2)}function yTe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var bTe=`
.p-fieldset-legend > a,
.p-fieldset-legend > span {
    display: flex;
    align-items: center;
    justify-content: center;
}
.p-fieldset-toggleable .p-fieldset-legend a {
    cursor: pointer;
    user-select: none;
    overflow: hidden;
    position: relative;
    text-decoration: none;
}
.p-fieldset-legend-text {
    line-height: 1;
}
`;yTe(bTe);iue.render=gTe;var lue={name:"TabMenu",emits:["update:activeIndex","tab-change"],props:{model:{type:Array,default:null},exact:{type:Boolean,default:!0},activeIndex:{type:Number,default:0},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},timeout:null,data(){return{d_activeIndex:this.activeIndex}},watch:{$route(){this.timeout=setTimeout(()=>this.updateInkBar(),50)},activeIndex(t){this.d_activeIndex=t}},mounted(){this.updateInkBar()},updated(){this.updateInkBar()},beforeUnmount(){clearTimeout(this.timeout)},methods:{onItemClick(t,n,r,u){if(this.disabled(n)){t.preventDefault();return}n.command&&n.command({originalEvent:t,item:n}),n.to&&u&&u(t),r!==this.d_activeIndex&&(this.d_activeIndex=r,this.$emit("update:activeIndex",this.d_activeIndex)),this.$emit("tab-change",{originalEvent:t,index:r})},onKeydownItem(t,n,r){let u=r,f={};const d=this.$refs.tabLink;switch(t.code){case"ArrowRight":{f=this.findNextItem(this.$refs.tab,u),u=f.i;break}case"ArrowLeft":{f=this.findPrevItem(this.$refs.tab,u),u=f.i;break}case"End":{f=this.findPrevItem(this.$refs.tab,this.model.length),u=f.i,t.preventDefault();break}case"Home":{f=this.findNextItem(this.$refs.tab,-1),u=f.i,t.preventDefault();break}case"Space":case"Enter":{t.currentTarget&&t.currentTarget.click(),t.preventDefault();break}case"Tab":{this.setDefaultTabIndexes(d);break}}d[u]&&d[r]&&(d[r].tabIndex="-1",d[u].tabIndex="0",d[u].focus())},findNextItem(t,n){let r=n+1;if(r>=t.length)return{nextItem:t[t.length],i:t.length};let u=t[r];return u?Ge.hasClass(u,"p-disabled")?this.findNextItem(t,r):{nextItem:u,i:r}:null},findPrevItem(t,n){let r=n-1;if(r<0)return{nextItem:t[0],i:0};let u=t[r];return u?Ge.hasClass(u,"p-disabled")?this.findPrevItem(t,r):{prevItem:u,i:r}:null},getItemClass(t,n){return["p-tabmenuitem",t.class,{"p-highlight":this.d_activeIndex===n,"p-disabled":this.disabled(t)}]},getRouteItemClass(t,n,r){return["p-tabmenuitem",t.class,{"p-highlight":this.exact?r:n,"p-disabled":this.disabled(t)}]},getItemIcon(t){return["p-menuitem-icon",t.icon]},visible(t){return typeof t.visible=="function"?t.visible():t.visible!==!1},disabled(t){return typeof t.disabled=="function"?t.disabled():t.disabled},label(t){return typeof t.label=="function"?t.label():t.label},setDefaultTabIndexes(t){setTimeout(()=>{t.forEach(n=>{n.tabIndex=Ge.hasClass(n.parentElement,"p-highlight")?"0":"-1"})},300)},setTabIndex(t){return this.d_activeIndex===t?"0":"-1"},updateInkBar(){let t=this.$refs.nav.children,n=!1;for(let r=0;r<t.length;r++){let u=t[r];Ge.hasClass(u,"p-highlight")&&(this.$refs.inkbar.style.width=Ge.getWidth(u)+"px",this.$refs.inkbar.style.left=Ge.getOffset(u).left-Ge.getOffset(this.$refs.nav).left+"px",n=!0)}n||(this.$refs.inkbar.style.width="0px",this.$refs.inkbar.style.left="0px")}},directives:{ripple:du}};const vTe={class:"p-tabmenu p-component"},wTe=["aria-labelledby","aria-label"],_Te=["href","aria-label","aria-disabled","tabindex","onClick","onKeydown"],kTe={class:"p-menuitem-text"},CTe=["onClick","onKeydown"],STe=["href","target","aria-label","aria-disabled","tabindex"],xTe={class:"p-menuitem-text"},ETe={ref:"inkbar",role:"none",class:"p-tabmenu-ink-bar"};function TTe(t,n,r,u,f,d){const w=Dn("router-link"),x=Ii("ripple");return ye(),Pe("div",vTe,[rt("ul",{ref:"nav",class:"p-tabmenu-nav p-reset",role:"menubar","aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel},[(ye(!0),Pe(qn,null,Sa(r.model,(T,A)=>(ye(),Pe(qn,{key:d.label(T)+"_"+A.toString()},[T.to&&!d.disabled(T)?(ye(),Mn(w,{key:0,to:T.to,custom:""},{default:is(({navigate:$,href:B,isActive:H,isExactActive:le})=>[d.visible(T)?(ye(),Pe("li",{key:0,ref_for:!0,ref:"tab",class:rn(d.getRouteItemClass(T,H,le)),style:yr(T.style),role:"presentation"},[t.$slots.item?(ye(),Mn(ja(t.$slots.item),{key:1,item:T,index:A},null,8,["item","index"])):ur((ye(),Pe("a",{key:0,ref_for:!0,ref:"tabLink",role:"menuitem",href:B,class:"p-menuitem-link","aria-label":d.label(T),"aria-disabled":d.disabled(T),tabindex:le?"0":"-1",onClick:ke=>d.onItemClick(ke,T,A,$),onKeydown:ke=>d.onKeydownItem(ke,T,A,$)},[T.icon?(ye(),Pe("span",{key:0,class:rn(d.getItemIcon(T))},null,2)):Ut("",!0),rt("span",kTe,Ho(d.label(T)),1)],40,_Te)),[[x]])],6)):Ut("",!0)]),_:2},1032,["to"])):d.visible(T)?(ye(),Pe("li",{key:1,ref_for:!0,ref:"tab",class:rn(d.getItemClass(T,A)),role:"presentation",onClick:$=>d.onItemClick($,T,A),onKeydown:$=>d.onKeydownItem($,T,A)},[t.$slots.item?(ye(),Mn(ja(t.$slots.item),{key:1,item:T,index:A},null,8,["item","index"])):ur((ye(),Pe("a",{key:0,ref_for:!0,ref:"tabLink",role:"menuitem",href:T.url,class:"p-menuitem-link",target:T.target,"aria-label":d.label(T),"aria-disabled":d.disabled(T),tabindex:d.setTabIndex(A)},[T.icon?(ye(),Pe("span",{key:0,class:rn(d.getItemIcon(T))},null,2)):Ut("",!0),rt("span",xTe,Ho(d.label(T)),1)],8,STe)),[[x]])],42,CTe)):Ut("",!0)],64))),128)),rt("li",ETe,null,512)],8,wTe)])}function RTe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var ITe=`
.p-tabmenu {
    overflow-x: auto;
}
.p-tabmenu-nav {
    display: flex;
    margin: 0;
    padding: 0;
    list-style-type: none;
    flex-wrap: nowrap;
}
.p-tabmenu-nav a {
    cursor: pointer;
    user-select: none;
    display: flex;
    align-items: center;
    position: relative;
    text-decoration: none;
    text-decoration: none;
    overflow: hidden;
}
.p-tabmenu-nav a:focus {
    z-index: 1;
}
.p-tabmenu-nav .p-menuitem-text {
    line-height: 1;
}
.p-tabmenu-ink-bar {
    display: none;
    z-index: 1;
}
.p-tabmenu::-webkit-scrollbar {
    display: none;
}
`;RTe(ITe);lue.render=TTe;var cue={name:"OverlayPanel",inheritAttrs:!1,emits:["show","hide"],props:{dismissable:{type:Boolean,default:!0},showCloseIcon:{type:Boolean,default:!1},appendTo:{type:String,default:"body"},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},breakpoints:{type:Object,default:null}},data(){return{visible:!1}},watch:{dismissable:{immediate:!0,handler(t){t?this.bindOutsideClickListener():this.unbindOutsideClickListener()}}},selfClick:!1,target:null,eventTarget:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,styleElement:null,overlayEventListener:null,beforeUnmount(){this.dismissable&&this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.destroyStyle(),this.unbindResizeListener(),this.target=null,this.container&&this.autoZIndex&&Br.clear(this.container),this.overlayEventListener&&(Ud.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.container=null},mounted(){this.breakpoints&&this.createStyle()},methods:{toggle(t,n){this.visible?this.hide():this.show(t,n)},show(t,n){this.visible=!0,this.eventTarget=t.currentTarget,this.target=n||t.currentTarget},hide(){this.visible=!1,Ge.focus(this.target)},onContentClick(){this.selfClick=!0},onEnter(t){this.container.setAttribute(this.attributeSelector,""),this.alignOverlay(),this.dismissable&&this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.autoZIndex&&Br.set("overlay",t,this.baseZIndex+this.$primevue.config.zIndex.overlay),this.overlayEventListener=n=>{this.container.contains(n.target)&&(this.selfClick=!0)},this.focus(),Ud.on("overlay-click",this.overlayEventListener),this.$emit("show")},onLeave(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),Ud.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null,this.$emit("hide")},onAfterLeave(t){this.autoZIndex&&Br.clear(t)},alignOverlay(){Ge.absolutePosition(this.container,this.target);const t=Ge.getOffset(this.container),n=Ge.getOffset(this.target);let r=0;t.left<n.left&&(r=n.left-t.left),this.container.style.setProperty("--overlayArrowLeft",`${r}px`),t.top<n.top&&Ge.addClass(this.container,"p-overlaypanel-flipped")},onContentKeydown(t){t.code==="Escape"&&this.hide()},onButtonKeydown(t){switch(t.code){case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":t.preventDefault()}},focus(){let t=this.container.querySelector("[autofocus]");t&&t.focus()},bindOutsideClickListener(){!this.outsideClickListener&&Ge.isClient()&&(this.outsideClickListener=t=>{this.visible&&!this.selfClick&&!this.isTargetClicked(t)&&(this.visible=!1),this.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new qI(this.target,()=>{this.visible&&(this.visible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.visible&&!Ge.isTouchDevice()&&(this.visible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isTargetClicked(t){return this.eventTarget&&(this.eventTarget===t.target||this.eventTarget.contains(t.target))},containerRef(t){this.container=t},createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let n in this.breakpoints)t+=`
                        @media screen and (max-width: ${n}) {
                            .p-overlaypanel[${this.attributeSelector}] {
                                width: ${this.breakpoints[n]} !important;
                            }
                        }
                    `;this.styleElement.innerHTML=t}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},onOverlayClick(t){Ud.emit("overlay-click",{originalEvent:t,target:this.target})}},computed:{containerClass(){return["p-overlaypanel p-component",{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},attributeSelector(){return Gu()},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{focustrap:k4,ripple:du},components:{Portal:ug}};const ATe=["aria-modal"],OTe=["aria-label"],DTe=rt("span",{class:"p-overlaypanel-close-icon pi pi-times"},null,-1),MTe=[DTe];function PTe(t,n,r,u,f,d){const w=Dn("Portal"),x=Ii("ripple"),T=Ii("focustrap");return ye(),Mn(w,{appendTo:r.appendTo},{default:is(()=>[Nn(Pf,{name:"p-overlaypanel",onEnter:d.onEnter,onLeave:d.onLeave,onAfterLeave:d.onAfterLeave},{default:is(()=>[f.visible?ur((ye(),Pe("div",cr({key:0,ref:d.containerRef,role:"dialog",class:d.containerClass,"aria-modal":f.visible,onClick:n[5]||(n[5]=(...A)=>d.onOverlayClick&&d.onOverlayClick(...A))},t.$attrs),[rt("div",{class:"p-overlaypanel-content",onClick:n[0]||(n[0]=(...A)=>d.onContentClick&&d.onContentClick(...A)),onMousedown:n[1]||(n[1]=(...A)=>d.onContentClick&&d.onContentClick(...A)),onKeydown:n[2]||(n[2]=(...A)=>d.onContentKeydown&&d.onContentKeydown(...A))},[_o(t.$slots,"default")],32),r.showCloseIcon?ur((ye(),Pe("button",{key:0,class:"p-overlaypanel-close p-link","aria-label":d.closeAriaLabel,type:"button",autofocus:"",onClick:n[3]||(n[3]=(...A)=>d.hide&&d.hide(...A)),onKeydown:n[4]||(n[4]=(...A)=>d.onButtonKeydown&&d.onButtonKeydown(...A))},MTe,40,OTe)),[[x]]):Ut("",!0)],16,ATe)),[[T]]):Ut("",!0)]),_:3},8,["onEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo"])}function zTe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var NTe=`
.p-overlaypanel {
    position: absolute;
    margin-top: 10px;
    top: 0;
    left: 0;
}
.p-overlaypanel-flipped {
    margin-top: 0;
    margin-bottom: 10px;
}
.p-overlaypanel-close {
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    position: relative;
}

/* Animation */
.p-overlaypanel-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}
.p-overlaypanel-leave-to {
    opacity: 0;
}
.p-overlaypanel-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1), opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}
.p-overlaypanel-leave-active {
    transition: opacity 0.1s linear;
}
.p-overlaypanel:after,
.p-overlaypanel:before {
    bottom: 100%;
    left: calc(var(--overlayArrowLeft, 0) + 1.25rem);
    content: ' ';
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}
.p-overlaypanel:after {
    border-width: 8px;
    margin-left: -8px;
}
.p-overlaypanel:before {
    border-width: 10px;
    margin-left: -10px;
}
.p-overlaypanel-flipped:after,
.p-overlaypanel-flipped:before {
    bottom: auto;
    top: 100%;
}
.p-overlaypanel.p-overlaypanel-flipped:after {
    border-bottom-color: transparent;
}
.p-overlaypanel.p-overlaypanel-flipped:before {
    border-bottom-color: transparent;
}
`;zTe(NTe);cue.render=PTe;var uue={name:"ColorPicker",emits:["update:modelValue","change","show","hide"],props:{modelValue:{type:null,default:null},defaultColor:{type:null,default:"ff0000"},inline:{type:Boolean,default:!1},format:{type:String,default:"hex"},disabled:{type:Boolean,default:!1},tabindex:{type:String,default:null},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},appendTo:{type:String,default:"body"},panelClass:null},data(){return{overlayVisible:!1}},hsbValue:null,outsideClickListener:null,documentMouseMoveListener:null,documentMouseUpListener:null,scrollHandler:null,resizeListener:null,hueDragging:null,colorDragging:null,selfUpdate:null,picker:null,colorSelector:null,colorHandle:null,hueView:null,hueHandle:null,watch:{modelValue:{immediate:!0,handler(t){this.hsbValue=this.toHSB(t),this.selfUpdate?this.selfUpdate=!1:this.updateUI()}}},beforeUnmount(){this.unbindOutsideClickListener(),this.unbindDragListeners(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.picker&&this.autoZIndex&&Br.clear(this.picker),this.clearRefs()},mounted(){this.updateUI()},methods:{pickColor(t){let n=this.colorSelector.getBoundingClientRect(),r=n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),u=n.left+document.body.scrollLeft,f=Math.floor(100*Math.max(0,Math.min(150,(t.pageX||t.changedTouches[0].pageX)-u))/150),d=Math.floor(100*(150-Math.max(0,Math.min(150,(t.pageY||t.changedTouches[0].pageY)-r)))/150);this.hsbValue=this.validateHSB({h:this.hsbValue.h,s:f,b:d}),this.selfUpdate=!0,this.updateColorHandle(),this.updateInput(),this.updateModel(),this.$emit("change",{event:t,value:this.modelValue})},pickHue(t){let n=this.hueView.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0);this.hsbValue=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,(t.pageY||t.changedTouches[0].pageY)-n)))/150),s:100,b:100}),this.selfUpdate=!0,this.updateColorSelector(),this.updateHue(),this.updateModel(),this.updateInput(),this.$emit("change",{event:t,value:this.modelValue})},updateModel(){switch(this.format){case"hex":this.$emit("update:modelValue",this.HSBtoHEX(this.hsbValue));break;case"rgb":this.$emit("update:modelValue",this.HSBtoRGB(this.hsbValue));break;case"hsb":this.$emit("update:modelValue",this.hsbValue);break}},updateColorSelector(){if(this.colorSelector){let t=this.validateHSB({h:this.hsbValue.h,s:100,b:100});this.colorSelector.style.backgroundColor="#"+this.HSBtoHEX(t)}},updateColorHandle(){this.colorHandle&&(this.colorHandle.style.left=Math.floor(150*this.hsbValue.s/100)+"px",this.colorHandle.style.top=Math.floor(150*(100-this.hsbValue.b)/100)+"px")},updateHue(){this.hueHandle&&(this.hueHandle.style.top=Math.floor(150-150*this.hsbValue.h/360)+"px")},updateInput(){this.$refs.input&&(this.$refs.input.style.backgroundColor="#"+this.HSBtoHEX(this.hsbValue))},updateUI(){this.updateHue(),this.updateColorHandle(),this.updateInput(),this.updateColorSelector()},validateHSB(t){return{h:Math.min(360,Math.max(0,t.h)),s:Math.min(100,Math.max(0,t.s)),b:Math.min(100,Math.max(0,t.b))}},validateRGB(t){return{r:Math.min(255,Math.max(0,t.r)),g:Math.min(255,Math.max(0,t.g)),b:Math.min(255,Math.max(0,t.b))}},validateHEX(t){var n=6-t.length;if(n>0){for(var r=[],u=0;u<n;u++)r.push("0");r.push(t),t=r.join("")}return t},HEXtoRGB(t){let n=parseInt(t.indexOf("#")>-1?t.substring(1):t,16);return{r:n>>16,g:(n&65280)>>8,b:n&255}},HEXtoHSB(t){return this.RGBtoHSB(this.HEXtoRGB(t))},RGBtoHSB(t){var n={h:0,s:0,b:0},r=Math.min(t.r,t.g,t.b),u=Math.max(t.r,t.g,t.b),f=u-r;return n.b=u,n.s=u!==0?255*f/u:0,n.s!==0?t.r===u?n.h=(t.g-t.b)/f:t.g===u?n.h=2+(t.b-t.r)/f:n.h=4+(t.r-t.g)/f:n.h=-1,n.h*=60,n.h<0&&(n.h+=360),n.s*=100/255,n.b*=100/255,n},HSBtoRGB(t){var n={r:null,g:null,b:null},r=Math.round(t.h),u=Math.round(t.s*255/100),f=Math.round(t.b*255/100);if(u===0)n={r:f,g:f,b:f};else{var d=f,w=(255-u)*f/255,x=(d-w)*(r%60)/60;r===360&&(r=0),r<60?(n.r=d,n.b=w,n.g=w+x):r<120?(n.g=d,n.b=w,n.r=d-x):r<180?(n.g=d,n.r=w,n.b=w+x):r<240?(n.b=d,n.r=w,n.g=d-x):r<300?(n.b=d,n.g=w,n.r=w+x):r<360?(n.r=d,n.g=w,n.b=d-x):(n.r=0,n.g=0,n.b=0)}return{r:Math.round(n.r),g:Math.round(n.g),b:Math.round(n.b)}},RGBtoHEX(t){var n=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];for(var r in n)n[r].length===1&&(n[r]="0"+n[r]);return n.join("")},HSBtoHEX(t){return this.RGBtoHEX(this.HSBtoRGB(t))},toHSB(t){let n;if(t)switch(this.format){case"hex":n=this.HEXtoHSB(t);break;case"rgb":n=this.RGBtoHSB(t);break;case"hsb":n=t;break}else n=this.HEXtoHSB(this.defaultColor);return n},onOverlayEnter(t){this.updateUI(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.autoZIndex&&Br.set("overlay",t,this.$primevue.config.zIndex.overlay),this.$emit("show")},onOverlayLeave(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.clearRefs(),this.$emit("hide")},onOverlayAfterLeave(t){this.autoZIndex&&Br.clear(t)},alignOverlay(){this.appendTo==="self"?Ge.relativePosition(this.picker,this.$refs.input):Ge.absolutePosition(this.picker,this.$refs.input)},onInputClick(){this.disabled||(this.overlayVisible=!this.overlayVisible)},onInputKeydown(t){switch(t.code){case"Space":this.overlayVisible=!this.overlayVisible,t.preventDefault();break;case"Escape":case"Tab":this.overlayVisible=!1;break}},onColorMousedown(t){this.disabled||(this.bindDragListeners(),this.onColorDragStart(t))},onColorDragStart(t){this.disabled||(this.colorDragging=!0,this.pickColor(t),Ge.addClass(this.$el,"p-colorpicker-dragging"),t.preventDefault())},onDrag(t){this.colorDragging&&(this.pickColor(t),t.preventDefault()),this.hueDragging&&(this.pickHue(t),t.preventDefault())},onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,Ge.removeClass(this.$el,"p-colorpicker-dragging"),this.unbindDragListeners()},onHueMousedown(t){this.disabled||(this.bindDragListeners(),this.onHueDragStart(t))},onHueDragStart(t){this.disabled||(this.hueDragging=!0,this.pickHue(t),Ge.addClass(this.$el,"p-colorpicker-dragging"))},isInputClicked(t){return this.$refs.input&&this.$refs.input.isSameNode(t.target)},bindDragListeners(){this.bindDocumentMouseMoveListener(),this.bindDocumentMouseUpListener()},unbindDragListeners(){this.unbindDocumentMouseMoveListener(),this.unbindDocumentMouseUpListener()},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=t=>{this.overlayVisible&&this.picker&&!this.picker.contains(t.target)&&!this.isInputClicked(t)&&(this.overlayVisible=!1)},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new qI(this.$refs.container,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!Ge.isTouchDevice()&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindDocumentMouseMoveListener(){this.documentMouseMoveListener||(this.documentMouseMoveListener=this.onDrag.bind(this),document.addEventListener("mousemove",this.documentMouseMoveListener))},unbindDocumentMouseMoveListener(){this.documentMouseMoveListener&&(document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null)},bindDocumentMouseUpListener(){this.documentMouseUpListener||(this.documentMouseUpListener=this.onDragEnd.bind(this),document.addEventListener("mouseup",this.documentMouseUpListener))},unbindDocumentMouseUpListener(){this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)},pickerRef(t){this.picker=t},colorSelectorRef(t){this.colorSelector=t},colorHandleRef(t){this.colorHandle=t},hueViewRef(t){this.hueView=t},hueHandleRef(t){this.hueHandle=t},clearRefs(){this.picker=null,this.colorSelector=null,this.colorHandle=null,this.hueView=null,this.hueHandle=null},onOverlayClick(t){Ud.emit("overlay-click",{originalEvent:t,target:this.$el})}},computed:{containerClass(){return["p-colorpicker p-component",{"p-colorpicker-overlay":!this.inline}]},inputClass(){return["p-colorpicker-preview p-inputtext",{"p-disabled":this.disabled}]},pickerClass(){return["p-colorpicker-panel",this.panelClass,{"p-colorpicker-overlay-panel":!this.inline,"p-disabled":this.disabled,"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]}},components:{Portal:ug}};const LTe=["tabindex","disabled"],BTe={class:"p-colorpicker-content"},FTe={class:"p-colorpicker-color"};function $Te(t,n,r,u,f,d){const w=Dn("Portal");return ye(),Pe("div",{ref:"container",class:rn(d.containerClass)},[r.inline?Ut("",!0):(ye(),Pe("input",{key:0,ref:"input",type:"text",class:rn(d.inputClass),readonly:"readonly",tabindex:r.tabindex,disabled:r.disabled,onClick:n[0]||(n[0]=(...x)=>d.onInputClick&&d.onInputClick(...x)),onKeydown:n[1]||(n[1]=(...x)=>d.onInputKeydown&&d.onInputKeydown(...x))},null,42,LTe)),Nn(w,{appendTo:r.appendTo,disabled:r.inline},{default:is(()=>[Nn(Pf,{name:"p-connected-overlay",onEnter:d.onOverlayEnter,onLeave:d.onOverlayLeave,onAfterLeave:d.onOverlayAfterLeave},{default:is(()=>[r.inline||f.overlayVisible?(ye(),Pe("div",{key:0,ref:d.pickerRef,class:rn(d.pickerClass),onClick:n[10]||(n[10]=(...x)=>d.onOverlayClick&&d.onOverlayClick(...x))},[rt("div",BTe,[rt("div",{ref:d.colorSelectorRef,class:"p-colorpicker-color-selector",onMousedown:n[2]||(n[2]=x=>d.onColorMousedown(x)),onTouchstart:n[3]||(n[3]=x=>d.onColorDragStart(x)),onTouchmove:n[4]||(n[4]=x=>d.onDrag(x)),onTouchend:n[5]||(n[5]=x=>d.onDragEnd())},[rt("div",FTe,[rt("div",{ref:d.colorHandleRef,class:"p-colorpicker-color-handle"},null,512)])],544),rt("div",{ref:d.hueViewRef,class:"p-colorpicker-hue",onMousedown:n[6]||(n[6]=x=>d.onHueMousedown(x)),onTouchstart:n[7]||(n[7]=x=>d.onHueDragStart(x)),onTouchmove:n[8]||(n[8]=x=>d.onDrag(x)),onTouchend:n[9]||(n[9]=x=>d.onDragEnd())},[rt("div",{ref:d.hueHandleRef,class:"p-colorpicker-hue-handle"},null,512)],544)])],2)):Ut("",!0)]),_:1},8,["onEnter","onLeave","onAfterLeave"])]),_:1},8,["appendTo","disabled"])],2)}function VTe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var HTe=`
.p-colorpicker {
    display: inline-block;
}
.p-colorpicker-dragging {
    cursor: pointer;
}
.p-colorpicker-overlay {
    position: relative;
}
.p-colorpicker-panel {
    position: relative;
    width: 193px;
    height: 166px;
}
.p-colorpicker-overlay-panel {
    position: absolute;
    top: 0;
    left: 0;
}
.p-colorpicker-preview {
    cursor: pointer;
}
.p-colorpicker-panel .p-colorpicker-content {
    position: relative;
}
.p-colorpicker-panel .p-colorpicker-color-selector {
    width: 150px;
    height: 150px;
    top: 8px;
    left: 8px;
    position: absolute;
}
.p-colorpicker-panel .p-colorpicker-color {
    width: 150px;
    height: 150px;
}
.p-colorpicker-panel .p-colorpicker-color-handle {
    position: absolute;
    top: 0px;
    left: 150px;
    border-radius: 100%;
    width: 10px;
    height: 10px;
    border-width: 1px;
    border-style: solid;
    margin: -5px 0 0 -5px;
    cursor: pointer;
    opacity: 0.85;
}
.p-colorpicker-panel .p-colorpicker-hue {
    width: 17px;
    height: 150px;
    top: 8px;
    left: 167px;
    position: absolute;
    opacity: 0.85;
}
.p-colorpicker-panel .p-colorpicker-hue-handle {
    position: absolute;
    top: 150px;
    left: 0px;
    width: 21px;
    margin-left: -2px;
    margin-top: -5px;
    height: 10px;
    border-width: 2px;
    border-style: solid;
    opacity: 0.85;
    cursor: pointer;
}
`;VTe(HTe);uue.render=$Te;const UTe={mounted(t,n){const r=Gu()+"_badge";t.$_pbadgeId=r;let u=document.createElement("span");u.id=r,u.className="p-badge p-component";for(let f in n.modifiers)Ge.addClass(u,"p-badge-"+f);n.value!=null?(u.appendChild(document.createTextNode(n.value)),String(n.value).length===1&&Ge.addClass(u,"p-badge-no-gutter")):Ge.addClass(u,"p-badge-dot"),Ge.addClass(t,"p-overlay-badge"),t.appendChild(u)},updated(t,n){if(Ge.addClass(t,"p-overlay-badge"),n.oldValue!==n.value){let r=document.getElementById(t.$_pbadgeId);n.value?(Ge.hasClass(r,"p-badge-dot")&&Ge.removeClass(r,"p-badge-dot"),String(n.value).length===1?Ge.addClass(r,"p-badge-no-gutter"):Ge.removeClass(r,"p-badge-no-gutter")):!n.value&&!Ge.hasClass(r,"p-badge-dot")&&Ge.addClass(r,"p-badge-dot"),r.innerHTML="",r.appendChild(document.createTextNode(n.value))}}};const jTe={class:"back-button fixed z-5 right-0 mt-6"},WTe={__name:"BackButton",setup(t){const n=sie(),r=()=>{n.back()};return(u,f)=>{const d=Dn("Button");return ye(),Pe("div",jTe,[Nn(d,{class:"border-noround border-round-left-md",label:"",icon:"pi pi-angle-double-left",raised:"",onClick:r})])}}},ZTe=vce(WTe,[["__scopeId","data-v-41074405"]]);var GTe={exports:{}};(function(t){(function(){var n=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var s=typeof e;return s==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":s==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":s},r=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},u=function(e,s){var a=Array.prototype.slice.call(e);return a.sort(s)},f=function(e,s){return d(function(a,l){return e.eq(s(a),s(l))})},d=function(e){return{eq:e}},w=d(function(e,s){return e===s}),x=w,T=function(e){return d(function(s,a){if(s.length!==a.length)return!1;for(var l=s.length,h=0;h<l;h++)if(!e.eq(s[h],a[h]))return!1;return!0})},A=function(e,s){return f(T(e),function(a){return u(a,s)})},$=function(e){return d(function(s,a){var l=Object.keys(s),h=Object.keys(a);if(!A(x).eq(l,h))return!1;for(var g=l.length,v=0;v<g;v++){var S=l[v];if(!e.eq(s[S],a[S]))return!1}return!0})},B=d(function(e,s){if(e===s)return!0;var a=n(e),l=n(s);return a!==l?!1:r(a)?e===s:a==="array"?T(B).eq(e,s):a==="object"?$(B).eq(e,s):!1});const H=Object.getPrototypeOf,le=(e,s,a)=>{var l;return a(e,s.prototype)?!0:((l=e.constructor)===null||l===void 0?void 0:l.name)===s.name},ke=e=>{const s=typeof e;return e===null?"null":s==="object"&&Array.isArray(e)?"array":s==="object"&&le(e,String,(a,l)=>l.isPrototypeOf(a))?"string":s},Ne=e=>s=>ke(s)===e,Se=e=>s=>typeof s===e,je=e=>s=>e===s,gt=(e,s)=>ht(e)&&le(e,s,(a,l)=>H(a)===l),ee=Ne("string"),ht=Ne("object"),He=e=>gt(e,Object),Ze=Ne("array"),J=je(null),Te=Se("boolean"),st=je(void 0),_t=e=>e==null,Ue=e=>!_t(e),de=Se("function"),Tn=Se("number"),nn=(e,s)=>{if(Ze(e)){for(let a=0,l=e.length;a<l;++a)if(!s(e[a]))return!1;return!0}return!1},Ot=()=>{},L=(e,s)=>(...a)=>e(s.apply(null,a)),Ht=(e,s)=>a=>e(s(a)),ot=e=>()=>e,Bn=e=>e,cn=(e,s)=>e===s;function it(e,...s){return(...a)=>{const l=s.concat(a);return e.apply(null,l)}}const Gn=e=>s=>!e(s),io=e=>()=>{throw new Error(e)},uo=e=>e(),Et=e=>{e()},Ee=ot(!1),me=ot(!0);class j{constructor(s,a){this.tag=s,this.value=a}static some(s){return new j(!0,s)}static none(){return j.singletonNone}fold(s,a){return this.tag?a(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?j.some(s(this.value)):j.none()}bind(s){return this.tag?s(this.value):j.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:j.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s!=null?s:"Called getOrDie on None")}static from(s){return Ue(s)?j.some(s):j.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}j.singletonNone=new j(!1);const lt=Array.prototype.slice,Je=Array.prototype.indexOf,Tt=Array.prototype.push,re=(e,s)=>Je.call(e,s),Re=(e,s)=>{const a=re(e,s);return a===-1?j.none():j.some(a)},Oe=(e,s)=>re(e,s)>-1,yt=(e,s)=>{for(let a=0,l=e.length;a<l;a++){const h=e[a];if(s(h,a))return!0}return!1},Ye=(e,s)=>{const a=e.length,l=new Array(a);for(let h=0;h<a;h++){const g=e[h];l[h]=s(g,h)}return l},ce=(e,s)=>{for(let a=0,l=e.length;a<l;a++){const h=e[a];s(h,a)}},Fe=(e,s)=>{for(let a=e.length-1;a>=0;a--){const l=e[a];s(l,a)}},et=(e,s)=>{const a=[],l=[];for(let h=0,g=e.length;h<g;h++){const v=e[h];(s(v,h)?a:l).push(v)}return{pass:a,fail:l}},$e=(e,s)=>{const a=[];for(let l=0,h=e.length;l<h;l++){const g=e[l];s(g,l)&&a.push(g)}return a},oe=(e,s,a)=>(Fe(e,(l,h)=>{a=s(a,l,h)}),a),be=(e,s,a)=>(ce(e,(l,h)=>{a=s(a,l,h)}),a),Xe=(e,s,a)=>{for(let l=0,h=e.length;l<h;l++){const g=e[l];if(s(g,l))return j.some(g);if(a(g,l))break}return j.none()},ut=(e,s)=>Xe(e,s,Ee),zt=(e,s)=>{for(let a=0,l=e.length;a<l;a++){const h=e[a];if(s(h,a))return j.some(a)}return j.none()},Dt=e=>{const s=[];for(let a=0,l=e.length;a<l;++a){if(!Ze(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);Tt.apply(s,e[a])}return s},Vt=(e,s)=>Dt(Ye(e,s)),an=(e,s)=>{for(let a=0,l=e.length;a<l;++a){const h=e[a];if(s(h,a)!==!0)return!1}return!0},_n=e=>{const s=lt.call(e,0);return s.reverse(),s},jn=(e,s)=>$e(e,a=>!Oe(s,a)),lo=(e,s)=>{const a={};for(let l=0,h=e.length;l<h;l++){const g=e[l];a[String(g)]=s(g,l)}return a},mo=(e,s)=>{const a=lt.call(e,0);return a.sort(s),a},Ao=(e,s)=>s>=0&&s<e.length?j.some(e[s]):j.none(),ks=e=>Ao(e,0),jo=e=>Ao(e,e.length-1),zs=de(Array.from)?Array.from:e=>lt.call(e),Dl=(e,s)=>{for(let a=0;a<e.length;a++){const l=s(e[a],a);if(l.isSome())return l}return j.none()},Oi=(e,s)=>{const a=[],l=de(s)?h=>yt(a,g=>s(g,h)):h=>Oe(a,h);for(let h=0,g=e.length;h<g;h++){const v=e[h];l(v)||a.push(v)}return a},Fr=Object.keys,pi=Object.hasOwnProperty,Gt=(e,s)=>{const a=Fr(e);for(let l=0,h=a.length;l<h;l++){const g=a[l],v=e[g];s(v,g)}},Mo=(e,s)=>el(e,(a,l)=>({k:l,v:s(a,l)})),el=(e,s)=>{const a={};return Gt(e,(l,h)=>{const g=s(l,h);a[g.k]=g.v}),a},ca=e=>(s,a)=>{e[a]=s},Yu=(e,s,a,l)=>{Gt(e,(h,g)=>{(s(h,g)?a:l)(h,g)})},fu=(e,s)=>{const a={},l={};return Yu(e,s,ca(a),ca(l)),{t:a,f:l}},ws=(e,s)=>{const a={};return Yu(e,s,ca(a),Ot),a},ac=(e,s)=>{const a=[];return Gt(e,(l,h)=>{a.push(s(l,h))}),a},Xu=e=>ac(e,Bn),fs=(e,s)=>Fn(e,s)?j.from(e[s]):j.none(),Fn=(e,s)=>pi.call(e,s),si=(e,s)=>Fn(e,s)&&e[s]!==void 0&&e[s]!==null,Oc=(e,s,a=B)=>$(a).eq(e,s),zf=e=>{const s={};return ce(e,a=>{s[a]={}}),Fr(s)},hu=e=>e.length!==void 0,gi=Array.isArray,ua=e=>{if(gi(e))return e;{const s=[];for(let a=0,l=e.length;a<l;a++)s[a]=e[a];return s}},vr=(e,s,a)=>{if(!e)return!1;if(a=a||e,hu(e)){for(let l=0,h=e.length;l<h;l++)if(s.call(a,e[l],l,e)===!1)return!1}else for(const l in e)if(Fn(e,l)&&s.call(a,e[l],l,e)===!1)return!1;return!0},Dc=(e,s)=>{const a=[];return vr(e,(l,h)=>{a.push(s(l,h,e))}),a},Wd=(e,s)=>{const a=[];return vr(e,(l,h)=>{(!s||s(l,h,e))&&a.push(l)}),a},xa=(e,s)=>{if(e){for(let a=0,l=e.length;a<l;a++)if(e[a]===s)return a}return-1},Di=(e,s,a,l)=>{let h=st(a)?e[0]:a;for(let g=0;g<e.length;g++)h=s.call(l,h,e[g],g);return h},Zs=(e,s,a)=>{for(let l=0,h=e.length;l<h;l++)if(s.call(a,e[l],l,e))return l;return-1},Wa=e=>e[e.length-1],ic=e=>{let s=!1,a;return(...l)=>(s||(s=!0,a=e.apply(null,l)),a)},Nf=(e,s,a,l)=>{const h=e.isiOS()&&/ipad/i.test(a)===!0,g=e.isiOS()&&!h,v=e.isiOS()||e.isAndroid(),S=v||l("(pointer:coarse)"),I=h||!g&&v&&l("(min-device-width:768px)"),z=g||v&&!I,W=s.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,U=!z&&!I&&!W;return{isiPad:ot(h),isiPhone:ot(g),isTablet:ot(I),isPhone:ot(z),isTouch:ot(S),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ot(W),isDesktop:ot(U)}},zh=(e,s)=>{for(let a=0;a<e.length;a++){const l=e[a];if(l.test(s))return l}},yi=(e,s)=>{const a=zh(e,s);if(!a)return{major:0,minor:0};const l=h=>Number(s.replace(a,"$"+h));return Ea(l(1),l(2))},N0=(e,s)=>{const a=String(s).toLowerCase();return e.length===0?Le():yi(e,a)},Le=()=>Ea(0,0),Ea=(e,s)=>({major:e,minor:s}),Zd={nu:Ea,detect:N0,unknown:Le},dg=(e,s)=>Dl(s.brands,a=>{const l=a.brand.toLowerCase();return ut(e,h=>{var g;return l===((g=h.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(h=>({current:h.name,version:Zd.nu(parseInt(a.version,10),0)}))}),$m=(e,s)=>{const a=String(s).toLowerCase();return ut(e,l=>l.search(a))},_s=(e,s)=>$m(e,s).map(a=>{const l=Zd.detect(a.versionRegexes,s);return{current:a.name,version:l}}),fg=(e,s)=>$m(e,s).map(a=>{const l=Zd.detect(a.versionRegexes,s);return{current:a.name,version:l}}),Nh=(e,s)=>e.substring(s),Ju=(e,s,a)=>s===""||e.length>=s.length&&e.substr(a,a+s.length)===s,bi=(e,s)=>Rr(e,s)?Nh(e,s.length):e,wr=(e,s,a=0,l)=>{const h=e.indexOf(s,a);return h!==-1?st(l)?!0:h+s.length<=l:!1},Rr=(e,s)=>Ju(e,s,0),mu=(e,s)=>Ju(e,s,e.length-s.length),tl=e=>s=>s.replace(e,""),Mc=tl(/^\s+|\s+$/g),Qu=tl(/^\s+/g),ed=tl(/\s+$/g),Jo=e=>e.length>0,nl=e=>!Jo(e),Gd=(e,s)=>s<=0?"":new Array(s+1).join(e),Pc=(e,s=10)=>{const a=parseInt(e,s);return isNaN(a)?j.none():j.some(a)},yl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Mi=e=>s=>wr(s,e),Gs=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>wr(e,"edge/")&&wr(e,"chrome")&&wr(e,"safari")&&wr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,yl],search:e=>wr(e,"chrome")&&!wr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>wr(e,"msie")||wr(e,"trident")},{name:"Opera",versionRegexes:[yl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Mi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Mi("firefox")},{name:"Safari",versionRegexes:[yl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(wr(e,"safari")||wr(e,"mobile/"))&&wr(e,"applewebkit")}],Jy=[{name:"Windows",search:Mi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>wr(e,"iphone")||wr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Mi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Mi("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Mi("linux"),versionRegexes:[]},{name:"Solaris",search:Mi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Mi("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Mi("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Vm={browsers:ot(Gs),oses:ot(Jy)},ls="Edge",ol="Chromium",Pi="IE",Yr="Opera",Lf="Firefox",td="Safari",bl=()=>Ml({current:void 0,version:Zd.unknown()}),Ml=e=>{const s=e.current,a=e.version,l=h=>()=>s===h;return{current:s,version:a,isEdge:l(ls),isChromium:l(ol),isIE:l(Pi),isOpera:l(Yr),isFirefox:l(Lf),isSafari:l(td)}},Hm={unknown:bl,nu:Ml,edge:ot(ls),chromium:ot(ol),ie:ot(Pi),opera:ot(Yr),firefox:ot(Lf),safari:ot(td)},Lh="Windows",hg="iOS",zi="Android",pu="Linux",Bf="macOS",Um="Solaris",Bh="FreeBSD",Fh="ChromeOS",jm=()=>Ff({current:void 0,version:Zd.unknown()}),Ff=e=>{const s=e.current,a=e.version,l=h=>()=>s===h;return{current:s,version:a,isWindows:l(Lh),isiOS:l(hg),isAndroid:l(zi),isMacOS:l(Bf),isLinux:l(pu),isSolaris:l(Um),isFreeBSD:l(Bh),isChromeOS:l(Fh)}},$r={unknown:jm,nu:Ff,windows:ot(Lh),ios:ot(hg),android:ot(zi),linux:ot(pu),macos:ot(Bf),solaris:ot(Um),freebsd:ot(Bh),chromeos:ot(Fh)},zc={detect:(e,s,a)=>{const l=Vm.browsers(),h=Vm.oses(),g=s.bind(I=>dg(l,I)).orThunk(()=>_s(l,e)).fold(Hm.unknown,Hm.nu),v=fg(h,e).fold($r.unknown,$r.nu),S=Nf(v,g,e,a);return{browser:g,os:v,deviceType:S}}},Wm=e=>window.matchMedia(e).matches;let mg=ic(()=>zc.detect(navigator.userAgent,j.from(navigator.userAgentData),Wm));const gu=()=>mg(),Qy=navigator.userAgent,Ga=gu(),Xr=Ga.browser,lc=Ga.os,Pl=Ga.deviceType,Jn=Qy.indexOf("Windows Phone")!==-1,Fo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Xr.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Xr.isIE(),windowsPhone:Jn,browser:{current:Xr.current,version:Xr.version,isChromium:Xr.isChromium,isEdge:Xr.isEdge,isFirefox:Xr.isFirefox,isIE:Xr.isIE,isOpera:Xr.isOpera,isSafari:Xr.isSafari},os:{current:lc.current,version:lc.version,isAndroid:lc.isAndroid,isChromeOS:lc.isChromeOS,isFreeBSD:lc.isFreeBSD,isiOS:lc.isiOS,isLinux:lc.isLinux,isMacOS:lc.isMacOS,isSolaris:lc.isSolaris,isWindows:lc.isWindows},deviceType:{isDesktop:Pl.isDesktop,isiPad:Pl.isiPad,isiPhone:Pl.isiPhone,isPhone:Pl.isPhone,isTablet:Pl.isTablet,isTouch:Pl.isTouch,isWebView:Pl.isWebView}},da=/^\s*|\s*$/g,G=e=>_t(e)?"":(""+e).replace(da,""),ae=(e,s)=>s?s==="array"&&gi(e)?!0:typeof e===s:e!==void 0,ge=(e,s,a={})=>{const l=ee(e)?e.split(s||","):e||[];let h=l.length;for(;h--;)a[l[h]]={};return a},Qe=Fn,en=(e,...s)=>{for(let a=0;a<s.length;a++){const l=s[a];for(const h in l)if(Fn(l,h)){const g=l[h];g!==void 0&&(e[h]=g)}}return e},co=function(e,s,a,l){l=l||this,e&&(a&&(e=e[a]),vr(e,(h,g)=>s.call(l,h,g,a)===!1?!1:(co(h,s,a,l),!0)))},xt={trim:G,isArray:gi,is:ae,toArray:ua,makeMap:ge,each:vr,map:Dc,grep:Wd,inArray:xa,hasOwn:Qe,extend:en,walk:co,resolve:(e,s=window)=>{const a=e.split(".");for(let l=0,h=a.length;l<h&&(s=s[a[l]],!!s);l++);return s},explode:(e,s)=>Ze(e)?e:e===""?[]:Dc(e.split(s||","),G),_addCacheSuffix:e=>{const s=Fo.cacheSuffix;return s&&(e+=(e.indexOf("?")===-1?"?":"&")+s),e}},Vr=(e,s,a=cn)=>e.exists(l=>a(l,s)),er=e=>{const s=[],a=l=>{s.push(l)};for(let l=0;l<e.length;l++)e[l].each(a);return s},ha=(e,s,a)=>e.isSome()&&s.isSome()?j.some(a(e.getOrDie(),s.getOrDie())):j.none(),pg=(e,s,a,l)=>e.isSome()&&s.isSome()&&a.isSome()?j.some(l(e.getOrDie(),s.getOrDie(),a.getOrDie())):j.none(),Ro=(e,s)=>e?j.some(s):j.none(),yu=typeof window<"u"?window:Function("return this;")(),Ni=(e,s)=>{let a=s!=null?s:yu;for(let l=0;l<e.length&&a!==void 0&&a!==null;++l)a=a[e[l]];return a},_r=(e,s)=>{const a=e.split(".");return Ni(a,s)},Hr=(e,s)=>_r(e,s),$f=(e,s)=>{const a=Hr(e,s);if(a==null)throw new Error(e+" not available on this browser");return a},Sx=Object.getPrototypeOf,eb=e=>$f("HTMLElement",e),qs=e=>{const s=_r("ownerDocument.defaultView",e);return ht(e)&&(eb(s).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Sx(e).constructor.name))},Ur=8,Vf=9,ri=11,qd=1,Zm=3,Cs=e=>e.dom.nodeName.toLowerCase(),vi=e=>e.dom.nodeType,ai=e=>s=>vi(s)===e,C1=e=>vi(e)===Ur||Cs(e)==="#comment",Kd=e=>Ss(e)&&qs(e.dom),Ss=ai(qd),wi=ai(Zm),Hf=ai(Vf),S1=ai(ri),$h=e=>s=>Ss(s)&&Cs(s)===e,Nc=(e,s,a)=>{if(ee(a)||Te(a)||Tn(a))e.setAttribute(s,a+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},kr=(e,s,a)=>{Nc(e.dom,s,a)},_i=(e,s)=>{const a=e.dom;Gt(s,(l,h)=>{Nc(a,h,l)})},Li=(e,s)=>{const a=e.dom.getAttribute(s);return a===null?void 0:a},Lc=(e,s)=>j.from(Li(e,s)),qa=(e,s)=>{const a=e.dom;return a&&a.hasAttribute?a.hasAttribute(s):!1},Ar=(e,s)=>{e.dom.removeAttribute(s)},vl=e=>{const s=e.dom.attributes;return s==null||s.length===0},Gm=e=>be(e.dom.attributes,(s,a)=>(s[a.name]=a.value,s),{}),Yd=(e,s)=>{const a=Li(e,s);return a===void 0||a===""?[]:a.split(" ")},Vh=(e,s,a)=>{const h=Yd(e,s).concat([a]);return kr(e,s,h.join(" ")),!0},gg=(e,s,a)=>{const l=$e(Yd(e,s),h=>h!==a);return l.length>0?kr(e,s,l.join(" ")):Ar(e,s),!1},zl=e=>e.dom.classList!==void 0,Xd=e=>Yd(e,"class"),qm=(e,s)=>Vh(e,"class",s),Or=(e,s)=>gg(e,"class",s),Km=(e,s)=>Oe(Xd(e),s)?Or(e,s):qm(e,s),Uf=(e,s)=>{zl(e)?e.dom.classList.add(s):qm(e,s)},Hh=e=>{(zl(e)?e.dom.classList:Xd(e)).length===0&&Ar(e,"class")},Uh=(e,s)=>{zl(e)?e.dom.classList.remove(s):Or(e,s),Hh(e)},yg=(e,s)=>{const a=zl(e)?e.dom.classList.toggle(s):Km(e,s);return Hh(e),a},Ym=(e,s)=>zl(e)&&e.dom.classList.contains(s),jf=(e,s)=>{const l=(s||document).createElement("div");if(l.innerHTML=e,!l.hasChildNodes()||l.childNodes.length>1){const h="HTML does not have a single root node";throw console.error(h,e),new Error(h)}return Wf(l.childNodes[0])},tb=(e,s)=>{const l=(s||document).createElement(e);return Wf(l)},nb=(e,s)=>{const l=(s||document).createTextNode(e);return Wf(l)},Wf=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},ve={fromHtml:jf,fromTag:tb,fromText:nb,fromDom:Wf,fromPoint:(e,s,a)=>j.from(e.dom.elementFromPoint(s,a)).map(Wf)},bg=(e,s)=>{const a=[],l=g=>(a.push(g),s(g));let h=s(e);do h=h.bind(l);while(h.isSome());return a},Bi=(e,s)=>{const a=e.dom;if(a.nodeType!==qd)return!1;{const l=a;if(l.matches!==void 0)return l.matches(s);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(s);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(s);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},ob=e=>e.nodeType!==qd&&e.nodeType!==Vf&&e.nodeType!==ri||e.childElementCount===0,B0=(e,s)=>{const a=s===void 0?document:s.dom;return ob(a)?[]:Ye(a.querySelectorAll(e),ve.fromDom)},F0=(e,s)=>{const a=s===void 0?document:s.dom;return ob(a)?j.none():j.from(a.querySelector(e)).map(ve.fromDom)},Xo=(e,s)=>e.dom===s.dom,cc=(e,s)=>{const a=e.dom,l=s.dom;return a===l?!1:a.contains(l)},ki=e=>ve.fromDom(e.dom.ownerDocument),Nl=e=>Hf(e)?e:ki(e),x1=e=>ve.fromDom(Nl(e).dom.documentElement),Zf=e=>ve.fromDom(Nl(e).dom.defaultView),Ll=e=>j.from(e.dom.parentNode).map(ve.fromDom),Xm=e=>j.from(e.dom.parentElement).map(ve.fromDom),sb=(e,s)=>{const a=de(s)?s:Ee;let l=e.dom;const h=[];for(;l.parentNode!==null&&l.parentNode!==void 0;){const g=l.parentNode,v=ve.fromDom(g);if(h.push(v),a(v)===!0)break;l=g}return h},$0=e=>{const s=a=>$e(a,l=>!Xo(e,l));return Ll(e).map(Ta).map(s).getOr([])},Bl=e=>j.from(e.dom.previousSibling).map(ve.fromDom),jh=e=>j.from(e.dom.nextSibling).map(ve.fromDom),E1=e=>_n(bg(e,Bl)),wl=e=>bg(e,jh),Ta=e=>Ye(e.dom.childNodes,ve.fromDom),Wh=(e,s)=>{const a=e.dom.childNodes;return j.from(a[s]).map(ve.fromDom)},Zh=e=>Wh(e,0),uc=e=>Wh(e,e.dom.childNodes.length-1),_l=e=>e.dom.childNodes.length,rb=e=>{const s=e.dom.head;if(s==null)throw new Error("Head is not available yet");return ve.fromDom(s)},vg=e=>S1(e)&&Ue(e.dom.host),wg=de(Element.prototype.attachShadow)&&de(Node.prototype.getRootNode),ab=ot(wg),bu=wg?e=>ve.fromDom(e.dom.getRootNode()):Nl,Jm=e=>vg(e)?e:rb(Nl(e)),T1=e=>vg(e)?e:ve.fromDom(Nl(e).dom.body),sA=e=>{const s=bu(e);return vg(s)?j.some(s):j.none()},R1=e=>ve.fromDom(e.dom.host),_g=e=>{if(ab()&&Ue(e.target)){const s=ve.fromDom(e.target);if(Ss(s)&&ib(s)&&e.composed&&e.composedPath){const a=e.composedPath();if(a)return ks(a)}}return j.from(e.target)},ib=e=>Ue(e.dom.shadowRoot),nd=e=>{const s=wi(e)?e.dom.parentNode:e.dom;if(s==null||s.ownerDocument===null)return!1;const a=s.ownerDocument;return sA(ve.fromDom(s)).fold(()=>a.body.contains(s),Ht(nd,R1))};var lb=(e,s,a,l,h)=>e(a,l)?j.some(a):de(h)&&h(a)?j.none():s(a,l,h);const Ns=(e,s,a)=>{let l=e.dom;const h=de(a)?a:Ee;for(;l.parentNode;){l=l.parentNode;const g=ve.fromDom(l);if(s(g))return j.some(g);if(h(g))break}return j.none()},tr=(e,s,a)=>lb((h,g)=>g(h),Ns,e,s,a),od=(e,s)=>{const a=e.dom;return a.parentNode?I1(ve.fromDom(a.parentNode),l=>!Xo(e,l)&&s(l)):j.none()},I1=(e,s)=>{const a=h=>s(ve.fromDom(h));return ut(e.dom.childNodes,a).map(ve.fromDom)},A1=(e,s)=>{const a=l=>{for(let h=0;h<l.childNodes.length;h++){const g=ve.fromDom(l.childNodes[h]);if(s(g))return j.some(g);const v=a(l.childNodes[h]);if(v.isSome())return v}return j.none()};return a(e.dom)},Ra=(e,s,a)=>Ns(e,l=>Bi(l,s),a),Gh=(e,s)=>F0(s,e),Bc=(e,s,a)=>lb((h,g)=>Bi(h,g),Ra,e,s,a),vu=e=>Bc(e,"[contenteditable]"),Gf=(e,s=!1)=>nd(e)?e.dom.isContentEditable:vu(e).fold(ot(s),a=>to(a)==="true"),to=e=>e.dom.contentEditable,Ci=e=>e.style!==void 0&&de(e.style.getPropertyValue),qh=(e,s,a)=>{if(!ee(a))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);Ci(e)&&e.style.setProperty(s,a)},O1=(e,s)=>{Ci(e)&&e.style.removeProperty(s)},qf=(e,s,a)=>{const l=e.dom;qh(l,s,a)},Qm=(e,s)=>{const a=e.dom;Gt(s,(l,h)=>{qh(a,h,l)})},dc=(e,s)=>{const a=e.dom,h=window.getComputedStyle(a).getPropertyValue(s);return h===""&&!nd(e)?sl(a,s):h},sl=(e,s)=>Ci(e)?e.style.getPropertyValue(s):"",ii=(e,s)=>{const a=e.dom,l=sl(a,s);return j.from(l).filter(h=>h.length>0)},kl=e=>{const s={},a=e.dom;if(Ci(a))for(let l=0;l<a.style.length;l++){const h=a.style.item(l);s[h]=a.style[h]}return s},ma=(e,s)=>{const a=e.dom;O1(a,s),Vr(Lc(e,"style").map(Mc),"")&&Ar(e,"style")},D1=e=>e.dom.offsetWidth,Go=(e,s)=>{Ll(e).each(l=>{l.dom.insertBefore(s.dom,e.dom)})},sd=(e,s)=>{jh(e).fold(()=>{Ll(e).each(h=>{nr(h,s)})},l=>{Go(l,s)})},Jd=(e,s)=>{Zh(e).fold(()=>{nr(e,s)},l=>{e.dom.insertBefore(s.dom,l.dom)})},nr=(e,s)=>{e.dom.appendChild(s.dom)},M1=(e,s)=>{Go(e,s),nr(s,e)},V0=(e,s)=>{ce(s,(a,l)=>{const h=l===0?e:s[l-1];sd(h,a)})},rd=(e,s)=>{ce(s,a=>{nr(e,a)})},hs=e=>{e.dom.textContent="",ce(Ta(e),s=>{ps(s)})},ps=e=>{const s=e.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Dr=e=>{const s=Ta(e);s.length>0&&V0(e,s),ps(e)},Qd=(e,s)=>{const l=(s||document).createElement("div");return l.innerHTML=e,Ta(ve.fromDom(l))},ef=e=>Ye(e,ve.fromDom),Kf=e=>e.dom.innerHTML,tf=(e,s)=>{const l=ki(e).dom,h=ve.fromDom(l.createDocumentFragment()),g=Qd(s,l);rd(h,g),hs(e),nr(e,h)},go=e=>{const s=ve.fromTag("div"),a=ve.fromDom(e.dom.cloneNode(!0));return nr(s,a),Kf(s)},kg=(e,s,a,l,h,g,v)=>({target:e,x:s,y:a,stop:l,prevent:h,kill:g,raw:v}),cb=e=>{const s=ve.fromDom(_g(e).getOr(e.target)),a=()=>e.stopPropagation(),l=()=>e.preventDefault(),h=L(l,a);return kg(s,e.clientX,e.clientY,a,l,h,e)},H0=(e,s)=>a=>{e(a)&&s(cb(a))},U0=(e,s,a,l,h)=>{const g=H0(a,l);return e.dom.addEventListener(s,g,h),{unbind:it(P1,e,s,g,h)}},ep=(e,s,a,l)=>U0(e,s,a,l,!1),P1=(e,s,a,l)=>{e.dom.removeEventListener(s,a,l)},tp=(e,s)=>({left:e,top:s,translate:(l,h)=>tp(e+l,s+h)}),fc=tp,z1=e=>{const s=e.getBoundingClientRect();return fc(s.left,s.top)},Cg=(e,s)=>e!==void 0?e:s!==void 0?s:0,N1=e=>{const s=e.dom.ownerDocument,a=s.body,l=s.defaultView,h=s.documentElement;if(a===e.dom)return fc(a.offsetLeft,a.offsetTop);const g=Cg(l==null?void 0:l.pageYOffset,h.scrollTop),v=Cg(l==null?void 0:l.pageXOffset,h.scrollLeft),S=Cg(h.clientTop,a.clientTop),I=Cg(h.clientLeft,a.clientLeft);return Fc(e).translate(v-I,g-S)},Fc=e=>{const s=e.dom,l=s.ownerDocument.body;return l===s?fc(l.offsetLeft,l.offsetTop):nd(e)?z1(s):fc(0,0)},ub=e=>{const s=e!==void 0?e.dom:document,a=s.body.scrollLeft||s.documentElement.scrollLeft,l=s.body.scrollTop||s.documentElement.scrollTop;return fc(a,l)},$c=(e,s)=>{gu().browser.isSafari()&&de(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(s)},Kh=e=>{const s=e===void 0?window:e;return gu().browser.isFirefox()?j.none():j.from(s.visualViewport)},L1=(e,s,a,l)=>({x:e,y:s,width:a,height:l,right:e+a,bottom:s+l}),Sg=e=>{const s=e===void 0?window:e,a=s.document,l=ub(ve.fromDom(a));return Kh(s).fold(()=>{const h=s.document.documentElement,g=h.clientWidth,v=h.clientHeight;return L1(l.left,l.top,g,v)},h=>L1(Math.max(h.pageLeft,l.left),Math.max(h.pageTop,l.top),h.width,h.height))},db=(e,s)=>$e(Ta(e),s),fb=(e,s)=>{let a=[];return ce(Ta(e),l=>{s(l)&&(a=a.concat([l])),a=a.concat(fb(l,s))}),a},Ia=(e,s)=>B0(s,e),hb=(e,s,a)=>Ra(e,s,a).isSome();class Mr{constructor(s,a){this.node=s,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(s){return this.node=this.findSibling(this.node,"firstChild","nextSibling",s),this.node}prev(s){return this.node=this.findSibling(this.node,"lastChild","previousSibling",s),this.node}prev2(s){return this.node=this.findPreviousNode(this.node,s),this.node}findSibling(s,a,l,h){if(s){if(!h&&s[a])return s[a];if(s!==this.rootNode){let g=s[l];if(g)return g;for(let v=s.parentNode;v&&v!==this.rootNode;v=v.parentNode)if(g=v[l],g)return g}}}findPreviousNode(s,a){if(s){const l=s.previousSibling;if(this.rootNode&&l===this.rootNode)return;if(l){if(!a){for(let g=l.lastChild;g;g=g.lastChild)if(!g.lastChild)return g}return l}const h=s.parentNode;if(h&&h!==this.rootNode)return h}}}const nf=e=>s=>!!s&&s.nodeType===e,Fi=e=>!!e&&!Object.getPrototypeOf(e),mt=nf(1),Vc=e=>{const s=e.toLowerCase();return a=>Ue(a)&&a.nodeName.toLowerCase()===s},Fl=e=>{const s=e.map(a=>a.toLowerCase());return a=>{if(a&&a.nodeName){const l=a.nodeName.toLowerCase();return Oe(s,l)}return!1}},ad=(e,s)=>{const a=s.toLowerCase().split(" ");return l=>{if(mt(l)){const h=l.ownerDocument.defaultView;if(h)for(let g=0;g<a.length;g++){const v=h.getComputedStyle(l,null);if((v?v.getPropertyValue(e):null)===a[g])return!0}}return!1}},mb=e=>s=>mt(s)&&s.hasAttribute(e),pb=(e,s)=>a=>mt(a)&&a.getAttribute(e)===s,Aa=e=>mt(e)&&e.hasAttribute("data-mce-bogus"),id=e=>mt(e)&&e.getAttribute("data-mce-bogus")==="all",hc=e=>mt(e)&&e.tagName==="TABLE",pa=e=>s=>!!(mt(s)&&(s.contentEditable===e||s.getAttribute("data-mce-contenteditable")===e)),Yf=Fl(["textarea","input"]),Pt=nf(3),gb=nf(4),j0=nf(7),ld=nf(8),Hc=nf(9),xg=nf(11),Vs=Vc("br"),Yh=Vc("img"),Uc=pa("true"),eo=pa("false"),Cl=Fl(["td","th"]),$i=Fl(["td","th","caption"]),rl=Fl(["video","audio","object","embed"]),Vi=Vc("li"),$l="\uFEFF",Qo="\xA0",li=e=>e===$l,Eg=e=>e.replace(/\uFEFF/g,""),Hi=((e,s)=>{const a=g=>{if(!e(g))throw new Error("Can only get "+s+" value of a "+s+" node");return l(g).getOr("")},l=g=>e(g)?j.from(g.dom.nodeValue):j.none();return{get:a,getOption:l,set:(g,v)=>{if(!e(g))throw new Error("Can only set raw "+s+" value of a "+s+" node");g.dom.nodeValue=v}}})(wi,"text"),np=e=>Hi.get(e),Cr=e=>Hi.getOption(e),wu=(e,s)=>Hi.set(e,s),yb=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],mc=["td","th"],W0=["thead","tbody","tfoot"],cd=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],B1=["h1","h2","h3","h4","h5","h6"],al=["li","dd","dt"],Wo=["ul","ol","dl"],_u=["pre","script","textarea","style"],op=["pre"].concat(B1),Sr=e=>{let s;return a=>(s=s||lo(e,me),Fn(s,Cs(a)))},Ui=Sr(yb),Xf=e=>Cs(e)==="table",sp=e=>Ss(e)&&!Ui(e),ga=e=>Ss(e)&&Cs(e)==="br",Tg=Sr(cd),Be=Sr(Wo),ci=Sr(al),Xh=Sr(W0),Ka=Sr(mc),Vl=Sr(_u),ui=Sr(op),jr=e=>ui(e)||sp(e),Z0=e=>{const s=[];let a=e.dom;for(;a;)s.push(ve.fromDom(a)),a=a.lastChild;return s},Rg=e=>{const s=Ia(e,"br"),a=$e(Z0(e).slice(-1),ga);s.length===a.length&&ce(a,ps)},O=()=>{const e=ve.fromTag("br");return kr(e,"data-mce-bogus","1"),e},D=e=>{hs(e),nr(e,O())},Y=e=>{uc(e).each(s=>{Bl(s).each(a=>{Ui(e)&&ga(s)&&Ui(a)&&ps(s)})})},ne=$l,Ce=li,at=Eg,Nt=mt,ln=Pt,Wn=e=>(ln(e)&&(e=e.parentNode),Nt(e)&&e.hasAttribute("data-mce-caret")),Zn=e=>ln(e)&&Ce(e.data),$o=e=>Wn(e)||Zn(e),ss=e=>e.firstChild!==e.lastChild||!Vs(e.firstChild),Ls=(e,s)=>{var a;const h=((a=e.ownerDocument)!==null&&a!==void 0?a:document).createTextNode(ne),g=e.parentNode;if(s){const v=e.previousSibling;if(ln(v)){if($o(v))return v;if(Jf(v))return v.splitText(v.data.length-1)}g==null||g.insertBefore(h,e)}else{const v=e.nextSibling;if(ln(v)){if($o(v))return v;if(Hl(v))return v.splitText(1),v}e.nextSibling?g==null||g.insertBefore(h,e.nextSibling):g==null||g.appendChild(h)}return h},ji=e=>{const s=e.container();return Pt(s)?s.data.charAt(e.offset())===ne||e.isAtStart()&&Zn(s.previousSibling):!1},Oa=e=>{const s=e.container();return Pt(s)?s.data.charAt(e.offset()-1)===ne||e.isAtEnd()&&Zn(s.nextSibling):!1},ud=(e,s,a)=>{var l;const g=((l=s.ownerDocument)!==null&&l!==void 0?l:document).createElement(e);g.setAttribute("data-mce-caret",a?"before":"after"),g.setAttribute("data-mce-bogus","all"),g.appendChild(O().dom);const v=s.parentNode;return a?v==null||v.insertBefore(g,s):s.nextSibling?v==null||v.insertBefore(g,s.nextSibling):v==null||v.appendChild(g),g},Hl=e=>ln(e)&&e.data[0]===ne,Jf=e=>ln(e)&&e.data[e.data.length-1]===ne,rp=e=>{var s;const a=e.getElementsByTagName("br"),l=a[a.length-1];Aa(l)&&((s=l.parentNode)===null||s===void 0||s.removeChild(l))},Ul=e=>e&&e.hasAttribute("data-mce-caret")?(rp(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Qf=e=>Wn(e.startContainer),Ig=Uc,Ag=eo,Jh=Vs,Jr=Pt,ku=Fl(["script","style","textarea"]),ko=Fl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),gs=Fl(["table"]),Si=$o,cs=e=>Si(e)?!1:Jr(e)?!ku(e.parentNode):ko(e)||Jh(e)||gs(e)||eh(e),Og=e=>mt(e)&&e.getAttribute("unselectable")==="true",eh=e=>!Og(e)&&Ag(e),th=(e,s)=>{for(let a=e.parentNode;a&&a!==s;a=a.parentNode){if(eh(a))return!1;if(Ig(a))return!0}return!0},pc=e=>eh(e)?!be(zs(e.getElementsByTagName("*")),(s,a)=>s||Ig(a),!1):!1,Qh=e=>ko(e)||pc(e),F1=(e,s)=>cs(e)&&th(e,s),jl=/^[ \t\r\n]*$/,em=e=>jl.test(e),of=e=>" \f	\v".indexOf(e)!==-1,Cu=e=>e===`
`||e==="\r",jc=(e,s)=>s<e.length&&s>=0?Cu(e[s]):!1,bb=(e,s=4,a=!0,l=!0)=>{const h=Gd(" ",s),g=e.replace(/\t/g,h);return be(g,(S,I)=>of(I)||I===Qo?S.pcIsSpace||S.str===""&&a||S.str.length===g.length-1&&l||jc(g,S.str.length+1)?{pcIsSpace:!1,str:S.str+Qo}:{pcIsSpace:!0,str:S.str+" "}:{pcIsSpace:Cu(I),str:S.str+I},{pcIsSpace:!1,str:""}).str},Dg=(e,s)=>{const a=ve.fromDom(s),l=ve.fromDom(e);return hb(l,"pre,code",it(Xo,a))},xx=(e,s)=>Pt(e)&&em(e.data)&&!Dg(e,s),rA=e=>mt(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),ar=(e,s)=>cs(e)&&!xx(e,s)||rA(e)||aA(e),aA=mb("data-mce-bookmark"),sf=mb("data-mce-bogus"),G0=pb("data-mce-bogus","all"),q0=(e,s)=>{let a=0;if(ar(e,e))return!1;{let l=e.firstChild;if(!l)return!0;const h=new Mr(l,e);do{if(s){if(G0(l)){l=h.next(!0);continue}if(sf(l)){l=h.next();continue}}if(Vs(l)){a++,l=h.next();continue}if(ar(l,e))return!1;l=h.next()}while(l);return a<=1}},or=(e,s=!0)=>q0(e.dom,s),Wi="data-mce-block",Mg=e=>$e(Fr(e),s=>!/[A-Z]/.test(s)),ap=e=>Mg(e).join(","),Ex=(e,s)=>Ue(s.querySelector(e))?(s.setAttribute(Wi,"true"),s.getAttribute("data-mce-selected")==="inline-boundary"&&s.removeAttribute("data-mce-selected"),!0):(s.removeAttribute(Wi),!1),Pg=(e,s)=>{const a=ap(e.getTransparentElements()),l=ap(e.getBlockElements());return $e(s.querySelectorAll(a),h=>Ex(l,h))},vb=(e,s)=>{var a;const l=s?"lastChild":"firstChild";for(let h=e[l];h;h=h[l])if(or(ve.fromDom(h))){(a=h.parentNode)===null||a===void 0||a.removeChild(h);return}},$1=(e,s)=>{const a=document.createRange(),l=e.parentNode;if(l){a.setStartBefore(e),a.setEndBefore(s);const h=a.extractContents();vb(h,!0),a.setStartAfter(s),a.setEndAfter(e);const g=a.extractContents();vb(g,!1),or(ve.fromDom(h))||l.insertBefore(h,e),or(ve.fromDom(s))||l.insertBefore(s,e),or(ve.fromDom(g))||l.insertBefore(g,e),l.removeChild(e)}},iA=(e,s,a)=>{const l=e.getBlockElements(),h=ve.fromDom(s),g=S=>Cs(S)in l,v=S=>Xo(S,h);ce(ef(a),S=>{Ns(S,g,v).each(I=>{const z=db(S,W=>g(W)&&!e.isValidChild(Cs(I),Cs(W)));if(z.length>0){const W=Xm(I);ce(z,U=>{Ns(U,g,v).each(X=>{$1(X.dom,U.dom)})}),W.each(U=>Pg(e,U.dom))}})})},K0=(e,s,a)=>{ce([...a,...tm(e,s)?[s]:[]],l=>ce(Ia(ve.fromDom(l),l.nodeName.toLowerCase()),h=>{Y0(e,h.dom)&&Dr(h)}))},wb=(e,s)=>{const a=Pg(e,s);iA(e,s,a),K0(e,s,a)},ip=(e,s)=>{if(V1(e,s)){const a=ap(e.getBlockElements());Ex(a,s)}},rf=(e,s,a)=>{const l=g=>Xo(g,ve.fromDom(s)),h=sb(ve.fromDom(a),l);Ao(h,h.length-2).filter(Ss).fold(()=>wb(e,s),g=>wb(e,g.dom))},dd=e=>e.hasAttribute(Wi),nh=(e,s)=>Fn(e.getTransparentElements(),s),V1=(e,s)=>mt(s)&&nh(e,s.nodeName),tm=(e,s)=>V1(e,s)&&dd(s),Y0=(e,s)=>V1(e,s)&&!dd(s),Tx=(e,s)=>s.type===1&&nh(e,s.name)&&ee(s.attr(Wi)),X0=(e,s)=>s.type===1&&nh(e,s.name)&&st(s.attr(Wi)),Rx=gu().browser,J0=e=>ut(e,Ss),H1=e=>Rx.isFirefox()&&Cs(e)==="table"?J0(Ta(e)).filter(s=>Cs(s)==="caption").bind(s=>J0(wl(s)).map(a=>{const l=a.dom.offsetTop,h=s.dom.offsetTop,g=s.dom.offsetHeight;return l<=h?-g:0})).getOr(0):0,zo=(e,s)=>e.children&&Oe(e.children,s),xn=(e,s,a)=>{let l=0,h=0;const g=e.ownerDocument;if(a=a||e,s){if(a===e&&s.getBoundingClientRect&&dc(ve.fromDom(e),"position")==="static"){const S=s.getBoundingClientRect();return l=S.left+(g.documentElement.scrollLeft||e.scrollLeft)-g.documentElement.clientLeft,h=S.top+(g.documentElement.scrollTop||e.scrollTop)-g.documentElement.clientTop,{x:l,y:h}}let v=s;for(;v&&v!==a&&v.nodeType&&!zo(v,a);){const S=v;l+=S.offsetLeft||0,h+=S.offsetTop||0,v=S.offsetParent}for(v=s.parentNode;v&&v!==a&&v.nodeType&&!zo(v,a);)l-=v.scrollLeft||0,h-=v.scrollTop||0,v=v.parentNode;h+=H1(ve.fromDom(s))}return{x:l,y:h}},af=(e,s={})=>{let a=0;const l={},h=ve.fromDom(e),g=Nl(h),v=se=>{s.referrerPolicy=se},S=se=>{s.contentCssCors=se},I=se=>{nr(Jm(h),se)},z=se=>{const he=Jm(h);Gh(he,"#"+se).each(ps)},W=se=>fs(l,se).getOrThunk(()=>({id:"mce-u"+a++,passed:[],failed:[],count:0})),U=se=>new Promise((he,Ae)=>{let xe;const Me=xt._addCacheSuffix(se),We=W(Me);l[Me]=We,We.count++;const kt=(nt,on)=>{ce(nt,Et),We.status=on,We.passed=[],We.failed=[],xe&&(xe.onload=null,xe.onerror=null,xe=null)},Zt=()=>kt(We.passed,2),Bt=()=>kt(We.failed,3);if(he&&We.passed.push(he),Ae&&We.failed.push(Ae),We.status===1)return;if(We.status===2){Zt();return}if(We.status===3){Bt();return}We.status=1;const tt=ve.fromTag("link",g.dom);_i(tt,{rel:"stylesheet",type:"text/css",id:We.id}),s.contentCssCors&&kr(tt,"crossOrigin","anonymous"),s.referrerPolicy&&kr(tt,"referrerpolicy",s.referrerPolicy),xe=tt.dom,xe.onload=Zt,xe.onerror=Bt,I(tt),kr(tt,"href",Me)}),X=se=>Promise.allSettled(Ye(se,Ae=>U(Ae).then(ot(Ae)))).then(Ae=>{const xe=et(Ae,Me=>Me.status==="fulfilled");return xe.fail.length>0?Promise.reject(Ye(xe.fail,Me=>Me.reason)):Ye(xe.pass,Me=>Me.value)}),fe=se=>{const he=xt._addCacheSuffix(se);fs(l,he).each(Ae=>{--Ae.count===0&&(delete l[he],z(Ae.id))})};return{load:U,loadAll:X,unload:fe,unloadAll:se=>{ce(se,he=>{fe(he)})},_setReferrerPolicy:v,_setContentCssCors:S}},zg=(()=>{const e=new WeakMap;return{forElement:(a,l)=>{const g=bu(a).dom;return j.from(e.get(g)).getOrThunk(()=>{const v=af(g,l);return e.set(g,v),v})}}})(),lA=e=>e.nodeName.toLowerCase()==="span",U1=(e,s)=>Ue(e)&&(ar(e,s)||sp(ve.fromDom(e))),xs=(e,s)=>{const a=new Mr(e,s).prev(!1),l=new Mr(e,s).next(!1),h=st(a)||U1(a,s),g=st(l)||U1(l,s);return h&&g},Q0=e=>lA(e)&&e.getAttribute("data-mce-type")==="bookmark",Ix=(e,s)=>Pt(e)&&e.data.length>0&&xs(e,s),Ax=e=>mt(e)?e.childNodes.length>0:!1,St=e=>xg(e)||Hc(e),kb=(e,s,a)=>{var l;const h=a||s;if(mt(s)&&Q0(s))return s;const g=s.childNodes;for(let v=g.length-1;v>=0;v--)kb(e,g[v],h);if(mt(s)){const v=s.childNodes;v.length===1&&Q0(v[0])&&((l=s.parentNode)===null||l===void 0||l.insertBefore(v[0],s))}return!St(s)&&!ar(s,h)&&!Ax(s)&&!Ix(s,h)&&e.remove(s),s},cA=xt.makeMap,lf=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j1=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ng=/[<>&\"\']/g,Cb=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,lp={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},oh={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Lg={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},sr=e=>{const s=ve.fromTag("div").dom;return s.innerHTML=e,s.textContent||s.innerText||e},il=(e,s)=>{const a={};if(e){const l=e.split(",");s=s||10;for(let h=0;h<l.length;h+=2){const g=String.fromCharCode(parseInt(l[h],s));if(!oh[g]){const v="&"+l[h+1]+";";a[g]=v,a[v]=g}}return a}else return},Bg=il("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),cf=(e,s)=>e.replace(s?lf:j1,a=>oh[a]||a),uA=e=>(""+e).replace(Ng,s=>oh[s]||s),W1=(e,s)=>e.replace(s?lf:j1,a=>a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":oh[a]||"&#"+a.charCodeAt(0)+";"),sh=(e,s,a)=>{const l=a||Bg;return e.replace(s?lf:j1,h=>oh[h]||l[h]||h)},ll={encodeRaw:cf,encodeAllRaw:uA,encodeNumeric:W1,encodeNamed:sh,getEncodeFunc:(e,s)=>{const a=il(s)||Bg,l=(v,S)=>v.replace(S?lf:j1,I=>oh[I]!==void 0?oh[I]:a[I]!==void 0?a[I]:I.length>1?"&#"+((I.charCodeAt(0)-55296)*1024+(I.charCodeAt(1)-56320)+65536)+";":"&#"+I.charCodeAt(0)+";"),h=(v,S)=>sh(v,S,a),g=cA(e.replace(/\+/g,","));return g.named&&g.numeric?l:g.named?s?h:sh:g.numeric?W1:cf},decode:e=>e.replace(Cb,(s,a)=>a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):lp[a]||String.fromCharCode(a)):Lg[s]||Bg[s]||sr(s))},Z1={},fd={},dA={},Fg=xt.makeMap,Zi=xt.each,nm=xt.extend,dn=xt.explode,Dx=xt.inArray,di=(e,s)=>(e=xt.trim(e),e?e.split(s||" "):[]),Mx=(e,s={})=>{const a=Fg(e," ",Fg(e.toUpperCase()," "));return nm(a,s)},ek=e=>Mx("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),fA=e=>{const s={};let a,l,h,g;const v=(I,z="",W="")=>{const U=di(W),X=di(I);let fe=X.length;for(;fe--;){const pe=di([a,z].join(" "));s[X[fe]]={attributes:lo(pe,()=>({})),attributesOrder:pe,children:lo(U,ot(dA))}}},S=(I,z)=>{const W=di(I),U=di(z);let X=W.length;for(;X--;){const fe=s[W[X]];for(let pe=0,se=U.length;pe<se;pe++)fe.attributes[U[pe]]={},fe.attributesOrder.push(U[pe])}};if(Z1[e])return Z1[e];if(a="id accesskey class dir lang style tabindex title role",l="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",h="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const I="a ins del canvas map";a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",l+=" article aside details dialog figure main header footer hgroup section nav "+I,h+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if(e!=="html5-strict"){a+=" xml:lang";const I="acronym applet basefont big font strike tt";h=[h,I].join(" "),Zi(di(I),W=>{v(W,"",h)});const z="center dir isindex noframes";l=[l,z].join(" "),g=[l,h].join(" "),Zi(di(z),W=>{v(W,"",g)})}return g=g||[l,h].join(" "),v("html","manifest","head body"),v("head","","base command link meta noscript script style title"),v("title hr noscript br"),v("base","href target"),v("link","href rel media hreflang type sizes hreflang"),v("meta","name http-equiv content charset"),v("style","media type scoped"),v("script","src async defer type charset"),v("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",g),v("address dt dd div caption","",g),v("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",h),v("blockquote","cite",g),v("ol","reversed start type","li"),v("ul","","li"),v("li","value",g),v("dl","","dt dd"),v("a","href target rel media hreflang type",g),v("q","cite",h),v("ins del","cite datetime",g),v("img","src sizes srcset alt usemap ismap width height"),v("iframe","src name width height",g),v("embed","src type width height"),v("object","data type typemustmatch name usemap form width height",[g,"param"].join(" ")),v("param","name value"),v("map","name",[g,"area"].join(" ")),v("area","alt coords shape href target rel media hreflang type"),v("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),v("colgroup","span","col"),v("col","span"),v("tbody thead tfoot","","tr"),v("tr","","td th"),v("td","colspan rowspan headers",g),v("th","colspan rowspan headers scope abbr",g),v("form","accept-charset action autocomplete enctype method name novalidate target",g),v("fieldset","disabled form name",[g,"legend"].join(" ")),v("label","form for",h),v("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),v("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?g:h),v("select","disabled form multiple name required size","option optgroup"),v("optgroup","disabled label","option"),v("option","disabled label selected value"),v("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),v("menu","type label",[g,"li"].join(" ")),v("noscript","",g),e!=="html4"&&(v("wbr"),v("ruby","",[h,"rt rp"].join(" ")),v("figcaption","",g),v("mark rt rp summary bdi","",h),v("canvas","width height",g),v("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[g,"track source"].join(" ")),v("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[g,"track source"].join(" ")),v("picture","","img source"),v("source","src srcset type media sizes"),v("track","kind src srclang label default"),v("datalist","",[h,"option"].join(" ")),v("article section nav aside main header footer","",g),v("hgroup","","h1 h2 h3 h4 h5 h6"),v("figure","",[g,"figcaption"].join(" ")),v("time","datetime",h),v("dialog","open",g),v("command","type label icon disabled checked radiogroup command"),v("output","for form name",h),v("progress","value max",h),v("meter","value min max low high optimum",h),v("details","open",[g,"summary"].join(" ")),v("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(S("script","language xml:space"),S("style","xml:space"),S("object","declare classid code codebase codetype archive standby align border hspace vspace"),S("embed","align name hspace vspace"),S("param","valuetype type"),S("a","charset name rev shape coords"),S("br","clear"),S("applet","codebase archive code object alt name width height align hspace vspace"),S("img","name longdesc align border hspace vspace"),S("iframe","longdesc frameborder marginwidth marginheight scrolling align"),S("font basefont","size color face"),S("input","usemap align"),S("select"),S("textarea"),S("h1 h2 h3 h4 h5 h6 div p legend caption","align"),S("ul","type compact"),S("li","type"),S("ol dl menu dir","compact"),S("pre","width xml:space"),S("hr","align noshade size width"),S("isindex","prompt"),S("table","summary width frame rules cellspacing cellpadding align bgcolor"),S("col","width align char charoff valign"),S("colgroup","width align char charoff valign"),S("thead","align char charoff valign"),S("tr","align char charoff valign bgcolor"),S("th","axis align char charoff valign nowrap bgcolor width height"),S("form","accept"),S("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),S("tfoot","align char charoff valign"),S("tbody","align char charoff valign"),S("area","nohref"),S("body","background bgcolor text link vlink alink")),e!=="html4"&&(S("input button select textarea","autofocus"),S("input textarea","placeholder"),S("a","download"),S("link script img","crossorigin"),S("img","loading"),S("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&ce([s.video,s.audio],I=>{delete I.children.audio,delete I.children.video}),Zi(di("a form meter progress dfn"),I=>{s[I]&&delete s[I].children[I]}),delete s.caption.children.table,delete s.script,Z1[e]=s,s},Sb=(e,s)=>{if(e){const a={};return ee(e)&&(e={"*":e}),Zi(e,(l,h)=>{a[h]=a[h.toUpperCase()]=s==="map"?Fg(l,/[, ]/):dn(l,/[, ]/)}),a}else return},Wl=(e={})=>{var s;const a={},l={};let h=[];const g={},v={},S=(Kn,Vo,Gr)=>{const As=e[Kn];if(As)return Fg(As,/[, ]/,Fg(As.toUpperCase(),/[, ]/));{let mr=fd[Kn];return mr||(mr=Mx(Vo,Gr),fd[Kn]=mr),mr}},I=(s=e.schema)!==null&&s!==void 0?s:"html5",z=fA(I);e.verify_html===!1&&(e.valid_elements="*[*]");const W=Sb(e.valid_styles),U=Sb(e.invalid_styles,"map"),X=Sb(e.valid_classes,"map"),fe=S("whitespace_elements","pre script noscript style textarea video audio iframe object code"),pe=S("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),se=S("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),he=S("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Ae="td th iframe video audio object script code",xe=S("non_empty_elements",Ae+" pre",se),Me=S("move_caret_before_on_enter_elements",Ae+" table",se),We=S("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),kt=S("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",We),Zt=S("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Bt=S("transparent_elements","a ins del canvas map");Zi("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Kn=>{v[Kn]=new RegExp("</"+Kn+"[^>]*>","gi")});const tt=Kn=>new RegExp("^"+Kn.replace(/([?+*])/g,".$1")+"$"),nt=Kn=>{const Vo=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Gr=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,As=/[*?+]/;if(Kn){const mr=di(Kn,",");let rs,Ws;a["@"]&&(rs=a["@"].attributes,Ws=a["@"].attributesOrder);for(let sa=0,Md=mr.length;sa<Md;sa++){let Yi=Vo.exec(mr[sa]);if(Yi){const Rh=Yi[1],Hu=Yi[2],e1=Yi[3],t1=Yi[5],Tf={},Rf=[],ka={attributes:Tf,attributesOrder:Rf};if(Rh==="#"&&(ka.paddEmpty=!0),Rh==="-"&&(ka.removeEmpty=!0),Yi[4]==="!"&&(ka.removeEmptyAttrs=!0),rs&&(Gt(rs,(Pd,Ih)=>{Tf[Ih]=Pd}),Ws&&Rf.push(...Ws)),t1){const Pd=di(t1,"|");for(let Ih=0,zd=Pd.length;Ih<zd;Ih++)if(Yi=Gr.exec(Pd[Ih]),Yi){const Nd={},Om=Yi[1],Va=Yi[2].replace(/[\\:]:/g,":"),Jp=Yi[3],Dm=Yi[4];if(Om==="!"&&(ka.attributesRequired=ka.attributesRequired||[],ka.attributesRequired.push(Va),Nd.required=!0),Om==="-"){delete Tf[Va],Rf.splice(Dx(Rf,Va),1);continue}if(Jp&&(Jp==="="&&(ka.attributesDefault=ka.attributesDefault||[],ka.attributesDefault.push({name:Va,value:Dm}),Nd.defaultValue=Dm),Jp==="~"&&(ka.attributesForced=ka.attributesForced||[],ka.attributesForced.push({name:Va,value:Dm}),Nd.forcedValue=Dm),Jp==="<"&&(Nd.validValues=Fg(Dm,"?"))),As.test(Va)){const If=Nd;ka.attributePatterns=ka.attributePatterns||[],If.pattern=tt(Va),ka.attributePatterns.push(If)}else Tf[Va]||Rf.push(Va),Tf[Va]=Nd}}if(!rs&&Hu==="@"&&(rs=Tf,Ws=Rf),e1&&(ka.outputName=Hu,a[e1]=ka),As.test(Hu)){const Pd=ka;Pd.pattern=tt(Hu),h.push(Pd)}else a[Hu]=ka}}}},on=Kn=>{h=[],ce(Fr(a),Vo=>{delete a[Vo]}),nt(Kn),Zi(z,(Vo,Gr)=>{l[Gr]=Vo.children})},Cn=Kn=>{const Vo=/^(~)?(.+)$/;Kn&&(delete fd.text_block_elements,delete fd.block_elements,Zi(di(Kn,","),Gr=>{const As=Vo.exec(Gr);if(As){const mr=As[1]==="~",rs=mr?"span":"div",Ws=As[2];if(l[Ws]=l[rs],g[Ws]=rs,xe[Ws.toUpperCase()]={},xe[Ws]={},mr||(kt[Ws.toUpperCase()]={},kt[Ws]={}),!a[Ws]){let sa=a[rs];sa=nm({},sa),delete sa.removeEmptyAttrs,delete sa.removeEmpty,a[Ws]=sa}Zi(l,(sa,Md)=>{sa[rs]&&(l[Md]=sa=nm({},l[Md]),sa[Ws]=sa[rs])})}}))},On=Kn=>{const Vo=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete Z1[I],Kn&&Zi(di(Kn,","),Gr=>{const As=Vo.exec(Gr);if(As){const mr=As[1];let rs;mr?rs=l[As[2]]:rs=l[As[2]]={"#comment":{}},rs=l[As[2]],Zi(di(As[3],"|"),Ws=>{mr==="-"?delete rs[Ws]:rs[Ws]={}})}})},so=Kn=>{const Vo=a[Kn];if(Vo)return Vo;let Gr=h.length;for(;Gr--;){const As=h[Gr];if(As.pattern.test(Kn))return As}};e.valid_elements?on(e.valid_elements):(Zi(z,(Kn,Vo)=>{a[Vo]={attributes:Kn.attributes,attributesOrder:Kn.attributesOrder},l[Vo]=Kn.children}),Zi(di("strong/b em/i"),Kn=>{const Vo=di(Kn,"/");a[Vo[1]].outputName=Vo[0]}),Zi(Zt,(Kn,Vo)=>{a[Vo]&&(e.padd_empty_block_inline_children&&(a[Vo].paddInEmptyBlock=!0),a[Vo].removeEmpty=!0)}),Zi(di("ol ul blockquote a table tbody"),Kn=>{a[Kn]&&(a[Kn].removeEmpty=!0)}),Zi(di("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),Kn=>{a[Kn].paddEmpty=!0}),Zi(di("span"),Kn=>{a[Kn].removeEmptyAttrs=!0})),Cn(e.custom_elements),On(e.valid_children),nt(e.extended_valid_elements),On("+ol[ul|ol],+ul[ul|ol]"),Zi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Kn,Vo)=>{a[Vo]&&(a[Vo].parentsRequired=di(Kn))}),e.invalid_elements&&Zi(dn(e.invalid_elements),Kn=>{a[Kn]&&delete a[Kn]}),so("span")||nt("span[!data-mce-type|*]");const So=ot(W),ts=ot(U),vs=ot(X),Tr=ot(he),Ki=ot(kt),$a=ot(We),Ft=ot(Zt),pn=ot(Object.seal(se)),Lo=ot(pe),Jt=ot(xe),Rn=ot(Me),Pn=ot(fe),Qt=ot(Bt),po=ot(Object.seal(v)),ao=(Kn,Vo)=>{const Gr=l[Kn.toLowerCase()];return!!(Gr&&Gr[Vo.toLowerCase()])},mi=(Kn,Vo)=>{const Gr=so(Kn);if(Gr)if(Vo){if(Gr.attributes[Vo])return!0;const As=Gr.attributePatterns;if(As){let mr=As.length;for(;mr--;)if(As[mr].pattern.test(Vo))return!0}}else return!0;return!1},js=ot(g);return{type:I,children:l,elements:a,getValidStyles:So,getValidClasses:vs,getBlockElements:Ki,getInvalidStyles:ts,getVoidElements:pn,getTextBlockElements:$a,getTextInlineElements:Ft,getBoolAttrs:Tr,getElementRule:so,getSelfClosingElements:Lo,getNonEmptyElements:Jt,getMoveCaretBeforeOnEnterElements:Rn,getWhitespaceElements:Pn,getTransparentElements:Qt,getSpecialElements:po,isValidChild:ao,isValid:mi,getCustomElements:js,addValidElements:nt,setValidElements:on,addCustomElements:Cn,addValidChildren:On}},rh=(e={},s)=>{const a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,h=/\s+$/,g={};let v,S;const I=$l;s&&(v=s.getValidStyles(),S=s.getInvalidStyles());const z=(`\\" \\' \\; \\: ; : `+I).split(" ");for(let U=0;U<z.length;U++)g[z[U]]=I+U,g[I+U]=z[U];const W={parse:U=>{const X={};let fe=!1;const pe=e.url_converter,se=e.url_converter_scope||W,he=(tt,nt,on)=>{const Cn=X[tt+"-top"+nt];if(!Cn)return;const On=X[tt+"-right"+nt];if(!On)return;const so=X[tt+"-bottom"+nt];if(!so)return;const So=X[tt+"-left"+nt];if(!So)return;const ts=[Cn,On,so,So];let vs=ts.length-1;for(;vs--&&ts[vs]===ts[vs+1];);vs>-1&&on||(X[tt+nt]=vs===-1?ts[0]:ts.join(" "),delete X[tt+"-top"+nt],delete X[tt+"-right"+nt],delete X[tt+"-bottom"+nt],delete X[tt+"-left"+nt])},Ae=tt=>{const nt=X[tt];if(!nt)return;const on=nt.split(" ");let Cn=on.length;for(;Cn--;)if(on[Cn]!==on[0])return!1;return X[tt]=on[0],!0},xe=(tt,nt,on,Cn)=>{!Ae(nt)||!Ae(on)||!Ae(Cn)||(X[tt]=X[nt]+" "+X[on]+" "+X[Cn],delete X[nt],delete X[on],delete X[Cn])},Me=tt=>(fe=!0,g[tt]),We=(tt,nt)=>(fe&&(tt=tt.replace(/\uFEFF[0-9]/g,on=>g[on])),nt||(tt=tt.replace(/\\([\'\";:])/g,"$1")),tt),kt=tt=>String.fromCharCode(parseInt(tt.slice(1),16)),Zt=tt=>tt.replace(/\\[0-9a-f]+/gi,kt),Bt=(tt,nt,on,Cn,On,so)=>{if(On=On||so,On)return On=We(On),"'"+On.replace(/\'/g,"\\'")+"'";if(nt=We(nt||on||Cn||""),!e.allow_script_urls){const So=nt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(So)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(So))return""}return pe&&(nt=pe.call(se,nt,"style")),"url('"+nt.replace(/\'/g,"\\'")+"')"};if(U){U=U.replace(/[\u0000-\u001F]/g,""),U=U.replace(/\\[\"\';:\uFEFF]/g,Me).replace(/\"[^\"]+\"|\'[^\']+\'/g,nt=>nt.replace(/[;:]/g,Me));let tt;for(;tt=l.exec(U);){l.lastIndex=tt.index+tt[0].length;let nt=tt[1].replace(h,"").toLowerCase(),on=tt[2].replace(h,"");if(nt&&on){if(nt=Zt(nt),on=Zt(on),nt.indexOf(I)!==-1||nt.indexOf('"')!==-1||!e.allow_script_urls&&(nt==="behavior"||/expression\s*\(|\/\*|\*\//.test(on)))continue;nt==="font-weight"&&on==="700"?on="bold":(nt==="color"||nt==="background-color")&&(on=on.toLowerCase()),on=on.replace(a,Bt),X[nt]=fe?We(on,!0):on}}he("border","",!0),he("border","-width"),he("border","-color"),he("border","-style"),he("padding",""),he("margin",""),xe("border","border-width","border-style","border-color"),X.border==="medium none"&&delete X.border,X["border-image"]==="none"&&delete X["border-image"]}return X},serialize:(U,X)=>{let fe="";const pe=(he,Ae)=>{const xe=Ae[he];if(xe)for(let Me=0,We=xe.length;Me<We;Me++){const kt=xe[Me],Zt=U[kt];Zt&&(fe+=(fe.length>0?" ":"")+kt+": "+Zt+";")}},se=(he,Ae)=>{if(!S||!Ae)return!0;let xe=S["*"];return xe&&xe[he]?!1:(xe=S[Ae],!(xe&&xe[he]))};return X&&v?(pe("*",v),pe(X,v)):Gt(U,(he,Ae)=>{he&&se(Ae,X)&&(fe+=(fe.length>0?" ":"")+Ae+": "+he+";")}),fe}};return W},Px={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},cp=e=>e instanceof Event||de(e.initEvent),hA=e=>e.isDefaultPrevented===me||e.isDefaultPrevented===Ee,zx=e=>_t(e.preventDefault)||cp(e),$g=(e,s)=>{const a=s!=null?s:{};for(const l in e)Fn(Px,l)||(a[l]=e[l]);return Ue(e.composedPath)&&(a.composedPath=()=>e.composedPath()),a},up=(e,s,a,l)=>{var h;const g=$g(s,l);return g.type=e,_t(g.target)&&(g.target=(h=g.srcElement)!==null&&h!==void 0?h:a),zx(s)&&(g.preventDefault=()=>{g.defaultPrevented=!0,g.isDefaultPrevented=me,de(s.preventDefault)&&s.preventDefault()},g.stopPropagation=()=>{g.cancelBubble=!0,g.isPropagationStopped=me,de(s.stopPropagation)&&s.stopPropagation()},g.stopImmediatePropagation=()=>{g.isImmediatePropagationStopped=me,g.stopPropagation()},hA(g)||(g.isDefaultPrevented=g.defaultPrevented===!0?me:Ee,g.isPropagationStopped=g.cancelBubble===!0?me:Ee,g.isImmediatePropagationStopped=Ee)),g},G1="mce-data-",dp=/^(?:mouse|contextmenu)|click/,q1=(e,s,a,l)=>{e.addEventListener(s,a,l||!1)},xb=(e,s,a,l)=>{e.removeEventListener(s,a,l||!1)},K1=e=>Ue(e)&&dp.test(e.type),om=(e,s)=>{const a=up(e.type,e,document,s);if(K1(e)&&st(e.pageX)&&!st(e.clientX)){const l=a.target.ownerDocument||document,h=l.documentElement,g=l.body,v=a;v.pageX=e.clientX+(h&&h.scrollLeft||g&&g.scrollLeft||0)-(h&&h.clientLeft||g&&g.clientLeft||0),v.pageY=e.clientY+(h&&h.scrollTop||g&&g.scrollTop||0)-(h&&h.clientTop||g&&g.clientTop||0)}return a},hd=(e,s,a)=>{const l=e.document,h={type:"ready"};if(a.domLoaded){s(h);return}const g=()=>l.readyState==="complete"||l.readyState==="interactive"&&l.body,v=()=>{xb(e,"DOMContentLoaded",v),xb(e,"load",v),a.domLoaded||(a.domLoaded=!0,s(h)),e=null};g()?v():q1(e,"DOMContentLoaded",v),a.domLoaded||q1(e,"load",v)};class Da{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=G1+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(s,a,l,h){const g=this;let v;const S=window,I=X=>{g.executeHandlers(om(X||S.event),z)};if(!s||Pt(s)||ld(s))return l;let z;s[g.expando]?z=s[g.expando]:(z=g.count++,s[g.expando]=z,g.events[z]={}),h=h||s;const W=a.split(" ");let U=W.length;for(;U--;){let X=W[U],fe=I,pe=!1,se=!1;if(X==="DOMContentLoaded"&&(X="ready"),g.domLoaded&&X==="ready"&&s.readyState==="complete"){l.call(h,om({type:X}));continue}!g.hasFocusIn&&(X==="focusin"||X==="focusout")&&(pe=!0,se=X==="focusin"?"focus":"blur",fe=he=>{const Ae=om(he||S.event);Ae.type=Ae.type==="focus"?"focusin":"focusout",g.executeHandlers(Ae,z)}),v=g.events[z][X],v?X==="ready"&&g.domLoaded?l(om({type:X})):v.push({func:l,scope:h}):(g.events[z][X]=v=[{func:l,scope:h}],v.fakeName=se,v.capture=pe,v.nativeHandler=fe,X==="ready"?hd(s,fe,g):q1(s,se||X,fe,pe))}return s=v=null,l}unbind(s,a,l){if(!s||Pt(s)||ld(s))return this;const h=s[this.expando];if(h){let g=this.events[h];if(a){const v=a.split(" ");let S=v.length;for(;S--;){const I=v[S],z=g[I];if(z){if(l){let W=z.length;for(;W--;)if(z[W].func===l){const U=z.nativeHandler,X=z.fakeName,fe=z.capture,pe=z.slice(0,W).concat(z.slice(W+1));pe.nativeHandler=U,pe.fakeName=X,pe.capture=fe,g[I]=pe}}(!l||z.length===0)&&(delete g[I],xb(s,z.fakeName||I,z.nativeHandler,z.capture))}}}else Gt(g,(v,S)=>{xb(s,v.fakeName||S,v.nativeHandler,v.capture)}),g={};for(const v in g)if(Fn(g,v))return this;delete this.events[h];try{delete s[this.expando]}catch{s[this.expando]=null}}return this}fire(s,a,l){return this.dispatch(s,a,l)}dispatch(s,a,l){if(!s||Pt(s)||ld(s))return this;const h=om({type:a,target:s},l);do{const g=s[this.expando];g&&this.executeHandlers(h,g),s=s.parentNode||s.ownerDocument||s.defaultView||s.parentWindow}while(s&&!h.isPropagationStopped());return this}clean(s){if(!s||Pt(s)||ld(s))return this;if(s[this.expando]&&this.unbind(s),s.getElementsByTagName||(s=s.document),s&&s.getElementsByTagName){this.unbind(s);const a=s.getElementsByTagName("*");let l=a.length;for(;l--;)s=a[l],s[this.expando]&&this.unbind(s)}return this}destroy(){this.events={}}cancel(s){return s&&(s.preventDefault(),s.stopImmediatePropagation()),!1}executeHandlers(s,a){const l=this.events[a],h=l&&l[s.type];if(h)for(let g=0,v=h.length;g<v;g++){const S=h[g];if(S&&S.func.call(S.scope,s)===!1&&s.preventDefault(),s.isImmediatePropagationStopped())return}}}Da.Event=new Da;const Eb=xt.each,Nx=xt.grep,Y1="data-mce-style",tk=xt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Zl=(e,s,a)=>{_t(a)||a===""?Ar(e,s):kr(e,s,a)},mA=e=>e.replace(/[A-Z]/g,s=>"-"+s.toLowerCase()),uf=(e,s)=>{let a=0;if(e)for(let l=e.nodeType,h=e.previousSibling;h;h=h.previousSibling){const g=h.nodeType;s&&Pt(h)&&(g===l||!h.data.length)||(a++,l=g)}return a},Vg=(e,s)=>{const a=Li(s,"style"),l=e.serialize(e.parse(a),Cs(s));Zl(s,Y1,l)},Lx=(e,s)=>Tn(e)?Fn(tk,s)?e+"":e+"px":e,Bx=(e,s,a)=>{const l=mA(s);_t(a)||a===""?ma(e,l):qf(e,l,Lx(a,l))},pA=(e,s,a)=>{const l=s.keep_values,h={set:(v,S,I)=>{const z=ve.fromDom(v);de(s.url_converter)&&Ue(S)&&(S=s.url_converter.call(s.url_converter_scope||a(),String(S),I,v));const W="data-mce-"+I;Zl(z,W,S),Zl(z,I,S)},get:(v,S)=>{const I=ve.fromDom(v);return Li(I,"data-mce-"+S)||Li(I,S)}},g={style:{set:(v,S)=>{const I=ve.fromDom(v);l&&Zl(I,Y1,S),Ar(I,"style"),ee(S)&&Qm(I,e.parse(S))},get:v=>{const S=ve.fromDom(v),I=Li(S,Y1)||Li(S,"style");return e.serialize(e.parse(I),Cs(S))}}};return l&&(g.href=g.src=h),g},ys=(e,s={})=>{const a={},l=window,h={};let g=0;const v=!0,S=!0,I=zg.forElement(ve.fromDom(e),{contentCssCors:s.contentCssCors,referrerPolicy:s.referrerPolicy}),z=[],W=s.schema?s.schema:Wl({}),U=rh({url_converter:s.url_converter,url_converter_scope:s.url_converter_scope},s.schema),X=s.ownEvents?new Da:Da.Event,fe=W.getBlockElements(),pe=qe=>ee(qe)?Fn(fe,qe):mt(qe)&&(Fn(fe,qe.nodeName)||tm(W,qe)),se=qe=>qe&&e&&ee(qe)?e.getElementById(qe):qe,he=qe=>{const Ke=se(qe);return Ue(Ke)?ve.fromDom(Ke):null},Ae=(qe,Ke,$t="")=>{let Mt;const En=he(qe);if(Ue(En)&&Ss(En)){const Bo=Hy[Ke];Bo&&Bo.get?Mt=Bo.get(En.dom,Ke):Mt=Li(En,Ke)}return Ue(Mt)?Mt:$t},xe=qe=>{const Ke=se(qe);return _t(Ke)?[]:Ke.attributes},Me=(qe,Ke,$t)=>{pn(qe,Mt=>{if(mt(Mt)){const En=ve.fromDom(Mt),Bo=$t===""?null:$t,Bs=Li(En,Ke),Fs=Hy[Ke];Fs&&Fs.set?Fs.set(En.dom,Bo,Ke):Zl(En,Ke,Bo),Bs!==Bo&&s.onSetAttrib&&s.onSetAttrib({attrElm:En.dom,attrName:Ke,attrValue:Bo})}})},We=(qe,Ke)=>qe.cloneNode(Ke),kt=()=>s.root_element||e.body,Zt=qe=>{const Ke=Sg(qe);return{x:Ke.x,y:Ke.y,w:Ke.width,h:Ke.height}},Bt=(qe,Ke)=>xn(e.body,se(qe),Ke),tt=(qe,Ke,$t)=>{pn(qe,Mt=>{const En=ve.fromDom(Mt);Bx(En,Ke,$t),s.update_styles&&Vg(U,En)})},nt=(qe,Ke)=>{pn(qe,$t=>{const Mt=ve.fromDom($t);Gt(Ke,(En,Bo)=>{Bx(Mt,Bo,En)}),s.update_styles&&Vg(U,Mt)})},on=(qe,Ke,$t)=>{const Mt=se(qe);if(!(_t(Mt)||!mt(Mt)))return $t?dc(ve.fromDom(Mt),mA(Ke)):(Ke=Ke.replace(/-(\D)/g,(En,Bo)=>Bo.toUpperCase()),Ke==="float"&&(Ke="cssFloat"),Mt.style?Mt.style[Ke]:void 0)},Cn=qe=>{const Ke=se(qe);if(!Ke)return{w:0,h:0};let $t=on(Ke,"width"),Mt=on(Ke,"height");return(!$t||$t.indexOf("px")===-1)&&($t="0"),(!Mt||Mt.indexOf("px")===-1)&&(Mt="0"),{w:parseInt($t,10)||Ke.offsetWidth||Ke.clientWidth,h:parseInt(Mt,10)||Ke.offsetHeight||Ke.clientHeight}},On=qe=>{const Ke=se(qe),$t=Bt(Ke),Mt=Cn(Ke);return{x:$t.x,y:$t.y,w:Mt.w,h:Mt.h}},so=(qe,Ke)=>{if(!qe)return!1;const $t=Ze(qe)?qe:[qe];return yt($t,Mt=>Bi(ve.fromDom(Mt),Ke))},So=(qe,Ke,$t,Mt)=>{const En=[];let Bo=se(qe);Mt=Mt===void 0;const Bs=$t||(kt().nodeName!=="BODY"?kt().parentNode:null);if(ee(Ke))if(Ke==="*")Ke=mt;else{const Fs=Ke;Ke=Ld=>so(Ld,Fs)}for(;Bo&&!(Bo===Bs||_t(Bo.nodeType)||Hc(Bo)||xg(Bo));){if(!Ke||Ke(Bo))if(Mt)En.push(Bo);else return[Bo];Bo=Bo.parentNode}return Mt?En:null},ts=(qe,Ke,$t)=>{const Mt=So(qe,Ke,$t,!1);return Mt&&Mt.length>0?Mt[0]:null},vs=(qe,Ke,$t)=>{let Mt=Ke;if(qe){ee(Ke)&&(Mt=En=>so(En,Ke));for(let En=qe[$t];En;En=En[$t])if(de(Mt)&&Mt(En))return En}return null},Tr=(qe,Ke)=>vs(qe,Ke,"nextSibling"),Ki=(qe,Ke)=>vs(qe,Ke,"previousSibling"),$a=qe=>de(qe.querySelectorAll),Ft=(qe,Ke)=>{var $t,Mt;const En=(Mt=($t=se(Ke))!==null&&$t!==void 0?$t:s.root_element)!==null&&Mt!==void 0?Mt:e;return $a(En)?zs(En.querySelectorAll(qe)):[]},pn=function(qe,Ke,$t){const Mt=$t!=null?$t:this;if(Ze(qe)){const En=[];return Eb(qe,(Bo,Bs)=>{const Fs=se(Bo);Fs&&En.push(Ke.call(Mt,Fs,Bs))}),En}else{const En=se(qe);return En?Ke.call(Mt,En):!1}},Lo=(qe,Ke)=>{pn(qe,$t=>{Gt(Ke,(Mt,En)=>{Me($t,En,Mt)})})},Jt=(qe,Ke)=>{pn(qe,$t=>{const Mt=ve.fromDom($t);tf(Mt,Ke)})},Rn=(qe,Ke,$t,Mt,En)=>pn(qe,Bo=>{const Bs=ee(Ke)?e.createElement(Ke):Ke;return Ue($t)&&Lo(Bs,$t),Mt&&(!ee(Mt)&&Mt.nodeType?Bs.appendChild(Mt):ee(Mt)&&Jt(Bs,Mt)),En?Bs:Bo.appendChild(Bs)}),Pn=(qe,Ke,$t)=>Rn(e.createElement(qe),qe,Ke,$t,!0),Qt=ll.decode,po=ll.encodeAllRaw,ao=(qe,Ke,$t="")=>{let Mt="<"+qe;for(const En in Ke)si(Ke,En)&&(Mt+=" "+En+'="'+po(Ke[En])+'"');return nl($t)&&Fn(W.getVoidElements(),qe)?Mt+" />":Mt+">"+$t+"</"+qe+">"},mi=qe=>{const Ke=e.createElement("div"),$t=e.createDocumentFragment();$t.appendChild(Ke),qe&&(Ke.innerHTML=qe);let Mt;for(;Mt=Ke.firstChild;)$t.appendChild(Mt);return $t.removeChild(Ke),$t},js=(qe,Ke)=>pn(qe,$t=>{const Mt=ve.fromDom($t);return Ke&&ce(Ta(Mt),En=>{wi(En)&&En.dom.length===0?ps(En):Go(Mt,En)}),ps(Mt),Mt.dom}),Kn=qe=>pn(qe,Ke=>{const $t=Ke.attributes;for(let Mt=$t.length-1;Mt>=0;Mt--)Ke.removeAttributeNode($t.item(Mt))}),Vo=qe=>U.parse(qe),Gr=(qe,Ke)=>U.serialize(qe,Ke),As=qe=>{if(Ah!==ys.DOM&&e===document){if(a[qe])return;a[qe]=!0}let Ke=e.getElementById("mceDefaultStyles");if(!Ke){Ke=e.createElement("style"),Ke.id="mceDefaultStyles",Ke.type="text/css";const $t=e.head;$t.firstChild?$t.insertBefore(Ke,$t.firstChild):$t.appendChild(Ke)}Ke.styleSheet?Ke.styleSheet.cssText+=qe:Ke.appendChild(e.createTextNode(qe))},mr=qe=>{qe||(qe=""),ce(qe.split(","),Ke=>{h[Ke]=!0,I.load(Ke).catch(Ot)})},rs=(qe,Ke,$t)=>{pn(qe,Mt=>{if(mt(Mt)){const En=ve.fromDom(Mt),Bo=Ke.split(" ");ce(Bo,Bs=>{Ue($t)?($t?Uf:Uh)(En,Bs):yg(En,Bs)})}})},Ws=(qe,Ke)=>{rs(qe,Ke,!0)},sa=(qe,Ke)=>{rs(qe,Ke,!1)},Md=(qe,Ke)=>{const $t=he(qe),Mt=Ke.split(" ");return Ue($t)&&an(Mt,En=>Ym($t,En))},Yi=qe=>{pn(qe,Ke=>ma(ve.fromDom(Ke),"display"))},Rh=qe=>{pn(qe,Ke=>qf(ve.fromDom(Ke),"display","none"))},Hu=qe=>{const Ke=he(qe);return Ue(Ke)&&Vr(ii(Ke,"display"),"none")},e1=qe=>(qe||"mce_")+g++,t1=qe=>{const Ke=he(qe);return Ue(Ke)?mt(Ke.dom)?Ke.dom.outerHTML:go(Ke):""},Tf=(qe,Ke)=>{pn(qe,$t=>{mt($t)&&($t.outerHTML=Ke)})},Rf=(qe,Ke)=>{const $t=se(Ke);return pn(qe,Mt=>{const En=$t==null?void 0:$t.parentNode,Bo=$t==null?void 0:$t.nextSibling;return En&&(Bo?En.insertBefore(Mt,Bo):En.appendChild(Mt)),Mt})},ka=(qe,Ke,$t)=>pn(Ke,Mt=>{var En;const Bo=Ze(Ke)?qe.cloneNode(!0):qe;return $t&&Eb(Nx(Mt.childNodes),Bs=>{Bo.appendChild(Bs)}),(En=Mt.parentNode)===null||En===void 0||En.replaceChild(Bo,Mt),Mt}),Pd=(qe,Ke)=>{if(qe.nodeName!==Ke.toUpperCase()){const $t=Pn(Ke);return Eb(xe(qe),Mt=>{Me($t,Mt.nodeName,Ae(qe,Mt.nodeName))}),ka($t,qe,!0),$t}else return qe},Ih=(qe,Ke)=>{let $t=qe;for(;$t;){let Mt=Ke;for(;Mt&&$t!==Mt;)Mt=Mt.parentNode;if($t===Mt)break;$t=$t.parentNode}return!$t&&qe.ownerDocument?qe.ownerDocument.documentElement:$t},zd=qe=>{if(mt(qe)){const Ke=qe.nodeName.toLowerCase()==="a"&&!Ae(qe,"href")&&Ae(qe,"id");if(Ae(qe,"name")||Ae(qe,"data-mce-bookmark")||Ke)return!0}return!1},Nd=(qe,Ke)=>{let $t=0;if(zd(qe))return!1;const Mt=qe.firstChild;if(Mt){const En=new Mr(Mt,qe),Bo=W?W.getWhitespaceElements():{},Bs=Ke||(W?W.getNonEmptyElements():null);let Fs=Mt;do{if(mt(Fs)){const Ld=Fs.getAttribute("data-mce-bogus");if(Ld){Fs=En.next(Ld==="all");continue}const n1=Fs.nodeName.toLowerCase();if(Bs&&Bs[n1]){if(n1==="br"){$t++,Fs=En.next();continue}return!1}if(zd(Fs))return!1}if(ld(Fs)||Pt(Fs)&&!em(Fs.data)||Pt(Fs)&&Fs.parentNode&&Bo[Fs.parentNode.nodeName]&&em(Fs.data))return!1;Fs=En.next()}while(Fs)}return $t<=1},Om=()=>e.createRange(),Va=(qe,Ke,$t)=>{let Mt=Om(),En,Bo;if(qe&&Ke&&qe.parentNode&&Ke.parentNode){const Bs=qe.parentNode;return Mt.setStart(Bs,uf(qe)),Mt.setEnd(Ke.parentNode,uf(Ke)),En=Mt.extractContents(),Mt=Om(),Mt.setStart(Ke.parentNode,uf(Ke)+1),Mt.setEnd(Bs,uf(qe)+1),Bo=Mt.extractContents(),Bs.insertBefore(kb(Ah,En),qe),$t?Bs.insertBefore($t,qe):Bs.insertBefore(Ke,qe),Bs.insertBefore(kb(Ah,Bo),qe),js(qe),$t||Ke}else return},Jp=(qe,Ke,$t,Mt)=>{if(Ze(qe)){let En=qe.length;const Bo=[];for(;En--;)Bo[En]=Jp(qe[En],Ke,$t,Mt);return Bo}else return s.collect&&(qe===e||qe===l)&&z.push([qe,Ke,$t,Mt]),X.bind(qe,Ke,$t,Mt||Ah)},Dm=(qe,Ke,$t)=>{if(Ze(qe)){let Mt=qe.length;const En=[];for(;Mt--;)En[Mt]=Dm(qe[Mt],Ke,$t);return En}else{if(z.length>0&&(qe===e||qe===l)){let Mt=z.length;for(;Mt--;){const[En,Bo,Bs]=z[Mt];qe===En&&(!Ke||Ke===Bo)&&(!$t||$t===Bs)&&X.unbind(En,Bo,Bs)}}return X.unbind(qe,Ke,$t)}},If=(qe,Ke,$t)=>X.dispatch(qe,Ke,$t),Vy=(qe,Ke,$t)=>X.dispatch(qe,Ke,$t),K_=qe=>{if(qe&&mt(qe)){const Ke=qe.getAttribute("data-mce-contenteditable");return Ke&&Ke!=="inherit"?Ke:qe.contentEditable!=="inherit"?qe.contentEditable:null}else return null},Ah={doc:e,settings:s,win:l,files:h,stdMode:v,boxModel:S,styleSheetLoader:I,boundEvents:z,styles:U,schema:W,events:X,isBlock:pe,root:null,clone:We,getRoot:kt,getViewPort:Zt,getRect:On,getSize:Cn,getParent:ts,getParents:So,get:se,getNext:Tr,getPrev:Ki,select:Ft,is:so,add:Rn,create:Pn,createHTML:ao,createFragment:mi,remove:js,setStyle:tt,getStyle:on,setStyles:nt,removeAllAttribs:Kn,setAttrib:Me,setAttribs:Lo,getAttrib:Ae,getPos:Bt,parseStyle:Vo,serializeStyle:Gr,addStyle:As,loadCSS:mr,addClass:Ws,removeClass:sa,hasClass:Md,toggleClass:rs,show:Yi,hide:Rh,isHidden:Hu,uniqueId:e1,setHTML:Jt,getOuterHTML:t1,setOuterHTML:Tf,decode:Qt,encode:po,insertAfter:Rf,replace:ka,rename:Pd,findCommonAncestor:Ih,run:pn,getAttribs:xe,isEmpty:Nd,createRng:Om,nodeIndex:uf,split:Va,bind:Jp,unbind:Dm,fire:Vy,dispatch:If,getContentEditable:K_,getContentEditableParent:qe=>{const Ke=kt();let $t=null;for(let Mt=qe;Mt&&Mt!==Ke&&($t=K_(Mt),$t===null);Mt=Mt.parentNode);return $t},isEditable:qe=>{if(Ue(qe)){const Ke=mt(qe)?qe:qe.parentElement,$t=K_(kt())==="true";return Ue(Ke)&&Gf(ve.fromDom(Ke),$t)}else return!1},destroy:()=>{if(z.length>0){let qe=z.length;for(;qe--;){const[Ke,$t,Mt]=z[qe];X.unbind(Ke,$t,Mt)}}Gt(h,(qe,Ke)=>{I.unload(Ke),delete h[Ke]})},isChildOf:(qe,Ke)=>qe===Ke||Ke.contains(qe),dumpRng:qe=>"startContainer: "+qe.startContainer.nodeName+", startOffset: "+qe.startOffset+", endContainer: "+qe.endContainer.nodeName+", endOffset: "+qe.endOffset},Hy=pA(U,s,ot(Ah));return Ah};ys.DOM=ys(document),ys.nodeIndex=uf;const gA=ys.DOM,yA=0,Fx=1,X1=2,$x=3;class Wc{constructor(s={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=s}_setReferrerPolicy(s){this.settings.referrerPolicy=s}loadScript(s){return new Promise((a,l)=>{const h=gA;let g;const v=()=>{h.remove(z),g&&(g.onerror=g.onload=g=null)},S=()=>{v(),a()},I=()=>{v(),l("Failed to load script: "+s)},z=h.uniqueId();g=document.createElement("script"),g.id=z,g.type="text/javascript",g.src=xt._addCacheSuffix(s),this.settings.referrerPolicy&&h.setAttrib(g,"referrerpolicy",this.settings.referrerPolicy),g.onload=S,g.onerror=I,(document.getElementsByTagName("head")[0]||document.body).appendChild(g)})}isDone(s){return this.states[s]===X1}markDone(s){this.states[s]=X1}add(s){const a=this;return a.queue.push(s),a.states[s]===void 0&&(a.states[s]=yA),new Promise((h,g)=>{a.scriptLoadedCallbacks[s]||(a.scriptLoadedCallbacks[s]=[]),a.scriptLoadedCallbacks[s].push({resolve:h,reject:g})})}load(s){return this.add(s)}remove(s){delete this.states[s],delete this.scriptLoadedCallbacks[s]}loadQueue(){const s=this.queue;return this.queue=[],this.loadScripts(s)}loadScripts(s){const a=this,l=(I,z)=>{fs(a.scriptLoadedCallbacks,z).each(W=>{ce(W,U=>U[I](z))}),delete a.scriptLoadedCallbacks[z]},h=I=>{const z=$e(I,W=>W.status==="rejected");return z.length>0?Promise.reject(Vt(z,({reason:W})=>Ze(W)?W:[W])):Promise.resolve()},g=I=>Promise.allSettled(Ye(I,z=>a.states[z]===X1?(l("resolve",z),Promise.resolve()):a.states[z]===$x?(l("reject",z),Promise.reject(z)):(a.states[z]=Fx,a.loadScript(z).then(()=>{a.states[z]=X1,l("resolve",z);const W=a.queue;return W.length>0?(a.queue=[],g(W).then(h)):Promise.resolve()},()=>(a.states[z]=$x,l("reject",z),Promise.reject(z)))))),v=I=>(a.loading=!0,g(I).then(z=>{a.loading=!1;const W=a.queueLoadedCallbacks.shift();return j.from(W).each(Et),h(z)})),S=zf(s);return a.loading?new Promise((I,z)=>{a.queueLoadedCallbacks.push(()=>v(S).then(I,z))}):v(S)}}Wc.ScriptLoader=new Wc;const Ya=e=>{let s=e;return{get:()=>s,set:h=>{s=h}}},J1=e=>ht(e)&&Fn(e,"raw"),ah=e=>Ze(e)&&e.length>1,fp={},Ma=Ya("en"),Vx=()=>fs(fp,Ma.get()),md={getData:()=>Mo(fp,e=>({...e})),setCode:e=>{e&&Ma.set(e)},getCode:()=>Ma.get(),add:(e,s)=>{let a=fp[e];a||(fp[e]=a={}),Gt(s,(l,h)=>{a[h.toLowerCase()]=l})},translate:e=>{const s=Vx().getOr({}),a=v=>de(v)?Object.prototype.toString.call(v):l(v)?"":""+v,l=v=>v===""||v===null||v===void 0,h=v=>{const S=a(v);return fs(s,S.toLowerCase()).map(a).getOr(S)},g=v=>v.replace(/{context:\w+}$/,"");if(l(e))return"";if(J1(e))return a(e.raw);if(ah(e)){const v=e.slice(1),S=h(e[0]).replace(/\{([0-9]+)\}/g,(I,z)=>Fn(v,z)?a(v[z]):I);return g(S)}return g(h(e))},isRtl:()=>Vx().bind(e=>fs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Fn(fp,e)},cl=()=>{const e=[],s={},a={},l=[],h=(se,he)=>{const Ae=$e(l,xe=>xe.name===se&&xe.state===he);ce(Ae,xe=>xe.resolve())},g=se=>Fn(s,se),v=se=>Fn(a,se),S=se=>{if(a[se])return a[se].instance},I=(se,he)=>{const Ae=md.getCode(),xe=","+(he||"")+",";!Ae||he&&xe.indexOf(","+Ae+",")===-1||Wc.ScriptLoader.add(s[se]+"/langs/"+Ae+".js")},z=(se,he)=>{cl.languageLoad!==!1&&(g(se)?I(se,he):pe(se,"loaded").then(()=>I(se,he)))},W=(se,he)=>(e.push(he),a[se]={instance:he},h(se,"added"),he),U=se=>{delete s[se],delete a[se]},X=(se,he)=>ee(he)?ee(se)?{prefix:"",resource:he,suffix:""}:{prefix:se.prefix,resource:he,suffix:se.suffix}:he,fe=(se,he)=>{if(s[se])return Promise.resolve();let Ae=ee(he)?he:he.prefix+he.resource+he.suffix;Ae.indexOf("/")!==0&&Ae.indexOf("://")===-1&&(Ae=cl.baseURL+"/"+Ae),s[se]=Ae.substring(0,Ae.lastIndexOf("/"));const xe=()=>(h(se,"loaded"),Promise.resolve());return a[se]?xe():Wc.ScriptLoader.add(Ae).then(xe)},pe=(se,he="added")=>he==="added"&&v(se)||he==="loaded"&&g(se)?Promise.resolve():new Promise(Ae=>{l.push({name:se,state:he,resolve:Ae})});return{items:e,urls:s,lookup:a,get:S,requireLangPack:z,add:W,remove:U,createUrl:X,load:fe,waitFor:pe}};cl.languageLoad=!0,cl.baseURL="",cl.PluginManager=cl(),cl.ThemeManager=cl(),cl.ModelManager=cl();const Qr=e=>{const s=Ya(j.none()),a=()=>s.get().each(e);return{clear:()=>{a(),s.set(j.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:S=>{a(),s.set(j.some(S))}}},Wx=e=>{const s=Ya(j.none()),a=()=>s.get().each(S=>clearInterval(S));return{clear:()=>{a(),s.set(j.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:S=>{a(),s.set(j.some(setInterval(S,e)))}}},Es=()=>{const e=Qr(Ot);return{...e,on:a=>e.get().each(a)}},xi=(e,s)=>{let a=null;return{cancel:()=>{J(a)||(clearTimeout(a),a=null)},throttle:(...g)=>{J(a)&&(a=setTimeout(()=>{a=null,e.apply(null,g)},s))}}},Su=(e,s)=>{let a=null;const l=()=>{J(a)||(clearTimeout(a),a=null)};return{cancel:l,throttle:(...g)=>{l(),a=setTimeout(()=>{a=null,e.apply(null,g)},s)}}},Ei=ot("mce-annotation"),ih=ot("data-mce-annotation"),Tb=ot("data-mce-annotation-uid"),am=ot("data-mce-annotation-active"),gc=ot("data-mce-annotation-classes"),Zc=ot("data-mce-annotation-attrs"),nk=e=>s=>Xo(s,e),Rb=(e,s)=>{const a=e.selection.getRng(),l=ve.fromDom(a.startContainer),h=ve.fromDom(e.getBody()),g=s.fold(()=>"."+Ei(),I=>`[${ih()}="${I}"]`),v=Wh(l,a.startOffset).getOr(l);return Bc(v,g,nk(h)).bind(I=>Lc(I,`${Tb()}`).bind(z=>Lc(I,`${ih()}`).map(W=>{const U=Gx(e,z);return{uid:z,name:W,elements:U}})))},Zx=e=>Ss(e)&&Ym(e,Ei()),ok=(e,s)=>qa(e,"data-mce-bogus")||hb(e,'[data-mce-bogus="all"]',nk(s)),Gx=(e,s)=>{const a=ve.fromDom(e.getBody()),l=Ia(a,`[${Tb()}="${s}"]`);return $e(l,h=>!ok(h,a))},Hg=(e,s)=>{const a=ve.fromDom(e.getBody()),l=Ia(a,`[${ih()}="${s}"]`),h={};return ce(l,g=>{if(!ok(g,a)){const v=Li(g,Tb()),S=fs(h,v).getOr([]);h[v]=S.concat([g])}}),h},qx=(e,s)=>{const a=Ya({}),l=()=>({listeners:[],previous:Es()}),h=(U,X)=>{g(U,fe=>(X(fe),fe))},g=(U,X)=>{const fe=a.get(),pe=fs(fe,U).getOrThunk(l),se=X(pe);fe[U]=se,a.set(fe)},v=(U,X,fe)=>{h(U,pe=>{ce(pe.listeners,se=>se(!0,U,{uid:X,nodes:Ye(fe,he=>he.dom)}))})},S=U=>{h(U,X=>{ce(X.listeners,fe=>fe(!1,U))})},I=(U,X)=>{ce(Gx(e,U),fe=>{X?kr(fe,am(),"true"):Ar(fe,am())})},z=Su(()=>{const U=mo(s.getNames());ce(U,X=>{g(X,fe=>{const pe=fe.previous.get();return Rb(e,j.some(X)).fold(()=>{pe.each(se=>{S(X),fe.previous.clear(),I(se,!1)})},({uid:se,name:he,elements:Ae})=>{Vr(pe,se)||(pe.each(xe=>I(xe,!1)),v(he,se,Ae),fe.previous.set(se),I(se,!0))}),{previous:fe.previous,listeners:fe.listeners}})})},30);return e.on("remove",()=>{z.cancel()}),e.on("NodeChange",()=>{z.throttle()}),{addListener:(U,X)=>{g(U,fe=>({previous:fe.previous,listeners:fe.listeners.concat([X])}))}}},bA=(e,s)=>{const a=ih(),l=g=>j.from(g.attr(a)).bind(s.lookup),h=g=>{var v,S;g.attr(Tb(),null),g.attr(ih(),null),g.attr(am(),null);const I=j.from(g.attr(Zc())).map(X=>X.split(",")).getOr([]),z=j.from(g.attr(gc())).map(X=>X.split(",")).getOr([]);ce(I,X=>g.attr(X,null));const W=(S=(v=g.attr("class"))===null||v===void 0?void 0:v.split(" "))!==null&&S!==void 0?S:[],U=jn(W,[Ei()].concat(z));g.attr("class",U.length>0?U.join(" "):null),g.attr(gc(),null),g.attr(Zc(),null)};e.serializer.addTempAttr(am()),e.serializer.addAttributeFilter(a,g=>{for(const v of g)l(v).each(S=>{S.persistent===!1&&(v.name==="span"?v.unwrap():h(v))})})},vA=()=>{const e={};return{register:(h,g)=>{e[h]={name:h,settings:g}},lookup:h=>fs(e,h).map(g=>g.settings),getNames:()=>Fr(e)}};let sk=0;const Kx=e=>{const a=new Date().getTime(),l=Math.floor(Math.random()*1e9);return sk++,e+"_"+l+sk+String(a)},Yx=(e,s)=>{ce(s,a=>{Uf(e,a)})},Xx=(e,s)=>{ce(s,a=>{Uh(e,a)})},Jx=(e,s)=>ve.fromDom(e.dom.cloneNode(s)),im=e=>Jx(e,!1),Qx=e=>Jx(e,!0),eE=(e,s)=>{const a=ve.fromTag(s),l=Gm(e);return _i(a,l),a},wA=(e,s)=>{const a=eE(e,s);sd(e,a);const l=Ta(e);return rd(a,l),ps(e),a},tE=(e,s,a=Ee)=>{const l=new Mr(e,s),h=g=>{let v;do v=l[g]();while(v&&!Pt(v)&&!a(v));return j.from(v).filter(Pt)};return{current:()=>j.from(l.current()).filter(Pt),next:()=>h("next"),prev:()=>h("prev"),prev2:()=>h("prev2")}},hp=(e,s)=>{const a=s||(v=>e.isBlock(v)||Vs(v)||eo(v)),l=(v,S,I,z)=>{if(Pt(v)){const W=z(v,S,v.data);if(W!==-1)return j.some({container:v,offset:W})}return I().bind(W=>l(W.container,W.offset,I,z))};return{backwards:(v,S,I,z)=>{const W=tE(v,z!=null?z:e.getRoot(),a);return l(v,S,()=>W.prev().map(U=>({container:U,offset:U.length})),I).getOrNull()},forwards:(v,S,I,z)=>{const W=tE(v,z!=null?z:e.getRoot(),a);return l(v,S,()=>W.next().map(U=>({container:U,offset:0})),I).getOrNull()}}},Ks=Math.round,lh=e=>e?{left:Ks(e.left),top:Ks(e.top),bottom:Ks(e.bottom),right:Ks(e.right),width:Ks(e.width),height:Ks(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},nE=(e,s)=>(e=lh(e),s||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),_A=(e,s)=>e.left===s.left&&e.top===s.top&&e.bottom===s.bottom&&e.right===s.right,Ib=(e,s,a)=>e>=0&&e<=Math.min(s.height,a.height)/2,Pa=(e,s)=>{const a=Math.min(s.height/2,e.height/2);return e.bottom-a<s.top?!0:e.top>s.bottom?!1:Ib(s.top-e.bottom,e,s)},Sl=(e,s)=>e.top>s.bottom?!0:e.bottom<s.top?!1:Ib(s.bottom-e.top,e,s),rk=(e,s,a)=>s>=e.left&&s<=e.right&&a>=e.top&&a<=e.bottom,ew=e=>be(e,(s,a)=>s.fold(()=>j.some(a),l=>{const h=Math.min(a.left,l.left),g=Math.min(a.top,l.top),v=Math.max(a.right,l.right),S=Math.max(a.bottom,l.bottom);return j.some({top:g,right:v,bottom:S,left:h,width:v-h,height:S-g})}),j.none()),tw=(e,s,a)=>{const l=Math.max(Math.min(s,e.left+e.width),e.left),h=Math.max(Math.min(a,e.top+e.height),e.top);return Math.sqrt((s-l)*(s-l)+(a-h)*(a-h))},kA=(e,s)=>Math.max(0,Math.min(e.bottom,s.bottom)-Math.max(e.top,s.top)),oE=(e,s,a)=>Math.min(Math.max(e,s),a),Ab=e=>{const s=e.startContainer,a=e.startOffset;return s===e.endContainer&&s.hasChildNodes()&&e.endOffset===a+1?s.childNodes[a]:null},xl=(e,s)=>{if(mt(e)&&e.hasChildNodes()){const a=e.childNodes,l=oE(s,0,a.length-1);return a[l]}else return e},sE=(e,s)=>{if(!(s<0&&mt(e)&&e.hasChildNodes()))return xl(e,s)},Ys=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),pd=e=>ee(e)&&e.charCodeAt(0)>=768&&Ys.test(e),df=(...e)=>s=>{for(let a=0;a<e.length;a++)if(e[a](s))return!0;return!1},CA=(...e)=>s=>{for(let a=0;a<e.length;a++)if(!e[a](s))return!1;return!0},ak=mt,rE=cs,lm=ad("display","block table"),aE=ad("float","left right"),ff=CA(ak,rE,Gn(aE)),ik=Gn(ad("white-space","pre pre-line pre-wrap")),Ob=Pt,lk=Vs,nw=ys.nodeIndex,Db=sE,ck=e=>e?e.createRange():ys.DOM.createRng(),Mb=e=>ee(e)&&/[\r\n\t ]/.test(e),iE=e=>!!e.setStart&&!!e.setEnd,ch=e=>{const s=e.startContainer,a=e.startOffset;if(Mb(e.toString())&&ik(s.parentNode)&&Pt(s)){const l=s.data;if(Mb(l[a-1])||Mb(l[a+1]))return!0}return!1},ow=e=>{const s=e.ownerDocument,a=ck(s),l=s.createTextNode(Qo),h=e.parentNode;h.insertBefore(l,e),a.setStart(l,0),a.setEnd(l,1);const g=lh(a.getBoundingClientRect());return h.removeChild(l),g},lE=e=>{const s=e.startContainer,a=e.endContainer,l=e.startOffset,h=e.endOffset;if(s===a&&Pt(a)&&l===0&&h===1){const g=e.cloneRange();return g.setEndAfter(a),cm(g)}else return null},uk=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,cm=e=>{var s;let a;const l=e.getClientRects();return l.length>0?a=lh(l[0]):a=lh(e.getBoundingClientRect()),!iE(e)&&lk(e)&&uk(a)?ow(e):uk(a)&&iE(e)&&(s=lE(e))!==null&&s!==void 0?s:a},hf=(e,s)=>{const a=nE(e,s);return a.width=1,a.right=a.left+1,a},mp=e=>{const s=[],a=v=>{v.height!==0&&(s.length>0&&_A(v,s[s.length-1])||s.push(v))},l=(v,S)=>{const I=ck(v.ownerDocument);if(S<v.data.length){if(pd(v.data[S]))return;if(pd(v.data[S-1])&&(I.setStart(v,S),I.setEnd(v,S+1),!ch(I))){a(hf(cm(I),!1));return}}S>0&&(I.setStart(v,S-1),I.setEnd(v,S),ch(I)||a(hf(cm(I),!1))),S<v.data.length&&(I.setStart(v,S),I.setEnd(v,S+1),ch(I)||a(hf(cm(I),!0)))},h=e.container(),g=e.offset();if(Ob(h))return l(h,g),s;if(ak(h))if(e.isAtEnd()){const v=Db(h,g);Ob(v)&&l(v,v.data.length),ff(v)&&!lk(v)&&a(hf(cm(v),!1))}else{const v=Db(h,g);if(Ob(v)&&l(v,0),ff(v)&&e.isAtEnd())return a(hf(cm(v),!1)),s;const S=Db(e.container(),e.offset()-1);ff(S)&&!lk(S)&&(lm(S)||lm(v)||!ff(v))&&a(hf(cm(S),!1)),ff(v)&&a(hf(cm(v),!0))}return s},dt=(e,s,a)=>{const l=()=>(Ob(e),s===0),h=()=>Ob(e)?s>=e.data.length:s>=e.childNodes.length,g=()=>{const W=ck(e.ownerDocument);return W.setStart(e,s),W.setEnd(e,s),W},v=()=>(a||(a=mp(dt(e,s))),a),S=()=>v().length>0,I=W=>W&&e===W.container()&&s===W.offset(),z=W=>Db(e,W?s-1:s);return{container:ot(e),offset:ot(s),toRange:g,getClientRects:v,isVisible:S,isAtStart:l,isAtEnd:h,isEqual:I,getNode:z}};dt.fromRangeStart=e=>dt(e.startContainer,e.startOffset),dt.fromRangeEnd=e=>dt(e.endContainer,e.endOffset),dt.after=e=>dt(e.parentNode,nw(e)+1),dt.before=e=>dt(e.parentNode,nw(e)),dt.isAbove=(e,s)=>ha(ks(s.getClientRects()),jo(e.getClientRects()),Pa).getOr(!1),dt.isBelow=(e,s)=>ha(jo(s.getClientRects()),ks(e.getClientRects()),Sl).getOr(!1),dt.isAtStart=e=>e?e.isAtStart():!1,dt.isAtEnd=e=>e?e.isAtEnd():!1,dt.isTextPosition=e=>e?Pt(e.container()):!1,dt.isElementPosition=e=>!dt.isTextPosition(e);const Co=(e,s)=>{Pt(s)&&s.data.length===0&&e.remove(s)},ir=(e,s,a)=>{s.insertNode(a),Co(e,a.previousSibling),Co(e,a.nextSibling)},pp=(e,s,a)=>{const l=j.from(a.firstChild),h=j.from(a.lastChild);s.insertNode(a),l.each(g=>Co(e,g.previousSibling)),h.each(g=>Co(e,g.nextSibling))},Pb=(e,s,a)=>{xg(a)?pp(e,s,a):ir(e,s,a)},qo=Pt,dk=Aa,zb=ys.nodeIndex,ya=e=>{const s=e.parentNode;return dk(s)?ya(s):s},mf=e=>e?Di(e.childNodes,(s,a)=>(dk(a)&&a.nodeName!=="BR"?s=s.concat(mf(a)):s.push(a),s),[]):[],SA=(e,s)=>{let a=e;for(;(a=a.previousSibling)&&qo(a);)s+=a.data.length;return s},cE=e=>s=>e===s,uE=e=>{let s,a;s=mf(ya(e)),a=Zs(s,cE(e),e),s=s.slice(0,a+1);const l=Di(s,(h,g,v)=>(qo(g)&&qo(s[v-1])&&h++,h),0);return s=Wd(s,Fl([e.nodeName])),a=Zs(s,cE(e),e),a-l},Ug=e=>(qo(e)?"text()":e.nodeName.toLowerCase())+"["+uE(e)+"]",jg=(e,s,a)=>{const l=[];for(let h=s.parentNode;h&&h!==e&&!(a&&a(h));h=h.parentNode)l.push(h);return l},sw=(e,s)=>{let a=[],l=s.container(),h=s.offset(),g;if(qo(l))g=SA(l,h);else{const S=l.childNodes;h>=S.length?(g="after",h=S.length-1):g="before",l=S[h]}a.push(Ug(l));let v=jg(e,l);return v=Wd(v,Gn(Aa)),a=a.concat(Dc(v,S=>Ug(S))),a.reverse().join("/")+","+g},fk=(e,s,a)=>{let l=mf(e);return l=Wd(l,(h,g)=>!qo(h)||!qo(l[g-1])),l=Wd(l,Fl([s])),l[a]},ul=(e,s)=>{let a=e,l=0;for(;qo(a);){const h=a.data.length;if(s>=l&&s<=l+h){e=a,s=s-l;break}if(!qo(a.nextSibling)){e=a,s=h;break}l+=h,a=a.nextSibling}return qo(e)&&s>e.data.length&&(s=e.data.length),dt(e,s)},Wg=(e,s)=>{if(!s)return null;const a=s.split(","),l=a[0].split("/"),h=a.length>1?a[1]:"before",g=Di(l,(v,S)=>{const I=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(S);return I?(I[1]==="text()"&&(I[1]="#text"),fk(v,I[1],parseInt(I[2],10))):null},e);if(!g)return null;if(!qo(g)&&g.parentNode){let v;return h==="after"?v=zb(g)+1:v=zb(g),dt(g.parentNode,v)}return ul(g,parseInt(h,10))},Nb=eo,dE=(e,s,a)=>{let l=e(s.data.slice(0,a)).length;for(let h=s.previousSibling;h&&Pt(h);h=h.previousSibling)l+=e(h.data).length;return l},gp=(e,s,a,l,h)=>{const g=h?l.startContainer:l.endContainer;let v=h?l.startOffset:l.endOffset;const S=[],I=e.getRoot();if(Pt(g))S.push(a?dE(s,g,v):v);else{let z=0;const W=g.childNodes;v>=W.length&&W.length&&(z=1,v=Math.max(0,W.length-1)),S.push(e.nodeIndex(W[v],a)+z)}for(let z=g;z&&z!==I;z=z.parentNode)S.push(e.nodeIndex(z,a));return S},yc=(e,s,a,l)=>{const h=s.dom,g=gp(h,e,a,l,!0),v=s.isForward(),S=Qf(l)?{isFakeCaret:!0}:{};if(s.isCollapsed())return{start:g,forward:v,...S};{const I=gp(h,e,a,l,!1);return{start:g,end:I,forward:v,...S}}},hk=(e,s,a)=>{let l=0;return xt.each(e.select(s),h=>{if(h.getAttribute("data-mce-bogus")!=="all"){if(h===a)return!1;l++;return}}),l},Xa=(e,s)=>{let a=s?e.startContainer:e.endContainer,l=s?e.startOffset:e.endOffset;if(mt(a)&&a.nodeName==="TR"){const h=a.childNodes;a=h[Math.min(s?l:l-1,h.length-1)],a&&(l=s?0:a.childNodes.length,s?e.setStart(a,l):e.setEnd(a,l))}},fE=e=>(Xa(e,!0),Xa(e,!1),e),uh=(e,s)=>{if(mt(e)&&(e=xl(e,s),Nb(e)))return e;if($o(e)){Pt(e)&&Wn(e)&&(e=e.parentNode);let a=e.previousSibling;if(Nb(a)||(a=e.nextSibling,Nb(a)))return a}},rw=e=>uh(e.startContainer,e.startOffset)||uh(e.endContainer,e.endOffset),mk=(e,s,a)=>{const l=a.getNode(),h=a.getRng();if(l.nodeName==="IMG"||Nb(l)){const v=l.nodeName;return{name:v,index:hk(a.dom,v,l)}}const g=rw(h);if(g){const v=g.tagName;return{name:v,index:hk(a.dom,v,g)}}return yc(e,a,s,h)},hE=e=>{const s=e.getRng();return{start:sw(e.dom.getRoot(),dt.fromRangeStart(s)),end:sw(e.dom.getRoot(),dt.fromRangeEnd(s)),forward:e.isForward()}},pk=e=>({rng:e.getRng(),forward:e.isForward()}),aw=(e,s,a)=>{const l={"data-mce-type":"bookmark",id:s,style:"overflow:hidden;line-height:0px"};return a?e.create("span",l,"&#xFEFF;"):e.create("span",l)},gk=(e,s)=>{const a=e.dom;let l=e.getRng();const h=a.uniqueId(),g=e.isCollapsed(),v=e.getNode(),S=v.nodeName,I=e.isForward();if(S==="IMG")return{name:S,index:hk(a,S,v)};const z=fE(l.cloneRange());if(!g){z.collapse(!1);const U=aw(a,h+"_end",s);Pb(a,z,U)}l=fE(l),l.collapse(!0);const W=aw(a,h+"_start",s);return Pb(a,l,W),e.moveToBookmark({id:h,keep:!0,forward:I}),{id:h,forward:I}},xA=(e,s,a=!1)=>s===2?mk(at,a,e):s===3?hE(e):s?pk(e):gk(e,!1),yk=it(mk,Bn,!0),Ja=e=>{const s=g=>g(e),a=ot(e),l=()=>h,h={tag:!0,inner:e,fold:(g,v)=>v(e),isValue:me,isError:Ee,map:g=>Xs.value(g(e)),mapError:l,bind:s,exists:s,forall:s,getOr:a,or:l,getOrThunk:a,orThunk:l,getOrDie:a,each:g=>{g(e)},toOptional:()=>j.some(e)};return h},ea=e=>{const s=()=>a,a={tag:!1,inner:e,fold:(l,h)=>l(e),isValue:Ee,isError:me,map:s,mapError:l=>Xs.error(l(e)),bind:s,exists:Ee,forall:me,getOr:Bn,or:Bn,getOrThunk:uo,orThunk:uo,getOrDie:io(String(e)),each:Ot,toOptional:j.none};return a},Xs={value:Ja,error:ea,fromOption:(e,s)=>e.fold(()=>ea(s),Ja)},Js={generate:e=>{if(!Ze(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const s=[],a={};return ce(e,(l,h)=>{const g=Fr(l);if(g.length!==1)throw new Error("one and only one name per case");const v=g[0],S=l[v];if(a[v]!==void 0)throw new Error("duplicate key detected:"+v);if(v==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ze(S))throw new Error("case arguments must be an array");s.push(v),a[v]=(...I)=>{const z=I.length;if(z!==S.length)throw new Error("Wrong number of arguments to case "+v+". Expected "+S.length+" ("+S+"), got "+z);return{fold:(...U)=>{if(U.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+U.length);return U[h].apply(null,I)},match:U=>{const X=Fr(U);if(s.length!==X.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+X.join(","));if(!an(s,pe=>Oe(X,pe)))throw new Error("Not all branches were specified when using match. Specified: "+X.join(", ")+`
Required: `+s.join(", "));return U[v].apply(null,I)},log:U=>{console.log(U,{constructors:s,constructor:v,params:I})}}}}),a}};Js.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const bk=e=>{const s=[],a=[];return ce(e,l=>{l.fold(h=>{s.push(h)},h=>{a.push(h)})}),{errors:s,values:a}},vk=e=>e.type==="inline-command"||e.type==="inline-format",mE=e=>e.type==="block-command"||e.type==="block-format",iw=e=>{const s=l=>Xs.error({message:l,pattern:e}),a=(l,h,g)=>{if(e.format!==void 0){let v;if(Ze(e.format)){if(!an(e.format,ee))return s(l+" pattern has non-string items in the `format` array");v=e.format}else if(ee(e.format))v=[e.format];else return s(l+" pattern has non-string `format` parameter");return Xs.value(h(v))}else return e.cmd!==void 0?ee(e.cmd)?Xs.value(g(e.cmd,e.value)):s(l+" pattern has non-string `cmd` parameter"):s(l+" pattern is missing both `format` and `cmd` parameters")};if(!ht(e))return s("Raw pattern is not an object");if(!ee(e.start))return s("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!ee(e.end))return s("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return s("Inline pattern has empty `start` and `end` parameters");let l=e.start,h=e.end;return h.length===0&&(h=l,l=""),a("Inline",g=>({type:"inline-format",start:l,end:h,format:g}),(g,v)=>({type:"inline-command",start:l,end:h,cmd:g,value:v}))}else return e.replacement!==void 0?ee(e.replacement)?e.start.length===0?s("Replacement pattern has empty `start` parameter"):Xs.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):s("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?s("Block pattern has empty `start` parameter"):a("Block",l=>({type:"block-format",start:e.start,format:l[0]}),(l,h)=>({type:"block-command",start:e.start,cmd:l,value:h}))},Lb=e=>$e(e,mE),lw=e=>$e(e,vk),cw=(e,s)=>({inlinePatterns:lw(e),blockPatterns:Lb(e),dynamicPatternsLookup:s}),Bb=e=>{const s=bk(Ye(e,iw));return ce(s.errors,a=>console.error(a.message,a.pattern)),s.values},pE=e=>s=>{const a=e(s);return Bb(a)},gE=gu().deviceType,yE=gE.isTouch(),wk=ys.DOM,uw=e=>{const s=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return be(s,(a,l)=>{const h=l.split("="),g=h[0],v=h.length>1?h[1]:g;return a[Mc(g)]=Mc(v),a},{})},dw=e=>gt(e,RegExp),mn=e=>s=>s.options.get(e),_k=e=>ee(e)||ht(e),bE=(e,s="")=>a=>{const l=ee(a);if(l)if(a.indexOf("=")!==-1){const h=uw(a);return{value:fs(h,e.id).getOr(s),valid:l}}else return{value:a,valid:l};else return{valid:!1,message:"Must be a string."}},EA=e=>{const s=e.options.register;s("id",{processor:"string",default:e.id}),s("selector",{processor:"string"}),s("target",{processor:"object"}),s("suffix",{processor:"string"}),s("cache_suffix",{processor:"string"}),s("base_url",{processor:"string"}),s("referrer_policy",{processor:"string",default:""}),s("language_load",{processor:"boolean",default:!0}),s("inline",{processor:"boolean",default:!1}),s("iframe_attrs",{processor:"object",default:{}}),s("doctype",{processor:"string",default:"<!DOCTYPE html>"}),s("document_base_url",{processor:"string",default:e.documentBaseUrl}),s("body_id",{processor:bE(e,"tinymce"),default:"tinymce"}),s("body_class",{processor:bE(e),default:""}),s("content_security_policy",{processor:"string",default:""}),s("br_in_pre",{processor:"boolean",default:!0}),s("forced_root_block",{processor:a=>{const l=ee(a)&&Jo(a);return l?{value:a,valid:l}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),s("forced_root_block_attrs",{processor:"object",default:{}}),s("newline_behavior",{processor:a=>{const l=Oe(["block","linebreak","invert","default"],a);return l?{value:a,valid:l}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),s("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),s("no_newline_selector",{processor:"string",default:""}),s("keep_styles",{processor:"boolean",default:!0}),s("end_container_on_empty_block",{processor:a=>Te(a)?{valid:!0,value:a}:ee(a)?{valid:!0,value:a}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),s("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),s("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),s("font_size_classes",{processor:"string",default:""}),s("automatic_uploads",{processor:"boolean",default:!0}),s("images_reuse_filename",{processor:"boolean",default:!1}),s("images_replace_blob_uris",{processor:"boolean",default:!0}),s("icons",{processor:"string",default:""}),s("icons_url",{processor:"string",default:""}),s("images_upload_url",{processor:"string",default:""}),s("images_upload_base_path",{processor:"string",default:""}),s("images_upload_credentials",{processor:"boolean",default:!1}),s("images_upload_handler",{processor:"function"}),s("language",{processor:"string",default:"en"}),s("language_url",{processor:"string",default:""}),s("entity_encoding",{processor:"string",default:"named"}),s("indent",{processor:"boolean",default:!0}),s("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),s("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),s("indent_use_margin",{processor:"boolean",default:!1}),s("indentation",{processor:"string",default:"40px"}),s("content_css",{processor:a=>{const l=a===!1||ee(a)||nn(a,ee);return l?ee(a)?{value:Ye(a.split(","),Mc),valid:l}:Ze(a)?{value:a,valid:l}:a===!1?{value:[],valid:l}:{value:a,valid:l}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:bp(e)?[]:["default"]}),s("content_style",{processor:"string"}),s("content_css_cors",{processor:"boolean",default:!1}),s("font_css",{processor:a=>{const l=ee(a)||nn(a,ee);return l?{value:Ze(a)?a:Ye(a.split(","),Mc),valid:l}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),s("inline_boundaries",{processor:"boolean",default:!0}),s("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),s("object_resizing",{processor:a=>{const l=Te(a)||ee(a);return l?a===!1||gE.isiPhone()||gE.isiPad()?{value:"",valid:l}:{value:a===!0?"table,img,figure.image,div,video,iframe":a,valid:l}:{valid:!1,message:"Must be boolean or a string"}},default:!yE}),s("resize_img_proportional",{processor:"boolean",default:!0}),s("event_root",{processor:"object"}),s("service_message",{processor:"string"}),s("theme",{processor:a=>a===!1||ee(a)||de(a),default:"silver"}),s("theme_url",{processor:"string"}),s("formats",{processor:"object"}),s("format_empty_lines",{processor:"boolean",default:!1}),s("format_noneditable_selector",{processor:"string",default:""}),s("preview_styles",{processor:a=>{const l=a===!1||ee(a);return l?{value:a===!1?"":a,valid:l}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),s("custom_ui_selector",{processor:"string",default:""}),s("hidden_input",{processor:"boolean",default:!0}),s("submit_patch",{processor:"boolean",default:!0}),s("encoding",{processor:"string"}),s("add_form_submit_trigger",{processor:"boolean",default:!0}),s("add_unload_trigger",{processor:"boolean",default:!0}),s("custom_undo_redo_levels",{processor:"number",default:0}),s("disable_nodechange",{processor:"boolean",default:!1}),s("readonly",{processor:"boolean",default:!1}),s("plugins",{processor:"string[]",default:[]}),s("external_plugins",{processor:"object"}),s("forced_plugins",{processor:"string[]"}),s("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),s("model_url",{processor:"string"}),s("block_unsupported_drop",{processor:"boolean",default:!0}),s("visual",{processor:"boolean",default:!0}),s("visual_table_class",{processor:"string",default:"mce-item-table"}),s("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),s("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),s("setup",{processor:"function"}),s("init_instance_callback",{processor:"function"}),s("url_converter",{processor:"function",default:e.convertURL}),s("url_converter_scope",{processor:"object",default:e}),s("urlconverter_callback",{processor:"function"}),s("allow_conditional_comments",{processor:"boolean",default:!1}),s("allow_html_data_urls",{processor:"boolean",default:!1}),s("allow_svg_data_urls",{processor:"boolean"}),s("allow_html_in_named_anchor",{processor:"boolean",default:!1}),s("allow_script_urls",{processor:"boolean",default:!1}),s("allow_unsafe_link_target",{processor:"boolean",default:!1}),s("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),s("fix_list_elements",{processor:"boolean",default:!1}),s("preserve_cdata",{processor:"boolean",default:!1}),s("remove_trailing_brs",{processor:"boolean"}),s("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),s("element_format",{processor:"string",default:"html"}),s("entities",{processor:"string"}),s("schema",{processor:"string",default:"html5"}),s("convert_urls",{processor:"boolean",default:!0}),s("relative_urls",{processor:"boolean",default:!0}),s("remove_script_host",{processor:"boolean",default:!0}),s("custom_elements",{processor:"string"}),s("extended_valid_elements",{processor:"string"}),s("invalid_elements",{processor:"string"}),s("invalid_styles",{processor:_k}),s("valid_children",{processor:"string"}),s("valid_classes",{processor:_k}),s("valid_elements",{processor:"string"}),s("valid_styles",{processor:_k}),s("verify_html",{processor:"boolean",default:!0}),s("auto_focus",{processor:a=>ee(a)||a===!0}),s("browser_spellcheck",{processor:"boolean",default:!1}),s("protect",{processor:"array"}),s("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),s("deprecation_warnings",{processor:"boolean",default:!0}),s("a11y_advanced_options",{processor:"boolean",default:!1}),s("api_key",{processor:"string"}),s("paste_block_drop",{processor:"boolean",default:!1}),s("paste_data_images",{processor:"boolean",default:!0}),s("paste_preprocess",{processor:"function"}),s("paste_postprocess",{processor:"function"}),s("paste_webkit_styles",{processor:"string",default:"none"}),s("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),s("paste_merge_formats",{processor:"boolean",default:!0}),s("smart_paste",{processor:"boolean",default:!0}),s("paste_as_text",{processor:"boolean",default:!1}),s("paste_tab_spaces",{processor:"number",default:4}),s("text_patterns",{processor:a=>nn(a,ht)||a===!1?{value:Bb(a===!1?[]:a),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),s("text_patterns_lookup",{processor:a=>de(a)?{value:pE(a),valid:!0}:{valid:!1,message:"Must be a single function"},default:a=>[]}),s("noneditable_class",{processor:"string",default:"mceNonEditable"}),s("editable_class",{processor:"string",default:"mceEditable"}),s("noneditable_regexp",{processor:a=>nn(a,dw)?{value:a,valid:!0}:dw(a)?{value:[a],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),s("table_tab_navigation",{processor:"boolean",default:!0}),s("highlight_on_focus",{processor:"boolean",default:!1}),s("xss_sanitization",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{s("directionality",{processor:"string",default:md.isRtl()?"rtl":void 0}),s("placeholder",{processor:"string",default:wk.getAttrib(e.getElement(),"placeholder")})})},vE=mn("iframe_attrs"),Lt=mn("doctype"),wE=mn("document_base_url"),Qa=mn("body_id"),TA=mn("body_class"),kk=mn("content_security_policy"),RA=mn("br_in_pre"),Pr=mn("forced_root_block"),fw=mn("forced_root_block_attrs"),IA=mn("newline_behavior"),xu=mn("br_newline_selector"),Ck=mn("no_newline_selector"),Fb=mn("keep_styles"),pf=mn("end_container_on_empty_block"),Eu=mn("automatic_uploads"),hw=mn("images_reuse_filename"),Tu=mn("images_replace_blob_uris"),_E=mn("icons"),Sk=mn("icons_url"),mw=mn("images_upload_url"),um=mn("images_upload_base_path"),kE=mn("images_upload_credentials"),xk=mn("images_upload_handler"),AA=mn("content_css_cors"),pw=mn("referrer_policy"),$b=mn("language"),ei=mn("language_url"),CE=mn("indent_use_margin"),Zg=mn("indentation"),SE=mn("content_css"),gw=mn("content_style"),xE=mn("font_css"),EE=mn("directionality"),OA=mn("inline_boundaries_selector"),Gg=mn("object_resizing"),DA=mn("resize_img_proportional"),TE=mn("placeholder"),yw=mn("event_root"),RE=mn("service_message"),yp=mn("theme"),Vb=mn("theme_url"),qg=mn("model"),gd=mn("model_url"),ns=mn("inline_boundaries"),IE=mn("formats"),Gi=mn("preview_styles"),Ek=mn("format_empty_lines"),AE=mn("format_noneditable_selector"),OE=mn("custom_ui_selector"),bp=mn("inline"),MA=mn("hidden_input"),DE=mn("submit_patch"),ME=mn("add_form_submit_trigger"),PA=mn("add_unload_trigger"),zA=mn("custom_undo_redo_levels"),NA=mn("disable_nodechange"),PE=mn("readonly"),Kg=mn("content_css_cors"),Hb=mn("plugins"),E4=mn("external_plugins"),vp=mn("block_unsupported_drop"),LA=mn("visual"),BA=mn("visual_table_class"),zE=mn("visual_anchor_class"),NE=mn("iframe_aria_text"),LE=mn("setup"),wp=mn("init_instance_callback"),BE=mn("urlconverter_callback"),FA=mn("auto_focus"),$A=mn("browser_spellcheck"),VA=mn("protect"),Yg=mn("paste_block_drop"),_p=mn("paste_data_images"),bw=mn("paste_preprocess"),vw=mn("paste_postprocess"),FE=mn("paste_webkit_styles"),gf=mn("paste_remove_styles_if_webkit"),ww=mn("paste_merge_formats"),$E=mn("smart_paste"),yd=mn("paste_as_text"),dm=mn("paste_tab_spaces"),Tk=mn("allow_html_data_urls"),VE=mn("text_patterns"),HA=mn("text_patterns_lookup"),HE=mn("noneditable_class"),UE=mn("editable_class"),UA=mn("noneditable_regexp"),jA=mn("preserve_cdata"),jE=mn("highlight_on_focus"),_w=mn("xss_sanitization"),WE=e=>e.options.isSet("text_patterns_lookup"),WA=e=>xt.explode(e.options.get("font_size_style_values")),ZA=e=>xt.explode(e.options.get("font_size_classes")),GA=e=>e.options.get("encoding")==="xml",Rk=e=>xt.explode(e.options.get("images_file_types")),ZE=mn("table_tab_navigation"),GE=mt,qE=Pt,KE=e=>{const s=e.parentNode;s&&s.removeChild(e)},Ub=e=>{const s=at(e);return{count:e.length-s.length,text:s}},Ik=e=>{let s;for(;(s=e.data.lastIndexOf(ne))!==-1;)e.deleteData(s,1)},Ak=(e,s)=>(fm(e),s),jb=(e,s)=>{const a=Ub(e.data.substr(0,s.offset())),l=Ub(e.data.substr(s.offset()));return(a.text+l.text).length>0?(Ik(e),dt(e,s.offset()-a.count)):s},kw=(e,s)=>{const a=s.container(),l=Re(zs(a.childNodes),e).map(h=>h<s.offset()?dt(a,s.offset()-1):s).getOr(s);return fm(e),l},Ok=(e,s)=>qE(e)&&s.container()===e?jb(e,s):Ak(e,s),YE=(e,s)=>s.container()===e.parentNode?kw(e,s):Ak(e,s),XE=(e,s)=>dt.isTextPosition(s)?Ok(e,s):YE(e,s),fm=e=>{GE(e)&&$o(e)&&(ss(e)?e.removeAttribute("data-mce-caret"):KE(e)),qE(e)&&(Ik(e),e.data.length===0&&KE(e))},qA=eo,JE=rl,Wb=Cl,KA="*[contentEditable=false],video,audio,embed,object",Cw=(e,s,a)=>{const l=nE(s.getBoundingClientRect(),a);let h,g;if(e.tagName==="BODY"){const S=e.ownerDocument.documentElement;h=e.scrollLeft||S.scrollLeft,g=e.scrollTop||S.scrollTop}else{const S=e.getBoundingClientRect();h=e.scrollLeft-S.left,g=e.scrollTop-S.top}l.left+=h,l.right+=h,l.top+=g,l.bottom+=g,l.width=1;let v=s.offsetWidth-s.clientWidth;return v>0&&(a&&(v*=-1),l.left+=v,l.right+=v),l},YA=e=>{var s,a;const l=Ia(ve.fromDom(e),KA);for(let h=0;h<l.length;h++){const g=l[h].dom;let v=g.previousSibling;if(Jf(v)){const S=v.data;S.length===1?(s=v.parentNode)===null||s===void 0||s.removeChild(v):v.deleteData(S.length-1,1)}v=g.nextSibling,Hl(v)&&(v.data.length===1?(a=v.parentNode)===null||a===void 0||a.removeChild(v):v.deleteData(0,1))}},XA=(e,s,a,l)=>{const h=Es();let g,v;const S=Pr(e),I=e.dom,z=(se,he)=>{let Ae;if(W(),Wb(he))return null;if(a(he)){const xe=ud(S,he,se),Me=Cw(s,he,se);I.setStyle(xe,"top",Me.top),v=xe;const We=I.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});I.setStyles(We,{...Me}),I.add(s,We),h.set({caret:We,element:he,before:se}),se&&I.addClass(We,"mce-visual-caret-before"),U(),Ae=he.ownerDocument.createRange(),Ae.setStart(xe,0),Ae.setEnd(xe,0)}else return v=Ls(he,se),Ae=he.ownerDocument.createRange(),kp(v.nextSibling)?(Ae.setStart(v,0),Ae.setEnd(v,0)):(Ae.setStart(v,1),Ae.setEnd(v,1)),Ae;return Ae},W=()=>{YA(s),v&&(fm(v),v=null),h.on(se=>{I.remove(se.caret),h.clear()}),g&&(clearInterval(g),g=void 0)},U=()=>{g=setInterval(()=>{h.on(se=>{l()?I.toggleClass(se.caret,"mce-visual-caret-hidden"):I.addClass(se.caret,"mce-visual-caret-hidden")})},500)};return{show:z,hide:W,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{h.on(se=>{const he=Cw(s,se.element,se.before);I.setStyles(se.caret,{...he})})},destroy:()=>clearInterval(g)}},QE=()=>Fo.browser.isFirefox(),kp=e=>qA(e)||JE(e),Zb=e=>(kp(e)||hc(e)&&QE())&&Xm(ve.fromDom(e)).exists(Gf),Gb=Uc,Dk=eo,JA=rl,Mk=ad("display","block table table-cell table-caption list-item"),Ti=$o,e2=Wn,Xg=mt,QA=Pt,qb=cs,Cp=e=>e>0,Sp=e=>e<0,Sw=(e,s)=>{let a;for(;a=e(s);)if(!e2(a))return a;return null},Jg=(e,s,a,l,h)=>{const g=new Mr(e,l),v=Dk(e)||e2(e);let S;if(Sp(s)){if(v&&(S=Sw(g.prev.bind(g),!0),a(S)))return S;for(;S=Sw(g.prev.bind(g),h);)if(a(S))return S}if(Cp(s)){if(v&&(S=Sw(g.next.bind(g),!0),a(S)))return S;for(;S=Sw(g.next.bind(g),h);)if(a(S))return S}return null},xw=(e,s)=>{const a=h=>Gb(h.dom),l=h=>h.dom===s;return Ns(ve.fromDom(e),a,l).map(h=>h.dom).getOr(s)},hm=(e,s)=>{for(;e&&e!==s;){if(Mk(e))return e;e=e.parentNode}return null},zr=(e,s,a)=>hm(e.container(),a)===hm(s.container(),a),xp=(e,s)=>{if(!s)return j.none();const a=s.container(),l=s.offset();return Xg(a)?j.from(a.childNodes[l+e]):j.none()},Pk=(e,s)=>{var a;const h=((a=s.ownerDocument)!==null&&a!==void 0?a:document).createRange();return e?(h.setStartBefore(s),h.setEndBefore(s)):(h.setStartAfter(s),h.setEndAfter(s)),h},eO=(e,s,a)=>hm(s,e)===hm(a,e),zk=(e,s,a)=>{const l=e?"previousSibling":"nextSibling";let h=a;for(;h&&h!==s;){let g=h[l];if(g&&Ti(g)&&(g=g[l]),Dk(g)||JA(g)){if(eO(s,g,h))return g;break}if(qb(g))break;h=h.parentNode}return null},Qg=it(Pk,!0),Ep=it(Pk,!1),Nk=(e,s,a)=>{let l;const h=it(zk,!0,s),g=it(zk,!1,s),v=a.startContainer,S=a.startOffset;if(Wn(v)){const I=QA(v)?v.parentNode:v,z=I.getAttribute("data-mce-caret");if(z==="before"&&(l=I.nextSibling,Zb(l)))return Qg(l);if(z==="after"&&(l=I.previousSibling,Zb(l)))return Ep(l)}if(!a.collapsed)return a;if(Pt(v)){if(Ti(v)){if(e===1){if(l=g(v),l)return Qg(l);if(l=h(v),l)return Ep(l)}if(e===-1){if(l=h(v),l)return Ep(l);if(l=g(v),l)return Qg(l)}return a}if(Jf(v)&&S>=v.data.length-1)return e===1&&(l=g(v),l)?Qg(l):a;if(Hl(v)&&S<=1)return e===-1&&(l=h(v),l)?Ep(l):a;if(S===v.data.length)return l=g(v),l?Qg(l):a;if(S===0)return l=h(v),l?Ep(l):a}return a},ey=(e,s)=>xp(e?0:-1,s).filter(Dk),Lk=(e,s,a)=>{const l=Nk(e,s,a);return e===-1?dt.fromRangeStart(l):dt.fromRangeEnd(l)},Kb=e=>j.from(e.getNode()).map(ve.fromDom),t2=e=>j.from(e.getNode(!0)).map(ve.fromDom),dh=(e,s)=>{let a=s;for(;a=e(a);)if(a.isVisible())return a;return a},Ew=(e,s)=>{const a=zr(e,s);return!a&&Vs(e.getNode())?!0:a};var ba;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(ba||(ba={}));const n2=eo,Ru=Pt,Bk=mt,bd=Vs,vd=cs,Fk=Qh,ty=F1,tO=(e,s)=>{const a=[];let l=e;for(;l&&l!==s;)a.push(l),l=l.parentNode;return a},o2=(e,s)=>e.hasChildNodes()&&s<e.childNodes.length?e.childNodes[s]:null,Tw=(e,s)=>{if(Cp(e)){if(vd(s.previousSibling)&&!Ru(s.previousSibling))return dt.before(s);if(Ru(s))return dt(s,0)}if(Sp(e)){if(vd(s.nextSibling)&&!Ru(s.nextSibling))return dt.after(s);if(Ru(s))return dt(s,s.data.length)}return Sp(e)?bd(s)?dt.before(s):dt.after(s):dt.before(s)},Rw=(e,s)=>{const a=s.nextSibling;return a&&vd(a)?Ru(a)?dt(a,0):dt.before(a):Iw(ba.Forwards,dt.after(s),e)},Iw=(e,s,a)=>{let l,h,g,v;if(!Bk(a)||!s)return null;if(s.isEqual(dt.after(a))&&a.lastChild){if(v=dt.after(a.lastChild),Sp(e)&&vd(a.lastChild)&&Bk(a.lastChild))return bd(a.lastChild)?dt.before(a.lastChild):v}else v=s;const S=v.container();let I=v.offset();if(Ru(S)){if(Sp(e)&&I>0)return dt(S,--I);if(Cp(e)&&I<S.length)return dt(S,++I);l=S}else{if(Sp(e)&&I>0&&(h=o2(S,I-1),vd(h)))return!Fk(h)&&(g=Jg(h,e,ty,h),g)?Ru(g)?dt(g,g.data.length):dt.after(g):Ru(h)?dt(h,h.data.length):dt.before(h);if(Cp(e)&&I<S.childNodes.length&&(h=o2(S,I),vd(h)))return bd(h)?Rw(a,h):!Fk(h)&&(g=Jg(h,e,ty,h),g)?Ru(g)?dt(g,0):dt.before(g):Ru(h)?dt(h,0):dt.after(h);l=h||v.getNode()}if(l&&(Cp(e)&&v.isAtEnd()||Sp(e)&&v.isAtStart())&&(l=Jg(l,e,me,a,!0),ty(l,a)))return Tw(e,l);h=l&&Jg(l,e,ty,a);const z=Wa($e(tO(S,a),n2));return z&&(!h||!z.contains(h))?(Cp(e)?v=dt.after(z):v=dt.before(z),v):h?Tw(e,h):null},wd=e=>({next:s=>Iw(ba.Forwards,s,e),prev:s=>Iw(ba.Backwards,s,e)}),$k=(e,s,a)=>{const l=e?dt.before(a):dt.after(a);return bc(e,s,l)},nO=e=>Vs(e)?dt.before(e):dt.after(e),s2=e=>dt.isTextPosition(e)?e.offset()===0:cs(e.getNode()),Vk=e=>{if(dt.isTextPosition(e)){const s=e.container();return e.offset()===s.data.length}else return cs(e.getNode(!0))},Hk=(e,s)=>!dt.isTextPosition(e)&&!dt.isTextPosition(s)&&e.getNode()===s.getNode(!0),Aw=e=>!dt.isTextPosition(e)&&Vs(e.getNode()),r2=(e,s,a)=>e?!Hk(s,a)&&!Aw(s)&&Vk(s)&&s2(a):!Hk(a,s)&&s2(s)&&Vk(a),bc=(e,s,a)=>{const l=wd(s);return j.from(e?l.next(a):l.prev(a))},Ow=(e,s,a)=>bc(e,s,a).bind(l=>zr(a,l,s)&&r2(e,a,l)?bc(e,s,l):j.some(l)),a2=(e,s,a,l)=>Ow(e,s,a).bind(h=>l(h)?a2(e,s,h,l):j.some(h)),ny=(e,s)=>{const a=e?s.firstChild:s.lastChild;return Pt(a)?j.some(dt(a,e?0:a.data.length)):a?cs(a)?j.some(e?dt.before(a):nO(a)):$k(e,s,a):j.none()},Ri=it(bc,!0),Iu=it(bc,!1),ql=it(ny,!0),fh=it(ny,!1),oO="_mce_caret",dl=e=>mt(e)&&e.id===oO,ta=(e,s)=>{let a=s;for(;a&&a!==e;){if(dl(a))return a;a=a.parentNode}return null},Uk=e=>ee(e.start),Yb=e=>Fn(e,"rng"),Tp=e=>Fn(e,"id"),Xb=e=>Fn(e,"name"),Dw=e=>xt.isArray(e.start),Jb=e=>!Xb(e)&&Te(e.forward)?e.forward:!0,i2=(e,s)=>(mt(s)&&e.isBlock(s)&&!s.innerHTML&&(s.innerHTML='<br data-mce-bogus="1" />'),s),sO=(e,s)=>{const a=j.from(Wg(e.getRoot(),s.start)),l=j.from(Wg(e.getRoot(),s.end));return ha(a,l,(h,g)=>{const v=e.createRng();return v.setStart(h.container(),h.offset()),v.setEnd(g.container(),g.offset()),{range:v,forward:Jb(s)}})},rO=(e,s)=>{var a;const h=((a=e.ownerDocument)!==null&&a!==void 0?a:document).createTextNode(ne);e.appendChild(h),s.setStart(h,0),s.setEnd(h,0)},yf=e=>!e.hasChildNodes(),Qb=(e,s)=>fh(e).fold(Ee,a=>(s.setStart(a.container(),a.offset()),s.setEnd(a.container(),a.offset()),!0)),Mw=(e,s,a)=>yf(s)&&ta(e,s)?(rO(s,a),!0):!1,bf=(e,s,a,l)=>{const h=a[s?"start":"end"],g=e.getRoot();if(h){let v=g,S=h[0];for(let I=h.length-1;v&&I>=1;I--){const z=v.childNodes;if(Mw(g,v,l))return!0;if(h[I]>z.length-1)return Mw(g,v,l)?!0:Qb(v,l);v=z[h[I]]}Pt(v)&&(S=Math.min(h[0],v.data.length)),mt(v)&&(S=Math.min(h[0],v.childNodes.length)),s?l.setStart(v,S):l.setEnd(v,S)}return!0},Pw=e=>Pt(e)&&e.data.length>0,zw=(e,s,a)=>{const l=e.get(a.id+"_"+s),h=l==null?void 0:l.parentNode,g=a.keep;if(l&&h){let v,S;if(s==="start"?g?l.hasChildNodes()?(v=l.firstChild,S=1):Pw(l.nextSibling)?(v=l.nextSibling,S=0):Pw(l.previousSibling)?(v=l.previousSibling,S=l.previousSibling.data.length):(v=h,S=e.nodeIndex(l)+1):(v=h,S=e.nodeIndex(l)):g?l.hasChildNodes()?(v=l.firstChild,S=1):Pw(l.previousSibling)?(v=l.previousSibling,S=l.previousSibling.data.length):(v=h,S=e.nodeIndex(l)):(v=h,S=e.nodeIndex(l)),!g){const I=l.previousSibling,z=l.nextSibling;xt.each(xt.grep(l.childNodes),U=>{Pt(U)&&(U.data=U.data.replace(/\uFEFF/g,""))});let W;for(;W=e.get(a.id+"_"+s);)e.remove(W,!0);if(Pt(z)&&Pt(I)&&!Fo.browser.isOpera()){const U=I.data.length;I.appendData(z.data),e.remove(z),v=I,S=U}}return j.some(dt(v,S))}else return j.none()},Rp=(e,s)=>{const a=e.createRng();return bf(e,!0,s,a)&&bf(e,!1,s,a)?j.some({range:a,forward:Jb(s)}):j.none()},jk=(e,s)=>{const a=zw(e,"start",s),l=zw(e,"end",s);return ha(a,l.or(a),(h,g)=>{const v=e.createRng();return v.setStart(i2(e,h.container()),h.offset()),v.setEnd(i2(e,g.container()),g.offset()),{range:v,forward:Jb(s)}})},l2=(e,s)=>j.from(e.select(s.name)[s.index]).map(a=>{const l=e.createRng();return l.selectNode(a),{range:l,forward:!0}}),Wk=(e,s)=>{const a=e.dom;if(s){if(Dw(s))return Rp(a,s);if(Uk(s))return sO(a,s);if(Tp(s))return jk(a,s);if(Xb(s))return l2(a,s);if(Yb(s))return j.some({range:s.rng,forward:Jb(s)})}return j.none()},mm=(e,s,a)=>xA(e,s,a),aO=(e,s)=>{Wk(e,s).each(({range:a,forward:l})=>{e.setRng(a,l)})},za=e=>mt(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",oy=(e=>s=>e===s)(Qo),sy=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,c2=e=>!sy(e)&&!oy(e)&&!li(e),lO=e=>({value:cO(e)}),cO=e=>bi(e,"#").toUpperCase(),Nw=e=>{const s=e.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},uO=e=>{const s=Nw(e.red)+Nw(e.green)+Nw(e.blue);return lO(s)},Lw=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,dO=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,u2=(e,s,a,l)=>({red:e,green:s,blue:a,alpha:l}),Bw=(e,s,a,l)=>{const h=parseInt(e,10),g=parseInt(s,10),v=parseInt(a,10),S=parseFloat(l);return u2(h,g,v,S)},fO=e=>{if(e==="transparent")return j.some(u2(0,0,0,0));const s=Lw.exec(e);if(s!==null)return j.some(Bw(s[1],s[2],s[3],"1"));const a=dO.exec(e);return a!==null?j.some(Bw(a[1],a[2],a[3],a[4])):j.none()},Zk=e=>fO(e).map(uO).map(s=>"#"+s.value).getOr(e),ev=e=>{const s=[];if(e)for(let a=0;a<e.rangeCount;a++)s.push(e.getRangeAt(a));return s},Io=e=>Vt(e,s=>{const a=Ab(s);return a?[ve.fromDom(a)]:[]}),hh=e=>ev(e).length>1,ry=e=>$e(Io(e),Ka),Gk=e=>Ia(e,"td[data-mce-selected],th[data-mce-selected]"),d2=(e,s)=>{const a=Gk(s);return a.length>0?a:ry(e)},mh=e=>d2(ev(e.selection.getSel()),ve.fromDom(e.getBody())),ay=(e,s)=>Ra(e,"table",s),qk=e=>{const s=e.startContainer,a=e.startOffset;return Pt(s)?a===0?j.some(ve.fromDom(s)):j.none():j.from(s.childNodes[a]).map(ve.fromDom)},Kk=e=>{const s=e.endContainer,a=e.endOffset;return Pt(s)?a===s.data.length?j.some(ve.fromDom(s)):j.none():j.from(s.childNodes[a-1]).map(ve.fromDom)},Fw=e=>Zh(e).fold(ot([e]),s=>[e].concat(Fw(s))),$w=e=>uc(e).fold(ot([e]),s=>Cs(s)==="br"?Bl(s).map(a=>[e].concat($w(a))).getOr([]):[e].concat($w(s))),f2=(e,s)=>ha(qk(s),Kk(s),(a,l)=>{const h=ut(Fw(e),it(Xo,a)),g=ut($w(e),it(Xo,l));return h.isSome()&&g.isSome()}).getOr(!1),tv=(e,s,a,l)=>{const h=a,g=new Mr(a,h),v=ws(e.schema.getMoveCaretBeforeOnEnterElements(),(I,z)=>!Oe(["td","th","table"],z.toLowerCase()));let S=a;do{if(Pt(S)&&xt.trim(S.data).length!==0){l?s.setStart(S,0):s.setEnd(S,S.data.length);return}if(v[S.nodeName]){l?s.setStartBefore(S):S.nodeName==="BR"?s.setEndBefore(S):s.setEndAfter(S);return}}while(S=l?g.next():g.prev());h.nodeName==="BODY"&&(l?s.setStart(h,0):s.setEnd(h,h.childNodes.length))},nv=e=>{const s=e.selection.getSel();return Ue(s)&&s.rangeCount>0},h2=(e,s)=>{const a=mh(e);a.length>0?ce(a,l=>{const h=l.dom,g=e.dom.createRng();g.setStartBefore(h),g.setEndAfter(h),s(g,!0)}):s(e.selection.getRng(),!1)},m2=(e,s,a)=>{const l=gk(e,s);a(l),e.moveToBookmark(l)},iy=e=>Tn(e==null?void 0:e.nodeType),Vw=e=>mt(e)&&!za(e)&&!dl(e)&&!Aa(e),Ip=(e,s)=>{if(Vw(s)&&!/^(TD|TH)$/.test(s.nodeName)){const a=e.getAttrib(s,"data-mce-selected"),l=parseInt(a,10);return!isNaN(l)&&l>0}else return!1},pm=e=>e.isContentEditable===!0,ov=(e,s,a)=>{const{selection:l,dom:h}=e,g=l.getNode(),v=eo(g);m2(l,!0,()=>{s()}),v&&eo(g)&&h.isChildOf(g,e.getBody())?e.selection.select(g):a(l.getStart())&&Ap(h,l)},Ap=(e,s)=>{var a,l;const h=s.getRng(),{startContainer:g,startOffset:v}=h,S=s.getNode();if(!Ip(e,S)&&mt(g)){const I=g.childNodes,z=e.getRoot();let W;if(v<I.length){const U=I[v];W=new Mr(U,(a=e.getParent(U,e.isBlock))!==null&&a!==void 0?a:z)}else{const U=I[I.length-1];W=new Mr(U,(l=e.getParent(U,e.isBlock))!==null&&l!==void 0?l:z),W.next(!0)}for(let U=W.current();U;U=W.next()){if(e.getContentEditable(U)==="false")return;if(Pt(U)&&!Xk(U)){h.setStart(U,0),s.setRng(h);return}}}},p2=(e,s,a)=>{if(e){const l=s?"nextSibling":"previousSibling";for(e=a?e:e[l];e;e=e[l])if(mt(e)||!Xk(e))return e}},Yk=(e,s)=>!!e.getTextBlockElements()[s.nodeName.toLowerCase()]||tm(e,s),ly=(e,s,a)=>e.schema.isValidChild(s,a),Xk=(e,s=!1)=>{if(Ue(e)&&Pt(e)){const a=s?e.data.replace(/ /g,"\xA0"):e.data;return em(a)}else return!1},Hw=e=>Ue(e)&&Pt(e)&&e.length===0,hO=(e,s)=>{const a="[data-mce-cef-wrappable]",l=AE(e),h=nl(l)?a:`${a},${l}`;return Bi(ve.fromDom(s),h)},g2=(e,s)=>{const a=e.dom;return Vw(s)&&a.getContentEditable(s)==="false"&&hO(e,s)&&a.select('[contenteditable="true"]',s).length===0},gm=(e,s)=>de(e)?e(s):(Ue(s)&&(e=e.replace(/%(\w+)/g,(a,l)=>s[l]||a)),e),Jk=(e,s)=>(e=e||"",s=s||"",e=""+(e.nodeName||e),s=""+(s.nodeName||s),e.toLowerCase()===s.toLowerCase()),Qk=(e,s)=>{if(_t(e))return null;{let a=String(e);return(s==="color"||s==="backgroundColor")&&(a=Zk(a)),s==="fontWeight"&&e===700&&(a="bold"),s==="fontFamily"&&(a=a.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),a}},Uw=(e,s,a)=>{const l=e.getStyle(s,a);return Qk(l,a)},y2=(e,s)=>{let a;return e.getParent(s,l=>mt(l)?(a=e.getStyle(l,"text-decoration"),!!a&&a!=="none"):!1),a},ph=(e,s,a)=>e.getParents(s,a,e.getRoot()),eC=(e,s,a)=>{const l=e.formatter.get(s);return Ue(l)&&yt(l,a)},tn=(e,s)=>eC(e,s,l=>{const h=g=>de(g)||g.length>1&&g.charAt(0)==="%";return yt(["styles","attributes"],g=>fs(l,g).exists(v=>{const S=Ze(v)?v:Xu(v);return yt(S,h)}))}),Na=(e,s,a)=>{const l=["inline","block","selector","attributes","styles","classes"],h=g=>ws(g,(v,S)=>yt(l,I=>I===S));return eC(e,s,g=>{const v=h(g);return eC(e,a,S=>{const I=h(S);return Oc(v,I)})})},qc=e=>si(e,"block"),na=e=>qc(e)&&e.wrapper===!0,Au=e=>qc(e)&&e.wrapper!==!0,vc=e=>si(e,"selector"),Wr=e=>si(e,"inline"),tC=e=>vc(e)&&Wr(e)&&Vr(fs(e,"mixed"),!0),cy=e=>vc(e)&&e.expand!==!1&&!Wr(e),Op=za,sv=ph,b2=Xk,v2=Yk,w2=e=>Vs(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,jw=(e,s)=>{let a=s;for(;a;){if(mt(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:s;a=a.parentNode}return s},nC=(e,s,a,l)=>{const h=s.data;if(e){for(let g=a;g>0;g--)if(l(h.charAt(g-1)))return g}else for(let g=a;g<h.length;g++)if(l(h.charAt(g)))return g;return-1},_2=(e,s,a)=>nC(e,s,a,l=>oy(l)||sy(l)),rv=(e,s,a)=>nC(e,s,a,c2),av=(e,s,a,l,h,g)=>{let v;const S=e.getParent(a,e.isBlock)||s,I=(W,U,X)=>{const fe=hp(e),pe=h?fe.backwards:fe.forwards;return j.from(pe(W,U,(se,he)=>Op(se.parentNode)?-1:(v=se,X(h,se,he)),S))};return I(a,l,_2).bind(W=>g?I(W.container,W.offset+(h?-1:0),rv):j.some(W)).orThunk(()=>v?j.some({container:v,offset:h?0:v.length}):j.none())},iv=(e,s,a,l,h)=>{const g=l[h];Pt(l)&&nl(l.data)&&g&&(l=g);const v=sv(e,l);for(let S=0;S<v.length;S++)for(let I=0;I<s.length;I++){const z=s[I];if(!(Ue(z.collapsed)&&z.collapsed!==a.collapsed)&&vc(z)&&e.is(v[S],z.selector))return v[S]}return l},lv=(e,s,a,l)=>{var h;let g=a;const v=e.getRoot(),S=s[0];if(qc(S)&&(g=S.wrapper?null:e.getParent(a,S.block,v)),!g){const I=(h=e.getParent(a,"LI,TD,TH"))!==null&&h!==void 0?h:v;g=e.getParent(Pt(a)?a.parentNode:a,z=>z!==v&&v2(e.schema,z),I)}if(g&&qc(S)&&S.wrapper&&(g=sv(e,g,"ul,ol").reverse()[0]||g),!g)for(g=a;g&&g[l]&&!e.isBlock(g[l])&&(g=g[l],!Jk(g,"br")););return g||a},Ww=(e,s,a,l)=>{const h=a.parentNode;return Ue(a[l])?!1:h===s||_t(h)||e.isBlock(h)?!0:Ww(e,s,h,l)},Zw=(e,s,a,l,h)=>{let g=a;const v=h?"previousSibling":"nextSibling",S=e.getRoot();if(Pt(a)&&!b2(a)&&(h?l>0:l<a.data.length))return a;for(;g;){if(!s[0].block_expand&&e.isBlock(g))return g;for(let I=g[v];I;I=I[v]){const z=Pt(I)&&!Ww(e,S,I,v);if(!Op(I)&&!w2(I)&&!b2(I,z))return g}if(g===S||g.parentNode===S){a=g;break}g=g.parentNode}return a},Dp=e=>Op(e.parentNode)||Op(e),Kl=(e,s,a,l=!1)=>{let{startContainer:h,startOffset:g,endContainer:v,endOffset:S}=s;const I=a[0];return mt(h)&&h.hasChildNodes()&&(h=xl(h,g),Pt(h)&&(g=0)),mt(v)&&v.hasChildNodes()&&(v=xl(v,s.collapsed?S:S-1),Pt(v)&&(S=v.data.length)),h=jw(e,h),v=jw(e,v),Dp(h)&&(h=Op(h)?h:h.parentNode,s.collapsed?h=h.previousSibling||h:h=h.nextSibling||h,Pt(h)&&(g=s.collapsed?h.length:0)),Dp(v)&&(v=Op(v)?v:v.parentNode,s.collapsed?v=v.nextSibling||v:v=v.previousSibling||v,Pt(v)&&(S=s.collapsed?0:v.length)),s.collapsed&&(av(e,e.getRoot(),h,g,!0,l).each(({container:U,offset:X})=>{h=U,g=X}),av(e,e.getRoot(),v,S,!1,l).each(({container:U,offset:X})=>{v=U,S=X})),(Wr(I)||I.block_expand)&&((!Wr(I)||!Pt(h)||g===0)&&(h=Zw(e,a,h,g,!0)),(!Wr(I)||!Pt(v)||S===v.data.length)&&(v=Zw(e,a,v,S,!1))),cy(I)&&(h=iv(e,a,s,h,"previousSibling"),v=iv(e,a,s,v,"nextSibling")),(qc(I)||vc(I))&&(h=lv(e,a,h,"previousSibling"),v=lv(e,a,v,"nextSibling"),qc(I)&&(e.isBlock(h)||(h=Zw(e,a,h,g,!0)),e.isBlock(v)||(v=Zw(e,a,v,S,!1)))),mt(h)&&h.parentNode&&(g=e.nodeIndex(h),h=h.parentNode),mt(v)&&v.parentNode&&(S=e.nodeIndex(v)+1,v=v.parentNode),{startContainer:h,startOffset:g,endContainer:v,endOffset:S}},cv=(e,s,a)=>{var l;const h=s.startOffset,g=xl(s.startContainer,h),v=s.endOffset,S=xl(s.endContainer,v-1),I=he=>{const Ae=he[0];Pt(Ae)&&Ae===g&&h>=Ae.data.length&&he.splice(0,1);const xe=he[he.length-1];return v===0&&he.length>0&&xe===S&&Pt(xe)&&he.splice(he.length-1,1),he},z=(he,Ae,xe)=>{const Me=[];for(;he&&he!==xe;he=he[Ae])Me.push(he);return Me},W=(he,Ae)=>e.getParent(he,xe=>xe.parentNode===Ae,Ae),U=(he,Ae,xe)=>{const Me=xe?"nextSibling":"previousSibling";for(let We=he,kt=We.parentNode;We&&We!==Ae;We=kt){kt=We.parentNode;const Zt=z(We===he?We:We[Me],Me);Zt.length&&(xe||Zt.reverse(),a(I(Zt)))}};if(g===S)return a(I([g]));const X=(l=e.findCommonAncestor(g,S))!==null&&l!==void 0?l:e.getRoot();if(e.isChildOf(g,S))return U(g,X,!0);if(e.isChildOf(S,g))return U(S,X);const fe=W(g,X)||g,pe=W(S,X)||S;U(g,fe,!0);const se=z(fe===g?fe:fe.nextSibling,"nextSibling",pe===S?pe.nextSibling:pe);se.length&&a(I(se)),U(S,pe)},k2=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],oC=e=>wi(e)&&np(e)===ne,mO=(e,s,a,l)=>Ll(s).fold(()=>"skipping",h=>l==="br"||oC(s)?"valid":Zx(s)?"existing":dl(s.dom)?"caret":yt(k2,g=>Bi(s,g))?"valid-block":!ly(e,a,l)||!ly(e,Cs(h),a)?"invalid-child":"valid"),C2=(e,s)=>{const a=Kl(e.dom,s,[{inline:"span"}]);s.setStart(a.startContainer,a.startOffset),s.setEnd(a.endContainer,a.endOffset),e.selection.setRng(s)},uv=(e,s,a,l,h,g)=>{const{uid:v=s,...S}=a;Uf(e,Ei()),kr(e,`${Tb()}`,v),kr(e,`${ih()}`,l);const{attributes:I={},classes:z=[]}=h(v,S);if(_i(e,I),Yx(e,z),g){z.length>0&&kr(e,`${gc()}`,z.join(","));const W=Fr(I);W.length>0&&kr(e,`${Zc()}`,W.join(","))}},pO=e=>{Uh(e,Ei()),Ar(e,`${Tb()}`),Ar(e,`${ih()}`),Ar(e,`${am()}`);const s=Lc(e,`${Zc()}`).map(l=>l.split(",")).getOr([]),a=Lc(e,`${gc()}`).map(l=>l.split(",")).getOr([]);ce(s,l=>Ar(e,l)),Xx(e,a),Ar(e,`${gc()}`),Ar(e,`${Zc()}`)},dv=(e,s,a,l,h)=>{const g=ve.fromTag("span",e);return uv(g,s,a,l,h,!1),g},La=(e,s,a,l,h,g)=>{const v=[],S=dv(e.getDoc(),a,g,l,h),I=Es(),z=()=>{I.clear()},W=()=>I.get().getOrThunk(()=>{const pe=im(S);return v.push(pe),I.set(pe),pe}),U=pe=>{ce(pe,X)},X=pe=>{switch(mO(e,pe,"span",Cs(pe))){case"invalid-child":{z();const he=Ta(pe);U(he),z();break}case"valid-block":{z(),uv(pe,a,g,l,h,!0);break}case"valid":{const he=W();M1(pe,he);break}}},fe=pe=>{const se=Ye(pe,ve.fromDom);U(se)};return cv(e.dom,s,pe=>{z(),fe(pe)}),v},Ou=(e,s,a,l)=>{e.undoManager.transact(()=>{const h=e.selection,g=h.getRng(),v=mh(e).length>0,S=Kx("mce-annotation");if(g.collapsed&&!v&&C2(e,g),h.getRng().collapsed&&!v){const I=dv(e.getDoc(),S,l,s,a.decorate);tf(I,Qo),h.getRng().insertNode(I.dom),h.select(I.dom)}else m2(h,!1,()=>{h2(e,I=>{La(e,I,S,s,a.decorate,l)})})})},wc=e=>{const s=vA();bA(e,s);const a=qx(e,s),l=$h("span"),h=g=>{ce(g,v=>{l(v)?Dr(v):pO(v)})};return{register:(g,v)=>{s.register(g,v)},annotate:(g,v)=>{s.lookup(g).each(S=>{Ou(e,g,S,v)})},annotationChanged:(g,v)=>{a.addListener(g,v)},remove:g=>{Rb(e,j.some(g)).each(({elements:v})=>{const S=e.selection.getBookmark();h(v),e.selection.moveToBookmark(S)})},removeAll:g=>{const v=e.selection.getBookmark();Gt(Hg(e,g),(S,I)=>{h(S)}),e.selection.moveToBookmark(v)},getAll:g=>{const v=Hg(e,g);return Mo(v,S=>Ye(S,I=>I.dom))}}},ym=e=>({getBookmark:it(mm,e),moveToBookmark:it(aO,e)});ym.isBookmarkNode=za;const Du=(e,s,a)=>a.collapsed?!1:yt(a.getClientRects(),l=>rk(l,e,s)),gO=(e,s)=>e.dispatch("PreProcess",s),sC=(e,s)=>e.dispatch("PostProcess",s),rC=e=>{e.dispatch("remove")},aC=e=>{e.dispatch("detach")},yO=(e,s)=>{e.dispatch("SwitchMode",{mode:s})},iC=(e,s,a,l,h)=>{e.dispatch("ObjectResizeStart",{target:s,width:a,height:l,origin:h})},bO=(e,s,a,l,h)=>{e.dispatch("ObjectResized",{target:s,width:a,height:l,origin:h})},vO=e=>{e.dispatch("PreInit")},lC=e=>{e.dispatch("PostRender")},cC=e=>{e.dispatch("Init")},bs=(e,s)=>{e.dispatch("PlaceholderToggle",{state:s})},_d=(e,s,a)=>{e.dispatch(s,a)},uC=(e,s,a,l)=>{e.dispatch("FormatApply",{format:s,node:a,vars:l})},dC=(e,s,a,l)=>{e.dispatch("FormatRemove",{format:s,node:a,vars:l})},S2=(e,s)=>e.dispatch("BeforeSetContent",s),Gw=(e,s)=>e.dispatch("SetContent",s),x2=(e,s)=>e.dispatch("BeforeGetContent",s),qw=(e,s)=>e.dispatch("GetContent",s),E2=(e,s)=>{e.dispatch("AutocompleterStart",s)},wO=(e,s)=>{e.dispatch("AutocompleterUpdate",s)},T2=e=>{e.dispatch("AutocompleterEnd")},_O=(e,s,a)=>e.dispatch("PastePreProcess",{content:s,internal:a}),fC=(e,s,a)=>e.dispatch("PastePostProcess",{node:s,internal:a}),R2=(e,s)=>e.dispatch("PastePlainTextToggle",{state:s}),fn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||fn.metaKeyPressed(e),metaKeyPressed:e=>Fo.os.isMacOS()||Fo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},kd="data-mce-selected",hC="table,img,figure.image,hr,video,span.mce-preview-object",I2=Math.abs,fr=Math.round,Nr={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},uy=e=>e.type==="longpress"||e.type.indexOf("touch")===0,fv=(e,s)=>{const a=s.dom,l=s.getDoc(),h=document,g=s.getBody();let v,S,I,z,W,U,X,fe,pe,se,he,Ae,xe,Me,We,kt,Zt;const Bt=Qt=>Ue(Qt)&&(Yh(Qt)||a.is(Qt,"figure.image")),tt=Qt=>rl(Qt)||a.hasClass(Qt,"mce-preview-object"),nt=(Qt,po)=>{if(uy(Qt)){const ao=Qt.touches[0];return Bt(Qt.target)&&!Du(ao.clientX,ao.clientY,po)}else return Bt(Qt.target)&&!Du(Qt.clientX,Qt.clientY,po)},on=Qt=>{const po=Qt.target;nt(Qt,s.selection.getRng())&&!Qt.isDefaultPrevented()&&s.selection.select(po)},Cn=Qt=>a.hasClass(Qt,"mce-preview-object")&&Ue(Qt.firstElementChild)?[Qt,Qt.firstElementChild]:a.is(Qt,"figure.image")?[Qt.querySelector("img")]:[Qt],On=Qt=>{const po=Gg(s);return!po||Qt.getAttribute("data-mce-resize")==="false"||Qt===s.getBody()?!1:a.hasClass(Qt,"mce-preview-object")&&Ue(Qt.firstElementChild)?Bi(ve.fromDom(Qt.firstElementChild),po):Bi(ve.fromDom(Qt),po)},so=Qt=>tt(Qt)?a.create("img",{src:Fo.transparentSrc}):Qt.cloneNode(!0),So=(Qt,po,ao)=>{if(Ue(ao)){const mi=Cn(Qt);ce(mi,js=>{js.style[po]||!s.schema.isValid(js.nodeName.toLowerCase(),po)?a.setStyle(js,po,ao):a.setAttrib(js,po,""+ao)})}},ts=(Qt,po,ao)=>{So(Qt,"width",po),So(Qt,"height",ao)},vs=Qt=>{let po,ao,mi,js,Kn;po=Qt.screenX-U,ao=Qt.screenY-X,Me=po*z[2]+se,We=ao*z[3]+he,Me=Me<5?5:Me,We=We<5?5:We,(Bt(v)||tt(v))&&DA(s)!==!1?mi=!fn.modifierPressed(Qt):mi=fn.modifierPressed(Qt),mi&&(I2(po)>I2(ao)?(We=fr(Me*Ae),Me=fr(We/Ae)):(Me=fr(We/Ae),We=fr(Me*Ae))),ts(S,Me,We),js=z.startPos.x+po,Kn=z.startPos.y+ao,js=js>0?js:0,Kn=Kn>0?Kn:0,a.setStyles(I,{left:js,top:Kn,display:"block"}),I.innerHTML=Me+" &times; "+We,z[2]<0&&S.clientWidth<=Me&&a.setStyle(S,"left",fe+(se-Me)),z[3]<0&&S.clientHeight<=We&&a.setStyle(S,"top",pe+(he-We)),po=g.scrollWidth-kt,ao=g.scrollHeight-Zt,po+ao!==0&&a.setStyles(I,{left:js-po,top:Kn-ao}),xe||(iC(s,v,se,he,"corner-"+z.name),xe=!0)},Tr=()=>{const Qt=xe;xe=!1,Qt&&(So(v,"width",Me),So(v,"height",We)),a.unbind(l,"mousemove",vs),a.unbind(l,"mouseup",Tr),h!==l&&(a.unbind(h,"mousemove",vs),a.unbind(h,"mouseup",Tr)),a.remove(S),a.remove(I),a.remove(W),Ki(v),Qt&&(bO(s,v,Me,We,"corner-"+z.name),a.setAttrib(v,"style",a.getAttrib(v,"style"))),s.nodeChanged()},Ki=Qt=>{Jt();const po=a.getPos(Qt,g),ao=po.x,mi=po.y,js=Qt.getBoundingClientRect(),Kn=js.width||js.right-js.left,Vo=js.height||js.bottom-js.top;v!==Qt&&(Ft(),v=Qt,Me=We=0);const Gr=s.dispatch("ObjectSelected",{target:Qt});On(Qt)&&!Gr.isDefaultPrevented()?Gt(Nr,(As,mr)=>{const rs=sa=>{const Md=Cn(v)[0];U=sa.screenX,X=sa.screenY,se=Md.clientWidth,he=Md.clientHeight,Ae=he/se,z=As,z.name=mr,z.startPos={x:Kn*As[0]+ao,y:Vo*As[1]+mi},kt=g.scrollWidth,Zt=g.scrollHeight,W=a.add(g,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),a.setStyles(W,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),S=so(v),a.addClass(S,"mce-clonedresizable"),a.setAttrib(S,"data-mce-bogus","all"),S.contentEditable="false",a.setStyles(S,{left:ao,top:mi,margin:0}),ts(S,Kn,Vo),S.removeAttribute(kd),g.appendChild(S),a.bind(l,"mousemove",vs),a.bind(l,"mouseup",Tr),h!==l&&(a.bind(h,"mousemove",vs),a.bind(h,"mouseup",Tr)),I=a.add(g,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},se+" &times; "+he)};let Ws=a.get("mceResizeHandle"+mr);Ws&&a.remove(Ws),Ws=a.add(g,"div",{id:"mceResizeHandle"+mr,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+mr+"-resize; margin:0; padding:0"}),a.bind(Ws,"mousedown",sa=>{sa.stopImmediatePropagation(),sa.preventDefault(),rs(sa)}),As.elm=Ws,a.setStyles(Ws,{left:Kn*As[0]+ao-Ws.offsetWidth/2,top:Vo*As[1]+mi-Ws.offsetHeight/2})}):Ft(!1)},$a=xi(Ki,0),Ft=(Qt=!0)=>{$a.cancel(),Jt(),v&&Qt&&v.removeAttribute(kd),Gt(Nr,(po,ao)=>{const mi=a.get("mceResizeHandle"+ao);mi&&(a.unbind(mi),a.remove(mi))})},pn=(Qt,po)=>a.isChildOf(Qt,po),Lo=Qt=>{if(xe||s.removed||s.composing)return;const po=Qt.type==="mousedown"?Qt.target:e.getNode(),ao=Bc(ve.fromDom(po),hC).map(js=>js.dom).filter(js=>a.isEditable(js.parentElement)).getOrUndefined(),mi=Ue(ao)?a.getAttrib(ao,kd,"1"):"1";if(ce(a.select(`img[${kd}],hr[${kd}]`),js=>{js.removeAttribute(kd)}),Ue(ao)&&pn(ao,g)){Rn();const js=e.getStart(!0);if(pn(js,ao)&&pn(e.getEnd(!0),ao)){a.setAttrib(ao,kd,mi),$a.throttle(ao);return}}Ft()},Jt=()=>{Gt(Nr,Qt=>{Qt.elm&&(a.unbind(Qt.elm),delete Qt.elm)})},Rn=()=>{try{s.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return s.on("init",()=>{Rn(),s.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Lo),s.on("keyup compositionend",Qt=>{v&&v.nodeName==="TABLE"&&Lo(Qt)}),s.on("hide blur",Ft),s.on("contextmenu longpress",on,!0)}),s.on("remove",Jt),{isResizable:On,showResizeRect:Ki,hideResizeRect:Ft,updateResizeRect:Lo,destroy:()=>{$a.cancel(),v=S=W=null}}},kO=(e,s)=>{s.fold(a=>{e.setStartBefore(a.dom)},(a,l)=>{e.setStart(a.dom,l)},a=>{e.setStartAfter(a.dom)})},CO=(e,s)=>{s.fold(a=>{e.setEndBefore(a.dom)},(a,l)=>{e.setEnd(a.dom,l)},a=>{e.setEndAfter(a.dom)})},yo=(e,s,a)=>{const l=e.document.createRange();return kO(l,s),CO(l,a),l},mC=(e,s,a,l,h)=>{const g=e.document.createRange();return g.setStart(s.dom,a),g.setEnd(l.dom,h),g},dy=Js.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Kw=(e,s,a)=>s(ve.fromDom(a.startContainer),a.startOffset,ve.fromDom(a.endContainer),a.endOffset),SO=(e,s)=>s.match({domRange:a=>({ltr:ot(a),rtl:j.none}),relative:(a,l)=>({ltr:ic(()=>yo(e,a,l)),rtl:ic(()=>j.some(yo(e,l,a)))}),exact:(a,l,h,g)=>({ltr:ic(()=>mC(e,a,l,h,g)),rtl:ic(()=>j.some(mC(e,h,g,a,l)))})}),xO=(e,s)=>{const a=s.ltr();return a.collapsed?s.rtl().filter(h=>h.collapsed===!1).map(h=>dy.rtl(ve.fromDom(h.endContainer),h.endOffset,ve.fromDom(h.startContainer),h.startOffset)).getOrThunk(()=>Kw(e,dy.ltr,a)):Kw(e,dy.ltr,a)},pC=(e,s)=>{const a=SO(e,s);return xO(e,a)};dy.ltr,dy.rtl;const A2={create:(e,s,a,l)=>({start:e,soffset:s,finish:a,foffset:l})},EO=(e,s,a)=>{var l,h;return j.from((h=(l=e.dom).caretPositionFromPoint)===null||h===void 0?void 0:h.call(l,s,a)).bind(g=>{if(g.offsetNode===null)return j.none();const v=e.dom.createRange();return v.setStart(g.offsetNode,g.offset),v.collapse(),j.some(v)})},gC=(e,s,a)=>{var l,h;return j.from((h=(l=e.dom).caretRangeFromPoint)===null||h===void 0?void 0:h.call(l,s,a))},yC=(()=>document.caretPositionFromPoint?EO:document.caretRangeFromPoint?gC:j.none)(),O2=(e,s,a)=>{const l=ve.fromDom(e.document);return yC(l,s,a).map(h=>A2.create(ve.fromDom(h.startContainer),h.startOffset,ve.fromDom(h.endContainer),h.endOffset))},D2=Js.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),M2=(e,s,a,l)=>e.fold(s,a,l),D7=e=>e.fold(Bn,Bn,Bn),TO=D2.before,RO=D2.on,R4=D2.after,In={before:TO,on:RO,after:R4,cata:M2,getStart:D7},Yw=Js.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),I4=e=>Yw.exact(e.start,e.soffset,e.finish,e.foffset),IO=e=>e.match({domRange:s=>ve.fromDom(s.startContainer),relative:(s,a)=>In.getStart(s),exact:(s,a,l,h)=>s}),hv=Yw.domRange,A4=Yw.relative,Xw=Yw.exact,AO=e=>{const s=IO(e);return Zf(s)},OO=A2.create,bm={domRange:hv,relative:A4,exact:Xw,exactFromRange:I4,getWin:AO,range:OO},Jw=(e,s)=>{const a=Cs(e);return a==="input"?In.after(e):Oe(["br","img"],a)?s===0?In.before(e):In.after(e):In.on(e,s)},bC=(e,s)=>{const a=e.fold(In.before,Jw,In.after),l=s.fold(In.before,Jw,In.after);return bm.relative(a,l)},Qw=(e,s,a,l)=>{const h=Jw(e,s),g=Jw(a,l);return bm.relative(h,g)},vC=e=>e.match({domRange:s=>{const a=ve.fromDom(s.startContainer),l=ve.fromDom(s.endContainer);return Qw(a,s.startOffset,l,s.endOffset)},relative:bC,exact:Qw}),mv=(e,s)=>{const l=(s||document).createDocumentFragment();return ce(e,h=>{l.appendChild(h.dom)}),ve.fromDom(l)},DO=e=>{const s=bm.getWin(e).dom,a=(h,g,v,S)=>mC(s,h,g,v,S),l=vC(e);return pC(s,l).match({ltr:a,rtl:a})},MO=(e,s,a)=>O2(e,s,a),pv=(e,s,a)=>{const l=Zf(ve.fromDom(a));return MO(l.dom,e,s).map(h=>{const g=a.createRange();return g.setStart(h.start.dom,h.soffset),g.setEnd(h.finish.dom,h.foffset),g}).getOrUndefined()},e_=(e,s)=>Ue(e)&&Ue(s)&&e.startContainer===s.startContainer&&e.startOffset===s.startOffset&&e.endContainer===s.endContainer&&e.endOffset===s.endOffset,PO=(e,s,a)=>{let l=e;for(;l&&l!==s;){if(a(l))return l;l=l.parentNode}return null},No=(e,s,a)=>PO(e,s,a)!==null,zO=(e,s,a)=>No(e,s,l=>l.nodeName===a),vf=(e,s)=>$o(e)&&!No(e,s,dl),Mu=(e,s,a)=>{const l=s.parentNode;if(l){const h=new Mr(s,e.getParent(l,e.isBlock)||e.getRoot());let g;for(;g=h[a?"prev":"next"]();)if(Vs(g))return!0}return!1},t_=(e,s)=>{var a;return((a=e.previousSibling)===null||a===void 0?void 0:a.nodeName)===s},Yl=(e,s)=>{let a=s;for(;a&&a!==e;){if(eo(a))return!0;a=a.parentNode}return!1},fy=(e,s,a,l,h)=>{const g=e.getRoot(),v=e.schema.getNonEmptyElements(),S=h.parentNode;let I,z;if(!S)return j.none();const W=e.getParent(S,e.isBlock)||g;if(l&&Vs(h)&&s&&e.isEmpty(W))return j.some(dt(S,e.nodeIndex(h)));const U=new Mr(h,W);for(;z=U[l?"prev":"next"]();){if(e.getContentEditableParent(z)==="false"||vf(z,g))return j.none();if(Pt(z)&&z.data.length>0)return zO(z,g,"A")?j.none():j.some(dt(z,l?z.data.length:0));if(e.isBlock(z)||v[z.nodeName.toLowerCase()])return j.none();I=z}return ld(I)?j.none():a&&I?j.some(dt(I,0)):j.none()},hy=(e,s,a,l)=>{const h=e.getRoot();let g,v=!1,S=a?l.startContainer:l.endContainer,I=a?l.startOffset:l.endOffset;const z=mt(S)&&I===S.childNodes.length,W=e.schema.getNonEmptyElements();let U=a;if($o(S))return j.none();if(mt(S)&&I>S.childNodes.length-1&&(U=!1),Hc(S)&&(S=h,I=0),S===h){if(U&&(g=S.childNodes[I>0?I-1:0],g&&($o(g)||W[g.nodeName]||hc(g))))return j.none();if(S.hasChildNodes()){if(I=Math.min(!U&&I>0?I-1:I,S.childNodes.length-1),S=S.childNodes[I],I=Pt(S)&&z?S.data.length:0,!s&&S===h.lastChild&&hc(S)||Yl(h,S)||$o(S))return j.none();if(S.hasChildNodes()&&!hc(S)){g=S;const X=new Mr(S,h);do{if(eo(g)||$o(g)){v=!1;break}if(Pt(g)&&g.data.length>0){I=U?0:g.data.length,S=g,v=!0;break}if(W[g.nodeName.toLowerCase()]&&!$i(g)){I=e.nodeIndex(g),S=g.parentNode,U||I++,v=!0;break}}while(g=U?X.next():X.prev())}}}return s&&(Pt(S)&&I===0&&fy(e,z,s,!0,S).each(X=>{S=X.container(),I=X.offset(),v=!0}),mt(S)&&(g=S.childNodes[I],g||(g=S.childNodes[I-1]),g&&Vs(g)&&!t_(g,"A")&&!Mu(e,g,!1)&&!Mu(e,g,!0)&&fy(e,z,s,!0,g).each(X=>{S=X.container(),I=X.offset(),v=!0}))),U&&!s&&Pt(S)&&I===S.data.length&&fy(e,z,s,!1,S).each(X=>{S=X.container(),I=X.offset(),v=!0}),v&&S?j.some(dt(S,I)):j.none()},Mp=(e,s)=>{const a=s.collapsed,l=s.cloneRange(),h=dt.fromRangeStart(s);return hy(e,a,!0,l).each(g=>{(!a||!dt.isAbove(h,g))&&l.setStart(g.container(),g.offset())}),a||hy(e,a,!1,l).each(g=>{l.setEnd(g.container(),g.offset())}),a&&l.collapse(!0),e_(s,l)?j.none():j.some(l)},gh=(e,s)=>e.splitText(s),wC=e=>{let s=e.startContainer,a=e.startOffset,l=e.endContainer,h=e.endOffset;if(s===l&&Pt(s)){if(a>0&&a<s.data.length)if(l=gh(s,a),s=l.previousSibling,h>a){h=h-a;const g=gh(l,h).previousSibling;s=l=g,h=g.data.length,a=0}else h=0}else if(Pt(s)&&a>0&&a<s.data.length&&(s=gh(s,a),a=0),Pt(l)&&h>0&&h<l.data.length){const g=gh(l,h).previousSibling;l=g,h=g.data.length}return{startContainer:s,startOffset:a,endContainer:l,endOffset:h}},Pp=e=>({walk:(g,v)=>cv(e,g,v),split:wC,expand:(g,v={type:"word"})=>{if(v.type==="word"){const S=Kl(e,g,[{inline:"span"}]),I=e.createRng();return I.setStart(S.startContainer,S.startOffset),I.setEnd(S.endContainer,S.endOffset),I}return g},normalize:g=>Mp(e,g).fold(Ee,v=>(g.setStart(v.startContainer,v.startOffset),g.setEnd(v.endContainer,v.endOffset),!0))});Pp.compareRanges=e_,Pp.getCaretRangeFromPoint=pv,Pp.getSelectedNode=Ab,Pp.getNode=xl;const O4=((e,s)=>{const a=(S,I)=>{if(!Tn(I)&&!I.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+I);const z=S.dom;Ci(z)&&(z.style[e]=I+"px")},l=S=>{const I=s(S);if(I<=0||I===null){const z=dc(S,e);return parseFloat(z)||0}return I},h=l,g=(S,I)=>be(I,(z,W)=>{const U=dc(S,W),X=U===void 0?0:parseInt(U,10);return isNaN(X)?z:z+X},0);return{set:a,get:l,getOuter:h,aggregate:g,max:(S,I,z)=>{const W=g(S,z);return I>W?I-W:0}}})("height",e=>{const s=e.dom;return nd(e)?s.getBoundingClientRect().height:s.offsetHeight}),Oo=e=>O4.get(e),Kc=()=>ve.fromDom(document),zp=(e,s)=>e.view(s).fold(ot([]),l=>{const h=e.owner(l),g=zp(e,h);return[l].concat(g)}),NO=(e,s)=>{const a=s.owner(e);return zp(s,a)};var _C=Object.freeze({__proto__:null,view:e=>{var s;return(e.dom===document?j.none():j.from((s=e.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(ve.fromDom)},owner:e=>Nl(e)});const P2=e=>{const s=Kc(),a=ub(s),l=NO(e,_C),h=Fc(e),g=oe(l,(v,S)=>{const I=Fc(S);return{left:v.left+I.left,top:v.top+I.top}},{left:0,top:0});return fc(g.left+h.left+a.left,g.top+h.top+a.top)},gv=e=>Cs(e)==="textarea",LO=(e,s)=>e.dispatch("ScrollIntoView",s).isDefaultPrevented(),my=(e,s)=>{e.dispatch("AfterScrollIntoView",s)},Np=(e,s)=>{const a=Ta(e);if(a.length===0||gv(e))return{element:e,offset:s};if(s<a.length&&!gv(a[s]))return{element:a[s],offset:0};{const l=a[a.length-1];return gv(l)?{element:e,offset:s}:Cs(l)==="img"?{element:l,offset:1}:wi(l)?{element:l,offset:np(l).length}:{element:l,offset:Ta(l).length}}},kC=(e,s)=>{const a=N1(e),l=Oo(e);return{element:e,bottom:a.top+l,height:l,pos:a,cleanup:s}},p=(e,s)=>{const a=Np(e,s),l=ve.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+ne+"</span>");return Go(a.element,l),kC(l,()=>ps(l))},b=e=>kC(ve.fromDom(e),Ot),k=(e,s,a,l)=>{q(e,(h,g)=>P(e,s,a,l),a)},E=(e,s,a,l,h)=>{const g={elm:l.element.dom,alignToTop:h};if(LO(e,g))return;const v=ub(s).top;a(s,v,l,h),my(e,g)},P=(e,s,a,l)=>{const h=ve.fromDom(e.getBody()),g=ve.fromDom(e.getDoc());D1(h);const v=p(ve.fromDom(a.startContainer),a.startOffset);E(e,g,s,v,l),v.cleanup()},F=(e,s,a,l)=>{const h=ve.fromDom(e.getDoc());E(e,h,a,b(s),l)},q=(e,s,a)=>{const l=a.startContainer,h=a.startOffset,g=a.endContainer,v=a.endOffset;s(ve.fromDom(l),ve.fromDom(g));const S=e.dom.createRng();S.setStart(l,h),S.setEnd(g,v),e.selection.setRng(a)},te=(e,s)=>e.element.dom.scrollIntoView({block:s?"start":"end"}),ue=(e,s,a,l)=>{const h=s+e,g=a.pos.top,v=a.bottom,S=v-g>=s;g<e?te(a,l!==!1):g>h?te(a,S?l!==!1:l===!0):v>h&&!S&&te(a,l===!0)},we=(e,s,a,l)=>{const h=Zf(e).dom.innerHeight;ue(s,h,a,l)},ze=(e,s,a,l)=>{const h=Zf(e).dom.innerHeight;ue(s,h,a,l);const g=P2(a.element),v=Sg(window);g.top<v.y?$c(a.element,l!==!1):g.top>v.bottom&&$c(a.element,l===!0)},It=(e,s,a)=>k(e,we,s,a),Xt=(e,s,a)=>F(e,s,we,a),Wt=(e,s,a)=>k(e,ze,s,a),wt=(e,s,a)=>F(e,s,ze,a),qt=(e,s,a)=>{(e.inline?Xt:wt)(e,s,a)},bt=(e,s,a)=>{(e.inline?It:Wt)(e,s,a)},hn=e=>e.dom.focus(),$n=e=>{const s=bu(e).dom;return e.dom===s.activeElement},Qn=(e=Kc())=>j.from(e.dom.activeElement).map(ve.fromDom),Ts=e=>Qn(bu(e)).filter(s=>e.dom.contains(s.dom)),Ba=(e,s)=>{const a=wi(s)?np(s).length:Ta(s).length+1;return e>a?a:e<0?0:e},xr=e=>bm.range(e.start,Ba(e.soffset,e.start),e.finish,Ba(e.foffset,e.finish)),El=(e,s)=>!Fi(s.dom)&&(cc(e,s)||Xo(e,s)),vm=e=>s=>El(e,s.start)&&El(e,s.finish),o_=e=>e.inline||Fo.browser.isFirefox(),CC=e=>bm.range(ve.fromDom(e.startContainer),e.startOffset,ve.fromDom(e.endContainer),e.endOffset),s_=e=>{const s=e.getSelection();return(!s||s.rangeCount===0?j.none():j.from(s.getRangeAt(0))).map(CC)},us=e=>{const s=Zf(e);return s_(s.dom).filter(vm(e))},fl=(e,s)=>j.from(s).filter(vm(e)).map(xr),hl=e=>{const s=document.createRange();try{return s.setStart(e.start.dom,e.soffset),s.setEnd(e.finish.dom,e.foffset),j.some(s)}catch{return j.none()}},_c=e=>{const s=o_(e)?us(ve.fromDom(e.getBody())):j.none();e.bookmark=s.isSome()?s:e.bookmark},Xl=e=>(e.bookmark?e.bookmark:j.none()).bind(a=>fl(ve.fromDom(e.getBody()),a)).bind(hl),py=e=>{Xl(e).each(s=>e.selection.setRng(s))},r_={isEditorUIElement:e=>{const s=e.className.toString();return s.indexOf("tox-")!==-1||s.indexOf("mce-")!==-1}},yv=(e,s)=>(Tn(s)||(s=0),setTimeout(e,s)),Yc=(e,s)=>(Tn(s)||(s=0),setInterval(e,s)),Hs={setEditorTimeout:(e,s,a)=>yv(()=>{e.removed||s()},a),setEditorInterval:(e,s,a)=>{const l=Yc(()=>{e.removed?clearInterval(l):s()},a);return l}},BO=e=>e.type==="nodechange"&&e.selectionChange,z2=(e,s)=>{const a=()=>{s.throttle()};ys.DOM.bind(document,"mouseup",a),e.on("remove",()=>{ys.DOM.unbind(document,"mouseup",a)})},N2=(e,s)=>{e.on("mouseup touchend",a=>{s.throttle()})},FO=(e,s)=>{N2(e,s),e.on("keyup NodeChange AfterSetSelectionRange",a=>{BO(a)||_c(e)})},$O=e=>{const s=xi(()=>{_c(e)},0);e.on("init",()=>{e.inline&&z2(e,s),FO(e,s)}),e.on("remove",()=>{s.cancel()})};let wm;const SC=ys.DOM,bv=e=>mt(e)&&r_.isEditorUIElement(e),L2=e=>{const s=e.classList;return s!==void 0?s.contains("tox-edit-area")||s.contains("tox-edit-area__iframe")||s.contains("mce-content-body"):!1},xC=(e,s)=>{const a=OE(e);return SC.getParent(s,h=>bv(h)||(a?e.dom.is(h,a):!1))!==null},a_=e=>{try{const s=bu(ve.fromDom(e.getElement()));return Qn(s).fold(()=>document.body,a=>a.dom)}catch{return document.body}},P7=(e,s)=>{const a=s.editor;$O(a);const l=(h,g)=>{if(jE(h)&&h.inline!==!0){const v=ve.fromDom(h.getContainer());g(v,"tox-edit-focus")}};a.on("focusin",()=>{const h=e.focusedEditor;L2(a_(a))&&l(a,Uf),h!==a&&(h&&h.dispatch("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.dispatch("focus",{blurredEditor:h}),a.focus(!0))}),a.on("focusout",()=>{Hs.setEditorTimeout(a,()=>{const h=e.focusedEditor;(!L2(a_(a))||h!==a)&&l(a,Uh),!xC(a,a_(a))&&h===a&&(a.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),wm||(wm=h=>{const g=e.activeEditor;g&&_g(h).each(v=>{const S=v;S.ownerDocument===document&&S!==document.body&&!xC(g,S)&&e.focusedEditor===g&&(g.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},SC.bind(document,"focusin",wm))},z7=(e,s)=>{e.focusedEditor===s.editor&&(e.focusedEditor=null),!e.activeEditor&&wm&&(SC.unbind(document,"focusin",wm),wm=null)},VO=e=>{e.on("AddEditor",it(P7,e)),e.on("RemoveEditor",it(z7,e))},N7=(e,s)=>e.dom.getParent(s,a=>e.dom.getContentEditable(a)==="true"),D4=e=>e.collapsed?j.from(xl(e.startContainer,e.startOffset)).map(ve.fromDom):j.none(),M4=(e,s)=>D4(s).bind(a=>Xh(a)?j.some(a):cc(e,a)?j.none():j.some(e)),HO=(e,s)=>{M4(ve.fromDom(e.getBody()),s).bind(a=>ql(a.dom)).fold(()=>{e.selection.normalize()},a=>e.selection.setRng(a.toRange()))},UO=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},L7=e=>$n(e)||Ts(e).isSome(),B7=e=>Ue(e.iframeElement)&&$n(ve.fromDom(e.iframeElement)),F7=e=>{const s=e.getBody();return s&&L7(ve.fromDom(s))},B2=e=>{const s=bu(ve.fromDom(e.getElement()));return Qn(s).filter(a=>!L2(a.dom)&&xC(e,a.dom)).isSome()},gy=e=>e.inline?F7(e):B7(e),P4=e=>gy(e)||B2(e),z4=e=>{const s=e.selection,a=e.getBody();let l=s.getRng();e.quirks.refreshContentEditable(),Ue(e.bookmark)&&!gy(e)&&Xl(e).each(g=>{e.selection.setRng(g),l=g});const h=N7(e,s.getNode());if(h&&e.dom.isChildOf(h,a)){UO(h),HO(e,l),F2(e);return}e.inline||(Fo.browser.isOpera()||UO(a),e.getWin().focus()),(Fo.browser.isFirefox()||e.inline)&&(UO(a),HO(e,l)),F2(e)},F2=e=>e.editorManager.setActive(e),$7=(e,s)=>{e.removed||(s?F2(e):z4(e))},N4=(e,s,a,l,h)=>{const g=a?s.startContainer:s.endContainer,v=a?s.startOffset:s.endOffset;return j.from(g).map(ve.fromDom).map(S=>!l||!s.collapsed?Wh(S,h(S,v)).getOr(S):S).bind(S=>Ss(S)?j.some(S):Ll(S).filter(Ss)).map(S=>S.dom).getOr(e)},L4=(e,s,a=!1)=>N4(e,s,!0,a,(l,h)=>Math.min(_l(l),h)),B4=(e,s,a=!1)=>N4(e,s,!1,a,(l,h)=>h>0?h-1:h),F4=(e,s)=>{const a=e;for(;e&&Pt(e)&&e.length===0;)e=s?e.nextSibling:e.previousSibling;return e||a},V7=(e,s)=>{if(!s)return e;let a=s.startContainer,l=s.endContainer;const h=s.startOffset,g=s.endOffset;let v=s.commonAncestorContainer;s.collapsed||(a===l&&g-h<2&&a.hasChildNodes()&&(v=a.childNodes[h]),Pt(a)&&Pt(l)&&(a.length===h?a=F4(a.nextSibling,!0):a=a.parentNode,g===0?l=F4(l.previousSibling,!1):l=l.parentNode,a&&a===l&&(v=a)));const S=Pt(v)?v.parentNode:v;return mt(S)?S:e},H7=(e,s,a,l)=>{const h=[],g=e.getRoot(),v=e.getParent(a||L4(g,s,s.collapsed),e.isBlock),S=e.getParent(l||B4(g,s,s.collapsed),e.isBlock);if(v&&v!==g&&h.push(v),v&&S&&v!==S){let I;const z=new Mr(v,g);for(;(I=z.next())&&I!==S;)e.isBlock(I)&&h.push(I)}return S&&v!==S&&S!==g&&h.push(S),h},U7=(e,s,a)=>j.from(s).bind(l=>j.from(l.parentNode).map(h=>{const g=e.nodeIndex(l),v=e.createRng();return v.setStart(h,g),v.setEnd(h,g+1),a&&(tv(e,v,l,!0),tv(e,v,l,!1)),v})),jO=(e,s)=>Ye(s,a=>{const l=e.dispatch("GetSelectionRange",{range:a});return l.range!==a?l.range:a}),j7=e=>Cs(e)==="img"?1:Cr(e).fold(()=>Ta(e).length,s=>s.length),W7=e=>Cr(e).filter(s=>s.trim().length!==0||s.indexOf(Qo)>-1).isSome(),Z7=e=>Kd(e)&&Li(e,"contenteditable")==="false",$2=["img","br"],WO=e=>W7(e)||Oe($2,Cs(e))||Z7(e),$4=e=>A1(e,WO),G7=e=>q7(e,WO),q7=(e,s)=>{const a=l=>{const h=Ta(l);for(let g=h.length-1;g>=0;g--){const v=h[g];if(s(v))return j.some(v);const S=a(v);if(S.isSome())return S}return j.none()};return a(e)},V4="[data-mce-autocompleter]",K7=(e,s)=>{if(H4(ve.fromDom(e.getBody())).isNone()){const a=ve.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());nr(a,ve.fromDom(s.extractContents())),s.insertNode(a.dom),Ll(a).each(l=>l.dom.normalize()),G7(a).map(l=>{e.selection.setCursorLocation(l.dom,j7(l))})}},Y7=e=>Bc(e,V4),H4=e=>Gh(e,V4),U4=(e,s)=>H4(s).each(a=>{const l=e.selection.getBookmark();Dr(a),e.selection.moveToBookmark(l)}),X7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},EC=(e,s,a)=>{const l=a?"lastChild":"firstChild",h=a?"prev":"next";if(e[l])return e[l];if(e!==s){let g=e[h];if(g)return g;for(let v=e.parent;v&&v!==s;v=v.parent)if(g=v[h],g)return g}},j4=e=>{var s;const a=(s=e.value)!==null&&s!==void 0?s:"";if(!em(a))return!1;const l=e.parent;return!(l&&(l.name!=="span"||l.attr("style"))&&/^[ ]+$/.test(a))},W4=e=>{const s=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||s};class kc{constructor(s,a){this.name=s,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}static create(s,a){const l=new kc(s,X7[s]||1);return a&&Gt(a,(h,g)=>{l.attr(g,h)}),l}replace(s){const a=this;return s.parent&&s.remove(),a.insert(s,a),a.remove(),a}attr(s,a){const l=this;if(!ee(s))return Ue(s)&&Gt(s,(g,v)=>{l.attr(v,g)}),l;const h=l.attributes;if(h){if(a!==void 0){if(a===null){if(s in h.map){delete h.map[s];let g=h.length;for(;g--;)if(h[g].name===s)return h.splice(g,1),l}return l}if(s in h.map){let g=h.length;for(;g--;)if(h[g].name===s){h[g].value=a;break}}else h.push({name:s,value:a});return h.map[s]=a,l}return h.map[s]}}clone(){const s=this,a=new kc(s.name,s.type),l=s.attributes;if(l){const h=[];h.map={};for(let g=0,v=l.length;g<v;g++){const S=l[g];S.name!=="id"&&(h[h.length]={name:S.name,value:S.value},h.map[S.name]=S.value)}a.attributes=h}return a.value=s.value,a}wrap(s){const a=this;return a.parent&&(a.parent.insert(s,a),s.append(a)),a}unwrap(){const s=this;for(let a=s.firstChild;a;){const l=a.next;s.insert(a,s,!0),a=l}s.remove()}remove(){const s=this,a=s.parent,l=s.next,h=s.prev;return a&&(a.firstChild===s?(a.firstChild=l,l&&(l.prev=null)):h&&(h.next=l),a.lastChild===s?(a.lastChild=h,h&&(h.next=null)):l&&(l.prev=h),s.parent=s.next=s.prev=null),s}append(s){const a=this;s.parent&&s.remove();const l=a.lastChild;return l?(l.next=s,s.prev=l,a.lastChild=s):a.lastChild=a.firstChild=s,s.parent=a,s}insert(s,a,l){s.parent&&s.remove();const h=a.parent||this;return l?(a===h.firstChild?h.firstChild=s:a.prev&&(a.prev.next=s),s.prev=a.prev,s.next=a,a.prev=s):(a===h.lastChild?h.lastChild=s:a.next&&(a.next.prev=s),s.next=a.next,s.prev=a,a.next=s),s.parent=h,s}getAll(s){const a=this,l=[];for(let h=a.firstChild;h;h=EC(h,a))h.name===s&&l.push(h);return l}children(){const s=this,a=[];for(let l=s.firstChild;l;l=l.next)a.push(l);return a}empty(){const s=this;if(s.firstChild){const a=[];for(let h=s.firstChild;h;h=EC(h,s))a.push(h);let l=a.length;for(;l--;){const h=a[l];h.parent=h.firstChild=h.lastChild=h.next=h.prev=null}}return s.firstChild=s.lastChild=null,s}isEmpty(s,a={},l){var h;const g=this;let v=g.firstChild;if(W4(g))return!1;if(v)do{if(v.type===1){if(v.attr("data-mce-bogus"))continue;if(s[v.name]||W4(v))return!1}if(v.type===8||v.type===3&&!j4(v)||v.type===3&&v.parent&&a[v.parent.name]&&em((h=v.value)!==null&&h!==void 0?h:"")||l&&l(v))return!1}while(v=EC(v,g));return!0}walk(s){return EC(this,null,s)}}const J7=(e,s)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(s)),Z4=(e,s,a=0)=>{const l=e.toLowerCase();if(l.indexOf("[if ",a)!==-1&&J7(l,a)){const h=l.indexOf("[endif]",a);return l.indexOf(">",h)}else if(s){const h=l.indexOf(">",a);return h!==-1?h:l.length}else{const h=/--!?>/g;h.lastIndex=a;const g=h.exec(e);return g?g.index+g[0].length:l.length}},Q7=(e,s,a)=>{const l=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,h=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,g=e.getVoidElements();let v=1,S=a;for(;v!==0;)for(l.lastIndex=S;;){const I=l.exec(s);if(I===null)return S;if(I[1]==="!"){Rr(I[2],"--")?S=Z4(s,!1,I.index+3):S=Z4(s,!0,I.index+1);break}else{h.lastIndex=l.lastIndex;const z=h.exec(s);if(J(z)||z.index!==l.lastIndex)continue;I[1]==="/"?v-=1:Fn(g,I[2])||(v+=1),S=l.lastIndex+z[0].length;break}}return S},eH=(e,s)=>{const a=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return s.replace(a,"")},G4=(e,s)=>{const a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,l=e.schema;let h=eH(e.getTempAttrs(),s);const g=l.getVoidElements();let v;for(;v=a.exec(h);){const S=a.lastIndex,I=v[0].length;let z;g[v[1]]?z=S:z=Q7(l,h,S),h=h.substring(0,S-I)+h.substring(z),a.lastIndex=S-I}return at(h)},tH=G4,q4=e=>{const s=Ia(e,"[data-mce-bogus]");ce(s,a=>{Li(a,"data-mce-bogus")==="all"?ps(a):ga(a)?(Go(a,ve.fromText($l)),ps(a)):Dr(a)})},K4=e=>{const s=Ia(e,"input");ce(s,a=>{Ar(a,"name")})},nH=(e,s)=>{const a=Pr(e),l=new RegExp(`^(<${a}[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/${a}>[\r
]*|<br \\/>[\r
]*)$`);return s.replace(l,"")},oH=(e,s)=>{const a=e.getDoc(),l=bu(ve.fromDom(e.getBody())),h=ve.fromTag("div",a);kr(h,"data-mce-bogus","all"),Qm(h,{position:"fixed",left:"-9999999px",top:"0"}),tf(h,s.innerHTML),q4(h),K4(h);const g=T1(l);nr(g,h);const v=at(h.dom.innerText);return ps(h),v},sH=(e,s,a)=>{let l;return s.format==="raw"?l=xt.trim(tH(e.serializer,a.innerHTML)):s.format==="text"?l=oH(e,a):s.format==="tree"?l=e.serializer.serialize(a,s):l=nH(e,e.serializer.serialize(a,s)),s.format!=="text"&&!Vl(ve.fromDom(a))&&ee(l)?xt.trim(l):l},rH=(e,s)=>j.from(e.getBody()).fold(ot(s.format==="tree"?new kc("body",11):""),a=>sH(e,s,a)),Y4=xt.makeMap,X4=e=>{const s=[];e=e||{};const a=e.indent,l=Y4(e.indent_before||""),h=Y4(e.indent_after||""),g=ll.getEncodeFunc(e.entity_encoding||"raw",e.entities),v=e.element_format!=="xhtml";return{start:(S,I,z)=>{if(a&&l[S]&&s.length>0){const W=s[s.length-1];W.length>0&&W!==`
`&&s.push(`
`)}if(s.push("<",S),I)for(let W=0,U=I.length;W<U;W++){const X=I[W];s.push(" ",X.name,'="',g(X.value,!0),'"')}if(!z||v?s[s.length]=">":s[s.length]=" />",z&&a&&h[S]&&s.length>0){const W=s[s.length-1];W.length>0&&W!==`
`&&s.push(`
`)}},end:S=>{let I;s.push("</",S,">"),a&&h[S]&&s.length>0&&(I=s[s.length-1],I.length>0&&I!==`
`&&s.push(`
`))},text:(S,I)=>{S.length>0&&(s[s.length]=I?S:g(S))},cdata:S=>{s.push("<![CDATA[",S,"]]>")},comment:S=>{s.push("<!--",S,"-->")},pi:(S,I)=>{I?s.push("<?",S," ",g(I),"?>"):s.push("<?",S,"?>"),a&&s.push(`
`)},doctype:S=>{s.push("<!DOCTYPE",S,">",a?`
`:"")},reset:()=>{s.length=0},getContent:()=>s.join("").replace(/\n$/,"")}},yy=(e={},s=Wl())=>{const a=X4(e);return e.validate="validate"in e?e.validate:!0,{serialize:h=>{const g=e.validate,v={3:I=>{var z;a.text((z=I.value)!==null&&z!==void 0?z:"",I.raw)},8:I=>{var z;a.comment((z=I.value)!==null&&z!==void 0?z:"")},7:I=>{a.pi(I.name,I.value)},10:I=>{var z;a.doctype((z=I.value)!==null&&z!==void 0?z:"")},4:I=>{var z;a.cdata((z=I.value)!==null&&z!==void 0?z:"")},11:I=>{let z=I;if(z=z.firstChild)do S(z);while(z=z.next)}};a.reset();const S=I=>{var z;const W=v[I.type];if(W)W(I);else{const U=I.name,X=U in s.getVoidElements();let fe=I.attributes;if(g&&fe&&fe.length>1){const pe=[];pe.map={};const se=s.getElementRule(I.name);if(se){for(let he=0,Ae=se.attributesOrder.length;he<Ae;he++){const xe=se.attributesOrder[he];if(xe in fe.map){const Me=fe.map[xe];pe.map[xe]=Me,pe.push({name:xe,value:Me})}}for(let he=0,Ae=fe.length;he<Ae;he++){const xe=fe[he].name;if(!(xe in pe.map)){const Me=fe.map[xe];pe.map[xe]=Me,pe.push({name:xe,value:Me})}}fe=pe}}if(a.start(U,fe,X),!X){let pe=I.firstChild;if(pe){(U==="pre"||U==="textarea")&&pe.type===3&&((z=pe.value)===null||z===void 0?void 0:z[0])===`
`&&a.text(`
`,!0);do S(pe);while(pe=pe.next)}a.end(U)}}};return h.type===1&&!e.inner?S(h):h.type===3?v[3](h):v[11](h),a.getContent()}}},J4=new Set;ce(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],s=>{J4.add(s)});const Q4=["font","text-decoration","text-emphasis"],Sn=(e,s)=>Fr(e.parseStyle(e.getAttrib(s,"style"))),eL=e=>J4.has(e),tL=(e,s)=>an(Sn(e,s),a=>!eL(a)),aH=e=>$e(e,s=>yt(Q4,a=>Rr(s,a))),ZO=(e,s,a)=>{const l=Sn(e,s),h=Sn(e,a),g=v=>{var S,I;const z=(S=e.getStyle(s,v))!==null&&S!==void 0?S:"",W=(I=e.getStyle(a,v))!==null&&I!==void 0?I:"";return Jo(z)&&Jo(W)&&z!==W};return yt(l,v=>{const S=I=>yt(I,z=>z===v);if(!S(h)&&S(Q4)){const I=aH(h);return yt(I,g)}else return g(v)})},nL=(e,s,a)=>j.from(a.container()).filter(Pt).exists(l=>{const h=e?0:-1;return s(l.data.charAt(a.offset()+h))}),GO=it(nL,!0,sy),qO=it(nL,!1,sy),iH=e=>{const s=e.container();return Pt(s)&&(s.data.length===0||Ce(s.data)&&ym.isBookmarkNode(s.parentNode))},by=(e,s)=>a=>xp(e?0:-1,a).filter(s).isSome(),TC=e=>Yh(e)&&dc(ve.fromDom(e),"display")==="block",KO=e=>eo(e)&&!id(e),zee=by(!0,TC),lH=by(!1,TC),Vn=by(!0,rl),RC=by(!1,rl),no=by(!0,hc),YO=by(!1,hc),vv=by(!0,KO),wv=by(!1,KO),cH=e=>e.slice(0,-1),Nee=(e,s,a)=>cc(s,e)?cH(sb(e,l=>a(l)||Xo(l,s))):[],uH=(e,s)=>Nee(e,s,Ee),Lp=(e,s)=>[e].concat(uH(e,s)),XO=(e,s,a)=>a2(e,s,a,iH),zn=(e,s)=>ut(Lp(ve.fromDom(s.container()),e),Ui),oL=(e,s,a)=>XO(e,s.dom,a).forall(l=>zn(s,a).fold(()=>!zr(l,a,s.dom),h=>!zr(l,a,s.dom)&&cc(h,ve.fromDom(l.container())))),sL=(e,s,a)=>zn(s,a).fold(()=>XO(e,s.dom,a).forall(l=>!zr(l,a,s.dom)),l=>XO(e,l.dom,a).isNone()),JO=it(sL,!1),i_=it(sL,!0),rL=it(oL,!1),dH=it(oL,!0),fH=e=>Kb(e).exists(ga),V2=(e,s,a)=>{const l=$e(Lp(ve.fromDom(a.container()),s),Ui),h=ks(l).getOr(s);return bc(e,h.dom,a).filter(fH)},H2=(e,s)=>Kb(s).exists(ga)||V2(!0,e,s).isSome(),QO=(e,s)=>t2(s).exists(ga)||V2(!1,e,s).isSome(),Lee=it(V2,!1),Bee=it(V2,!0),aL=e=>dt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),iL=(e,s)=>{const a=$e(Lp(ve.fromDom(s.container()),e),Ui);return ks(a).getOr(e)},lL=(e,s)=>aL(s)?qO(s):qO(s)||Iu(iL(e,s).dom,s).exists(qO),cL=(e,s)=>aL(s)?GO(s):GO(s)||Ri(iL(e,s).dom,s).exists(GO),uL=e=>Oe(["pre","pre-wrap"],e),eD=e=>Kb(e).bind(s=>tr(s,Ss)).exists(s=>uL(dc(s,"white-space"))),fo=(e,s)=>Iu(e.dom,s).isNone(),dL=(e,s)=>Ri(e.dom,s).isNone(),U2=(e,s)=>fo(e,s)||dL(e,s)||JO(e,s)||i_(e,s)||QO(e,s)||H2(e,s),fL=e=>Ue(e)&&eo(e)&&Mk(e),tD=(e,s)=>a=>fL(new Mr(a,e)[s]()),hL=(e,s)=>{const a=Ri(e.dom,s).getOr(s),l=tD(e.dom,"next");return s.isAtEnd()&&(l(s.container())||l(a.container()))},mL=(e,s)=>{const a=Iu(e.dom,s).getOr(s),l=tD(e.dom,"prev");return s.isAtStart()&&(l(s.container())||l(a.container()))},pL=(e,s)=>eD(s)?!1:U2(e,s)||lL(e,s)||cL(e,s),IC=(e,s)=>eD(s)?!1:JO(e,s)||rL(e,s)||QO(e,s)||lL(e,s)||mL(e,s),gL=e=>{const s=e.container(),a=e.offset();return Pt(s)&&a<s.data.length?dt(s,a+1):e},AC=(e,s)=>eD(s)?!1:i_(e,s)||dH(e,s)||H2(e,s)||cL(e,s)||hL(e,s),nD=(e,s)=>IC(e,s)||AC(e,gL(s)),yL=(e,s)=>oy(e.charAt(s)),bL=(e,s)=>sy(e.charAt(s)),hH=e=>{const s=e.container();return Pt(s)&&wr(s.data,Qo)},mH=e=>{const s=e.split("");return Ye(s,(a,l)=>oy(a)&&l>0&&l<s.length-1&&c2(s[l-1])&&c2(s[l+1])?" ":a).join("")},vL=(e,s,a)=>{const l=s.data,h=dt(s,0);return!a&&yL(l,0)&&!nD(e,h)?(s.data=" "+l.slice(1),!0):a&&bL(l,0)&&IC(e,h)?(s.data=Qo+l.slice(1),!0):!1},pH=e=>{const s=e.data,a=mH(s);return a!==s?(e.data=a,!0):!1},j2=(e,s,a)=>{const l=s.data,h=dt(s,l.length-1);return!a&&yL(l,l.length-1)&&!nD(e,h)?(s.data=l.slice(0,-1)+" ",!0):a&&bL(l,l.length-1)&&AC(e,h)?(s.data=l.slice(0,-1)+Qo,!0):!1},oD=(e,s)=>{const a=s.container();if(!Pt(a))return j.none();if(hH(s)){const l=vL(e,a,!1)||pH(a)||j2(e,a,!1);return Ro(l,s)}else if(nD(e,s)){const l=vL(e,a,!0)||j2(e,a,!0);return Ro(l,s)}else return j.none()},gH=e=>{const s=ve.fromDom(e.getBody());e.selection.isCollapsed()&&oD(s,dt.fromRangeStart(e.selection.getRng())).each(a=>{e.selection.setRng(a.toRange())})},wL=(e,s,a)=>{if(a===0)return;const l=ve.fromDom(e),h=Ns(l,Ui).getOr(l),g=e.data.slice(s,s+a),v=s+a>=e.data.length&&AC(h,dt(e,e.data.length)),S=s===0&&IC(h,dt(e,0));e.replaceData(s,a,bb(g,4,S,v))},W2=(e,s)=>{const a=e.data.slice(s),l=a.length-Qu(a).length;wL(e,s,l)},sD=(e,s)=>{const a=e.data.slice(0,s),l=a.length-ed(a).length;wL(e,s-l,l)},rD=(e,s,a,l=!0)=>{const h=ed(e.data).length,g=l?e:s,v=l?s:e;return l?g.appendData(v.data):g.insertData(0,v.data),ps(ve.fromDom(v)),a&&W2(g,h),g},yH=(e,s)=>{const a=e.container(),l=e.offset();return!dt.isTextPosition(e)&&a===s.parentNode&&l>dt.before(s).offset()},bH=(e,s)=>yH(s,e)?dt(s.container(),s.offset()-1):s,vH=e=>Pt(e)?dt(e,0):dt.before(e),_L=e=>Pt(e)?dt(e,e.data.length):dt.after(e),kL=e=>cs(e.previousSibling)?j.some(_L(e.previousSibling)):e.previousSibling?fh(e.previousSibling):j.none(),CL=e=>cs(e.nextSibling)?j.some(vH(e.nextSibling)):e.nextSibling?ql(e.nextSibling):j.none(),_v=(e,s)=>j.from(s.previousSibling?s.previousSibling:s.parentNode).bind(a=>Iu(e,dt.before(a))).orThunk(()=>Ri(e,dt.after(s))),wH=(e,s)=>Ri(e,dt.after(s)).orThunk(()=>Iu(e,dt.before(s))),SL=(e,s)=>kL(s).orThunk(()=>CL(s)).orThunk(()=>_v(e,s)),_H=(e,s)=>CL(s).orThunk(()=>kL(s)).orThunk(()=>wH(e,s)),kH=(e,s,a)=>e?_H(s,a):SL(s,a),xL=(e,s,a)=>kH(e,s,a).map(it(bH,a)),aD=(e,s,a)=>{a.fold(()=>{e.focus()},l=>{e.selection.setRng(l.toRange(),s)})},EL=e=>s=>s.dom===e,TL=(e,s)=>s&&Fn(e.schema.getBlockElements(),Cs(s)),Jl=e=>{if(or(e)){const s=ve.fromHtml('<br data-mce-bogus="1">');return hs(e),nr(e,s),j.some(dt.before(s.dom))}else return j.none()},CH=(e,s,a)=>{const l=Bl(e).filter(wi),h=jh(e).filter(wi);return ps(e),pg(l,h,s,(g,v,S)=>{const I=g.dom,z=v.dom,W=I.data.length;return rD(I,z,a),S.container()===z?dt(I,W):S}).orThunk(()=>(a&&(l.each(g=>sD(g.dom,g.dom.length)),h.each(g=>W2(g.dom,0))),s))},SH=(e,s)=>Fn(e.schema.getTextInlineElements(),Cs(s)),kv=(e,s,a,l=!0)=>{const h=xL(s,e.getBody(),a.dom),g=Ns(a,it(TL,e),EL(e.getBody())),v=CH(a,h,SH(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):g.bind(Jl).fold(()=>{l&&aD(e,s,v)},S=>{l&&aD(e,s,j.some(S))})},xH=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,EH=e=>xH.test(e),Cd=(e,s)=>Bi(ve.fromDom(s),OA(e))&&!tm(e.schema,s)&&e.dom.isEditable(s),TH=e=>{var s;return ys.DOM.getStyle(e,"direction",!0)==="rtl"||EH((s=e.textContent)!==null&&s!==void 0?s:"")},RH=(e,s,a)=>$e(ys.DOM.getParents(a.container(),"*",s),e),Us=(e,s,a)=>{const l=RH(e,s,a);return j.from(l[l.length-1])},Z2=(e,s,a)=>{const l=hm(s,e),h=hm(a,e);return Ue(l)&&l===h},Fee=e=>ji(e)||Oa(e),Qs=(e,s)=>{const a=s.container(),l=s.offset();return e?Zn(a)?Pt(a.nextSibling)?dt(a.nextSibling,0):dt.after(a):ji(s)?dt(a,l+1):s:Zn(a)?Pt(a.previousSibling)?dt(a.previousSibling,a.previousSibling.data.length):dt.before(a):Oa(s)?dt(a,l-1):s},es=it(Qs,!0),Pu=it(Qs,!1),RL=(e,s)=>{const a=l=>l.stopImmediatePropagation();e.on("beforeinput input",a,!0),e.getDoc().execCommand(s),e.off("beforeinput input",a)},IL=e=>{e.execCommand("delete")},OC=e=>RL(e,"Delete"),iD=e=>RL(e,"ForwardDelete"),AL=e=>s=>Vr(Ll(s),e,Xo),OL=e=>Tg(e)||ci(e),G2=(e,s)=>cc(e,s)?tr(s,OL,AL(e)):j.none(),lD=(e,s=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!s})},cD=(e,s,a)=>ha(ql(a),fh(a),(l,h)=>{const g=Qs(!0,l),v=Qs(!1,h),S=Qs(!1,s);return e?Ri(a,S).exists(I=>I.isEqual(v)&&s.isEqual(g)):Iu(a,S).exists(I=>I.isEqual(g)&&s.isEqual(v))}).getOr(!0),uD=e=>(C1(e)?Bl(e):uc(e)).bind(uD).orThunk(()=>j.some(e)),Sd=(e,s,a,l=!0)=>{var h;s.deleteContents();const g=uD(a).getOr(a),v=ve.fromDom((h=e.dom.getParent(g.dom,e.dom.isBlock))!==null&&h!==void 0?h:a.dom);if(v.dom===e.getBody()?lD(e,l):or(v)&&(D(v),l&&e.selection.setCursorLocation(v.dom,0)),!Xo(a,v)){const S=Vr(Ll(v),a)?[]:$0(v);ce(S.concat(Ta(a)),I=>{!Xo(I,v)&&!cc(I,v)&&or(I)&&ps(I)})}},IH=e=>s=>Xo(e,s),dD=e=>Ia(e,"td,th"),$ee=(e,s)=>{const a=z=>ay(ve.fromDom(z),s),l=a(e.startContainer),h=a(e.endContainer),g=l.isSome(),v=h.isSome(),S=ha(l,h,Xo).getOr(!1);return{startTable:l,endTable:h,isStartInTable:g,isEndInTable:v,isSameTable:S,isMultiTable:!S&&g&&v}},DC=(e,s)=>({start:e,end:s}),AH=(e,s,a)=>({rng:e,table:s,cells:a}),Bp=Js.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),q2=(e,s)=>Bc(ve.fromDom(e),"td,th",s),Cv=e=>!Xo(e.start,e.end),zu=(e,s)=>ay(e.start,s).bind(a=>ay(e.end,s).bind(l=>Ro(Xo(a,l),a))),MC=(e,s)=>!Cv(e)&&zu(e,s).exists(a=>{const l=a.dom.rows;return l.length===1&&l[0].cells.length===1}),Rs=(e,s)=>{const a=q2(e.startContainer,s),l=q2(e.endContainer,s);return ha(a,l,DC)},PC=e=>s=>ay(s,e).bind(a=>jo(dD(a)).map(l=>DC(s,l))),DL=e=>s=>ay(s,e).bind(a=>ks(dD(a)).map(l=>DC(l,s))),K2=e=>s=>zu(s,e).map(a=>AH(s,a,dD(a))),Y2=(e,s,a,l)=>{if(a.collapsed||!e.forall(Cv))return j.none();if(s.isSameTable){const h=e.bind(K2(l));return j.some({start:h,end:h})}else{const h=q2(a.startContainer,l),g=q2(a.endContainer,l),v=h.bind(PC(l)).bind(K2(l)),S=g.bind(DL(l)).bind(K2(l));return j.some({start:v,end:S})}},X2=(e,s)=>zt(e,a=>Xo(a,s)),zC=e=>ha(X2(e.cells,e.rng.start),X2(e.cells,e.rng.end),(s,a)=>e.cells.slice(s,a+1)),fD=(e,s,a)=>e.exists(l=>MC(l,a)&&f2(l.start,s)),NC=(e,s)=>{const{startTable:a,endTable:l}=s,h=e.cloneRange();return a.each(g=>h.setStartAfter(g.dom)),l.each(g=>h.setEndBefore(g.dom)),h},hD=(e,s,a,l)=>Y2(e,s,a,l).bind(({start:h,end:g})=>h.or(g)).bind(h=>{const{isSameTable:g}=s,v=zC(h).getOr([]);if(g&&h.cells.length===v.length)return j.some(Bp.fullTable(h.table));if(v.length>0){if(g)return j.some(Bp.partialTable(v,j.none()));{const S=NC(a,s);return j.some(Bp.partialTable(v,j.some({...s,rng:S})))}}else return j.none()}),ML=(e,s,a,l)=>Y2(e,s,a,l).bind(({start:h,end:g})=>{const v=h.bind(zC).getOr([]),S=g.bind(zC).getOr([]);if(v.length>0&&S.length>0){const I=NC(a,s);return j.some(Bp.multiTable(v,S,I))}else return j.none()}),PL=(e,s)=>{const a=IH(e),l=Rs(s,a),h=$ee(s,a);return fD(l,s,a)?l.map(g=>Bp.singleCellTable(s,g.start)):h.isMultiTable?ML(l,h,s,a):hD(l,h,s,a)},mD=e=>ce(e,s=>{Ar(s,"contenteditable"),D(s)}),zL=(e,s)=>j.from(e.dom.getParent(s,e.dom.isBlock)).map(ve.fromDom),NL=(e,s,a)=>{a.each(l=>{s?ps(l):(D(l),e.selection.setCursorLocation(l.dom,0))})},vy=(e,s,a,l)=>{const h=a.cloneRange();l?(h.setStart(a.startContainer,a.startOffset),h.setEndAfter(s.dom.lastChild)):(h.setStartBefore(s.dom.firstChild),h.setEnd(a.endContainer,a.endOffset)),gD(e,h,s,!1).each(g=>g())},pD=e=>{const s=mh(e),a=ve.fromDom(e.selection.getNode());Cl(a.dom)&&or(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),s.length>1&&yt(s,l=>Xo(l,a))&&kr(a,"data-mce-selected","1")},J2=(e,s,a)=>j.some(()=>{const l=e.selection.getRng(),h=a.bind(({rng:g,isStartInTable:v})=>{const S=zL(e,v?g.endContainer:g.startContainer);g.deleteContents(),NL(e,v,S.filter(or));const I=v?s[0]:s[s.length-1];return vy(e,I,l,v),or(I)?j.none():j.some(v?s.slice(1):s.slice(0,-1))}).getOr(s);mD(h),pD(e)}),OH=(e,s,a,l)=>j.some(()=>{const h=e.selection.getRng(),g=s[0],v=a[a.length-1];vy(e,g,h,!0),vy(e,v,h,!1);const S=or(g)?s:s.slice(1),I=or(v)?a:a.slice(0,-1);mD(S.concat(I)),l.deleteContents(),pD(e)}),gD=(e,s,a,l=!0)=>j.some(()=>{Sd(e,s,a,l)}),LL=(e,s)=>j.some(()=>kv(e,!1,s)),BL=(e,s,a)=>PL(s,a).bind(l=>l.fold(it(gD,e),it(LL,e),it(J2,e),it(OH,e))),FL=(e,s)=>LC(e,s),Q2=(e,s,a,l)=>eT(s,l).fold(()=>BL(e,s,a),h=>FL(e,h)),$L=(e,s,a)=>{const l=ve.fromDom(e.getBody()),h=e.selection.getRng();return a.length!==0?J2(e,a,j.none()):Q2(e,l,h,s)},yD=(e,s)=>ut(Lp(s,e),Ka),eT=(e,s)=>ut(Lp(s,e),$h("caption")),VL=(e,s,a,l,h)=>Ow(a,e.getBody(),h).bind(g=>yD(s,ve.fromDom(g.getNode())).bind(v=>Xo(v,l)?j.none():j.some(Ot))),LC=(e,s)=>j.some(()=>{D(s),e.selection.setCursorLocation(s.dom,0)}),HL=(e,s,a,l)=>ql(e.dom).bind(h=>fh(e.dom).map(g=>s?a.isEqual(h)&&l.isEqual(g):a.isEqual(g)&&l.isEqual(h))).getOr(!0),UL=(e,s)=>LC(e,s),jL=(e,s,a)=>eT(e,ve.fromDom(a.getNode())).fold(()=>j.some(Ot),l=>Ro(!Xo(l,s),Ot)),WL=(e,s,a,l,h)=>Ow(a,e.getBody(),h).fold(()=>j.some(Ot),g=>HL(l,a,h,g)?UL(e,l):jL(s,l,g)),ZL=(e,s,a,l)=>{const h=dt.fromRangeStart(e.selection.getRng());return yD(a,l).bind(g=>or(g)?LC(e,g):VL(e,a,s,g,h))},GL=(e,s,a,l)=>{const h=dt.fromRangeStart(e.selection.getRng());return or(l)?LC(e,l):WL(e,a,s,l,h)},bD=(e,s)=>e?no(s):YO(s),qL=(e,s)=>{const a=dt.fromRangeStart(e.selection.getRng());return bD(s,a)||bc(s,e.getBody(),a).exists(l=>bD(s,l))},KL=(e,s,a)=>{const l=ve.fromDom(e.getBody());return eT(l,a).fold(()=>ZL(e,s,l,a).orThunk(()=>Ro(qL(e,s),Ot)),h=>GL(e,s,l,h))},tT=(e,s)=>{const a=ve.fromDom(e.selection.getStart(!0)),l=mh(e);return e.selection.isCollapsed()&&l.length===0?KL(e,s,a):$L(e,a,l)},Fp=(e,s)=>{let a=s;for(;a&&a!==e;){if(Uc(a)||eo(a))return a;a=a.parentNode}return null},nT=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],YL=xt.each,oT=e=>{const s=e.dom,a=new Set(e.serializer.getTempAttrs()),l=(g,v)=>{if(g.nodeName!==v.nodeName||g.nodeType!==v.nodeType)return!1;const S=z=>{const W={};return YL(s.getAttribs(z),U=>{const X=U.nodeName.toLowerCase();X!=="style"&&!h(X)&&(W[X]=s.getAttrib(z,X))}),W},I=(z,W)=>{for(const U in z)if(Fn(z,U)){const X=W[U];if(st(X)||z[U]!==X)return!1;delete W[U]}for(const U in W)if(Fn(W,U))return!1;return!0};return mt(g)&&mt(v)&&(!I(S(g),S(v))||!I(s.parseStyle(s.getAttrib(g,"style")),s.parseStyle(s.getAttrib(v,"style"))))?!1:!za(g)&&!za(v)},h=g=>yt(nT,v=>Rr(g,v))||a.has(g);return{compare:l,isAttributeInternal:h}},sT=(e,s)=>{let a=e;for(;a=a.walk();)s(a)},rT=(e,s,a,l)=>{const h=a.name;for(let g=0,v=e.length;g<v;g++){const S=e[g];if(S.name===h){const I=l.nodes[h];I?I.nodes.push(a):l.nodes[h]={filter:S,nodes:[a]}}}if(a.attributes)for(let g=0,v=s.length;g<v;g++){const S=s[g],I=S.name;if(I in a.attributes.map){const z=l.attributes[I];z?z.nodes.push(a):l.attributes[I]={filter:S,nodes:[a]}}}},BC=(e,s,a)=>{const l={nodes:{},attributes:{}};return a.firstChild&&sT(a,h=>{rT(e,s,h,l)}),l},aT=(e,s)=>{const a=(l,h)=>{Gt(l,g=>{const v=zs(g.nodes);ce(g.filter.callbacks,S=>{for(let I=v.length-1;I>=0;I--){const z=v[I];(!(h?z.attr(g.filter.name)!==void 0:z.name===g.filter.name)||_t(z.parent))&&v.splice(I,1)}v.length>0&&S(v,g.filter.name,s)})})};a(e.nodes,!1),a(e.attributes,!0)},vD=(e,s,a,l={})=>{const h=BC(e,s,a);aT(h,l)},wy=(e,s,a)=>{if(e.insert&&s(a)){const l=new kc("br",1);l.attr("data-mce-bogus","1"),a.empty().append(l)}else a.empty().append(new kc("#text",3)).value=Qo},wD=e=>{var s;return iT(e,"#text")&&((s=e==null?void 0:e.firstChild)===null||s===void 0?void 0:s.value)===Qo},iT=(e,s)=>{const a=e==null?void 0:e.firstChild;return Ue(a)&&a===e.lastChild&&a.name===s},FC=(e,s)=>{const a=e.getElementRule(s.name);return(a==null?void 0:a.paddEmpty)===!0},wf=(e,s,a,l)=>l.isEmpty(s,a,h=>FC(e,h)),XL=(e,s)=>Ue(e)&&(s(e)||e.name==="br"),DH=e=>{let s;for(let a=e;a;a=a.parent){const l=a.attr("contenteditable");if(l==="false")break;l==="true"&&(s=a)}return j.from(s)},lT=(e,s,a=e.parent)=>{if(s.getSpecialElements()[e.name])e.empty().remove();else{const l=e.children();for(const h of l)a&&!s.isValidChild(a.name,h.name)&&lT(h,s,a);e.unwrap()}},cT=(e,s,a,l=Ot)=>{const h=s.getTextBlockElements(),g=s.getNonEmptyElements(),v=s.getWhitespaceElements(),S=xt.makeMap("tr,td,th,tbody,thead,tfoot,table"),I=new Set,z=W=>W!==a&&!S[W.name];for(let W=0;W<e.length;W++){const U=e[W];let X,fe,pe;if(!U.parent||I.has(U))continue;if(h[U.name]&&U.parent.name==="li"){let he=U.next;for(;he&&h[he.name];){he.name="li",I.add(he),U.parent.insert(he,U.parent);he=he.next}U.unwrap();continue}const se=[U];for(X=U.parent;X&&!s.isValidChild(X.name,U.name)&&z(X);X=X.parent)se.push(X);if(X&&se.length>1)if(s.isValidChild(X.name,U.name)){se.reverse(),fe=se[0].clone(),l(fe);let he=fe;for(let Ae=0;Ae<se.length-1;Ae++){s.isValidChild(he.name,se[Ae].name)&&Ae>0?(pe=se[Ae].clone(),l(pe),he.append(pe)):pe=he;for(let xe=se[Ae].firstChild;xe&&xe!==se[Ae+1];){const Me=xe.next;pe.append(xe),xe=Me}he=pe}wf(s,g,v,fe)?X.insert(U,se[0],!0):(X.insert(fe,se[0],!0),X.insert(U,fe)),X=se[0],(wf(s,g,v,X)||iT(X,"br"))&&X.empty().remove()}else lT(U,s);else if(U.parent){if(U.name==="li"){let he=U.prev;if(he&&(he.name==="ul"||he.name==="ol")){he.append(U);continue}if(he=U.next,he&&(he.name==="ul"||he.name==="ol")&&he.firstChild){he.insert(U,he.firstChild,!0);continue}const Ae=new kc("ul",1);l(Ae),U.wrap(Ae);continue}if(s.isValidChild(U.parent.name,"div")&&s.isValidChild("div",U.name)){const he=new kc("div",1);l(he),U.wrap(he)}else lT(U,s)}}},MH=(e,s)=>{let a=e;for(;a;){if(a.name===s)return!0;a=a.parent}return!1},PH=(e,s,a=s.parent)=>a&&e.children[s.name]&&!e.isValidChild(a.name,s.name)?!0:!!(a&&s.name==="a"&&MH(a,"a")),zH=(e,s,a,l)=>{const h=document.createRange();return h.setStart(e,s),h.setEnd(a,l),h},_D=e=>{const s=dt.fromRangeStart(e),a=dt.fromRangeEnd(e),l=e.commonAncestorContainer;return bc(!1,l,a).map(h=>!zr(s,a,l)&&zr(s,h,l)?zH(s.container(),s.offset(),h.container(),h.offset()):e).getOr(e)},xd=e=>e.collapsed?e:_D(e),kD=e=>Ue(e.firstChild)&&e.firstChild===e.lastChild,uT=e=>e.name==="br"||e.value===Qo,CD=(e,s)=>e.getBlockElements()[s.name]&&kD(s)&&uT(s.firstChild),NH=(e,s)=>{const a=e.getNonEmptyElements();return Ue(s)&&(s.isEmpty(a)||CD(e,s))},JL=(e,s)=>{let a=s.firstChild,l=s.lastChild;return a&&a.name==="meta"&&(a=a.next),l&&l.attr("id")==="mce_marker"&&(l=l.prev),NH(e,l)&&(l=l==null?void 0:l.prev),!a||a!==l?!1:a.name==="ul"||a.name==="ol"},LH=e=>{var s,a;const l=e.firstChild,h=e.lastChild;return l&&l.nodeName==="META"&&((s=l.parentNode)===null||s===void 0||s.removeChild(l)),h&&h.id==="mce_marker"&&((a=h.parentNode)===null||a===void 0||a.removeChild(h)),e},QL=(e,s,a)=>{const l=s.serialize(a),h=e.createFragment(l);return LH(h)},SD=e=>{var s;return $e((s=e==null?void 0:e.childNodes)!==null&&s!==void 0?s:[],a=>a.nodeName==="LI")},BH=e=>e.data===Qo||Vs(e),e3=e=>Ue(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&BH(e.firstChild),FH=e=>!e.firstChild||e3(e),$C=e=>e.length>0&&FH(e[e.length-1])?e.slice(0,-1):e,dT=(e,s)=>{const a=e.getParent(s,e.isBlock);return a&&a.nodeName==="LI"?a:null},$H=(e,s)=>!!dT(e,s),t3=(e,s)=>{const a=s.cloneRange(),l=s.cloneRange();return a.setStartBefore(e),l.setEndAfter(e),[a.cloneContents(),l.cloneContents()]},VH=(e,s)=>{const a=dt.before(e),h=wd(s).next(a);return h?h.toRange():null},n3=(e,s)=>{const a=dt.after(e),h=wd(s).prev(a);return h?h.toRange():null},HH=(e,s,a,l)=>{const h=t3(e,l),g=e.parentNode;return g&&(g.insertBefore(h[0],e),xt.each(s,v=>{g.insertBefore(v,e)}),g.insertBefore(h[1],e),g.removeChild(e)),n3(s[s.length-1],a)},UH=(e,s,a)=>{const l=e.parentNode;return l&&xt.each(s,h=>{l.insertBefore(h,e)}),VH(e,a)},jH=(e,s,a,l)=>(l.insertAfter(s.reverse(),e),n3(s[0],a)),o3=(e,s,a,l)=>{const h=QL(s,e,l),g=dT(s,a.startContainer),v=$C(SD(h.firstChild)),S=1,I=2,z=s.getRoot(),W=U=>{const X=dt.fromRangeStart(a),fe=wd(s.getRoot()),pe=U===S?fe.prev(X):fe.next(X),se=pe==null?void 0:pe.getNode();return se?dT(s,se)!==g:!0};return g?W(S)?UH(g,v,z):W(I)?jH(g,v,z,s):HH(g,v,z,a):null},WH=["pre"],xD=(e,s,a,l)=>{var h;const g=s.firstChild,v=s.lastChild,S=v.attr("data-mce-type")==="bookmark"?v.prev:v,I=g===S,z=Oe(WH,g.name);if(I&&z){const W=g.attr("contenteditable")!=="false",U=((h=e.getParent(a,e.isBlock))===null||h===void 0?void 0:h.nodeName.toLowerCase())===g.name,X=j.from(Fp(l,a)).forall(Uc);return W&&U&&X}else return!1},$p=Cl,ZH=(e,s,a)=>{if(Ue(a)){const l=e.getParent(s.endContainer,$p);return a===l&&f2(ve.fromDom(a),s)}else return!1},GH=(e,s,a)=>{var l;if(a.getAttribute("data-mce-bogus")==="all")(l=a.parentNode)===null||l===void 0||l.insertBefore(e.dom.createFragment(s),a);else{const h=a.firstChild,g=a.lastChild;!h||h===g&&h.nodeName==="BR"?e.dom.setHTML(a,s):e.selection.setContent(s,{no_events:!0})}},fT=(e,s)=>{j.from(e.getParent(s,"td,th")).map(ve.fromDom).each(Y)},s3=(e,s)=>{const a=e.schema.getTextInlineElements(),l=e.dom;if(s){const h=e.getBody(),g=oT(e);xt.each(l.select("*[data-mce-fragment]"),v=>{if(Ue(a[v.nodeName.toLowerCase()])&&tL(l,v)){for(let I=v.parentElement;Ue(I)&&I!==h&&!ZO(l,v,I);I=I.parentElement)if(g.compare(I,v)){l.remove(v,!0);break}}})}},r3=e=>{let s=e;for(;s=s.walk();)s.type===1&&s.attr("data-mce-fragment","1")},qH=e=>{xt.each(e.getElementsByTagName("*"),s=>{s.removeAttribute("data-mce-fragment")})},a3=e=>!!e.getAttribute("data-mce-fragment"),KH=(e,s)=>Ue(s)&&!e.schema.getVoidElements()[s.nodeName],Sv=(e,s)=>{var a,l,h;let g;const v=e.dom,S=e.selection;if(!s)return;S.scrollIntoView(s);const I=Fp(e.getBody(),s);if(I&&v.getContentEditable(I)==="false"){v.remove(s),S.select(I);return}let z=v.createRng();const W=s.previousSibling;if(Pt(W)){z.setStart(W,(l=(a=W.nodeValue)===null||a===void 0?void 0:a.length)!==null&&l!==void 0?l:0);const fe=s.nextSibling;Pt(fe)&&(W.appendData(fe.data),(h=fe.parentNode)===null||h===void 0||h.removeChild(fe))}else z.setStartBefore(s),z.setEndBefore(s);const U=fe=>{let pe=dt.fromRangeStart(fe);return pe=wd(e.getBody()).next(pe),pe==null?void 0:pe.toRange()},X=v.getParent(s,v.isBlock);v.remove(s),X&&v.isEmpty(X)&&(hs(ve.fromDom(X)),z.setStart(X,0),z.setEnd(X,0),!$p(X)&&!a3(X)&&(g=U(z))?(z=g,v.remove(X)):v.add(X,v.create("br",{"data-mce-bogus":"1"}))),S.setRng(z)},i3=e=>{const s=e.dom,a=xd(e.selection.getRng());e.selection.setRng(a);const l=s.getParent(a.startContainer,$p);ZH(s,a,l)?gD(e,a,ve.fromDom(l)):a.startContainer===a.endContainer&&a.endOffset-a.startOffset===1&&Pt(a.startContainer.childNodes[a.startOffset])?a.deleteContents():e.getDoc().execCommand("Delete",!1)},l3=e=>{for(let s=e;s;s=s.walk())if(s.attr("id")==="mce_marker")return j.some(s);return j.none()},c3=(e,s,a)=>{var l,h;const g=e.selection,v=e.dom,S=e.parser,I=a.merge,z=yy({validate:!0},e.schema),W='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';s.indexOf("{$caret}")===-1&&(s+="{$caret}"),s=s.replace(/\{\$caret\}/,W);let U=g.getRng();const X=U.startContainer,fe=e.getBody();X===fe&&g.isCollapsed()&&v.isBlock(fe.firstChild)&&KH(e,fe.firstChild)&&v.isEmpty(fe.firstChild)&&(U=v.createRng(),U.setStart(fe.firstChild,0),U.setEnd(fe.firstChild,0),g.setRng(U)),g.isCollapsed()||i3(e);const pe=g.getNode(),se={context:pe.nodeName.toLowerCase(),data:a.data,insert:!0},he=S.parse(s,se);if(a.paste===!0&&JL(e.schema,he)&&$H(v,pe))return U=o3(z,v,g.getRng(),he),U&&g.setRng(U),s;a.paste===!0&&xD(v,he,pe,e.getBody())&&((l=he.firstChild)===null||l===void 0||l.unwrap()),r3(he);let Ae=he.lastChild;if(Ae&&Ae.attr("id")==="mce_marker"){const xe=Ae;for(Ae=Ae.prev;Ae;Ae=Ae.walk(!0))if(Ae.type===3||!v.isBlock(Ae.name)){Ae.parent&&e.schema.isValidChild(Ae.parent.name,"span")&&Ae.parent.insert(xe,Ae,Ae.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(pe),!se.invalid)s=z.serialize(he),GH(e,s,pe);else{e.selection.setContent(W);let xe=g.getNode(),Me;const We=e.getBody();for(Hc(xe)?xe=Me=We:Me=xe;Me&&Me!==We;)xe=Me,Me=Me.parentNode;s=xe===We?We.innerHTML:v.getOuterHTML(xe);const kt=S.parse(s),Zt=l3(kt),Bt=Zt.bind(DH).getOr(kt);Zt.each(Cn=>Cn.replace(he));const tt=he.children(),nt=(h=he.parent)!==null&&h!==void 0?h:kt;he.unwrap();const on=$e(tt,Cn=>PH(e.schema,Cn,nt));cT(on,e.schema,Bt),vD(S.getNodeFilters(),S.getAttributeFilters(),kt),s=z.serialize(kt),xe===We?v.setHTML(We,s):v.setOuterHTML(xe,s)}return s3(e,I),Sv(e,v.get("mce_marker")),qH(e.getBody()),fT(v,g.getStart()),rf(e.schema,e.getBody(),g.getStart()),s},xv=e=>e instanceof kc,u3=e=>{gy(e)&&ql(e.getBody()).each(s=>{const a=s.getNode(),l=hc(a)?ql(a).getOr(s):s;e.selection.setRng(l.toRange())})},ED=(e,s,a)=>{e.dom.setHTML(e.getBody(),s),a!==!0&&u3(e)},d3=(e,s,a,l)=>{if(a.length===0||/^\s+$/.test(a)){const h='<br data-mce-bogus="1">';s.nodeName==="TABLE"?a="<tr><td>"+h+"</td></tr>":/^(UL|OL)$/.test(s.nodeName)&&(a="<li>"+h+"</li>");const g=Pr(e);return e.schema.isValidChild(s.nodeName.toLowerCase(),g.toLowerCase())?(a=h,a=e.dom.createHTML(g,fw(e),a)):a||(a=h),ED(e,a,l.no_selection),{content:a,html:a}}else{l.format!=="raw"&&(a=yy({validate:!1},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0})));const h=Vl(ve.fromDom(s))?a:xt.trim(a);return ED(e,h,l.no_selection),{content:h,html:h}}},YH=(e,s,a,l)=>{vD(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);const h=yy({validate:!1},e.schema).serialize(a),g=Vl(ve.fromDom(s))?h:xt.trim(h);return ED(e,g,l.no_selection),{content:a,html:g}},XH=(e,s,a)=>j.from(e.getBody()).map(l=>xv(s)?YH(e,l,s,a):d3(e,l,s,a)).getOr({content:s,html:xv(a.content)?"":a.content}),hT=(e,s,a)=>Ns(e,s,a).isSome(),f3=(e,s)=>od(e,s).isSome(),mT=e=>de(e)?e:Ee,JH=(e,s,a)=>{let l=e.dom;const h=mT(a);for(;l.parentNode;){l=l.parentNode;const g=ve.fromDom(l),v=s(g);if(v.isSome())return v;if(h(g))break}return j.none()},TD=(e,s,a)=>{const l=s(e),h=mT(a);return l.orThunk(()=>h(e)?j.none():JH(e,s,h))},pT=Jk,gT=(e,s,a)=>{const l=e.formatter.get(a);if(l)for(let h=0;h<l.length;h++){const g=l[h];if(vc(g)&&g.inherit===!1&&e.dom.is(s,g.selector))return!0}return!1},yT=(e,s,a,l,h)=>{const g=e.dom.getRoot();if(s===g)return!1;const v=e.dom.getParent(s,S=>gT(e,S,a)?!0:S.parentNode===g||!!_m(e,S,a,l,!0));return!!_m(e,v,a,l,h)},bT=(e,s,a)=>Wr(a)&&pT(s,a.inline)||qc(a)&&pT(s,a.block)?!0:vc(a)?mt(s)&&e.is(s,a.selector):!1,h3=(e,s,a,l,h,g)=>{const v=a[l],S=l==="attributes";if(de(a.onmatch))return a.onmatch(s,a,l);if(v){if(hu(v)){for(let I=0;I<v.length;I++)if(S?e.getAttrib(s,v[I]):Uw(e,s,v[I]))return!0}else for(const I in v)if(Fn(v,I)){const z=S?e.getAttrib(s,I):Uw(e,s,I),W=gm(v[I],g),U=_t(z)||nl(z);if(U&&_t(W))continue;if(h&&U&&!a.exact||(!h||a.exact)&&!pT(z,Qk(W,I)))return!1}}return!0},_m=(e,s,a,l,h)=>{const g=e.formatter.get(a),v=e.dom;if(g&&mt(s))for(let S=0;S<g.length;S++){const I=g[S];if(bT(e.dom,s,I)&&h3(v,s,I,"attributes",h,l)&&h3(v,s,I,"styles",h,l)){const z=I.classes;if(z){for(let W=0;W<z.length;W++)if(!e.dom.hasClass(s,gm(z[W],l)))return}return I}}},l_=(e,s,a,l,h)=>{if(l)return yT(e,l,s,a,h);if(l=e.selection.getNode(),yT(e,l,s,a,h))return!0;const g=e.selection.getStart();return!!(g!==l&&yT(e,g,s,a,h))},Vp=(e,s,a)=>{const l=[],h={},g=e.selection.getStart();return e.dom.getParent(g,v=>{for(let S=0;S<s.length;S++){const I=s[S];!h[I]&&_m(e,v,I,a)&&(h[I]=!0,l.push(I))}},e.dom.getRoot()),l},QH=(e,s)=>{const a=h=>Xo(h,ve.fromDom(e.getBody())),l=(h,g)=>_m(e,h.dom,g)?j.some(g):j.none();return j.from(e.selection.getStart(!0)).bind(h=>TD(ve.fromDom(h),g=>Dl(s,v=>l(g,v)),a)).getOrNull()},RD=(e,s)=>{const a=e.formatter.get(s),l=e.dom;if(a){const h=e.selection.getStart(),g=ph(l,h);for(let v=a.length-1;v>=0;v--){const S=a[v];if(!vc(S))return!0;for(let I=g.length-1;I>=0;I--)if(l.is(g[I],S.selector))return!0}}return!1},Zr=(e,s,a)=>be(a,(l,h)=>{const g=tn(e,h);return e.formatter.matchNode(s,h,{},g)?l.concat([h]):l},[]),_y=ne,ID=(e,s)=>e.importNode(s,!0),Hp=e=>{const s=[];let a=e;for(;a;){if(Pt(a)&&a.data!==_y||a.childNodes.length>1)return[];mt(a)&&s.push(a),a=a.firstChild}return s},AD=e=>Hp(e).length>0,vT=e=>{if(e){const s=new Mr(e,e);for(let a=s.current();a;a=s.next())if(Pt(a))return a}return null},Ev=e=>{const s=ve.fromTag("span");return _i(s,{id:oO,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&nr(s,ve.fromText(_y)),s},e9=e=>{const s=vT(e);return s&&s.data.charAt(0)===_y&&s.deleteData(0,1),s},OD=(e,s,a=!0)=>{const l=e.dom,h=e.selection;if(AD(s))kv(e,!1,ve.fromDom(s),a);else{const g=h.getRng(),v=l.getParent(s,l.isBlock),S=g.startContainer,I=g.startOffset,z=g.endContainer,W=g.endOffset,U=e9(s);l.remove(s,!0),S===U&&I>0&&g.setStart(U,I-1),z===U&&W>0&&g.setEnd(U,W-1),v&&l.isEmpty(v)&&D(ve.fromDom(v)),h.setRng(g)}},ky=(e,s,a=!0)=>{const l=e.dom,h=e.selection;if(s)OD(e,s,a);else if(s=ta(e.getBody(),h.getStart()),!s)for(;s=l.get(oO);)OD(e,s,!1)},t9=(e,s,a)=>{var l,h;const g=e.dom,v=g.getParent(a,it(Yk,e.schema));v&&g.isEmpty(v)?(l=a.parentNode)===null||l===void 0||l.replaceChild(s,a):(Rg(ve.fromDom(a)),g.isEmpty(a)?(h=a.parentNode)===null||h===void 0||h.replaceChild(s,a):g.insertAfter(s,a))},Cy=(e,s)=>(e.appendChild(s),s),m3=(e,s)=>{var a;const l=oe(e,(g,v)=>Cy(g,v.cloneNode(!1)),s),h=(a=l.ownerDocument)!==null&&a!==void 0?a:document;return Cy(l,h.createTextNode(_y))},Sy=(e,s,a,l,h,g)=>{const v=e.formatter,S=e.dom,I=$e(Fr(v.get()),U=>U!==l&&!wr(U,"removeformat")),z=Zr(e,a,I);if($e(z,U=>!Na(e,U,l)).length>0){const U=a.cloneNode(!1);return S.add(s,U),v.remove(l,h,U,g),S.remove(U),j.some(U)}else return j.none()},_f=(e,s,a)=>{let l;const h=e.selection,g=e.formatter.get(s);if(!g)return;const v=h.getRng();let S=v.startOffset;const z=v.startContainer.nodeValue;l=ta(e.getBody(),h.getStart());const W=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(z&&S>0&&S<z.length&&W.test(z.charAt(S))&&W.test(z.charAt(S-1))){const U=h.getBookmark();v.collapse(!0);let X=Kl(e.dom,v,g);X=wC(X),e.formatter.apply(s,a,X),h.moveToBookmark(U)}else{let U=l?vT(l):null;(!l||(U==null?void 0:U.data)!==_y)&&(l=ID(e.getDoc(),Ev(!0).dom),U=l.firstChild,v.insertNode(l),S=1),e.formatter.apply(s,a,l),h.setCursorLocation(U,S)}},wT=(e,s,a,l)=>{const h=e.dom,g=e.selection;let v=!1;const S=e.formatter.get(s);if(!S)return;const I=g.getRng(),z=I.startContainer,W=I.startOffset;let U=z;Pt(z)&&(W!==z.data.length&&(v=!0),U=U.parentNode);const X=[];let fe;for(;U;){if(_m(e,U,s,a,l)){fe=U;break}U.nextSibling&&(v=!0),X.push(U),U=U.parentNode}if(!!fe)if(v){const pe=g.getBookmark();I.collapse(!0);let se=Kl(h,I,S,!0);se=wC(se),e.formatter.remove(s,a,se,l),g.moveToBookmark(pe)}else{const pe=ta(e.getBody(),fe),se=Ev(!1).dom;t9(e,se,pe!=null?pe:fe);const he=Sy(e,se,fe,s,a,l),Ae=m3(X.concat(he.toArray()),se);pe&&OD(e,pe,!1),g.setCursorLocation(Ae,1),h.isEmpty(fe)&&h.remove(fe)}},DD=(e,s)=>{const a=e.selection,l=e.getBody();ky(e,null,!1),(s===8||s===46)&&a.isCollapsed()&&a.getStart().innerHTML===_y&&ky(e,ta(l,a.getStart())),(s===37||s===39)&&ky(e,ta(l,a.getStart()))},n9=e=>{e.on("mouseup keydown",s=>{DD(e,s.keyCode)})},p3=e=>{const s=Ev(!1),a=m3(e,s.dom);return{caretContainer:s,caretPosition:dt(a,0)}},VC=(e,s)=>{const{caretContainer:a,caretPosition:l}=p3(s);return Go(ve.fromDom(e),a),ps(ve.fromDom(e)),l},o9=(e,s)=>{const{caretContainer:a,caretPosition:l}=p3(s);return e.selection.getRng().insertNode(a.dom),l},Ed=(e,s)=>{const a=e.schema.getTextInlineElements();return Fn(a,Cs(s))&&!dl(s.dom)&&!Aa(s.dom)},HC=e=>dl(e.dom)&&AD(e.dom),c_={},_T=Fl(["pre"]),MD=(e,s)=>{c_[e]||(c_[e]=[]),c_[e].push(s)},Tv=(e,s)=>{Fn(c_,e)&&ce(c_[e],a=>{a(s)})};MD("pre",e=>{const s=e.selection.getRng(),a=h=>g=>{const v=g.previousSibling;return _T(v)&&Oe(h,v)},l=(h,g)=>{const v=ve.fromDom(g),S=Nl(v).dom;ps(v),rd(ve.fromDom(h),[ve.fromTag("br",S),ve.fromTag("br",S),...Ta(v)])};if(!s.collapsed){const h=e.selection.getSelectedBlocks(),g=$e($e(h,_T),a(h));ce(g,v=>{l(v.previousSibling,v)})}});const kT=["fontWeight","fontStyle","color","fontSize","fontFamily"],s9=e=>ht(e.styles)&&yt(Fr(e.styles),s=>Oe(kT,s)),g3=e=>ut(e,s=>Wr(s)&&s.inline==="span"&&s9(s)),y3=(e,s)=>{const a=e.get(s);return Ze(a)?g3(a):j.none()},b3=(e,s)=>Iu(s,dt.fromRangeStart(e)).isNone(),v3=(e,s)=>Ri(s,dt.fromRangeEnd(e)).exists(a=>!Vs(a.getNode())||Ri(s,a).isSome())===!1,w3=e=>s=>Vi(s)&&e.isEditable(s),UC=e=>{const s=e.getSelectedBlocks(),a=e.getRng();if(e.isCollapsed())return[];if(s.length===1)return b3(a,s[0])&&v3(a,s[0])?s:[];{const l=ks(s).filter(v=>b3(a,v)).toArray(),h=jo(s).filter(v=>v3(a,v)).toArray(),g=s.slice(1,-1);return l.concat(g).concat(h)}},r9=e=>$e(UC(e),w3(e.dom)),PD=e=>$e(e.getSelectedBlocks(),w3(e.dom)),jC=xt.each,zD=e=>mt(e)&&!za(e)&&!dl(e)&&!Aa(e),ND=(e,s)=>{for(let a=e;a;a=a[s]){if(Pt(a)&&Jo(a.data))return e;if(mt(a)&&!za(a))return a}return e},LD=(e,s,a)=>{const l=oT(e),h=mt(s)&&pm(s),g=mt(a)&&pm(a);if(h&&g){const v=ND(s,"previousSibling"),S=ND(a,"nextSibling");if(l.compare(v,S)){for(let I=v.nextSibling;I&&I!==S;){const z=I;I=I.nextSibling,v.appendChild(z)}return e.dom.remove(S),xt.each(xt.grep(S.childNodes),I=>{v.appendChild(I)}),v}}return a},_3=(e,s,a,l)=>{var h;if(l&&s.merge_siblings!==!1){const g=(h=LD(e,p2(l),l))!==null&&h!==void 0?h:l;LD(e,g,p2(g,!0))}},a9=(e,s,a)=>{if(s.clear_child_styles){const l=s.links?"*:not(a)":"*";jC(e.select(l,a),h=>{zD(h)&&pm(h)&&jC(s.styles,(g,v)=>{e.setStyle(h,v,"")})})}},BD=(e,s,a)=>{jC(e.childNodes,l=>{zD(l)&&(s(l)&&a(l),l.hasChildNodes()&&BD(l,s,a))})},i9=(e,s)=>{s.nodeName==="SPAN"&&e.getAttribs(s).length===0&&e.remove(s,!0)},k3=(e,s)=>a=>!!(a&&Uw(e,a,s)),C3=(e,s,a)=>l=>{e.setStyle(l,s,a),l.getAttribute("style")===""&&l.removeAttribute("style"),i9(e,l)},Rv=Js.generate([{keep:[]},{rename:["name"]},{removed:[]}]),l9=/^(src|href|style)$/,FD=xt.each,CT=Jk,c9=e=>/^(TR|TH|TD)$/.test(e.nodeName),S3=(e,s,a)=>e.isChildOf(s,a)&&s!==a&&!e.isBlock(a),x3=(e,s,a)=>{let l=s[a?"startContainer":"endContainer"],h=s[a?"startOffset":"endOffset"];if(mt(l)){const g=l.childNodes.length-1;!a&&h&&h--,l=l.childNodes[h>g?g:h]}return Pt(l)&&a&&h>=l.data.length&&(l=new Mr(l,e.getBody()).next()||l),Pt(l)&&!a&&h===0&&(l=new Mr(l,e.getBody()).prev()||l),l},$D=(e,s)=>{const a=s?"firstChild":"lastChild",l=e[a];return c9(e)&&l?e.nodeName==="TR"&&l[a]||l:e},VD=(e,s,a,l)=>{var h;const g=e.create(a,l);return(h=s.parentNode)===null||h===void 0||h.insertBefore(g,s),g.appendChild(s),g},Iv=(e,s,a,l,h)=>{const g=ve.fromDom(s),v=ve.fromDom(e.create(l,h)),S=a?wl(g):E1(g);return rd(v,S),a?(Go(g,v),Jd(v,g)):(sd(g,v),nr(v,g)),v.dom},u9=(e,s)=>s.links&&e.nodeName==="A",E3=(e,s,a)=>{const l=s.parentNode;let h;const g=e.dom,v=Pr(e);qc(a)&&l===g.getRoot()&&(!a.list_block||!CT(s,a.list_block))&&ce(zs(s.childNodes),S=>{ly(e,v,S.nodeName.toLowerCase())?h?h.appendChild(S):(h=VD(g,S,v),g.setAttribs(h,fw(e))):h=null}),!(tC(a)&&!CT(a.inline,s))&&g.remove(s,!0)},T3=(e,s,a)=>Tn(e)?{name:s,value:null}:{name:e,value:gm(s,a)},R3=(e,s)=>{e.getAttrib(s,"style")===""&&(s.removeAttribute("style"),s.removeAttribute("data-mce-style"))},HD=(e,s,a,l,h)=>{let g=!1;FD(a.styles,(v,S)=>{const{name:I,value:z}=T3(S,v,l),W=Qk(z,I);(a.remove_similar||J(z)||!mt(h)||CT(Uw(e,h,I),W))&&e.setStyle(s,I,""),g=!0}),g&&R3(e,s)},d9=(e,s,a)=>{s==="removeformat"?ce(PD(e.selection),l=>{ce(kT,h=>e.dom.setStyle(l,h,"")),R3(e.dom,l)}):y3(e.formatter,s).each(l=>{ce(PD(e.selection),h=>HD(e.dom,h,l,a,null))})},I3=(e,s,a,l,h)=>{const g=e.dom,v=oT(e),S=e.schema;if(Wr(s)&&nh(S,s.inline)&&tm(S,l)&&l.parentElement===e.getBody())return E3(e,l,s),Rv.removed();if(!s.ceFalseOverride&&l&&g.getContentEditableParent(l)==="false"||l&&!bT(g,l,s)&&!u9(l,s))return Rv.keep();const I=l,z=s.preserve_attributes;if(Wr(s)&&s.remove==="all"&&Ze(z)){const W=$e(g.getAttribs(I),U=>Oe(z,U.name.toLowerCase()));if(g.removeAllAttribs(I),ce(W,U=>g.setAttrib(I,U.name,U.value)),W.length>0)return Rv.rename("span")}if(s.remove!=="all"){HD(g,I,s,a,h),FD(s.attributes,(U,X)=>{const{name:fe,value:pe}=T3(X,U,a);if(s.remove_similar||J(pe)||!mt(h)||CT(g.getAttrib(h,fe),pe)){if(fe==="class"){const se=g.getAttrib(I,fe);if(se){let he="";if(ce(se.split(/\s+/),Ae=>{/mce\-\w+/.test(Ae)&&(he+=(he?" ":"")+Ae)}),he){g.setAttrib(I,fe,he);return}}}if(l9.test(fe)&&I.removeAttribute("data-mce-"+fe),fe==="style"&&Fl(["li"])(I)&&g.getStyle(I,"list-style-type")==="none"){I.removeAttribute(fe),g.setStyle(I,"list-style-type","none");return}fe==="class"&&I.removeAttribute("className"),I.removeAttribute(fe)}}),FD(s.classes,U=>{U=gm(U,a),(!mt(h)||g.hasClass(h,U))&&g.removeClass(I,U)});const W=g.getAttribs(I);for(let U=0;U<W.length;U++){const X=W[U].nodeName;if(!v.isAttributeInternal(X))return Rv.keep()}}return s.remove!=="none"?(E3(e,I,s),Rv.removed()):Rv.keep()},WC=(e,s,a,l,h)=>I3(e,s,a,l,h).fold(Ee,g=>(e.dom.rename(l,g),!0),me),f9=(e,s,a,l,h)=>{let g;return s.parentNode&&ce(ph(e.dom,s.parentNode).reverse(),v=>{if(!g&&mt(v)&&v.id!=="_start"&&v.id!=="_end"){const S=_m(e,v,a,l,h);S&&S.split!==!1&&(g=v)}}),g},h9=(e,s,a,l)=>I3(e,s,a,l,l).fold(ot(l),h=>(e.dom.createFragment().appendChild(l),e.dom.rename(l,h)),ot(null)),m9=(e,s,a,l,h,g,v,S)=>{var I,z;let W,U;const X=e.dom;if(a){const fe=a.parentNode;for(let pe=l.parentNode;pe&&pe!==fe;pe=pe.parentNode){let se=X.clone(pe,!1);for(let he=0;he<s.length&&(se=h9(e,s[he],S,se),se!==null);he++);se&&(W&&se.appendChild(W),U||(U=se),W=se)}g&&(!v.mixed||!X.isBlock(a))&&(l=(I=X.split(a,l))!==null&&I!==void 0?I:l),W&&U&&((z=h.parentNode)===null||z===void 0||z.insertBefore(W,h),U.appendChild(h),Wr(v)&&_3(e,v,S,W))}return l},A3=(e,s,a,l,h)=>{const g=e.formatter.get(s),v=g[0],S=e.dom,I=e.selection,z=se=>{const he=f9(e,se,s,a,h);return m9(e,g,he,se,se,!0,v,a)},W=se=>za(se)&&mt(se)&&(se.id==="_start"||se.id==="_end"),U=se=>yt(g,he=>WC(e,he,a,se,se)),X=se=>{const he=zs(se.childNodes),xe=U(se)||yt(g,kt=>bT(S,se,kt)),Me=se.parentNode;if(!xe&&Ue(Me)&&cy(v)&&U(Me),v.deep&&he.length)for(let kt=0;kt<he.length;kt++)X(he[kt]);ce(["underline","line-through","overline"],kt=>{mt(se)&&e.dom.getStyle(se,"text-decoration")===kt&&se.parentNode&&y2(S,se.parentNode)===kt&&WC(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:kt}},void 0,se)})},fe=se=>{const he=S.get(se?"_start":"_end");if(he){let Ae=he[se?"firstChild":"lastChild"];return W(Ae)&&(Ae=Ae[se?"firstChild":"lastChild"]),Pt(Ae)&&Ae.data.length===0&&(Ae=se?he.previousSibling||he.nextSibling:he.nextSibling||he.previousSibling),S.remove(he,!0),Ae}else return null},pe=se=>{let he,Ae,xe=Kl(S,se,g,se.collapsed);if(v.split){if(xe=wC(xe),he=x3(e,xe,!0),Ae=x3(e,xe),he!==Ae){if(he=$D(he,!0),Ae=$D(Ae,!1),S3(S,he,Ae)){const We=j.from(he.firstChild).getOr(he);z(Iv(S,We,!0,"span",{id:"_start","data-mce-type":"bookmark"})),fe(!0);return}if(S3(S,Ae,he)){const We=j.from(Ae.lastChild).getOr(Ae);z(Iv(S,We,!1,"span",{id:"_end","data-mce-type":"bookmark"})),fe(!1);return}he=VD(S,he,"span",{id:"_start","data-mce-type":"bookmark"}),Ae=VD(S,Ae,"span",{id:"_end","data-mce-type":"bookmark"});const Me=S.createRng();Me.setStartAfter(he),Me.setEndBefore(Ae),cv(S,Me,We=>{ce(We,kt=>{!za(kt)&&!za(kt.parentNode)&&z(kt)})}),z(he),z(Ae),he=fe(!0),Ae=fe()}else he=Ae=z(he);xe.startContainer=he.parentNode?he.parentNode:he,xe.startOffset=S.nodeIndex(he),xe.endContainer=Ae.parentNode?Ae.parentNode:Ae,xe.endOffset=S.nodeIndex(Ae)+1}cv(S,xe,Me=>{ce(Me,X)})};if(l){if(iy(l)){const se=S.createRng();se.setStartBefore(l),se.setEndAfter(l),pe(se)}else pe(l);dC(e,s,l,a);return}!I.isCollapsed()||!Wr(v)||mh(e).length?(ov(e,()=>h2(e,pe),se=>Wr(v)&&l_(e,s,a,se)),e.nodeChanged()):wT(e,s,a,h),d9(e,s,a),dC(e,s,l,a)},O3=xt.each,p9=(e,s,a,l)=>{const h=g=>{if(mt(g)&&mt(g.parentNode)&&pm(g)){const v=y2(e,g.parentNode);e.getStyle(g,"color")&&v?e.setStyle(g,"text-decoration",v):e.getStyle(g,"text-decoration")===v&&e.setStyle(g,"text-decoration",null)}};s.styles&&(s.styles.color||s.styles.textDecoration)&&(xt.walk(l,h,"childNodes"),h(l))},g9=(e,s,a,l)=>{if(s.styles&&s.styles.backgroundColor){const h=k3(e,"fontSize");BD(l,g=>h(g)&&pm(g),C3(e,"backgroundColor",gm(s.styles.backgroundColor,a)))}},UD=(e,s,a,l)=>{if(Wr(s)&&(s.inline==="sub"||s.inline==="sup")){const h=k3(e,"fontSize");BD(l,v=>h(v)&&pm(v),C3(e,"fontSize",""));const g=$e(e.select(s.inline==="sup"?"sub":"sup",l),pm);e.remove(g,!0)}},D3=(e,s,a,l)=>{O3(s,h=>{Wr(h)&&O3(e.dom.select(h.inline,l),g=>{zD(g)&&WC(e,h,a,g,h.exact?g:null)}),a9(e.dom,h,l)})},Vee=(e,s,a,l,h)=>{const g=h.parentNode;_m(e,g,a,l)&&WC(e,s,l,h)||s.merge_with_parents&&g&&e.dom.getParent(g,v=>_m(e,v,a,l)?(WC(e,s,l,h),!0):!1)},xy=xt.each,M3=(e,s,a,l)=>{if(Ek(e)&&Wr(s)&&a.parentNode){const h=ek(e.schema),g=f3(ve.fromDom(a),v=>dl(v.dom));return si(h,l)&&or(ve.fromDom(a.parentNode),!1)&&!g}else return!1},u_=(e,s,a,l)=>{if(xy(a.styles,(h,g)=>{e.setStyle(s,g,gm(h,l))}),a.styles){const h=e.getAttrib(s,"style");h&&e.setAttrib(s,"data-mce-style",h)}},d_=(e,s,a,l)=>{const h=e.formatter.get(s),g=h[0],v=!l&&e.selection.isCollapsed(),S=e.dom,I=e.selection,z=(pe,se=g)=>{de(se.onformat)&&se.onformat(pe,se,a,l),u_(S,pe,se,a),xy(se.attributes,(he,Ae)=>{S.setAttrib(pe,Ae,gm(he,a))}),xy(se.classes,he=>{const Ae=gm(he,a);S.hasClass(pe,Ae)||S.addClass(pe,Ae)})},W=(pe,se)=>{let he=!1;return xy(pe,Ae=>vc(Ae)?S.getContentEditable(se)==="false"&&!Ae.ceFalseOverride||Ue(Ae.collapsed)&&Ae.collapsed!==v?!0:S.is(se,Ae.selector)&&!dl(se)?(z(se,Ae),he=!0,!1):!0:!1),he},U=pe=>{if(ee(pe)){const se=S.create(pe);return z(se),se}else return null},X=(pe,se,he)=>{const Ae=[];let xe=!0;const Me=g.inline||g.block,We=U(Me),kt=tt=>na(g)&&_m(e,tt,s,a),Zt=(tt,nt,on)=>{const Cn=Au(g)&&Yk(e.schema,tt)&&ly(e,nt,Me);return on&&Cn},Bt=(tt,nt,on,Cn)=>{const On=tt.nodeName.toLowerCase(),so=ly(e,Me,On)&&ly(e,nt,Me),So=!he&&Pt(tt)&&Ce(tt.data),ts=dl(tt),vs=!Wr(g)||!pe.isBlock(tt);return(on||Cn)&&so&&!So&&!ts&&vs};cv(pe,se,tt=>{let nt;const on=Cn=>{let On=!1,so=xe,So=!1;const ts=Cn.parentNode,vs=ts.nodeName.toLowerCase(),Tr=pe.getContentEditable(Cn);Ue(Tr)&&(so=xe,xe=Tr==="true",On=!0,So=g2(e,Cn));const Ki=xe&&!On;if(Vs(Cn)&&!M3(e,g,Cn,vs)){nt=null,qc(g)&&pe.remove(Cn);return}if(kt(Cn)){nt=null;return}if(Zt(Cn,vs,Ki)){const $a=pe.rename(Cn,Me);z($a),Ae.push($a),nt=null;return}if(vc(g)){let $a=W(h,Cn);if(!$a&&Ue(ts)&&cy(g)&&($a=W(h,ts)),!Wr(g)||$a){nt=null;return}}Ue(We)&&Bt(Cn,vs,Ki,So)?(nt||(nt=pe.clone(We,!1),ts.insertBefore(nt,Cn),Ae.push(nt)),So&&On&&(xe=so),nt.appendChild(Cn)):(nt=null,ce(zs(Cn.childNodes),on),On&&(xe=so),nt=null)};ce(tt,on)}),g.links===!0&&ce(Ae,tt=>{const nt=on=>{on.nodeName==="A"&&z(on,g),ce(zs(on.childNodes),nt)};nt(tt)}),ce(Ae,tt=>{const nt=On=>{let so=0;return ce(On.childNodes,So=>{!Hw(So)&&!za(So)&&so++}),so},on=On=>ut(On.childNodes,Vw).filter(So=>pe.getContentEditable(So)!=="false"&&bT(pe,So,g)).map(So=>{const ts=pe.clone(So,!1);return z(ts),pe.replace(ts,On,!0),pe.remove(So,!0),ts}).getOr(On),Cn=nt(tt);if((Ae.length>1||!pe.isBlock(tt))&&Cn===0){pe.remove(tt,!0);return}(Wr(g)||qc(g)&&g.wrapper)&&(!g.exact&&Cn===1&&(tt=on(tt)),D3(e,h,a,tt),Vee(e,g,s,a,tt),g9(pe,g,a,tt),p9(pe,g,a,tt),UD(pe,g,a,tt),_3(e,g,a,tt))})},fe=iy(l)?l:I.getNode();if(S.getContentEditable(fe)==="false"&&!g2(e,fe)){l=fe,W(h,l),uC(e,s,l,a);return}if(g){if(l)if(iy(l)){if(!W(h,l)){const pe=S.createRng();pe.setStartBefore(l),pe.setEndAfter(l),X(S,Kl(S,pe,h),!0)}}else X(S,l,!0);else!v||!Wr(g)||mh(e).length?(I.setRng(xd(I.getRng())),ov(e,()=>{h2(e,(pe,se)=>{const he=se?pe:Kl(S,pe,h);X(S,he,!1)})},me),e.nodeChanged()):_f(e,s,a),y3(e.formatter,s).each(pe=>{ce(r9(e.selection),se=>u_(S,se,pe,a))});Tv(s,e)}uC(e,s,l,a)},jD=e=>Fn(e,"vars"),Hee=(e,s)=>{e.set({}),s.on("NodeChange",a=>{N3(s,a.element,e.get())}),s.on("FormatApply FormatRemove",a=>{const l=j.from(a.node).map(h=>iy(h)?h:h.startContainer).bind(h=>mt(h)?j.some(h):j.from(h.parentElement)).getOrThunk(()=>P3(s));N3(s,l,e.get())})},P3=e=>e.selection.getStart(),y9=(e,s,a,l,h)=>Xe(s,S=>{const I=e.formatter.matchNode(S,a,h!=null?h:{},l);return!st(I)},S=>gT(e,S,a)?!0:l?!1:Ue(e.formatter.matchNode(S,a,h,!0))),z3=(e,s)=>{const a=s!=null?s:P3(e);return $e(ph(e.dom,a),l=>mt(l)&&!Aa(l))},N3=(e,s,a)=>{const l=z3(e,s);Gt(a,(h,g)=>{const v=S=>{const I=y9(e,l,g,S.similar,jD(S)?S.vars:void 0),z=I.isSome();if(S.state.get()!==z){S.state.set(z);const W=I.getOr(s);jD(S)?S.callback(z,{node:W,format:g,parents:l}):ce(S.callbacks,U=>U(z,{node:W,format:g,parents:l}))}};ce([h.withSimilar,h.withoutSimilar],v),ce(h.withVars,v)})},Uee=(e,s,a,l,h,g)=>{const v=s.get();ce(a.split(","),S=>{const I=fs(v,S).getOrThunk(()=>{const W={withSimilar:{state:Ya(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ya(!1),similar:!1,callbacks:[]},withVars:[]};return v[S]=W,W}),z=()=>{const W=z3(e);return y9(e,W,S,h,g).isSome()};if(st(g)){const W=h?I.withSimilar:I.withoutSimilar;W.callbacks.push(l),W.callbacks.length===1&&W.state.set(z())}else I.withVars.push({state:Ya(z()),similar:h,vars:g,callback:l})}),s.set(v)},b9=(e,s,a)=>{const l=e.get();ce(s.split(","),h=>fs(l,h).each(g=>{l[h]={withSimilar:{...g.withSimilar,callbacks:$e(g.withSimilar.callbacks,v=>v!==a)},withoutSimilar:{...g.withoutSimilar,callbacks:$e(g.withoutSimilar.callbacks,v=>v!==a)},withVars:$e(g.withVars,v=>v.callback!==a)}})),e.set(l)},L3=(e,s,a,l,h,g)=>(Uee(e,s,a,l,h,g),{unbind:()=>b9(s,a,l)}),v9=(e,s,a,l)=>{const h=e.formatter.get(s);h&&(l_(e,s,a,l)&&(!("toggle"in h[0])||h[0].toggle)?A3(e,s,a,l):d_(e,s,a,l))},WD=xt.explode,B3=()=>{const e={};return{addFilter:(h,g)=>{ce(WD(h),v=>{Fn(e,v)||(e[v]={name:v,callbacks:[]}),e[v].callbacks.push(g)})},getFilters:()=>Xu(e),removeFilter:(h,g)=>{ce(WD(h),v=>{if(Fn(e,v))if(Ue(g)){const S=e[v],I=$e(S.callbacks,z=>z!==g);I.length>0?S.callbacks=I:delete e[v]}else delete e[v]})}}},ST=(e,s)=>{ce(s,a=>{e.attr(a,null)})},F3=(e,s,a)=>{e.addNodeFilter("font",l=>{ce(l,h=>{const g=s.parse(h.attr("style")),v=h.attr("color"),S=h.attr("face"),I=h.attr("size");v&&(g.color=v),S&&(g["font-family"]=S),I&&Pc(I).each(z=>{g["font-size"]=a[z-1]}),h.name="span",h.attr("style",s.serialize(g)),ST(h,["color","face","size"])})})},Fa=(e,s,a)=>{e.addNodeFilter("strike",l=>{const h=s.type!=="html4";ce(l,g=>{if(h)g.name="s";else{const v=a.parse(g.attr("style"));v["text-decoration"]="line-through",g.name="span",g.attr("style",a.serialize(v))}})})},jee=(e,s,a)=>{var l;const h=rh();s.convert_fonts_to_spans&&F3(e,h,xt.explode((l=s.font_size_legacy_values)!==null&&l!==void 0?l:"")),Fa(e,a,h)},Wee=(e,s,a)=>{s.inline_styles&&jee(e,s,a)},Zee=e=>fetch(e).then(s=>s.ok?s.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),Gee=e=>{const s=/([a-z0-9+\/=\s]+)/i.exec(e);return s?s[1]:""},Nu=e=>{const[s,...a]=e.split(","),l=a.join(","),h=/data:([^/]+\/[^;]+)(;.+)?/.exec(s);if(h){const g=h[2]===";base64",v=g?Gee(l):decodeURIComponent(l);return j.some({type:h[1],data:v,base64Encoded:g})}else return j.none()},ZC=(e,s,a=!0)=>{let l=s;if(a)try{l=atob(s)}catch{return j.none()}const h=new Uint8Array(l.length);for(let g=0;g<h.length;g++)h[g]=l.charCodeAt(g);return j.some(new Blob([h],{type:e}))},Av=e=>new Promise((s,a)=>{Nu(e).bind(({type:l,data:h,base64Encoded:g})=>ZC(l,h,g)).fold(()=>a("Invalid data URI"),s)}),Ov=e=>Rr(e,"blob:")?Zee(e):Rr(e,"data:")?Av(e):Promise.reject("Unknown URI format"),$3=e=>new Promise((s,a)=>{const l=new FileReader;l.onloadend=()=>{s(l.result)},l.onerror=()=>{var h;a((h=l.error)===null||h===void 0?void 0:h.message)},l.readAsDataURL(e)});let w9=0;const f_=e=>(e||"blobid")+w9++,Dv=(e,s,a)=>Nu(e).bind(({data:l,type:h,base64Encoded:g})=>{if(s&&!g)return j.none();{const v=g?l:btoa(l);return a(v,h)}}),Mv=(e,s,a)=>{const l=e.create(f_(),s,a);return e.add(l),l},V3=(e,s,a=!1)=>Dv(s,a,(l,h)=>j.from(e.getByData(l,h)).orThunk(()=>ZC(h,l).map(g=>Mv(e,g,l)))),ZD=(e,s)=>{const a=()=>Promise.reject("Invalid data URI");if(Rr(s,"blob:")){const l=e.getByUri(s);return Ue(l)?Promise.resolve(l):Ov(s).then(h=>$3(h).then(g=>Dv(g,!1,v=>j.some(Mv(e,h,v))).getOrThunk(a)))}else return Rr(s,"data:")?V3(e,s).fold(a,l=>Promise.resolve(l)):Promise.reject("Unknown image data format")},H3=e=>Ue(e.attr("data-mce-bogus")),U3=e=>e.attr("src")===Fo.transparentSrc||Ue(e.attr("data-mce-placeholder")),_9=(e,s)=>{const{blob_cache:a}=s;if(a){const l=h=>{const g=h.attr("src");U3(h)||H3(h)||_t(g)||V3(a,g,!0).each(v=>{h.attr("src",v.blobUri())})};e.addAttributeFilter("src",h=>ce(h,l))}},k9=(e,s)=>{const a=e.schema;s.remove_trailing_brs&&e.addNodeFilter("br",(h,g,v)=>{const S=xt.extend({},a.getBlockElements()),I=a.getNonEmptyElements(),z=a.getWhitespaceElements();S.body=1;const W=U=>U.name in S&&X0(a,U);for(let U=0,X=h.length;U<X;U++){let fe=h[U],pe=fe.parent;if(pe&&S[pe.name]&&fe===pe.lastChild){let se=fe.prev;for(;se;){const he=se.name;if(he!=="span"||se.attr("data-mce-type")!=="bookmark"){he==="br"&&(fe=null);break}se=se.prev}if(fe&&(fe.remove(),wf(a,I,z,pe))){const he=a.getElementRule(pe.name);he&&(he.removeEmpty?pe.remove():he.paddEmpty&&wy(v,W,pe))}}else{let se=fe;for(;pe&&pe.firstChild===se&&pe.lastChild===se&&(se=pe,!S[pe.name]);)pe=pe.parent;if(se===pe){const he=new kc("#text",3);he.value=Qo,fe.replace(he)}}}}),e.addAttributeFilter("href",h=>{let g=h.length;const v=I=>I.split(" ").filter(W=>W.length>0).concat(["noopener"]).sort().join(" "),S=I=>{const z=I?xt.trim(I):"";return/\b(noopener)\b/g.test(z)?z:v(z)};if(!s.allow_unsafe_link_target)for(;g--;){const I=h[g];I.name==="a"&&I.attr("target")==="_blank"&&I.attr("rel",S(I.attr("rel")))}}),s.allow_html_in_named_anchor||e.addAttributeFilter("id,name",h=>{let g=h.length,v,S,I,z;for(;g--;)if(z=h[g],z.name==="a"&&z.firstChild&&!z.attr("href"))for(I=z.parent,v=z.lastChild;v&&I;)S=v.prev,I.insert(v,z),v=S}),s.fix_list_elements&&e.addNodeFilter("ul,ol",h=>{let g=h.length,v,S;for(;g--;)if(v=h[g],S=v.parent,S&&(S.name==="ul"||S.name==="ol"))if(v.prev&&v.prev.name==="li")v.prev.append(v);else{const I=new kc("li",1);I.attr("style","list-style-type: none"),v.wrap(I)}});const l=a.getValidClasses();s.validate&&l&&e.addAttributeFilter("class",h=>{var g;let v=h.length;for(;v--;){const S=h[v],I=(g=S.attr("class"))!==null&&g!==void 0?g:"",z=xt.explode(I," ");let W="";for(let U=0;U<z.length;U++){const X=z[U];let fe=!1,pe=l["*"];pe&&pe[X]&&(fe=!0),pe=l[S.name],!fe&&pe&&pe[X]&&(fe=!0),fe&&(W&&(W+=" "),W+=X)}W.length||(W=null),S.attr("class",W)}}),_9(e,s)};function Ey(e){return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Ey(e)}function GD(e,s){return GD=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},GD(e,s)}function C9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xT(e,s,a){return C9()?xT=Reflect.construct:xT=function(h,g,v){var S=[null];S.push.apply(S,g);var I=Function.bind.apply(h,S),z=new I;return v&&GD(z,v.prototype),z},xT.apply(null,arguments)}function yh(e){return S9(e)||j3(e)||x9(e)||W3()}function S9(e){if(Array.isArray(e))return Pv(e)}function j3(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function x9(e,s){if(!!e){if(typeof e=="string")return Pv(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Pv(e,s)}}function Pv(e,s){(s==null||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}function W3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E9=Object.hasOwnProperty,qD=Object.setPrototypeOf,T9=Object.isFrozen,Z3=Object.getPrototypeOf,R9=Object.getOwnPropertyDescriptor,Xc=Object.freeze,bh=Object.seal,G3=Object.create,KD=typeof Reflect<"u"&&Reflect,GC=KD.apply,ET=KD.construct;GC||(GC=function(s,a,l){return s.apply(a,l)}),Xc||(Xc=function(s){return s}),bh||(bh=function(s){return s}),ET||(ET=function(s,a){return xT(s,yh(a))});var q3=vh(Array.prototype.forEach),I9=vh(Array.prototype.pop),qC=vh(Array.prototype.push),TT=vh(String.prototype.toLowerCase),YD=vh(String.prototype.match),kf=vh(String.prototype.replace),K3=vh(String.prototype.indexOf),Y3=vh(String.prototype.trim),Rl=vh(RegExp.prototype.test),XD=Ty(TypeError);function vh(e){return function(s){for(var a=arguments.length,l=new Array(a>1?a-1:0),h=1;h<a;h++)l[h-1]=arguments[h];return GC(e,s,l)}}function Ty(e){return function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return ET(e,a)}}function ds(e,s){qD&&qD(e,null);for(var a=s.length;a--;){var l=s[a];if(typeof l=="string"){var h=TT(l);h!==l&&(T9(s)||(s[a]=h),l=h)}e[l]=!0}return e}function Ry(e){var s=G3(null),a;for(a in e)GC(E9,e,[a])&&(s[a]=e[a]);return s}function Iy(e,s){for(;e!==null;){var a=R9(e,s);if(a){if(a.get)return vh(a.get);if(typeof a.value=="function")return vh(a.value)}e=Z3(e)}function l(h){return console.warn("fallback value for",h),null}return l}var JD=Xc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),KC=Xc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),RT=Xc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),X3=Xc(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),QD=Xc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),A9=Xc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),J3=Xc(["#text"]),IT=Xc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),eM=Xc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),tM=Xc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),AT=Xc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),O9=bh(/\{\{[\w\W]*|[\w\W]*\}\}/gm),D9=bh(/<%[\w\W]*|[\w\W]*%>/gm),zv=bh(/^data-[\-\w.\u00B7-\uFFFF]/),Q3=bh(/^aria-[\-\w]+$/),M9=bh(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),eB=bh(/^(?:\w+script|data):/i),P9=bh(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),tB=bh(/^html$/i),YC=function(){return typeof window>"u"?null:window},nM=function(s,a){if(Ey(s)!=="object"||typeof s.createPolicy!="function")return null;var l=null,h="data-tt-policy-suffix";a.currentScript&&a.currentScript.hasAttribute(h)&&(l=a.currentScript.getAttribute(h));var g="dompurify"+(l?"#"+l:"");try{return s.createPolicy(g,{createHTML:function(S){return S}})}catch{return console.warn("TrustedTypes policy "+g+" could not be created."),null}};function nB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:YC(),s=function(ct){return nB(ct)};if(s.version="2.3.8",s.removed=[],!e||!e.document||e.document.nodeType!==9)return s.isSupported=!1,s;var a=e.document,l=e.document,h=e.DocumentFragment,g=e.HTMLTemplateElement,v=e.Node,S=e.Element,I=e.NodeFilter,z=e.NamedNodeMap,W=z===void 0?e.NamedNodeMap||e.MozNamedAttrMap:z,U=e.HTMLFormElement,X=e.DOMParser,fe=e.trustedTypes,pe=S.prototype,se=Iy(pe,"cloneNode"),he=Iy(pe,"nextSibling"),Ae=Iy(pe,"childNodes"),xe=Iy(pe,"parentNode");if(typeof g=="function"){var Me=l.createElement("template");Me.content&&Me.content.ownerDocument&&(l=Me.content.ownerDocument)}var We=nM(fe,a),kt=We?We.createHTML(""):"",Zt=l,Bt=Zt.implementation,tt=Zt.createNodeIterator,nt=Zt.createDocumentFragment,on=Zt.getElementsByTagName,Cn=a.importNode,On={};try{On=Ry(l).documentMode?l.documentMode:{}}catch{}var so={};s.isSupported=typeof xe=="function"&&Bt&&typeof Bt.createHTMLDocument<"u"&&On!==9;var So=O9,ts=D9,vs=zv,Tr=Q3,Ki=eB,$a=P9,Ft=M9,pn=null,Lo=ds({},[].concat(yh(JD),yh(KC),yh(RT),yh(QD),yh(J3))),Jt=null,Rn=ds({},[].concat(yh(IT),yh(eM),yh(tM),yh(AT))),Pn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Qt=null,po=null,ao=!0,mi=!0,js=!1,Kn=!1,Vo=!1,Gr=!1,As=!1,mr=!1,rs=!1,Ws=!1,sa=!0,Md=!0,Yi=!1,Rh={},Hu=null,e1=ds({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),t1=null,Tf=ds({},["audio","video","img","source","image","track"]),Rf=null,ka=ds({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Pd="http://www.w3.org/1998/Math/MathML",Ih="http://www.w3.org/2000/svg",zd="http://www.w3.org/1999/xhtml",Nd=zd,Om=!1,Va,Jp=["application/xhtml+xml","text/html"],Dm="text/html",If,Vy=null,K_=l.createElement("form"),Y_=function(ct){return ct instanceof RegExp||ct instanceof Function},X_=function(ct){Vy&&Vy===ct||((!ct||Ey(ct)!=="object")&&(ct={}),ct=Ry(ct),pn="ALLOWED_TAGS"in ct?ds({},ct.ALLOWED_TAGS):Lo,Jt="ALLOWED_ATTR"in ct?ds({},ct.ALLOWED_ATTR):Rn,Rf="ADD_URI_SAFE_ATTR"in ct?ds(Ry(ka),ct.ADD_URI_SAFE_ATTR):ka,t1="ADD_DATA_URI_TAGS"in ct?ds(Ry(Tf),ct.ADD_DATA_URI_TAGS):Tf,Hu="FORBID_CONTENTS"in ct?ds({},ct.FORBID_CONTENTS):e1,Qt="FORBID_TAGS"in ct?ds({},ct.FORBID_TAGS):{},po="FORBID_ATTR"in ct?ds({},ct.FORBID_ATTR):{},Rh="USE_PROFILES"in ct?ct.USE_PROFILES:!1,ao=ct.ALLOW_ARIA_ATTR!==!1,mi=ct.ALLOW_DATA_ATTR!==!1,js=ct.ALLOW_UNKNOWN_PROTOCOLS||!1,Kn=ct.SAFE_FOR_TEMPLATES||!1,Vo=ct.WHOLE_DOCUMENT||!1,mr=ct.RETURN_DOM||!1,rs=ct.RETURN_DOM_FRAGMENT||!1,Ws=ct.RETURN_TRUSTED_TYPE||!1,As=ct.FORCE_BODY||!1,sa=ct.SANITIZE_DOM!==!1,Md=ct.KEEP_CONTENT!==!1,Yi=ct.IN_PLACE||!1,Ft=ct.ALLOWED_URI_REGEXP||Ft,Nd=ct.NAMESPACE||zd,ct.CUSTOM_ELEMENT_HANDLING&&Y_(ct.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Pn.tagNameCheck=ct.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ct.CUSTOM_ELEMENT_HANDLING&&Y_(ct.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Pn.attributeNameCheck=ct.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ct.CUSTOM_ELEMENT_HANDLING&&typeof ct.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Pn.allowCustomizedBuiltInElements=ct.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Va=Jp.indexOf(ct.PARSER_MEDIA_TYPE)===-1?Va=Dm:Va=ct.PARSER_MEDIA_TYPE,If=Va==="application/xhtml+xml"?function(gn){return gn}:TT,Kn&&(mi=!1),rs&&(mr=!0),Rh&&(pn=ds({},yh(J3)),Jt=[],Rh.html===!0&&(ds(pn,JD),ds(Jt,IT)),Rh.svg===!0&&(ds(pn,KC),ds(Jt,eM),ds(Jt,AT)),Rh.svgFilters===!0&&(ds(pn,RT),ds(Jt,eM),ds(Jt,AT)),Rh.mathMl===!0&&(ds(pn,QD),ds(Jt,tM),ds(Jt,AT))),ct.ADD_TAGS&&(pn===Lo&&(pn=Ry(pn)),ds(pn,ct.ADD_TAGS)),ct.ADD_ATTR&&(Jt===Rn&&(Jt=Ry(Jt)),ds(Jt,ct.ADD_ATTR)),ct.ADD_URI_SAFE_ATTR&&ds(Rf,ct.ADD_URI_SAFE_ATTR),ct.FORBID_CONTENTS&&(Hu===e1&&(Hu=Ry(Hu)),ds(Hu,ct.FORBID_CONTENTS)),Md&&(pn["#text"]=!0),Vo&&ds(pn,["html","head","body"]),pn.table&&(ds(pn,["tbody"]),delete Qt.tbody),Xc&&Xc(ct),Vy=ct)},iN=ds({},["mi","mo","mn","ms","mtext"]),cI=ds({},["foreignobject","desc","title","annotation-xml"]),lN=ds({},["title","style","font","a","script"]),Ah=ds({},KC);ds(Ah,RT),ds(Ah,X3);var Hy=ds({},QD);ds(Hy,A9);var qe=function(ct){var gn=xe(ct);(!gn||!gn.tagName)&&(gn={namespaceURI:zd,tagName:"template"});var Un=TT(ct.tagName),Lr=TT(gn.tagName);return ct.namespaceURI===Ih?gn.namespaceURI===zd?Un==="svg":gn.namespaceURI===Pd?Un==="svg"&&(Lr==="annotation-xml"||iN[Lr]):Boolean(Ah[Un]):ct.namespaceURI===Pd?gn.namespaceURI===zd?Un==="math":gn.namespaceURI===Ih?Un==="math"&&cI[Lr]:Boolean(Hy[Un]):ct.namespaceURI===zd?gn.namespaceURI===Ih&&!cI[Lr]||gn.namespaceURI===Pd&&!iN[Lr]?!1:!Hy[Un]&&(lN[Un]||!Ah[Un]):!1},Ke=function(ct){qC(s.removed,{element:ct});try{ct.parentNode.removeChild(ct)}catch{try{ct.outerHTML=kt}catch{ct.remove()}}},$t=function(ct,gn){try{qC(s.removed,{attribute:gn.getAttributeNode(ct),from:gn})}catch{qC(s.removed,{attribute:null,from:gn})}if(gn.removeAttribute(ct),ct==="is"&&!Jt[ct])if(mr||rs)try{Ke(gn)}catch{}else try{gn.setAttribute(ct,"")}catch{}},Mt=function(ct){var gn,Un;if(As)ct="<remove></remove>"+ct;else{var Lr=YD(ct,/^[\r\n\t ]+/);Un=Lr&&Lr[0]}Va==="application/xhtml+xml"&&(ct='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ct+"</body></html>");var Uu=We?We.createHTML(ct):ct;if(Nd===zd)try{gn=new X().parseFromString(Uu,Va)}catch{}if(!gn||!gn.documentElement){gn=Bt.createDocument(Nd,"template",null);try{gn.documentElement.innerHTML=Om?"":Uu}catch{}}var Ql=gn.body||gn.documentElement;return ct&&Un&&Ql.insertBefore(l.createTextNode(Un),Ql.childNodes[0]||null),Nd===zd?on.call(gn,Vo?"html":"body")[0]:Vo?gn.documentElement:Ql},En=function(ct){return tt.call(ct.ownerDocument||ct,ct,I.SHOW_ELEMENT|I.SHOW_COMMENT|I.SHOW_TEXT,null,!1)},Bo=function(ct){return ct instanceof U&&(typeof ct.nodeName!="string"||typeof ct.textContent!="string"||typeof ct.removeChild!="function"||!(ct.attributes instanceof W)||typeof ct.removeAttribute!="function"||typeof ct.setAttribute!="function"||typeof ct.namespaceURI!="string"||typeof ct.insertBefore!="function")},Bs=function(ct){return Ey(v)==="object"?ct instanceof v:ct&&Ey(ct)==="object"&&typeof ct.nodeType=="number"&&typeof ct.nodeName=="string"},Fs=function(ct,gn,Un){!so[ct]||q3(so[ct],function(Lr){Lr.call(s,gn,Un,Vy)})},Ld=function(ct){var gn;if(Fs("beforeSanitizeElements",ct,null),Bo(ct)||Rl(/[\u0080-\uFFFF]/,ct.nodeName))return Ke(ct),!0;var Un=If(ct.nodeName);if(Fs("uponSanitizeElement",ct,{tagName:Un,allowedTags:pn}),ct.hasChildNodes()&&!Bs(ct.firstElementChild)&&(!Bs(ct.content)||!Bs(ct.content.firstElementChild))&&Rl(/<[/\w]/g,ct.innerHTML)&&Rl(/<[/\w]/g,ct.textContent)||Un==="select"&&Rl(/<template/i,ct.innerHTML))return Ke(ct),!0;if(!pn[Un]||Qt[Un]){if(!Qt[Un]&&z8(Un)&&(Pn.tagNameCheck instanceof RegExp&&Rl(Pn.tagNameCheck,Un)||Pn.tagNameCheck instanceof Function&&Pn.tagNameCheck(Un)))return!1;if(Md&&!Hu[Un]){var Lr=xe(ct)||ct.parentNode,Uu=Ae(ct)||ct.childNodes;if(Uu&&Lr)for(var Ql=Uu.length,ec=Ql-1;ec>=0;--ec)Lr.insertBefore(se(Uu[ec],!0),he(ct))}return Ke(ct),!0}return ct instanceof S&&!qe(ct)||(Un==="noscript"||Un==="noembed")&&Rl(/<\/no(script|embed)/i,ct.innerHTML)?(Ke(ct),!0):(Kn&&ct.nodeType===3&&(gn=ct.textContent,gn=kf(gn,So," "),gn=kf(gn,ts," "),ct.textContent!==gn&&(qC(s.removed,{element:ct.cloneNode()}),ct.textContent=gn)),Fs("afterSanitizeElements",ct,null),!1)},n1=function(ct,gn,Un){if(sa&&(gn==="id"||gn==="name")&&(Un in l||Un in K_))return!1;if(!(mi&&!po[gn]&&Rl(vs,gn))){if(!(ao&&Rl(Tr,gn))){if(!Jt[gn]||po[gn]){if(!(z8(ct)&&(Pn.tagNameCheck instanceof RegExp&&Rl(Pn.tagNameCheck,ct)||Pn.tagNameCheck instanceof Function&&Pn.tagNameCheck(ct))&&(Pn.attributeNameCheck instanceof RegExp&&Rl(Pn.attributeNameCheck,gn)||Pn.attributeNameCheck instanceof Function&&Pn.attributeNameCheck(gn))||gn==="is"&&Pn.allowCustomizedBuiltInElements&&(Pn.tagNameCheck instanceof RegExp&&Rl(Pn.tagNameCheck,Un)||Pn.tagNameCheck instanceof Function&&Pn.tagNameCheck(Un))))return!1}else if(!Rf[gn]){if(!Rl(Ft,kf(Un,$a,""))){if(!((gn==="src"||gn==="xlink:href"||gn==="href")&&ct!=="script"&&K3(Un,"data:")===0&&t1[ct])){if(!(js&&!Rl(Ki,kf(Un,$a,"")))){if(Un)return!1}}}}}}return!0},z8=function(ct){return ct.indexOf("-")>0},$S=function(ct){var gn,Un,Lr,Uu;Fs("beforeSanitizeAttributes",ct,null);var Ql=ct.attributes;if(!!Ql){var ec={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Jt};for(Uu=Ql.length;Uu--;){gn=Ql[Uu];var uI=gn,tc=uI.name,xc=uI.namespaceURI;Un=tc==="value"?gn.value:Y3(gn.value),Lr=If(tc);var Mm=Un;if(ec.attrName=Lr,ec.attrValue=Un,ec.keepAttr=!0,ec.forceKeepAttr=void 0,Fs("uponSanitizeAttribute",ct,ec),Un=ec.attrValue,!ec.forceKeepAttr){if(!ec.keepAttr){$t(tc,ct);continue}if(Rl(/\/>/i,Un)){$t(tc,ct);continue}Kn&&(Un=kf(Un,So," "),Un=kf(Un,ts," "));var tX=If(ct.nodeName);if(!n1(tX,Lr,Un)){$t(tc,ct);continue}if(Un!==Mm)try{xc?ct.setAttributeNS(xc,tc,Un):ct.setAttribute(tc,Un)}catch{$t(tc,ct)}}}Fs("afterSanitizeAttributes",ct,null)}},Oh=function ho(ct){var gn,Un=En(ct);for(Fs("beforeSanitizeShadowDOM",ct,null);gn=Un.nextNode();)Fs("uponSanitizeShadowNode",gn,null),!Ld(gn)&&(gn.content instanceof h&&ho(gn.content),$S(gn));Fs("afterSanitizeShadowDOM",ct,null)};return s.sanitize=function(ho,ct){var gn,Un,Lr,Uu,Ql;if(Om=!ho,Om&&(ho="<!-->"),typeof ho!="string"&&!Bs(ho)){if(typeof ho.toString!="function")throw XD("toString is not a function");if(ho=ho.toString(),typeof ho!="string")throw XD("dirty is not a string, aborting")}if(!s.isSupported){if(Ey(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof ho=="string")return e.toStaticHTML(ho);if(Bs(ho))return e.toStaticHTML(ho.outerHTML)}return ho}if(Gr||X_(ct),s.removed=[],typeof ho=="string"&&(Yi=!1),Yi){if(ho.nodeName){var ec=If(ho.nodeName);if(!pn[ec]||Qt[ec])throw XD("root node is forbidden and cannot be sanitized in-place")}}else if(ho instanceof v)gn=Mt("<!---->"),Un=gn.ownerDocument.importNode(ho,!0),Un.nodeType===1&&Un.nodeName==="BODY"||Un.nodeName==="HTML"?gn=Un:gn.appendChild(Un);else{if(!mr&&!Kn&&!Vo&&ho.indexOf("<")===-1)return We&&Ws?We.createHTML(ho):ho;if(gn=Mt(ho),!gn)return mr?null:Ws?kt:""}gn&&As&&Ke(gn.firstChild);for(var uI=En(Yi?ho:gn);Lr=uI.nextNode();)Lr.nodeType===3&&Lr===Uu||Ld(Lr)||(Lr.content instanceof h&&Oh(Lr.content),$S(Lr),Uu=Lr);if(Uu=null,Yi)return ho;if(mr){if(rs)for(Ql=nt.call(gn.ownerDocument);gn.firstChild;)Ql.appendChild(gn.firstChild);else Ql=gn;return Jt.shadowroot&&(Ql=Cn.call(a,Ql,!0)),Ql}var tc=Vo?gn.outerHTML:gn.innerHTML;return Vo&&pn["!doctype"]&&gn.ownerDocument&&gn.ownerDocument.doctype&&gn.ownerDocument.doctype.name&&Rl(tB,gn.ownerDocument.doctype.name)&&(tc="<!DOCTYPE "+gn.ownerDocument.doctype.name+`>
`+tc),Kn&&(tc=kf(tc,So," "),tc=kf(tc,ts," ")),We&&Ws?We.createHTML(tc):tc},s.setConfig=function(ho){X_(ho),Gr=!0},s.clearConfig=function(){Vy=null,Gr=!1},s.isValidAttribute=function(ho,ct,gn){Vy||X_({});var Un=If(ho),Lr=If(ct);return n1(Un,Lr,gn)},s.addHook=function(ho,ct){typeof ct=="function"&&(so[ho]=so[ho]||[],qC(so[ho],ct))},s.removeHook=function(ho){if(so[ho])return I9(so[ho])},s.removeHooks=function(ho){so[ho]&&(so[ho]=[])},s.removeAllHooks=function(){so={}},s}var oB=nB();const sB=xt.each,oM=xt.trim,sM=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],rM={ftp:21,http:80,https:443,mailto:25},rB=["img","video"],aB=(e,s)=>Ue(e)?!e:Ue(s)?!Oe(rB,s):!0,z9=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},wh=(e,s,a)=>{const l=z9(s).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(l)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(l)?aB(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(l):/^data:/i.test(l)};class Td{constructor(s,a={}){this.path="",this.directory="",s=oM(s),this.settings=a;const l=a.base_uri,h=this;if(/^([\w\-]+):([^\/]{2})/i.test(s)||/^\s*#/.test(s)){h.source=s;return}const g=s.indexOf("//")===0;if(s.indexOf("/")===0&&!g&&(s=(l&&l.protocol||"http")+"://mce_host"+s),!/^[\w\-]*:?\/\//.test(s)){const S=l?l.path:new Td(document.location.href).directory;if((l==null?void 0:l.protocol)==="")s="//mce_host"+h.toAbsPath(S,s);else{const I=/([^#?]*)([#?]?.*)/.exec(s);I&&(s=(l&&l.protocol||"http")+"://mce_host"+h.toAbsPath(S,I[1])+I[2])}}s=s.replace(/@@/g,"(mce_at)");const v=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(s);v&&sB(sM,(S,I)=>{let z=v[I];z&&(z=z.replace(/\(mce_at\)/g,"@@")),h[S]=z}),l&&(h.protocol||(h.protocol=l.protocol),h.userInfo||(h.userInfo=l.userInfo),!h.port&&h.host==="mce_host"&&(h.port=l.port),(!h.host||h.host==="mce_host")&&(h.host=l.host),h.source=""),g&&(h.protocol="")}static parseDataUri(s){let a;const l=decodeURIComponent(s).split(","),h=/data:([^;]+)/.exec(l[0]);return h&&(a=h[1]),{type:a,data:l[1]}}static isDomSafe(s,a,l={}){if(l.allow_script_urls)return!0;{const h=ll.decode(s).replace(/[\s\u0000-\u001F]+/g,"");return!wh(l,h,a)}}static getDocumentBaseUrl(s){var a;let l;return s.protocol.indexOf("http")!==0&&s.protocol!=="file:"?l=(a=s.href)!==null&&a!==void 0?a:"":l=s.protocol+"//"+s.host+s.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(l)&&(l=l.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(l)||(l+="/")),l}setPath(s){const a=/^(.*?)\/?(\w+)?$/.exec(s);a&&(this.path=a[0],this.directory=a[1],this.file=a[2]),this.source="",this.getURI()}toRelative(s){if(s==="./")return s;const a=new Td(s,{base_uri:this});if(a.host!=="mce_host"&&this.host!==a.host&&a.host||this.port!==a.port||this.protocol!==a.protocol&&a.protocol!=="")return a.getURI();const l=this.getURI(),h=a.getURI();if(l===h||l.charAt(l.length-1)==="/"&&l.substr(0,l.length-1)===h)return l;let g=this.toRelPath(this.path,a.path);return a.query&&(g+="?"+a.query),a.anchor&&(g+="#"+a.anchor),g}toAbsolute(s,a){const l=new Td(s,{base_uri:this});return l.getURI(a&&this.isSameOrigin(l))}isSameOrigin(s){if(this.host==s.host&&this.protocol==s.protocol){if(this.port==s.port)return!0;const a=this.protocol?rM[this.protocol]:null;if(a&&(this.port||a)==(s.port||a))return!0}return!1}toRelPath(s,a){let l=0,h="",g,v;const S=s.substring(0,s.lastIndexOf("/")).split("/"),I=a.split("/");if(S.length>=I.length){for(g=0,v=S.length;g<v;g++)if(g>=I.length||S[g]!==I[g]){l=g+1;break}}if(S.length<I.length){for(g=0,v=I.length;g<v;g++)if(g>=S.length||S[g]!==I[g]){l=g+1;break}}if(l===1)return a;for(g=0,v=S.length-(l-1);g<v;g++)h+="../";for(g=l-1,v=I.length;g<v;g++)g!==l-1?h+="/"+I[g]:h+=I[g];return h}toAbsPath(s,a){let l=0;const h=/\/$/.test(a)?"/":"",g=s.split("/"),v=a.split("/"),S=[];sB(g,U=>{U&&S.push(U)});const I=[];for(let U=v.length-1;U>=0;U--)if(!(v[U].length===0||v[U]===".")){if(v[U]===".."){l++;continue}if(l>0){l--;continue}I.push(v[U])}const z=S.length-l;let W;return z<=0?W=_n(I).join("/"):W=S.slice(0,z).join("/")+"/"+_n(I).join("/"),W.indexOf("/")!==0&&(W="/"+W),h&&W.lastIndexOf("/")!==W.length-1&&(W+=h),W}getURI(s=!1){let a;return(!this.source||s)&&(a="",s||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source}}const N9=xt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),aM="data-mce-type";let iM=0;const lM=(e,s,a,l)=>{var h,g,v,S;const I=s.validate,z=a.getSpecialElements();e.nodeType===Ur&&!s.allow_conditional_comments&&/^\[if/i.test((h=e.nodeValue)!==null&&h!==void 0?h:"")&&(e.nodeValue=" "+e.nodeValue);const W=(g=l==null?void 0:l.tagName)!==null&&g!==void 0?g:e.nodeName.toLowerCase();if(e.nodeType!==qd||W==="body")return;const U=ve.fromDom(e),X=qa(U,aM),fe=Li(U,"data-mce-bogus");if(!X&&ee(fe)){fe==="all"?ps(U):Dr(U);return}const pe=a.getElementRule(W);if(I&&!pe){Fn(z,W)?ps(U):Dr(U);return}else Ue(l)&&(l.allowedTags[W]=!0);if(I&&pe&&!X){if(ce((v=pe.attributesForced)!==null&&v!==void 0?v:[],se=>{kr(U,se.name,se.value==="{$uid}"?`mce_${iM++}`:se.value)}),ce((S=pe.attributesDefault)!==null&&S!==void 0?S:[],se=>{qa(U,se.name)||kr(U,se.name,se.value==="{$uid}"?`mce_${iM++}`:se.value)}),pe.attributesRequired&&!yt(pe.attributesRequired,se=>qa(U,se))){Dr(U);return}if(pe.removeEmptyAttrs&&vl(U)){Dr(U);return}pe.outputName&&pe.outputName!==W&&wA(U,pe.outputName)}},h_=(e,s,a,l,h)=>!(l in N9&&wh(e,h,a))&&(!e.validate||s.isValid(a,l)||Rr(l,"data-")||Rr(l,"aria-")),iB=(e,s)=>e.hasAttribute(aM)&&(s==="id"||s==="class"||s==="style"),lB=(e,s)=>e in s.getBoolAttrs(),L9=(e,s,a)=>{const{attributes:l}=e;for(let h=l.length-1;h>=0;h--){const g=l[h],v=g.name,S=g.value;!h_(s,a,e.tagName.toLowerCase(),v,S)&&!iB(e,v)?e.removeAttribute(v):lB(v,a)&&e.setAttribute(v,v)}},B9=(e,s)=>{const a=oB();return a.addHook("uponSanitizeElement",(l,h)=>{lM(l,e,s,h)}),a.addHook("uponSanitizeAttribute",(l,h)=>{const g=l.tagName.toLowerCase(),{attrName:v,attrValue:S}=h;h.keepAttr=h_(e,s,g,v,S),h.keepAttr?(h.allowedAttributes[v]=!0,lB(v,s)&&(h.attrValue=v),e.allow_svg_data_urls&&Rr(S,"data:image/svg+xml")&&(h.forceKeepAttr=!0)):iB(l,v)&&(h.forceKeepAttr=!0)}),a},F9=(e,s)=>{const l={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return l.PARSER_MEDIA_TYPE=s,e.allow_script_urls?l.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(l.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),l},cB=(e,s)=>{if(e.sanitize){const a=B9(e,s);return(l,h)=>{a.sanitize(l,F9(e,h)),a.removed=[]}}else return(a,l)=>{const h=document.createNodeIterator(a,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let g;for(;g=h.nextNode();)lM(g,e,s),mt(g)&&L9(g,e,s)}},uB=xt.makeMap,dB=xt.extend,fB=(e,s,a)=>{const l=e.name,h=l in a&&l!=="title"&&l!=="textarea",g=s.childNodes;for(let v=0,S=g.length;v<S;v++){const I=g[v],z=new kc(I.nodeName.toLowerCase(),I.nodeType);if(mt(I)){const W=I.attributes;for(let U=0,X=W.length;U<X;U++){const fe=W[U];z.attr(fe.name,fe.value)}}else Pt(I)?(z.value=I.data,h&&(z.raw=!0)):(ld(I)||gb(I)||j0(I))&&(z.value=I.data);fB(z,I,a),e.append(z)}},hB=(e,s,a)=>{const l=[];for(let h=e,g=h;h;g=h,h=h.walk()){const v=h;ce(s,S=>S(v)),_t(v.parent)&&v!==e?h=g:l.push(v)}for(let h=l.length-1;h>=0;h--){const g=l[h];ce(a,v=>v(g))}},cM=(e,s,a,l)=>{const h=a.validate,g=s.getNonEmptyElements(),v=s.getWhitespaceElements(),S=dB(uB("script,style,head,html,body,title,meta,param"),s.getBlockElements()),I=ek(s),z=/[ \t\r\n]+/g,W=/^[ \t\r\n]+/,U=/[ \t\r\n]+$/,X=xe=>{let Me=xe.parent;for(;Ue(Me);){if(Me.name in v)return!0;Me=Me.parent}return!1},fe=xe=>{let Me=xe;for(;Ue(Me);){if(Me.name in I)return wf(s,g,v,Me);Me=Me.parent}return!1},pe=xe=>xe.name in S&&!X0(s,xe),se=(xe,Me)=>{const We=Me?xe.prev:xe.next;return Ue(We)||_t(xe.parent)?!1:pe(xe.parent)&&(xe.parent!==e||l.isRootContent===!0)};return[xe=>{var Me;if(xe.type===3&&!X(xe)){let We=(Me=xe.value)!==null&&Me!==void 0?Me:"";We=We.replace(z," "),(XL(xe.prev,pe)||se(xe,!0))&&(We=We.replace(W,"")),We.length===0?xe.remove():xe.value=We}},xe=>{var Me;if(xe.type===1){const We=s.getElementRule(xe.name);if(h&&We){const kt=wf(s,g,v,xe);We.paddInEmptyBlock&&kt&&fe(xe)?wy(l,pe,xe):We.removeEmpty&&kt?pe(xe)?xe.remove():xe.unwrap():We.paddEmpty&&(kt||wD(xe))&&wy(l,pe,xe)}}else if(xe.type===3&&!X(xe)){let We=(Me=xe.value)!==null&&Me!==void 0?Me:"";(xe.next&&pe(xe.next)||se(xe,!1))&&(We=We.replace(U,"")),We.length===0?xe.remove():xe.value=We}}]},mB=(e,s)=>{var a;const l=(a=s.forced_root_block)!==null&&a!==void 0?a:e.forced_root_block;return l===!1?"":l===!0?"p":l},Nv=(e={},s=Wl())=>{const a=B3(),l=B3(),h={validate:!0,root_name:"body",sanitize:!0,...e},g=new DOMParser,v=cB(h,s),S=(Me,We,kt="html")=>{const Zt=kt==="xhtml"?"application/xhtml+xml":"text/html",Bt=Fn(s.getSpecialElements(),We.toLowerCase()),tt=Bt?`<${We}>${Me}</${We}>`:Me,nt=kt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${tt}</body></html>`:`<body>${tt}</body>`,on=g.parseFromString(nt,Zt).body;return v(on,Zt),Bt?on.firstChild:on},I=a.addFilter,z=a.getFilters,W=a.removeFilter,U=l.addFilter,X=l.getFilters,fe=l.removeFilter,pe=(Me,We)=>{PH(s,Me)&&We.push(Me)},se=(Me,We)=>{const kt=ee(We.attr(aM)),Zt=We.type===1&&!Fn(Me,We.name)&&!Tx(s,We);return We.type===3||Zt&&!kt},he=(Me,We)=>{const kt=dB(uB("script,style,head,html,body,title,meta,param"),s.getBlockElements()),Zt=/^[ \t\r\n]+/,Bt=/[ \t\r\n]+$/;let tt=Me.firstChild,nt=null;const on=Cn=>{var On,so;Cn&&(tt=Cn.firstChild,tt&&tt.type===3&&(tt.value=(On=tt.value)===null||On===void 0?void 0:On.replace(Zt,"")),tt=Cn.lastChild,tt&&tt.type===3&&(tt.value=(so=tt.value)===null||so===void 0?void 0:so.replace(Bt,"")))};if(!!s.isValidChild(Me.name,We.toLowerCase())){for(;tt;){const Cn=tt.next;se(kt,tt)?(nt||(nt=new kc(We,1),nt.attr(h.forced_root_block_attrs),Me.insert(nt,tt)),nt.append(tt)):(on(nt),nt=null),tt=Cn}on(nt)}},xe={schema:s,addAttributeFilter:U,getAttributeFilters:X,removeAttributeFilter:fe,addNodeFilter:I,getNodeFilters:z,removeNodeFilter:W,parse:(Me,We={})=>{var kt;const Zt=h.validate,Bt=(kt=We.context)!==null&&kt!==void 0?kt:h.root_name,tt=S(Me,Bt,We.format);wb(s,tt);const nt=new kc(Bt,11);fB(nt,tt,s.getSpecialElements()),tt.innerHTML="";const[on,Cn]=cM(nt,s,h,We),On=[],so=Zt?Tr=>pe(Tr,On):Ot,So={nodes:{},attributes:{}},ts=Tr=>rT(z(),X(),Tr,So);if(hB(nt,[on,ts],[Cn,so]),On.reverse(),Zt&&On.length>0)if(We.context){const{pass:Tr,fail:Ki}=et(On,$a=>$a.parent===nt);cT(Ki,s,nt,ts),We.invalid=Tr.length>0}else cT(On,s,nt,ts);const vs=mB(h,We);return vs&&(nt.name==="body"||We.isRootContent)&&he(nt,vs),We.invalid||aT(So,We),nt}};return k9(xe,h),Wee(xe,h,s),xe},uM=e=>xv(e)?yy({validate:!1}).serialize(e):e,dM=(e,s,a)=>{const l=uM(e),h=s(l);if(h.isDefaultPrevented())return h;if(xv(e))if(h.content!==l){const g=Nv({validate:!1,forced_root_block:!1,sanitize:a}).parse(h.content,{context:e.name});return{...h,content:g}}else return{...h,content:e};else return h},fM=(e,s)=>{if(s.no_events)return Xs.value(s);{const a=x2(e,s);return a.isDefaultPrevented()?Xs.error(qw(e,{content:"",...a}).content):Xs.value(a)}},hM=(e,s,a)=>a.no_events?s:dM(s,h=>qw(e,{...a,content:h}),_w(e)).content,OT=(e,s)=>{if(s.no_events)return Xs.value(s);{const a=dM(s.content,l=>S2(e,{...s,content:l}),_w(e));return a.isDefaultPrevented()?(Gw(e,a),Xs.error(void 0)):Xs.value(a)}},mM=(e,s,a)=>{a.no_events||Gw(e,{...a,content:s})},XC=(e,s,a)=>({element:e,width:s,rows:a}),pB=(e,s)=>({element:e,cells:s}),DT=(e,s)=>({x:e,y:s}),gB=(e,s)=>Lc(e,s).bind(Pc).getOr(1),$9=(e,s,a,l,h)=>{const g=gB(h,"rowspan"),v=gB(h,"colspan"),S=e.rows;for(let I=a;I<a+g;I++){S[I]||(S[I]=pB(Qx(l),[]));for(let z=s;z<s+v;z++){const W=S[I].cells;W[z]=I===a&&z===s?h:im(h)}}},V9=(e,s,a)=>{const l=e.rows;return!!(l[a]?l[a].cells:[])[s]},yB=(e,s,a)=>{for(;V9(e,s,a);)s++;return s},pM=e=>be(e,(s,a)=>a.cells.length>s?a.cells.length:s,0),bB=(e,s)=>{const a=e.rows;for(let l=0;l<a.length;l++){const h=a[l].cells;for(let g=0;g<h.length;g++)if(Xo(h[g],s))return j.some(DT(g,l))}return j.none()},vB=(e,s,a,l,h)=>{const g=[],v=e.rows;for(let S=a;S<=h;S++){const I=v[S].cells,z=s<l?I.slice(s,l+1):I.slice(l,s+1);g.push(pB(v[S].element,z))}return g},H9=(e,s,a)=>{const l=s.x,h=s.y,g=a.x,v=a.y,S=h<v?vB(e,l,h,g,v):vB(e,l,v,g,h);return XC(e.element,pM(S),S)},U9=(e,s)=>{const a=im(e.element),l=ve.fromTag("tbody");return rd(l,s),nr(a,l),a},wB=e=>Ye(e.rows,s=>{const a=Ye(s.cells,h=>{const g=Qx(h);return Ar(g,"colspan"),Ar(g,"rowspan"),g}),l=im(s.element);return rd(l,a),l}),qee=e=>{const s=XC(im(e),0,[]);return ce(Ia(e,"tr"),(a,l)=>{ce(Ia(a,"td,th"),(h,g)=>{$9(s,yB(s,g,l),l,a,h)})}),XC(s.element,pM(s.rows),s.rows)},j9=e=>U9(e,wB(e)),W9=(e,s,a)=>bB(e,s).bind(l=>bB(e,a).map(h=>H9(e,l,h))),Z9=e=>ut(e,s=>Cs(s)==="ul"||Cs(s)==="ol"),G9=(e,s)=>ut(e,a=>Cs(a)==="li"&&f2(a,s)).fold(ot([]),a=>Z9(e).map(l=>{const h=ve.fromTag(Cs(l)),g=ws(kl(l),(v,S)=>Rr(S,"list-style"));return Qm(h,g),[ve.fromTag("li"),h]}).getOr([])),q9=(e,s)=>{const a=be(s,(l,h)=>(nr(h,l),h),e);return s.length>0?mv([a]):a},K9=e=>ci(e)?Ll(e).filter(Be).fold(ot([]),s=>[e,s]):Be(e)?[e]:[],Y9=(e,s)=>{const a=ve.fromDom(s.commonAncestorContainer),l=Lp(a,e),h=$e(l,jr),g=G9(l,s),v=h.concat(g.length?g:K9(a));return Ye(v,im)},gM=()=>mv([]),X9=(e,s)=>q9(ve.fromDom(s.cloneContents()),Y9(e,s)),J9=(e,s)=>Ra(s,"table",it(Xo,e)),Q9=(e,s)=>J9(e,s[0]).bind(a=>{const l=s[0],h=s[s.length-1],g=qee(a);return W9(g,l,h).map(v=>mv([j9(v)]))}).getOrThunk(gM),eU=(e,s)=>s.length>0&&s[0].collapsed?gM():X9(e,s[0]),tU=(e,s)=>{const a=d2(s,e);return a.length>0?Q9(e,a):eU(e,s)},yM=(e,s)=>s>=0&&s<e.length&&sy(e.charAt(s)),nU=e=>at(e.innerText),oU=e=>e.map(s=>s.nodeName).getOr("div").toLowerCase(),sU=e=>j.from(e.selection.getRng()).map(s=>{var a;const l=j.from(e.dom.getParent(s.commonAncestorContainer,e.dom.isBlock)),h=e.getBody(),g=oU(l),v=ve.fromDom(s.cloneContents());q4(v),K4(v);const S=e.dom.add(h,g,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},v.dom),I=nU(S),z=at((a=S.textContent)!==null&&a!==void 0?a:"");if(e.dom.remove(S),yM(z,0)||yM(z,z.length-1)){const W=l.getOr(h),U=nU(W),X=U.indexOf(I);if(X===-1)return I;{const fe=yM(U,X-1),pe=yM(U,X+I.length);return(fe?" ":"")+I+(pe?" ":"")}}else return I}).getOr(""),Kee=(e,s)=>{const a=e.selection.getRng(),l=e.dom.create("body"),h=e.selection.getSel(),g=jO(e,ev(h)),v=s.contextual?tU(ve.fromDom(e.getBody()),g).dom:a.cloneContents();return v&&l.appendChild(v),e.selection.serializer.serialize(l,s)},rU=(e,s)=>{if(s.format==="text")return sU(e);{const a=Kee(e,s);return s.format==="tree"?a:e.selection.isCollapsed()?"":a}},Er=(e,s)=>({...e,format:s,get:!0,selection:!0,getInner:!0}),bM=(e,s,a={})=>{const l=Er(a,s);return fM(e,l).fold(Bn,h=>{const g=rU(e,h);return hM(e,g,h)})},_B=0,kB=1,CB=2,m_=(e,s)=>{const a=e.length+s.length+2,l=new Array(a),h=new Array(a),g=(W,U,X)=>({start:W,end:U,diag:X}),v=(W,U,X,fe,pe)=>{const se=I(W,U,X,fe);if(se===null||se.start===U&&se.diag===U-fe||se.end===W&&se.diag===W-X){let he=W,Ae=X;for(;he<U||Ae<fe;)he<U&&Ae<fe&&e[he]===s[Ae]?(pe.push([_B,e[he]]),++he,++Ae):U-W>fe-X?(pe.push([CB,e[he]]),++he):(pe.push([kB,s[Ae]]),++Ae)}else{v(W,se.start,X,se.start-se.diag,pe);for(let he=se.start;he<se.end;++he)pe.push([_B,e[he]]);v(se.end,U,se.end-se.diag,fe,pe)}},S=(W,U,X,fe)=>{let pe=W;for(;pe-U<fe&&pe<X&&e[pe]===s[pe-U];)++pe;return g(W,pe,U)},I=(W,U,X,fe)=>{const pe=U-W,se=fe-X;if(pe===0||se===0)return null;const he=pe-se,Ae=se+pe,xe=(Ae%2===0?Ae:Ae+1)/2;l[1+xe]=W,h[1+xe]=U+1;let Me,We,kt,Zt,Bt;for(Me=0;Me<=xe;++Me){for(We=-Me;We<=Me;We+=2){for(kt=We+xe,We===-Me||We!==Me&&l[kt-1]<l[kt+1]?l[kt]=l[kt+1]:l[kt]=l[kt-1]+1,Zt=l[kt],Bt=Zt-W+X-We;Zt<U&&Bt<fe&&e[Zt]===s[Bt];)l[kt]=++Zt,++Bt;if(he%2!==0&&he-Me<=We&&We<=he+Me&&h[kt-he]<=l[kt])return S(h[kt-he],We+W-X,U,fe)}for(We=he-Me;We<=he+Me;We+=2){for(kt=We+xe-he,We===he-Me||We!==he+Me&&h[kt+1]<=h[kt-1]?h[kt]=h[kt+1]-1:h[kt]=h[kt-1],Zt=h[kt]-1,Bt=Zt-W+X-We;Zt>=W&&Bt>=X&&e[Zt]===s[Bt];)h[kt]=Zt--,Bt--;if(he%2===0&&-Me<=We&&We<=Me&&h[kt]<=l[kt+he])return S(h[kt],We+W-X,U,fe)}}return null},z=[];return v(0,e.length,0,s.length,z),z},aU=e=>mt(e)?e.outerHTML:Pt(e)?ll.encodeRaw(e.data,!1):ld(e)?"<!--"+e.data+"-->":"",Yee=e=>{let s;const a=document.createElement("div"),l=document.createDocumentFragment();for(e&&(a.innerHTML=e);s=a.firstChild;)l.appendChild(s);return l},qi=(e,s,a)=>{const l=Yee(s);if(e.hasChildNodes()&&a<e.childNodes.length){const h=e.childNodes[a];e.insertBefore(l,h)}else e.appendChild(l)},SB=(e,s)=>{if(e.hasChildNodes()&&s<e.childNodes.length){const a=e.childNodes[s];e.removeChild(a)}},xB=(e,s)=>{let a=0;ce(e,l=>{l[0]===_B?a++:l[0]===kB?(qi(s,l[1],a),a++):l[0]===CB&&SB(s,a)})},EB=e=>$e(Ye(zs(e.childNodes),aU),s=>s.length>0),iU=(e,s)=>{const a=Ye(zs(s.childNodes),aU);return xB(m_(a,e),s),s},lU=ic(()=>document.implementation.createHTMLDocument("undo")),MT=e=>e.indexOf("</iframe>")!==-1,cU=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),vM=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),PT=e=>{const s=EB(e.getBody()),a=Vt(s,h=>{const g=G4(e.serializer,h);return g.length>0?[g]:[]}),l=a.join("");return MT(l)?cU(a):vM(l)},zT=(e,s,a)=>{const l=a?s.beforeBookmark:s.bookmark;s.type==="fragmented"?iU(s.fragments,e.getBody()):e.setContent(s.content,{format:"raw",no_selection:Ue(l)&&Dw(l)?!l.isFakeCaret:!0}),l&&(e.selection.moveToBookmark(l),e.selection.scrollIntoView())},NT=e=>e.type==="fragmented"?e.fragments.join(""):e.content,LT=e=>{const s=ve.fromTag("body",lU());return tf(s,NT(e)),ce(Ia(s,"*[data-mce-bogus]"),Dr),Kf(s)},TB=(e,s)=>NT(e)===NT(s),wM=(e,s)=>LT(e)===LT(s),_M=(e,s)=>!e||!s?!1:TB(e,s)?!0:wM(e,s),kM=e=>e.get()===0,BT=(e,s,a)=>{kM(a)&&(e.typing=s)},Lu=(e,s)=>{e.typing&&(BT(e,!1,s),e.add())},uU=e=>{e.typing&&(e.typing=!1,e.add())},dU=(e,s,a)=>{kM(s)&&a.set(yk(e.selection))},fU=(e,s,a,l,h,g,v)=>{const S=PT(e),I=xt.extend(g||{},S);if(!kM(l)||e.removed)return null;const z=s.data[a.get()];if(e.dispatch("BeforeAddUndo",{level:I,lastLevel:z,originalEvent:v}).isDefaultPrevented()||z&&_M(z,I))return null;s.data[a.get()]&&h.get().each(X=>{s.data[a.get()].beforeBookmark=X});const W=zA(e);if(W&&s.data.length>W){for(let X=0;X<s.data.length-1;X++)s.data[X]=s.data[X+1];s.data.length--,a.set(s.data.length)}I.bookmark=yk(e.selection),a.get()<s.data.length-1&&(s.data.length=a.get()+1),s.data.push(I),a.set(s.data.length-1);const U={level:I,lastLevel:z,originalEvent:v};return a.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",U),e.dispatch("change",U)):e.dispatch("AddUndo",U),I},hU=(e,s,a)=>{s.data=[],a.set(0),s.typing=!1,e.dispatch("ClearUndos")},mU=(e,s,a,l,h)=>{if(s.transact(l)){const g=s.data[a.get()].bookmark,v=s.data[a.get()-1];zT(e,v,!0),s.transact(h)&&(s.data[a.get()-1].beforeBookmark=g)}},RB=(e,s,a)=>{let l;return s.get()<a.length-1&&(s.set(s.get()+1),l=a[s.get()],zT(e,l,!1),e.setDirty(!0),e.dispatch("Redo",{level:l})),l},pU=(e,s,a,l)=>{let h;return s.typing&&(s.add(),s.typing=!1,BT(s,!1,a)),l.get()>0&&(l.set(l.get()-1),h=s.data[l.get()],zT(e,h,!0),e.setDirty(!0),e.dispatch("Undo",{level:h})),h},gU=e=>{e.clear(),e.add()},yU=(e,s,a)=>a.get()>0||s.typing&&s.data[0]&&!_M(PT(e),s.data[0]),FT=(e,s)=>s.get()<e.data.length-1&&!e.typing,bU=(e,s,a)=>(Lu(e,s),e.beforeChange(),e.ignore(a),e.add()),vU=(e,s)=>{try{e.set(e.get()+1),s()}finally{e.set(e.get()-1)}},IB=(e,s)=>{const a=e.dom,l=Ue(s)?s:e.getBody();ce(a.select("table,a",l),h=>{switch(h.nodeName){case"TABLE":const g=BA(e),v=a.getAttrib(h,"border");(!v||v==="0")&&e.hasVisual?a.addClass(h,g):a.removeClass(h,g);break;case"A":if(!a.getAttrib(h,"href")){const S=a.getAttrib(h,"name")||h.id,I=zE(e);S&&e.hasVisual?a.addClass(h,I):a.removeClass(h,I)}break}}),e.dispatch("VisualAid",{element:s,hasVisual:e.hasVisual})},$T=e=>({init:{bindEvents:Ot},undoManager:{beforeChange:(s,a)=>dU(e,s,a),add:(s,a,l,h,g,v)=>fU(e,s,a,l,h,g,v),undo:(s,a,l)=>pU(e,s,a,l),redo:(s,a)=>RB(e,s,a),clear:(s,a)=>hU(e,s,a),reset:s=>gU(s),hasUndo:(s,a)=>yU(e,s,a),hasRedo:(s,a)=>FT(s,a),transact:(s,a,l)=>bU(s,a,l),ignore:(s,a)=>vU(s,a),extra:(s,a,l,h)=>mU(e,s,a,l,h)},formatter:{match:(s,a,l,h)=>l_(e,s,a,l,h),matchAll:(s,a)=>Vp(e,s,a),matchNode:(s,a,l,h)=>_m(e,s,a,l,h),canApply:s=>RD(e,s),closest:s=>QH(e,s),apply:(s,a,l)=>d_(e,s,a,l),remove:(s,a,l,h)=>A3(e,s,a,l,h),toggle:(s,a,l)=>v9(e,s,a,l),formatChanged:(s,a,l,h,g)=>L3(e,s,a,l,h,g)},editor:{getContent:s=>rH(e,s),setContent:(s,a)=>XH(e,s,a),insertContent:(s,a)=>c3(e,s,a),addVisual:s=>IB(e,s)},selection:{getContent:(s,a)=>bM(e,s,a)},autocompleter:{addDecoration:s=>K7(e,s),removeDecoration:()=>U4(e,ve.fromDom(e.getBody()))},raw:{getModel:()=>j.none()}}),wU=e=>{const s=z=>ht(z)?z:{},{init:a,undoManager:l,formatter:h,editor:g,selection:v,autocompleter:S,raw:I}=e;return{init:{bindEvents:a.bindEvents},undoManager:{beforeChange:l.beforeChange,add:l.add,undo:l.undo,redo:l.redo,clear:l.clear,reset:l.reset,hasUndo:l.hasUndo,hasRedo:l.hasRedo,transact:(z,W,U)=>l.transact(U),ignore:(z,W)=>l.ignore(W),extra:(z,W,U,X)=>l.extra(U,X)},formatter:{match:(z,W,U,X)=>h.match(z,s(W),X),matchAll:h.matchAll,matchNode:h.matchNode,canApply:z=>h.canApply(z),closest:z=>h.closest(z),apply:(z,W,U)=>h.apply(z,s(W)),remove:(z,W,U,X)=>h.remove(z,s(W)),toggle:(z,W,U)=>h.toggle(z,s(W)),formatChanged:(z,W,U,X,fe)=>h.formatChanged(W,U,X,fe)},editor:{getContent:z=>g.getContent(z),setContent:(z,W)=>({content:g.setContent(z,W),html:""}),insertContent:(z,W)=>(g.insertContent(z),""),addVisual:g.addVisual},selection:{getContent:(z,W)=>v.getContent(W)},autocompleter:{addDecoration:S.addDecoration,removeDecoration:S.removeDecoration},raw:{getModel:()=>j.some(I.getRawModel())}}},_U=()=>{const e=ot(null),s=ot("");return{init:{bindEvents:Ot},undoManager:{beforeChange:Ot,add:e,undo:e,redo:e,clear:Ot,reset:Ot,hasUndo:Ee,hasRedo:Ee,transact:e,ignore:Ot,extra:Ot},formatter:{match:Ee,matchAll:ot([]),matchNode:ot(void 0),canApply:Ee,closest:s,apply:Ot,remove:Ot,toggle:Ot,formatChanged:ot({unbind:Ot})},editor:{getContent:s,setContent:ot({content:"",html:""}),insertContent:ot(""),addVisual:Ot},selection:{getContent:s},autocompleter:{addDecoration:Ot,removeDecoration:Ot},raw:{getModel:ot(j.none())}}},Up=e=>Fn(e.plugins,"rtc"),kU=e=>fs(e.plugins,"rtc").bind(s=>j.from(s.setup)),CU=e=>{const s=e;return kU(e).fold(()=>(s.rtcInstance=$T(e),j.none()),a=>(s.rtcInstance=_U(),j.some(()=>a().then(l=>(s.rtcInstance=wU(l),l.rtc.isRemote)))))},CM=e=>e.rtcInstance?e.rtcInstance:$T(e),va=e=>{const s=e.rtcInstance;if(s)return s;throw new Error("Failed to get RTC instance not yet initialized.")},JC=(e,s,a)=>{va(e).undoManager.beforeChange(s,a)},VT=(e,s,a,l,h,g,v)=>va(e).undoManager.add(s,a,l,h,g,v),QC=(e,s,a,l)=>va(e).undoManager.undo(s,a,l),AB=(e,s,a)=>va(e).undoManager.redo(s,a),OB=(e,s,a)=>{va(e).undoManager.clear(s,a)},SU=(e,s)=>{va(e).undoManager.reset(s)},DB=(e,s,a)=>va(e).undoManager.hasUndo(s,a),xU=(e,s,a)=>va(e).undoManager.hasRedo(s,a),EU=(e,s,a,l)=>va(e).undoManager.transact(s,a,l),TU=(e,s,a)=>{va(e).undoManager.ignore(s,a)},RU=(e,s,a,l,h)=>{va(e).undoManager.extra(s,a,l,h)},MB=(e,s,a,l,h)=>va(e).formatter.match(s,a,l,h),IU=(e,s,a)=>va(e).formatter.matchAll(s,a),AU=(e,s,a,l,h)=>va(e).formatter.matchNode(s,a,l,h),eS=(e,s)=>va(e).formatter.canApply(s),PB=(e,s)=>va(e).formatter.closest(s),zB=(e,s,a,l)=>{va(e).formatter.apply(s,a,l)},OU=(e,s,a,l,h)=>{va(e).formatter.remove(s,a,l,h)},DU=(e,s,a,l)=>{va(e).formatter.toggle(s,a,l)},MU=(e,s,a,l,h,g)=>va(e).formatter.formatChanged(s,a,l,h,g),NB=(e,s)=>CM(e).editor.getContent(s),PU=(e,s,a)=>CM(e).editor.setContent(s,a),zU=(e,s,a)=>CM(e).editor.insertContent(s,a),NU=(e,s,a)=>va(e).selection.getContent(s,a),LU=(e,s)=>va(e).editor.addVisual(s),BU=e=>va(e).init.bindEvents(),_h=(e,s)=>va(e).autocompleter.addDecoration(s),SM=e=>va(e).autocompleter.removeDecoration(),FU=(e,s={})=>{const a=s.format?s.format:"html";return NU(e,a,s)},LB=e=>e.dom.length===0?(ps(e),j.none()):j.some(e),$U=(e,s)=>e.filter(a=>ym.isBookmarkNode(a.dom)).bind(s?jh:Bl),VU=(e,s,a,l)=>{const h=e.dom,g=s.dom,v=l?h.length:g.length;l?(rD(h,g,!1,!l),a.setStart(g,v)):(rD(g,h,!1,!l),a.setEnd(g,v))},Ko=(e,s)=>{Ll(e).each(a=>{const l=e.dom;s&&IC(a,dt(l,0))?W2(l,0):!s&&AC(a,dt(l,l.length))&&sD(l,l.length)})},HU=(e,s,a,l)=>{e.bind(h=>((l?sD:W2)(h.dom,l?h.dom.length:0),s.filter(wi).map(v=>VU(h,v,a,l)))).orThunk(()=>$U(s,l).or(s).filter(wi).map(g=>Ko(g,l)))},UU=(e,s)=>{const a=j.from(s.firstChild).map(ve.fromDom),l=j.from(s.lastChild).map(ve.fromDom);e.deleteContents(),e.insertNode(s);const h=a.bind(Bl).filter(wi).bind(LB),g=l.bind(jh).filter(wi).bind(LB);HU(h,a,e,!0),HU(g,l,e,!1),e.collapse(!1)},jU=(e,s)=>({format:"html",...e,set:!0,selection:!0,content:s}),hr=(e,s)=>{if(s.format!=="raw"){const a=e.selection.getRng(),l=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),h=l?{context:l.nodeName.toLowerCase()}:{},g=e.parser.parse(s.content,{forced_root_block:!1,...h,...s});return yy({validate:!1},e.schema).serialize(g)}else return s.content},WU=(e,s,a={})=>{const l=jU(a,s);OT(e,l).each(h=>{const g=hr(e,h),v=e.selection.getRng();UU(v,v.createContextualFragment(g)),e.selection.setRng(v),bt(e,v),mM(e,g,h)})},p_=(e,s,a)=>{if(Fn(e,s)){const l=$e(e[s],h=>h!==a);l.length===0?delete e[s]:e[s]=l}};var ZU=(e,s)=>{let a,l;const h=(S,I)=>ut(I,z=>e.is(z,S)),g=S=>e.getParents(S,void 0,e.getRoot()),v=()=>{a={},l={},s.on("NodeChange",S=>{const I=S.element,z=g(I),W={};Gt(a,(U,X)=>{h(X,z).each(fe=>{l[X]||(ce(U,pe=>{pe(!0,{node:fe,selector:X,parents:z})}),l[X]=U),W[X]=U})}),Gt(l,(U,X)=>{W[X]||(delete l[X],ce(U,fe=>{fe(!1,{node:I,selector:X,parents:z})}))})})};return{selectorChangedWithUnbind:(S,I)=>(a||v(),a[S]||(a[S]=[]),a[S].push(I),h(S,g(s.selection.getStart())).each(()=>{l[S]=a[S]}),{unbind:()=>{p_(a,S,I),p_(l,S,I)}})}};const BB=e=>!!(e&&e.ownerDocument)&&cc(ve.fromDom(e.ownerDocument),ve.fromDom(e)),GU=e=>e?BB(e.startContainer)&&BB(e.endContainer):!1,xM=(e,s,a,l)=>{let h,g;const{selectorChangedWithUnbind:v}=ZU(e,l),S=(Ft,pn)=>{const Lo=e.createRng();Ue(Ft)&&Ue(pn)?(Lo.setStart(Ft,pn),Lo.setEnd(Ft,pn),We(Lo),Ae(!1)):(tv(e,Lo,l.getBody(),!0),We(Lo))},I=Ft=>FU(l,Ft),z=(Ft,pn)=>WU(l,Ft,pn),W=Ft=>L4(l.getBody(),Me(),Ft),U=Ft=>B4(l.getBody(),Me(),Ft),X=(Ft,pn)=>Ki.getBookmark(Ft,pn),fe=Ft=>Ki.moveToBookmark(Ft),pe=(Ft,pn)=>(U7(e,Ft,pn).each(We),Ft),se=()=>{const Ft=Me(),pn=xe();return!Ft||Ft.item?!1:Ft.compareEndPoints?Ft.compareEndPoints("StartToEnd",Ft)===0:!pn||Ft.collapsed},he=()=>{const Ft=Me(),pn=l.getBody().querySelectorAll('[data-mce-selected="1"]');return pn.length>0?an(pn,Lo=>e.isEditable(Lo.parentElement)):Ft.startContainer===Ft.endContainer?e.isEditable(Ft.startContainer):e.isEditable(Ft.startContainer)&&e.isEditable(Ft.endContainer)},Ae=Ft=>{const pn=Me();pn.collapse(!!Ft),We(pn)},xe=()=>s.getSelection?s.getSelection():s.document.selection,Me=()=>{let Ft;const pn=(Jt,Rn,Pn)=>{try{return Rn.compareBoundaryPoints(Jt,Pn)}catch{return-1}},Lo=s.document;if(Ue(l.bookmark)&&!gy(l)){const Jt=Xl(l);if(Jt.isSome())return Jt.map(Rn=>jO(l,[Rn])[0]).getOr(Lo.createRange())}try{const Jt=xe();Jt&&!Fi(Jt.anchorNode)&&(Jt.rangeCount>0?Ft=Jt.getRangeAt(0):Ft=Lo.createRange(),Ft=jO(l,[Ft])[0])}catch{}if(Ft||(Ft=Lo.createRange()),Hc(Ft.startContainer)&&Ft.collapsed){const Jt=e.getRoot();Ft.setStart(Jt,0),Ft.setEnd(Jt,0)}return h&&g&&(pn(Ft.START_TO_START,Ft,h)===0&&pn(Ft.END_TO_END,Ft,h)===0?Ft=g:(h=null,g=null)),Ft},We=(Ft,pn)=>{if(!GU(Ft))return;const Lo=xe();if(Ft=l.dispatch("SetSelectionRange",{range:Ft,forward:pn}).range,Lo){g=Ft;try{Lo.removeAllRanges(),Lo.addRange(Ft)}catch{}pn===!1&&Lo.extend&&(Lo.collapse(Ft.endContainer,Ft.endOffset),Lo.extend(Ft.startContainer,Ft.startOffset)),h=Lo.rangeCount>0?Lo.getRangeAt(0):null}if(!Ft.collapsed&&Ft.startContainer===Ft.endContainer&&(Lo==null?void 0:Lo.setBaseAndExtent)&&Ft.endOffset-Ft.startOffset<2&&Ft.startContainer.hasChildNodes()){const Rn=Ft.startContainer.childNodes[Ft.startOffset];Rn&&Rn.nodeName==="IMG"&&(Lo.setBaseAndExtent(Ft.startContainer,Ft.startOffset,Ft.endContainer,Ft.endOffset),(Lo.anchorNode!==Ft.startContainer||Lo.focusNode!==Ft.endContainer)&&Lo.setBaseAndExtent(Rn,0,Rn,1))}l.dispatch("AfterSetSelectionRange",{range:Ft,forward:pn})},kt=Ft=>(z(e.getOuterHTML(Ft)),Ft),Zt=()=>V7(l.getBody(),Me()),Bt=(Ft,pn)=>H7(e,Me(),Ft,pn),tt=()=>{const Ft=xe(),pn=Ft==null?void 0:Ft.anchorNode,Lo=Ft==null?void 0:Ft.focusNode;if(!Ft||!pn||!Lo||Fi(pn)||Fi(Lo))return!0;const Jt=e.createRng(),Rn=e.createRng();try{Jt.setStart(pn,Ft.anchorOffset),Jt.collapse(!0),Rn.setStart(Lo,Ft.focusOffset),Rn.collapse(!0)}catch{return!0}return Jt.compareBoundaryPoints(Jt.START_TO_START,Rn)<=0},Tr={dom:e,win:s,serializer:a,editor:l,expand:(Ft={type:"word"})=>We(Pp(e).expand(Me(),Ft)),collapse:Ae,setCursorLocation:S,getContent:I,setContent:z,getBookmark:X,moveToBookmark:fe,select:pe,isCollapsed:se,isEditable:he,isForward:tt,setNode:kt,getNode:Zt,getSel:xe,setRng:We,getRng:Me,getStart:W,getEnd:U,getSelectedBlocks:Bt,normalize:()=>{const Ft=Me(),pn=xe();if(!hh(pn)&&nv(l)){const Lo=Mp(e,Ft);return Lo.each(Jt=>{We(Jt,tt())}),Lo.getOr(Ft)}return Ft},selectorChanged:(Ft,pn)=>(v(Ft,pn),Tr),selectorChangedWithUnbind:v,getScrollContainer:()=>{let Ft,pn=e.getRoot();for(;pn&&pn.nodeName!=="BODY";){if(pn.scrollHeight>pn.clientHeight){Ft=pn;break}pn=pn.parentNode}return Ft},scrollIntoView:(Ft,pn)=>{Ue(Ft)?qt(l,Ft,pn):bt(l,Me(),pn)},placeCaretAt:(Ft,pn)=>We(pv(Ft,pn,l.getDoc())),getBoundingClientRect:()=>{const Ft=Me();return Ft.collapsed?dt.fromRangeStart(Ft).getClientRects()[0]:Ft.getBoundingClientRect()},destroy:()=>{s=h=g=null,$a.destroy()}},Ki=ym(Tr),$a=fv(Tr,l);return Tr.bookmarkManager=Ki,Tr.controlSelection=$a,Tr},Ay=(e,s,a)=>{e.addAttributeFilter("data-mce-tabindex",(l,h)=>{let g=l.length;for(;g--;){const v=l[g];v.attr("tabindex",v.attr("data-mce-tabindex")),v.attr(h,null)}}),e.addAttributeFilter("src,href,style",(l,h)=>{const g="data-mce-"+h,v=s.url_converter,S=s.url_converter_scope;let I=l.length;for(;I--;){const z=l[I];let W=z.attr(g);W!==void 0?(z.attr(h,W.length>0?W:null),z.attr(g,null)):(W=z.attr(h),h==="style"?W=a.serializeStyle(a.parseStyle(W),z.name):v&&(W=v.call(S,W,h,z.name)),z.attr(h,W.length>0?W:null))}}),e.addAttributeFilter("class",l=>{let h=l.length;for(;h--;){const g=l[h];let v=g.attr("class");v&&(v=v.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),g.attr("class",v.length>0?v:null))}}),e.addAttributeFilter("data-mce-type",(l,h,g)=>{let v=l.length;for(;v--;){const S=l[v];S.attr("data-mce-type")==="bookmark"&&!g.cleanup&&(j.from(S.firstChild).exists(z=>{var W;return!Ce((W=z.value)!==null&&W!==void 0?W:"")})?S.unwrap():S.remove())}}),e.addNodeFilter("noscript",l=>{var h;let g=l.length;for(;g--;){const v=l[g].firstChild;v&&(v.value=ll.decode((h=v.value)!==null&&h!==void 0?h:""))}}),e.addNodeFilter("script,style",(l,h)=>{var g;const v=I=>I.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let S=l.length;for(;S--;){const I=l[S],z=I.firstChild,W=(g=z==null?void 0:z.value)!==null&&g!==void 0?g:"";if(h==="script"){const U=I.attr("type");U&&I.attr("type",U==="mce-no/type"?null:U.replace(/^mce\-/,"")),s.element_format==="xhtml"&&z&&W.length>0&&(z.value=`// <![CDATA[
`+v(W)+`
// ]]>`)}else s.element_format==="xhtml"&&z&&W.length>0&&(z.value=`<!--
`+v(W)+`
-->`)}}),e.addNodeFilter("#comment",l=>{let h=l.length;for(;h--;){const g=l[h],v=g.value;s.preserve_cdata&&(v==null?void 0:v.indexOf("[CDATA["))===0?(g.name="#cdata",g.type=4,g.value=a.decode(v.replace(/^\[CDATA\[|\]\]$/g,""))):(v==null?void 0:v.indexOf("mce:protected "))===0&&(g.name="#text",g.type=3,g.raw=!0,g.value=unescape(v).substr(14))}}),e.addNodeFilter("xml:namespace,input",(l,h)=>{let g=l.length;for(;g--;){const v=l[g];v.type===7?v.remove():v.type===1&&h==="input"&&!v.attr("type")&&v.attr("type","text")}}),e.addAttributeFilter("data-mce-type",l=>{ce(l,h=>{h.attr("data-mce-type")==="format-caret"&&(h.isEmpty(e.schema.getNonEmptyElements())?h.remove():h.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(l,h)=>{let g=l.length;for(;g--;)l[g].attr(h,null)})},Jc=e=>{const s=l=>(l==null?void 0:l.name)==="br",a=e.lastChild;if(s(a)){const l=a.prev;s(l)&&(a.remove(),l.remove())}},tS=(e,s,a)=>{let l;const h=e.dom;let g=s.cloneNode(!0);const v=document.implementation;if(v.createHTMLDocument){const S=v.createHTMLDocument("");xt.each(g.nodeName==="BODY"?g.childNodes:[g],I=>{S.body.appendChild(S.importNode(I,!0))}),g.nodeName!=="BODY"?g=S.body.firstChild:g=S.body,l=h.doc,h.doc=S}return gO(e,{...a,node:g}),l&&(h.doc=l),g},Lv=(e,s)=>Ue(e)&&e.hasEventListeners("PreProcess")&&!s.no_events,km=(e,s,a)=>Lv(e,a)?tS(e,s,a):s,nS=(e,s,a)=>{xt.inArray(s,a)===-1&&(e.addAttributeFilter(a,(l,h)=>{let g=l.length;for(;g--;)l[g].attr(h,null)}),s.push(a))},EM=(e,s,a)=>!s.no_events&&e?sC(e,{...s,content:a}).content:a,TM=(e,s,a)=>{const l=at(a.getInner?s.innerHTML:e.getOuterHTML(s));return a.selection||Vl(ve.fromDom(s))?l:xt.trim(l)},FB=(e,s,a)=>{const l=a.selection?{forced_root_block:!1,...a}:a,h=e.parse(s,l);return Jc(h),h},$B=(e,s,a)=>yy(e,s).serialize(a),qU=(e,s,a,l,h)=>{const g=$B(s,a,l);return EM(e,h,g)},KU=(e,s)=>{const a=["data-mce-selected"],l=s&&s.dom?s.dom:ys.DOM,h=s&&s.schema?s.schema:Wl(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;const g=Nv(e,h);Ay(g,e,l);const v=(S,I={})=>{const z={format:"html",...I},W=km(s,S,z),U=TM(l,W,z),X=FB(g,U,z);return z.format==="tree"?X:qU(s,e,h,X,z)};return{schema:h,addNodeFilter:g.addNodeFilter,addAttributeFilter:g.addAttributeFilter,serialize:v,addRules:h.addValidElements,setRules:h.setValidElements,addTempAttr:it(nS,g,a),getTempAttrs:ot(a),getNodeFilters:g.getNodeFilters,getAttributeFilters:g.getAttributeFilters,removeNodeFilter:g.removeNodeFilter,removeAttributeFilter:g.removeAttributeFilter}},RM=(e,s)=>{const a=KU(e,s);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters,removeNodeFilter:a.removeNodeFilter,removeAttributeFilter:a.removeAttributeFilter}},VB="html",HB=(e,s)=>({...e,format:s,get:!0,getInner:!0}),UB=(e,s={})=>{const a=s.format?s.format:VB,l=HB(s,a);return fM(e,l).fold(Bn,h=>{const g=NB(e,h);return hM(e,g,h)})},IM="html",Xee=(e,s)=>({format:IM,...e,set:!0,content:s}),AM=(e,s,a={})=>{const l=Xee(a,s);return OT(e,l).map(h=>{const g=PU(e,h.content,h);return mM(e,g.html,h),g.content}).getOr(s)},Jee="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),YU="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),XU="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),kh=[{name:"template",replacedWith:"Advanced Template"}],JU=(e,s)=>{const a=$e(s,l=>Fn(e,l));return mo(a)},Qee=e=>{const s=JU(e,Jee),a=e.forced_root_block;return(a===!1||a==="")&&s.push("forced_root_block (false only)"),mo(s)},QU=e=>JU(e,YU),g_=(e,s)=>{const a=xt.makeMap(e.plugins," "),h=$e(s,g=>Fn(a,g));return mo(h)},ej=e=>g_(e,XU),jB=e=>g_(e,kh.map(s=>s.name)),WB=(e,s)=>{const a=Qee(e),l=ej(s),h=l.length>0,g=a.length>0,v=s.theme==="mobile";if(h||g||v){const S=`
- `,I=v?`

Themes:${S}mobile`:"",z=h?`

Plugins:${S}${l.join(S)}`:"",W=g?`

Options:${S}${a.join(S)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+I+z+W)}},ZB=e=>ut(kh,s=>s.name===e).fold(()=>e,s=>`${e}, replaced by ${s.replacedWith}`),tj=(e,s)=>{const a=QU(e),l=jB(s),h=l.length>0,g=a.length>0;if(h||g){const v=`
- `,S=h?`

Plugins:${v}${l.map(ZB).join(v)}`:"",I=g?`

Options:${v}${a.join(v)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+S+I)}},nj=(e,s)=>{WB(e,s),tj(e,s)},Ch=ys.DOM,oj=e=>{Ch.setStyle(e.id,"display",e.orgDisplay)},HT=e=>j.from(e).each(s=>s.destroy()),sj=e=>{const s=e;s.contentAreaContainer=s.formElement=s.container=s.editorContainer=null,s.bodyElement=s.contentDocument=s.contentWindow=null,s.iframeElement=s.targetElm=null;const a=e.selection;if(a){const l=a.dom;s.selection=a.win=a.dom=l.doc=null}},rj=e=>{const s=e.formElement;s&&(s._mceOldSubmit&&(s.submit=s._mceOldSubmit,delete s._mceOldSubmit),Ch.unbind(s,"submit reset",e.formEventDelegate))},aj=e=>{if(!e.removed){const{_selectionOverrides:s,editorUpload:a}=e,l=e.getBody(),h=e.getElement();l&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ue(h==null?void 0:h.nextSibling)&&Ch.remove(h.nextSibling),rC(e),e.editorManager.remove(e),!e.inline&&l&&oj(e),aC(e),Ch.remove(e.getContainer()),HT(s),HT(a),e.destroy()}},ij=(e,s)=>{const{selection:a,dom:l}=e;if(!e.destroyed){if(!s&&!e.removed){e.remove();return}s||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),HT(a),HT(l)),rj(e),sj(e),e.destroyed=!0}},UT=(()=>{const e={};return{add:(h,g)=>{e[h]=g},get:h=>e[h]?e[h]:{icons:{}},has:h=>Fn(e,h)}})(),y_=cl.ModelManager,GB=(e,s)=>s.dom[e],qB=(e,s)=>parseInt(dc(s,e),10),tte=it(GB,"clientWidth"),oS=it(GB,"clientHeight"),lj=it(qB,"margin-top"),OM=it(qB,"margin-left"),cj=e=>e.dom.getBoundingClientRect(),uj=(e,s,a)=>{const l=tte(e),h=oS(e);return s>=0&&a>=0&&s<=l&&a<=h},dj=(e,s,a,l)=>{const h=cj(s),g=e?h.left+s.dom.clientLeft+OM(s):0,v=e?h.top+s.dom.clientTop+lj(s):0,S=a-g,I=l-v;return{x:S,y:I}},fj=(e,s,a)=>{const l=ve.fromDom(e.getBody()),h=e.inline?l:x1(l),g=dj(e.inline,h,s,a);return uj(h,g.x,g.y)},Bv=e=>j.from(e).map(ve.fromDom),Fv=e=>{const s=e.inline?e.getBody():e.getContentAreaContainer();return Bv(s).map(nd).getOr(!1)};var jT=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const sS=e=>{const s=[],a=()=>{const X=e.theme;return X&&X.getNotificationManagerImpl?X.getNotificationManagerImpl():jT()},l=()=>j.from(s[0]),h=(X,fe)=>X.type===fe.type&&X.text===fe.text&&!X.progressBar&&!X.timeout&&!fe.progressBar&&!fe.timeout,g=()=>{ce(s,X=>{X.reposition()})},v=X=>{s.push(X)},S=X=>{zt(s,fe=>fe===X).each(fe=>{s.splice(fe,1)})},I=(X,fe=!0)=>e.removed||!Fv(e)?{}:(fe&&e.dispatch("BeforeOpenNotification",{notification:X}),ut(s,pe=>h(a().getArgs(pe),X)).getOrThunk(()=>{e.editorManager.setActive(e);const pe=a().open(X,()=>{S(pe),g(),l().fold(()=>e.focus(),se=>hn(ve.fromDom(se.getEl())))});return v(pe),g(),e.dispatch("OpenNotification",{notification:{...pe}}),pe})),z=()=>{l().each(X=>{a().close(X),S(X),g()})},W=ot(s);return(X=>{X.on("SkinLoaded",()=>{const fe=RE(X);fe&&I({text:fe,type:"warning",timeout:0},!1),g()}),X.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(g)}),X.on("remove",()=>{ce(s.slice(),fe=>{a().close(fe)})})})(e),{open:I,close:z,getNotifications:W}},Cf=cl.PluginManager,Rd=cl.ThemeManager;var WT=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const rS=e=>{let s=[];const a=()=>{const se=e.theme;return se&&se.getWindowManagerImpl?se.getWindowManagerImpl():WT()},l=(se,he)=>(...Ae)=>he?he.apply(se,Ae):void 0,h=se=>{e.dispatch("OpenWindow",{dialog:se})},g=se=>{e.dispatch("CloseWindow",{dialog:se})},v=se=>{s.push(se),h(se)},S=se=>{g(se),s=$e(s,he=>he!==se),s.length===0&&e.focus()},I=()=>j.from(s[s.length-1]),z=se=>{e.editorManager.setActive(e),_c(e),e.ui.show();const he=se();return v(he),he},W=(se,he)=>z(()=>a().open(se,he,S)),U=se=>z(()=>a().openUrl(se,S)),X=(se,he,Ae)=>{const xe=a();xe.alert(se,l(Ae||xe,he))},fe=(se,he,Ae)=>{const xe=a();xe.confirm(se,l(Ae||xe,he))},pe=()=>{I().each(se=>{a().close(se),S(se)})};return e.on("remove",()=>{ce(s,se=>{a().close(se)})}),{open:W,openUrl:U,alert:X,confirm:fe,close:pe}},DM=(e,s)=>{e.notificationManager.open({type:"error",text:s})},b_=(e,s)=>{e._skinLoaded?DM(e,s):e.on("SkinLoaded",()=>{DM(e,s)})},MM=(e,s)=>{b_(e,md.translate(["Failed to upload image: {0}",s]))},v_=(e,s,a)=>{_d(e,s,{message:a}),console.error(a)},w_=(e,s,a)=>a?`Failed to load ${e}: ${a} from url ${s}`:`Failed to load ${e} url: ${s}`,__=(e,s,a)=>{v_(e,"PluginLoadError",w_("plugin",s,a))},KB=(e,s,a)=>{v_(e,"IconsLoadError",w_("icons",s,a))},YB=(e,s,a)=>{v_(e,"LanguageLoadError",w_("language",s,a))},XB=(e,s,a)=>{v_(e,"ThemeLoadError",w_("theme",s,a))},ZT=(e,s,a)=>{v_(e,"ModelLoadError",w_("model",s,a))},JB=(e,s,a)=>{const l=md.translate(["Failed to initialize plugin: {0}",s]);_d(e,"PluginLoadError",{message:l}),aS(l,a),b_(e,l)},aS=(e,...s)=>{const a=window.console;a&&(a.error?a.error(e,...s):a.log(e,...s))},QB=e=>/^[a-z0-9\-]+$/i.test(e),eF=e=>Wp(e,SE(e)),jp=e=>Wp(e,xE(e)),Wp=(e,s)=>{const a=e.editorManager.baseURL+"/skins/content",h=`content${e.editorManager.suffix}.css`;return Ye(s,g=>QB(g)&&!e.inline?`${a}/${g}/${h}`:e.documentBaseURI.toAbsolute(g))},Sf=e=>{e.contentCSS=e.contentCSS.concat(eF(e),jp(e))},hj=e=>e?zs(e.getElementsByTagName("img")):[],mj=(e,s)=>{const a={};return{findAll:(h,g=me)=>{const v=$e(hj(h),I=>{const z=I.src;return I.hasAttribute("data-mce-bogus")||I.hasAttribute("data-mce-placeholder")||!z||z===Fo.transparentSrc?!1:Rr(z,"blob:")?!e.isUploaded(z)&&g(I):Rr(z,"data:")?g(I):!1}),S=Ye(v,I=>{const z=I.src;if(Fn(a,z))return a[z].then(W=>ee(W)?W:{image:I,blobInfo:W.blobInfo});{const W=ZD(s,z).then(U=>(delete a[z],{image:I,blobInfo:U})).catch(U=>(delete a[z],U));return a[z]=W,W}});return Promise.all(S)}}},tF=()=>{let a={};const l=(X,fe)=>({status:X,resultUri:fe}),h=X=>X in a;return{hasBlobUri:h,getResultUri:X=>{const fe=a[X];return fe?fe.resultUri:null},isPending:X=>h(X)?a[X].status===1:!1,isUploaded:X=>h(X)?a[X].status===2:!1,markPending:X=>{a[X]=l(1,null)},markUploaded:(X,fe)=>{a[X]=l(2,fe)},removeFailed:X=>{delete a[X]},destroy:()=>{a={}}}};let pj=0;const gj=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},yj=e=>e+pj+++gj(),bj=()=>{let e=[];const s=U=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[U.toLowerCase()]||"dat",a=(U,X,fe,pe,se)=>{if(ee(U))return l({id:U,name:pe,filename:se,blob:X,base64:fe});if(ht(U))return l(U);throw new Error("Unknown input type")},l=U=>{if(!U.blob||!U.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const X=U.id||yj("blobid"),fe=U.name||X,pe=U.blob;return{id:ot(X),name:ot(fe),filename:ot(U.filename||fe+"."+s(pe.type)),blob:ot(pe),base64:ot(U.base64),blobUri:ot(U.blobUri||URL.createObjectURL(pe)),uri:ot(U.uri)}},h=U=>{v(U.id())||e.push(U)},g=U=>ut(e,U).getOrUndefined(),v=U=>g(X=>X.id()===U);return{create:a,add:h,get:v,getByUri:U=>g(X=>X.blobUri()===U),getByData:(U,X)=>g(fe=>fe.base64()===U&&fe.blob().type===X),findFirst:g,removeByUri:U=>{e=$e(e,X=>X.blobUri()===U?(URL.revokeObjectURL(X.blobUri()),!1):!0)},destroy:()=>{ce(e,U=>{URL.revokeObjectURL(U.blobUri())}),e=[]}}},vj=(e,s)=>{const a={},l=(se,he)=>se?se.replace(/\/$/,"")+"/"+he.replace(/^\//,""):he,h=(se,he)=>new Promise((Ae,xe)=>{const Me=new XMLHttpRequest;Me.open("POST",s.url),Me.withCredentials=s.credentials,Me.upload.onprogress=kt=>{he(kt.loaded/kt.total*100)},Me.onerror=()=>{xe("Image upload failed due to a XHR Transport error. Code: "+Me.status)},Me.onload=()=>{if(Me.status<200||Me.status>=300){xe("HTTP Error: "+Me.status);return}const kt=JSON.parse(Me.responseText);if(!kt||!ee(kt.location)){xe("Invalid JSON: "+Me.responseText);return}Ae(l(s.basePath,kt.location))};const We=new FormData;We.append("file",se.blob(),se.filename()),Me.send(We)}),g=de(s.handler)?s.handler:h,v=()=>new Promise(se=>{se([])}),S=(se,he)=>({url:he,blobInfo:se,status:!0}),I=(se,he)=>({url:"",blobInfo:se,status:!1,error:he}),z=(se,he)=>{xt.each(a[se],Ae=>{Ae(he)}),delete a[se]},W=(se,he,Ae)=>(e.markPending(se.blobUri()),new Promise(xe=>{let Me,We;try{const kt=()=>{Me&&(Me.close(),We=Ot)},Zt=tt=>{kt(),e.markUploaded(se.blobUri(),tt),z(se.blobUri(),S(se,tt)),xe(S(se,tt))},Bt=tt=>{kt(),e.removeFailed(se.blobUri()),z(se.blobUri(),I(se,tt)),xe(I(se,tt))};We=tt=>{tt<0||tt>100||j.from(Me).orThunk(()=>j.from(Ae).map(uo)).each(nt=>{Me=nt,nt.progressBar.value(tt)})},he(se,We).then(Zt,tt=>{Bt(ee(tt)?{message:tt}:tt)})}catch(kt){xe(I(se,kt))}})),U=se=>se===h,X=se=>{const he=se.blobUri();return new Promise(Ae=>{a[he]=a[he]||[],a[he].push(Ae)})},fe=(se,he)=>(se=xt.grep(se,Ae=>!e.isUploaded(Ae.blobUri())),Promise.all(xt.map(se,Ae=>e.isPending(Ae.blobUri())?X(Ae):W(Ae,g,he))));return{upload:(se,he)=>!s.url&&U(g)?v():fe(se,he)}},nF=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),oF=(e,s)=>vj(s,{url:mw(e),basePath:um(e),credentials:kE(e),handler:xk(e)}),wj=e=>{const s=tF(),a=oF(e,s);return{upload:(l,h=!0)=>a.upload(l,h?nF(e):void 0)}},_j=e=>{const s=bj();let a,l;const h=tF(),g=[],v=Me=>We=>e.selection?Me(We):[],S=Me=>Me+(Me.indexOf("?")===-1?"?":"&")+new Date().getTime(),I=(Me,We,kt)=>{let Zt=0;do Zt=Me.indexOf(We,Zt),Zt!==-1&&(Me=Me.substring(0,Zt)+kt+Me.substr(Zt+We.length),Zt+=kt.length-We.length+1);while(Zt!==-1);return Me},z=(Me,We,kt)=>{const Zt=`src="${kt}"${kt===Fo.transparentSrc?' data-mce-placeholder="1"':""}`;return Me=I(Me,`src="${We}"`,Zt),Me=I(Me,'data-mce-src="'+We+'"','data-mce-src="'+kt+'"'),Me},W=(Me,We)=>{ce(e.undoManager.data,kt=>{kt.type==="fragmented"?kt.fragments=Ye(kt.fragments,Zt=>z(Zt,Me,We)):kt.content=z(kt.content,Me,We)})},U=(Me,We)=>{const kt=e.convertURL(We,"src");W(Me.src,We),_i(ve.fromDom(Me),{src:hw(e)?S(We):We,"data-mce-src":kt})},X=()=>(a||(a=oF(e,h)),he().then(v(Me=>{const We=Ye(Me,kt=>kt.blobInfo);return a.upload(We,nF(e)).then(v(kt=>{const Zt=[];let Bt=!1;const tt=Ye(kt,(nt,on)=>{const{blobInfo:Cn,image:On}=Me[on];let so=!1;return nt.status&&Tu(e)?(nt.url&&!wr(On.src,nt.url)&&(Bt=!0),s.removeByUri(On.src),Up(e)||U(On,nt.url)):nt.error&&(nt.error.remove&&(W(On.src,Fo.transparentSrc),Zt.push(On),so=!0),MM(e,nt.error.message)),{element:On,status:nt.status,uploadUri:nt.url,blobInfo:Cn,removed:so}});return Zt.length>0&&!Up(e)?e.undoManager.transact(()=>{ce(Zt,nt=>{e.dom.remove(nt),s.removeByUri(nt.src)})}):Bt&&e.undoManager.dispatchChange(),tt}))}))),fe=()=>Eu(e)?X():Promise.resolve([]),pe=Me=>an(g,We=>We(Me)),se=Me=>{g.push(Me)},he=()=>(l||(l=mj(h,s)),l.findAll(e.getBody(),pe).then(v(Me=>{const We=$e(Me,kt=>ee(kt)?(b_(e,kt),!1):kt.uriType!=="blob");return Up(e)||ce(We,kt=>{W(kt.image.src,kt.blobInfo.blobUri()),kt.image.src=kt.blobInfo.blobUri(),kt.image.removeAttribute("data-mce-src")}),We}))),Ae=()=>{s.destroy(),h.destroy(),l=a=null},xe=Me=>Me.replace(/src="(blob:[^"]+)"/g,(We,kt)=>{const Zt=h.getResultUri(kt);if(Zt)return'src="'+Zt+'"';let Bt=s.getByUri(kt);return Bt||(Bt=be(e.editorManager.get(),(tt,nt)=>tt||nt.editorUpload&&nt.editorUpload.blobCache.getByUri(kt),void 0)),Bt?'src="data:'+Bt.blob().type+";base64,"+Bt.base64()+'"':We});return e.on("SetContent",()=>{Eu(e)?fe():he()}),e.on("RawSaveContent",Me=>{Me.content=xe(Me.content)}),e.on("GetContent",Me=>{Me.source_view||Me.format==="raw"||Me.format==="tree"||(Me.content=xe(Me.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Me=>{ce(Me,We=>{const kt=We.attr("src");if(!kt||s.getByUri(kt))return;const Zt=h.getResultUri(kt);Zt&&We.attr("src",Zt)})})}),{blobCache:s,addFilter:se,uploadImages:X,uploadImagesAuto:fe,scanForImages:he,destroy:Ae}},PM=e=>{const s=e.dom,a=e.schema.type,l={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:h=>{s.setStyle(h,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:h=>{s.setStyle(h,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const h={inline:"span",styles:{textDecoration:"line-through"},exact:!0},g={inline:"strike",remove:"all",preserve_attributes:["class","style"]},v={inline:"s",remove:"all",preserve_attributes:["class","style"]};return a!=="html4"?[v,h,g]:[h,v,g]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(h,g,v)=>mt(h)&&h.hasAttribute("href"),onformat:(h,g,v)=>{xt.each(v,(S,I)=>{s.setAttrib(h,I,S)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":h=>{var g;return(g=h==null?void 0:h.customValue)!==null&&g!==void 0?g:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return xt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),h=>{l[h]={block:h,remove:"all"}}),l},GT={remove_similar:!0,inherit:!1},$v={selector:"td,th",...GT},kj={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...$v},tablecellverticalalign:{styles:{"vertical-align":"%value"},...$v},tablecellbordercolor:{styles:{borderColor:"%value"},...$v},tablecellclass:{classes:["%value"],...$v},tableclass:{selector:"table",classes:["%value"],...GT},tablecellborderstyle:{styles:{borderStyle:"%value"},...$v},tablecellborderwidth:{styles:{borderWidth:"%value"},...$v}},Cj=ot(kj),sF=e=>{const s={},a=v=>Ue(v)?s[v]:s,l=v=>Fn(s,v),h=(v,S)=>{v&&(ee(v)?(Ze(S)||(S=[S]),ce(S,I=>{st(I.deep)&&(I.deep=!vc(I)),st(I.split)&&(I.split=!vc(I)||Wr(I)),st(I.remove)&&vc(I)&&!Wr(I)&&(I.remove="none"),vc(I)&&Wr(I)&&(I.mixed=!0,I.block_expand=!0),ee(I.classes)&&(I.classes=I.classes.split(/\s+/))}),s[v]=S):Gt(v,(I,z)=>{h(z,I)}))},g=v=>(v&&s[v]&&delete s[v],s);return h(PM(e)),h(Cj()),h(IE(e)),{get:a,has:l,register:h,unregister:g}},iS=xt.each,Qc=ys.DOM,qT=e=>Ue(e)&&ht(e),zM=(e,s)=>{const a=s&&s.schema||Wl({}),l=(I,z)=>{z.classes.length>0&&Qc.addClass(I,z.classes.join(" ")),Qc.setAttribs(I,z.attrs)},h=I=>{const z=ee(I)?{name:I,classes:[],attrs:{}}:I,W=Qc.create(z.name);return l(W,z),W},g=(I,z)=>{const W=a.getElementRule(I.nodeName.toLowerCase()),U=W==null?void 0:W.parentsRequired;return U&&U.length?z&&Oe(U,z)?z:U[0]:!1},v=(I,z,W)=>{let U;const X=z[0],fe=qT(X)?X.name:void 0,pe=g(I,fe);if(pe)fe===pe?(U=X,z=z.slice(1)):U=pe;else if(X)U=X,z=z.slice(1);else if(!W)return I;const se=U?h(U):Qc.create("div");se.appendChild(I),W&&xt.each(W,Ae=>{const xe=h(Ae);se.insertBefore(xe,I)});const he=qT(U)?U.siblings:void 0;return v(se,z,he)},S=Qc.create("div");if(e.length>0){const I=e[0],z=h(I),W=qT(I)?I.siblings:void 0;S.appendChild(v(z,e.slice(1),W))}return S},NM=e=>{e=xt.trim(e);let s="div";const a={name:s,classes:[],attrs:{},selector:e};return e!=="*"&&(s=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(l,h,g,v,S)=>{switch(h){case"#":a.attrs.id=g;break;case".":a.classes.push(g);break;case":":xt.inArray("checked disabled enabled read-only required".split(" "),g)!==-1&&(a.attrs[g]=g);break}if(v==="["){const I=S.match(/([\w\-]+)(?:\=\"([^\"]+))?/);I&&(a.attrs[I[1]]=I[2])}return""})),a.name=s||"div",a},Sj=e=>ee(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),xt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),s=>{const a=xt.map(s.split(/(?:~\+|~|\+)/),NM),l=a.pop();return a.length&&(l.siblings=a),l}).reverse()):[],xj=(e,s)=>{let a="",l=Gi(e);if(l==="")return"";const h=X=>ee(X)?X.replace(/%(\w+)/g,""):"",g=(X,fe)=>Qc.getStyle(fe!=null?fe:e.getBody(),X,!0);if(ee(s)){const X=e.formatter.get(s);if(!X)return"";s=X[0]}if("preview"in s){const X=s.preview;if(X===!1)return"";l=X||l}let v=s.block||s.inline||"span",S;const I=Sj(s.selector);I.length>0?(I[0].name||(I[0].name=v),v=s.selector,S=zM(I,e)):S=zM([v],e);const z=Qc.select(v,S)[0]||S.firstChild;iS(s.styles,(X,fe)=>{const pe=h(X);pe&&Qc.setStyle(z,fe,pe)}),iS(s.attributes,(X,fe)=>{const pe=h(X);pe&&Qc.setAttrib(z,fe,pe)}),iS(s.classes,X=>{const fe=h(X);Qc.hasClass(z,fe)||Qc.addClass(z,fe)}),e.dispatch("PreviewFormats"),Qc.setStyles(S,{position:"absolute",left:-65535}),e.getBody().appendChild(S);const W=g("fontSize"),U=/px$/.test(W)?parseInt(W,10):0;return iS(l.split(" "),X=>{let fe=g(X,z);if(!(X==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(fe)&&(fe=g(X),Zk(fe).toLowerCase()==="#ffffff"))&&!(X==="color"&&Zk(fe).toLowerCase()==="#000000")){if(X==="font-size"&&/em|%$/.test(fe)){if(U===0)return;fe=parseFloat(fe)/(/%$/.test(fe)?100:1)*U+"px"}X==="border"&&fe&&(a+="padding:0 2px;"),a+=X+":"+fe+";"}}),e.dispatch("AfterPreviewFormats"),Qc.remove(S),a},Cm=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let s=1;s<=6;s++)e.addShortcut("access+"+s,"",["FormatBlock",!1,"h"+s]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Id=e=>{const s=sF(e),a=Ya({});return Cm(e),n9(e),Up(e)||Hee(a,e),{get:s.get,has:s.has,register:s.register,unregister:s.unregister,apply:(l,h,g)=>{zB(e,l,h,g)},remove:(l,h,g,v)=>{OU(e,l,h,g,v)},toggle:(l,h,g)=>{DU(e,l,h,g)},match:(l,h,g,v)=>MB(e,l,h,g,v),closest:l=>PB(e,l),matchAll:(l,h)=>IU(e,l,h),matchNode:(l,h,g,v)=>AU(e,l,h,g,v),canApply:l=>eS(e,l),formatChanged:(l,h,g,v)=>MU(e,a,l,h,g,v),getCssText:it(xj,e)}},lS=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},rF=(e,s,a)=>{const l=Ya(!1),h=I=>{BT(s,!1,a),s.add({},I)};e.on("init",()=>{s.add()}),e.on("BeforeExecCommand",I=>{const z=I.command;lS(z)||(Lu(s,a),s.beforeChange())}),e.on("ExecCommand",I=>{const z=I.command;lS(z)||h(I)}),e.on("ObjectResizeStart cut",()=>{s.beforeChange()}),e.on("SaveContent ObjectResized blur",h),e.on("dragend",h),e.on("keyup",I=>{const z=I.keyCode;I.isDefaultPrevented()||((z>=33&&z<=36||z>=37&&z<=40||z===45||I.ctrlKey)&&(h(),e.nodeChanged()),(z===46||z===8)&&e.nodeChanged(),l.get()&&s.typing&&!_M(PT(e),s.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),l.set(!1),e.nodeChanged()))}),e.on("keydown",I=>{const z=I.keyCode;if(I.isDefaultPrevented())return;if(z>=33&&z<=36||z>=37&&z<=40||z===45){s.typing&&h(I);return}const W=I.ctrlKey&&!I.altKey||I.metaKey;(z<16||z>20)&&z!==224&&z!==91&&!s.typing&&!W&&(s.beforeChange(),BT(s,!0,a),s.add({},I),l.set(!0))}),e.on("mousedown",I=>{s.typing&&h(I)});const g=I=>I.inputType==="insertReplacementText",v=I=>I.inputType==="insertText"&&I.data===null,S=I=>I.inputType==="insertFromPaste"||I.inputType==="insertFromDrop";e.on("input",I=>{I.inputType&&(g(I)||v(I)||S(I))&&h(I)}),e.on("AddUndo Undo Redo ClearUndos",I=>{I.isDefaultPrevented()||e.nodeChanged()})},KT=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},LM=e=>{const s=Es(),a=Ya(0),l=Ya(0),h={data:[],typing:!1,beforeChange:()=>{JC(e,a,s)},add:(g,v)=>VT(e,h,l,a,s,g,v),dispatchChange:()=>{e.setDirty(!0);const g=PT(e);g.bookmark=yk(e.selection),e.dispatch("change",{level:g,lastLevel:Ao(h.data,l.get()).getOrUndefined()})},undo:()=>QC(e,h,a,l),redo:()=>AB(e,l,h.data),clear:()=>{OB(e,h,l)},reset:()=>{SU(e,h)},hasUndo:()=>DB(e,h,l),hasRedo:()=>xU(e,h,l),transact:g=>EU(e,h,a,g),ignore:g=>{TU(e,a,g)},extra:(g,v)=>{RU(e,h,l,g,v)}};return Up(e)||rF(e,h,a),KT(e),h},aF=[9,27,fn.HOME,fn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,fn.DOWN,fn.UP,fn.LEFT,fn.RIGHT].concat(Fo.browser.isFirefox()?[224]:[]),BM="data-mce-placeholder",FM=e=>e.type==="keydown"||e.type==="keyup",$M=e=>{const s=e.keyCode;return s===fn.BACKSPACE||s===fn.DELETE},iF=e=>{if(FM(e)){const s=e.keyCode;return!$M(e)&&(fn.metaKeyPressed(e)||e.altKey||s>=112&&s<=123||Oe(aF,s))}else return!1},YT=e=>FM(e)&&!($M(e)||e.type==="keyup"&&e.keyCode===229),VM=(e,s,a)=>{if(or(ve.fromDom(s),!1)){const l=s.firstElementChild;return l?e.getStyle(s.firstElementChild,"padding-left")||e.getStyle(s.firstElementChild,"padding-right")?!1:a===l.nodeName.toLowerCase():!0}else return!1},Ej=e=>{var s;const a=e.dom,l=Pr(e),h=(s=TE(e))!==null&&s!==void 0?s:"",g=(v,S)=>{if(iF(v))return;const I=e.getBody(),z=YT(v)?!1:VM(a,I,l);(a.getAttrib(I,BM)!==""!==z||S)&&(a.setAttrib(I,BM,z?h:null),a.setAttrib(I,"aria-placeholder",z?h:null),bs(e,z),e.on(z?"keydown":"keyup",g),e.off(z?"keyup":"keydown",g))};Jo(h)&&e.on("init",v=>{g(v,!0),e.on("change SetContent ExecCommand",g),e.on("paste",S=>Hs.setEditorTimeout(e,()=>g(S)))})},Tj=(e,s)=>({block:e,position:s}),Rj=(e,s)=>({from:e,to:s}),HM=(e,s)=>{const a=ve.fromDom(e),l=ve.fromDom(s.container());return G2(a,l).map(h=>Tj(h,s))},lF=e=>!Xo(e.from.block,e.to.block),cF=(e,s)=>tr(s,h=>Ka(h)||Uc(h.dom),h=>Xo(h,e)).filter(Ss).getOr(e),Ij=(e,s)=>{const a=ve.fromDom(e);return Xo(cF(a,s.from.block),cF(a,s.to.block))},UM=e=>eo(e.from.block.dom)===!1&&eo(e.to.block.dom)===!1,Aj=e=>{const s=a=>Tg(a)||dd(a.dom);return s(e.from.block)&&s(e.to.block)},Oj=(e,s,a)=>Vs(a.position.getNode())&&!or(a.block)?ny(!1,a.block.dom).bind(l=>l.isEqual(a.position)?bc(s,e,l).bind(h=>HM(e,h)):j.some(a)).getOr(a):a,Dj=(e,s,a)=>{const l=HM(e,dt.fromRangeStart(a)),h=l.bind(g=>bc(s,e,g.position).bind(v=>HM(e,v).map(S=>Oj(e,s,S))));return ha(l,h,Rj).filter(g=>lF(g)&&Ij(e,g)&&UM(g)&&Aj(g))},Mj=(e,s,a)=>a.collapsed?Dj(e,s,a):j.none(),Pj=e=>{const s=Ta(e);return zt(s,Ui).fold(ot(s),a=>s.slice(0,a))},uF=e=>{const s=Pj(e);return ce(s,ps),s},dF=(e,s)=>{const a=Lp(s,e);return ut(a.reverse(),l=>or(l)).each(ps)},XT=e=>$e(E1(e),s=>!or(s)).length===0,jM=(e,s,a,l)=>{if(or(a))return D(a),ql(a.dom);XT(l)&&or(s)&&Go(l,ve.fromTag("br"));const h=Iu(a.dom,dt.before(l.dom));return ce(uF(s),g=>{Go(l,g)}),dF(e,s),h},zj=(e,s,a)=>{if(or(a)){if(or(s)){const g=oe((v=>{const S=(I,z)=>Zh(I).fold(()=>z,W=>sp(W)?S(W,z.concat(im(W))):z);return S(v,[])})(a),(v,S)=>(M1(v,S),S),O());hs(s),nr(s,g)}return ps(a),ql(s.dom)}const l=fh(a.dom);return ce(uF(s),h=>{nr(a,h)}),dF(e,s),l},Nj=(e,s)=>{const a=Lp(s,e);return j.from(a[a.length-1])},Lj=(e,s)=>cc(s,e)?Nj(s,e):j.none(),fF=(e,s)=>{ny(e,s.dom).bind(a=>j.from(a.getNode())).map(ve.fromDom).filter(ga).each(ps)},WM=(e,s,a)=>(fF(!0,s),fF(!1,a),Lj(s,a).fold(it(zj,e,s,a),it(jM,e,s,a))),hF=(e,s,a,l)=>s?WM(e,l,a):WM(e,a,l),ZM=(e,s)=>{const a=ve.fromDom(e.getBody());return Mj(a.dom,s,e.selection.getRng()).map(h=>()=>{hF(a,s,h.from.block,h.to.block).each(g=>{e.selection.setRng(g.toRange())})})},GM=(e,s)=>{const a=s.getRng();return ha(G2(e,ve.fromDom(a.startContainer)),G2(e,ve.fromDom(a.endContainer)),(l,h)=>Xo(l,h)?j.none():j.some(()=>{a.deleteContents(),hF(e,!0,l,h).each(g=>{s.setRng(g.toRange())})})).getOr(j.none())},mF=(e,s)=>{const a=ve.fromDom(s),l=it(Xo,e);return Ns(a,Ka,l).isSome()},Bj=(e,s)=>mF(e,s.startContainer)||mF(e,s.endContainer),Fj=(e,s)=>{const a=Iu(e.dom,dt.fromRangeStart(s)).isNone(),l=Ri(e.dom,dt.fromRangeEnd(s)).isNone();return!Bj(e,s)&&a&&l},$j=e=>j.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),Vj=e=>{const s=ve.fromDom(e.getBody()),a=e.selection.getRng();return Fj(s,a)?$j(e):GM(s,e.selection)},qM=(e,s)=>e.selection.isCollapsed()?j.none():Vj(e),Zp=(e,s,a,l,h)=>j.from(s._selectionOverrides.showCaret(e,a,l,h)),JT=e=>{const s=e.ownerDocument.createRange();return s.selectNode(e),s},Oy=(e,s)=>e.dispatch("BeforeObjectSelected",{target:s}).isDefaultPrevented()?j.none():j.some(JT(s)),Hj=(e,s,a)=>{const l=Nk(1,e.getBody(),s),h=dt.fromRangeStart(l),g=h.getNode();if(kp(g))return Zp(1,e,g,!h.isAtEnd(),!1);const v=h.getNode(!0);if(kp(v))return Zp(1,e,v,!1,!1);const S=Fp(e.dom.getRoot(),h.getNode());return kp(S)?Zp(1,e,S,!1,a):j.none()},KM=(e,s,a)=>s.collapsed?Hj(e,s,a).getOr(s):s,QT=e=>vv(e)||Vn(e),Uj=e=>wv(e)||RC(e),jj=(e,s)=>{Pt(s)&&s.data.length===0&&e.remove(s)},pF=(e,s,a,l,h,g)=>{Zp(l,e,g.getNode(!h),h,!0).each(v=>{if(s.collapsed){const S=s.cloneRange();h?S.setEnd(v.startContainer,v.startOffset):S.setStart(v.endContainer,v.endOffset),S.deleteContents()}else s.deleteContents();e.selection.setRng(v)}),jj(e.dom,a)},Wj=(e,s)=>{const a=e.selection.getRng();if(!Pt(a.commonAncestorContainer))return j.none();const l=s?ba.Forwards:ba.Backwards,h=wd(e.getBody()),g=it(dh,s?h.next:h.prev),v=s?QT:Uj,S=Lk(l,e.getBody(),a),I=g(S),z=I&&Qs(s,I);if(!z||!Ew(S,z))return j.none();if(v(z))return j.some(()=>pF(e,a,S.getNode(),l,s,z));const W=g(z);return W&&v(W)&&Ew(z,W)?j.some(()=>pF(e,a,S.getNode(),l,s,W)):j.none()},YM=(e,s)=>Wj(e,s),XM=(e,s)=>{const a=e.getBody();return s?ql(a).filter(vv):fh(a).filter(wv)},JM=e=>{const s=e.selection.getRng();return!s.collapsed&&(XM(e,!0).exists(a=>a.isEqual(dt.fromRangeStart(s)))||XM(e,!1).exists(a=>a.isEqual(dt.fromRangeEnd(s))))},Zj=e=>Ue(e)&&(Ka(ve.fromDom(e))||ci(ve.fromDom(e))),Bu=Js.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Gj=(e,s)=>{const a=s.getNode(!e),l=e?"after":"before";return mt(a)&&a.getAttribute("data-mce-caret")===l},qj=(e,s,a,l)=>{const h=g=>sp(ve.fromDom(g))&&!zr(a,l,e);return ey(!s,a).fold(()=>ey(s,l).fold(Ee,h),h)},Kj=(e,s,a,l)=>{const h=l.getNode(!s);return G2(ve.fromDom(e),ve.fromDom(a.getNode())).map(g=>or(g)?Bu.remove(g.dom):Bu.moveToElement(h)).orThunk(()=>j.some(Bu.moveToElement(h)))},Ad=(e,s,a)=>bc(s,e,a).bind(l=>Zj(l.getNode())||qj(e,s,a,l)?j.none():s&&eo(l.getNode())||!s&&eo(l.getNode(!0))?Kj(e,s,a,l):s&&wv(a)||!s&&vv(a)?j.some(Bu.moveToPosition(l)):j.none()),QM=(e,s)=>_t(s)?j.none():e&&eo(s.nextSibling)?j.some(Bu.moveToElement(s.nextSibling)):!e&&eo(s.previousSibling)?j.some(Bu.moveToElement(s.previousSibling)):j.none(),gF=(e,s,a)=>a.fold(l=>j.some(Bu.remove(l)),l=>j.some(Bu.moveToElement(l)),l=>zr(s,l,e)?j.none():j.some(Bu.moveToPosition(l))),yF=(e,s,a)=>Gj(s,a)?QM(s,a.getNode(!s)).orThunk(()=>Ad(e,s,a)):Ad(e,s,a).bind(l=>gF(e,a,l)),Yj=(e,s,a)=>{const l=Nk(s?1:-1,e,a),h=dt.fromRangeStart(l),g=ve.fromDom(e);return!s&&wv(h)?j.some(Bu.remove(h.getNode(!0))):s&&vv(h)?j.some(Bu.remove(h.getNode())):!s&&vv(h)&&QO(g,h)?Lee(g,h).map(v=>Bu.remove(v.getNode())):s&&wv(h)&&H2(g,h)?Bee(g,h).map(v=>Bu.remove(v.getNode())):yF(e,s,h)},bF=(e,s)=>a=>(e._selectionOverrides.hideFakeCaret(),kv(e,s,ve.fromDom(a)),!0),Xj=(e,s)=>a=>{const l=s?dt.before(a):dt.after(a);return e.selection.setRng(l.toRange()),!0},vF=e=>s=>(e.selection.setRng(s.toRange()),!0),wF=(e,s)=>j.from(Fp(e.getBody(),s)),Jj=(e,s)=>{const a=e.selection.getNode();return wF(e,a).filter(eo).fold(()=>Yj(e.getBody(),s,e.selection.getRng()).map(l=>()=>l.fold(bF(e,s),Xj(e,s),vF(e))),()=>j.some(Ot))},Qj=e=>{ce(Ia(e,".mce-offscreen-selection"),ps)},k_=(e,s)=>{const a=e.selection.getNode();return eo(a)&&!Cl(a)?wF(e,a.parentNode).filter(eo).fold(()=>j.some(()=>{Qj(ve.fromDom(e.getBody())),kv(e,s,ve.fromDom(e.selection.getNode())),lD(e)}),()=>j.some(Ot)):JM(e)?j.some(()=>{Sd(e,e.selection.getRng(),ve.fromDom(e.getBody()))}):j.none()},eP=e=>{const s=e.dom,a=e.selection,l=Fp(e.getBody(),a.getNode());if(Uc(l)&&s.isBlock(l)&&s.isEmpty(l)){const h=s.create("br",{"data-mce-bogus":"1"});s.setHTML(l,""),l.appendChild(h),a.setRng(dt.before(h).toRange())}return!0},eR=(e,s)=>e.selection.isCollapsed()?Jj(e,s):k_(e,s),_F=(e,s)=>{const a=dt.fromRangeStart(e.selection.getRng());return bc(s,e.getBody(),a).filter(l=>s?zee(l):lH(l)).bind(l=>xp(s?0:-1,l)).map(l=>()=>e.selection.select(l))},cS=(e,s)=>e.selection.isCollapsed()?_F(e,s):j.none(),C_=Pt,kF=e=>C_(e)&&e.data[0]===ne,CF=e=>C_(e)&&e.data[e.data.length-1]===ne,eW=e=>{var s;return((s=e.ownerDocument)!==null&&s!==void 0?s:document).createTextNode(ne)},nte=e=>{var s;if(C_(e.previousSibling))return CF(e.previousSibling)||e.previousSibling.appendData(ne),e.previousSibling;if(C_(e))return kF(e)||e.insertData(0,ne),e;{const a=eW(e);return(s=e.parentNode)===null||s===void 0||s.insertBefore(a,e),a}},ote=e=>{var s,a;if(C_(e.nextSibling))return kF(e.nextSibling)||e.nextSibling.insertData(0,ne),e.nextSibling;if(C_(e))return CF(e)||e.appendData(ne),e;{const l=eW(e);return e.nextSibling?(s=e.parentNode)===null||s===void 0||s.insertBefore(l,e.nextSibling):(a=e.parentNode)===null||a===void 0||a.appendChild(l),l}},eu=(e,s)=>e?nte(s):ote(s),tW=it(eu,!0),nW=it(eu,!1),tP=(e,s)=>Pt(e.container())?eu(s,e.container()):eu(s,e.getNode()),tR=(e,s)=>{const a=s.get();return a&&e.container()===a&&Zn(a)},SF=(e,s)=>s.fold(a=>{fm(e.get());const l=tW(a);return e.set(l),j.some(dt(l,l.length-1))},a=>ql(a).map(l=>{if(tR(l,e)){const h=e.get();return dt(h,1)}else{fm(e.get());const h=tP(l,!0);return e.set(h),dt(h,1)}}),a=>fh(a).map(l=>{if(tR(l,e)){const h=e.get();return dt(h,h.length-1)}else{fm(e.get());const h=tP(l,!1);return e.set(h),dt(h,h.length-1)}}),a=>{fm(e.get());const l=nW(a);return e.set(l),j.some(dt(l,1))}),oW=(e,s)=>{for(let a=0;a<e.length;a++){const l=e[a].apply(null,s);if(l.isSome())return l}return j.none()},Cc=Js.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Fu=(e,s)=>{const a=hm(s,e);return a||e},sW=(e,s,a)=>{const l=es(a),h=Fu(s,l.container());return Us(e,h,l).fold(()=>Ri(h,l).bind(it(Us,e,h)).map(g=>Cc.before(g)),j.none)},rW=(e,s)=>ta(e,s)===null,xF=(e,s,a)=>Us(e,s,a).filter(it(rW,s)),aW=(e,s,a)=>{const l=Pu(a);return xF(e,s,l).bind(h=>Iu(h,l).isNone()?j.some(Cc.start(h)):j.none())},iW=(e,s,a)=>{const l=es(a);return xF(e,s,l).bind(h=>Ri(h,l).isNone()?j.some(Cc.end(h)):j.none())},lW=(e,s,a)=>{const l=Pu(a),h=Fu(s,l.container());return Us(e,h,l).fold(()=>Iu(h,l).bind(it(Us,e,h)).map(g=>Cc.after(g)),j.none)},Dy=e=>!TH(nP(e)),Sm=(e,s,a)=>oW([sW,aW,iW,lW],[e,s,a]).filter(Dy),nP=e=>e.fold(Bn,Bn,Bn,Bn),EF=e=>e.fold(ot("before"),ot("start"),ot("end"),ot("after")),S_=e=>e.fold(Cc.before,Cc.before,Cc.after,Cc.after),uS=e=>e.fold(Cc.start,Cc.start,Cc.end,Cc.end),TF=(e,s)=>EF(e)===EF(s)&&nP(e)===nP(s),RF=(e,s,a,l,h,g)=>ha(Us(s,a,l),Us(s,a,h),(v,S)=>v!==S&&Z2(a,v,S)?Cc.after(e?v:S):g).getOr(g),IF=(e,s)=>e.fold(me,a=>!TF(a,s)),cW=(e,s,a,l,h)=>{const g=Qs(e,h);return bc(e,a,g).map(it(Qs,e)).fold(()=>l.map(S_),I=>Sm(s,a,I).map(it(RF,e,s,a,g,I)).filter(it(IF,l))).filter(Dy)},dS=(e,s)=>e?s.fold(L(j.some,Cc.start),j.none,L(j.some,Cc.after),j.none):s.fold(j.none,L(j.some,Cc.before),j.none,L(j.some,Cc.end)),uW=(e,s,a,l)=>{const h=Qs(e,l),g=Sm(s,a,h);return Sm(s,a,h).bind(it(dS,e)).orThunk(()=>cW(e,s,a,g,l))},dW=e=>de(e.selection.getSel().modify),AF=(e,s,a)=>{const l=e?1:-1;return s.setRng(dt(a.container(),a.offset()+l).toRange()),s.getSel().modify("move",e?"forward":"backward","word"),!0},fW=(e,s)=>{const a=s.selection.getRng(),l=e?dt.fromRangeEnd(a):dt.fromRangeStart(a);return dW(s)?e&&ji(l)?AF(!0,s.selection,l):!e&&Oa(l)?AF(!1,s.selection,l):!1:!1};var xm;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(xm||(xm={}));const nR=(e,s)=>e===ba.Backwards?_n(s):s,hW=(e,s,a)=>e===ba.Forwards?s.next(a):s.prev(a),OF=(e,s,a,l)=>Vs(l.getNode(s===ba.Forwards))?xm.Br:zr(a,l)===!1?xm.Block:xm.Wrap,DF=(e,s,a,l)=>{const h=wd(a);let g=l;const v=[];for(;g;){const S=hW(s,h,g);if(!S)break;if(Vs(S.getNode(!1)))return s===ba.Forwards?{positions:nR(s,v).concat([S]),breakType:xm.Br,breakAt:j.some(S)}:{positions:nR(s,v),breakType:xm.Br,breakAt:j.some(S)};if(!S.isVisible()){g=S;continue}if(e(g,S)){const I=OF(a,s,g,S);return{positions:nR(s,v),breakType:I,breakAt:j.some(S)}}v.push(S),g=S}return{positions:nR(s,v),breakType:xm.Eol,breakAt:j.none()}},My=(e,s,a,l)=>s(a,l).breakAt.map(h=>{const g=s(a,h).positions;return e===ba.Backwards?g.concat(h):[h].concat(g)}).getOr([]),oR=(e,s)=>be(e,(a,l)=>a.fold(()=>j.some(l),h=>ha(ks(h.getClientRects()),ks(l.getClientRects()),(g,v)=>{const S=Math.abs(s-g.left);return Math.abs(s-v.left)<=S?l:h}).or(a)),j.none()),x_=(e,s)=>ks(s.getClientRects()).bind(a=>oR(e,a.left)),E_=it(DF,dt.isAbove,-1),Vv=it(DF,dt.isBelow,1),Gp=it(My,-1,E_),oP=it(My,1,Vv),Od=(e,s)=>E_(e,s).breakAt.isNone(),Hv=(e,s)=>Vv(e,s).breakAt.isNone(),sP=e=>ql(e).map(s=>[s].concat(Vv(e,s).positions)).getOr([]),mW=e=>fh(e).map(s=>E_(e,s).positions.concat(s)).getOr([]),MF=(e,s)=>x_(Gp(e,s),s),pW=(e,s)=>x_(oP(e,s),s),gW=eo,PF=(e,s)=>Math.abs(e.left-s),zF=(e,s)=>Math.abs(e.right-s),yW=e=>si(e,"node"),rP=(e,s)=>Di(e,(a,l)=>{const h=Math.min(PF(a,s),zF(a,s)),g=Math.min(PF(l,s),zF(l,s));return g===h&&yW(l)&&gW(l.node)||g<h?l:a}),bW=e=>{const s=a=>Ye(a,l=>{const h=lh(l);return h.node=e,h});if(mt(e))return s(e.getClientRects());if(Pt(e)){const a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),s(a.getClientRects())}else return[]},NF=e=>Vt(e,bW);var Em;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Em||(Em={}));const aP=(e,s,a,l)=>{let h=l;for(;h=Jg(h,e,F1,s);)if(a(h))return},iP=(e,s,a,l,h,g)=>{let v=0;const S=[],I=U=>{let X=NF([U]);e===-1&&(X=X.reverse());for(let fe=0;fe<X.length;fe++){const pe=X[fe];if(!a(pe,z)){if(S.length>0&&s(pe,Wa(S))&&v++,pe.line=v,h(pe))return!0;S.push(pe)}}return!1},z=Wa(g.getClientRects());if(!z)return S;const W=g.getNode();return W&&(I(W),aP(e,l,I,W)),S},LF=(e,s)=>s.line>e,lP=(e,s)=>s.line===e,vW=it(iP,Em.Up,Pa,Sl),wW=it(iP,Em.Down,Sl,Pa),BF=e=>Wa(e.getClientRects()),_W=(e,s,a,l)=>{const h=wd(s);let g,v,S,I;const z=[];let W=0;e===1?(g=h.next,v=Sl,S=Pa,I=dt.after(l)):(g=h.prev,v=Pa,S=Sl,I=dt.before(l));const U=BF(I);do{if(!I.isVisible())continue;const X=BF(I);if(S(X,U))continue;z.length>0&&v(X,Wa(z))&&W++;const fe=lh(X);if(fe.position=I,fe.line=W,a(fe))return z;z.push(fe)}while(I=g(I));return z},FF=e=>s=>LF(e,s),cP=e=>s=>lP(e,s),qp=(e,s)=>{e.selection.setRng(s),bt(e,e.selection.getRng())},sR=(e,s,a)=>j.some(KM(e,s,a)),$F=(e,s,a,l,h,g)=>{const v=s===ba.Forwards,S=wd(e.getBody()),I=it(dh,v?S.next:S.prev),z=v?l:h;if(!a.collapsed){const pe=Ab(a);if(g(pe))return Zp(s,e,pe,s===ba.Backwards,!1);if(JM(e)){const se=a.cloneRange();return se.collapse(s===ba.Backwards),j.from(se)}}const W=Lk(s,e.getBody(),a);if(z(W))return Oy(e,W.getNode(!v));let U=I(W);const X=Qf(a);if(U)U=Qs(v,U);else return X?j.some(a):j.none();if(z(U))return Zp(s,e,U.getNode(!v),v,!1);const fe=I(U);return fe&&z(fe)&&Ew(U,fe)?Zp(s,e,fe.getNode(!v),v,!1):X?sR(e,U.toRange(),!1):j.none()},VF=(e,s,a,l,h,g)=>{const v=Lk(s,e.getBody(),a),S=Wa(v.getClientRects()),I=s===Em.Down,z=e.getBody();if(!S)return j.none();if(JM(e)){const he=I?dt.fromRangeEnd(a):dt.fromRangeStart(a);return(I?pW:MF)(z,he).orThunk(()=>j.from(he)).map(xe=>xe.toRange())}const U=(I?wW:vW)(z,FF(1),v),X=$e(U,cP(1)),fe=S.left,pe=rP(X,fe);if(pe&&g(pe.node)){const he=Math.abs(fe-pe.left),Ae=Math.abs(fe-pe.right);return Zp(s,e,pe.node,he<Ae,!1)}let se;if(l(v)?se=v.getNode():h(v)?se=v.getNode(!0):se=Ab(a),se){const he=_W(s,z,FF(1),se);let Ae=rP($e(he,cP(1)),fe);if(Ae||(Ae=Wa($e(he,cP(0))),Ae))return sR(e,Ae.position.toRange(),!1)}return X.length===0?Sc(e,I).filter(I?h:l).map(he=>KM(e,he.toRange(),!1)):j.none()},Sc=(e,s)=>{const a=e.selection.getRng(),l=s?dt.fromRangeEnd(a):dt.fromRangeStart(a),h=xw(l.container(),e.getBody());if(s){const g=Vv(h,l);return jo(g.positions)}else{const g=E_(h,l);return ks(g.positions)}},HF=(e,s,a)=>Sc(e,s).filter(a).exists(l=>(e.selection.setRng(l.toRange()),!0)),T_=(e,s)=>{const a=e.dom.createRng();a.setStart(s.container(),s.offset()),a.setEnd(s.container(),s.offset()),e.selection.setRng(a)},uP=(e,s)=>{e?s.setAttribute("data-mce-selected","inline-boundary"):s.removeAttribute("data-mce-selected")},rR=(e,s,a)=>SF(s,a).map(l=>(T_(e,l),a)),kW=(e,s,a)=>{const l=dt.fromRangeStart(e);if(e.collapsed)return l;{const h=dt.fromRangeEnd(e);return a?Iu(s,h).getOr(h):Ri(s,l).getOr(l)}},CW=(e,s,a)=>{const l=e.getBody(),h=kW(e.selection.getRng(),l,a),g=it(Cd,e);return uW(a,g,l,h).bind(S=>rR(e,s,S))},SW=(e,s,a)=>{const l=Ye(Ia(ve.fromDom(s.getRoot()),'*[data-mce-selected="inline-boundary"]'),v=>v.dom),h=$e(l,e),g=$e(a,e);ce(jn(h,g),it(uP,!1)),ce(jn(g,h),it(uP,!0))},xW=(e,s)=>{const a=s.get();if(e.selection.isCollapsed()&&!e.composing&&a){const l=dt.fromRangeStart(e.selection.getRng());dt.isTextPosition(l)&&!Fee(l)&&(T_(e,XE(a,l)),s.set(null))}},EW=(e,s,a,l)=>{if(s.selection.isCollapsed()){const h=$e(l,e);ce(h,g=>{const v=dt.fromRangeStart(s.selection.getRng());Sm(e,s.getBody(),v).bind(S=>rR(s,a,S))})}},dP=(e,s,a)=>ns(e)?CW(e,s,a).isSome():!1,UF=(e,s,a)=>ns(s)?fW(e,s):!1,TW=e=>{const s=Ya(null),a=it(Cd,e);return e.on("NodeChange",l=>{ns(e)&&(SW(a,e.dom,l.parents),xW(e,s),EW(a,e,s,l.parents))}),s},fS=it(UF,!0),Kp=it(UF,!1),Tm=(e,s,a)=>{if(ns(e)){const l=Sc(e,s).getOrThunk(()=>{const h=e.selection.getRng();return s?dt.fromRangeEnd(h):dt.fromRangeStart(h)});return Sm(it(Cd,e),e.getBody(),l).exists(h=>{const g=S_(h);return SF(a,g).exists(v=>(T_(e,v),!0))})}else return!1},aR=(e,s)=>{const a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(s.container(),s.offset()),a},fP=e=>ha(ql(e),fh(e),(s,a)=>{const l=Qs(!0,s),h=Qs(!1,a);return Ri(e,l).forall(g=>g.isEqual(h))}).getOr(!0),iR=(e,s)=>a=>SF(s,a).map(l=>()=>T_(e,l)),hP=(e,s,a,l)=>{const h=e.getBody(),g=it(Cd,e);e.undoManager.ignore(()=>{e.selection.setRng(aR(a,l)),OC(e),Sm(g,h,dt.fromRangeStart(e.selection.getRng())).map(uS).bind(iR(e,s)).each(Et)}),e.nodeChanged()},RW=(e,s)=>{const a=hm(s,e);return a||e},jF=(e,s,a,l)=>{const h=RW(e.getBody(),l.container()),g=it(Cd,e),v=Sm(g,h,l);return v.bind(I=>a?I.fold(ot(j.some(uS(I))),j.none,ot(j.some(S_(I))),j.none):I.fold(j.none,ot(j.some(S_(I))),j.none,ot(j.some(uS(I))))).map(iR(e,s)).getOrThunk(()=>{const I=Ow(a,h,l),z=I.bind(W=>Sm(g,h,W));return ha(v,z,()=>Us(g,h,l).bind(W=>fP(W)?j.some(()=>{kv(e,a,ve.fromDom(W))}):j.none())).getOrThunk(()=>z.bind(()=>I.map(W=>()=>{a?hP(e,s,l,W):hP(e,s,W,l)})))})},lR=(e,s,a)=>{if(e.selection.isCollapsed()&&ns(e)){const l=dt.fromRangeStart(e.selection.getRng());return jF(e,s,a,l)}return j.none()},IW=e=>_l(e)>1,WF=(e,s)=>{const a=ve.fromDom(e.getBody()),l=ve.fromDom(e.selection.getStart()),h=Lp(l,a);return zt(h,s).fold(ot(h),g=>h.slice(0,g))},AW=e=>WF(e,s=>Ui(s)||IW(s)),OW=e=>WF(e,Ui),ZF=(e,s)=>{const a=it(Ed,e);return Vt(s,l=>a(l)?[l.dom]:[])},GF=e=>{const s=OW(e);return ZF(e,s)},qF=(e,s,a,l)=>{const h=ZF(s,l);if(h.length===0)kv(s,e,a);else{const g=VC(a.dom,h);s.selection.setRng(g.toRange())}},KF=(e,s)=>{const a=AW(e);return jo(a).bind(l=>{const h=dt.fromRangeStart(e.selection.getRng());return cD(s,h,l.dom)&&!HC(l)?j.some(()=>qF(s,e,l,a)):j.none()})},ste=(e,s)=>{const a=s.parentElement;return Vs(s)&&!J(a)&&e.dom.isEmpty(a)},rte=e=>HC(ve.fromDom(e)),DW=(e,s)=>{const a=e.selection.getStart(),l=ste(e,a)||rte(a)?VC(a,s):o9(e,s);e.selection.setRng(l.toRange())},MW=(e,s)=>{const a=jn(s,GF(e));a.length>0&&DW(e,a)},PW=e=>Pt(e.startContainer),ate=e=>e.startOffset===0&&PW(e),zW=(e,s)=>{const a=s.startContainer.parentElement;return!J(a)&&Ed(e,ve.fromDom(a))},NW=e=>{const s=e.startContainer.parentNode,a=e.endContainer.parentNode;return!J(s)&&!J(a)&&s.isEqualNode(a)},ite=e=>{const s=e.endContainer;return e.endOffset===(Pt(s)?s.length:s.childNodes.length)},LW=e=>NW(e)&&ite(e),tu=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),YF=e=>LW(e)||tu(e),hS=e=>{const s=e.selection.getRng();return ate(s)&&zW(e,s)&&YF(s)},BW=e=>{if(hS(e)){const s=GF(e);return j.some(()=>{OC(e),MW(e,s)})}else return j.none()},cR=(e,s)=>e.selection.isCollapsed()?KF(e,s):BW(e),XF=e=>hT(e,s=>dl(s.dom),Ui),mP=e=>XF(ve.fromDom(e.selection.getStart())),FW=e=>{const s=e.selection.getRng();return s.collapsed&&(PW(s)||e.dom.isEmpty(s.startContainer))&&!mP(e)},mS=e=>(FW(e)&&DW(e,[]),!0),uR=(e,s,a)=>Ue(a)?j.some(()=>{e._selectionOverrides.hideFakeCaret(),kv(e,s,ve.fromDom(a))}):j.none(),$W=(e,s)=>{const a=s?Vn:RC,l=s?ba.Forwards:ba.Backwards,h=Lk(l,e.getBody(),e.selection.getRng());return a(h)?uR(e,s,h.getNode(!s)):j.from(Qs(s,h)).filter(g=>a(g)&&Ew(h,g)).bind(g=>uR(e,s,g.getNode(!s)))},VW=(e,s)=>{const a=e.selection.getNode();return rl(a)?uR(e,s,a):j.none()},pS=(e,s)=>e.selection.isCollapsed()?$W(e,s):VW(e,s),HW=e=>tr(e,s=>Uc(s.dom)||eo(s.dom)).exists(s=>Uc(s.dom)),JF=e=>Pc(e!=null?e:"").getOr(0),QF=(e,s)=>{const a=e||Xf(s)?"margin":"padding",l=dc(s,"direction")==="rtl"?"-right":"-left";return a+l},UW=(e,s,a,l,h,g)=>{const v=QF(a,ve.fromDom(g)),S=JF(e.getStyle(g,v));if(s==="outdent"){const I=Math.max(0,S-l);e.setStyle(g,v,I?I+h:"")}else{const I=S+l+h;e.setStyle(g,v,I)}},pP=(e,s)=>an(s,a=>{const l=QF(CE(e),a),h=ii(a,l).map(JF).getOr(0);return e.dom.getContentEditable(a.dom)!=="false"&&h>0}),gP=e=>{const s=e5(e);return!e.mode.isReadOnly()&&(s.length>1||pP(e,s))},jW=e=>Be(e)||ci(e),WW=e=>Ll(e).exists(jW),e5=e=>$e(ef(e.selection.getSelectedBlocks()),s=>!jW(s)&&!WW(s)&&HW(s)),t5=(e,s)=>{var a,l;const{dom:h}=e,g=Zg(e),v=(l=(a=/[a-z%]+$/i.exec(g))===null||a===void 0?void 0:a[0])!==null&&l!==void 0?l:"px",S=JF(g),I=CE(e);ce(e5(e),z=>{UW(h,s,I,S,v,z.dom)})},yP=e=>t5(e,"indent"),gS=e=>t5(e,"outdent"),bP=e=>{if(e.selection.isCollapsed()&&gP(e)){const s=e.dom,a=e.selection.getRng(),l=dt.fromRangeStart(a),h=s.getParent(a.startContainer,s.isBlock);if(h!==null&&JO(ve.fromDom(h),l))return j.some(()=>gS(e))}return j.none()},vP=(e,s,a)=>Dl([bP,eR,YM,(l,h)=>lR(l,s,h),ZM,tT,cS,pS,qM,cR],l=>l(e,a)).filter(l=>e.selection.isEditable()),ZW=(e,s)=>{vP(e,s,!1).fold(()=>{OC(e),lD(e)},Et)},GW=(e,s)=>{vP(e,s,!0).fold(()=>iD(e),Et)},wP=(e,s)=>{e.addCommand("delete",()=>{ZW(e,s)}),e.addCommand("forwardDelete",()=>{GW(e,s)})},n5=5,qW=400,o5=e=>e.touches===void 0||e.touches.length!==1?j.none():j.some(e.touches[0]),KW=(e,s)=>{const a=Math.abs(e.clientX-s.x),l=Math.abs(e.clientY-s.y);return a>n5||l>n5},xf=e=>{const s=Es(),a=Ya(!1),l=Su(h=>{e.dispatch("longpress",{...h,type:"longpress"}),a.set(!0)},qW);e.on("touchstart",h=>{o5(h).each(g=>{l.cancel();const v={x:g.clientX,y:g.clientY,target:h.target};l.throttle(h),a.set(!1),s.set(v)})},!0),e.on("touchmove",h=>{l.cancel(),o5(h).each(g=>{s.on(v=>{KW(g,v)&&(s.clear(),a.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",h=>{l.cancel(),h.type!=="touchcancel"&&s.get().filter(g=>g.target.isEqualNode(h.target)).each(()=>{a.get()?h.preventDefault():e.dispatch("tap",{...h,type:"tap"})})},!0)},dR=(e,s)=>Fn(e,s.nodeName),s5=(e,s)=>Pt(s)?!0:mt(s)?!dR(e.getBlockElements(),s)&&!za(s)&&!tm(e,s):!1,lte=(e,s,a)=>yt(uH(ve.fromDom(a),ve.fromDom(s)),l=>dR(e,l.dom)),cte=(e,s)=>{if(Pt(s)){if(s.data.length===0)return!0;if(/^\s+$/.test(s.data)&&(!s.nextSibling||dR(e,s.nextSibling)))return!0}return!1},YW=e=>e.dom.create(Pr(e),fw(e)),ute=e=>{const s=e.dom,a=e.selection,l=e.schema,h=l.getBlockElements(),g=a.getStart(),v=e.getBody();let S,I,z=!1;const W=Pr(e);if(!g||!mt(g))return;const U=v.nodeName.toLowerCase();if(!l.isValidChild(U,W.toLowerCase())||lte(h,v,g))return;const X=a.getRng(),{startContainer:fe,startOffset:pe,endContainer:se,endOffset:he}=X,Ae=gy(e);let xe=v.firstChild;for(;xe;)if(mt(xe)&&ip(l,xe),s5(l,xe)){if(cte(h,xe)){I=xe,xe=xe.nextSibling,s.remove(I);continue}S||(S=YW(e),v.insertBefore(S,xe),z=!0),I=xe,xe=xe.nextSibling,S.appendChild(I)}else S=null,xe=xe.nextSibling;z&&Ae&&(X.setStart(fe,pe),X.setEnd(se,he),a.setRng(X),e.nodeChanged())},r5=(e,s,a)=>{const l=ve.fromDom(YW(e)),h=O();nr(l,h),a(s,l);const g=document.createRange();return g.setStartBefore(h.dom),g.setEndBefore(h.dom),g},fR=e=>{e.on("NodeChange",it(ute,e))},a5=e=>s=>(" "+s.attr("class")+" ").indexOf(e)!==-1,_P=(e,s,a)=>function(l){const h=arguments,g=h[h.length-2],v=g>0?s.charAt(g-1):"";if(v==='"')return l;if(v===">"){const S=s.lastIndexOf("<",g);if(S!==-1&&s.substring(S,g).indexOf('contenteditable="false"')!==-1)return l}return'<span class="'+a+'" data-mce-content="'+e.dom.encode(h[0])+'">'+e.dom.encode(typeof h[1]=="string"?h[1]:h[0])+"</span>"},i5=(e,s,a)=>{let l=s.length,h=a.content;if(a.format!=="raw"){for(;l--;)h=h.replace(s[l],_P(e,h,HE(e)));a.content=h}},l5=e=>{const s="contenteditable",a=" "+xt.trim(UE(e))+" ",l=" "+xt.trim(HE(e))+" ",h=a5(a),g=a5(l),v=UA(e);v.length>0&&e.on("BeforeSetContent",S=>{i5(e,v,S)}),e.parser.addAttributeFilter("class",S=>{let I=S.length;for(;I--;){const z=S[I];h(z)?z.attr(s,"true"):g(z)&&z.attr(s,"false")}}),e.serializer.addAttributeFilter(s,S=>{let I=S.length;for(;I--;){const z=S[I];!h(z)&&!g(z)||(v.length>0&&z.attr("data-mce-content")?(z.name="#text",z.type=3,z.raw=!0,z.value=z.attr("data-mce-content")):z.attr(s,null))}})},c5=e=>Gh(ve.fromDom(e.getBody()),"*[data-mce-caret]").map(s=>s.dom).getOrNull(),u5=(e,s)=>{s.hasAttribute("data-mce-caret")&&(Ul(s),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(s))},XW=(e,s)=>{const a=c5(e);if(!!a){if(s.type==="compositionstart"){s.preventDefault(),s.stopPropagation(),u5(e,a);return}ss(a)&&(u5(e,a),e.undoManager.add())}},JW=e=>{e.on("keyup compositionstart",it(XW,e))},d5=eo,hR=(e,s,a)=>$F(s,e,a,vv,wv,d5),QW=(e,s,a)=>VF(s,e,a,g=>vv(g)||no(g),g=>wv(g)||YO(g),d5),eZ=e=>{const s=e.dom.create(Pr(e));return s.innerHTML='<br data-mce-bogus="1">',s},f5=(e,s,a)=>{const l=wd(e.getBody()),h=it(dh,s===1?l.next:l.prev);if(a.collapsed){const g=e.dom.getParent(a.startContainer,"PRE");if(!g)return;if(!h(dt.fromRangeStart(a))){const S=ve.fromDom(eZ(e));s===1?sd(ve.fromDom(g),S):Go(ve.fromDom(g),S),e.selection.select(S.dom,!0),e.selection.collapse()}}},kP=(e,s)=>{const a=s?ba.Forwards:ba.Backwards,l=e.selection.getRng();return hR(a,e,l).orThunk(()=>(f5(e,a,l),j.none()))},tZ=(e,s)=>{const a=s?1:-1,l=e.selection.getRng();return QW(a,e,l).orThunk(()=>(f5(e,a,l),j.none()))},h5=(e,s)=>kP(e,s).exists(a=>(qp(e,a),!0)),CP=(e,s)=>tZ(e,s).exists(a=>(qp(e,a),!0)),m5=(e,s)=>HF(e,s,s?wv:vv),mR=(e,s)=>XM(e,!s).map(a=>{const l=a.toRange(),h=e.selection.getRng();return s?l.setStart(h.startContainer,h.startOffset):l.setEnd(h.endContainer,h.endOffset),l}).exists(a=>(qp(e,a),!0)),nZ=e=>Oe(["figcaption"],Cs(e)),oZ=(e,s)=>{const a=it(Xo,s);return tr(ve.fromDom(e.container()),Ui,a).filter(nZ)},sZ=(e,s,a)=>s?Hv(e.dom,a):Od(e.dom,a),rZ=(e,s)=>{const a=ve.fromDom(e.getBody()),l=dt.fromRangeStart(e.selection.getRng());return oZ(l,a).exists(()=>{if(sZ(a,s,l)){const g=r5(e,a,s?nr:Jd);return e.selection.setRng(g),!0}else return!1})},pR=(e,s)=>e.selection.isCollapsed()?rZ(e,s):!1,p5={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},g5=e=>Ye(e,s=>({...p5,...s})),aZ=e=>Ye(e,s=>({...p5,...s})),y5=(e,s)=>s.keyCode===e.keyCode&&s.shiftKey===e.shiftKey&&s.altKey===e.altKey&&s.ctrlKey===e.ctrlKey&&s.metaKey===e.metaKey,iZ=(e,s)=>Vt(g5(e),a=>y5(a,s)?[a]:[]),lZ=(e,s)=>Vt(aZ(e),a=>y5(a,s)?[a]:[]),ro=(e,...s)=>()=>e.apply(null,s),yS=(e,s)=>ut(iZ(e,s),a=>a.action()),wa=(e,s)=>Dl(lZ(e,s),a=>a.action()),b5=(e,s)=>{const a=s?ba.Forwards:ba.Backwards,l=e.selection.getRng();return $F(e,a,l,Vn,RC,rl).exists(h=>(qp(e,h),!0))},v5=(e,s)=>{const a=s?1:-1,l=e.selection.getRng();return VF(e,a,l,Vn,RC,rl).exists(h=>(qp(e,h),!0))},w5=(e,s)=>HF(e,s,s?RC:Vn),SP=Js.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),R_={...SP,none:e=>SP.none(e)},Py=(e,s)=>gR(e,s,me),gR=(e,s,a)=>Vt(Ta(e),l=>Bi(l,s)?a(l)?[l]:[]:gR(l,s,a)),k5=(e,s,a=Ee)=>{if(a(s))return j.none();if(Oe(e,Cs(s)))return j.some(s);const l=h=>Bi(h,"table")||a(h);return Ra(s,e.join(","),l)},xP=(e,s)=>k5(["td","th"],e,s),EP=e=>Py(e,"th,td"),yR=(e,s)=>Bc(e,"table",s),bR=(e,s,a,l,h=me)=>{const g=l===1;if(!g&&a<=0)return R_.first(e[0]);if(g&&a>=e.length-1)return R_.last(e[e.length-1]);{const v=a+l,S=e[v];return h(S)?R_.middle(s,S):bR(e,s,v,l,h)}},bS=(e,s)=>yR(e,s).bind(a=>{const l=EP(a);return zt(l,g=>Xo(e,g)).map(g=>({index:g,all:l}))}),vR=(e,s,a)=>bS(e,a).fold(()=>R_.none(e),h=>bR(h.all,e,h.index,1,s)),vS=(e,s,a)=>bS(e,a).fold(()=>R_.none(),h=>bR(h.all,e,h.index,-1,s)),wS=(e,s)=>({left:e.left-s,top:e.top-s,right:e.right+s*2,bottom:e.bottom+s*2,width:e.width+s,height:e.height+s}),Rm=(e,s)=>Vt(s,a=>{const l=wS(lh(a.getBoundingClientRect()),-1);return[{x:l.left,y:e(l),cell:a},{x:l.right,y:e(l),cell:a}]}),_S=(e,s,a)=>be(e,(l,h)=>l.fold(()=>j.some(h),g=>{const v=Math.sqrt(Math.abs(g.x-s)+Math.abs(g.y-a)),S=Math.sqrt(Math.abs(h.x-s)+Math.abs(h.y-a));return j.some(S<v?h:g)}),j.none()),TP=(e,s,a,l,h)=>{const g=Ia(ve.fromDom(a),"td,th,caption").map(S=>S.dom),v=$e(Rm(e,g),S=>s(S,h));return _S(v,l,h).map(S=>S.cell)},C5=e=>e.bottom,cZ=e=>e.top,S5=(e,s)=>e.y<s,uZ=(e,s)=>e.y>s,dZ=it(TP,C5,S5),x5=it(TP,cZ,uZ),fZ=(e,s)=>ks(s.getClientRects()).bind(a=>dZ(e,a.left,a.top)).bind(a=>x_(mW(a),s)),hZ=(e,s)=>jo(s.getClientRects()).bind(a=>x5(e,a.left,a.top)).bind(a=>x_(sP(a),s)),mZ=(e,s,a)=>a.breakAt.exists(l=>e(s,l).breakAt.isSome()),pZ=e=>e.breakType===xm.Wrap&&e.positions.length===0,gZ=e=>e.breakType===xm.Br&&e.positions.length===1,E5=(e,s,a)=>{const l=e(s,a);return pZ(l)||!Vs(a.getNode())&&gZ(l)?!mZ(e,s,l):l.breakAt.isNone()},yZ=it(E5,E_),bZ=it(E5,Vv),vZ=(e,s,a)=>{const l=dt.fromRangeStart(s);return ny(!e,a).exists(h=>h.isEqual(l))},wZ=(e,s,a,l)=>{const h=e.selection.getRng(),g=s?1:-1;return QE()&&vZ(s,h,a)?(Zp(g,e,a,!s,!1).each(v=>{qp(e,v)}),!0):!1},_Z=(e,s,a)=>fZ(s,a).orThunk(()=>ks(a.getClientRects()).bind(l=>oR(Gp(e,dt.before(s)),l.left))).getOr(dt.before(s)),kZ=(e,s,a)=>hZ(s,a).orThunk(()=>ks(a.getClientRects()).bind(l=>oR(oP(e,dt.after(s)),l.left))).getOr(dt.after(s)),T5=(e,s)=>{const a=s.getNode(e);return hc(a)?j.some(a):j.none()},R5=(e,s,a)=>{s.undoManager.transact(()=>{const l=e?sd:Go,h=r5(s,ve.fromDom(a),l);qp(s,h)})},RP=(e,s,a)=>{const l=T5(!!s,a),h=s===!1;l.fold(()=>qp(e,a.toRange()),g=>ny(h,e.getBody()).filter(v=>v.isEqual(a)).fold(()=>qp(e,a.toRange()),v=>R5(s,e,g)))},I5=(e,s,a,l)=>{const h=e.selection.getRng(),g=dt.fromRangeStart(h),v=e.getBody();if(!s&&yZ(l,g)){const S=_Z(v,a,g);return RP(e,s,S),!0}else if(s&&bZ(l,g)){const S=kZ(v,a,g);return RP(e,s,S),!0}else return!1},A5=(e,s,a)=>j.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(l=>j.from(e.dom.getParent(l,"table")).map(h=>a(e,s,h,l))).getOr(!1),O5=(e,s)=>A5(e,s,wZ),D5=(e,s)=>A5(e,s,I5),CZ=e=>{const s=bm.exact(e,0,e,0);return DO(s)},IP=(e,s,a)=>a.fold(j.none,j.none,(l,h)=>$4(h).map(g=>CZ(g)),l=>(e.execCommand("mceTableInsertRowAfter"),M5(e,s,l))),M5=(e,s,a)=>IP(e,s,vR(a,Gf)),P5=(e,s,a)=>IP(e,s,vS(a,Gf)),z5=(e,s)=>{const a=["table","li","dl"],l=ve.fromDom(e.getBody()),h=S=>{const I=Cs(S);return Xo(S,l)||Oe(a,I)},g=e.selection.getRng(),v=ve.fromDom(s?g.endContainer:g.startContainer);return xP(v,h).map(S=>(yR(S,h).each(W=>{e.model.table.clearSelectedCells(W.dom)}),e.selection.collapse(!s),(s?M5:P5)(e,h,S).each(W=>{e.selection.setRng(W)}),!0)).getOr(!1)},N5=(e,s,a)=>{const l=Fo.os.isMacOS()||Fo.os.isiOS();yS([{keyCode:fn.RIGHT,action:ro(h5,e,!0)},{keyCode:fn.LEFT,action:ro(h5,e,!1)},{keyCode:fn.UP,action:ro(CP,e,!1)},{keyCode:fn.DOWN,action:ro(CP,e,!0)},...l?[{keyCode:fn.UP,action:ro(mR,e,!1),metaKey:!0,shiftKey:!0},{keyCode:fn.DOWN,action:ro(mR,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:fn.RIGHT,action:ro(O5,e,!0)},{keyCode:fn.LEFT,action:ro(O5,e,!1)},{keyCode:fn.UP,action:ro(D5,e,!1)},{keyCode:fn.DOWN,action:ro(D5,e,!0)},{keyCode:fn.RIGHT,action:ro(b5,e,!0)},{keyCode:fn.LEFT,action:ro(b5,e,!1)},{keyCode:fn.UP,action:ro(v5,e,!1)},{keyCode:fn.DOWN,action:ro(v5,e,!0)},{keyCode:fn.RIGHT,action:ro(dP,e,s,!0)},{keyCode:fn.LEFT,action:ro(dP,e,s,!1)},{keyCode:fn.RIGHT,ctrlKey:!l,altKey:l,action:ro(fS,e,s)},{keyCode:fn.LEFT,ctrlKey:!l,altKey:l,action:ro(Kp,e,s)},{keyCode:fn.UP,action:ro(pR,e,!1)},{keyCode:fn.DOWN,action:ro(pR,e,!0)}],a).each(h=>{a.preventDefault()})},L5=(e,s)=>{e.on("keydown",a=>{a.isDefaultPrevented()||N5(e,s,a)})},Sh=(e,s)=>({container:e,offset:s}),wR=ys.DOM,_R=e=>s=>e===s?-1:0,B5=e=>s=>e.isBlock(s)||Oe(["BR","IMG","HR","INPUT"],s.nodeName)||e.getContentEditable(s)==="false",AP=(e,s,a)=>{if(Pt(e)&&s>=0)return j.some(Sh(e,s));{const l=hp(wR);return j.from(l.backwards(e,s,_R(e),a)).map(h=>Sh(h.container,h.container.data.length))}},SZ=(e,s,a)=>{if(Pt(e)&&s>=e.length)return j.some(Sh(e,s));{const l=hp(wR);return j.from(l.forwards(e,s,_R(e),a)).map(h=>Sh(h.container,0))}},kR=(e,s,a)=>{if(!Pt(e))return j.none();const l=e.data;if(s>=0&&s<=l.length)return j.some(Sh(e,s));{const h=hp(wR);return j.from(h.backwards(e,s,_R(e),a)).bind(g=>{const v=g.container.data;return kR(g.container,s+v.length,a)})}},F5=(e,s,a)=>{if(!Pt(e))return j.none();const l=e.data;if(s<=l.length)return j.some(Sh(e,s));{const h=hp(wR);return j.from(h.forwards(e,s,_R(e),a)).bind(g=>F5(g.container,s-l.length,a))}},OP=(e,s,a,l,h)=>{const g=hp(e,B5(e));return j.from(g.backwards(s,a,l,h))},$5=e=>e.collapsed&&Pt(e.startContainer),V5=e=>at(e.toString().replace(/\u00A0/g," ")),H5=e=>e!==""&&` \xA0\f
\r	\v`.indexOf(e)!==-1,DP=(e,s)=>e.substring(s.length),U5=(e,s,a)=>{let l;const h=a.charAt(0);for(l=s-1;l>=0;l--){const g=e.charAt(l);if(H5(g))return j.none();if(h===g&&wr(e,a,l,s))break}return j.some(l)},j5=(e,s,a,l=0)=>{if(!$5(s))return j.none();const h={text:"",offset:0},g=(S,I,z)=>(h.text=z+h.text,h.offset+=I,U5(h.text,h.offset,a).getOr(I)),v=e.getParent(s.startContainer,e.isBlock)||e.getRoot();return OP(e,s.startContainer,s.startOffset,g,v).bind(S=>{const I=s.cloneRange();if(I.setStart(S.container,S.offset),I.setEnd(s.endContainer,s.endOffset),I.collapsed)return j.none();const z=V5(I);return z.lastIndexOf(a)!==0||DP(z,a).length<l?j.none():j.some({text:DP(z,a),range:I,trigger:a})})},W5=(e,s,a,l=0)=>Y7(ve.fromDom(s.startContainer)).fold(()=>j5(e,s,a,l),h=>{const g=e.createRng();g.selectNode(h.dom);const v=V5(g);return j.some({range:g,text:DP(v,a),trigger:a})}),xZ=e=>e.nodeType===Zm,EZ=e=>e.nodeType===qd,Z5=e=>{if(xZ(e))return Sh(e,e.data.length);{const s=e.childNodes;return s.length>0?Z5(s[s.length-1]):Sh(e,s.length)}},G5=(e,s)=>{const a=e.childNodes;return a.length>0&&s<a.length?G5(a[s],0):a.length>0&&EZ(e)&&a.length===s?Z5(a[a.length-1]):Sh(e,s)},TZ=(e,s)=>{var a;const l=(a=e.getParent(s.container,e.isBlock))!==null&&a!==void 0?a:e.getRoot();return OP(e,s.container,s.offset,(h,g)=>g===0?-1:g,l).filter(h=>{const g=h.container.data.charAt(h.offset-1);return!H5(g)}).isSome()},RZ=e=>s=>{const a=G5(s.startContainer,s.startOffset);return!TZ(e,a)},IZ=(e,s,a)=>Dl(a.triggers,l=>W5(e,s,l)),dte=(e,s)=>{const a=s(),l=e.selection.getRng();return IZ(e.dom,l,a).bind(h=>q5(e,s,h))},q5=(e,s,a,l={})=>{var h;const g=s(),S=(h=e.selection.getRng().startContainer.nodeValue)!==null&&h!==void 0?h:"",I=$e(g.lookupByTrigger(a.trigger),W=>a.text.length>=W.minChars&&W.matches.getOrThunk(()=>RZ(e.dom))(a.range,S,a.text));if(I.length===0)return j.none();const z=Promise.all(Ye(I,W=>W.fetch(a.text,W.maxResults,l).then(X=>({matchText:a.text,items:X,columns:W.columns,onAction:W.onAction,highlightOn:W.highlightOn}))));return j.some({lookupData:z,context:a})};var $u;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})($u||($u={}));const CR=(e,s,a)=>e.stype===$u.Error?s(e.serror):a(e.svalue),K5=e=>{const s=[],a=[];return ce(e,l=>{CR(l,h=>a.push(h),h=>s.push(h))}),{values:s,errors:a}},AZ=(e,s)=>e.stype===$u.Error?{stype:$u.Error,serror:s(e.serror)}:e,Y5=(e,s)=>e.stype===$u.Value?{stype:$u.Value,svalue:s(e.svalue)}:e,X5=(e,s)=>e.stype===$u.Value?s(e.svalue):e,OZ=(e,s)=>e.stype===$u.Error?s(e.serror):e,J5=e=>({stype:$u.Value,svalue:e}),Q5=e=>({stype:$u.Error,serror:e}),fi={fromResult:e=>e.fold(Q5,J5),toResult:e=>CR(e,Xs.error,Xs.value),svalue:J5,partition:K5,serror:Q5,bind:X5,bindError:OZ,map:Y5,mapError:AZ,fold:CR},MP=e=>ht(e)&&Fr(e).length>100?" removed due to size":JSON.stringify(e,null,2),MZ=e=>{const s=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:ot("... (only showing first ten failures)")}]):e;return Ye(s,a=>"Failed path: ("+a.path.join(" > ")+`)
`+a.getErrorInfo())},SR=(e,s)=>fi.serror([{path:e,getErrorInfo:s}]),e6=(e,s,a)=>SR(e,()=>'Could not find valid *required* value for "'+s+'" in '+MP(a)),PZ=(e,s)=>SR(e,()=>'Choice schema did not contain choice key: "'+s+'"'),zZ=(e,s,a)=>SR(e,()=>'The chosen schema: "'+a+'" did not exist in branches: '+MP(s)),NZ=(e,s)=>SR(e,ot(s)),LZ=(e,s,a,l)=>fs(a,l).fold(()=>zZ(e,a,l),g=>g.extract(e.concat(["branch: "+l]),s)),BZ=(e,s)=>({extract:(h,g)=>fs(g,e).fold(()=>PZ(h,e),S=>LZ(h,g,s,S)),toString:()=>"chooseOn("+e+"). Possible values: "+Fr(s)}),ti=(e,s)=>s,Im=(e,s)=>He(e)&&He(s)?PP(e,s):s,t6=e=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const a={};for(let l=0;l<s.length;l++){const h=s[l];for(const g in h)Fn(h,g)&&(a[g]=e(a[g],h[g]))}return a},PP=t6(Im),FZ=t6(ti),n6=()=>({tag:"required",process:{}}),$Z=e=>({tag:"defaultedThunk",process:e}),o6=e=>$Z(ot(e)),s6=()=>({tag:"option",process:{}}),I_=(e,s)=>e.length>0?fi.svalue(PP(s,FZ.apply(void 0,e))):fi.svalue(s),VZ=e=>L(fi.serror,Dt)(e),xh={consolidateObj:(e,s)=>{const a=fi.partition(e);return a.errors.length>0?VZ(a.errors):I_(a.values,s)},consolidateArr:e=>{const s=fi.partition(e);return s.errors.length>0?VZ(s.errors):fi.svalue(s.values)}},HZ=(e,s,a,l)=>({tag:"field",key:e,newKey:s,presence:a,prop:l}),UZ=(e,s)=>({tag:"custom",newKey:e,instantiator:s}),zP=(e,s,a)=>{switch(e.tag){case"field":return s(e.key,e.newKey,e.presence,e.prop);case"custom":return a(e.newKey,e.instantiator)}},NP=e=>{const s=(l,h)=>fi.bindError(e(h),g=>NZ(l,g)),a=ot("val");return{extract:s,toString:a}},LP=NP(fi.svalue),r6=(e,s,a,l)=>fs(s,a).fold(()=>e6(e,a,s),l),a6=(e,s,a,l)=>{const h=fs(e,s).getOrThunk(()=>a(e));return l(h)},jZ=(e,s,a)=>a(fs(e,s)),WZ=(e,s,a,l)=>{const h=fs(e,s).map(g=>g===!0?a(e):g);return l(h)},i6=(e,s,a,l,h)=>{const g=S=>h.extract(s.concat([l]),S),v=S=>S.fold(()=>fi.svalue(j.none()),I=>{const z=h.extract(s.concat([l]),I);return fi.map(z,j.some)});switch(e.tag){case"required":return r6(s,a,l,g);case"defaultedThunk":return a6(a,l,e.process,g);case"option":return jZ(a,l,v);case"defaultedOptionThunk":return WZ(a,l,e.process,v);case"mergeWithThunk":return a6(a,l,ot({}),S=>{const I=PP(e.process(a),S);return g(I)})}},l6=(e,s,a)=>{const l={},h=[];for(const g of a)zP(g,(v,S,I,z)=>{const W=i6(I,e,s,v,z);fi.fold(W,U=>{h.push(...U)},U=>{l[S]=U})},(v,S)=>{l[v]=S(s)});return h.length>0?fi.serror(h):fi.svalue(l)},kS=e=>({extract:(l,h)=>l6(l,h,e),toString:()=>`obj{
`+Ye(e,h=>zP(h,(g,v,S,I)=>g+" -> "+I.toString(),(g,v)=>"state("+g+")")).join(`
`)+"}"}),xR=e=>({extract:(l,h)=>{const g=Ye(h,(v,S)=>e.extract(l.concat(["["+S+"]"]),v));return xh.consolidateArr(g)},toString:()=>"array("+e.toString()+")"}),BP=e=>NP(s=>e(s).fold(fi.serror,fi.svalue)),ZZ=(e,s,a)=>{const l=s.extract([e],a);return fi.mapError(l,h=>({input:a,errors:h}))},GZ=(e,s,a)=>fi.toResult(ZZ(e,s,a)),qZ=e=>`Errors: 
`+MZ(e.errors).join(`
`)+`

Input object: `+MP(e.input),c6=(e,s)=>BZ(e,Mo(s,kS)),FP=ot(LP),CS=(e,s)=>NP(a=>{const l=typeof a;return e(a)?fi.svalue(a):fi.serror(`Expected type: ${s} but got: ${l}`)}),KZ=CS(Tn,"number"),SS=CS(ee,"string"),YZ=CS(Te,"boolean"),xS=CS(de,"function"),ES=HZ,u6=UZ,XZ=e=>BP(s=>Oe(e,s)?Xs.value(s):Xs.error(`Unsupported value: "${s}", choose one of "${e.join(", ")}".`)),d6=(e,s)=>ES(e,e,n6(),s),f6=e=>d6(e,SS),$P=e=>d6(e,xS),VP=(e,s)=>ES(e,e,n6(),xR(s)),ER=(e,s)=>ES(e,e,s6(),s),TS=e=>ER(e,SS),JZ=e=>ER(e,xS),QZ=(e,s)=>ES(e,e,o6(s),FP()),A_=(e,s,a)=>ES(e,e,o6(s),a),RS=(e,s)=>A_(e,s,KZ),h6=(e,s)=>A_(e,s,SS),HP=(e,s,a)=>A_(e,s,XZ(a)),UP=(e,s)=>A_(e,s,YZ),jP=(e,s)=>A_(e,s,xS),pte=(e,s,a)=>A_(e,s,xR(a)),gte=f6("type"),yte=$P("fetch"),WP=$P("onAction"),bte=jP("onSetup",()=>Ot),eG=TS("text"),tG=TS("icon"),vte=TS("tooltip"),nG=TS("label"),_a=UP("active",!1),ZP=UP("enabled",!0),Eh=UP("primary",!1),m6=e=>QZ("columns",e),O_=e=>h6("type",e),oG=kS([gte,f6("trigger"),RS("minChars",1),m6(1),RS("maxResults",10),JZ("matches"),yte,WP,pte("highlightOn",[],SS)]),GP=e=>GZ("Autocompleter",oG,{trigger:e.ch,...e}),IS=[ZP,vte,tG,eG,bte],qP=[_a].concat(IS),p6=[jP("predicate",Ee),HP("scope","node",["node","editor"]),HP("position","selection",["node","selection","line"])],sG=IS.concat([O_("contextformbutton"),Eh,WP,u6("original",Bn)]),rG=qP.concat([O_("contextformbutton"),Eh,WP,u6("original",Bn)]),aG=IS.concat([O_("contextformbutton")]),iG=qP.concat([O_("contextformtogglebutton")]),lG=c6("type",{contextformbutton:sG,contextformtogglebutton:rG});kS([O_("contextform"),jP("initValue",ot("")),nG,VP("commands",lG),ER("launch",c6("type",{contextformbutton:aG,contextformtogglebutton:iG}))].concat(p6));const g6=e=>{const s=e.ui.registry.getAll().popups,a=Mo(s,v=>GP(v).fold(S=>{throw new Error(qZ(S))},Bn)),l=zf(ac(a,v=>v.trigger)),h=Xu(a);return{dataset:a,triggers:l,lookupByTrigger:v=>$e(h,S=>S.trigger===v)}},cG=(e,s)=>{const a=Su(s.load,50);e.on("keypress compositionend",l=>{l.which!==27&&a.throttle()}),e.on("keydown",l=>{const h=l.which;h===8?a.throttle():h===27&&s.cancelIfNecessary()}),e.on("remove",a.cancel)},uG=e=>{const s=Es(),a=Ya(!1),l=s.isSet,h=()=>{l()&&(SM(e),T2(e),a.set(!1),s.clear())},g=z=>{l()||(_h(e,z.range),s.set({trigger:z.trigger,matchLength:z.text.length}))},v=ic(()=>g6(e)),S=z=>s.get().map(W=>W5(e.dom,e.selection.getRng(),W.trigger).bind(U=>q5(e,v,U,z))).getOrThunk(()=>dte(e,v)),I=z=>{S(z).fold(h,W=>{g(W.context),W.lookupData.then(U=>{s.get().map(X=>{const fe=W.context;X.trigger===fe.trigger&&(fe.text.length-X.matchLength>=10?h():(s.set({...X,matchLength:fe.text.length}),a.get()?wO(e,{lookupData:U}):(a.set(!0),E2(e,{lookupData:U}))))})})})};e.addCommand("mceAutocompleterReload",(z,W)=>{const U=ht(W)?W.fetchOptions:{};I(U)}),e.addCommand("mceAutocompleterClose",h),cG(e,{cancelIfNecessary:h,load:I})},y6=e=>(s,a,l={})=>{const h=s.getBody(),g={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:h,currentTarget:h,eventPhase:Event.AT_TARGET,originalTarget:h,explicitOriginalTarget:h,isTrusted:!1,srcElement:h,cancelable:!1,preventDefault:Ot,inputType:a},v=$g(new InputEvent(e));return s.dispatch(e,{...v,...g,...l})},KP=y6("input"),YP=y6("beforeinput"),b6=(e,s,a)=>{const l=a.keyCode===fn.BACKSPACE?"deleteContentBackward":"deleteContentForward";wa([{keyCode:fn.BACKSPACE,action:ro(bP,e)},{keyCode:fn.BACKSPACE,action:ro(eR,e,!1)},{keyCode:fn.DELETE,action:ro(eR,e,!0)},{keyCode:fn.BACKSPACE,action:ro(YM,e,!1)},{keyCode:fn.DELETE,action:ro(YM,e,!0)},{keyCode:fn.BACKSPACE,action:ro(lR,e,s,!1)},{keyCode:fn.DELETE,action:ro(lR,e,s,!0)},{keyCode:fn.BACKSPACE,action:ro(tT,e,!1)},{keyCode:fn.DELETE,action:ro(tT,e,!0)},{keyCode:fn.BACKSPACE,action:ro(cS,e,!1)},{keyCode:fn.DELETE,action:ro(cS,e,!0)},{keyCode:fn.BACKSPACE,action:ro(pS,e,!1)},{keyCode:fn.DELETE,action:ro(pS,e,!0)},{keyCode:fn.BACKSPACE,action:ro(qM,e,!1)},{keyCode:fn.DELETE,action:ro(qM,e,!0)},{keyCode:fn.BACKSPACE,action:ro(ZM,e,!1)},{keyCode:fn.DELETE,action:ro(ZM,e,!0)},{keyCode:fn.BACKSPACE,action:ro(cR,e,!1)},{keyCode:fn.DELETE,action:ro(cR,e,!0)}],a).filter(h=>e.selection.isEditable()).each(h=>{a.preventDefault(),YP(e,l).isDefaultPrevented()||(h(),KP(e,l))})},v6=(e,s,a)=>{const l=gu(),h=l.os,g=l.browser,v=h.isMacOS()?[{keyCode:fn.BACKSPACE,altKey:!0,action:ro(mS,e)},{keyCode:fn.DELETE,altKey:!0,action:ro(mS,e)}]:[{keyCode:fn.BACKSPACE,ctrlKey:!0,action:ro(mS,e)},{keyCode:fn.DELETE,ctrlKey:!0,action:ro(mS,e)}];h.isMacOS()&&a&&v.push({keyCode:g.isFirefox()?224:91,action:ro(mS,e)}),yS([{keyCode:fn.BACKSPACE,action:ro(eP,e)},{keyCode:fn.DELETE,action:ro(eP,e)},...v],s)},dG=(e,s)=>{let a=!1;e.on("keydown",l=>{a=l.keyCode===fn.BACKSPACE,l.isDefaultPrevented()||b6(e,s,l)}),e.on("keyup",l=>{l.isDefaultPrevented()||v6(e,l,a),a=!1})},fG=e=>{for(;e;){if(mt(e)||Pt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},TR=(e,s)=>{const a=e.dom,l=e.schema.getMoveCaretBeforeOnEnterElements();if(!s)return;if(/^(LI|DT|DD)$/.test(s.nodeName)){const g=fG(s.firstChild);g&&/^(UL|OL|DL)$/.test(g.nodeName)&&s.insertBefore(a.doc.createTextNode(Qo),s.firstChild)}const h=a.createRng();if(s.normalize(),s.hasChildNodes()){const g=new Mr(s,s);let v=s,S;for(;S=g.current();){if(Pt(S)){h.setStart(S,0),h.setEnd(S,0);break}if(l[S.nodeName.toLowerCase()]){h.setStartBefore(S),h.setEndBefore(S);break}v=S,S=g.next()}S||(h.setStart(v,0),h.setEnd(v,0))}else Vs(s)?s.nextSibling&&a.isBlock(s.nextSibling)?(h.setStartBefore(s),h.setEndBefore(s)):(h.setStartAfter(s),h.setEndAfter(s)):(h.setStart(s,0),h.setEnd(s,0));e.selection.setRng(h),bt(e,h)},D_=(e,s)=>{const a=e.getRoot();let l,h=s;for(;h!==a&&h&&e.getContentEditable(h)!=="false";)e.getContentEditable(h)==="true"&&(l=h),h=h.parentNode;return h!==a?l:a},XP=e=>j.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),hG=e=>XP(e).fold(ot(""),s=>s.nodeName.toUpperCase()),mG=e=>XP(e).filter(s=>ci(ve.fromDom(s))).isSome(),w6=(e,s)=>e.firstChild&&e.firstChild.nodeName===s,pG=e=>{var s;return((s=e.parentNode)===null||s===void 0?void 0:s.firstChild)===e},JP=(e,s)=>{const a=e==null?void 0:e.parentNode;return Ue(a)&&a.nodeName===s},_6=e=>Ue(e)&&/^(OL|UL|LI)$/.test(e.nodeName),gG=e=>Ue(e)&&/^(LI|DT|DD)$/.test(e.nodeName),wte=e=>_6(e)&&_6(e.parentNode),hi=e=>{const s=e.parentNode;return gG(s)?s:e},RR=(e,s,a)=>{let l=e[a?"firstChild":"lastChild"];for(;l&&!mt(l);)l=l[a?"nextSibling":"previousSibling"];return l===s},yG=(e,s,a,l,h)=>{const g=e.dom,v=e.selection.getRng(),S=a.parentNode;if(a===e.getBody()||!S)return;wte(a)&&(h="LI");let I=s(h);if(RR(a,l,!0)&&RR(a,l,!1))if(JP(a,"LI")){const z=hi(a);g.insertAfter(I,z),pG(a)?g.remove(z):g.remove(a)}else g.replace(I,a);else if(RR(a,l,!0))JP(a,"LI")?(g.insertAfter(I,hi(a)),I.appendChild(g.doc.createTextNode(" ")),I.appendChild(a)):S.insertBefore(I,a),g.remove(l);else if(RR(a,l,!1))g.insertAfter(I,hi(a)),g.remove(l);else{a=hi(a);const z=v.cloneRange();z.setStartAfter(l),z.setEndAfter(a);const W=z.extractContents();h==="LI"&&w6(W,"LI")?(I=W.firstChild,g.insertAfter(W,a)):(g.insertAfter(W,a),g.insertAfter(I,a)),g.remove(l)}TR(e,I)},bG=e=>{ce(fb(ve.fromDom(e),wi),s=>{const a=s.dom;a.nodeValue=at(a.data)})},vG=(e,s)=>{const a=e.dom.getParent(s,"ol,ul,dl");return a!==null&&e.dom.getContentEditableParent(a)==="false"},wG=(e,s)=>s&&s.nodeName==="A"&&e.isEmpty(s),QP=e=>{e.innerHTML='<br data-mce-bogus="1">'},ez=(e,s)=>e.nodeName===s||e.previousSibling&&e.previousSibling.nodeName===s,M_=(e,s)=>Ue(s)&&e.isBlock(s)&&!/^(TD|TH|CAPTION|FORM)$/.test(s.nodeName)&&!/^(fixed|absolute)/i.test(s.style.position)&&e.isEditable(s.parentNode)&&e.getContentEditable(s)!=="false",_G=(e,s,a)=>{var l;const h=[];if(!a)return;let g=a;for(;g=g.firstChild;){if(e.isBlock(g))return;mt(g)&&!s[g.nodeName.toLowerCase()]&&h.push(g)}let v=h.length;for(;v--;)g=h[v],(!g.hasChildNodes()||g.firstChild===g.lastChild&&((l=g.firstChild)===null||l===void 0?void 0:l.nodeValue)===""||wG(e,g))&&e.remove(g)},tz=(e,s,a)=>Pt(s)?e?a===1&&s.data.charAt(a-1)===ne?0:a:a===s.data.length-1&&s.data.charAt(a)===ne?s.data.length:a:a,nz=e=>{const s=e.cloneRange();return s.setStart(e.startContainer,tz(!0,e.startContainer,e.startOffset)),s.setEnd(e.endContainer,tz(!1,e.endContainer,e.endOffset)),s},oz=e=>{let s=e;do Pt(s)&&(s.data=s.data.replace(/^[\r\n]+/,"")),s=s.firstChild;while(s)},kG=(e,s,a)=>{const l=e.dom;j.from(a.style).map(l.parseStyle).each(I=>{const W={...kl(ve.fromDom(s)),...I};l.setStyles(s,W)});const h=j.from(a.class).map(I=>I.split(/\s+/)),g=j.from(s.className).map(I=>$e(I.split(/\s+/),z=>z!==""));ha(h,g,(I,z)=>{const W=$e(z,X=>!Oe(I,X)),U=[...I,...W];l.setAttrib(s,"class",U.join(" "))});const v=["style","class"],S=ws(a,(I,z)=>!Oe(v,z));l.setAttribs(s,S)},IR=(e,s)=>{if(Pr(e).toLowerCase()===s.tagName.toLowerCase()){const l=fw(e);kG(e,s,l)}},_te=(e,s,a,l,h)=>{var g,v;const S=e.dom,I=(g=D_(S,l))!==null&&g!==void 0?g:S.getRoot();let z=S.getParent(l,S.isBlock);if(!z||!M_(S,z)){if(z=z||I,!z.hasChildNodes()){const fe=S.create(s);return IR(e,fe),z.appendChild(fe),a.setStart(fe,0),a.setEnd(fe,0),fe}let W=l;for(;W&&W.parentNode!==z;)W=W.parentNode;let U;for(;W&&!S.isBlock(W);)U=W,W=W.previousSibling;const X=(v=U==null?void 0:U.parentElement)===null||v===void 0?void 0:v.nodeName;if(U&&X&&e.schema.isValidChild(X,s.toLowerCase())){const fe=U.parentNode,pe=S.create(s);for(IR(e,pe),fe.insertBefore(pe,U),W=U;W&&!S.isBlock(W);){const se=W.nextSibling;pe.appendChild(W),W=se}a.setStart(l,h),a.setEnd(l,h)}}return l},CG=(e,s)=>{s.normalize();const a=s.lastChild;(!a||mt(a)&&/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(s,"br")},SG=(e,s)=>{const a=pf(e);return _t(s)?!1:ee(a)?Oe(xt.explode(a),s.nodeName.toLowerCase()):a},Am={insert:(e,s)=>{let a,l,h,g,v=!1;const S=e.dom,I=e.schema,z=I.getNonEmptyElements(),W=e.selection.getRng(),U=Pr(e),X=Zt=>{let Bt=a;const tt=I.getTextInlineElements();let nt;Zt||h==="TABLE"||h==="HR"?nt=S.create(Zt||U):nt=xe.cloneNode(!1);let on=nt;if(Fb(e)===!1)S.setAttrib(nt,"style",null),S.setAttrib(nt,"class",null);else do if(tt[Bt.nodeName]){if(dl(Bt)||za(Bt))continue;const Cn=Bt.cloneNode(!1);S.setAttrib(Cn,"id",""),nt.hasChildNodes()?(Cn.appendChild(nt.firstChild),nt.appendChild(Cn)):(on=Cn,nt.appendChild(Cn))}while((Bt=Bt.parentNode)&&Bt!==Ae);return IR(e,nt),QP(on),nt},fe=Zt=>{const Bt=tz(Zt,a,l);if(Pt(a)&&(Zt?Bt>0:Bt<a.data.length))return!1;if(a.parentNode===xe&&v&&!Zt||Zt&&mt(a)&&a===xe.firstChild)return!0;if(ez(a,"TABLE")||ez(a,"HR"))return v&&!Zt||!v&&Zt;const tt=new Mr(a,xe);Pt(a)&&(Zt&&Bt===0?tt.prev():!Zt&&Bt===a.data.length&&tt.next());let nt;for(;nt=tt.current();){if(mt(nt)){if(!nt.getAttribute("data-mce-bogus")){const on=nt.nodeName.toLowerCase();if(z[on]&&on!=="br")return!1}}else if(Pt(nt)&&!em(nt.data))return!1;Zt?tt.prev():tt.next()}return!0},pe=()=>{let Zt;return/^(H[1-6]|PRE|FIGURE)$/.test(h)&&Me!=="HGROUP"?Zt=X(U):Zt=X(),SG(e,g)&&M_(S,g)&&S.isEmpty(xe)?Zt=S.split(g,xe):S.insertAfter(Zt,xe),TR(e,Zt),Zt};Mp(S,W).each(Zt=>{W.setStart(Zt.startContainer,Zt.startOffset),W.setEnd(Zt.endContainer,Zt.endOffset)}),a=W.startContainer,l=W.startOffset;const se=!!(s&&s.shiftKey),he=!!(s&&s.ctrlKey);mt(a)&&a.hasChildNodes()&&(v=l>a.childNodes.length-1,a=a.childNodes[Math.min(l,a.childNodes.length-1)]||a,v&&Pt(a)?l=a.data.length:l=0);const Ae=D_(S,a);if(!Ae||vG(e,a))return;se||(a=_te(e,U,W,a,l));let xe=S.getParent(a,S.isBlock)||S.getRoot();g=Ue(xe==null?void 0:xe.parentNode)?S.getParent(xe.parentNode,S.isBlock):null,h=xe?xe.nodeName.toUpperCase():"";const Me=g?g.nodeName.toUpperCase():"";if(Me==="LI"&&!he){const Zt=g;xe=Zt,g=Zt.parentNode,h=Me}if(/^(LI|DT|DD)$/.test(h)&&mt(g)&&S.isEmpty(xe)){yG(e,X,g,xe,U);return}if(xe===e.getBody()||!M_(S,xe))return;const We=xe.parentNode;let kt;if(Wn(xe))kt=Ul(xe),S.isEmpty(xe)&&QP(xe),IR(e,kt),TR(e,kt);else if(fe(!1))kt=pe();else if(fe(!0)&&We)kt=We.insertBefore(X(),xe),TR(e,ez(xe,"HR")?kt:xe);else{const Zt=nz(W).cloneRange();Zt.setEndAfter(xe);const Bt=Zt.extractContents();bG(Bt),oz(Bt),kt=Bt.firstChild,S.insertAfter(Bt,xe),_G(S,z,kt),CG(S,xe),S.isEmpty(xe)&&QP(xe),kt.normalize(),S.isEmpty(kt)?(S.remove(kt),pe()):(IR(e,kt),TR(e,kt))}S.setAttrib(kt,"id",""),e.dispatch("NewBlock",{newBlock:kt})},fakeEventName:"insertParagraph"},xG=(e,s,a)=>{const l=new Mr(s,a);let h;const g=e.getNonEmptyElements();for(;h=l.next();)if(g[h.nodeName.toLowerCase()]||Pt(h)&&h.length>0)return!0;return!1},k6=(e,s,a)=>{const l=e.dom.createRng();a?(l.setStartBefore(s),l.setEndBefore(s)):(l.setStartAfter(s),l.setEndAfter(s)),e.selection.setRng(l),bt(e,l)},zy=(e,s)=>{const a=e.selection,l=e.dom,h=a.getRng();let g,v=!1;Mp(l,h).each(fe=>{h.setStart(fe.startContainer,fe.startOffset),h.setEnd(fe.endContainer,fe.endOffset)});let S=h.startOffset,I=h.startContainer;if(mt(I)&&I.hasChildNodes()){const fe=S>I.childNodes.length-1;I=I.childNodes[Math.min(S,I.childNodes.length-1)]||I,fe&&Pt(I)?S=I.data.length:S=0}let z=l.getParent(I,l.isBlock);const W=z&&z.parentNode?l.getParent(z.parentNode,l.isBlock):null,U=W?W.nodeName.toUpperCase():"",X=!!(s&&s.ctrlKey);U==="LI"&&!X&&(z=W),Pt(I)&&S>=I.data.length&&(xG(e.schema,I,z||l.getRoot())||(g=l.create("br"),h.insertNode(g),h.setStartAfter(g),h.setEndAfter(g),v=!0)),g=l.create("br"),Pb(l,h,g),k6(e,g,v),e.undoManager.add()},EG=(e,s)=>{const a=ve.fromTag("br");Go(ve.fromDom(s),a),e.undoManager.add()},C6=(e,s)=>{RG(e.getBody(),s)||sd(ve.fromDom(s),ve.fromTag("br"));const a=ve.fromTag("br");sd(ve.fromDom(s),a),k6(e,a.dom,!1),e.undoManager.add()},TG=e=>Vs(e.getNode()),RG=(e,s)=>TG(dt.after(s))?!0:Ri(e,dt.after(s)).map(a=>Vs(a.getNode())).getOr(!1),S6=e=>e&&e.nodeName==="A"&&"href"in e,IG=e=>e.fold(Ee,S6,S6,Ee),AG=e=>{const s=it(Cd,e),a=dt.fromRangeStart(e.selection.getRng());return Sm(s,e.getBody(),a).filter(IG)},OG=(e,s)=>{s.fold(Ot,it(EG,e),it(C6,e),Ot)},sz={insert:(e,s)=>{const a=AG(e);a.isSome()?a.each(it(OG,e)):zy(e,s)},fakeEventName:"insertLineBreak"},AS=(e,s)=>XP(e).filter(a=>s.length>0&&Bi(ve.fromDom(a),s)).isSome(),DG=e=>AS(e,xu(e)),MG=e=>AS(e,Ck(e)),Dd=Js.generate([{br:[]},{block:[]},{none:[]}]),PG=(e,s)=>MG(e),E6=e=>(s,a)=>mG(s)===e,rz=(e,s)=>(a,l)=>hG(a)===e.toUpperCase()===s,zG=e=>{const s=D_(e.dom,e.selection.getStart());return _t(s)},P_=e=>rz("pre",e),T6=()=>rz("summary",!0),AR=e=>(s,a)=>RA(s)===e,NG=(e,s)=>DG(e),z_=(e,s)=>s,LG=e=>{const s=Pr(e),a=D_(e.dom,e.selection.getStart());return Ue(a)&&e.schema.isValidChild(a.nodeName,s)},Ef=(e,s)=>(a,l)=>be(e,(g,v)=>g&&v(a,l),!0)?j.some(s):j.none(),OR=(e,s)=>oW([Ef([PG],Dd.none()),Ef([P_(!0),zG],Dd.none()),Ef([T6()],Dd.br()),Ef([P_(!0),AR(!1),z_],Dd.br()),Ef([P_(!0),AR(!1)],Dd.block()),Ef([P_(!0),AR(!0),z_],Dd.block()),Ef([P_(!0),AR(!0)],Dd.br()),Ef([E6(!0),z_],Dd.br()),Ef([E6(!0)],Dd.block()),Ef([NG],Dd.br()),Ef([z_],Dd.br()),Ef([LG],Dd.block())],[e,!!(s&&s.shiftKey)]).getOr(Dd.none()),DR=(e,s,a)=>{s.selection.isCollapsed()||IL(s),!(Ue(a)&&YP(s,e.fakeEventName).isDefaultPrevented())&&(e.insert(s,a),Ue(a)&&KP(s,e.fakeEventName))},MR=(e,s)=>{const a=()=>DR(sz,e,s),l=()=>DR(Am,e,s),h=OR(e,s);switch(IA(e)){case"linebreak":h.fold(a,a,Ot);break;case"block":h.fold(l,l,Ot);break;case"invert":h.fold(l,a,Ot);break;default:h.fold(a,l,Ot);break}},az=(e,s)=>{s.isDefaultPrevented()||(s.preventDefault(),uU(e.undoManager),e.undoManager.transact(()=>{MR(e,s)}))},R6=e=>{e.on("keydown",s=>{s.keyCode===fn.ENTER&&az(e,s)})},BG=(e,s,a)=>{const l=Fo.os.isMacOS()||Fo.os.isiOS();yS([{keyCode:fn.END,action:ro(m5,e,!0)},{keyCode:fn.HOME,action:ro(m5,e,!1)},...l?[]:[{keyCode:fn.HOME,action:ro(mR,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:fn.END,action:ro(mR,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:fn.END,action:ro(w5,e,!0)},{keyCode:fn.HOME,action:ro(w5,e,!1)},{keyCode:fn.END,action:ro(Tm,e,!0,s)},{keyCode:fn.HOME,action:ro(Tm,e,!1,s)}],a).each(h=>{a.preventDefault()})},Ste=(e,s)=>{e.on("keydown",a=>{a.isDefaultPrevented()||BG(e,s,a)})},Ny=e=>{e.on("input",s=>{s.isComposing||gH(e)})},FG=gu(),$G=(e,s,a)=>{yS([{keyCode:fn.PAGE_UP,action:ro(Tm,e,!1,s)},{keyCode:fn.PAGE_DOWN,action:ro(Tm,e,!0,s)}],a)},I6=e=>e.stopImmediatePropagation(),OS=e=>e.keyCode===fn.PAGE_UP||e.keyCode===fn.PAGE_DOWN,iz=(e,s,a)=>{a&&!e.get()?s.on("NodeChange",I6,!0):!a&&e.get()&&s.off("NodeChange",I6),e.set(a)},A6=(e,s)=>{if(FG.os.isMacOS())return;const a=Ya(!1);e.on("keydown",l=>{OS(l)&&iz(a,e,!0)}),e.on("keyup",l=>{l.isDefaultPrevented()||$G(e,s,l),OS(l)&&a.get()&&(iz(a,e,!1),e.nodeChanged())})},O6=(e,s)=>{const a=s.container(),l=s.offset();return Pt(a)?(a.insertData(l,e),j.some(dt(a,l+e.length))):Kb(s).map(h=>{const g=ve.fromText(e);return s.isAtEnd()?sd(h,g):Go(h,g),dt(g.dom,e.length)})},D6=it(O6,Qo),VG=it(O6," "),HG=e=>s=>s.fold(a=>Iu(e.dom,dt.before(a)),a=>ql(a),a=>fh(a),a=>Ri(e.dom,dt.after(a))),UG=(e,s)=>a=>pL(e,a)?D6(s):VG(s),M6=e=>s=>(e.selection.setRng(s.toRange()),e.nodeChanged(),!0),lz=e=>{const s=dt.fromRangeStart(e.selection.getRng()),a=ve.fromDom(e.getBody());if(e.selection.isCollapsed()){const l=it(Cd,e),h=dt.fromRangeStart(e.selection.getRng());return Sm(l,e.getBody(),h).bind(HG(a)).map(g=>()=>UG(a,s)(g).each(M6(e)))}else return j.none()},jG=(e,s)=>{wa([{keyCode:fn.SPACEBAR,action:ro(lz,e)}],s).each(a=>{s.preventDefault(),YP(e,"insertText",{data:" "}).isDefaultPrevented()||(a(),KP(e,"insertText",{data:" "}))})},cz=e=>{e.on("keydown",s=>{s.isDefaultPrevented()||jG(e,s)})},P6=e=>ZE(e)?[{keyCode:fn.TAB,action:ro(z5,e,!0)},{keyCode:fn.TAB,shiftKey:!0,action:ro(z5,e,!1)}]:[],PR=(e,s)=>{yS([...P6(e)],s).each(a=>{s.preventDefault()})},z6=e=>{e.on("keydown",s=>{s.isDefaultPrevented()||PR(e,s)})},N6=e=>{if(e.addShortcut("Meta+P","","mcePrint"),uG(e),Up(e))return Ya(null);{const s=TW(e);return JW(e),L5(e,s),dG(e,s),R6(e),cz(e),Ny(e),z6(e),Ste(e,s),A6(e,s),s}};class WG{constructor(s){this.lastPath=[],this.editor=s;let a;const l=this;"onselectionchange"in s.getDoc()||s.on("NodeChange click mouseup keyup focus",h=>{const g=s.selection.getRng(),v={startContainer:g.startContainer,startOffset:g.startOffset,endContainer:g.endContainer,endOffset:g.endOffset};(h.type==="nodechange"||!e_(v,a))&&s.dispatch("SelectionChange"),a=v}),s.on("contextmenu",()=>{s.dispatch("SelectionChange")}),s.on("SelectionChange",()=>{const h=s.selection.getStart(!0);!h||nv(s)&&!l.isSameElementPath(h)&&s.dom.isChildOf(h,s.getBody())&&s.nodeChanged({selectionChange:!0})}),s.on("mouseup",h=>{!h.isDefaultPrevented()&&nv(s)&&(s.selection.getNode().nodeName==="IMG"?Hs.setEditorTimeout(s,()=>{s.nodeChanged()}):s.nodeChanged())})}nodeChanged(s={}){const a=this.editor.selection;let l;if(this.editor.initialized&&a&&!NA(this.editor)&&!this.editor.mode.isReadOnly()){const h=this.editor.getBody();l=a.getStart(!0)||h,(l.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(l,h))&&(l=h);const g=[];this.editor.dom.getParent(l,v=>v===h?!0:(g.push(v),!1)),this.editor.dispatch("NodeChange",{...s,element:l,parents:g})}}isSameElementPath(s){let a;const l=this.editor,h=_n(l.dom.getParents(s,me,l.getBody()));if(h.length===this.lastPath.length){for(a=h.length;a>=0&&h[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=h,!0}return this.lastPath=h,!1}}const L6="x-tinymce/html",Uv=ot(L6),zR="<!-- "+L6+" -->",ZG=e=>zR+e,GG=e=>e.replace(zR,""),uz=e=>e.indexOf(zR)!==-1,qG=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),KG=(e,s)=>{let a="<"+e;const l=ac(s,(h,g)=>g+'="'+ll.encodeAllRaw(h)+'"');return l.length&&(a+=" "+l.join(" ")),a+">"},YG=(e,s,a)=>{const l=e.split(/\n\n/),h=KG(s,a),g="</"+s+">",v=Ye(l,I=>I.split(/\n/).join("<br />")),S=I=>h+I+g;return v.length===1?v[0]:Ye(v,S).join("")},B6="%MCEPASTEBIN%",XG=(e,s)=>{const{dom:a,selection:l}=e,h=e.getBody();s.set(l.getRng());const g=a.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},B6);Fo.browser.isFirefox()&&a.setStyle(g,"left",a.getStyle(h,"direction",!0)==="rtl"?65535:-65535),a.bind(g,"beforedeactivate focusin focusout",v=>{v.stopPropagation()}),g.focus(),l.select(g,!0)},F6=(e,s)=>{const a=e.dom;if(dz(e)){let l;const h=s.get();for(;l=dz(e);)a.remove(l),a.unbind(l);h&&e.selection.setRng(h)}s.set(null)},dz=e=>e.dom.get("mcepastebin"),$6=e=>Ue(e)&&e.id==="mcepastebin",JG=e=>{const s=e.dom,a=(v,S)=>{v.appendChild(S),s.remove(S,!0)},[l,...h]=$e(e.getBody().childNodes,$6);ce(h,v=>{a(l,v)});const g=s.select("div[id=mcepastebin]",l);for(let v=g.length-1;v>=0;v--){const S=s.create("div");l.insertBefore(S,g[v]),a(S,g[v])}return l?l.innerHTML:""},V6=e=>e===B6,QG=e=>{const s=Ya(null);return{create:()=>XG(e,s),remove:()=>F6(e,s),getEl:()=>dz(e),getHtml:()=>JG(e),getLastRng:s.get}},H6=(e,s)=>(xt.each(s,a=>{gt(a,RegExp)?e=e.replace(a,""):e=e.replace(a[0],a[1])}),e),eq=e=>{const s=Wl(),a=Nv({},s);let l="";const h=s.getVoidElements(),g=xt.makeMap("script noscript style textarea video audio iframe object"," "),v=s.getBlockElements(),S=I=>{const z=I.name,W=I;if(z==="br"){l+=`
`;return}if(z!=="wbr"){if(h[z]&&(l+=" "),g[z]){l+=" ";return}if(I.type===3&&(l+=I.value),!(I.name in s.getVoidElements())){let U=I.firstChild;if(U)do S(U);while(U=U.next)}v[z]&&W.next&&(l+=`
`,z==="p"&&(l+=`
`))}};return e=H6(e,[/<!\[[^\]]+\]>/g]),S(a.parse(e)),l},jv=e=>(e=H6(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(a,l,h)=>!l&&!h?" ":Qo],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),tq=e=>{let s=0;return()=>e+s++},nq=e=>{const s=e.toLowerCase(),a={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return xt.hasOwn(a,s)?"image/"+a[s]:"image/"+s},U6=(e,s)=>{const a=Nv({sanitize:_w(e)},e.schema);a.addNodeFilter("meta",h=>{xt.each(h,g=>{g.remove()})});const l=a.parse(s,{forced_root_block:!1,isRootContent:!0});return yy({validate:!0},e.schema).serialize(l)},j6=(e,s)=>({content:e,cancelled:s}),oq=(e,s,a)=>{const l=e.dom.create("div",{style:"display:none"},s),h=fC(e,l,a);return j6(h.node.innerHTML,h.isDefaultPrevented())},sq=(e,s,a)=>{const l=_O(e,s,a),h=U6(e,l.content);return e.hasEventListeners("PastePostProcess")&&!l.isDefaultPrevented()?oq(e,h,a):j6(h,l.isDefaultPrevented())},W6=(e,s,a)=>sq(e,s,a),fz=(e,s)=>(e.insertContent(s,{merge:ww(e),paste:!0}),!0),hz=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),xte=(e,s)=>hz(s)&&yt(Rk(e),a=>mu(s.toLowerCase(),`.${a.toLowerCase()}`)),NR=(e,s,a)=>(e.undoManager.extra(()=>{a(e,s)},()=>{e.insertContent('<img src="'+s+'">')}),!0),rq=(e,s,a)=>(e.undoManager.extra(()=>{a(e,s)},()=>{e.execCommand("mceInsertLink",!1,s)}),!0),aq=(e,s,a)=>!e.selection.isCollapsed()&&hz(s)?rq(e,s,a):!1,iq=(e,s,a)=>xte(e,s)?NR(e,s,a):!1,lq=(e,s)=>{xt.each([aq,iq,fz],a=>!a(e,s,fz))},cq=(e,s,a)=>{a||!$E(e)?fz(e,s):lq(e,s)},uq=tq("mceclip"),Z6=(e,s,a,l)=>{const h=W6(e,s,a);h.cancelled||cq(e,h.content,l)},LR=(e,s,a)=>{const l=a||uz(s);Z6(e,GG(s),l,!1)},mz=(e,s)=>{const a=e.dom.encode(s).replace(/\r\n/g,`
`),l=bb(a,dm(e)),h=YG(l,Pr(e),fw(e));Z6(e,h,!1,!0)},G6=e=>{const s={};if(e&&e.types)for(let a=0;a<e.types.length;a++){const l=e.types[a];try{s[l]=e.getData(l)}catch{s[l]=""}}return s},Ly=(e,s)=>s in e&&e[s].length>0,q6=e=>Ly(e,"text/html")||Ly(e,"text/plain"),dq=(e,s)=>{const a=s.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ue(a)?e.dom.encode(a[1]):void 0},Is=(e,s,a,l)=>{const h=uq(),g=hw(e)&&Ue(a.name),v=g?dq(e,a.name):h,S=g?a.name:void 0,I=s.create(h,a,l,v,S);return s.add(I),I},fq=(e,s)=>{Nu(s.uri).each(({data:a,type:l,base64Encoded:h})=>{const g=h?a:btoa(a),v=s.file,S=e.editorUpload.blobCache,I=S.getByData(g,l),z=I!=null?I:Is(e,S,v,g);LR(e,`<img src="${z.blobUri()}">`,!1)})},K6=e=>e.type==="paste",hq=e=>Promise.all(Ye(e,s=>$3(s).then(a=>({file:s,uri:a})))),pz=e=>{const s=Rk(e);return a=>Rr(a.type,"image/")&&yt(s,l=>nq(l)===a.type)},Y6=(e,s)=>{const a=s.items?Vt(zs(s.items),h=>h.kind==="file"?[h.getAsFile()]:[]):[],l=s.files?zs(s.files):[];return $e(a.length>0?a:l,pz(e))},gz=(e,s,a)=>{const l=K6(s)?s.clipboardData:s.dataTransfer;if(_p(e)&&l){const h=Y6(e,l);if(h.length>0)return s.preventDefault(),hq(h).then(g=>{a&&e.selection.setRng(a),ce(g,v=>{fq(e,v)})}),!0}return!1},mq=e=>{var s,a;return Fo.os.isAndroid()&&((a=(s=e.clipboardData)===null||s===void 0?void 0:s.items)===null||a===void 0?void 0:a.length)===0},X6=e=>fn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,yz=(e,s,a,l)=>{let h=jv(a);const g=Ly(s,Uv())||uz(a),v=!g&&qG(h),S=hz(h);(V6(h)||!h.length||v&&!S)&&(l=!0),(l||S)&&(Ly(s,"text/plain")&&v?h=s["text/plain"]:h=eq(h)),!V6(h)&&(l?mz(e,h):LR(e,h,g))},pq=(e,s,a)=>{let l;const h=()=>s.getLastRng()||e.selection.getRng();e.on("keydown",g=>{X6(g)&&!g.isDefaultPrevented()&&(l=g.shiftKey&&g.keyCode===86)}),e.on("paste",g=>{if(g.isDefaultPrevented()||mq(g))return;const v=a.get()==="text"||l;l=!1;const S=G6(g.clipboardData);!q6(S)&&gz(e,g,h())||(Ly(S,"text/html")?(g.preventDefault(),yz(e,S,S["text/html"],v)):Ly(S,"text/plain")&&Ly(S,"text/uri-list")?(g.preventDefault(),yz(e,S,S["text/plain"],v)):(s.create(),Hs.setEditorTimeout(e,()=>{const I=s.getHtml();s.remove(),yz(e,S,I,v)},0)))})},J6=e=>{const s=h=>Rr(h,"webkit-fake-url"),a=h=>Rr(h,"data:"),l=h=>{var g;return((g=h.data)===null||g===void 0?void 0:g.paste)===!0};e.parser.addNodeFilter("img",(h,g,v)=>{if(!_p(e)&&l(v))for(const S of h){const I=S.attr("src");ee(I)&&!S.attr("data-mce-object")&&I!==Fo.transparentSrc&&(s(I)||!Tk(e)&&a(I))&&S.remove()}})},gq=(e,s,a)=>{pq(e,s,a),J6(e)},yq=(e,s)=>{s.get()==="text"?(s.set("html"),R2(e,!1)):(s.set("text"),R2(e,!0)),e.focus()},BR=(e,s)=>{e.addCommand("mceTogglePlainTextPaste",()=>{yq(e,s)}),e.addCommand("mceInsertClipboardContent",(a,l)=>{l.html&&LR(e,l.html,l.internal),l.text&&mz(e,l.text)})},DS=(e,s,a)=>{if(e)try{return e.clearData(),e.setData("text/html",s),e.setData("text/plain",a),e.setData(Uv(),s),!0}catch{return!1}else return!1},bz=(e,s,a,l)=>{DS(e.clipboardData,s.html,s.text)?(e.preventDefault(),l()):a(s.html,l)},Vu=e=>(s,a)=>{const{dom:l,selection:h}=e,g=l.create("div",{contenteditable:"false","data-mce-bogus":"all"}),v=l.create("div",{contenteditable:"true"},s);l.setStyles(g,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),g.appendChild(v),l.add(e.getBody(),g);const S=h.getRng();v.focus();const I=l.createRng();I.selectNodeContents(v),h.setRng(I),Hs.setEditorTimeout(e,()=>{h.setRng(S),l.remove(g),a()},0)},Q6=e=>({html:ZG(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),N_=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),L_=e=>!e.selection.isCollapsed()||N_(e),bq=e=>s=>{!s.isDefaultPrevented()&&L_(e)&&bz(s,Q6(e),Vu(e),()=>{if(Fo.browser.isChromium()||Fo.browser.isFirefox()){const a=e.selection.getRng();Hs.setEditorTimeout(e,()=>{e.selection.setRng(a),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},vq=e=>s=>{!s.isDefaultPrevented()&&L_(e)&&bz(s,Q6(e),Vu(e),Ot)},B_=e=>{e.on("cut",bq(e)),e.on("copy",vq(e))},e$=(e,s)=>{var a,l;return Pp.getCaretRangeFromPoint((a=s.clientX)!==null&&a!==void 0?a:0,(l=s.clientY)!==null&&l!==void 0?l:0,e.getDoc())},vz=e=>{const s=e["text/plain"];return s?s.indexOf("file://")===0:!1},FR=(e,s)=>{e.focus(),s&&e.selection.setRng(s)},t$=e=>yt(e.files,s=>/^image\//.test(s.type)),wq=(e,s,a,l)=>{const h=e.getParent(a,g=>tm(s,g));if(h&&Fn(l,"text/html")){const g=new DOMParser().parseFromString(l["text/html"],"text/html").body;return!J(g.querySelector(h.nodeName.toLowerCase()))}else return!1},_q=(e,s)=>{Yg(e)&&e.on("dragend dragover draggesture dragdrop drop drag",a=>{a.preventDefault(),a.stopPropagation()}),_p(e)||e.on("drop",a=>{const l=a.dataTransfer;l&&t$(l)&&a.preventDefault()}),e.on("drop",a=>{if(a.isDefaultPrevented())return;const l=e$(e,a);if(_t(l))return;const h=G6(a.dataTransfer),g=Ly(h,Uv());if((!q6(h)||vz(h))&&gz(e,a,l))return;const v=h[Uv()],S=v||h["text/html"]||h["text/plain"],I=wq(e.dom,e.schema,l.startContainer,h);s.get()&&!I||S&&(a.preventDefault(),Hs.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{v&&e.execCommand("Delete"),FR(e,l);const z=jv(S);h["text/html"]?LR(e,z,g):mz(e,z)})}))}),e.on("dragstart",a=>{s.set(!0)}),e.on("dragover dragend",a=>{_p(e)&&!s.get()&&(a.preventDefault(),FR(e,e$(e,a))),a.type==="dragend"&&s.set(!1)})},n$=e=>{const s=h=>g=>{h(e,g)},a=bw(e);de(a)&&e.on("PastePreProcess",s(a));const l=vw(e);de(l)&&e.on("PastePostProcess",s(l))},o$=(e,s)=>{e.on("PastePreProcess",a=>{a.content=s(e,a.content,a.internal)})},kq=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s$=e=>xt.trim(e).replace(kq,Zk).toLowerCase(),Cq=(e,s,a)=>{const l=FE(e);if(a||l==="all"||!gf(e))return s;const h=l?l.split(/[, ]/):[];if(h&&l!=="none"){const g=e.dom,v=e.selection.getNode();s=s.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(S,I,z,W)=>{const U=g.parseStyle(g.decode(z)),X={};for(let pe=0;pe<h.length;pe++){const se=U[h[pe]];let he=se,Ae=g.getStyle(v,h[pe],!0);/color/.test(h[pe])&&(he=s$(he),Ae=s$(Ae)),Ae!==he&&(X[h[pe]]=se)}const fe=g.serializeStyle(X,"span");return fe?I+' style="'+fe+'"'+W:I+W})}else s=s.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return s=s.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(g,v,S,I)=>v+' style="'+S+'"'+I),s},r$=e=>{(Fo.browser.isChromium()||Fo.browser.isSafari())&&o$(e,Cq)},Sq=e=>{const s=Ya(!1),a=Ya(yd(e)?"text":"html"),l=QG(e);r$(e),BR(e,a),n$(e),e.on("PreInit",()=>{B_(e),_q(e,s),gq(e,l,a)})},a$=e=>{e.on("click",s=>{e.dom.getParent(s.target,"details")&&s.preventDefault()})},xq=e=>{e.parser.addNodeFilter("details",s=>{ce(s,a=>{a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",s=>{ce(s,a=>{const l=a.attr("data-mce-open");a.attr("open",ee(l)?l:null),a.attr("data-mce-open",null)})})},Eq=e=>{a$(e),xq(e)},Tq=Vs,i$=Pt,Rq=e=>eo(e.dom),$R=e=>Uc(e.dom),l$=e=>s=>Xo(ve.fromDom(e),s),c$=(e,s)=>tr(ve.fromDom(e),a=>$R(a)||Ui(a),l$(s)).getOr(ve.fromDom(s)).dom,u$=(e,s)=>tr(ve.fromDom(e),Rq,l$(s)),d$=(e,s,a)=>{const l=new Mr(e,s),h=a?l.next.bind(l):l.prev.bind(l);let g=e;for(let v=a?e:h();v&&!Tq(v);v=h())cs(v)&&(g=v);return g},Iq=(e,s)=>{const l=dt.fromRangeStart(e).getNode(),h=c$(l,s),g=d$(l,h,!1),v=d$(l,h,!0),S=document.createRange();return u$(g,h).fold(()=>{i$(g)?S.setStart(g,0):S.setStartBefore(g)},I=>S.setStartBefore(I.dom)),u$(v,h).fold(()=>{i$(v)?S.setEnd(v,v.data.length):S.setEndAfter(v)},I=>S.setEndAfter(I.dom)),S},Aq=e=>{const s=Iq(e.selection.getRng(),e.getBody());e.selection.setRng(xd(s))},Oq=e=>{e.on("mousedown",s=>{s.detail>=3&&(s.preventDefault(),Aq(e))})};var F_;(function(e){e.Before="before",e.After="after"})(F_||(F_={}));const f$=(e,s)=>Math.abs(e.left-s),Dq=(e,s)=>Math.abs(e.right-s),Mq=(e,s)=>e>=s.top&&e<=s.bottom,Pq=(e,s)=>e.top<s.bottom&&e.bottom>s.top,zq=(e,s)=>{const a=kA(e,s)/Math.min(e.height,s.height);return Pq(e,s)&&a>.5},Nq=(e,s)=>{const a=$e(e,l=>Mq(s,l));return ew(a).fold(()=>[[],e],l=>{const{pass:h,fail:g}=et(e,v=>zq(v,l));return[h,g]})},Lq=(e,s)=>({node:e.node,position:f$(e,s)<Dq(e,s)?F_.Before:F_.After}),Bq=(e,s,a)=>s>e.left&&s<e.right?0:Math.min(Math.abs(e.left-s),Math.abs(e.right-s)),VR=(e,s,a)=>{const l=W=>cs(W.node)?j.some(W):mt(W.node)?VR(zs(W.node.childNodes),s,a):j.none(),h=(W,U)=>{if(W.length>=2){const X=l(W[0]).getOr(W[0]),fe=l(W[1]).getOr(W[1]);if(Math.abs(U(X,s,a)-U(fe,s,a))<2){if(Pt(X.node))return j.some(X);if(Pt(fe.node))return j.some(fe)}}return j.none()},g=(W,U)=>{const X=mo(W,(fe,pe)=>U(fe,s,a)-U(pe,s,a));return h(X,U).orThunk(()=>Dl(X,l))},[v,S]=Nq(NF(e),a),{pass:I,fail:z}=et(S,W=>W.top<a);return g(v,Bq).orThunk(()=>g(z,tw)).orThunk(()=>g(I,tw))},Fq=(e,s,a,l)=>{const h=(g,v)=>{const S=z=>mt(z)&&z.classList.contains("mce-drag-container"),I=$e(g.dom.childNodes,Gn(S));return v.fold(()=>VR(I,a,l),z=>{const W=$e(I,U=>U!==z.dom);return VR(W,a,l)}).orThunk(()=>(Xo(g,e)?j.none():Xm(g)).bind(W=>h(W,j.some(g))))};return h(s,j.none())},$q=(e,s,a)=>{const l=ve.fromDom(e),h=Nl(l),v=ve.fromPoint(h,s,a).filter(S=>cc(l,S)).getOr(l);return Fq(l,v,s,a)},h$=(e,s,a)=>$q(e,s,a).filter(l=>Zb(l.node)).map(l=>Lq(l,s)),m$=e=>{var s,a;const l=e.getBoundingClientRect(),h=e.ownerDocument,g=h.documentElement,v=h.defaultView;return{top:l.top+((s=v==null?void 0:v.scrollY)!==null&&s!==void 0?s:0)-g.clientTop,left:l.left+((a=v==null?void 0:v.scrollX)!==null&&a!==void 0?a:0)-g.clientLeft}},Vq=e=>e.inline?m$(e.getBody()):{left:0,top:0},Hq=e=>{const s=e.getBody();return e.inline?{left:s.scrollLeft,top:s.scrollTop}:{left:0,top:0}},Uq=e=>{const s=e.getBody(),a=e.getDoc().documentElement,l={left:s.scrollLeft,top:s.scrollTop},h={left:s.scrollLeft||a.scrollLeft,top:s.scrollTop||a.scrollTop};return e.inline?l:h},HR=(e,s)=>{if(s.target.ownerDocument!==e.getDoc()){const a=m$(e.getContentAreaContainer()),l=Uq(e);return{left:s.pageX-a.left+l.left,top:s.pageY-a.top+l.top}}return{left:s.pageX,top:s.pageY}},p$=(e,s,a)=>({pageX:a.left-e.left+s.left,pageY:a.top-e.top+s.top}),jq=(e,s)=>p$(Vq(e),Hq(e),HR(e,s)),g$=(e,s,a)=>({...s,dataTransfer:null,type:e,...a}),y$=(e,s)=>{const a=io("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:e,composedPath:a,initEvent:a,preventDefault:Ot,stopImmediatePropagation:Ot,stopPropagation:Ot,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:a,initMouseEvent:a,getModifierState:a,dataTransfer:null,...s}},UR=e=>({target:e,srcElement:e}),Wq=e=>s=>y$(e,UR(s)),jR=e=>(s,a)=>g$(e,s,UR(a)),Zq=jR("dragstart"),b$=jR("drop"),Gq=Wq("dragend"),wz=jR("dragend"),WR=32,qq=100,ZR=8,By=16,v$=eo,Kq=df(v$,Uc),w$=(e,s,a)=>v$(a)&&a!==s&&e.isEditable(a.parentElement),Yq=(e,s,a)=>_t(s)||s===a||e.dom.isChildOf(s,a)?!1:e.dom.isEditable(s),Xq=e=>{const s=e.cloneNode(!0);return s.removeAttribute("data-mce-selected"),s},Jq=(e,s,a,l)=>{const h=e.dom,g=s.cloneNode(!0);h.setStyles(g,{width:a,height:l}),h.setAttrib(g,"data-mce-selected",null);const v=h.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return h.setStyles(v,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:l}),h.setStyles(g,{margin:0,boxSizing:"border-box"}),v.appendChild(g),v},Qq=(e,s)=>{e.parentNode!==s&&s.appendChild(e)},GR=(e,s)=>a=>()=>{const l=e==="left"?a.scrollX:a.scrollY;a.scroll({[e]:l+s,behavior:"smooth"})},MS=GR("left",-WR),_z=GR("left",WR),kz=GR("top",-WR),_$=GR("top",WR),eK=(e,s,a,l,h,g,v,S,I,z,W,U)=>{let X=0,fe=0;e.style.left=s.pageX+"px",e.style.top=s.pageY+"px",s.pageX+a>h&&(X=s.pageX+a-h),s.pageY+l>g&&(fe=s.pageY+l-g),e.style.width=a-X+"px",e.style.height=l-fe+"px";const pe=I.clientHeight,se=I.clientWidth,he=v+I.getBoundingClientRect().top,Ae=S+I.getBoundingClientRect().left;W.on(xe=>{xe.intervalId.clear(),xe.dragging&&U&&(v+ZR>=pe?xe.intervalId.set(_$(z)):v-ZR<=0?xe.intervalId.set(kz(z)):S+ZR>=se?xe.intervalId.set(_z(z)):S-ZR<=0?xe.intervalId.set(MS(z)):he+By>=window.innerHeight?xe.intervalId.set(_$(window)):he-By<=0?xe.intervalId.set(kz(window)):Ae+By>=window.innerWidth?xe.intervalId.set(_z(window)):Ae-By<=0&&xe.intervalId.set(MS(window)))})},k$=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Ete=(e,s)=>{const a=e.getParent(s.parentNode,e.isBlock);k$(s),a&&a!==e.getRoot()&&e.isEmpty(a)&&D(ve.fromDom(a))},tK=e=>e.button===0,Cz=(e,s)=>({pageX:s.pageX-e.relX,pageY:s.pageY+5}),Sz=(e,s)=>a=>{if(tK(a)){const l=ut(s.dom.getParents(a.target),Kq).getOr(null);if(Ue(l)&&w$(s.dom,s.getBody(),l)){const h=s.dom.getPos(l),g=s.getBody(),v=s.getDoc().documentElement;e.set({element:l,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(s.inline?g.scrollWidth:v.offsetWidth)-2,maxY:(s.inline?g.scrollHeight:v.offsetHeight)-2,relX:a.pageX-h.x,relY:a.pageY-h.y,width:l.offsetWidth,height:l.offsetHeight,ghost:Jq(s,l,l.offsetWidth,l.offsetHeight),intervalId:Wx(qq)})}}},qR=(e,s,a)=>{e._selectionOverrides.hideFakeCaret(),h$(e.getBody(),s,a).fold(()=>e.selection.placeCaretAt(s,a),l=>{const h=e._selectionOverrides.showCaret(1,l.node,l.position===F_.Before,!1);h?e.selection.setRng(h):e.selection.placeCaretAt(s,a)})},nK=(e,s)=>{const a=xi((h,g)=>qR(s,h,g),0);s.on("remove",a.cancel);const l=e;return h=>e.on(g=>{const v=Math.max(Math.abs(h.screenX-g.screenX),Math.abs(h.screenY-g.screenY));if(!g.dragging&&v>10){if(s.dispatch("dragstart",Zq(h,g.element)).isDefaultPrevented())return;g.dragging=!0,s.focus()}if(g.dragging){const S=h.currentTarget===s.getDoc().documentElement,I=Cz(g,jq(s,h));Qq(g.ghost,s.getBody()),eK(g.ghost,I,g.width,g.height,g.maxX,g.maxY,h.clientY,h.clientX,s.getContentAreaContainer(),s.getWin(),l,S),a.throttle(h.clientX,h.clientY)}})},oK=e=>{const s=e.getSel();if(Ue(s)){const l=s.getRangeAt(0).startContainer;return Pt(l)?l.parentNode:l}else return null},C$=(e,s)=>a=>{e.on(l=>{var h;if(l.intervalId.clear(),l.dragging){if(Yq(s,oK(s.selection),l.element)){const g=Xq(l.element),v=(h=s.getDoc().elementFromPoint(a.clientX,a.clientY))!==null&&h!==void 0?h:s.getBody();s.dispatch("drop",b$(a,v)).isDefaultPrevented()||s.undoManager.transact(()=>{Ete(s.dom,l.element),s.insertContent(s.dom.getOuterHTML(g)),s._selectionOverrides.hideFakeCaret()})}s.dispatch("dragend",wz(a,s.getBody()))}}),Ez(e)},S$=(e,s,a)=>{e.on(l=>{if(l.intervalId.clear(),l.dragging){const h=a.fold(()=>Gq(l.element),g=>wz(g,l.element));s.dispatch("dragend",h)}}),Ez(e)},xz=(e,s)=>a=>S$(e,s,j.some(a)),Ez=e=>{e.on(s=>{s.intervalId.clear(),k$(s.ghost)}),e.clear()},sK=e=>{const s=Es(),a=ys.DOM,l=document,h=Sz(s,e),g=nK(s,e),v=C$(s,e),S=xz(s,e);e.on("mousedown",h),e.on("mousemove",g),e.on("mouseup",v),a.bind(l,"mousemove",g),a.bind(l,"mouseup",S),e.on("remove",()=>{a.unbind(l,"mousemove",g),a.unbind(l,"mouseup",S)}),e.on("keydown",I=>{I.keyCode===fn.ESC&&S$(s,e,j.none())})},rK=e=>{const s=h=>{if(!h.isDefaultPrevented()){const g=h.dataTransfer;g&&(Oe(g.types,"Files")||g.files.length>0)&&(h.preventDefault(),h.type==="drop"&&b_(e,"Dropped file type is not supported"))}},a=h=>{xC(e,h.target)&&s(h)},l=()=>{const h=ys.DOM,g=e.dom,v=document,S=e.inline?e.getBody():e.getDoc(),I=["drop","dragover"];ce(I,z=>{h.bind(v,z,a),g.bind(S,z,s)}),e.on("remove",()=>{ce(I,z=>{h.unbind(v,z,a),g.unbind(S,z,s)})})};e.on("init",()=>{Hs.setEditorTimeout(e,l,0)})},x$=e=>{sK(e),vp(e)&&rK(e)},aK=e=>{const s=xi(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const a=e.selection.getRng();if(a.collapsed){const l=KM(e,a,!1);e.selection.setRng(l)}}},0);e.on("focus",()=>{s.throttle()}),e.on("blur",()=>{s.cancel()})},Tte=e=>{e.on("init",()=>{e.on("focusin",s=>{const a=s.target;if(rl(a)){const l=Fp(e.getBody(),a),h=eo(l)?l:a;e.selection.getNode()!==h&&Oy(e,h).each(g=>e.selection.setRng(g))}})})},PS=eo,E$=(e,s)=>Fp(e.getBody(),s),iK=e=>{const s=e.selection,a=e.dom,l=e.getBody(),h=XA(e,l,a.isBlock,()=>gy(e)),g="sel-"+a.uniqueId(),v="data-mce-selected";let S;const I=Bt=>Ue(Bt)&&a.hasClass(Bt,"mce-offscreen-selection"),z=Bt=>Bt!==l&&(PS(Bt)||rl(Bt))&&a.isChildOf(Bt,l)&&a.isEditable(Bt.parentNode),W=Bt=>{Bt&&s.setRng(Bt)},U=(Bt,tt,nt,on=!0)=>e.dispatch("ShowCaret",{target:tt,direction:Bt,before:nt}).isDefaultPrevented()?null:(on&&s.scrollIntoView(tt,Bt===-1),h.show(nt,tt)),X=Bt=>{Bt.hasAttribute("data-mce-caret")&&(Ul(Bt),s.scrollIntoView(Bt))},fe=()=>{e.on("click",tt=>{a.isEditable(tt.target)||(tt.preventDefault(),e.focus())}),e.on("blur NewBlock",We),e.on("ResizeWindow FullscreenStateChanged",h.reposition),e.on("tap",tt=>{const nt=tt.target,on=E$(e,nt);PS(on)?(tt.preventDefault(),Oy(e,on).each(Me)):z(nt)&&Oy(e,nt).each(Me)},!0),e.on("mousedown",tt=>{const nt=tt.target;if(nt!==l&&nt.nodeName!=="HTML"&&!a.isChildOf(nt,l)||!fj(e,tt.clientX,tt.clientY))return;We(),Zt();const on=E$(e,nt);PS(on)?(tt.preventDefault(),Oy(e,on).each(Me)):h$(l,tt.clientX,tt.clientY).each(Cn=>{tt.preventDefault();const On=U(1,Cn.node,Cn.position===F_.Before,!1);W(On),mt(on)?on.focus():e.getBody().focus()})}),e.on("keypress",tt=>{fn.modifierPressed(tt)||PS(s.getNode())&&tt.preventDefault()}),e.on("GetSelectionRange",tt=>{let nt=tt.range;if(S){if(!S.parentNode){S=null;return}nt=nt.cloneRange(),nt.selectNode(S),tt.range=nt}}),e.on("SetSelectionRange",tt=>{tt.range=he(tt.range);const nt=Me(tt.range,tt.forward);nt&&(tt.range=nt)});const Bt=tt=>mt(tt)&&tt.id==="mcepastebin";e.on("AfterSetSelectionRange",tt=>{const nt=tt.range,on=nt.startContainer.parentElement;!se(nt)&&!Bt(on)&&Zt(),I(on)||We()}),x$(e),aK(e),Tte(e)},pe=Bt=>$o(Bt)||Hl(Bt)||Jf(Bt),se=Bt=>pe(Bt.startContainer)||pe(Bt.endContainer),he=Bt=>{const tt=e.schema.getVoidElements(),nt=a.createRng(),on=Bt.startContainer,Cn=Bt.startOffset,On=Bt.endContainer,so=Bt.endOffset;return Fn(tt,on.nodeName.toLowerCase())?Cn===0?nt.setStartBefore(on):nt.setStartAfter(on):nt.setStart(on,Cn),Fn(tt,On.nodeName.toLowerCase())?so===0?nt.setEndBefore(On):nt.setEndAfter(On):nt.setEnd(On,so),nt},Ae=(Bt,tt)=>{const nt=ve.fromDom(e.getBody()),on=e.getDoc(),Cn=Gh(nt,"#"+g).getOrThunk(()=>{const So=ve.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',on);return kr(So,"id",g),nr(nt,So),So}),On=a.createRng();hs(Cn),rd(Cn,[ve.fromText(Qo,on),ve.fromDom(tt),ve.fromText(Qo,on)]),On.setStart(Cn.dom.firstChild,1),On.setEnd(Cn.dom.lastChild,0),Qm(Cn,{top:a.getPos(Bt,e.getBody()).y+"px"}),hn(Cn);const so=s.getSel();return so&&(so.removeAllRanges(),so.addRange(On)),On},xe=Bt=>{const tt=Bt.cloneNode(!0),nt=e.dispatch("ObjectSelected",{target:Bt,targetClone:tt});if(nt.isDefaultPrevented())return null;const on=Ae(Bt,nt.targetClone),Cn=ve.fromDom(Bt);return ce(Ia(ve.fromDom(e.getBody()),`*[${v}]`),On=>{Xo(Cn,On)||Ar(On,v)}),a.getAttrib(Bt,v)||Bt.setAttribute(v,"1"),S=Bt,Zt(),on},Me=(Bt,tt)=>{if(!Bt)return null;if(Bt.collapsed){if(!se(Bt)){const On=tt?1:-1,so=Lk(On,l,Bt),So=so.getNode(!tt);if(Ue(So)){if(Zb(So))return U(On,So,tt?!so.isAtEnd():!1,!1);if(Zn(So)&&eo(So.nextSibling)){const vs=a.createRng();return vs.setStart(So,0),vs.setEnd(So,0),vs}}const ts=so.getNode(tt);if(Ue(ts)){if(Zb(ts))return U(On,ts,tt?!1:!so.isAtEnd(),!1);if(Zn(ts)&&eo(ts.previousSibling)){const vs=a.createRng();return vs.setStart(ts,1),vs.setEnd(ts,1),vs}}}return null}let nt=Bt.startContainer,on=Bt.startOffset;const Cn=Bt.endOffset;if(Pt(nt)&&on===0&&PS(nt.parentNode)&&(nt=nt.parentNode,on=a.nodeIndex(nt),nt=nt.parentNode),!mt(nt))return null;if(Cn===on+1&&nt===Bt.endContainer){const On=nt.childNodes[on];if(z(On))return xe(On)}return null},We=()=>{S&&S.removeAttribute(v),Gh(ve.fromDom(e.getBody()),"#"+g).each(ps),S=null},kt=()=>{h.destroy(),S=null},Zt=()=>{h.hide()};return Up(e)||fe(),{showCaret:U,showBlockCaretContainer:X,hideFakeCaret:Zt,destroy:kt}},T$=(e,s)=>{let a=s;for(let l=e.previousSibling;Pt(l);l=l.previousSibling)a+=l.data.length;return a},R$=(e,s,a,l,h)=>{if(Pt(a)&&(l<0||l>a.data.length))return[];const g=h&&Pt(a)?[T$(a,l)]:[l];let v=a;for(;v!==s&&v.parentNode;)g.push(e.nodeIndex(v,h)),v=v.parentNode;return v===s?g.reverse():[]},KR=(e,s,a,l,h,g,v=!1)=>{const S=R$(e,s,a,l,v),I=R$(e,s,h,g,v);return{start:S,end:I}},I$=(e,s)=>{const a=s.slice(),l=a.pop();return Tn(l)?be(a,(g,v)=>g.bind(S=>j.from(S.childNodes[v])),j.some(e)).bind(g=>Pt(g)&&(l<0||l>g.data.length)?j.none():j.some({node:g,offset:l})):j.none()},A$=(e,s)=>I$(e,s.start).bind(({node:a,offset:l})=>I$(e,s.end).map(({node:h,offset:g})=>{const v=document.createRange();return v.setStart(a,l),v.setEnd(h,g),v})),lK=(e,s,a,l=!1)=>KR(e,s,a.startContainer,a.startOffset,a.endContainer,a.endOffset,l),$_=(e,s,a)=>{if(s&&e.isEmpty(s)&&!a(s)){const l=s.parentNode;e.remove(s),$_(e,l,a)}},YR=(e,s,a,l=!0)=>{const h=s.startContainer.parentNode,g=s.endContainer.parentNode;s.deleteContents(),l&&!a(s.startContainer)&&(Pt(s.startContainer)&&s.startContainer.data.length===0&&e.remove(s.startContainer),Pt(s.endContainer)&&s.endContainer.data.length===0&&e.remove(s.endContainer),$_(e,h,a),h!==g&&$_(e,g,a))},XR=(e,s)=>j.from(e.dom.getParent(s.startContainer,e.dom.isBlock)),cK=(e,s,a)=>{const l=e.dynamicPatternsLookup({text:a,block:s});return{...e,blockPatterns:Lb(l).concat(e.blockPatterns),inlinePatterns:lw(l).concat(e.inlinePatterns)}},O$=(e,s,a,l)=>{const h=e.createRng();return h.setStart(s,0),h.setEnd(a,l),h.toString()},D$=e=>/^\s[^\s]/.test(e),M$=(e,s,a)=>{SZ(s,0,s).each(h=>{const g=h.container;F5(g,a.start.length,s).each(I=>{const z=e.createRng();z.setStart(g,0),z.setEnd(I.container,I.offset),YR(e,z,W=>W===s)});const v=ve.fromDom(g),S=np(v);D$(S)&&wu(v,S.slice(1))})},Tz=(e,s)=>{const a=e.dom,l=s.pattern,h=A$(a.getRoot(),s.range).getOrDie("Unable to resolve path range"),g=(v,S)=>{const I=S.get(v);return Ze(I)&&ks(I).exists(z=>Fn(z,"block"))};return XR(e,h).each(v=>{l.type==="block-format"?g(l.format,e.formatter)&&e.undoManager.transact(()=>{M$(e.dom,v,l),e.formatter.apply(l.format)}):l.type==="block-command"&&e.undoManager.transact(()=>{M$(e.dom,v,l),e.execCommand(l.cmd,!1,l.value)})}),!0},uK=e=>mo(e,(s,a)=>a.start.length-s.start.length),dK=(e,s)=>{const a=uK(e),l=s.replace(Qo," ");return ut(a,h=>s.indexOf(h.start)===0||l.indexOf(h.start)===0)},fK=(e,s,a,l)=>{var h;const g=e.dom,v=Pr(e);if(!g.is(s,v))return[];const S=(h=s.textContent)!==null&&h!==void 0?h:"";return dK(a.blockPatterns,S).map(I=>xt.trim(S).length===I.start.length?[]:[{pattern:I,range:KR(g,g.getRoot(),s,0,s,0,l)}]).getOr([])},P$=(e,s)=>{if(s.length===0)return;const a=e.selection.getBookmark();ce(s,l=>Tz(e,l)),e.selection.moveToBookmark(a)},zS=(e,s)=>e.create("span",{"data-mce-type":"bookmark",id:s}),NS=(e,s)=>{const a=e.createRng();return a.setStartAfter(s.start),a.setEndBefore(s.end),a},Rz=(e,s,a)=>{const l=A$(e.getRoot(),a).getOrDie("Unable to resolve path range"),h=l.startContainer,g=l.endContainer,v=l.endOffset===0?g:g.splitText(l.endOffset),S=l.startOffset===0?h:h.splitText(l.startOffset),I=S.parentNode,z=v.parentNode;return{prefix:s,end:z.insertBefore(zS(e,s+"-end"),v),start:I.insertBefore(zS(e,s+"-start"),S)}},z$=(e,s,a)=>{$_(e,e.get(s.prefix+"-end"),a),$_(e,e.get(s.prefix+"-start"),a)},Iz=e=>e.start.length===0,N$=e=>(s,a)=>{const h=s.data.substring(0,a),g=h.lastIndexOf(e.charAt(e.length-1)),v=h.lastIndexOf(e);return v!==-1?v+e.length:g!==-1?g+1:-1},L$=(e,s,a,l)=>{const h=s.start;return OP(e,l.container,l.offset,N$(h),a).bind(v=>{var S,I;const z=(I=(S=a.textContent)===null||S===void 0?void 0:S.indexOf(h))!==null&&I!==void 0?I:-1;if(z!==-1&&v.offset>=z+h.length){const U=e.createRng();return U.setStart(v.container,v.offset-h.length),U.setEnd(v.container,v.offset),j.some(U)}else{const U=v.offset-h.length;return kR(v.container,U,a).map(X=>{const fe=e.createRng();return fe.setStart(X.container,X.offset),fe.setEnd(v.container,v.offset),fe}).filter(X=>X.toString()===h).orThunk(()=>L$(e,s,a,Sh(v.container,0)))}})},hK=(e,s,a,l,h,g=!1)=>{if(s.start.length===0&&!g){const v=e.createRng();return v.setStart(a,l),v.setEnd(a,l),j.some(v)}return AP(a,l,h).bind(v=>L$(e,s,h,v).bind(I=>{var z;if(g){if(I.endContainer===v.container&&I.endOffset===v.offset)return j.none();if(v.offset===0&&((z=I.endContainer.textContent)===null||z===void 0?void 0:z.length)===I.endOffset)return j.none()}return j.some(I)}))},mK=(e,s,a,l)=>{const h=e.dom,g=h.getRoot(),v=a.pattern,S=a.position.container,I=a.position.offset;return kR(S,I-a.pattern.end.length,s).bind(z=>{const W=KR(h,g,z.container,z.offset,S,I,l);if(Iz(v))return j.some({matches:[{pattern:v,startRng:W,endRng:W}],position:z});{const U=V_(e,a.remainingPatterns,z.container,z.offset,s,l),X=U.getOr({matches:[],position:z}),fe=X.position;return hK(h,v,fe.container,fe.offset,s,U.isNone()).map(se=>{const he=lK(h,g,se,l);return{matches:X.matches.concat([{pattern:v,startRng:he,endRng:W}]),position:Sh(se.startContainer,se.startOffset)}})}})},V_=(e,s,a,l,h,g)=>{const v=e.dom;return AP(a,l,v.getRoot()).bind(S=>{const I=O$(v,h,a,l);for(let z=0;z<s.length;z++){const W=s[z];if(!mu(I,W.end))continue;const U=s.slice();U.splice(z,1);const X=mK(e,h,{pattern:W,remainingPatterns:U,position:S},g);if(X.isNone()&&l>0)return V_(e,s,a,l-1,h,g);if(X.isSome())return X}return j.none()})},B$=(e,s,a)=>{e.selection.setRng(a),s.type==="inline-format"?ce(s.format,l=>{e.formatter.apply(l)}):e.execCommand(s.cmd,!1,s.value)},pK=(e,s,a,l)=>{const h=NS(e.dom,a);YR(e.dom,h,l),B$(e,s,h)},gK=(e,s,a,l,h)=>{const g=e.dom,v=NS(g,l),S=NS(g,a);YR(g,S,h),YR(g,v,h);const I={prefix:a.prefix,start:a.end,end:l.start},z=NS(g,I);B$(e,s,z)},yK=(e,s)=>{const a=Kx("mce_textpattern"),l=oe(s,(h,g)=>{const v=Rz(e,a+`_end${h.length}`,g.endRng);return h.concat([{...g,endMarker:v}])},[]);return oe(l,(h,g)=>{const v=l.length-h.length-1,S=Iz(g.pattern)?g.endMarker:Rz(e,a+`_start${v}`,g.startRng);return h.concat([{...g,startMarker:S}])},[])},bK=e=>mo(e,(s,a)=>a.end.length-s.end.length),vK=(e,s)=>{const a=an(e,l=>yt(s,h=>l.pattern.start===h.pattern.start&&l.pattern.end===h.pattern.end));return e.length===s.length?a?e:s:e.length>s.length?e:s},Az=(e,s,a,l,h,g)=>{const v=V_(e,h.inlinePatterns,a,l,s,g).fold(()=>[],I=>I.matches),S=V_(e,bK(h.inlinePatterns),a,l,s,g).fold(()=>[],I=>I.matches);return vK(v,S)},Oz=(e,s)=>{if(s.length===0)return;const a=e.dom,l=e.selection.getBookmark(),h=yK(a,s);ce(h,g=>{const v=a.getParent(g.startMarker.start,a.isBlock),S=I=>I===v;Iz(g.pattern)?pK(e,g.pattern,g.endMarker,S):gK(e,g.pattern,g.startMarker,g.endMarker,S),z$(a,g.endMarker,S),z$(a,g.startMarker,S)}),e.selection.moveToBookmark(l)},Dz=(e,s)=>{const a=e.selection.getRng();return XR(e,a).map(l=>{var h;const g=Math.max(0,a.startOffset),v=cK(s,l,(h=l.textContent)!==null&&h!==void 0?h:""),S=Az(e,l,a.startContainer,g,v,!0),I=fK(e,l,v,!0);return I.length>0||S.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent($l),Oz(e,S),P$(e,I);const z=e.selection.getRng(),W=AP(z.startContainer,z.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),W.each(U=>{const X=U.container;X.data.charAt(U.offset-1)===$l&&(X.deleteData(U.offset-1,1),$_(e.dom,X.parentNode,fe=>fe===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},Mz=(e,s)=>{const a=e.selection.getRng();XR(e,a).map(l=>{const h=Math.max(0,a.startOffset-1),g=O$(e.dom,l,a.startContainer,h),v=cK(s,l,g),S=Az(e,l,a.startContainer,h,v,!1);S.length>0&&e.undoManager.transact(()=>{Oz(e,S)})})},F$=(e,s,a)=>{for(let l=0;l<e.length;l++)if(a(e[l],s))return!0;return!1},Pz=(e,s)=>F$(e,s,(a,l)=>a===l.keyCode&&!fn.modifierPressed(l)),wK=(e,s)=>F$(e,s,(a,l)=>a.charCodeAt(0)===l.charCode),_K=e=>{const s=[",",".",";",":","!","?"],a=[32],l=()=>cw(VE(e),HA(e)),h=()=>WE(e);e.on("keydown",v=>{if(v.keyCode===13&&!fn.modifierPressed(v)&&e.selection.isCollapsed()){const S=l();(S.inlinePatterns.length>0||S.blockPatterns.length>0||h())&&Dz(e,S)&&v.preventDefault()}},!0);const g=()=>{if(e.selection.isCollapsed()){const v=l();(v.inlinePatterns.length>0||h())&&Mz(e,v)}};e.on("keyup",v=>{Pz(a,v)&&g()}),e.on("keypress",v=>{wK(s,v)&&Hs.setEditorTimeout(e,g)})},$$=e=>{_K(e)},kK=e=>{const s=xt.each,a=fn.BACKSPACE,l=fn.DELETE,h=e.dom,g=e.selection,v=e.parser,S=Fo.browser,I=S.isFirefox(),z=S.isChromium()||S.isSafari(),W=Fo.deviceType.isiPhone()||Fo.deviceType.isiPad(),U=Fo.os.isMacOS()||Fo.os.isiOS(),X=(Jt,Rn)=>{try{e.getDoc().execCommand(Jt,!1,String(Rn))}catch{}},fe=Jt=>Jt.isDefaultPrevented(),pe=()=>{const Jt=Pn=>{const Qt=h.create("body"),po=Pn.cloneContents();return Qt.appendChild(po),g.serializer.serialize(Qt,{format:"html"})},Rn=Pn=>{const Qt=Jt(Pn),po=h.createRng();po.selectNode(e.getBody());const ao=Jt(po);return Qt===ao};e.on("keydown",Pn=>{const Qt=Pn.keyCode;if(!fe(Pn)&&(Qt===l||Qt===a)&&e.selection.isEditable()){const po=e.selection.isCollapsed(),ao=e.getBody();if(po&&!h.isEmpty(ao)||!po&&!Rn(e.selection.getRng()))return;Pn.preventDefault(),e.setContent(""),ao.firstChild&&h.isBlock(ao.firstChild)?e.selection.setCursorLocation(ao.firstChild,0):e.selection.setCursorLocation(ao,0),e.nodeChanged()}})},se=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},he=()=>{e.inline||h.bind(e.getDoc(),"mousedown mouseup",Jt=>{let Rn;if(Jt.target===e.getDoc().documentElement)if(Rn=g.getRng(),e.getBody().focus(),Jt.type==="mousedown"){if($o(Rn.startContainer))return;g.placeCaretAt(Jt.clientX,Jt.clientY)}else g.setRng(Rn)})},Ae=()=>{e.on("keydown",Jt=>{if(!fe(Jt)&&Jt.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(g.isCollapsed()&&g.getRng().startOffset===0){const Rn=g.getNode(),Pn=Rn.previousSibling;if(Rn.nodeName==="HR"){h.remove(Rn),Jt.preventDefault();return}Pn&&Pn.nodeName&&Pn.nodeName.toLowerCase()==="hr"&&(h.remove(Pn),Jt.preventDefault())}}})},xe=()=>{Range.prototype.getClientRects||e.on("mousedown",Jt=>{if(!fe(Jt)&&Jt.target.nodeName==="HTML"){const Rn=e.getBody();Rn.blur(),Hs.setEditorTimeout(e,()=>{Rn.focus()})}})},Me=()=>{const Jt=zE(e);e.on("click",Rn=>{const Pn=Rn.target;/^(IMG|HR)$/.test(Pn.nodeName)&&h.isEditable(Pn.parentNode)&&(Rn.preventDefault(),e.selection.select(Pn),e.nodeChanged()),Pn.nodeName==="A"&&h.hasClass(Pn,Jt)&&Pn.childNodes.length===0&&h.isEditable(Pn.parentNode)&&(Rn.preventDefault(),g.select(Pn))})},We=()=>{const Jt=()=>{const Pn=h.getAttribs(g.getStart().cloneNode(!1));return()=>{const Qt=g.getStart();Qt!==e.getBody()&&(h.setAttrib(Qt,"style",null),s(Pn,po=>{Qt.setAttributeNode(po.cloneNode(!0))}))}},Rn=()=>!g.isCollapsed()&&h.getParent(g.getStart(),h.isBlock)!==h.getParent(g.getEnd(),h.isBlock);e.on("keypress",Pn=>{let Qt;return!fe(Pn)&&(Pn.keyCode===8||Pn.keyCode===46)&&Rn()?(Qt=Jt(),e.getDoc().execCommand("delete",!1),Qt(),Pn.preventDefault(),!1):!0}),h.bind(e.getDoc(),"cut",Pn=>{if(!fe(Pn)&&Rn()){const Qt=Jt();Hs.setEditorTimeout(e,()=>{Qt()})}})},kt=()=>{e.on("keydown",Jt=>{if(!fe(Jt)&&Jt.keyCode===a&&g.isCollapsed()&&g.getRng().startOffset===0){const Rn=g.getNode().previousSibling;if(Rn&&Rn.nodeName&&Rn.nodeName.toLowerCase()==="table")return Jt.preventDefault(),!1}return!0})},Zt=()=>{e.on("keydown",Jt=>{if(fe(Jt)||Jt.keyCode!==fn.BACKSPACE)return;let Rn=g.getRng();const Pn=Rn.startContainer,Qt=Rn.startOffset,po=h.getRoot();let ao=Pn;if(!(!Rn.collapsed||Qt!==0)){for(;ao.parentNode&&ao.parentNode.firstChild===ao&&ao.parentNode!==po;)ao=ao.parentNode;ao.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,ao),Rn=h.createRng(),Rn.setStart(Pn,0),Rn.setEnd(Pn,0),g.setRng(Rn))}})},Bt=()=>{const Jt=()=>{X("StyleWithCSS",!1),X("enableInlineTableEditing",!1),Gg(e)||X("enableObjectResizing",!1)};PE(e)||e.on("BeforeExecCommand mousedown",Jt)},tt=()=>{const Jt=()=>{s(h.select("a:not([data-mce-block])"),Rn=>{var Pn;let Qt=Rn.parentNode;const po=h.getRoot();if((Qt==null?void 0:Qt.lastChild)===Rn){for(;Qt&&!h.isBlock(Qt);){if(((Pn=Qt.parentNode)===null||Pn===void 0?void 0:Pn.lastChild)!==Qt||Qt===po)return;Qt=Qt.parentNode}h.add(Qt,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Rn=>{(Rn.type==="setcontent"||Rn.command==="mceInsertLink")&&Jt()})},nt=()=>{e.on("init",()=>{X("DefaultParagraphSeparator",Pr(e))})},on=Jt=>{const Rn=Jt.getBody(),Pn=Jt.selection.getRng();return Pn.startContainer===Pn.endContainer&&Pn.startContainer===Rn&&Pn.startOffset===0&&Pn.endOffset===Rn.childNodes.length},Cn=()=>{e.on("keyup focusin mouseup",Jt=>{!fn.modifierPressed(Jt)&&!on(e)&&g.normalize()},!0)},On=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},so=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},So=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Jt=>{let Rn;Jt.target.nodeName==="HTML"&&(Rn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Rn),e.selection.normalize(),e.nodeChanged())}))},ts=()=>{U&&e.on("keydown",Jt=>{fn.metaKeyPressed(Jt)&&!Jt.shiftKey&&(Jt.keyCode===37||Jt.keyCode===39)&&(Jt.preventDefault(),e.selection.getSel().modify("move",Jt.keyCode===37?"backward":"forward","lineboundary"))})},vs=()=>{e.on("click",Jt=>{let Rn=Jt.target;do if(Rn.tagName==="A"){Jt.preventDefault();return}while(Rn=Rn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Tr=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Jt=>{Jt.preventDefault()})})},Ki=()=>{v.addNodeFilter("br",Jt=>{let Rn=Jt.length;for(;Rn--;)Jt[Rn].attr("class")==="Apple-interchange-newline"&&Jt[Rn].remove()})},$a=Ot,Ft=()=>{if(!I||e.removed)return!1;const Jt=e.selection.getSel();return!Jt||!Jt.rangeCount||Jt.rangeCount===0},pn=()=>{z&&(he(),Me(),Tr(),se(),W&&(so(),So(),vs())),I&&(xe(),Bt(),On(),ts())},Lo=()=>{Zt(),pe(),Fo.windowsPhone||Cn(),z&&(he(),Me(),nt(),Tr(),kt(),Ki(),W?(so(),So(),vs()):se()),I&&(Ae(),xe(),We(),Bt(),tt(),On(),ts(),kt())};return Up(e)?pn():Lo(),{refreshContentEditable:$a,isHidden:Ft}},zz=ys.DOM,CK=(e,s)=>{const a=ve.fromDom(e.getBody()),l=Jm(bu(a)),h=ve.fromTag("style");kr(h,"type","text/css"),nr(h,ve.fromText(s)),nr(l,h),e.on("remove",()=>{ps(h)})},SK=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,Nz=e=>ws(e,s=>st(s)===!1),V$=e=>{const s=e.options.get,a=e.editorUpload.blobCache;return Nz({allow_conditional_comments:s("allow_conditional_comments"),allow_html_data_urls:s("allow_html_data_urls"),allow_svg_data_urls:s("allow_svg_data_urls"),allow_html_in_named_anchor:s("allow_html_in_named_anchor"),allow_script_urls:s("allow_script_urls"),allow_unsafe_link_target:s("allow_unsafe_link_target"),convert_fonts_to_spans:s("convert_fonts_to_spans"),fix_list_elements:s("fix_list_elements"),font_size_legacy_values:s("font_size_legacy_values"),forced_root_block:s("forced_root_block"),forced_root_block_attrs:s("forced_root_block_attrs"),preserve_cdata:s("preserve_cdata"),remove_trailing_brs:s("remove_trailing_brs"),inline_styles:s("inline_styles"),root_name:SK(e),sanitize:s("xss_sanitization"),validate:!0,blob_cache:a,document:e.getDoc()})},H$=e=>{const s=e.options.get;return Nz({custom_elements:s("custom_elements"),extended_valid_elements:s("extended_valid_elements"),invalid_elements:s("invalid_elements"),invalid_styles:s("invalid_styles"),schema:s("schema"),valid_children:s("valid_children"),valid_classes:s("valid_classes"),valid_elements:s("valid_elements"),valid_styles:s("valid_styles"),verify_html:s("verify_html"),padd_empty_block_inline_children:s("format_empty_lines")})},U$=e=>{const s=e.options.get;return{...V$(e),...H$(e),...Nz({url_converter:s("url_converter"),url_converter_scope:s("url_converter_scope"),element_format:s("element_format"),entities:s("entities"),entity_encoding:s("entity_encoding"),indent:s("indent"),indent_after:s("indent_after"),indent_before:s("indent_before")})}},xK=e=>{const s=Nv(V$(e),e.schema);return s.addAttributeFilter("src,href,style,tabindex",(a,l)=>{const h=e.dom,g="data-mce-"+l;let v=a.length;for(;v--;){const S=a[v];let I=S.attr(l);if(I&&!S.attr(g)){if(I.indexOf("data:")===0||I.indexOf("blob:")===0)continue;l==="style"?(I=h.serializeStyle(h.parseStyle(I),S.name),I.length||(I=null),S.attr(g,I),S.attr(l,I)):l==="tabindex"?(S.attr(g,I),S.attr(l,null)):S.attr(g,e.convertURL(I,l,S.name))}}}),s.addNodeFilter("script",a=>{let l=a.length;for(;l--;){const h=a[l],g=h.attr("type")||"no/type";g.indexOf("mce-")!==0&&h.attr("type","mce-"+g)}}),jA(e)&&s.addNodeFilter("#cdata",a=>{var l;let h=a.length;for(;h--;){const g=a[h];g.type=8,g.name="#comment",g.value="[CDATA["+e.dom.encode((l=g.value)!==null&&l!==void 0?l:"")+"]]"}}),s.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",a=>{let l=a.length;const h=e.schema.getNonEmptyElements();for(;l--;){const g=a[l];g.isEmpty(h)&&g.getAll("br").length===0&&g.append(new kc("br",1))}}),s},Lz=e=>{const s=FA(e);s&&Hs.setEditorTimeout(e,()=>{let a;s===!0?a=e:a=e.editorManager.get(s),a&&!a.destroyed&&(a.focus(),a.selection.scrollIntoView())},100)},EK=e=>{const s=e.dom.getRoot();!e.inline&&(!nv(e)||e.selection.getStart(!0)===s)&&ql(s).each(a=>{const l=a.getNode(),h=hc(l)?ql(l).getOr(a):a;e.selection.setRng(h.toRange())})},TK=e=>{e.bindPendingEventDelegates(),e.initialized=!0,cC(e),e.focus(!0),EK(e),e.nodeChanged({initial:!0});const s=wp(e);de(s)&&s.call(e,e),Lz(e)},j$=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,RK=(e,s,a)=>{const l=[j$(e).loadAll(s)];return e.inline?l:l.concat([e.ui.styleSheetLoader.loadAll(a)])},W$=e=>{const s=j$(e),a=xE(e),l=e.contentCSS,h=()=>{s.unloadAll(l),e.inline||e.ui.styleSheetLoader.unloadAll(a)},g=()=>{e.removed?h():e.on("remove",h)};if(e.contentStyles.length>0){let I="";xt.each(e.contentStyles,z=>{I+=z+`\r
`}),e.dom.addStyle(I)}const v=Promise.all(RK(e,l,a)).then(g).catch(g),S=gw(e);return S&&CK(e,S),v},IK=e=>{const s=e.getDoc(),a=e.getBody();vO(e),$A(e)||(s.body.spellcheck=!1,zz.setAttrib(a,"spellcheck","false")),e.quirks=kK(e),lC(e);const l=EE(e);l!==void 0&&(a.dir=l);const h=VA(e);h&&e.on("BeforeSetContent",g=>{xt.each(h,v=>{g.content=g.content.replace(v,S=>"<!--mce:protected "+escape(S)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",g=>{e.composing=g.type==="compositionstart"})},JR=e=>{Up(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},Bz=e=>{e.removed!==!0&&(JR(e),TK(e))},Z$=e=>{const s=e.getElement();let a=e.getDoc();e.inline&&(zz.addClass(s,"mce-content-body"),e.contentDocument=a=document,e.contentWindow=window,e.bodyElement=s,e.contentAreaContainer=s);const l=e.getBody();l.disabled=!0,e.readonly=PE(e),e.readonly||(e.inline&&zz.getStyle(l,"position",!0)==="static"&&(l.style.position="relative"),l.contentEditable="true"),l.disabled=!1,e.editorUpload=_j(e),e.schema=Wl(H$(e)),e.dom=ys(a,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:AA(e),referrerPolicy:pw(e),onSetAttrib:v=>{e.dispatch("SetAttrib",v)}}),e.parser=xK(e),e.serializer=RM(U$(e),e),e.selection=xM(e.dom,e.getWin(),e.serializer,e),e.annotator=wc(e),e.formatter=Id(e),e.undoManager=LM(e),e._nodeChangeDispatcher=new WG(e),e._selectionOverrides=iK(e),xf(e),Eq(e),l5(e),Up(e)||(Oq(e),$$(e));const h=N6(e);wP(e,h),fR(e),Ej(e),Sq(e);const g=CU(e);IK(e),g.fold(()=>{W$(e).then(()=>Bz(e))},v=>{e.setProgressState(!0),W$(e).then(()=>{v().then(S=>{e.setProgressState(!1),Bz(e),BU(e)},S=>{e.notificationManager.open({type:"error",text:String(S)}),Bz(e),BU(e)})})})},AK=me,OK=(e,s,a)=>ep(e,s,AK,a),Fz=ys.DOM,DK=(e,s,a,l)=>{const h=ve.fromTag("iframe");return l.each(g=>kr(h,"tabindex",g)),_i(h,a),_i(h,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:s}),Uf(h,"tox-edit-area__iframe"),h},MK=e=>{let s=Lt(e)+"<html><head>";wE(e)!==e.documentBaseUrl&&(s+='<base href="'+e.documentBaseURI.getURI()+'" />'),s+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const a=Qa(e),l=TA(e),h=e.translate(NE(e));return kk(e)&&(s+='<meta http-equiv="Content-Security-Policy" content="'+kk(e)+'" />'),s+=`</head><body id="${a}" class="mce-content-body ${l}" data-id="${e.id}" aria-label="${h}"><br></body></html>`,s},PK=(e,s)=>{const a=e.translate("Rich Text Area"),l=Lc(ve.fromDom(e.getElement()),"tabindex").bind(Pc),h=DK(e.id,a,vE(e),l).dom;h.onload=()=>{h.onload=null,e.dispatch("load")},e.contentAreaContainer=s.iframeContainer,e.iframeElement=h,e.iframeHTML=MK(e),Fz.add(s.iframeContainer,h)},zK=e=>{const s=e.iframeElement,a=OK(ve.fromDom(s),"load",()=>{a.unbind(),e.contentDocument=s.contentDocument,Z$(e)});if(Fo.browser.isFirefox()){const l=e.getDoc();l.open(),l.write(e.iframeHTML),l.close()}else s.srcdoc=e.iframeHTML},G$=(e,s)=>{PK(e,s),s.editorContainer&&(s.editorContainer.style.display=e.orgDisplay,e.hidden=Fz.isHidden(s.editorContainer)),e.getElement().style.display="none",Fz.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,zK(e)},q$=ys.DOM,K$=(e,s,a)=>{const l=Cf.get(a),h=Cf.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=xt.trim(a),l&&xt.inArray(s,a)===-1){if(e.plugins[a])return;try{const g=l(e,h)||{};e.plugins[a]=g,de(g.init)&&(g.init(e,h),s.push(a))}catch(g){JB(e,a,g)}}},NK=e=>e.replace(/^\-/,""),LK=e=>{const s=[];ce(Hb(e),a=>{K$(e,s,NK(a))})},Y$=e=>{const s=xt.trim(_E(e)),a=e.ui.registry.getAll().icons,l={...UT.get("default").icons,...UT.get(s).icons};Gt(l,(h,g)=>{Fn(a,g)||e.ui.registry.addIcon(g,h)})},LS=e=>{const s=yp(e);if(ee(s)){const a=Rd.get(s);e.theme=a(e,Rd.urls[s])||{},de(e.theme.init)&&e.theme.init(e,Rd.urls[s]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},BK=e=>{const s=qg(e),a=y_.get(s);e.model=a(e,y_.urls[s])},X$=e=>{const s=e.theme.renderUI;return s?s():Q$(e)},FK=e=>{const s=e.getElement(),l=yp(e)(e,s);return l.editorContainer.nodeType&&(l.editorContainer.id=l.editorContainer.id||e.id+"_parent"),l.iframeContainer&&l.iframeContainer.nodeType&&(l.iframeContainer.id=l.iframeContainer.id||e.id+"_iframecontainer"),l.height=l.iframeHeight?l.iframeHeight:s.offsetHeight,l},J$=(e,s)=>({editorContainer:e,iframeContainer:s,api:{}}),$K=e=>{const s=q$.create("div");return q$.insertAfter(s,e),J$(s,s)},Q$=e=>{const s=e.getElement();return e.inline?J$(null):$K(s)},e8=e=>{const s=e.getElement();return e.orgDisplay=s.style.display,ee(yp(e))?X$(e):de(yp(e))?FK(e):Q$(e)},VK=(e,s)=>{const a={show:j.from(s.show).getOr(Ot),hide:j.from(s.hide).getOr(Ot),isEnabled:j.from(s.isEnabled).getOr(me),setEnabled:l=>{e.mode.isReadOnly()||j.from(s.setEnabled).each(h=>h(l))}};e.ui={...e.ui,...a}},t8=async e=>{e.dispatch("ScriptsLoaded"),Y$(e),LS(e),BK(e),LK(e);const s=await e8(e);VK(e,j.from(s.api).getOr({})),e.editorContainer=s.editorContainer,Sf(e),e.inline?Z$(e):G$(e,{editorContainer:s.editorContainer,iframeContainer:s.iframeContainer})},Wv=ys.DOM,n8=e=>e.charAt(0)==="-",HK=(e,s)=>{const a=$b(s),l=ei(s);if(!md.hasCode(a)&&a!=="en"){const h=Jo(l)?l:`${s.editorManager.baseURL}/langs/${a}.js`;e.add(h).catch(()=>{YB(s,h,a)})}},UK=(e,s)=>{const a=yp(e);if(ee(a)&&!n8(a)&&!Fn(Rd.urls,a)){const l=Vb(e),h=l?e.documentBaseURI.toAbsolute(l):`themes/${a}/theme${s}.js`;Rd.load(a,h).catch(()=>{XB(e,h,a)})}},jK=(e,s)=>{const a=qg(e);if(a!=="plugin"&&!Fn(y_.urls,a)){const l=gd(e),h=ee(l)?e.documentBaseURI.toAbsolute(l):`models/${a}/model${s}.js`;y_.load(a,h).catch(()=>{ZT(e,h,a)})}},WK=e=>j.from(Sk(e)).filter(Jo).map(s=>({url:s,name:j.none()})),o8=(e,s,a)=>j.from(s).filter(l=>Jo(l)&&!UT.has(l)).map(l=>({url:`${e.editorManager.baseURL}/icons/${l}/icons${a}.js`,name:j.some(l)})),ZK=(e,s,a)=>{const l=o8(s,"default",a),h=WK(s).orThunk(()=>o8(s,_E(s),""));ce(er([l,h]),g=>{e.add(g.url).catch(()=>{KB(s,g.url,g.name.getOrUndefined())})})},GK=(e,s)=>{const a=(l,h)=>{Cf.load(l,h).catch(()=>{__(e,h,l)})};Gt(E4(e),(l,h)=>{a(h,l),e.options.set("plugins",Hb(e).concat(h))}),ce(Hb(e),l=>{l=xt.trim(l),l&&!Cf.urls[l]&&!n8(l)&&a(l,`plugins/${l}/plugin${s}.js`)})},s8=e=>{const s=yp(e);return!ee(s)||Ue(Rd.get(s))},$z=e=>{const s=qg(e);return Ue(y_.get(s))},r8=(e,s)=>{const a=Wc.ScriptLoader,l=()=>{!e.removed&&s8(e)&&$z(e)&&t8(e)};UK(e,s),jK(e,s),HK(a,e),ZK(a,e,s),GK(e,s),a.loadQueue().then(l,l)},a8=(e,s)=>zg.forElement(e,{contentCssCors:Kg(s),referrerPolicy:pw(s)}),qK=e=>{const s=e.id;md.setCode($b(e));const a=()=>{Wv.unbind(window,"ready",a),e.render()};if(!Da.Event.domLoaded){Wv.bind(window,"ready",a);return}if(!e.getElement())return;const l=ve.fromDom(e.getElement()),h=Gm(l);e.on("remove",()=>{Fe(l.dom.attributes,v=>Ar(l,v.name)),_i(l,h)}),e.ui.styleSheetLoader=a8(l,e),bp(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const g=e.getElement().form||Wv.getParent(s,"form");g&&(e.formElement=g,MA(e)&&!Yf(e.getElement())&&(Wv.insertAfter(Wv.create("input",{type:"hidden",name:s}),s),e.hasHiddenInput=!0),e.formEventDelegate=v=>{e.dispatch(v.type,v)},Wv.bind(g,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),DE(e)&&!g.submit.nodeType&&!g.submit.length&&!g._mceOldSubmit&&(g._mceOldSubmit=g.submit,g.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),g._mceOldSubmit(g)))),e.windowManager=rS(e),e.notificationManager=sS(e),GA(e)&&e.on("GetContent",v=>{v.save&&(v.content=Wv.encode(v.content))}),ME(e)&&e.on("submit",()=>{e.initialized&&e.save()}),PA(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),r8(e,e.suffix)},KK=(e,s)=>({sections:ot(e),options:ot(s)}),i8=gu().deviceType,Vz=i8.isPhone(),l8=i8.isTablet(),BS=e=>{if(_t(e))return[];{const s=Ze(e)?e:e.split(/[ ,]/),a=Ye(s,Mc);return $e(a,Jo)}},YK=(e,s)=>{const a=fu(s,(l,h)=>Oe(e,h));return KK(a.t,a.f)},Hz=(e,s,a={})=>{const l=e.sections(),h=fs(l,s).getOr({});return xt.extend({},a,h)},H_=(e,s)=>Fn(e.sections(),s),QR=(e,s)=>H_(e,s)?e.sections()[s]:{},Yp=(e,s)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:fs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...s?{menubar:!1}:{}}),eI=(e,s)=>{var a;const l=(a=s.external_plugins)!==null&&a!==void 0?a:{};return e&&e.external_plugins?xt.extend({},e.external_plugins,l):l},U_=(e,s)=>[...BS(e),...BS(s)],c8=(e,s,a,l)=>e&&H_(s,"mobile")?l:a,XK=(e,s,a,l)=>{const h=BS(a.forced_plugins),g=BS(l.plugins),v=QR(s,"mobile"),S=v.plugins?BS(v.plugins):g,I=c8(e,s,g,S),z=U_(h,I);return xt.extend(l,{forced_plugins:h,plugins:z})},JK=(e,s)=>e&&H_(s,"mobile"),u8=(e,s,a,l,h)=>{var g;const v=e?{mobile:Yp((g=h.mobile)!==null&&g!==void 0?g:{},s)}:{},S=YK(["mobile"],PP(v,h)),I=xt.extend(a,l,S.options(),JK(e,S)?Hz(S,"mobile"):{},{external_plugins:eI(l,S.options())});return XK(e,S,l,I)},QK=(e,s)=>u8(Vz||l8,Vz,s,e,s),Uz=(e,s)=>LU(e,s),tI=e=>{const s=(l,h)=>{e.formatter.toggle(l,h),e.nodeChanged()},a=l=>()=>{ce("left,center,right,justify".split(","),h=>{l!==h&&e.formatter.remove("align"+h)}),l!=="none"&&s("align"+l)};e.editorCommands.addCommands({JustifyLeft:a("left"),JustifyCenter:a("center"),JustifyRight:a("right"),JustifyFull:a("justify"),JustifyNone:a("none")})},Fy=e=>{const s=a=>()=>{const l=e.selection,h=l.isCollapsed()?[e.dom.getParent(l.getNode(),e.dom.isBlock)]:l.getSelectedBlocks();return yt(h,g=>Ue(e.formatter.matchNode(g,a)))};e.editorCommands.addCommands({JustifyLeft:s("alignleft"),JustifyCenter:s("aligncenter"),JustifyRight:s("alignright"),JustifyFull:s("alignjustify")},"state")},Zv=e=>{tI(e),Fy(e)},d8=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":s=>{const a=e.getDoc();let l;try{a.execCommand(s)}catch{l=!0}if(s==="paste"&&!a.queryCommandEnabled(s)&&(l=!0),l||!a.queryCommandSupported(s)){let h=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Fo.os.isMacOS()||Fo.os.isiOS())&&(h=h.replace(/Ctrl\+/g,"\u2318+")),e.notificationManager.open({text:h,type:"error"})}}})},eY=(e,s,a)=>{const l=ve.fromDom(e.getRoot());return IC(l,dt.fromRangeStart(s))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),AC(l,dt.fromRangeEnd(s))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},tY=e=>{if(typeof e!="string"){const s=xt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:s}}return{content:e,details:{}}},nY=(e,s)=>{const a=e.selection,l=e.dom;return/^ | $/.test(s)?eY(l,a.getRng(),s):s},nI=(e,s)=>{if(e.selection.isEditable()){const{content:a,details:l}=tY(s);OT(e,{...l,content:nY(e,a),format:"html",set:!1,selection:!0}).each(h=>{const g=zU(e,h.content,l);mM(e,g,h),e.addVisual()})}},oY=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const s=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(s)},insertImage:(s,a,l)=>{nI(e,e.dom.createHTML("img",{src:l}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(s,a,l)=>{nI(e,e.dom.encode(l))},insertHTML:(s,a,l)=>{nI(e,l)},mceInsertContent:(s,a,l)=>{nI(e,l)},mceSetContent:(s,a,l)=>{e.setContent(l)},mceReplaceContent:(s,a,l)=>{e.execCommand("mceInsertContent",!1,l.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})},sY={"font-size":"size","font-family":"face"},f8=$h("font"),rY=(e,s,a)=>{const l=g=>ii(g,e).orThunk(()=>f8(g)?fs(sY,e).bind(v=>Lc(g,v)):j.none()),h=g=>Xo(ve.fromDom(s),g);return TD(ve.fromDom(a),g=>l(g),h)},aY=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),iY=(e,s)=>j.from(ys.DOM.getStyle(s,e,!0)),lY=e=>(s,a)=>j.from(a).map(ve.fromDom).filter(Ss).bind(l=>rY(e,s,l.dom).or(iY(e,l.dom))).getOr(""),cY=lY("font-size"),jz=L(aY,lY("font-family")),uY=e=>ql(e.getBody()).bind(s=>{const a=s.container();return j.from(Pt(a)?a.parentNode:a)}),dY=e=>j.from(e.selection.getRng()).bind(s=>{const a=e.getBody();return s.startContainer===a&&s.startOffset===0?j.none():j.from(e.selection.getStart(!0))}),h8=(e,s)=>dY(e).orThunk(it(uY,e)).map(ve.fromDom).filter(Ss).bind(s),Wz=(e,s)=>h8(e,Ht(j.some,s)),Zz=(e,s)=>{if(/^[0-9.]+$/.test(s)){const a=parseInt(s,10);if(a>=1&&a<=7){const l=WA(e),h=ZA(e);return h.length>0?h[a-1]||s:l[a-1]||s}else return s}else return s},fY=e=>{const s=e.split(/\s*,\s*/);return Ye(s,a=>a.indexOf(" ")!==-1&&!(Rr(a,'"')||Rr(a,"'"))?`'${a}'`:a).join(",")},Gz=(e,s)=>{const a=Zz(e,s);e.formatter.toggle("fontname",{value:fY(a)}),e.nodeChanged()},hY=e=>Wz(e,s=>jz(e.getBody(),s.dom)).getOr(""),mY=(e,s)=>{e.formatter.toggle("fontsize",{value:Zz(e,s)}),e.nodeChanged()},pY=e=>Wz(e,s=>cY(e.getBody(),s.dom)).getOr(""),gY=e=>Wz(e,s=>{const a=ve.fromDom(e.getBody()),l=TD(s,g=>ii(g,"line-height"),it(Xo,a)),h=()=>{const g=parseFloat(dc(s,"line-height")),v=parseFloat(dc(s,"font-size"));return String(g/v)};return l.getOrThunk(h)}).getOr(""),m8=(e,s)=>{e.formatter.toggle("lineheight",{value:String(s)}),e.nodeChanged()},qz=e=>{const s=(a,l)=>{e.formatter.toggle(a,l),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":a=>{s(a)},"ForeColor,HiliteColor":(a,l,h)=>{s(a,{value:h})},BackColor:(a,l,h)=>{s("hilitecolor",{value:h})},FontName:(a,l,h)=>{Gz(e,h)},FontSize:(a,l,h)=>{mY(e,h)},LineHeight:(a,l,h)=>{m8(e,h)},Lang:(a,l,h)=>{var g;s(a,{value:h.code,customValue:(g=h.customCode)!==null&&g!==void 0?g:null})},RemoveFormat:a=>{e.formatter.remove(a)},mceBlockQuote:()=>{s("blockquote")},FormatBlock:(a,l,h)=>{s(ee(h)?h:"p")},mceToggleFormat:(a,l,h)=>{s(h)}})},p8=e=>{const s=a=>e.formatter.match(a);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":a=>s(a),mceBlockQuote:()=>s("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>hY(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>pY(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>gY(e))},Kz=e=>{qz(e),p8(e)},yY=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},Rte=e=>{e.editorCommands.addCommands({Indent:()=>{yP(e)},Outdent:()=>{gS(e)}}),e.editorCommands.addCommands({Outdent:()=>gP(e)},"state")},Ite=e=>{const s=(a,l,h)=>{const g=ee(h)?{href:h}:h,v=e.dom.getParent(e.selection.getNode(),"a");ht(g)&&ee(g.href)&&(g.href=g.href.replace(/ /g,"%20"),(!v||!g.href)&&e.formatter.remove("link"),g.href&&e.formatter.apply("link",g,v))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const a=e.dom.getParent(e.selection.getStart(),"a");a&&e.dom.remove(a,!0);return}e.formatter.remove("link")},mceInsertLink:s,createLink:s})},bY=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":s=>{e.getDoc().execCommand(s);const a=e.dom.getParent(e.selection.getNode(),"ol,ul");if(a){const l=a.parentNode;if(l&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(l.nodeName)){const h=e.selection.getBookmark();e.dom.split(l,a),e.selection.moveToBookmark(h)}}}})},g8=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":s=>{const a=e.dom.getParent(e.selection.getNode(),"ul,ol");return a&&(s==="insertunorderedlist"&&a.tagName==="UL"||s==="insertorderedlist"&&a.tagName==="OL")}},"state")},vY=e=>{bY(e),g8(e)},wY=e=>{e.editorCommands.addCommands({insertParagraph:()=>{DR(Am,e)},mceInsertNewLine:(s,a,l)=>{MR(e,l)},InsertLineBreak:(s,a,l)=>{DR(sz,e)}})},_Y=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(s,a,l)=>{let h=0;e.dom.getParent(e.selection.getNode(),g=>mt(g)&&h++===l?(e.selection.select(g),!1):!0,e.getBody())},mceSelectNode:(s,a,l)=>{e.selection.select(l)},selectAll:()=>{const s=e.dom.getParent(e.selection.getStart(),Uc);if(s){const a=e.dom.createRng();a.selectNodeContents(s),e.selection.setRng(a)}}})},Ate=e=>{e.editorCommands.addCommands({mceRemoveNode:(s,a,l)=>{const h=l!=null?l:e.selection.getNode();if(h!==e.getBody()){const g=e.selection.getBookmark();e.dom.remove(h,!0),e.selection.moveToBookmark(g)}},mcePrint:()=>{e.getWin().print()},mceFocus:(s,a,l)=>{$7(e,l===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},Ote=e=>{Zv(e),d8(e),yY(e),_Y(e),oY(e),Ite(e),Rte(e),wY(e),vY(e),Kz(e),Ate(e)},y8=["toggleview"],Yz=e=>Oe(y8,e.toLowerCase());class b8{constructor(s){this.commands={state:{},exec:{},value:{}},this.editor=s}execCommand(s,a=!1,l,h){const g=this.editor,v=s.toLowerCase(),S=h==null?void 0:h.skip_focus;if(g.removed||(v!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(v)&&!S?g.focus():py(g)),g.dispatch("BeforeExecCommand",{command:s,ui:a,value:l}).isDefaultPrevented()))return!1;const z=this.commands.exec[v];return de(z)?(z(v,a,l),g.dispatch("ExecCommand",{command:s,ui:a,value:l}),!0):!1}queryCommandState(s){if(!Yz(s)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const a=s.toLowerCase(),l=this.commands.state[a];return de(l)?l(a):!1}queryCommandValue(s){if(!Yz(s)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const a=s.toLowerCase(),l=this.commands.value[a];return de(l)?l(a):""}addCommands(s,a="exec"){const l=this.commands;Gt(s,(h,g)=>{ce(g.toLowerCase().split(","),v=>{l[a][v]=h})})}addCommand(s,a,l){const h=s.toLowerCase();this.commands.exec[h]=(g,v,S)=>a.call(l!=null?l:this.editor,v,S)}queryCommandSupported(s){const a=s.toLowerCase();return!!this.commands.exec[a]}addQueryStateHandler(s,a,l){this.commands.state[s.toLowerCase()]=()=>a.call(l!=null?l:this.editor)}addQueryValueHandler(s,a,l){this.commands.value[s.toLowerCase()]=()=>a.call(l!=null?l:this.editor)}}const Gv="data-mce-contenteditable",kY=(e,s,a)=>{Ym(e,s)&&!a?Uh(e,s):a&&Uf(e,s)},v8=(e,s,a)=>{try{e.getDoc().execCommand(s,!1,String(a))}catch{}},Xz=(e,s)=>{e.dom.contentEditable=s?"true":"false"},Dte=e=>{ce(Ia(e,'*[contenteditable="true"]'),s=>{kr(s,Gv,"true"),Xz(s,!1)})},CY=e=>{ce(Ia(e,`*[${Gv}="true"]`),s=>{Ar(s,Gv),Xz(s,!0)})},Mte=e=>{j.from(e.selection.getNode()).each(s=>{s.removeAttribute("data-mce-selected")})},SY=e=>{e.selection.setRng(e.selection.getRng())},qv=(e,s)=>{const a=ve.fromDom(e.getBody());kY(a,"mce-content-readonly",s),s?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),Mte(e),e.readonly=!0,Xz(a,!1),Dte(a)):(e.readonly=!1,Xz(a,!0),CY(a),v8(e,"StyleWithCSS",!1),v8(e,"enableInlineTableEditing",!1),v8(e,"enableObjectResizing",!1),P4(e)&&e.focus(),SY(e),e.nodeChanged())},Xp=e=>e.readonly,FS=e=>{e.parser.addAttributeFilter("contenteditable",s=>{Xp(e)&&ce(s,a=>{a.attr(Gv,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Gv,s=>{Xp(e)&&ce(s,a=>{a.attr("contenteditable",a.attr(Gv))})}),e.serializer.addTempAttr(Gv)},w8=e=>{e.serializer?FS(e):e.on("PreInit",()=>{FS(e)})},_8=e=>e.type==="click",k8=["copy"],xY=e=>Oe(k8,e.type),EY=(e,s)=>Bc(s,"a",l=>Xo(l,ve.fromDom(e.getBody()))).bind(l=>Lc(l,"href")),TY=(e,s)=>{if(_8(s)&&!fn.metaKeyPressed(s)){const a=ve.fromDom(s.target);EY(e,a).each(l=>{if(s.preventDefault(),/^#/.test(l)){const h=e.dom.select(`${l},[name="${bi(l,"#")}"]`);h.length&&e.selection.scrollIntoView(h[0],!0)}else window.open(l,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else xY(s)&&e.dispatch(s.type,s)},RY=e=>{e.on("ShowCaret",s=>{Xp(e)&&s.preventDefault()}),e.on("ObjectSelected",s=>{Xp(e)&&s.preventDefault()})},Kv=xt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class Jz{constructor(s){this.bindings={},this.settings=s||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Ee}static isNative(s){return!!Kv[s.toLowerCase()]}fire(s,a){return this.dispatch(s,a)}dispatch(s,a){const l=s.toLowerCase(),h=up(l,a!=null?a:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(h);const g=this.bindings[l];if(g)for(let v=0,S=g.length;v<S;v++){const I=g[v];if(!I.removed){if(I.once&&this.off(l,I.func),h.isImmediatePropagationStopped())return h;if(I.func.call(this.scope,h)===!1)return h.preventDefault(),h}}return h}on(s,a,l,h){if(a===!1&&(a=Ee),a){const g={func:a,removed:!1};h&&xt.extend(g,h);const v=s.toLowerCase().split(" ");let S=v.length;for(;S--;){const I=v[S];let z=this.bindings[I];z||(z=[],this.toggleEvent(I,!0)),l?z=[g,...z]:z=[...z,g],this.bindings[I]=z}}return this}off(s,a){if(s){const l=s.toLowerCase().split(" ");let h=l.length;for(;h--;){const g=l[h];let v=this.bindings[g];if(!g)return Gt(this.bindings,(S,I)=>{this.toggleEvent(I,!1),delete this.bindings[I]}),this;if(v){if(!a)v.length=0;else{const S=et(v,I=>I.func===a);v=S.fail,this.bindings[g]=v,ce(S.pass,I=>{I.removed=!0})}v.length||(this.toggleEvent(s,!1),delete this.bindings[g])}}}else Gt(this.bindings,(l,h)=>{this.toggleEvent(h,!1)}),this.bindings={};return this}once(s,a,l){return this.on(s,a,l,{once:!0})}has(s){s=s.toLowerCase();const a=this.bindings[s];return!(!a||a.length===0)}}const j_=e=>(e._eventDispatcher||(e._eventDispatcher=new Jz({scope:e,toggleEvent:(s,a)=>{Jz.isNative(s)&&e.toggleNativeEvent&&e.toggleNativeEvent(s,a)}})),e._eventDispatcher),Qz={fire(e,s,a){return this.dispatch(e,s,a)},dispatch(e,s,a){const l=this;if(l.removed&&e!=="remove"&&e!=="detach")return up(e.toLowerCase(),s!=null?s:{},l);const h=j_(l).dispatch(e,s);if(a!==!1&&l.parent){let g=l.parent();for(;g&&!h.isPropagationStopped();)g.dispatch(e,h,!1),g=g.parent?g.parent():void 0}return h},on(e,s,a){return j_(this).on(e,s,a)},off(e,s){return j_(this).off(e,s)},once(e,s){return j_(this).once(e,s)},hasEventListeners(e){return j_(this).has(e)}},Yv=ys.DOM;let Xv;const oI=(e,s)=>{if(s==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(s))return e.getDoc().documentElement;const a=yw(e);return a?(e.eventRoot||(e.eventRoot=Yv.select(a)[0]),e.eventRoot):e.getBody()},IY=e=>!e.hidden&&!Xp(e),eN=(e,s,a)=>{IY(e)?e.dispatch(s,a):Xp(e)&&TY(e,a)},C8=(e,s)=>{if(e.delegates||(e.delegates={}),e.delegates[s]||e.removed)return;const a=oI(e,s);if(yw(e)){if(Xv||(Xv={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Xv&&(Gt(Xv,(h,g)=>{e.dom.unbind(oI(e,g))}),Xv=null)})),Xv[s])return;const l=h=>{const g=h.target,v=e.editorManager.get();let S=v.length;for(;S--;){const I=v[S].getBody();(I===g||Yv.isChildOf(g,I))&&eN(v[S],s,h)}};Xv[s]=l,Yv.bind(a,s,l)}else{const l=h=>{eN(e,s,h)};Yv.bind(a,s,l),e.delegates[s]=l}},S8={...Qz,bindPendingEventDelegates(){const e=this;xt.each(e._pendingNativeEvents,s=>{C8(e,s)})},toggleNativeEvent(e,s){const a=this;e==="focus"||e==="blur"||a.removed||(s?a.initialized?C8(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&a.delegates&&(a.dom.unbind(oI(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents(){const e=this,s=e.getBody(),a=e.dom;e.delegates&&(Gt(e.delegates,(l,h)=>{e.dom.unbind(oI(e,h),h,l)}),delete e.delegates),!e.inline&&s&&a&&(s.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(s),a.unbind(e.getContainer()))}},AY=e=>ee(e)?{value:e.split(/[ ,]/),valid:!0}:nn(e,ee)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},OY=e=>{const s=(()=>{switch(e){case"array":return Ze;case"boolean":return Te;case"function":return de;case"number":return Tn;case"object":return ht;case"string":return ee;case"string[]":return AY;case"object[]":return a=>nn(a,ht);case"regexp":return a=>gt(a,RegExp);default:return me}})();return a=>oa(a,s,`The value must be a ${e}.`)},tN=e=>ee(e.processor),x8=(e,s)=>{const a=nl(s.message)?"":`. ${s.message}`;return e+a},E8=e=>e.valid,oa=(e,s,a="")=>{const l=s(e);return Te(l)?l?{value:e,valid:!0}:{valid:!1,message:a}:l},DY=(e,s,a)=>{if(!st(s)){const l=oa(s,a);if(E8(l))return l.value;console.error(x8(`Invalid default value passed for the "${e}" option`,l))}},MY=(e,s)=>{const a={},l={},h=(U,X,fe)=>{const pe=oa(X,fe);return E8(pe)?(l[U]=pe.value,!0):(console.warn(x8(`Invalid value passed for the ${U} option`,pe)),!1)},g=(U,X)=>{const fe=tN(X)?OY(X.processor):X.processor,pe=DY(U,X.default,fe);a[U]={...X,default:pe,processor:fe},fs(l,U).orThunk(()=>fs(s,U)).each(he=>h(U,he,fe))},v=U=>Fn(a,U);return{register:g,isRegistered:v,get:U=>fs(l,U).orThunk(()=>fs(a,U).map(X=>X.default)).getOrUndefined(),set:(U,X)=>{if(v(U)){const fe=a[U];return fe.immutable?(console.error(`"${U}" is an immutable option and cannot be updated`),!1):h(U,X,fe.processor)}else return console.warn(`"${U}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:U=>{const X=v(U);return X&&delete l[U],X},isSet:U=>Fn(l,U)}},nN=["design","readonly"],oN=(e,s,a,l)=>{const h=a[s.get()],g=a[l];try{g.activate()}catch(v){console.error(`problem while activating editor mode ${l}:`,v);return}h.deactivate(),h.editorReadOnly!==g.editorReadOnly&&qv(e,g.editorReadOnly),s.set(l),yO(e,l)},sN=(e,s,a,l)=>{if(l!==a.get()){if(!Fn(s,l))throw new Error(`Editor mode '${l}' is invalid`);e.initialized?oN(e,a,s,l):e.on("init",()=>oN(e,a,s,l))}},PY=(e,s,a)=>{if(Oe(nN,s))throw new Error(`Cannot override default mode ${s}`);return{...e,[s]:{...a,deactivate:()=>{try{a.deactivate()}catch(l){console.error(`problem while deactivating editor mode ${s}:`,l)}}}}},zY=e=>{const s=Ya("design"),a=Ya({design:{activate:Ot,deactivate:Ot,editorReadOnly:!1},readonly:{activate:Ot,deactivate:Ot,editorReadOnly:!0}});return w8(e),RY(e),{isReadOnly:()=>Xp(e),set:l=>sN(e,a.get(),s,l),get:()=>s.get(),register:(l,h)=>{a.set(PY(a.get(),l,h))}}},rN=xt.each,aN=xt.explode,NY={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},T8=xt.makeMap("alt,ctrl,shift,meta,access"),LY=e=>e in T8,BY=e=>{const s={},a=Fo.os.isMacOS()||Fo.os.isiOS();rN(aN(e.toLowerCase(),"+"),g=>{LY(g)?s[g]=!0:/^[0-9]{2,}$/.test(g)?s.keyCode=parseInt(g,10):(s.charCode=g.charCodeAt(0),s.keyCode=NY[g]||g.toUpperCase().charCodeAt(0))});const l=[s.keyCode];let h;for(h in T8)s[h]?l.push(h):s[h]=!1;return s.id=l.join(","),s.access&&(s.alt=!0,a?s.ctrl=!0:s.shift=!0),s.meta&&(a?s.meta=!0:(s.ctrl=!0,s.meta=!1)),s};class Jv{constructor(s){this.shortcuts={},this.pendingPatterns=[],this.editor=s;const a=this;s.on("keyup keypress keydown",l=>{(a.hasModifier(l)||a.isFunctionKey(l))&&!l.isDefaultPrevented()&&(rN(a.shortcuts,h=>{a.matchShortcut(l,h)&&(a.pendingPatterns=h.subpatterns.slice(0),l.type==="keydown"&&a.executeShortcutAction(h))}),a.matchShortcut(l,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&l.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}add(s,a,l,h){const g=this,v=g.normalizeCommandFunc(l);return rN(aN(xt.trim(s)),S=>{const I=g.createShortcut(S,a,v,h);g.shortcuts[I.id]=I}),!0}remove(s){const a=this.createShortcut(s);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1}normalizeCommandFunc(s){const a=this,l=s;return typeof l=="string"?()=>{a.editor.execCommand(l,!1,null)}:xt.isArray(l)?()=>{a.editor.execCommand(l[0],l[1],l[2])}:l}createShortcut(s,a,l,h){const g=xt.map(aN(s,">"),BY);return g[g.length-1]=xt.extend(g[g.length-1],{func:l,scope:h||this.editor}),xt.extend(g[0],{desc:this.editor.translate(a),subpatterns:g.slice(1)})}hasModifier(s){return s.altKey||s.ctrlKey||s.metaKey}isFunctionKey(s){return s.type==="keydown"&&s.keyCode>=112&&s.keyCode<=123}matchShortcut(s,a){return!a||a.ctrl!==s.ctrlKey||a.meta!==s.metaKey||a.alt!==s.altKey||a.shift!==s.shiftKey?!1:s.keyCode===a.keyCode||s.charCode&&s.charCode===a.charCode?(s.preventDefault(),!0):!1}executeShortcutAction(s){return s.func?s.func.call(s.scope):null}}const Th=()=>{const e={},s={},a={},l={},h={},g={},v={},S={},I=(W,U)=>(X,fe)=>{W[X.toLowerCase()]={...fe,type:U}},z=(W,U)=>l[W.toLowerCase()]=U;return{addButton:I(e,"button"),addGroupToolbarButton:I(e,"grouptoolbarbutton"),addToggleButton:I(e,"togglebutton"),addMenuButton:I(e,"menubutton"),addSplitButton:I(e,"splitbutton"),addMenuItem:I(s,"menuitem"),addNestedMenuItem:I(s,"nestedmenuitem"),addToggleMenuItem:I(s,"togglemenuitem"),addAutocompleter:I(a,"autocompleter"),addContextMenu:I(h,"contextmenu"),addContextToolbar:I(g,"contexttoolbar"),addContextForm:I(g,"contextform"),addSidebar:I(v,"sidebar"),addView:I(S,"views"),addIcon:z,getAll:()=>({buttons:e,menuItems:s,icons:l,popups:a,contextMenus:h,contextToolbars:g,sidebars:v,views:S})}},FY=()=>{const e=Th();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Qv=ys.DOM,R8=xt.extend,$Y=xt.each;class sI{constructor(s,a,l){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=l,this.documentBaseUrl=l.documentBaseURL,R8(this,S8);const h=this;this.id=s,this.hidden=!1;const g=QK(l.defaultOptions,a);this.options=MY(h,g),EA(h);const v=this.options.get;v("deprecation_warnings")&&nj(a,g);const S=v("suffix");S&&(l.suffix=S),this.suffix=l.suffix;const I=v("base_url");I&&l._setBaseUrl(I),this.baseUri=l.baseURI;const z=pw(h);z&&(Wc.ScriptLoader._setReferrerPolicy(z),ys.DOM.styleSheetLoader._setReferrerPolicy(z));const W=Kg(h);Ue(W)&&ys.DOM.styleSheetLoader._setContentCssCors(W),cl.languageLoad=v("language_load"),cl.baseURL=l.baseURL,this.setDirty(!1),this.documentBaseURI=new Td(wE(h),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=bp(h),this.hasVisual=LA(h),this.shortcuts=new Jv(this),this.editorCommands=new b8(this),Ote(this);const U=v("cache_suffix");U&&(Fo.cacheSuffix=U.replace(/^[\?\&]+/,"")),this.ui={registry:FY(),styleSheetLoader:void 0,show:Ot,hide:Ot,setEnabled:Ot,isEnabled:me},this.mode=zY(h),l.dispatch("SetupEditor",{editor:this});const X=LE(h);de(X)&&X.call(h,h)}render(){qK(this)}focus(s){this.execCommand("mceFocus",!1,s)}hasFocus(){return gy(this)}translate(s){return md.translate(s)}getParam(s,a,l){const h=this.options;return h.isRegistered(s)||(Ue(l)?h.register(s,{processor:l,default:a}):h.register(s,{processor:me,default:a})),!h.isSet(s)&&!st(a)?a:h.get(s)}hasPlugin(s,a){return Oe(Hb(this),s)?a?Cf.get(s)!==void 0:!0:!1}nodeChanged(s){this._nodeChangeDispatcher.nodeChanged(s)}addCommand(s,a,l){this.editorCommands.addCommand(s,a,l)}addQueryStateHandler(s,a,l){this.editorCommands.addQueryStateHandler(s,a,l)}addQueryValueHandler(s,a,l){this.editorCommands.addQueryValueHandler(s,a,l)}addShortcut(s,a,l,h){this.shortcuts.add(s,a,l,h)}execCommand(s,a,l,h){return this.editorCommands.execCommand(s,a,l,h)}queryCommandState(s){return this.editorCommands.queryCommandState(s)}queryCommandValue(s){return this.editorCommands.queryCommandValue(s)}queryCommandSupported(s){return this.editorCommands.queryCommandSupported(s)}show(){const s=this;s.hidden&&(s.hidden=!1,s.inline?s.getBody().contentEditable="true":(Qv.show(s.getContainer()),Qv.hide(s.id)),s.load(),s.dispatch("show"))}hide(){const s=this;s.hidden||(s.save(),s.inline?(s.getBody().contentEditable="false",s===s.editorManager.focusedEditor&&(s.editorManager.focusedEditor=null)):(Qv.hide(s.getContainer()),Qv.setStyle(s.id,"display",s.orgDisplay)),s.hidden=!0,s.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(s,a){this.dispatch("ProgressState",{state:s,time:a})}load(s={}){const a=this,l=a.getElement();if(a.removed)return"";if(l){const h={...s,load:!0},g=Yf(l)?l.value:l.innerHTML,v=a.setContent(g,h);return h.no_events||a.dispatch("LoadContent",{...h,element:l}),v}else return""}save(s={}){const a=this;let l=a.getElement();if(!l||!a.initialized||a.removed)return"";const h={...s,save:!0,element:l};let g=a.getContent(h);const v={...h,content:g};if(v.no_events||a.dispatch("SaveContent",v),v.format==="raw"&&a.dispatch("RawSaveContent",v),g=v.content,Yf(l))l.value=g;else{(s.is_removing||!a.inline)&&(l.innerHTML=g);const S=Qv.getParent(a.id,"form");S&&$Y(S.elements,I=>I.name===a.id?(I.value=g,!1):!0)}return v.element=h.element=l=null,v.set_dirty!==!1&&a.setDirty(!1),g}setContent(s,a){return AM(this,s,a)}getContent(s){return UB(this,s)}insertContent(s,a){a&&(s=R8({content:s},a)),this.execCommand("mceInsertContent",!1,s)}resetContent(s){s===void 0?AM(this,this.startContent,{format:"raw"}):AM(this,s),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(s){const a=!this.isNotDirty;this.isNotDirty=!s,s&&s!==a&&this.dispatch("dirty")}getContainer(){const s=this;return s.container||(s.container=s.editorContainer||Qv.get(s.id+"_parent")),s.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Qv.get(this.id)),this.targetElm}getWin(){const s=this;if(!s.contentWindow){const a=s.iframeElement;a&&(s.contentWindow=a.contentWindow)}return s.contentWindow}getDoc(){const s=this;if(!s.contentDocument){const a=s.getWin();a&&(s.contentDocument=a.document)}return s.contentDocument}getBody(){var s,a;const l=this.getDoc();return(a=(s=this.bodyElement)!==null&&s!==void 0?s:l==null?void 0:l.body)!==null&&a!==void 0?a:null}convertURL(s,a,l){const h=this,g=h.options.get,v=BE(h);return de(v)?v.call(h,s,l,!0,a):!g("convert_urls")||l==="link"||ht(l)&&l.nodeName==="LINK"||s.indexOf("file:")===0||s.length===0?s:g("relative_urls")?h.documentBaseURI.toRelative(s):(s=h.documentBaseURI.toAbsolute(s,g("remove_script_host")),s)}addVisual(s){Uz(this,s)}remove(){aj(this)}destroy(s){ij(this,s)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const W_=ys.DOM,rI=xt.each;let I8=!1,aI,nu=[];const iI=e=>{const s=e.type;rI($y.get(),a=>{switch(s){case"scroll":a.dispatch("ScrollWindow",e);break;case"resize":a.dispatch("ResizeWindow",e);break}})},A8=e=>{if(e!==I8){const s=ys.DOM;e?(s.bind(window,"resize",iI),s.bind(window,"scroll",iI)):(s.unbind(window,"resize",iI),s.unbind(window,"scroll",iI)),I8=e}},O8=e=>{const s=nu;return nu=$e(nu,a=>e!==a),$y.activeEditor===e&&($y.activeEditor=nu.length>0?nu[0]:null),$y.focusedEditor===e&&($y.focusedEditor=null),s.length!==nu.length},VY=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(O8(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},HY=document.compatMode!=="CSS1Compat",$y={...Qz,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"4.2",releaseDate:"2023-04-26",i18n:md,activeEditor:null,focusedEditor:null,setup(){const e=this;let s="",a="",l=Td.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(l)&&(l=l.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(l)||(l+="/"));const h=window.tinymce||window.tinyMCEPreInit;if(h)s=h.base||h.baseURL,a=h.suffix;else{const g=document.getElementsByTagName("script");for(let v=0;v<g.length;v++){const S=g[v].src||"";if(S==="")continue;const I=S.substring(S.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(S)){I.indexOf(".min")!==-1&&(a=".min"),s=S.substring(0,S.lastIndexOf("/"));break}}if(!s&&document.currentScript){const v=document.currentScript.src;v.indexOf(".min")!==-1&&(a=".min"),s=v.substring(0,v.lastIndexOf("/"))}}e.baseURL=new Td(l).toAbsolute(s),e.documentBaseURL=l,e.baseURI=new Td(e.baseURL),e.suffix=a,VO(e)},overrideDefaults(e){const s=e.base_url;s&&this._setBaseUrl(s);const a=e.suffix;a&&(this.suffix=a),this.defaultOptions=e;const l=e.plugin_base_urls;l!==void 0&&Gt(l,(h,g)=>{cl.PluginManager.urls[g]=h})},init(e){const s=this;let a;const l=xt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),h=(W,U)=>W.inline&&U.tagName.toLowerCase()in l,g=W=>{let U=W.id;return U||(U=fs(W,"name").filter(X=>!W_.get(X)).getOrThunk(W_.uniqueId),W.setAttribute("id",U)),U},v=W=>{const U=e[W];if(!!U)return U.apply(s,[])},S=W=>Fo.browser.isIE()||Fo.browser.isEdge()?(aS("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):HY?(aS("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ee(W.selector)?W_.select(W.selector):Ue(W.target)?[W.target]:[];let I=W=>{a=W};const z=()=>{let W=0;const U=[];let X;const fe=(pe,se,he)=>{const Ae=new sI(pe,se,s);U.push(Ae),Ae.on("init",()=>{++W===X.length&&I(U)}),Ae.targetElm=Ae.targetElm||he,Ae.render()};W_.unbind(window,"ready",z),v("onpageload"),X=Oi(S(e)),xt.each(X,pe=>{VY(s.get(pe.id))}),X=xt.grep(X,pe=>!s.get(pe.id)),X.length===0?I([]):rI(X,pe=>{h(e,pe)?aS("Could not initialize inline editor on invalid inline target element",pe):fe(g(pe),e,pe)})};return W_.bind(window,"ready",z),new Promise(W=>{a?W(a):I=U=>{W(U)}})},get(e){return arguments.length===0?nu.slice(0):ee(e)?ut(nu,s=>s.id===e).getOr(null):Tn(e)&&nu[e]?nu[e]:null},add(e){const s=this,a=s.get(e.id);return a===e||(a===null&&nu.push(e),A8(!0),s.activeEditor=e,s.dispatch("AddEditor",{editor:e}),aI||(aI=l=>{const h=s.dispatch("BeforeUnload");if(h.returnValue)return l.preventDefault(),l.returnValue=h.returnValue,h.returnValue},window.addEventListener("beforeunload",aI))),e},createEditor(e,s){return this.add(new sI(e,s,this))},remove(e){const s=this;let a;if(!e){for(let l=nu.length-1;l>=0;l--)s.remove(nu[l]);return}if(ee(e)){rI(W_.select(e),l=>{a=s.get(l.id),a&&s.remove(a)});return}return a=e,J(s.get(a.id))?null:(O8(a)&&s.dispatch("RemoveEditor",{editor:a}),nu.length===0&&window.removeEventListener("beforeunload",aI),a.remove(),A8(nu.length>0),a)},execCommand(e,s,a){var l;const h=this,g=ht(a)?(l=a.id)!==null&&l!==void 0?l:a.index:a;switch(e){case"mceAddEditor":{if(!h.get(g)){const v=a.options;new sI(g,v,h).render()}return!0}case"mceRemoveEditor":{const v=h.get(g);return v&&v.remove(),!0}case"mceToggleEditor":{const v=h.get(g);return v?(v.isHidden()?v.show():v.hide(),!0):(h.execCommand("mceAddEditor",!1,a),!0)}}return h.activeEditor?h.activeEditor.execCommand(e,s,a):!1},triggerSave:()=>{rI(nu,e=>{e.save()})},addI18n:(e,s)=>{md.add(e,s)},translate:e=>md.translate(e),setActive(e){const s=this.activeEditor;this.activeEditor!==e&&(s&&s.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:s})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Td(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Td(this.baseURL)}};$y.setup();const UY=(()=>{const e=Es(),s=g=>({items:g,types:Fr(g),getType:v=>fs(g,v).getOrUndefined()}),a=g=>{e.set(g)},l=()=>e.get().getOrUndefined(),h=e.clear;return{FakeClipboardItem:s,write:a,read:l,clear:h}})(),D8=Math.min,Z_=Math.max,lI=Math.round,M8=(e,s,a)=>{let l=s.x,h=s.y;const g=e.w,v=e.h,S=s.w,I=s.h,z=(a||"").split("");return z[0]==="b"&&(h+=I),z[1]==="r"&&(l+=S),z[0]==="c"&&(h+=lI(I/2)),z[1]==="c"&&(l+=lI(S/2)),z[3]==="b"&&(h-=v),z[4]==="r"&&(l-=g),z[3]==="c"&&(h-=lI(v/2)),z[4]==="c"&&(l-=lI(g/2)),G_(l,h,g,v)},jY=(e,s,a,l)=>{for(let h=0;h<l.length;h++){const g=M8(e,s,l[h]);if(g.x>=a.x&&g.x+g.w<=a.w+a.x&&g.y>=a.y&&g.y+g.h<=a.h+a.y)return l[h]}return null},WY=(e,s,a)=>G_(e.x-s,e.y-a,e.w+s*2,e.h+a*2),ZY=(e,s)=>{const a=Z_(e.x,s.x),l=Z_(e.y,s.y),h=D8(e.x+e.w,s.x+s.w),g=D8(e.y+e.h,s.y+s.h);return h-a<0||g-l<0?null:G_(a,l,h-a,g-l)},GY=(e,s,a)=>{let l=e.x,h=e.y,g=e.x+e.w,v=e.y+e.h;const S=s.x+s.w,I=s.y+s.h,z=Z_(0,s.x-l),W=Z_(0,s.y-h),U=Z_(0,g-S),X=Z_(0,v-I);return l+=z,h+=W,a&&(g+=z,v+=W,l-=U,h-=X),g-=U,v-=X,G_(l,h,g-l,v-h)},G_=(e,s,a,l)=>({x:e,y:s,w:a,h:l}),qY={inflate:WY,relativePosition:M8,findBestRelativePosition:jY,intersect:ZY,clamp:GY,create:G_,fromClientRect:e=>G_(e.left,e.top,e.width,e.height)},KY=(e,s,a=1e3)=>{let l=!1,h=null;const g=z=>(...W)=>{l||(l=!0,h!==null&&(clearTimeout(h),h=null),z.apply(null,W))},v=g(e),S=g(s);return{start:(...z)=>{!l&&h===null&&(h=setTimeout(()=>S.apply(null,z),a))},resolve:v,reject:S}},YY=(()=>{const e={},s={};return{load:(g,v)=>{const S=`Script at URL "${v}" failed to load`,I=`Script at URL "${v}" did not call \`tinymce.Resource.add('${g}', data)\` within 1 second`;if(e[g]!==void 0)return e[g];{const z=new Promise((W,U)=>{const X=KY(W,U);s[g]=X.resolve,Wc.ScriptLoader.loadScript(v).then(()=>X.start(I),()=>X.reject(S))});return e[g]=z,z}},add:(g,v)=>{s[g]!==void 0&&(s[g](v),delete s[g]),e[g]=Promise.resolve(v)},unload:g=>{delete e[g]}}})(),XY=()=>(()=>{let e={},s=[];const a={getItem:l=>{const h=e[l];return h||null},setItem:(l,h)=>{s.push(l),e[l]=String(h)},key:l=>s[l],removeItem:l=>{s=s.filter(h=>h===l),delete e[l]},clear:()=>{s=[],e={}},length:0};return Object.defineProperty(a,"length",{get:()=>s.length,configurable:!1,enumerable:!1}),a})();let q_;try{const e="__storage_test__";q_=window.localStorage,q_.setItem(e,e),q_.removeItem(e)}catch{q_=XY()}var JY=q_;const QY={geom:{Rect:qY},util:{Delay:Hs,Tools:xt,VK:fn,URI:Td,EventDispatcher:Jz,Observable:Qz,I18n:md,LocalStorage:JY,ImageUploader:wj},dom:{EventUtils:Da,TreeWalker:Mr,TextSeeker:hp,DOMUtils:ys,ScriptLoader:Wc,RangeUtils:Pp,Serializer:RM,StyleSheetLoader:af,ControlSelection:fv,BookmarkManager:ym,Selection:xM,Event:Da.Event},html:{Styles:rh,Entities:ll,Node:kc,Schema:Wl,DomParser:Nv,Writer:X4,Serializer:yy},Env:Fo,AddOnManager:cl,Annotator:wc,Formatter:Id,UndoManager:LM,EditorCommands:b8,WindowManager:rS,NotificationManager:sS,EditorObservable:S8,Shortcuts:Jv,Editor:sI,FocusManager:r_,EditorManager:$y,DOM:ys.DOM,ScriptLoader:Wc.ScriptLoader,PluginManager:Cf,ThemeManager:Rd,ModelManager:y_,IconManager:UT,Resource:YY,FakeClipboard:UY,trim:xt.trim,isArray:xt.isArray,is:xt.is,toArray:xt.toArray,makeMap:xt.makeMap,each:xt.each,map:xt.map,grep:xt.grep,inArray:xt.inArray,extend:xt.extend,walk:xt.walk,resolve:xt.resolve,explode:xt.explode,_addCacheSuffix:xt._addCacheSuffix},P8=xt.extend($y,QY),eX=e=>{try{t.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(P8),eX(P8)})()})(GTe);(function(){var t=tinymce.util.Tools.resolve("tinymce.ModelManager");const n=(p,b,k)=>{var E;return k(p,b.prototype)?!0:((E=p.constructor)===null||E===void 0?void 0:E.name)===b.name},r=p=>{const b=typeof p;return p===null?"null":b==="object"&&Array.isArray(p)?"array":b==="object"&&n(p,String,(k,E)=>E.isPrototypeOf(k))?"string":b},u=p=>b=>r(b)===p,f=p=>b=>typeof b===p,d=p=>b=>p===b,w=u("string"),x=u("object"),T=u("array"),A=d(null),$=f("boolean"),B=d(void 0),H=p=>p==null,le=p=>!H(p),ke=f("function"),Ne=f("number"),Se=()=>{},je=(p,b)=>(...k)=>p(b.apply(null,k)),gt=(p,b)=>k=>p(b(k)),ee=p=>()=>p,ht=p=>p,He=(p,b)=>p===b;function Ze(p,...b){return(...k)=>{const E=b.concat(k);return p.apply(null,E)}}const J=p=>b=>!p(b),Te=p=>()=>{throw new Error(p)},st=p=>p(),_t=ee(!1),Ue=ee(!0);class de{constructor(b,k){this.tag=b,this.value=k}static some(b){return new de(!0,b)}static none(){return de.singletonNone}fold(b,k){return this.tag?k(this.value):b()}isSome(){return this.tag}isNone(){return!this.tag}map(b){return this.tag?de.some(b(this.value)):de.none()}bind(b){return this.tag?b(this.value):de.none()}exists(b){return this.tag&&b(this.value)}forall(b){return!this.tag||b(this.value)}filter(b){return!this.tag||b(this.value)?this:de.none()}getOr(b){return this.tag?this.value:b}or(b){return this.tag?this:b}getOrThunk(b){return this.tag?this.value:b()}orThunk(b){return this.tag?this:b()}getOrDie(b){if(this.tag)return this.value;throw new Error(b!=null?b:"Called getOrDie on None")}static from(b){return le(b)?de.some(b):de.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(b){this.tag&&b(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}de.singletonNone=new de(!1);const Tn=Array.prototype.slice,nn=Array.prototype.indexOf,Ot=Array.prototype.push,L=(p,b)=>nn.call(p,b),Ht=(p,b)=>L(p,b)>-1,ot=(p,b)=>{for(let k=0,E=p.length;k<E;k++){const P=p[k];if(b(P,k))return!0}return!1},Bn=(p,b)=>{const k=[];for(let E=0;E<p;E++)k.push(b(E));return k},cn=(p,b)=>{const k=p.length,E=new Array(k);for(let P=0;P<k;P++){const F=p[P];E[P]=b(F,P)}return E},it=(p,b)=>{for(let k=0,E=p.length;k<E;k++){const P=p[k];b(P,k)}},Gn=(p,b)=>{for(let k=p.length-1;k>=0;k--){const E=p[k];b(E,k)}},io=(p,b)=>{const k=[],E=[];for(let P=0,F=p.length;P<F;P++){const q=p[P];(b(q,P)?k:E).push(q)}return{pass:k,fail:E}},uo=(p,b)=>{const k=[];for(let E=0,P=p.length;E<P;E++){const F=p[E];b(F,E)&&k.push(F)}return k},Et=(p,b,k)=>(Gn(p,(E,P)=>{k=b(k,E,P)}),k),Ee=(p,b,k)=>(it(p,(E,P)=>{k=b(k,E,P)}),k),me=(p,b,k)=>{for(let E=0,P=p.length;E<P;E++){const F=p[E];if(b(F,E))return de.some(F);if(k(F,E))break}return de.none()},j=(p,b)=>me(p,b,_t),lt=(p,b)=>{for(let k=0,E=p.length;k<E;k++){const P=p[k];if(b(P,k))return de.some(k)}return de.none()},Je=p=>{const b=[];for(let k=0,E=p.length;k<E;++k){if(!T(p[k]))throw new Error("Arr.flatten item "+k+" was not an array, input: "+p);Ot.apply(b,p[k])}return b},Tt=(p,b)=>Je(cn(p,b)),re=(p,b)=>{for(let k=0,E=p.length;k<E;++k){const P=p[k];if(b(P,k)!==!0)return!1}return!0},Re=p=>{const b=Tn.call(p,0);return b.reverse(),b},Oe=(p,b)=>{const k={};for(let E=0,P=p.length;E<P;E++){const F=p[E];k[String(F)]=b(F,E)}return k},yt=(p,b)=>{const k=Tn.call(p,0);return k.sort(b),k},Ye=(p,b)=>b>=0&&b<p.length?de.some(p[b]):de.none(),ce=p=>Ye(p,0),Fe=p=>Ye(p,p.length-1),et=(p,b)=>{for(let k=0;k<p.length;k++){const E=b(p[k],k);if(E.isSome())return E}return de.none()},$e=Object.keys,oe=Object.hasOwnProperty,be=(p,b)=>{const k=$e(p);for(let E=0,P=k.length;E<P;E++){const F=k[E],q=p[F];b(q,F)}},Xe=(p,b)=>ut(p,(k,E)=>({k:E,v:b(k,E)})),ut=(p,b)=>{const k={};return be(p,(E,P)=>{const F=b(E,P);k[F.k]=F.v}),k},zt=p=>(b,k)=>{p[k]=b},Dt=(p,b,k,E)=>{be(p,(P,F)=>{(b(P,F)?k:E)(P,F)})},Vt=(p,b)=>{const k={};return Dt(p,b,zt(k),Se),k},an=(p,b)=>{const k=[];return be(p,(E,P)=>{k.push(b(E,P))}),k},_n=p=>an(p,ht),jn=(p,b)=>lo(p,b)?de.from(p[b]):de.none(),lo=(p,b)=>oe.call(p,b),mo=(p,b)=>lo(p,b)&&p[b]!==void 0&&p[b]!==null,Ao=p=>{for(const b in p)if(oe.call(p,b))return!1;return!0},ks=typeof window<"u"?window:Function("return this;")(),jo=(p,b)=>{let k=b!=null?b:ks;for(let E=0;E<p.length&&k!==void 0&&k!==null;++E)k=k[p[E]];return k},zs=(p,b)=>{const k=p.split(".");return jo(k,b)},Dl=(p,b)=>zs(p,b),Oi=(p,b)=>{const k=Dl(p,b);if(k==null)throw new Error(p+" not available on this browser");return k},Fr=Object.getPrototypeOf,pi=p=>Oi("HTMLElement",p),Gt=p=>{const b=zs("ownerDocument.defaultView",p);return x(p)&&(pi(b).prototype.isPrototypeOf(p)||/^HTML\w*Element$/.test(Fr(p).constructor.name))},Mo=8,el=9,ca=11,Yu=1,fu=3,ws=p=>p.dom.nodeName.toLowerCase(),ac=p=>p.dom.nodeType,Xu=p=>b=>ac(b)===p,fs=p=>ac(p)===Mo||ws(p)==="#comment",Fn=p=>si(p)&&Gt(p.dom),si=Xu(Yu),Oc=Xu(fu),zf=Xu(el),hu=Xu(ca),gi=p=>b=>si(b)&&ws(b)===p,ua=(p,b,k)=>{if(w(k)||$(k)||Ne(k))p.setAttribute(b,k+"");else throw console.error("Invalid call to Attribute.set. Key ",b,":: Value ",k,":: Element ",p),new Error("Attribute value was not simple")},vr=(p,b,k)=>{ua(p.dom,b,k)},Dc=(p,b)=>{const k=p.dom;be(b,(E,P)=>{ua(k,P,E)})},Wd=(p,b)=>{be(b,(k,E)=>{k.fold(()=>{Zs(p,E)},P=>{ua(p.dom,E,P)})})},xa=(p,b)=>{const k=p.dom.getAttribute(b);return k===null?void 0:k},Di=(p,b)=>de.from(xa(p,b)),Zs=(p,b)=>{p.dom.removeAttribute(b)},Wa=p=>Ee(p.dom.attributes,(b,k)=>(b[k.name]=k.value,b),{}),ic=(p,b)=>{const E=(b||document).createElement("div");if(E.innerHTML=p,!E.hasChildNodes()||E.childNodes.length>1){const P="HTML does not have a single root node";throw console.error(P,p),new Error(P)}return yi(E.childNodes[0])},Nf=(p,b)=>{const E=(b||document).createElement(p);return yi(E)},zh=(p,b)=>{const E=(b||document).createTextNode(p);return yi(E)},yi=p=>{if(p==null)throw new Error("Node cannot be null or undefined");return{dom:p}},Le={fromHtml:ic,fromTag:Nf,fromText:zh,fromDom:yi,fromPoint:(p,b,k)=>de.from(p.dom.elementFromPoint(b,k)).map(yi)},Ea=(p,b)=>{const k=p.dom;if(k.nodeType!==Yu)return!1;{const E=k;if(E.matches!==void 0)return E.matches(b);if(E.msMatchesSelector!==void 0)return E.msMatchesSelector(b);if(E.webkitMatchesSelector!==void 0)return E.webkitMatchesSelector(b);if(E.mozMatchesSelector!==void 0)return E.mozMatchesSelector(b);throw new Error("Browser lacks native selectors")}},Zd=p=>p.nodeType!==Yu&&p.nodeType!==el&&p.nodeType!==ca||p.childElementCount===0,dg=(p,b)=>{const k=b===void 0?document:b.dom;return Zd(k)?[]:cn(k.querySelectorAll(p),Le.fromDom)},$m=(p,b)=>{const k=b===void 0?document:b.dom;return Zd(k)?de.none():de.from(k.querySelector(p)).map(Le.fromDom)},_s=(p,b)=>p.dom===b.dom,fg=(p,b)=>{const k=p.dom,E=b.dom;return k===E?!1:k.contains(E)},Nh=Ea,Ju=p=>Le.fromDom(p.dom.ownerDocument),bi=p=>zf(p)?p:Ju(p),wr=p=>Le.fromDom(bi(p).dom.documentElement),Rr=p=>Le.fromDom(bi(p).dom.defaultView),mu=p=>de.from(p.dom.parentNode).map(Le.fromDom),tl=p=>de.from(p.dom.parentElement).map(Le.fromDom),Mc=(p,b)=>{const k=ke(b)?b:_t;let E=p.dom;const P=[];for(;E.parentNode!==null&&E.parentNode!==void 0;){const F=E.parentNode,q=Le.fromDom(F);if(P.push(q),k(q)===!0)break;E=F}return P},Qu=p=>de.from(p.dom.previousSibling).map(Le.fromDom),ed=p=>de.from(p.dom.nextSibling).map(Le.fromDom),Jo=p=>cn(p.dom.childNodes,Le.fromDom),nl=(p,b)=>{const k=p.dom.childNodes;return de.from(k[b]).map(Le.fromDom)},Gd=p=>nl(p,0),Pc=(p,b)=>{mu(p).each(E=>{E.dom.insertBefore(b.dom,p.dom)})},yl=(p,b)=>{ed(p).fold(()=>{mu(p).each(P=>{Gs(P,b)})},E=>{Pc(E,b)})},Mi=(p,b)=>{Gd(p).fold(()=>{Gs(p,b)},E=>{p.dom.insertBefore(b.dom,E.dom)})},Gs=(p,b)=>{p.dom.appendChild(b.dom)},Jy=(p,b,k)=>{nl(p,k).fold(()=>{Gs(p,b)},E=>{Pc(E,b)})},Vm=(p,b)=>{Pc(p,b),Gs(b,p)},ls=(p,b)=>{it(b,(k,E)=>{const P=E===0?p:b[E-1];yl(P,k)})},ol=(p,b)=>{it(b,k=>{Gs(p,k)})},Pi=p=>{p.dom.textContent="",it(Jo(p),b=>{Yr(b)})},Yr=p=>{const b=p.dom;b.parentNode!==null&&b.parentNode.removeChild(b)},Lf=p=>{const b=Jo(p);b.length>0&&ls(p,b),Yr(p)},td=(p,b)=>Le.fromDom(p.dom.cloneNode(b)),bl=p=>td(p,!1),Ml=p=>td(p,!0),Hm=(p,b)=>{const k=Le.fromTag(b),E=Wa(p);return Dc(k,E),k},Lh=(p,b)=>{const k=Hm(p,b),E=Jo(Ml(p));return ol(k,E),k},hg=(p,b)=>{const k=Hm(p,b);yl(p,k);const E=Jo(p);return ol(k,E),Yr(p),k},zi=["tfoot","thead","tbody","colgroup"],pu=p=>Ht(zi,p),Bf=(p,b)=>({rows:p,columns:b}),Um=(p,b)=>({row:p,column:b}),Bh=(p,b,k)=>({element:p,rowspan:b,colspan:k}),Fh=(p,b,k,E)=>({element:p,rowspan:b,colspan:k,isNew:E}),jm=(p,b,k,E,P,F)=>({element:p,rowspan:b,colspan:k,row:E,column:P,isLocked:F}),Ff=(p,b,k)=>({element:p,cells:b,section:k}),$r=(p,b,k,E)=>({element:p,cells:b,section:k,isNew:E}),Za=(p,b,k)=>({element:p,isNew:b,isLocked:k}),zc=(p,b,k,E)=>({element:p,cells:b,section:k,isNew:E}),Wm=(p,b,k,E)=>({startRow:p,startCol:b,finishRow:k,finishCol:E}),mg=(p,b,k)=>({element:p,colspan:b,column:k}),gu=(p,b)=>({element:p,columns:b}),Qy=p=>hu(p)&&le(p.dom.host),Ga=ke(Element.prototype.attachShadow)&&ke(Node.prototype.getRootNode),Xr=ee(Ga),lc=Ga?p=>Le.fromDom(p.dom.getRootNode()):bi,Pl=p=>{const b=lc(p);return Qy(b)?de.some(b):de.none()},Jn=p=>Le.fromDom(p.dom.host),Fo=p=>{if(Xr()&&le(p.target)){const b=Le.fromDom(p.target);if(si(b)&&da(b)&&p.composed&&p.composedPath){const k=p.composedPath();if(k)return ce(k)}}return de.from(p.target)},da=p=>le(p.dom.shadowRoot),G=p=>{const b=Oc(p)?p.dom.parentNode:p.dom;if(b==null||b.ownerDocument===null)return!1;const k=b.ownerDocument;return Pl(Le.fromDom(b)).fold(()=>k.body.contains(b),gt(G,Jn))},ae=()=>ge(Le.fromDom(document)),ge=p=>{const b=p.dom.body;if(b==null)throw new Error("Body is not available yet");return Le.fromDom(b)},Qe=(p,b,k)=>uo(Mc(p,k),b),en=(p,b)=>uo(Jo(p),b),co=(p,b)=>{let k=[];return it(Jo(p),E=>{b(E)&&(k=k.concat([E])),k=k.concat(co(E,b))}),k},un=(p,b,k)=>Qe(p,E=>Ea(E,b),k),Ir=(p,b)=>en(p,k=>Ea(k,b)),fa=(p,b)=>dg(b,p);var xt=(p,b,k,E,P)=>p(k,E)?de.some(k):ke(P)&&P(k)?de.none():b(k,E,P);const Vr=(p,b,k)=>{let E=p.dom;const P=ke(k)?k:_t;for(;E.parentNode;){E=E.parentNode;const F=Le.fromDom(E);if(b(F))return de.some(F);if(P(F))break}return de.none()},er=(p,b,k)=>xt((P,F)=>F(P),Vr,p,b,k),ha=(p,b)=>{const k=P=>b(Le.fromDom(P));return j(p.dom.childNodes,k).map(Le.fromDom)},pg=(p,b)=>{const k=E=>{for(let P=0;P<E.childNodes.length;P++){const F=Le.fromDom(E.childNodes[P]);if(b(F))return de.some(F);const q=k(E.childNodes[P]);if(q.isSome())return q}return de.none()};return k(p.dom)},Ro=(p,b,k)=>Vr(p,E=>Ea(E,b),k),yu=(p,b)=>ha(p,k=>Ea(k,b)),Ni=(p,b)=>$m(b,p),_r=(p,b,k)=>xt((P,F)=>Ea(P,F),Ro,p,b,k),Hr=(p,b,k=He)=>p.exists(E=>k(E,b)),$f=p=>{const b=[],k=E=>{b.push(E)};for(let E=0;E<p.length;E++)p[E].each(k);return b},Sx=(p,b)=>p!=null?b(p):de.none(),eb=(p,b)=>p?de.some(b):de.none(),qs=(p,b,k)=>b===""||p.length>=b.length&&p.substr(k,k+b.length)===b,Ur=(p,b,k=0,E)=>{const P=p.indexOf(b,k);return P!==-1?B(E)?!0:P+b.length<=E:!1},Vf=(p,b)=>qs(p,b,0),ri=(p,b)=>qs(p,b,p.length-b.length),Zm=(p=>b=>b.replace(p,""))(/^\s+|\s+$/g),Cs=p=>p.length>0,vi=p=>{const b=parseFloat(p);return isNaN(b)?de.none():de.some(b)},ai=p=>p.style!==void 0&&ke(p.style.getPropertyValue),C1=(p,b,k)=>{if(!w(k))throw console.error("Invalid call to CSS.set. Property ",b,":: Value ",k,":: Element ",p),new Error("CSS value must be a string: "+k);ai(p)&&p.style.setProperty(b,k)},Kd=(p,b)=>{ai(p)&&p.style.removeProperty(b)},Ss=(p,b,k)=>{const E=p.dom;C1(E,b,k)},wi=(p,b)=>{const k=p.dom;be(b,(E,P)=>{C1(k,P,E)})},Hf=(p,b)=>{const k=p.dom,P=window.getComputedStyle(k).getPropertyValue(b);return P===""&&!G(p)?S1(k,b):P},S1=(p,b)=>ai(p)?p.style.getPropertyValue(b):"",$h=(p,b)=>{const k=p.dom,E=S1(k,b);return de.from(E).filter(P=>P.length>0)},Nc=(p,b)=>{const k=p.dom;Kd(k,b),Hr(Di(p,"style").map(Zm),"")&&Zs(p,"style")},kr=(p,b)=>{const k=p.dom,E=b.dom;ai(k)&&ai(E)&&(E.style.cssText=k.style.cssText)},_i=(p,b,k=0)=>Di(p,b).map(E=>parseInt(E,10)).getOr(k),Li=(p,b)=>_i(p,b,1),Lc=p=>gi("col")(p)?_i(p,"span",1)>1:Li(p,"colspan")>1,qa=p=>Li(p,"rowspan")>1,Ar=(p,b)=>parseInt(Hf(p,b),10),vl=ee(10),Gm=ee(10),Yd=(p,b)=>Vh(p,b,Ue),Vh=(p,b,k)=>Tt(Jo(p),E=>Ea(E,b)?k(E)?[E]:[]:Vh(E,b,k)),gg=(p,b,k=_t)=>{if(k(b))return de.none();if(Ht(p,ws(b)))return de.some(b);const E=P=>Ea(P,"table")||k(P);return Ro(b,p.join(","),E)},zl=(p,b)=>gg(["td","th"],p,b),Xd=p=>Yd(p,"th,td"),qm=p=>Ea(p,"colgroup")?Ir(p,"col"):Tt(Uf(p),b=>Ir(b,"col")),Or=(p,b)=>_r(p,"table",b),Km=p=>Yd(p,"tr"),Uf=p=>Or(p).fold(ee([]),b=>Ir(b,"colgroup")),Hh=(p,b)=>cn(p,k=>{if(ws(k)==="colgroup"){const E=cn(qm(k),P=>{const F=_i(P,"span",1);return Bh(P,1,F)});return Ff(k,E,"colgroup")}else{const E=cn(Xd(k),P=>{const F=_i(P,"rowspan",1),q=_i(P,"colspan",1);return Bh(P,F,q)});return Ff(k,E,b(k))}}),Uh=p=>mu(p).map(b=>{const k=ws(b);return pu(k)?k:"tbody"}).getOr("tbody"),yg=p=>{const b=Km(p),E=[...Uf(p),...b];return Hh(E,Uh)},Ym=(p,b)=>Hh(p,()=>b),jf=p=>{let b=!1,k;return(...E)=>(b||(b=!0,k=p.apply(null,E)),k)},tb=(p,b,k,E)=>{const P=p.isiOS()&&/ipad/i.test(k)===!0,F=p.isiOS()&&!P,q=p.isiOS()||p.isAndroid(),te=q||E("(pointer:coarse)"),ue=P||!F&&q&&E("(min-device-width:768px)"),we=F||q&&!ue,ze=b.isSafari()&&p.isiOS()&&/safari/i.test(k)===!1,It=!we&&!ue&&!ze;return{isiPad:ee(P),isiPhone:ee(F),isTablet:ee(ue),isPhone:ee(we),isTouch:ee(te),isAndroid:p.isAndroid,isiOS:p.isiOS,isWebView:ee(ze),isDesktop:ee(It)}},nb=(p,b)=>{for(let k=0;k<p.length;k++){const E=p[k];if(E.test(b))return E}},Wf=(p,b)=>{const k=nb(p,b);if(!k)return{major:0,minor:0};const E=P=>Number(b.replace(k,"$"+P));return bg(E(1),E(2))},L0=(p,b)=>{const k=String(b).toLowerCase();return p.length===0?ve():Wf(p,k)},ve=()=>bg(0,0),bg=(p,b)=>({major:p,minor:b}),Bi={nu:bg,detect:L0,unknown:ve},ob=(p,b)=>et(b.brands,k=>{const E=k.brand.toLowerCase();return j(p,P=>{var F;return E===((F=P.brand)===null||F===void 0?void 0:F.toLowerCase())}).map(P=>({current:P.name,version:Bi.nu(parseInt(k.version,10),0)}))}),B0=(p,b)=>{const k=String(b).toLowerCase();return j(p,E=>E.search(k))},F0=(p,b)=>B0(p,b).map(k=>{const E=Bi.detect(k.versionRegexes,b);return{current:k.name,version:E}}),Xo=(p,b)=>B0(p,b).map(k=>{const E=Bi.detect(k.versionRegexes,b);return{current:k.name,version:E}}),cc=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ki=p=>b=>Ur(b,p),Nl=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:p=>Ur(p,"edge/")&&Ur(p,"chrome")&&Ur(p,"safari")&&Ur(p,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,cc],search:p=>Ur(p,"chrome")&&!Ur(p,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:p=>Ur(p,"msie")||Ur(p,"trident")},{name:"Opera",versionRegexes:[cc,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ki("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ki("firefox")},{name:"Safari",versionRegexes:[cc,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:p=>(Ur(p,"safari")||Ur(p,"mobile/"))&&Ur(p,"applewebkit")}],x1=[{name:"Windows",search:ki("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:p=>Ur(p,"iphone")||Ur(p,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ki("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ki("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ki("linux"),versionRegexes:[]},{name:"Solaris",search:ki("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ki("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ki("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Zf={browsers:ee(Nl),oses:ee(x1)},Ll="Edge",Xm="Chromium",sb="IE",$0="Opera",Bl="Firefox",jh="Safari",E1=()=>wl({current:void 0,version:Bi.unknown()}),wl=p=>{const b=p.current,k=p.version,E=P=>()=>b===P;return{current:b,version:k,isEdge:E(Ll),isChromium:E(Xm),isIE:E(sb),isOpera:E($0),isFirefox:E(Bl),isSafari:E(jh)}},Ta={unknown:E1,nu:wl,edge:ee(Ll),chromium:ee(Xm),ie:ee(sb),opera:ee($0),firefox:ee(Bl),safari:ee(jh)},Wh="Windows",Zh="iOS",uc="Android",_l="Linux",rb="macOS",vg="Solaris",wg="FreeBSD",ab="ChromeOS",bu=()=>Jm({current:void 0,version:Bi.unknown()}),Jm=p=>{const b=p.current,k=p.version,E=P=>()=>b===P;return{current:b,version:k,isWindows:E(Wh),isiOS:E(Zh),isAndroid:E(uc),isMacOS:E(rb),isLinux:E(_l),isSolaris:E(vg),isFreeBSD:E(wg),isChromeOS:E(ab)}},T1={unknown:bu,nu:Jm,windows:ee(Wh),ios:ee(Zh),android:ee(uc),linux:ee(_l),macos:ee(rb),solaris:ee(vg),freebsd:ee(wg),chromeos:ee(ab)},R1={detect:(p,b,k)=>{const E=Zf.browsers(),P=Zf.oses(),F=b.bind(ue=>ob(E,ue)).orThunk(()=>F0(E,p)).fold(Ta.unknown,Ta.nu),q=Xo(P,p).fold(T1.unknown,T1.nu),te=tb(q,F,p,k);return{browser:F,os:q,deviceType:te}}},_g=p=>window.matchMedia(p).matches;let ib=jf(()=>R1.detect(navigator.userAgent,de.from(navigator.userAgentData),_g));const nd=()=>ib(),lb=(p,b)=>{const k=(te,ue)=>{if(!Ne(ue)&&!ue.match(/^[0-9]+$/))throw new Error(p+".set accepts only positive integer values. Value was "+ue);const we=te.dom;ai(we)&&(we.style[p]=ue+"px")},E=te=>{const ue=b(te);if(ue<=0||ue===null){const we=Hf(te,p);return parseFloat(we)||0}return ue},P=E,F=(te,ue)=>Ee(ue,(we,ze)=>{const It=Hf(te,ze),Xt=It===void 0?0:parseInt(It,10);return isNaN(Xt)?we:we+Xt},0);return{set:k,get:E,getOuter:P,aggregate:F,max:(te,ue,we)=>{const ze=F(te,we);return ue>ze?ue-ze:0}}},Ns=(p,b)=>vi(p).getOr(b),tr=(p,b,k)=>Ns(Hf(p,b),k),od=(p,b,k,E)=>{const P=tr(p,`padding-${k}`,0),F=tr(p,`padding-${E}`,0),q=tr(p,`border-${k}-width`,0),te=tr(p,`border-${E}-width`,0);return b-P-F-q-te},I1=(p,b)=>{const k=p.dom,E=k.getBoundingClientRect().width||k.offsetWidth;return b==="border-box"?E:od(p,E,"left","right")},A1=p=>tr(p,"height",p.dom.offsetHeight),Ra=p=>tr(p,"width",p.dom.offsetWidth),Gh=p=>I1(p,"content-box"),Bc=lb("width",p=>p.dom.offsetWidth),vu=p=>Bc.get(p),Gf=p=>Bc.getOuter(p),to=Gh,Ci=Ra,qh=(p,b,k)=>{const E=p.cells,P=E.slice(0,b),F=E.slice(b),q=P.concat(k).concat(F);return Qm(p,q)},O1=(p,b,k)=>qh(p,b,[k]),qf=(p,b,k)=>{const E=p.cells;E[b]=k},Qm=(p,b)=>zc(p.element,b,p.section,p.isNew),dc=(p,b)=>{const k=p.cells,E=cn(k,b);return zc(p.element,E,p.section,p.isNew)},sl=(p,b)=>p.cells[b],ii=(p,b)=>sl(p,b).element,kl=p=>p.cells.length,ma=p=>{const b=io(p,k=>k.section==="colgroup");return{rows:b.fail,cols:b.pass}},D1=(p,b,k)=>{const E=cn(p.cells,k);return zc(b(p.element),E,p.section,!0)},Go="data-snooker-locked-cols",sd=p=>Di(p,Go).bind(b=>de.from(b.match(/\d+/g))).map(b=>Oe(b,Ue)),Jd=p=>{const b=Ee(ma(p).rows,(E,P)=>(it(P.cells,(F,q)=>{F.isLocked&&(E[q]=!0)}),E),{}),k=an(b,(E,P)=>parseInt(P,10));return yt(k)},nr=(p,b)=>p+","+b,M1=(p,b,k)=>de.from(p.access[nr(b,k)]),V0=(p,b,k)=>{const E=rd(p,P=>k(b,P.element));return E.length>0?de.some(E[0]):de.none()},rd=(p,b)=>{const k=Tt(p.all,E=>E.cells);return uo(k,b)},hs=p=>{const b={};let k=0;return it(p.cells,E=>{const P=E.colspan;Bn(P,F=>{const q=k+F;b[q]=mg(E.element,P,q)}),k+=P}),b},ps=p=>{const b={},k=[],P=ce(p).map(Wt=>Wt.element).bind(Or).bind(sd).getOr({});let F=0,q=0,te=0;const{pass:ue,fail:we}=io(p,Wt=>Wt.section==="colgroup");it(we,Wt=>{const wt=[];it(Wt.cells,qt=>{let bt=0;for(;b[nr(te,bt)]!==void 0;)bt++;const hn=mo(P,bt.toString()),$n=jm(qt.element,qt.rowspan,qt.colspan,te,bt,hn);for(let Qn=0;Qn<qt.colspan;Qn++)for(let Ts=0;Ts<qt.rowspan;Ts++){const Ba=te+Ts,xr=bt+Qn,El=nr(Ba,xr);b[El]=$n,q=Math.max(q,xr+1)}wt.push($n)}),F++,k.push(Ff(Wt.element,wt,Wt.section)),te++});const{columns:ze,colgroups:It}=Fe(ue).map(Wt=>{const wt=hs(Wt);return{colgroups:[gu(Wt.element,_n(wt))],columns:wt}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Bf(F,q),access:b,all:k,columns:ze,colgroups:It}},go={fromTable:p=>{const b=yg(p);return ps(b)},generate:ps,getAt:M1,findItem:V0,filterItems:rd,justCells:p=>Tt(p.all,b=>b.cells),justColumns:p=>_n(p.columns),hasColumns:p=>$e(p.columns).length>0,getColumnAt:(p,b)=>de.from(p.columns[b])},kg=(p,b=Ue)=>{const k=p.grid,E=Bn(k.columns,ht),P=Bn(k.rows,ht);return cn(E,F=>cb(()=>Tt(P,we=>go.getAt(p,we,F).filter(ze=>ze.column===F).toArray()),we=>we.colspan===1&&b(we.element),()=>go.getAt(p,0,F)))},cb=(p,b,k)=>{const E=p();return j(E,b).orThunk(()=>de.from(E[0]).orThunk(k)).map(q=>q.element)},H0=p=>{const b=p.grid,k=Bn(b.rows,ht),E=Bn(b.columns,ht);return cn(k,P=>cb(()=>Tt(E,ue=>go.getAt(p,P,ue).filter(we=>we.row===P).fold(ee([]),we=>[we])),ue=>ue.rowspan===1,()=>go.getAt(p,P,0)))},U0=(p,b)=>{if(b<0||b>=p.length-1)return de.none();const k=p[b].fold(()=>{const P=Re(p.slice(0,b));return et(P,(F,q)=>F.map(te=>({value:te,delta:q+1})))},P=>de.some({value:P,delta:0})),E=p[b+1].fold(()=>{const P=p.slice(b+1);return et(P,(F,q)=>F.map(te=>({value:te,delta:q+1})))},P=>de.some({value:P,delta:1}));return k.bind(P=>E.map(F=>{const q=F.delta+P.delta;return Math.abs(F.value-P.value)/q}))},ep=(p,b)=>k=>P1(k)==="rtl"?b:p,P1=p=>Hf(p,"direction")==="rtl"?"rtl":"ltr",tp=lb("height",p=>{const b=p.dom;return G(p)?b.getBoundingClientRect().height:b.offsetHeight}),fc=p=>tp.get(p),z1=p=>tp.getOuter(p),Cg=A1,N1=(p,b)=>({left:p,top:b,translate:(E,P)=>N1(p+E,b+P)}),Fc=N1,ub=p=>{const b=p.getBoundingClientRect();return Fc(b.left,b.top)},$c=(p,b)=>p!==void 0?p:b!==void 0?b:0,Kh=p=>{const b=p.dom.ownerDocument,k=b.body,E=b.defaultView,P=b.documentElement;if(k===p.dom)return Fc(k.offsetLeft,k.offsetTop);const F=$c(E==null?void 0:E.pageYOffset,P.scrollTop),q=$c(E==null?void 0:E.pageXOffset,P.scrollLeft),te=$c(P.clientTop,k.clientTop),ue=$c(P.clientLeft,k.clientLeft);return L1(p).translate(q-ue,F-te)},L1=p=>{const b=p.dom,E=b.ownerDocument.body;return E===b?Fc(E.offsetLeft,E.offsetTop):G(p)?ub(b):Fc(0,0)},Sg=(p,b)=>({row:p,y:b}),db=(p,b)=>({col:p,x:b}),fb=p=>Kh(p).left+Gf(p),Ia=p=>Kh(p).left,hb=(p,b)=>db(p,Ia(b)),Mr=(p,b)=>db(p,fb(b)),nf=p=>Kh(p).top,Fi=(p,b)=>Sg(p,nf(b)),mt=(p,b)=>Sg(p,nf(b)+z1(b)),Vc=(p,b,k)=>{if(k.length===0)return[];const E=cn(k.slice(1),(F,q)=>F.map(te=>p(q,te))),P=k[k.length-1].map(F=>b(k.length-1,F));return E.concat([P])},Fl=p=>-p,ad={delta:ht,positions:p=>Vc(Fi,mt,p),edge:nf},Aa=ep({delta:ht,edge:Ia,positions:p=>Vc(hb,Mr,p)},{delta:Fl,edge:fb,positions:p=>Vc(Mr,hb,p)}),id={delta:(p,b)=>Aa(b).delta(p,b),positions:(p,b)=>Aa(b).positions(p,b),edge:p=>Aa(p).edge(p)},hc={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},pa=(()=>{const p="[0-9]+",k="[eE]"+("[+-]?"+p),E="\\.",P=te=>`(?:${te})?`,q=`[+-]?(?:${["Infinity",p+E+P(p)+P(k),E+p+P(k),p+P(k)].join("|")})`;return new RegExp(`^(${q})(.*)$`)})(),Yf=(p,b)=>ot(b,k=>ot(hc[k],E=>p===E)),Pt=(p,b)=>de.from(pa.exec(p)).bind(E=>{const P=Number(E[1]),F=E[2];return Yf(F,b)?de.some({value:P,unit:F}):de.none()}),gb=/(\d+(\.\d+)?)%/,j0=/(\d+(\.\d+)?)px|em/,ld=gi("col"),Hc=(p,b,k)=>{const E=tl(p).getOrThunk(()=>ge(Ju(p)));return b(p)/k(E)*100},xg=(p,b)=>{Ss(p,"width",b+"px")},Vs=(p,b)=>{Ss(p,"width",b+"%")},Yh=(p,b)=>{Ss(p,"height",b+"px")},Uc=p=>Cg(p)+"px",eo=(p,b,k,E)=>{const P=Or(p).map(F=>{const q=k(F);return Math.floor(b/100*q)}).getOr(b);return E(p,P),P},Cl=(p,b,k,E)=>{const P=parseFloat(p);return ri(p,"%")&&ws(b)!=="table"?eo(b,P,k,E):P},$i=p=>{const b=Uc(p);return b?Cl(b,p,fc,Yh):fc(p)},rl=(p,b,k)=>{const E=k(p),P=Li(p,b);return E/P},Vi=(p,b)=>$h(p,b).orThunk(()=>Di(p,b).map(k=>k+"px")),$l=p=>Vi(p,"width"),Qo=p=>Vi(p,"height"),li=p=>Hc(p,vu,to),Eg=p=>ld(p)?vu(p):Ci(p),Ct=p=>rl(p,"rowspan",$i),Hi=p=>$l(p).bind(k=>Pt(k,["fixed","relative","empty"])),np=(p,b,k)=>{Ss(p,"width",b+k)},Cr=p=>vu(p)+"px",wu=p=>Hc(p,vu,to)+"%",yb=p=>$l(p).exists(b=>gb.test(b)),mc=p=>$l(p).exists(b=>j0.test(b)),W0=p=>$l(p).isNone(),cd=ee(gb),B1=gi("col"),al=p=>$l(p).getOrThunk(()=>Eg(p)+"px"),Wo=p=>Qo(p).getOrThunk(()=>Ct(p)+"px"),_u=p=>cn(go.justColumns(p),b=>de.from(b.element)),op=p=>{const b=nd().browser,k=b.isChromium()||b.isFirefox();return B1(p)?k:!0},Sr=(p,b,k,E,P,F)=>p.filter(E).fold(()=>F(U0(k,b)),q=>P(q)),Ui=(p,b,k,E)=>{const P=kg(p),F=go.hasColumns(p)?_u(p):P,q=[de.some(id.edge(b))].concat(cn(id.positions(P,b),ue=>ue.map(we=>we.x))),te=J(Lc);return cn(F,(ue,we)=>Sr(ue,we,q,te,ze=>{if(op(ze))return k(ze);{const It=Sx(P[we],ht);return Sr(It,we,q,te,Xt=>E(de.some(vu(Xt))),E)}},E))},Xf=p=>p.map(b=>b+"px").getOr(""),sp=(p,b)=>Ui(p,b,al,Xf),ga=(p,b,k)=>Ui(p,b,li,E=>E.fold(()=>k.minCellWidth(),P=>P/k.pixelWidth()*100)),Tg=(p,b,k)=>Ui(p,b,Eg,E=>E.getOrThunk(k.minCellWidth)),Be=(p,b,k,E,P)=>{const F=H0(p),q=[de.some(k.edge(b))].concat(cn(k.positions(F,b),te=>te.map(ue=>ue.y)));return cn(F,(te,ue)=>Sr(te,ue,q,J(qa),E,P))},ci=(p,b,k)=>Be(p,b,k,Ct,E=>E.getOrThunk(Gm)),Xh=(p,b,k)=>Be(p,b,k,Wo,Xf),Ka=(p,b)=>()=>G(p)?b(p):parseFloat($h(p,"width").getOr("0")),Vl=p=>{const b=Ka(p,vu),k=ee(0);return{width:b,pixelWidth:b,getWidths:(P,F)=>Tg(P,p,F),getCellDelta:k,singleColumnWidth:ee([0]),minCellWidth:k,setElementWidth:Se,adjustTableWidth:Se,isRelative:!0,label:"none"}},ui=p=>{const b=Ka(p,ue=>parseFloat(wu(ue))),k=Ka(p,vu);return{width:b,pixelWidth:k,getWidths:(ue,we)=>ga(ue,p,we),getCellDelta:ue=>ue/k()*100,singleColumnWidth:(ue,we)=>[100-ue],minCellWidth:()=>vl()/k()*100,setElementWidth:Vs,adjustTableWidth:ue=>{const we=b(),ze=ue/100*we,It=we+ze;Vs(p,It)},isRelative:!0,label:"percent"}},jr=p=>{const b=Ka(p,vu);return{width:b,pixelWidth:b,getWidths:(q,te)=>Tg(q,p,te),getCellDelta:ht,singleColumnWidth:(q,te)=>[Math.max(vl(),q+te)-q],minCellWidth:vl,setElementWidth:xg,adjustTableWidth:q=>{const te=b()+q;xg(p,te)},isRelative:!1,label:"pixel"}},Z0=(p,b)=>cd().exec(b)!==null?ui(p):jr(p),O={getTableSize:p=>$l(p).fold(()=>Vl(p),k=>Z0(p,k)),pixelSize:jr,percentageSize:ui,noneSize:Vl},D=(p,b,k,E,P,F)=>({minRow:p,minCol:b,maxRow:k,maxCol:E,allCells:P,selectedCells:F}),Y=(p,b)=>{const k=p.grid.columns;let P=p.grid.rows,F=k,q=0,te=0;const ue=[],we=[];return be(p.access,ze=>{if(ue.push(ze),b(ze)){we.push(ze);const It=ze.row,Xt=It+ze.rowspan-1,Wt=ze.column,wt=Wt+ze.colspan-1;It<P?P=It:Xt>q&&(q=Xt),Wt<F?F=Wt:wt>te&&(te=wt)}}),D(P,F,q,te,ue,we)},ne=(p,b,k)=>{const E=p[k].element,P=Le.fromTag("td");Gs(P,Le.fromTag("br")),(b?Gs:Mi)(E,P)},Ce=(p,b,k,E)=>{const P=uo(p,te=>te.section!=="colgroup"),F=b.grid.columns,q=b.grid.rows;for(let te=0;te<q;te++){let ue=!1;for(let we=0;we<F;we++)te<k.minRow||te>k.maxRow||we<k.minCol||we>k.maxCol||(go.getAt(b,te,we).filter(E).isNone()?ne(P,ue,te):ue=!0)}},at=(p,b,k,E)=>{be(k.columns,q=>{(q.column<b.minCol||q.column>b.maxCol)&&Yr(q.element)});const P=uo(Yd(p,"tr"),q=>q.dom.childElementCount===0);it(P,Yr),(b.minCol===b.maxCol||b.minRow===b.maxRow)&&it(Yd(p,"th,td"),q=>{Zs(q,"rowspan"),Zs(q,"colspan")}),Zs(p,Go),Zs(p,"data-snooker-col-series"),O.getTableSize(p).adjustTableWidth(E)},Nt=(p,b,k,E)=>{if(E.minCol===0&&b.grid.columns===E.maxCol+1)return 0;const P=Tg(b,p,k),F=Ee(P,(we,ze)=>we+ze,0),ue=Ee(P.slice(E.minCol,E.maxCol+1),(we,ze)=>we+ze,0)/F*k.pixelWidth()-k.pixelWidth();return k.getCellDelta(ue)},ln=(p,b)=>{const k=Xt=>Ea(Xt.element,b),E=Ml(p),P=yg(E),F=O.getTableSize(p),q=go.generate(P),te=Y(q,k),ue="th:not("+b+"),td:not("+b+")",we=Vh(E,"th,td",Xt=>Ea(Xt,ue));it(we,Yr),Ce(P,q,te,k);const ze=go.fromTable(p),It=Nt(p,ze,F,te);return at(E,te,q,It),E},Wn="\xA0",$o=((p,b)=>{const k=F=>{if(!p(F))throw new Error("Can only get "+b+" value of a "+b+" node");return E(F).getOr("")},E=F=>p(F)?de.from(F.dom.nodeValue):de.none();return{get:k,getOption:E,set:(F,q)=>{if(!p(F))throw new Error("Can only set raw "+b+" value of a "+b+" node");F.dom.nodeValue=q}}})(Oc,"text"),ss=p=>$o.get(p),Ls=p=>$o.getOption(p),ji=(p,b)=>$o.set(p,b),Oa=p=>ws(p)==="img"?1:Ls(p).fold(()=>Jo(p).length,b=>b.length),ud=p=>Ls(p).filter(b=>b.trim().length!==0||b.indexOf(Wn)>-1).isSome(),Hl=p=>Fn(p)&&xa(p,"contenteditable")==="false",Jf=["img","br"],rp=p=>ud(p)||Ht(Jf,ws(p))||Hl(p),Ul=p=>pg(p,rp),Qf=p=>Ig(p,rp),Ig=(p,b)=>{const k=E=>{const P=Jo(E);for(let F=P.length-1;F>=0;F--){const q=P[F];if(b(q))return de.some(q);const te=k(q);if(te.isSome())return te}return de.none()};return k(p)},Ag={scope:["row","col"]},Jh=p=>()=>{const b=Le.fromTag("td",p.dom);return Gs(b,Le.fromTag("br",p.dom)),b},Jr=p=>()=>Le.fromTag("col",p.dom),ku=p=>()=>Le.fromTag("colgroup",p.dom),ko=p=>()=>Le.fromTag("tr",p.dom),gs=(p,b,k)=>{const E=Lh(p,b);return be(k,(P,F)=>{P===null?Zs(E,F):vr(E,F,P)}),E},Si=p=>p,cs=(p,b,k)=>Ul(p).map(P=>{const F=k.join(","),q=un(P,F,te=>_s(te,p));return Et(q,(te,ue)=>{const we=bl(ue);return Gs(te,we),we},b)}).getOr(b),Og=(p,b)=>{be(Ag,(k,E)=>Di(p,E).filter(P=>Ht(k,P)).each(P=>vr(b,E,P)))},eh=(p,b,k)=>{const E=(q,te)=>{kr(q.element,te),Nc(te,"height"),q.colspan!==1&&Nc(te,"width")},P=q=>{const te=Le.fromTag(ws(q.element),b.dom),ue=k.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),we=ue.length>0?cs(q.element,te,ue):te;return Gs(we,Le.fromTag("br")),E(q,te),Og(q.element,te),p(q.element,te),te};return{col:q=>{const te=Le.fromTag(ws(q.element),b.dom);return E(q,te),p(q.element,te),te},colgroup:ku(b),row:ko(b),cell:P,replace:gs,colGap:Jr(b),gap:Jh(b)}},th=p=>({col:Jr(p),colgroup:ku(p),row:ko(p),cell:Jh(p),replace:Si,colGap:Jr(p),gap:Jh(p)}),pc=(p,b)=>{const E=(b||document).createElement("div");return E.innerHTML=p,Jo(Le.fromDom(E))},Qh=p=>cn(p,Le.fromDom),F1=p=>_r(p,"[contenteditable]"),jl=(p,b=!1)=>G(p)?p.dom.isContentEditable:F1(p).fold(ee(b),k=>em(k)==="true"),em=p=>p.dom.contentEditable,of=p=>Le.fromDom(p.getBody()),Cu=p=>b=>_s(b,of(p)),jc=p=>{Zs(p,"data-mce-style");const b=k=>Zs(k,"data-mce-style");it(Xd(p),b),it(qm(p),b),it(Km(p),b)},bb=p=>Le.fromDom(p.selection.getStart()),Dg=p=>p.getBoundingClientRect().width,xx=p=>p.getBoundingClientRect().height,rA=(p,b)=>{const k=p.dom.getStyle(b,"width")||p.dom.getAttrib(b,"width");return de.from(k).filter(Cs)},ar=p=>/^(\d+(\.\d+)?)%$/.test(p),aA=p=>/^(\d+(\.\d+)?)px$/.test(p),sf=p=>er(p,gi("table")).exists(jl),G0=(p,b)=>{const k=b.column,E=b.column+b.colspan-1,P=b.row,F=b.row+b.rowspan-1;return k<=p.finishCol&&E>=p.startCol&&P<=p.finishRow&&F>=p.startRow},q0=(p,b)=>b.column>=p.startCol&&b.column+b.colspan-1<=p.finishCol&&b.row>=p.startRow&&b.row+b.rowspan-1<=p.finishRow,or=(p,b)=>{let k=!0;const E=Ze(q0,b);for(let P=b.startRow;P<=b.finishRow;P++)for(let F=b.startCol;F<=b.finishCol;F++)k=k&&go.getAt(p,P,F).exists(E);return k?de.some(b):de.none()},Wi=(p,b)=>Wm(Math.min(p.row,b.row),Math.min(p.column,b.column),Math.max(p.row+p.rowspan-1,b.row+b.rowspan-1),Math.max(p.column+p.colspan-1,b.column+b.colspan-1)),Mg=(p,b,k)=>{const E=go.findItem(p,b,_s),P=go.findItem(p,k,_s);return E.bind(F=>P.map(q=>Wi(F,q)))},ap=(p,b,k)=>Mg(p,b,k).bind(E=>or(p,E)),Ex=(p,b,k,E)=>go.findItem(p,b,_s).bind(P=>{const F=k>0?P.row+P.rowspan-1:P.row,q=E>0?P.column+P.colspan-1:P.column;return go.getAt(p,F+k,q+E).map(ue=>ue.element)}),Pg=(p,b,k)=>Mg(p,b,k).map(E=>{const P=go.filterItems(p,Ze(G0,E));return cn(P,F=>F.element)}),vb=(p,b)=>{const k=(E,P)=>fg(P,E);return go.findItem(p,b,k).map(E=>E.element)},$1=(p,b,k)=>Or(p).bind(E=>{const P=ip(E);return Ex(P,p,b,k)}),iA=(p,b,k)=>{const E=ip(p);return Pg(E,b,k)},K0=(p,b,k,E,P)=>{const F=ip(p),q=_s(p,k)?de.some(b):vb(F,b),te=_s(p,P)?de.some(E):vb(F,E);return q.bind(ue=>te.bind(we=>Pg(F,ue,we)))},wb=(p,b,k)=>{const E=ip(p);return ap(E,b,k)},ip=go.fromTable;var rf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],dd=()=>{const p=we=>Le.fromDom(we.dom.cloneNode(!1)),b=we=>bi(we).dom,k=we=>si(we)?ws(we)==="body"?!0:Ht(rf,ws(we)):!1,E=we=>si(we)?Ht(["br","img","hr","input"],ws(we)):!1,P=we=>si(we)&&xa(we,"contenteditable")==="false",F=(we,ze)=>we.dom.compareDocumentPosition(ze.dom),q=(we,ze)=>{const It=Wa(we);Dc(ze,It)},te=we=>{const ze=ws(we);return Ht(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ze)},ue=we=>si(we)?Di(we,"lang"):de.none();return{up:ee({selector:Ro,closest:_r,predicate:Vr,all:Mc}),down:ee({selector:fa,predicate:co}),styles:ee({get:Hf,getRaw:$h,set:Ss,remove:Nc}),attrs:ee({get:xa,set:vr,remove:Zs,copyTo:q}),insert:ee({before:Pc,after:yl,afterAll:ls,append:Gs,appendAll:ol,prepend:Mi,wrap:Vm}),remove:ee({unwrap:Lf,remove:Yr}),create:ee({nu:Le.fromTag,clone:p,text:Le.fromText}),query:ee({comparePosition:F,prevSibling:Qu,nextSibling:ed}),property:ee({children:Jo,name:ws,parent:mu,document:b,isText:Oc,isComment:fs,isElement:si,isSpecial:te,getLanguage:ue,getText:ss,setText:ji,isBoundary:k,isEmptyTag:E,isNonEditable:P}),eq:_s,is:Nh}};const nh=(p,b,k,E)=>{const P=k[0],F=k.slice(1);return E(p,b,P,F)},V1=(p,b,k)=>k.length>0?nh(p,b,k,tm):de.none(),tm=(p,b,k,E)=>{const P=b(p,k);return Et(E,(F,q)=>{const te=b(p,q);return Y0(p,F,te)},P)},Y0=(p,b,k)=>b.bind(E=>k.filter(Ze(p.eq,E))),Tx=(p,b)=>Ze(p.eq,b),X0=(p,b,k,E=_t)=>{const P=[b].concat(p.up().all(b)),F=[k].concat(p.up().all(k)),q=ze=>lt(ze,E).fold(()=>ze,Xt=>ze.slice(0,Xt+1)),te=q(P),ue=q(F),we=j(te,ze=>ot(ue,Tx(p,ze)));return{firstpath:te,secondpath:ue,shared:we}},Rx=V1,J0=X0,H1=dd(),zo=(p,b)=>Rx(H1,(k,E)=>p(E),b),xn=(p,b,k)=>J0(H1,p,b,k),af=p=>Ro(p,"table"),_b=(p,b,k)=>{const E=P=>F=>k!==void 0&&k(F)||_s(F,P);return _s(p,b)?de.some({boxes:de.some([p]),start:p,finish:b}):af(p).bind(P=>af(b).bind(F=>{if(_s(P,F))return de.some({boxes:iA(P,p,b),start:p,finish:b});if(fg(P,F)){const q=un(b,"td,th",E(P)),te=q.length>0?q[q.length-1]:b;return de.some({boxes:K0(P,p,P,b,F),start:p,finish:te})}else if(fg(F,P)){const q=un(p,"td,th",E(F)),te=q.length>0?q[q.length-1]:p;return de.some({boxes:K0(F,p,P,b,F),start:p,finish:te})}else return xn(p,b).shared.bind(q=>_r(q,"table",k).bind(te=>{const ue=un(b,"td,th",E(te)),we=ue.length>0?ue[ue.length-1]:b,ze=un(p,"td,th",E(te)),It=ze.length>0?ze[ze.length-1]:p;return de.some({boxes:K0(te,p,P,b,F),start:It,finish:we})}))}))},zg=(p,b)=>{const k=fa(p,b);return k.length>0?de.some(k):de.none()},lA=(p,b)=>j(p,k=>Ea(k,b)),U1=(p,b,k)=>Ni(p,b).bind(E=>Ni(p,k).bind(P=>zo(af,[E,P]).map(F=>({first:E,last:P,table:F})))),xs=(p,b)=>Ro(p,"table").bind(k=>Ni(k,b).bind(E=>_b(E,p).bind(P=>P.boxes.map(F=>({boxes:F,start:P.start,finish:P.finish}))))),Q0=(p,b,k,E,P)=>lA(p,P).bind(F=>$1(F,b,k).bind(q=>xs(q,E))),Ix=(p,b)=>zg(p,b),Ax=(p,b,k)=>U1(p,b,k).bind(E=>{const P=ue=>_s(p,ue),F="thead,tfoot,tbody,table",q=Ro(E.first,F,P),te=Ro(E.last,F,P);return q.bind(ue=>te.bind(we=>_s(ue,we)?wb(E.table,E.first,E.last):de.none()))}),St=ht,kb=p=>{const b=(E,P)=>Di(E,P).exists(F=>parseInt(F,10)>1),k=E=>b(E,"rowspan")||b(E,"colspan");return p.length>0&&re(p,k)?de.some(p):de.none()},cA=(p,b,k)=>b.length<=1?de.none():Ax(p,k.firstSelectedSelector,k.lastSelectedSelector).map(E=>({bounds:E,cells:b})),lf="data-mce-selected",j1="td["+lf+"],th["+lf+"]",Ng="["+lf+"]",Cb="data-mce-first-selected",lp="td["+Cb+"],th["+Cb+"]",oh="data-mce-last-selected",Lg="td["+oh+"],th["+oh+"]",sr=Ng,il={selected:lf,selectedSelector:j1,firstSelected:Cb,firstSelectedSelector:lp,lastSelected:oh,lastSelectedSelector:Lg},Bg=(p,b,k)=>({element:k,mergable:cA(b,p,il),unmergable:kb(p),selection:St(p)}),cf=(p,b,k)=>({element:p,clipboard:b,generators:k}),uA=(p,b,k,E)=>({selection:St(p),clipboard:k,generators:E}),W1=p=>Or(p).bind(b=>Ix(b,il.firstSelectedSelector)).fold(ee(p),b=>b[0]),sh=p=>(b,k)=>{const E=ws(b),P=E==="col"||E==="colgroup"?W1(b):b;return _r(P,p,k)},S4=sh("th,td,caption"),Ox=sh("th,td"),ll=p=>Qh(p.model.table.getSelectedCells()),Z1=p=>uo(ll(p),b=>Ea(b,il.selectedSelector)),fd=p=>Or(p[0]).map(b=>{const k=ln(b,sr);return jc(k),[k]}),dA=(p,b)=>cn(b,k=>p.selection.serializer.serialize(k.dom,{})).join(""),Fg=p=>cn(p,b=>b.dom.innerText).join(""),Zi=(p,b)=>{p.on("BeforeGetContent",k=>{const E=P=>{k.preventDefault(),fd(P).each(F=>{k.content=k.format==="text"?Fg(F):dA(p,F)})};if(k.selection===!0){const P=Z1(p);P.length>=1&&E(P)}}),p.on("BeforeSetContent",k=>{if(k.selection===!0&&k.paste===!0){const E=ll(p);ce(E).each(P=>{Or(P).each(F=>{const q=uo(pc(k.content),ue=>ws(ue)!=="meta"),te=gi("table");if(q.length===1&&te(q[0])){k.preventDefault();const ue=Le.fromDom(p.getDoc()),we=th(ue),ze=cf(P,q[0],we);b.pasteCells(F,ze).each(()=>{p.focus()})}})})}})},nm=(p,b)=>({element:p,offset:b}),dn=(p,b,k)=>p.property().isText(b)&&p.property().getText(b).trim().length===0||p.property().isComment(b)?k(b).bind(E=>dn(p,E,k).orThunk(()=>de.some(E))):de.none(),Dx=(p,b)=>p.property().isText(b)?p.property().getText(b).length:p.property().children(b).length,di=(p,b)=>{const k=dn(p,b,p.query().prevSibling).getOr(b);if(p.property().isText(k))return nm(k,Dx(p,k));const E=p.property().children(k);return E.length>0?di(p,E[E.length-1]):nm(k,Dx(p,k))},Mx=di,ek=dd(),fA=p=>Mx(ek,p),Sb=(p,b)=>{Lc(p)||Hi(p).each(E=>{const P=E.value/2;np(p,P,E.unit),np(b,P,E.unit)})},Wl=p=>cn(p,ee(0)),rh=(p,b,k,E,P)=>P(p.slice(0,b)).concat(E).concat(P(p.slice(k))),Px=p=>(b,k,E,P)=>{if(p(E)){const F=Math.max(P,b[k]-Math.abs(E)),q=Math.abs(F-b[k]);return E>=0?q:-q}else return E},cp=Px(p=>p<0),hA=Px(Ue),zx=()=>{const p=(te,ue,we,ze,It)=>{const Xt=cp(te,ue,ze,It);return rh(te,ue,we+1,[Xt,0],Wl)},b=(te,ue,we,ze)=>{const It=(100+we)/100,Xt=Math.max(ze,(te[ue]+we)/It);return cn(te,(Wt,wt)=>(wt===ue?Xt:Wt/It)-Wt)},k=(te,ue,we,ze,It,Xt)=>Xt?b(te,ue,ze,It):p(te,ue,we,ze,It);return{resizeTable:(te,ue)=>te(ue),clampTableDelta:cp,calcLeftEdgeDeltas:k,calcMiddleDeltas:(te,ue,we,ze,It,Xt,Wt)=>k(te,we,ze,It,Xt,Wt),calcRightEdgeDeltas:(te,ue,we,ze,It,Xt)=>{if(Xt)return b(te,we,ze,It);{const Wt=cp(te,we,ze,It);return Wl(te.slice(0,we)).concat([Wt])}},calcRedestributedWidths:(te,ue,we,ze)=>{if(ze){const Xt=(ue+we)/ue,Wt=cn(te,wt=>wt/Xt);return{delta:Xt*100-100,newSizes:Wt}}else return{delta:we,newSizes:te}}}},$g=()=>{const p=(q,te,ue,we,ze)=>{const It=we>=0?ue:te,Xt=hA(q,It,we,ze);return rh(q,te,ue+1,[Xt,-Xt],Wl)};return{resizeTable:(q,te,ue)=>{ue&&q(te)},clampTableDelta:(q,te,ue,we,ze)=>{if(ze){if(ue>=0)return ue;{const It=Ee(q,(Xt,Wt)=>Xt+Wt-we,0);return Math.max(-It,ue)}}else return cp(q,te,ue,we)},calcLeftEdgeDeltas:p,calcMiddleDeltas:(q,te,ue,we,ze,It)=>p(q,ue,we,ze,It),calcRightEdgeDeltas:(q,te,ue,we,ze,It)=>{if(It)return Wl(q);{const Xt=we/q.length;return cn(q,ee(Xt))}},calcRedestributedWidths:(q,te,ue,we)=>({delta:0,newSizes:q})}},up=p=>go.fromTable(p).grid,G1=gi("th"),dp=p=>re(p,b=>G1(b.element)),q1=(p,b)=>p&&b?"sectionCells":p?"section":"cells",xb=p=>{const b=p.section==="thead",k=Hr(K1(p.cells),"th");return p.section==="tfoot"?{type:"footer"}:b||k?{type:"header",subType:q1(b,k)}:{type:"body"}},K1=p=>{const b=uo(p,k=>G1(k.element));return b.length===0?de.some("td"):b.length===p.length?de.some("th"):de.none()},om=p=>{const b=cn(p,P=>xb(P).type),k=Ht(b,"header"),E=Ht(b,"footer");if(!k&&!E)return de.some("body");{const P=Ht(b,"body");return k&&!P&&!E?de.some("header"):!k&&!P&&E?de.some("footer"):de.none()}},hd=p=>et(p.all,b=>{const k=xb(b);return k.type==="header"?de.from(k.subType):de.none()}),Da=(p,b,k)=>Za(k(p.element,b),!0,p.isLocked),Eb=(p,b)=>p.section!==b?zc(p.element,p.cells,b,p.isNew):p,Nx=()=>({transformRow:Eb,transformCell:(p,b,k)=>{const E=k(p.element,b),P=ws(E)!=="td"?hg(E,"td"):E;return Za(P,p.isNew,p.isLocked)}}),Y1=()=>({transformRow:Eb,transformCell:Da}),tk=()=>({transformRow:(p,b)=>Eb(p,b==="thead"?"tbody":b),transformCell:Da}),uf={getTableSectionType:(p,b)=>{const k=go.fromTable(p);switch(hd(k).getOr(b)){case"section":return Nx();case"sectionCells":return Y1();case"cells":return tk()}},section:Nx,sectionCells:Y1,cells:tk,fallback:()=>({transformRow:ht,transformCell:Da})},Vg=(p,b,k,E)=>{k===E?Zs(p,b):vr(p,b,k)},Lx=(p,b,k)=>{Fe(Ir(p,b)).fold(()=>Mi(p,k),E=>yl(E,k))},Bx=(p,b)=>{const k=yu(p,b).getOrThunk(()=>{const E=Le.fromTag(b,Ju(p).dom);return b==="thead"?Lx(p,"caption,colgroup",E):b==="colgroup"?Lx(p,"caption",E):Gs(p,E),E});return Pi(k),k},pA=(p,b)=>{const k=[],E=[],P=Wt=>cn(Wt,wt=>{wt.isNew&&k.push(wt.element);const qt=wt.element;return Pi(qt),it(wt.cells,bt=>{bt.isNew&&E.push(bt.element),Vg(bt.element,"colspan",bt.colspan,1),Vg(bt.element,"rowspan",bt.rowspan,1),Gs(qt,bt.element)}),qt}),F=Wt=>Tt(Wt,wt=>cn(wt.cells,qt=>(Vg(qt.element,"span",qt.colspan,1),qt.element))),q=(Wt,wt)=>{const qt=Bx(p,wt),hn=(wt==="colgroup"?F:P)(Wt);ol(qt,hn)},te=Wt=>{yu(p,Wt).each(Yr)},ue=(Wt,wt)=>{Wt.length>0?q(Wt,wt):te(wt)},we=[],ze=[],It=[],Xt=[];return it(b,Wt=>{switch(Wt.section){case"thead":we.push(Wt);break;case"tbody":ze.push(Wt);break;case"tfoot":It.push(Wt);break;case"colgroup":Xt.push(Wt);break}}),ue(Xt,"colgroup"),ue(we,"thead"),ue(ze,"tbody"),ue(It,"tfoot"),{newRows:k,newCells:E}},ys=p=>cn(p,b=>{const k=bl(b.element);return it(b.cells,E=>{const P=Ml(E.element);Vg(P,"colspan",E.colspan,1),Vg(P,"rowspan",E.rowspan,1),Gs(k,P)}),k}),gA=(p,b)=>cn(p,k=>sl(k,b)),yA=(p,b)=>p[b],Fx=(p,b)=>{if(p.length===0)return 0;const k=p[0];return lt(p,P=>!b(k.element,P.element)).getOr(p.length)},X1=(p,b,k,E)=>{const P=yA(p,b),F=P.section==="colgroup",q=Fx(P.cells.slice(k),E),te=F?1:Fx(gA(p.slice(b),k),E);return{colspan:q,rowspan:te}},$x=(p,b)=>{const k=cn(p,P=>cn(P.cells,_t)),E=(P,F,q,te)=>{for(let ue=P;ue<P+q;ue++)for(let we=F;we<F+te;we++)k[ue][we]=!0};return cn(p,(P,F)=>{const q=Tt(P.cells,(te,ue)=>{if(k[F][ue]===!1){const we=X1(p,F,ue,b);return E(F,ue,we.rowspan,we.colspan),[Fh(te.element,we.rowspan,we.colspan,te.isNew)]}else return[]});return $r(P.element,q,P.section,P.isNew)})},Wc=(p,b,k)=>{const E=[];it(p.colgroups,P=>{const F=[];for(let q=0;q<p.grid.columns;q++){const te=go.getColumnAt(p,q).map(ue=>Za(ue.element,k,!1)).getOrThunk(()=>Za(b.colGap(),!0,!1));F.push(te)}E.push(zc(P.element,F,"colgroup",k))});for(let P=0;P<p.grid.rows;P++){const F=[];for(let ue=0;ue<p.grid.columns;ue++){const we=go.getAt(p,P,ue).map(ze=>Za(ze.element,k,ze.isLocked)).getOrThunk(()=>Za(b.gap(),!0,!1));F.push(we)}const q=p.all[P],te=zc(q.element,F,q.section,k);E.push(te)}return E},Ya=(p,b)=>Wc(p,b,!1),J1=p=>$x(p,_s),ah=(p,b)=>et(p.all,k=>j(k.cells,E=>_s(b,E.element))),fp=(p,b,k)=>{const E=cn(b.selection,F=>zl(F).bind(q=>ah(p,q)).filter(k)),P=$f(E);return eb(P.length>0,P)},Ma=(p,b,k,E,P)=>(F,q,te,ue)=>{const we=go.fromTable(F),ze=de.from(ue==null?void 0:ue.section).getOrThunk(uf.fallback);return b(we,q).map(Xt=>{const Wt=Ya(we,te),wt=p(Wt,Xt,_s,P(te),ze),qt=Jd(wt.grid),bt=J1(wt.grid);return{info:Xt,grid:bt,cursor:wt.cursor,lockedColumns:qt}}).bind(Xt=>{const Wt=pA(F,Xt.grid),wt=de.from(ue==null?void 0:ue.sizing).getOrThunk(()=>O.getTableSize(F)),qt=de.from(ue==null?void 0:ue.resize).getOrThunk($g);return k(F,Xt.grid,Xt.info,{sizing:wt,resize:qt,section:ze}),E(F),Zs(F,Go),Xt.lockedColumns.length>0&&vr(F,Go,Xt.lockedColumns.join(",")),de.some({cursor:Xt.cursor,newRows:Wt.newRows,newCells:Wt.newCells})})},Vx=(p,b)=>zl(b.element).bind(k=>ah(p,k).map(E=>({...E,generators:b.generators,clipboard:b.clipboard}))),Hx=(p,b)=>fp(p,b,Ue).map(k=>({cells:k,generators:b.generators,clipboard:b.clipboard})),x4=(p,b)=>b.mergable,Ux=(p,b)=>b.unmergable,sm=(p,b)=>fp(p,b,Ue),rm=(p,b)=>fp(p,b,k=>!k.isLocked),Q1=(p,b)=>ah(p,b).exists(k=>!k.isLocked),jx=(p,b)=>re(b,k=>Q1(p,k)),md=(p,b)=>x4(p,b).filter(k=>jx(p,k.cells)),cl=(p,b)=>Ux(p,b).filter(k=>jx(p,k)),Qr=(p,b,k,E)=>{const P=ma(p).rows;if(P.length===0)return p;for(let F=b.startRow;F<=b.finishRow;F++)for(let q=b.startCol;q<=b.finishCol;q++){const te=P[F],ue=sl(te,q).isLocked;qf(te,q,Za(E(),!1,ue))}return p},Wx=(p,b,k,E)=>{const P=ma(p).rows;let F=!0;for(let q=0;q<P.length;q++)for(let te=0;te<kl(P[0]);te++){const ue=P[q],we=sl(ue,te),ze=we.element,It=k(ze,b);It&&!F?qf(ue,te,Za(E(),!0,we.isLocked)):It&&(F=!1)}return p},Es=(p,b)=>Ee(p,(k,E)=>ot(k,P=>b(P.element,E.element))?k:k.concat([E]),[]),xi=(p,b,k,E)=>(b>0&&b<p[0].cells.length&&it(p,P=>{const F=P.cells[b-1];let q=0;const te=E();for(;P.cells.length>b+q&&k(F.element,P.cells[b+q].element);)qf(P,b+q,Za(te,!0,P.cells[b+q].isLocked)),q++}),p),Su=(p,b,k,E)=>{const P=ma(p).rows;if(b>0&&b<P.length){const F=P[b-1].cells,q=Es(F,k);it(q,te=>{let ue=de.none();for(let we=b;we<P.length;we++)for(let ze=0;ze<kl(P[0]);ze++){const It=P[we],Xt=sl(It,ze);k(Xt.element,te.element)&&(ue.isNone()&&(ue=de.some(E())),ue.each(wt=>{qf(It,ze,Za(wt,!0,Xt.isLocked))}))}})}return p},Ei=p=>{const b=F=>F(p),k=ee(p),E=()=>P,P={tag:!0,inner:p,fold:(F,q)=>q(p),isValue:Ue,isError:_t,map:F=>am.value(F(p)),mapError:E,bind:b,exists:b,forall:b,getOr:k,or:E,getOrThunk:k,orThunk:E,getOrDie:k,each:F=>{F(p)},toOptional:()=>de.some(p)};return P},ih=p=>{const b=()=>k,k={tag:!1,inner:p,fold:(E,P)=>E(p),isValue:_t,isError:Ue,map:b,mapError:E=>am.error(E(p)),bind:b,exists:_t,forall:Ue,getOr:ht,or:ht,getOrThunk:st,orThunk:st,getOrDie:Te(String(p)),each:Se,toOptional:de.none};return k},am={value:Ei,error:ih,fromOption:(p,b)=>p.fold(()=>ih(b),Ei)},gc=(p,b,k)=>{if(p.row>=b.length||p.column>kl(b[0]))return am.error("invalid start address out of table bounds, row: "+p.row+", column: "+p.column);const E=b.slice(p.row),P=E[0].cells.slice(p.column),F=kl(k[0]),q=k.length;return am.value({rowDelta:E.length-q,colDelta:P.length-F})},Zc=(p,b)=>{const k=kl(p[0]),E=kl(b[0]);return{rowDelta:0,colDelta:k-E}},nk=(p,b)=>{const k=p.length,E=b.length;return{rowDelta:k-E,colDelta:0}},Rb=(p,b,k,E)=>{const P=b.section==="colgroup"?k.col:k.cell;return Bn(p,F=>Za(P(),!0,E(F)))},Zx=(p,b,k,E)=>{const P=p[p.length-1];return p.concat(Bn(b,()=>{const F=P.section==="colgroup"?k.colgroup:k.row,q=D1(P,F,ht),te=Rb(q.cells.length,q,k,ue=>lo(E,ue.toString()));return Qm(q,te)}))},ok=(p,b,k,E)=>cn(p,P=>{const F=Rb(b,P,k,_t);return qh(P,E,F)}),Gx=(p,b,k)=>cn(p,E=>Ee(k,(P,F)=>{const q=Rb(1,E,b,Ue)[0];return O1(P,F,q)},E)),Hg=(p,b,k)=>{const E=b.colDelta<0?ok:ht,P=b.rowDelta<0?Zx:ht,F=Jd(p),q=kl(p[0]),te=ot(F,ze=>ze===q-1),ue=E(p,Math.abs(b.colDelta),k,te?q-1:q),we=Jd(ue);return P(ue,Math.abs(b.rowDelta),k,Oe(we,Ue))},qx=(p,b,k,E)=>{const P=sl(p[b],k),F=Ze(E,P.element),q=p[b];return p.length>1&&kl(q)>1&&(k>0&&F(ii(q,k-1))||k<q.cells.length-1&&F(ii(q,k+1))||b>0&&F(ii(p[b-1],k))||b<p.length-1&&F(ii(p[b+1],k)))},bA=(p,b,k,E,P,F)=>{const q=p.row,te=p.column,ue=k.length,we=kl(k[0]),ze=q+ue,It=te+we+F.length,Xt=Oe(F,Ue);for(let Wt=q;Wt<ze;Wt++){let wt=0;for(let qt=te;qt<It;qt++){if(Xt[qt]){wt++;continue}qx(b,Wt,qt,P)&&Wx(b,ii(b[Wt],qt),P,E.cell);const bt=qt-te-wt,hn=sl(k[Wt-q],bt),$n=hn.element,Qn=E.replace($n);qf(b[Wt],qt,Za(Qn,!0,hn.isLocked))}}return b},vA=(p,b,k)=>{const E=kl(b[0]),P=ma(b).cols.length+p.row,F=Bn(E-p.column,te=>te+p.column),q=j(F,te=>re(k,ue=>ue!==te)).getOr(E-1);return{row:P,column:q}},sk=(p,b,k)=>uo(k,E=>E>=p.column&&E<=kl(b[0])+p.column),Kx=(p,b,k,E,P)=>{const F=Jd(b),q=vA(p,b,F),te=ma(k).rows,ue=sk(q,te,F);return gc(q,b,te).map(ze=>{const It={...ze,colDelta:ze.colDelta-ue.length},Xt=Hg(b,It,E),Wt=Jd(Xt),wt=sk(q,te,Wt);return bA(q,Xt,te,E,P,wt)})},Yx=(p,b,k,E,P)=>{xi(b,p,P,E.cell);const F=nk(k,b),q=Hg(k,F,E),te=nk(b,q),ue=Hg(b,te,E);return cn(ue,(we,ze)=>qh(we,p,q[ze].cells))},Xx=(p,b,k,E,P)=>{Su(b,p,P,E.cell);const F=Jd(b),q=Zc(b,k),te={...q,colDelta:q.colDelta-F.length},ue=Hg(b,te,E),{cols:we,rows:ze}=ma(ue),It=Jd(ue),Xt=Zc(k,b),Wt={...Xt,colDelta:Xt.colDelta+It.length},wt=Gx(k,E,It),qt=Hg(wt,Wt,E);return[...we,...ze.slice(0,p),...qt,...ze.slice(p,ze.length)]},Jx=(p,b,k,E)=>D1(p,P=>E(P,k),b),im=(p,b,k,E,P)=>{const{rows:F,cols:q}=ma(p),te=F.slice(0,b),ue=F.slice(b),we=Jx(F[k],(ze,It)=>b>0&&b<F.length&&E(ii(F[b-1],It),ii(F[b],It))?sl(F[b],It):Za(P(ze.element,E),!0,ze.isLocked),E,P);return[...q,...te,we,...ue]},Qx=(p,b,k,E,P,F,q)=>{if(k==="colgroup"||!E){const te=sl(p,P);return Za(q(te.element,F),!0,!1)}else return sl(p,b)},eE=(p,b,k,E,P)=>cn(p,F=>{const q=b>0&&b<kl(F)&&E(ii(F,b-1),ii(F,b)),te=Qx(F,b,F.section,q,k,E,P);return O1(F,b,te)}),wA=(p,b)=>Tt(p,k=>{const E=k.cells,P=Et(b,(F,q)=>q>=0&&q<F.length?F.slice(0,q).concat(F.slice(q+1)):F,E);return P.length>0?[zc(k.element,P,k.section,k.isNew)]:[]}),tE=(p,b,k)=>{const{rows:E,cols:P}=ma(p);return[...P,...E.slice(0,b),...E.slice(k+1)]},hp=(p,b,k,E)=>ii(p[b],k)!==void 0&&b>0&&E(ii(p[b-1],k),ii(p[b],k)),Ks=(p,b,k)=>b>0&&k(ii(p,b-1),ii(p,b)),lh=(p,b,k,E)=>hp(p,b,k,E)||Ks(p[b],k,E),nE=(p,b)=>re(b,ht)&&dp(p.cells)?Ue:(E,P,F)=>!(ws(E.element)==="th"&&b[F]),_A=(p,b)=>re(b,ht)&&dp(p)?Ue:(E,P,F)=>!(ws(E.element)==="th"&&b[P]),Ib=(p,b,k,E)=>{const P=q=>q==="row"?qa(b):Lc(b),F=q=>P(q)?`${q}group`:q;return p?G1(b)?F(k):null:E&&G1(b)?F(k==="row"?"col":"row"):null},Pa=(p,b)=>(k,E,P)=>de.some(Ib(p,k.element,"col",b[P])),Sl=(p,b)=>(k,E)=>de.some(Ib(p,k.element,"row",b[E])),rk=(p,b,k)=>Za(k(p.element,b),!0,p.isLocked),ew=(p,b,k,E,P,F,q)=>{const te=ue=>ot(b,we=>k(ue.element,we.element));return cn(p,(ue,we)=>dc(ue,(ze,It)=>{if(te(ze)){const Xt=q(ze,we,It)?P(ze,k,E):ze;return F(Xt,we,It).each(Wt=>{Wd(Xt.element,{scope:de.from(Wt)})}),Xt}else return ze}))},tw=(p,b,k)=>Tt(p,(E,P)=>lh(p,P,b,k)?[]:[sl(E,b)]),kA=(p,b,k)=>{const E=p[b];return Tt(E.cells,(P,F)=>lh(p,b,F,k)?[]:[P])},oE=(p,b,k,E,P)=>{const F=ma(p).rows,q=Tt(b,ze=>tw(F,ze,E)),te=cn(F,ze=>dp(ze.cells)),ue=_A(q,te),we=Sl(k,te);return ew(p,q,E,P,rk,we,ue)},Ab=(p,b,k,E,P,F,q)=>{const{cols:te,rows:ue}=ma(p),we=ue[b[0]],ze=Tt(b,bt=>kA(ue,bt,P)),It=cn(we.cells,(bt,hn)=>dp(tw(ue,hn,P))),Xt=[...ue];it(b,bt=>{Xt[bt]=q.transformRow(ue[bt],k)});const Wt=[...te,...Xt],wt=nE(we,It),qt=Pa(E,It);return ew(Wt,ze,P,F,q.transformCell,qt,wt)},xl=(p,b,k,E)=>{const P=ma(p).rows,F=cn(b,q=>sl(P[q.row],q.column));return ew(p,F,k,E,rk,de.none,Ue)},Ys={generate:p=>{if(!T(p))throw new Error("cases must be an array");if(p.length===0)throw new Error("there must be at least one case");const b=[],k={};return it(p,(E,P)=>{const F=$e(E);if(F.length!==1)throw new Error("one and only one name per case");const q=F[0],te=E[q];if(k[q]!==void 0)throw new Error("duplicate key detected:"+q);if(q==="cata")throw new Error("cannot have a case named cata (sorry)");if(!T(te))throw new Error("case arguments must be an array");b.push(q),k[q]=(...ue)=>{const we=ue.length;if(we!==te.length)throw new Error("Wrong number of arguments to case "+q+". Expected "+te.length+" ("+te+"), got "+we);return{fold:(...It)=>{if(It.length!==p.length)throw new Error("Wrong number of arguments to fold. Expected "+p.length+", got "+It.length);return It[P].apply(null,ue)},match:It=>{const Xt=$e(It);if(b.length!==Xt.length)throw new Error("Wrong number of arguments to match. Expected: "+b.join(",")+`
Actual: `+Xt.join(","));if(!re(b,wt=>Ht(Xt,wt)))throw new Error("Not all branches were specified when using match. Specified: "+Xt.join(", ")+`
Required: `+b.join(", "));return It[q].apply(null,ue)},log:It=>{console.log(It,{constructors:b,constructor:q,params:ue})}}}}),k}},df={...Ys.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},CA=(p,b)=>p.length===0?df.none():p.length===1?df.only(0):b===0?df.left(0,1):b===p.length-1?df.right(b-1,b):b>0&&b<p.length-1?df.middle(b-1,b,b+1):df.none(),ak=(p,b,k,E,P)=>{const F=p.slice(0),q=CA(p,b),te=ee(cn(F,ee(0))),ue=Xt=>E.singleColumnWidth(F[Xt],k),we=(Xt,Wt)=>P.calcLeftEdgeDeltas(F,Xt,Wt,k,E.minCellWidth(),E.isRelative),ze=(Xt,Wt,wt)=>P.calcMiddleDeltas(F,Xt,Wt,wt,k,E.minCellWidth(),E.isRelative),It=(Xt,Wt)=>P.calcRightEdgeDeltas(F,Xt,Wt,k,E.minCellWidth(),E.isRelative);return q.fold(te,ue,we,ze,It)},rE=(p,b,k)=>{let E=0;for(let P=p;P<b;P++)E+=k[P]!==void 0?k[P]:0;return E},lm=(p,b)=>{const k=go.justCells(p);return cn(k,E=>{const P=rE(E.column,E.column+E.colspan,b);return{element:E.element,width:P,colspan:E.colspan}})},aE=(p,b)=>{const k=go.justColumns(p);return cn(k,(E,P)=>({element:E.element,width:b[P],colspan:E.colspan}))},ff=(p,b)=>{const k=go.justCells(p);return cn(k,E=>{const P=rE(E.row,E.row+E.rowspan,b);return{element:E.element,height:P,rowspan:E.rowspan}})},ik=(p,b)=>cn(p.all,(k,E)=>({element:k.element,height:b[E]})),Ob=p=>Et(p,(b,k)=>b+k,0),lk=(p,b)=>go.hasColumns(p)?aE(p,b):lm(p,b),nw=(p,b,k)=>{const E=lk(p,b);it(E,P=>{k.setElementWidth(P.element,P.width)})},Db=(p,b,k,E,P)=>{const F=go.fromTable(p),q=P.getCellDelta(b),te=P.getWidths(F,P),ue=k===F.grid.columns-1,we=E.clampTableDelta(te,k,q,P.minCellWidth(),ue),ze=ak(te,k,we,P,E),It=cn(ze,(Xt,Wt)=>Xt+te[Wt]);nw(F,It,P),E.resizeTable(P.adjustTableWidth,we,ue)},ck=(p,b,k,E)=>{const P=go.fromTable(p),F=ci(P,p,E),q=cn(F,(ze,It)=>k===It?Math.max(b+ze,Gm()):ze),te=ff(P,q),ue=ik(P,q);it(ue,ze=>{Yh(ze.element,ze.height)}),it(te,ze=>{Yh(ze.element,ze.height)});const we=Ob(q);Yh(p,we)},Mb=(p,b,k,E,P)=>{const F=go.generate(b),q=E.getWidths(F,E),te=E.pixelWidth(),{newSizes:ue,delta:we}=P.calcRedestributedWidths(q,te,k.pixelDelta,E.isRelative);nw(F,ue,E),E.adjustTableWidth(we)},iE=(p,b,k,E)=>{const P=go.generate(b),F=E.getWidths(P,E);nw(P,F,E)},ch=p=>Ee(p,(k,E)=>ot(k,F=>F.column===E.column)?k:k.concat([E]),[]).sort((k,E)=>k.column-E.column),ow=gi("col"),lE=gi("colgroup"),uk=p=>ws(p)==="tr"||lE(p),cm=p=>{const b=_i(p,"colspan",1),k=_i(p,"rowspan",1);return{element:p,colspan:b,rowspan:k}},hf=(p,b=cm)=>{const k=te=>ow(te.element)?p.col(te):p.cell(te),E=te=>lE(te.element)?p.colgroup(te):p.row(te),P=te=>{if(uk(te))return E({element:te});{const ue=te,we=k(b(ue));return F=de.some({item:ue,replacement:we}),we}};let F=de.none();return{getOrInit:(te,ue)=>F.fold(()=>P(te),we=>ue(te,we.item)?we.replacement:P(te))}},mp=p=>b=>{const k=[],E=(q,te)=>j(k,ue=>te(ue.item,q)),P=q=>{const te=p==="td"?{scope:null}:{},ue=b.replace(q,p,te);return k.push({item:q,sub:ue}),ue};return{replaceOrInit:(q,te)=>{if(uk(q)||ow(q))return q;{const ue=q;return E(ue,te).fold(()=>P(ue),we=>te(q,we.item)?we.sub:P(ue))}}}},dt=p=>Di(p,"scope").map(b=>b.substr(0,3)),ir={modification:hf,transform:mp,merging:p=>({unmerge:E=>{const P=dt(E);return P.each(F=>vr(E,"scope",F)),()=>{const F=p.cell({element:E,colspan:1,rowspan:1});return Nc(F,"width"),Nc(E,"width"),P.each(q=>vr(F,"scope",q)),F}},merge:E=>{const P=()=>{const F=$f(cn(E,dt));if(F.length===0)return de.none();{const q=F[0],te=["row","col"];return ot(F,we=>we!==q&&Ht(te,we))?de.none():de.from(q)}};return Nc(E[0],"width"),P().fold(()=>Zs(E[0],"scope"),F=>vr(E[0],"scope",F+"group")),ee(E[0])}})},pp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Pb=(p,b)=>{const k=p.property().name(b);return Ht(["ol","ul"],k)},qo=(p,b)=>{const k=p.property().name(b);return Ht(pp,k)},dk=(p,b)=>Ht(["br","img","hr","input"],p.property().name(b)),zb=dd(),ya=p=>qo(zb,p),mf=p=>Pb(zb,p),SA=p=>dk(zb,p),cE=p=>{const b=gi("br"),k=ue=>re(ue,we=>b(we)||Oc(we)&&ss(we).trim().length===0),E=ue=>ws(ue)==="li"||Vr(ue,mf).isSome(),P=ue=>ed(ue).map(we=>ya(we)?!0:SA(we)?ws(we)!=="img":!1).getOr(!1),F=ue=>Qf(ue).bind(we=>{const ze=P(we);return mu(we).map(It=>ze===!0||E(It)||b(we)||ya(It)&&!_s(ue,It)?[]:[Le.fromTag("br")])}).getOr([]),te=(()=>{const ue=Tt(p,we=>{const ze=Jo(we);return k(ze)?[]:ze.concat(F(we))});return ue.length===0?[Le.fromTag("br")]:ue})();Pi(p[0]),ol(p[0],te)},uE=p=>jl(p,!0),Ug=p=>{Xd(p).length===0&&Yr(p)},jg=(p,b)=>({grid:p,cursor:b}),sw=p=>et(p,b=>et(b.cells,k=>{const E=k.element;return eb(uE(E),E)})),fk=(p,b,k)=>{var E,P;const F=ma(p).rows;return de.from((P=(E=F[b])===null||E===void 0?void 0:E.cells[k])===null||P===void 0?void 0:P.element).filter(uE).orThunk(()=>sw(F))},ul=(p,b,k)=>{const E=fk(p,b,k);return jg(p,E)},Wg=p=>Ee(p,(k,E)=>ot(k,F=>F.row===E.row)?k:k.concat([E]),[]).sort((k,E)=>k.row-E.row),Nb=(p,b,k,E)=>{const P=b[0].row,F=Wg(b),q=Et(F,(te,ue)=>({grid:im(te.grid,P,ue.row+te.delta,k,E.getOrInit),delta:te.delta+1}),{grid:p,delta:0}).grid;return ul(q,P,b[0].column)},dE=(p,b,k,E)=>{const P=Wg(b),F=P[P.length-1],q=F.row+F.rowspan,te=Et(P,(ue,we)=>im(ue,q,we.row,k,E.getOrInit),p);return ul(te,q,b[0].column)},gp=(p,b,k,E)=>{const P=b.details,F=ch(P),q=F[0].column,te=Et(F,(ue,we)=>({grid:eE(ue.grid,q,we.column+ue.delta,k,E.getOrInit),delta:ue.delta+1}),{grid:p,delta:0}).grid;return ul(te,P[0].row,q)},yc=(p,b,k,E)=>{const P=b.details,F=P[P.length-1],q=F.column+F.colspan,te=ch(P),ue=Et(te,(we,ze)=>eE(we,q,ze.column,k,E.getOrInit),p);return ul(ue,P[0].row,q)},hk=(p,b,k,E)=>{const P=ch(b),F=cn(P,te=>te.column),q=oE(p,F,!0,k,E.replaceOrInit);return ul(q,b[0].row,b[0].column)},Xa=(p,b,k,E)=>{const P=xl(p,b,k,E.replaceOrInit);return ul(P,b[0].row,b[0].column)},fE=(p,b,k,E)=>{const P=ch(b),F=cn(P,te=>te.column),q=oE(p,F,!1,k,E.replaceOrInit);return ul(q,b[0].row,b[0].column)},uh=(p,b,k,E)=>{const P=xl(p,b,k,E.replaceOrInit);return ul(P,b[0].row,b[0].column)},rw=(p,b)=>(k,E,P,F,q)=>{const te=Wg(E),ue=cn(te,ze=>ze.row),we=Ab(k,ue,p,b,P,F.replaceOrInit,q);return ul(we,E[0].row,E[0].column)},mk=rw("thead",!0),hE=rw("tbody",!1),pk=rw("tfoot",!1),aw=(p,b,k,E)=>{const P=ch(b.details),F=wA(p,cn(P,te=>te.column)),q=F.length>0?F[0].cells.length-1:0;return ul(F,P[0].row,Math.min(P[0].column,q))},gk=(p,b,k,E)=>{const P=Wg(b),F=tE(p,P[0].row,P[P.length-1].row),q=F.length>0?F.length-1:0;return ul(F,Math.min(b[0].row,q),b[0].column)},xA=(p,b,k,E)=>{const P=b.cells;cE(P);const F=Qr(p,b.bounds,k,E.merge(P));return jg(F,de.from(P[0]))},yk=(p,b,k,E)=>{const F=Et(b,(q,te)=>Wx(q,te,k,E.unmerge(te)),p);return jg(F,de.from(b[0]))},Ja=(p,b,k,E)=>{const F=((ue,we)=>{const ze=go.fromTable(ue);return Wc(ze,we,!0)})(b.clipboard,b.generators),q=Um(b.row,b.column);return Kx(q,p,F,b.generators,k).fold(()=>jg(p,de.some(b.element)),ue=>ul(ue,b.row,b.column))},ea=(p,b,k)=>{const E=Ym(p,k.section),P=go.generate(E);return Wc(P,b,!0)},Gl=(p,b,k,E)=>{const P=ma(p).rows,F=b.cells[0].column,q=P[b.cells[0].row],te=ea(b.clipboard,b.generators,q),ue=Yx(F,p,te,b.generators,k);return ul(ue,b.cells[0].row,b.cells[0].column)},Xs=(p,b,k,E)=>{const P=ma(p).rows,F=b.cells[b.cells.length-1].column+b.cells[b.cells.length-1].colspan,q=P[b.cells[0].row],te=ea(b.clipboard,b.generators,q),ue=Yx(F,p,te,b.generators,k);return ul(ue,b.cells[0].row,b.cells[0].column)},Gc=(p,b,k,E)=>{const P=ma(p).rows,F=b.cells[0].row,q=P[F],te=ea(b.clipboard,b.generators,q),ue=Xx(F,p,te,b.generators,k);return ul(ue,b.cells[0].row,b.cells[0].column)},Js=(p,b,k,E)=>{const P=ma(p).rows,F=b.cells[b.cells.length-1].row+b.cells[b.cells.length-1].rowspan,q=P[b.cells[0].row],te=ea(b.clipboard,b.generators,q),ue=Xx(F,p,te,b.generators,k);return ul(ue,b.cells[0].row,b.cells[0].column)},bk=(p,b)=>{const k=go.fromTable(p);return sm(k,b).bind(P=>{const F=P[P.length-1],q=P[0].column,te=F.column+F.colspan,ue=Je(cn(k.all,we=>uo(we.cells,ze=>ze.column>=q&&ze.column<te)));return K1(ue)}).getOr("")},vk=(p,b)=>{const k=go.fromTable(p);return sm(k,b).bind(K1).getOr("")},mE=(p,b)=>{const k=go.fromTable(p);return sm(k,b).bind(P=>{const F=P[P.length-1],q=P[0].row,te=F.row+F.rowspan,ue=k.all.slice(q,te);return om(ue)}).getOr("")},iw=(p,b,k,E)=>iE(p,b,k,E.sizing),Lb=(p,b,k,E)=>Mb(p,b,k,E.sizing,E.resize),lw=(p,b)=>ot(b,k=>k.column===0&&k.isLocked),cw=(p,b)=>ot(b,k=>k.column+k.colspan>=p.grid.columns&&k.isLocked),Bb=(p,b)=>{const k=kg(p),E=ch(b);return Ee(E,(P,F)=>{const te=k[F.column].map(Gf).getOr(0);return P+te},0)},pE=p=>(b,k)=>sm(b,k).filter(E=>!(p?lw:cw)(b,E)).map(E=>({details:E,pixelDelta:Bb(b,E)})),gE=(p,b)=>rm(p,b).map(k=>({details:k,pixelDelta:-Bb(p,k)})),yE=p=>(b,k)=>Hx(b,k).filter(E=>!(p?lw:cw)(b,E.cells)),wk=ir.transform("th"),uw=ir.transform("td"),dw=Ma(Nb,sm,Se,Se,ir.modification),mn=Ma(dE,sm,Se,Se,ir.modification),_k=Ma(gp,pE(!0),Lb,Se,ir.modification),bE=Ma(yc,pE(!1),Lb,Se,ir.modification),EA=Ma(aw,gE,Lb,Ug,ir.modification),vE=Ma(gk,sm,Se,Ug,ir.modification),Lt=Ma(hk,rm,Se,Se,wk),wE=Ma(fE,rm,Se,Se,uw),Qa=Ma(mk,rm,Se,Se,wk),TA=Ma(hE,rm,Se,Se,uw),kk=Ma(pk,rm,Se,Se,uw),RA=Ma(Xa,rm,Se,Se,wk),Pr=Ma(uh,rm,Se,Se,uw),fw=Ma(xA,md,iw,Se,ir.merging),IA=Ma(yk,cl,iw,Se,ir.merging),xu=Ma(Ja,Vx,iw,Se,ir.modification),Ck=Ma(Gl,yE(!0),Se,Se,ir.modification),Fb=Ma(Xs,yE(!1),Se,Se,ir.modification),pf=Ma(Gc,Hx,Se,Se,ir.modification),Eu=Ma(Js,Hx,Se,Se,ir.modification),hw=bk,Tu=vk,_E=mE,Sk=(p,b)=>p.dispatch("NewRow",{node:b}),mw=(p,b)=>p.dispatch("NewCell",{node:b}),um=(p,b,k)=>{p.dispatch("TableModified",{...k,table:b})},kE=(p,b,k,E,P)=>{p.dispatch("TableSelectionChange",{cells:b,start:k,finish:E,otherCells:P})},xk=p=>{p.dispatch("TableSelectionClear")},AA=(p,b,k,E,P)=>{p.dispatch("ObjectResizeStart",{target:b,width:k,height:E,origin:P})},pw=(p,b,k,E,P)=>{p.dispatch("ObjectResized",{target:b,width:k,height:E,origin:P})},$b={structure:!1,style:!0},ei={structure:!0,style:!1},CE={structure:!0,style:!0},Zg=p=>b=>b.options.get(p),SE="100%",gw=p=>{var b;const k=p.dom,E=(b=k.getParent(p.selection.getStart(),k.isBlock))!==null&&b!==void 0?b:p.getBody();return to(Le.fromDom(E))+"px"},xE=(p,b)=>ns(p)||!Gi(p)?b:gd(p)?{...b,width:gw(p)}:{...b,width:SE},EE=(p,b)=>ns(p)||Gi(p)?b:gd(p)?{...b,width:gw(p)}:{...b,width:SE},OA=p=>{const b=p.options.register;b("table_clone_elements",{processor:"string[]"}),b("table_use_colgroups",{processor:"boolean",default:!0}),b("table_header_type",{processor:k=>{const E=Ht(["section","cells","sectionCells","auto"],k);return E?{value:k,valid:E}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),b("table_sizing_mode",{processor:"string",default:"auto"}),b("table_default_attributes",{processor:"object",default:{border:"1"}}),b("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),b("table_column_resizing",{processor:k=>{const E=Ht(["preservetable","resizetable"],k);return E?{value:k,valid:E}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),b("table_resize_bars",{processor:"boolean",default:!0}),b("table_style_by_css",{processor:"boolean",default:!0})},Gg=p=>de.from(p.options.get("table_clone_elements")),DA=p=>{const b=p.options.get("object_resizing");return Ht(b.split(","),"table")},TE=Zg("table_header_type"),yw=Zg("table_column_resizing"),RE=p=>yw(p)==="preservetable",yp=p=>yw(p)==="resizetable",Vb=Zg("table_sizing_mode"),qg=p=>Vb(p)==="relative",gd=p=>Vb(p)==="fixed",ns=p=>Vb(p)==="responsive",IE=Zg("table_resize_bars"),Gi=Zg("table_style_by_css"),Ek=p=>{const b=p.options,k=b.get("table_default_attributes");return b.isSet("table_default_attributes")?k:EE(p,k)},AE=p=>{const b=p.options,k=b.get("table_default_styles");return b.isSet("table_default_styles")?k:xE(p,k)},OE=Zg("table_use_colgroups"),bp=(p,b)=>qg(p)?O.percentageSize(b):gd(p)?O.pixelSize(b):O.getTableSize(b),MA=(p,b,k)=>{const E=Tl=>ws(of(Tl))==="table",P=Tl=>!E(p)||up(Tl).rows>1,F=Tl=>!E(p)||up(Tl).columns>1,q=Gg(p),te=yp(p)?Se:Sb,ue=Tl=>{switch(TE(p)){case"section":return uf.section();case"sectionCells":return uf.sectionCells();case"cells":return uf.cells();default:return uf.getTableSectionType(Tl,"section")}},we=(Tl,r_)=>r_.cursor.fold(()=>{const yv=Xd(Tl);return ce(yv).filter(G).map(Yc=>{k.clearSelectedCells(Tl.dom);const Hs=p.dom.createRng();return Hs.selectNode(Yc.dom),p.selection.setRng(Hs),vr(Yc,"data-mce-selected","1"),Hs})},yv=>{const Yc=fA(yv),Hs=p.dom.createRng();return Hs.setStart(Yc.element.dom,Yc.offset),Hs.setEnd(Yc.element.dom,Yc.offset),p.selection.setRng(Hs),k.clearSelectedCells(Tl.dom),de.some(Hs)}),ze=(Tl,r_,yv,Yc)=>(Hs,BO,z2=!1)=>{jc(Hs);const N2=Le.fromDom(p.getDoc()),FO=eh(yv,N2,q),$O={sizing:bp(p,Hs),resize:yp(p)?zx():$g(),section:ue(Hs)};return r_(Hs)?Tl(Hs,BO,FO,$O).bind(wm=>{b.refresh(Hs.dom),it(wm.newRows,bv=>{Sk(p,bv.dom)}),it(wm.newCells,bv=>{mw(p,bv.dom)});const SC=we(Hs,wm);return G(Hs)&&(jc(Hs),z2||um(p,Hs.dom,Yc)),SC.map(bv=>({rng:bv,effect:Yc}))}):de.none()},It=ze(vE,P,Se,ei),Xt=ze(EA,F,Se,ei),Wt=ze(dw,Ue,Se,ei),wt=ze(mn,Ue,Se,ei),qt=ze(_k,Ue,te,ei),bt=ze(bE,Ue,te,ei),hn=ze(fw,Ue,Se,ei),$n=ze(IA,Ue,Se,ei),Qn=ze(Ck,Ue,Se,ei),Ts=ze(Fb,Ue,Se,ei),Ba=ze(pf,Ue,Se,ei),xr=ze(Eu,Ue,Se,ei),El=ze(xu,Ue,Se,CE),vm=ze(RA,Ue,Se,ei),o_=ze(Pr,Ue,Se,ei),CC=ze(Lt,Ue,Se,ei),s_=ze(wE,Ue,Se,ei),us=ze(Qa,Ue,Se,ei),fl=ze(TA,Ue,Se,ei),hl=ze(kk,Ue,Se,ei);return{deleteRow:It,deleteColumn:Xt,insertRowsBefore:Wt,insertRowsAfter:wt,insertColumnsBefore:qt,insertColumnsAfter:bt,mergeCells:hn,unmergeCells:$n,pasteColsBefore:Qn,pasteColsAfter:Ts,pasteRowsBefore:Ba,pasteRowsAfter:xr,pasteCells:El,makeCellsHeader:vm,unmakeCellsHeader:o_,makeColumnsHeader:CC,unmakeColumnsHeader:s_,makeRowsHeader:us,makeRowsBody:fl,makeRowsFooter:hl,getTableRowType:_E,getTableCellType:Tu,getTableColType:hw}},DE=(p,b,k)=>{const E=_i(p,b,1);k===1||E<=1?Zs(p,b):vr(p,b,Math.min(k,E))},ME=(p,b)=>k=>{const E=k.column+k.colspan-1,P=k.column;return E>=p&&P<b},PA=(p,b,k)=>{if(go.hasColumns(p)){const E=uo(go.justColumns(p),ME(b,k)),P=cn(E,q=>{const te=Ml(q.element);return DE(te,"span",k-b),te}),F=Le.fromTag("colgroup");return ol(F,P),[F]}else return[]},zA=(p,b,k)=>cn(p.all,E=>{const P=uo(E.cells,ME(b,k)),F=cn(P,te=>{const ue=Ml(te.element);return DE(ue,"colspan",k-b),ue}),q=Le.fromTag("tr");return ol(q,F),q}),NA=(p,b)=>{const k=go.fromTable(p);return rm(k,b).map(P=>{const F=P[P.length-1],q=P[0].column,te=F.column+F.colspan,ue=PA(k,q,te),we=zA(k,q,te);return[...ue,...we]})},PE=(p,b,k)=>{const E=go.fromTable(p);return sm(E,b).bind(F=>{const q=Wc(E,k,!1),ue=ma(q).rows.slice(F[0].row,F[F.length-1].row+F[F.length-1].rowspan),we=Tt(ue,It=>{const Xt=uo(It.cells,Wt=>!Wt.isLocked);return Xt.length>0?[{...It,cells:Xt}]:[]}),ze=J1(we);return eb(ze.length>0,ze)}).map(F=>ys(F))},Kg=Ys.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Hb=(p,b,k)=>{const E=k.substring(0,k.length-p.length),P=parseFloat(E);return E===P.toString()?b(P):Kg.invalid(k)},vp={...Kg,from:p=>ri(p,"%")?Hb("%",Kg.percent,p):ri(p,"px")?Hb("px",Kg.pixels,p):Kg.invalid(p)},LA=(p,b)=>cn(p,k=>vp.from(k).fold(()=>k,P=>P/b*100+"%",P=>P+"%")),BA=(p,b,k)=>{const E=k/b;return cn(p,P=>vp.from(P).fold(()=>P,q=>q*E+"px",q=>q/100*k+"px"))},zE=(p,b)=>{const k=p.fold(()=>ee(""),E=>{const P=E/b;return ee(P+"px")},()=>{const E=100/b;return ee(E+"%")});return Bn(b,k)},NE=(p,b,k)=>p.fold(()=>b,E=>BA(b,k,E),E=>LA(b,k)),LE=(p,b,k)=>{const E=vp.from(k),P=re(p,F=>F==="0px")?zE(E,p.length):NE(E,p,b);return $A(P)},wp=(p,b)=>p.length===0?b:Et(p,(k,E)=>vp.from(E).fold(ee(0),ht,ht)+k,0),BE=(p,b)=>{const k=Math.floor(p);return{value:k+b,remainder:p-k}},FA=(p,b)=>vp.from(p).fold(ee(p),k=>k+b+"px",k=>k+b+"%"),$A=p=>{if(p.length===0)return p;const b=Et(p,(E,P)=>{const F=vp.from(P).fold(()=>({value:P,remainder:0}),q=>BE(q,"px"),q=>({value:q+"%",remainder:0}));return{output:[F.value].concat(E.output),remainder:E.remainder+F.remainder}},{output:[],remainder:0}),k=b.output;return k.slice(0,k.length-1).concat([FA(k[k.length-1],Math.round(b.remainder))])},VA=vp.from,Yg=(p,b,k)=>{it(b,E=>{const P=p.slice(E.column,E.colspan+E.column),F=wp(P,vl());Ss(E.element,"width",F+k)})},_p=(p,b,k)=>{it(b,(E,P)=>{const F=wp([p[P]],vl());Ss(E.element,"width",F+k)})},bw=(p,b,k,E)=>{it(k,P=>{const F=p.slice(P.row,P.rowspan+P.row),q=wp(F,Gm());Ss(P.element,"height",q+E)}),it(b,(P,F)=>{Ss(P.element,"height",p[F])})},vw=p=>VA(p).fold(ee("px"),ee("px"),ee("%")),FE=(p,b,k)=>{const E=go.fromTable(p),P=E.all,F=go.justCells(E),q=go.justColumns(E);b.each(te=>{const ue=vw(te),we=vu(p),ze=sp(E,p),It=LE(ze,we,te);go.hasColumns(E)?_p(It,q,ue):Yg(It,F,ue),Ss(p,"width",te)}),k.each(te=>{const ue=vw(te),we=fc(p),ze=Xh(E,p,ad),It=LE(ze,we,te);bw(It,P,F,ue),Ss(p,"height",te)})},gf=yb,ww=mc,$E=W0,yd=p=>{Zs(p,"width")},dm=p=>{const b=wu(p);FE(p,de.some(b),de.none()),yd(p)},Tk=p=>{const b=Cr(p);FE(p,de.some(b),de.none()),yd(p)},VE=p=>{Nc(p,"width");const b=qm(p),k=b.length>0?b:Xd(p);it(k,E=>{Nc(E,"width"),yd(E)}),yd(p)},HA={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},HE=()=>Le.fromTag("th"),UE=()=>Le.fromTag("td"),UA=()=>Le.fromTag("col"),jA=(p,b,k,E)=>{const P=Le.fromTag("tr");for(let F=0;F<p;F++){const q=E<b||F<k?HE():UE();F<k&&vr(q,"scope","row"),E<b&&vr(q,"scope","col"),Gs(q,Le.fromTag("br")),Gs(P,q)}return P},jE=p=>{const b=Le.fromTag("colgroup");return Bn(p,()=>Gs(b,UA())),b},_w=(p,b,k,E)=>Bn(p,P=>jA(b,k,E,P)),WE=(p,b,k,E,P,F=HA)=>{const q=Le.fromTag("table"),te=P!=="cells";wi(q,F.styles),Dc(q,F.attributes),F.colGroups&&Gs(q,jE(b));const ue=Math.min(p,k);if(te&&k>0){const Wt=Le.fromTag("thead");Gs(q,Wt);const qt=_w(k,b,P==="sectionCells"?ue:0,E);ol(Wt,qt)}const we=Le.fromTag("tbody");Gs(q,we);const ze=te?p-ue:p,Xt=_w(ze,b,te?0:k,E);return ol(we,Xt),q},WA=p=>p.dom.innerHTML,ZA=p=>{const b=Le.fromTag("div"),k=Le.fromDom(p.dom.cloneNode(!0));return Gs(b,k),WA(b)},GA=(p,b)=>{p.selection.select(b.dom,!0),p.selection.collapse(!0)},Rk=(p,b)=>{Ni(b,"td,th").each(Ze(GA,p))},ZE=(p,b)=>{it(fa(b,"tr"),k=>{Sk(p,k.dom),it(fa(k,"th,td"),E=>{mw(p,E.dom)})})},GE=p=>w(p)&&p.indexOf("%")!==-1,qE=(p,b,k,E,P)=>{const F=AE(p),q={styles:F,attributes:Ek(p),colGroups:OE(p)};return p.undoManager.ignore(()=>{const te=WE(k,b,P,E,TE(p),q);vr(te,"data-mce-id","__mce");const ue=ZA(te);p.insertContent(ue),p.addVisual()}),Ni(of(p),'table[data-mce-id="__mce"]').map(te=>(gd(p)?Tk(te):ns(p)?VE(te):(qg(p)||GE(F.width))&&dm(te),jc(te),Zs(te,"data-mce-id"),ZE(p,te),Rk(p,te),te.dom)).getOrNull()},KE=(p,b,k,E={})=>{const P=F=>Ne(F)&&F>0;if(P(b)&&P(k)){const F=E.headerRows||0,q=E.headerColumns||0;return qE(p,k,b,q,F)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var Ub=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Ik="x-tinymce/dom-table-",Ak=Ik+"rows",jb=Ik+"columns",kw=p=>{const b=Ub.FakeClipboardItem(p);Ub.write([b])},Ok=p=>{var b;const k=(b=Ub.read())!==null&&b!==void 0?b:[];return et(k,E=>de.from(E.getType(p)))},YE=p=>{Ok(p).isSome()&&Ub.clear()},XE=p=>{p.fold(qA,b=>kw({[Ak]:b}))},fm=()=>Ok(Ak),qA=()=>YE(Ak),JE=p=>{p.fold(KA,b=>kw({[jb]:b}))},Wb=()=>Ok(jb),KA=()=>YE(jb),Cw=p=>S4(bb(p),Cu(p)).filter(sf),YA=p=>Ox(bb(p),Cu(p)).filter(sf),XA=(p,b)=>{const k=Cu(p),E=()=>Cw(p).each(bt=>{Or(bt,k).filter(J(k)).each(hn=>{const $n=Le.fromText("");if(yl(hn,$n),Yr(hn),p.dom.isEmpty(p.getBody()))p.setContent(""),p.selection.setCursorLocation();else{const Qn=p.dom.createRng();Qn.setStart($n.dom,0),Qn.setEnd($n.dom,0),p.selection.setRng(Qn),p.nodeChanged()}})}),P=bt=>Cw(p).each(hn=>{ns(p)||gd(p)||qg(p)||Or(hn,k).each(Qn=>{bt==="relative"&&!gf(Qn)?dm(Qn):bt==="fixed"&&!ww(Qn)?Tk(Qn):bt==="responsive"&&!$E(Qn)&&VE(Qn),jc(Qn),um(p,Qn.dom,ei)})}),F=bt=>Or(bt,k),q=bt=>YA(p).bind(hn=>F(hn).map($n=>bt($n,hn))),te=(bt,hn)=>{q($n=>{p.formatter.toggle("tableclass",{value:hn},$n.dom),um(p,$n.dom,$b)})},ue=(bt,hn)=>{q($n=>{const Qn=ll(p),Ba=re(Qn,xr=>p.formatter.match("tablecellclass",{value:hn},xr.dom))?p.formatter.remove:p.formatter.apply;it(Qn,xr=>Ba("tablecellclass",{value:hn},xr.dom)),um(p,$n.dom,$b)})},we=()=>{Cw(p).each(bt=>{Or(bt,k).each(hn=>{yu(hn,"caption").fold(()=>{const $n=Le.fromTag("caption");Gs($n,Le.fromText("Caption")),Jy(hn,$n,0),p.selection.setCursorLocation($n.dom,0)},$n=>{gi("caption")(bt)&&$m("td",hn).each(Qn=>p.selection.setCursorLocation(Qn.dom,0)),Yr($n)}),um(p,hn.dom,ei)})})},ze=bt=>{p.focus()},It=(bt,hn=!1)=>q(($n,Qn)=>{const Ts=Bg(ll(p),$n,Qn);bt($n,Ts,hn).each(ze)}),Xt=()=>q((bt,hn)=>{const $n=Bg(ll(p),bt,hn),Qn=eh(Se,Le.fromDom(p.getDoc()),de.none());return PE(bt,$n,Qn)}),Wt=()=>q((bt,hn)=>{const $n=Bg(ll(p),bt,hn);return NA(bt,$n)}),wt=(bt,hn)=>hn().each($n=>{const Qn=cn($n,Ts=>Ml(Ts));q((Ts,Ba)=>{const xr=th(Le.fromDom(p.getDoc())),El=uA(ll(p),Ba,Qn,xr);bt(Ts,El).each(ze)})}),qt=bt=>(hn,$n)=>jn($n,"type").each(Qn=>{It(bt(Qn),$n.no_events)});be({mceTableSplitCells:()=>It(b.unmergeCells),mceTableMergeCells:()=>It(b.mergeCells),mceTableInsertRowBefore:()=>It(b.insertRowsBefore),mceTableInsertRowAfter:()=>It(b.insertRowsAfter),mceTableInsertColBefore:()=>It(b.insertColumnsBefore),mceTableInsertColAfter:()=>It(b.insertColumnsAfter),mceTableDeleteCol:()=>It(b.deleteColumn),mceTableDeleteRow:()=>It(b.deleteRow),mceTableCutCol:()=>Wt().each(bt=>{JE(bt),It(b.deleteColumn)}),mceTableCutRow:()=>Xt().each(bt=>{XE(bt),It(b.deleteRow)}),mceTableCopyCol:()=>Wt().each(bt=>JE(bt)),mceTableCopyRow:()=>Xt().each(bt=>XE(bt)),mceTablePasteColBefore:()=>wt(b.pasteColsBefore,Wb),mceTablePasteColAfter:()=>wt(b.pasteColsAfter,Wb),mceTablePasteRowBefore:()=>wt(b.pasteRowsBefore,fm),mceTablePasteRowAfter:()=>wt(b.pasteRowsAfter,fm),mceTableDelete:E,mceTableCellToggleClass:ue,mceTableToggleClass:te,mceTableToggleCaption:we,mceTableSizingMode:(bt,hn)=>P(hn),mceTableCellType:qt(bt=>bt==="th"?b.makeCellsHeader:b.unmakeCellsHeader),mceTableColType:qt(bt=>bt==="th"?b.makeColumnsHeader:b.unmakeColumnsHeader),mceTableRowType:qt(bt=>{switch(bt){case"header":return b.makeRowsHeader;case"footer":return b.makeRowsFooter;default:return b.makeRowsBody}})},(bt,hn)=>p.addCommand(hn,bt)),p.addCommand("mceInsertTable",(bt,hn)=>{KE(p,hn.rows,hn.columns,hn.options)}),p.addCommand("mceTableApplyCellStyle",(bt,hn)=>{const $n=Ba=>"tablecell"+Ba.toLowerCase().replace("-","");if(!x(hn))return;const Qn=uo(ll(p),sf);if(Qn.length===0)return;const Ts=Vt(hn,(Ba,xr)=>p.formatter.has($n(xr))&&w(Ba));Ao(Ts)||(be(Ts,(Ba,xr)=>{const El=$n(xr);it(Qn,vm=>{Ba===""?p.formatter.remove(El,{value:null},vm.dom,!0):p.formatter.apply(El,{value:Ba},vm.dom)})}),F(Qn[0]).each(Ba=>um(p,Ba.dom,$b)))})},QE=(p,b)=>{const k=Cu(p),E=P=>Ox(bb(p)).bind(F=>Or(F,k).map(q=>{const te=Bg(ll(p),q,F);return P(q,te)})).getOr("");be({mceTableRowType:()=>E(b.getTableRowType),mceTableCellType:()=>E(b.getTableCellType),mceTableColType:()=>E(b.getTableColType)},(P,F)=>p.addQueryValueHandler(F,P))},kp=Ys.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Zb=(p,b,k,E)=>p.fold(b,k,E),Gb=p=>p.fold(ht,ht,ht),Dk=kp.before,JA=kp.on,Mk=kp.after,Ti={before:Dk,on:JA,after:Mk,cata:Zb,getStart:Gb},Xg={create:(p,b)=>({selection:p,kill:b})},QA=(p,b)=>{const k=p.document.createRange();return k.selectNode(b.dom),k},qb=(p,b)=>{const k=p.document.createRange();return Cp(k,b),k},Cp=(p,b)=>p.selectNodeContents(b.dom),Sp=(p,b)=>{b.fold(k=>{p.setStartBefore(k.dom)},(k,E)=>{p.setStart(k.dom,E)},k=>{p.setStartAfter(k.dom)})},Sw=(p,b)=>{b.fold(k=>{p.setEndBefore(k.dom)},(k,E)=>{p.setEnd(k.dom,E)},k=>{p.setEndAfter(k.dom)})},Jg=(p,b,k)=>{const E=p.document.createRange();return Sp(E,b),Sw(E,k),E},xw=(p,b,k,E,P)=>{const F=p.document.createRange();return F.setStart(b.dom,k),F.setEnd(E.dom,P),F},hm=p=>({left:p.left,top:p.top,right:p.right,bottom:p.bottom,width:p.width,height:p.height}),zr=p=>{const b=p.getClientRects(),k=b.length>0?b[0]:p.getBoundingClientRect();return k.width>0||k.height>0?de.some(k).map(hm):de.none()},xp=Ys.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Pk=(p,b,k)=>b(Le.fromDom(k.startContainer),k.startOffset,Le.fromDom(k.endContainer),k.endOffset),eO=(p,b)=>b.match({domRange:k=>({ltr:ee(k),rtl:de.none}),relative:(k,E)=>({ltr:jf(()=>Jg(p,k,E)),rtl:jf(()=>de.some(Jg(p,E,k)))}),exact:(k,E,P,F)=>({ltr:jf(()=>xw(p,k,E,P,F)),rtl:jf(()=>de.some(xw(p,P,F,k,E)))})}),zk=(p,b)=>{const k=b.ltr();return k.collapsed?b.rtl().filter(P=>P.collapsed===!1).map(P=>xp.rtl(Le.fromDom(P.endContainer),P.endOffset,Le.fromDom(P.startContainer),P.startOffset)).getOrThunk(()=>Pk(p,xp.ltr,k)):Pk(p,xp.ltr,k)},Qg=(p,b)=>{const k=eO(p,b);return zk(p,k)},Ep=(p,b)=>Qg(p,b).match({ltr:(E,P,F,q)=>{const te=p.document.createRange();return te.setStart(E.dom,P),te.setEnd(F.dom,q),te},rtl:(E,P,F,q)=>{const te=p.document.createRange();return te.setStart(F.dom,q),te.setEnd(E.dom,P),te}});xp.ltr,xp.rtl;const ey={create:(p,b,k,E)=>({start:p,soffset:b,finish:k,foffset:E})},Kb={create:(p,b,k,E)=>({start:Ti.on(p,b),finish:Ti.on(k,E)})},t2=(p,b)=>{const k=Ep(p,b);return ey.create(Le.fromDom(k.startContainer),k.startOffset,Le.fromDom(k.endContainer),k.endOffset)},dh=Kb.create,Ew=(p,b,k,E,P,F,q)=>_s(k,P)&&E===F?de.none():_r(k,"td,th",b).bind(te=>_r(P,"td,th",b).bind(ue=>ba(p,b,te,ue,q))),ba=(p,b,k,E,P)=>_s(k,E)?de.none():_b(k,E,b).bind(F=>{const q=F.boxes.getOr([]);return q.length>1?(P(p,q,F.start,F.finish),de.some(Xg.create(de.some(dh(k,0,k,Oa(k))),!0))):de.none()}),n2=(p,b,k,E,P)=>{const F=q=>(P.clearBeforeUpdate(k),P.selectRange(k,q.boxes,q.start,q.finish),q.boxes);return Q0(E,p,b,P.firstSelectedSelector,P.lastSelectedSelector).map(F)},Ru=(p,b)=>({item:p,mode:b}),Bk=(p,b,k,E=bd)=>p.property().parent(b).map(P=>Ru(P,E)),bd=(p,b,k,E=vd)=>k.sibling(p,b).map(P=>Ru(P,E)),vd=(p,b,k,E=vd)=>{const P=p.property().children(b);return k.first(P).map(q=>Ru(q,E))},Fk=[{current:Bk,next:bd,fallback:de.none()},{current:bd,next:vd,fallback:de.some(Bk)},{current:vd,next:vd,fallback:de.some(bd)}],ty=(p,b,k,E,P=Fk)=>j(P,q=>q.current===k).bind(q=>q.current(p,b,E,q.next).orThunk(()=>q.fallback.bind(te=>ty(p,b,te,E)))),Tw={left:()=>({sibling:(k,E)=>k.query().prevSibling(E),first:k=>k.length>0?de.some(k[k.length-1]):de.none()}),right:()=>({sibling:(k,E)=>k.query().nextSibling(E),first:k=>k.length>0?de.some(k[0]):de.none()})},Rw=(p,b,k,E,P,F)=>ty(p,b,E,P).bind(te=>F(te.item)?de.none():k(te.item)?de.some(te.item):Rw(p,te.item,k,te.mode,P,F)),Iw=(p,b,k,E)=>Rw(p,b,k,bd,Tw.left(),E),wd=(p,b,k,E)=>Rw(p,b,k,bd,Tw.right(),E),$k=p=>b=>p.property().children(b).length===0,nO=(p,b,k)=>Vk(p,b,$k(p),k),s2=(p,b,k)=>Hk(p,b,$k(p),k),Vk=Iw,Hk=wd,Aw=dd(),r2=(p,b)=>nO(Aw,p,b),bc=(p,b)=>s2(Aw,p,b),Ow=(p,b,k)=>Vk(Aw,p,b,k),a2=(p,b,k)=>Hk(Aw,p,b,k),ny=(p,b,k)=>Vr(p,b,k).isSome(),Ri=Ys.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Iu=(p,b,k)=>{const E=p.getRect(b),P=p.getRect(k);return P.right>E.left&&P.left<E.right},ql=p=>_r(p,"tr"),dl={...Ri,verify:(p,b,k,E,P,F,q)=>_r(E,"td,th",q).bind(te=>_r(b,"td,th",q).map(ue=>_s(te,ue)?_s(E,te)&&Oa(te)===P?F(ue):Ri.none("in same cell"):zo(ql,[te,ue]).fold(()=>Iu(p,ue,te)?Ri.success():F(ue),we=>F(ue)))).getOr(Ri.none("default")),cata:(p,b,k,E,P)=>p.fold(b,k,E,P)},ta=(p,b,k,E)=>({parent:p,children:b,element:k,index:E}),Uk=p=>mu(p).bind(b=>{const k=Jo(b);return Yb(k,p).map(E=>ta(b,k,p,E))}),Yb=(p,b)=>lt(p,Ze(_s,b)),Tp=gi("br"),Xb=(p,b,k)=>b(p,k).bind(E=>Oc(E)&&ss(E).trim().length===0?Xb(E,b,k):de.some(E)),Dw=(p,b,k)=>k.traverse(b).orThunk(()=>Xb(b,k.gather,p)).map(k.relative),Jb=(p,b)=>nl(p,b).filter(Tp).orThunk(()=>nl(p,b-1).filter(Tp)),i2=(p,b,k,E)=>Jb(b,k).bind(P=>E.traverse(P).fold(()=>Xb(P,E.gather,p).map(E.relative),F=>Uk(F).map(q=>Ti.on(q.parent,q.index)))),sO=(p,b,k,E)=>(Tp(b)?Dw(p,b,E):i2(p,b,k,E)).map(F=>({start:F,finish:F})),rO=p=>dl.cata(p,b=>de.none(),()=>de.none(),b=>de.some(nm(b,0)),b=>de.some(nm(b,Oa(b)))),yf=(p,b)=>({left:p.left,top:p.top+b,right:p.right,bottom:p.bottom+b}),Qb=(p,b)=>({left:p.left,top:p.top-b,right:p.right,bottom:p.bottom-b}),Mw=(p,b,k)=>({left:p.left+b,top:p.top+k,right:p.right+b,bottom:p.bottom+k}),bf=p=>p.top,Pw=p=>p.bottom,zw=(p,b,k)=>k>=0&&k<Oa(b)?p.getRangedRect(b,k,b,k+1):k>0?p.getRangedRect(b,k-1,b,k):de.none(),Rp=p=>({left:p.left,top:p.top,right:p.right,bottom:p.bottom}),jk=(p,b)=>de.some(p.getRect(b)),l2=(p,b,k)=>si(b)?jk(p,b).map(Rp):Oc(b)?zw(p,b,k).map(Rp):de.none(),Wk=(p,b)=>si(b)?jk(p,b).map(Rp):Oc(b)?p.getRangedRect(b,0,b,Oa(b)).map(Rp):de.none(),mm=5,aO=100,za=Ys.generate([{none:[]},{retry:["caret"]}]),iO=(p,b)=>p.left<b.left||Math.abs(b.right-p.left)<1||p.left>b.right,oy=(p,b,k)=>er(b,ya).fold(_t,E=>Wk(p,E).exists(P=>iO(k,P))),sy=(p,b,k,E,P)=>{const F=yf(P,mm);return Math.abs(k.bottom-E.bottom)<1||k.top>P.bottom?za.retry(F):k.top===P.bottom?za.retry(yf(P,1)):oy(p,b,P)?za.retry(Mw(F,mm,0)):za.none()},lO={point:bf,adjuster:(p,b,k,E,P)=>{const F=Qb(P,mm);return Math.abs(k.top-E.top)<1||k.bottom<P.top?za.retry(F):k.bottom===P.top?za.retry(Qb(P,1)):oy(p,b,P)?za.retry(Mw(F,mm,0)):za.none()},move:Qb,gather:r2},cO={point:Pw,adjuster:sy,move:yf,gather:bc},Nw=(p,b,k)=>p.elementFromPoint(b,k).filter(E=>ws(E)==="table").isSome(),uO=(p,b,k,E,P)=>Lw(p,b,k,b.move(E,mm),P),Lw=(p,b,k,E,P)=>P===0?de.some(E):Nw(p,E.left,b.point(E))?uO(p,b,k,E,P-1):p.situsFromPoint(E.left,b.point(E)).bind(F=>F.start.fold(de.none,q=>Wk(p,q).bind(te=>b.adjuster(p,q,te,k,E).fold(de.none,ue=>Lw(p,b,k,ue,P-1))).orThunk(()=>de.some(E)),de.none)),dO=(p,b,k)=>p.point(b)>k.getInnerHeight()?de.some(p.point(b)-k.getInnerHeight()):p.point(b)<0?de.some(-p.point(b)):de.none(),u2=(p,b,k)=>{const E=p.move(k,mm),P=Lw(b,p,k,E,aO).getOr(E);return dO(p,P,b).fold(()=>b.situsFromPoint(P.left,p.point(P)),F=>(b.scrollBy(0,F),b.situsFromPoint(P.left,p.point(P)-F)))},Bw={tryUp:Ze(u2,lO),tryDown:Ze(u2,cO),getJumpSize:ee(mm)},fO=20,Zk=(p,b,k)=>p.getSelection().bind(E=>sO(b,E.finish,E.foffset,k).fold(()=>de.some(nm(E.finish,E.foffset)),P=>{const F=p.fromSitus(P),q=dl.verify(p,E.finish,E.foffset,F.finish,F.foffset,k.failure,b);return rO(q)})),ev=(p,b,k,E,P,F)=>F===0?de.none():ry(p,b,k,E,P).bind(q=>{const te=p.fromSitus(q),ue=dl.verify(p,k,E,te.finish,te.foffset,P.failure,b);return dl.cata(ue,()=>de.none(),()=>de.some(q),we=>_s(k,we)&&E===0?Io(p,k,E,Qb,P):ev(p,b,we,0,P,F-1),we=>_s(k,we)&&E===Oa(we)?Io(p,k,E,yf,P):ev(p,b,we,Oa(we),P,F-1))}),Io=(p,b,k,E,P)=>l2(p,b,k).bind(F=>hh(p,P,E(F,Bw.getJumpSize()))),hh=(p,b,k)=>{const E=nd().browser;return E.isChromium()||E.isSafari()||E.isFirefox()?b.retry(p,k):de.none()},ry=(p,b,k,E,P)=>l2(p,k,E).bind(F=>hh(p,P,F)),Gk=(p,b,k)=>Zk(p,b,k).bind(E=>ev(p,b,E.element,E.offset,k,fO).map(p.fromSitus)),d2=(p,b)=>ny(p,k=>mu(k).exists(E=>_s(E,b))),mh=(p,b,k,E,P)=>_r(E,"td,th",b).bind(F=>_r(F,"table",b).bind(q=>d2(P,q)?Gk(p,b,k).bind(te=>_r(te.finish,"td,th",b).map(ue=>({start:F,finish:ue,range:te}))):de.none())),ay=(p,b,k,E,P,F)=>F(E,b).orThunk(()=>mh(p,b,k,E,P).map(q=>{const te=q.range;return Xg.create(de.some(dh(te.start,te.soffset,te.finish,te.foffset)),!0)})),qk=(p,b)=>_r(p,"tr",b).bind(k=>_r(k,"table",b).bind(E=>{const P=fa(E,"tr");return _s(k,P[0])?Ow(E,F=>Qf(F).isSome(),b).map(F=>{const q=Oa(F);return Xg.create(de.some(dh(F,q,F,q)),!0)}):de.none()})),Kk=(p,b)=>_r(p,"tr",b).bind(k=>_r(k,"table",b).bind(E=>{const P=fa(E,"tr");return _s(k,P[P.length-1])?a2(E,F=>Ul(F).isSome(),b).map(F=>Xg.create(de.some(dh(F,0,F,0)),!0)):de.none()})),Fw=(p,b,k,E,P,F,q)=>mh(p,k,E,P,F).bind(te=>ba(b,k,te.start,te.finish,q)),$w=p=>{let b=p;return{get:()=>b,set:P=>{b=P}}},f2=p=>{const b=$w(de.none()),k=()=>b.get().each(p);return{clear:()=>{k(),b.set(de.none())},isSet:()=>b.get().isSome(),get:()=>b.get(),set:te=>{k(),b.set(de.some(te))}}},tv=()=>{const p=f2(Se);return{...p,on:k=>p.get().each(k)}},nv=(p,b)=>_r(p,"td,th",b),h2=p=>tl(p).exists(jl),m2=(p,b,k,E)=>{const P=tv(),F=P.clear,q=ze=>{P.on(It=>{E.clearBeforeUpdate(b),nv(ze.target,k).each(Xt=>{_b(It,Xt,k).each(Wt=>{const wt=Wt.boxes.getOr([]);if(wt.length===1){const qt=wt[0],bt=em(qt)==="false",hn=Hr(F1(ze.target),qt,_s);bt&&hn&&(E.selectRange(b,wt,qt,qt),p.selectContents(qt))}else wt.length>1&&(E.selectRange(b,wt,Wt.start,Wt.finish),p.selectContents(Xt))})})})};return{clearstate:F,mousedown:ze=>{E.clear(b),nv(ze.target,k).filter(h2).each(P.set)},mouseover:ze=>{q(ze)},mouseup:ze=>{q(ze),F()}}},iy={traverse:ed,gather:bc,relative:Ti.before,retry:Bw.tryDown,failure:dl.failedDown},Vw={traverse:Qu,gather:r2,relative:Ti.before,retry:Bw.tryUp,failure:dl.failedUp},Ip=p=>b=>b===p,pm=Ip(38),ov=Ip(40),Ap=p=>p>=37&&p<=40,p2={isBackward:Ip(37),isForward:Ip(39)},Yk={isBackward:Ip(39),isForward:Ip(37)},ly=p=>{const b=p!==void 0?p.dom:document,k=b.body.scrollLeft||b.documentElement.scrollLeft,E=b.body.scrollTop||b.documentElement.scrollTop;return Fc(k,E)},Xk=(p,b,k)=>{const P=(k!==void 0?k.dom:document).defaultView;P&&P.scrollBy(p,b)},Hw=Ys.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),hO=p=>Hw.exact(p.start,p.soffset,p.finish,p.foffset),g2=p=>p.match({domRange:b=>Le.fromDom(b.startContainer),relative:(b,k)=>Ti.getStart(b),exact:(b,k,E,P)=>b}),gm=Hw.domRange,Jk=Hw.relative,Qk=Hw.exact,Uw=p=>{const b=g2(p);return Rr(b)},y2=ey.create,ph={domRange:gm,relative:Jk,exact:Qk,exactFromRange:hO,getWin:Uw,range:y2},eC=(p,b,k)=>{var E,P;return de.from((P=(E=p.dom).caretPositionFromPoint)===null||P===void 0?void 0:P.call(E,b,k)).bind(F=>{if(F.offsetNode===null)return de.none();const q=p.dom.createRange();return q.setStart(F.offsetNode,F.offset),q.collapse(),de.some(q)})},tn=(p,b,k)=>{var E,P;return de.from((P=(E=p.dom).caretRangeFromPoint)===null||P===void 0?void 0:P.call(E,b,k))},Na=(()=>document.caretPositionFromPoint?eC:document.caretRangeFromPoint?tn:de.none)(),qc=(p,b,k)=>{const E=Le.fromDom(p.document);return Na(E,b,k).map(P=>ey.create(Le.fromDom(P.startContainer),P.startOffset,Le.fromDom(P.endContainer),P.endOffset))},na=(p,b)=>{const k=ws(p);return k==="input"?Ti.after(p):Ht(["br","img"],k)?b===0?Ti.before(p):Ti.after(p):Ti.on(p,b)},Au=(p,b)=>{const k=p.fold(Ti.before,na,Ti.after),E=b.fold(Ti.before,na,Ti.after);return ph.relative(k,E)},vc=(p,b,k,E)=>{const P=na(p,b),F=na(k,E);return ph.relative(P,F)},Wr=(p,b,k,E)=>{const F=Ju(p).dom.createRange();return F.setStart(p.dom,b),F.setEnd(k.dom,E),F},tC=(p,b,k,E)=>{const P=Wr(p,b,k,E),F=_s(p,k)&&b===E;return P.collapsed&&!F},cy=p=>de.from(p.getSelection()),Op=(p,b)=>{cy(p).each(k=>{k.removeAllRanges(),k.addRange(b)})},sv=(p,b,k,E,P)=>{const F=xw(p,b,k,E,P);Op(p,F)},b2=(p,b,k,E,P,F)=>{b.collapse(k.dom,E),b.extend(P.dom,F)},v2=(p,b)=>Qg(p,b).match({ltr:(k,E,P,F)=>{sv(p,k,E,P,F)},rtl:(k,E,P,F)=>{cy(p).each(q=>{if(q.setBaseAndExtent)q.setBaseAndExtent(k.dom,E,P.dom,F);else if(q.extend)try{b2(p,q,k,E,P,F)}catch{sv(p,P,F,k,E)}else sv(p,P,F,k,E)})}}),w2=(p,b,k,E,P)=>{const F=vc(b,k,E,P);v2(p,F)},jw=(p,b,k)=>{const E=Au(b,k);v2(p,E)},nC=p=>{if(p.rangeCount>0){const b=p.getRangeAt(0),k=p.getRangeAt(p.rangeCount-1);return de.some(ey.create(Le.fromDom(b.startContainer),b.startOffset,Le.fromDom(k.endContainer),k.endOffset))}else return de.none()},_2=p=>{if(p.anchorNode===null||p.focusNode===null)return nC(p);{const b=Le.fromDom(p.anchorNode),k=Le.fromDom(p.focusNode);return tC(b,p.anchorOffset,k,p.focusOffset)?de.some(ey.create(b,p.anchorOffset,k,p.focusOffset)):nC(p)}},rv=(p,b,k=!0)=>{const P=(k?qb:QA)(p,b);Op(p,P)},av=p=>cy(p).filter(b=>b.rangeCount>0).bind(_2),iv=p=>av(p).map(b=>ph.exact(b.start,b.soffset,b.finish,b.foffset)),lv=(p,b)=>{const k=Ep(p,b);return zr(k)},Ww=(p,b,k)=>qc(p,b,k),Zw=p=>{cy(p).each(b=>b.removeAllRanges())},Dp=p=>({elementFromPoint:(bt,hn)=>Le.fromPoint(Le.fromDom(p.document),bt,hn),getRect:bt=>bt.dom.getBoundingClientRect(),getRangedRect:(bt,hn,$n,Qn)=>{const Ts=ph.exact(bt,hn,$n,Qn);return lv(p,Ts)},getSelection:()=>iv(p).map(bt=>t2(p,bt)),fromSitus:bt=>{const hn=ph.relative(bt.start,bt.finish);return t2(p,hn)},situsFromPoint:(bt,hn)=>Ww(p,bt,hn).map($n=>Kb.create($n.start,$n.soffset,$n.finish,$n.foffset)),clearSelection:()=>{Zw(p)},collapseSelection:(bt=!1)=>{iv(p).each(hn=>hn.fold($n=>$n.collapse(bt),($n,Qn)=>{const Ts=bt?$n:Qn;jw(p,Ts,Ts)},($n,Qn,Ts,Ba)=>{const xr=bt?$n:Ts,El=bt?Qn:Ba;w2(p,xr,El,xr,El)}))},setSelection:bt=>{w2(p,bt.start,bt.soffset,bt.finish,bt.foffset)},setRelativeSelection:(bt,hn)=>{jw(p,bt,hn)},selectNode:bt=>{rv(p,bt,!1)},selectContents:bt=>{rv(p,bt)},getInnerHeight:()=>p.innerHeight,getScrollY:()=>ly(Le.fromDom(p.document)).top,scrollBy:(bt,hn)=>{Xk(bt,hn,Le.fromDom(p.document))}}),Kl=(p,b)=>({rows:p,cols:b}),cv=(p,b,k,E)=>{const P=Dp(p),F=m2(P,b,k,E);return{clearstate:F.clearstate,mousedown:F.mousedown,mouseover:F.mouseover,mouseup:F.mouseup}},k2=p=>er(p,Fn).exists(jl),oC=(p,b)=>k2(p)||k2(b),mO=(p,b,k,E)=>{const P=Dp(p),F=()=>(E.clear(b),de.none());return{keydown:(ue,we,ze,It,Xt,Wt)=>{const wt=ue.raw,qt=wt.which,bt=wt.shiftKey===!0;return zg(b,E.selectedSelector).fold(()=>(Ap(qt)&&!bt&&E.clearBeforeUpdate(b),Ap(qt)&&bt&&!oC(we,It)?de.none:ov(qt)&&bt?Ze(Fw,P,b,k,iy,It,we,E.selectRange):pm(qt)&&bt?Ze(Fw,P,b,k,Vw,It,we,E.selectRange):ov(qt)?Ze(ay,P,k,iy,It,we,Kk):pm(qt)?Ze(ay,P,k,Vw,It,we,qk):de.none),$n=>{const Qn=Ts=>()=>et(Ts,xr=>n2(xr.rows,xr.cols,b,$n,E)).fold(()=>U1(b,E.firstSelectedSelector,E.lastSelectedSelector).map(xr=>{const El=ov(qt)||Wt.isForward(qt)?Ti.after:Ti.before;return P.setRelativeSelection(Ti.on(xr.first,0),El(xr.table)),E.clear(b),Xg.create(de.none(),!0)}),xr=>de.some(Xg.create(de.none(),!0)));return Ap(qt)&&bt&&!oC(we,It)?de.none:ov(qt)&&bt?Qn([Kl(1,0)]):pm(qt)&&bt?Qn([Kl(-1,0)]):Wt.isBackward(qt)&&bt?Qn([Kl(0,-1),Kl(-1,0)]):Wt.isForward(qt)&&bt?Qn([Kl(0,1),Kl(1,0)]):Ap(qt)&&!bt?F:de.none})()},keyup:(ue,we,ze,It,Xt)=>zg(b,E.selectedSelector).fold(()=>{const Wt=ue.raw,wt=Wt.which;return Wt.shiftKey===!0&&Ap(wt)&&oC(we,It)?Ew(b,k,we,ze,It,Xt,E.selectRange):de.none()},de.none)}},C2=(p,b,k,E)=>{const P=Dp(p);return(F,q)=>{E.clearBeforeUpdate(b),_b(F,q,k).each(te=>{const ue=te.boxes.getOr([]);E.selectRange(b,ue,te.start,te.finish),P.selectContents(q),P.collapseSelection()})}},uv=(p,b)=>{const k=xa(p,b);return k===void 0||k===""?[]:k.split(" ")},pO=(p,b,k)=>{const P=uv(p,b).concat([k]);return vr(p,b,P.join(" ")),!0},dv=(p,b,k)=>{const E=uo(uv(p,b),P=>P!==k);return E.length>0?vr(p,b,E.join(" ")):Zs(p,b),!1},La=p=>p.dom.classList!==void 0,Ou=p=>uv(p,"class"),wc=(p,b)=>pO(p,"class",b),ym=(p,b)=>dv(p,"class",b),Du=(p,b)=>{La(p)?p.dom.classList.add(b):wc(p,b)},gO=p=>{(La(p)?p.dom.classList:Ou(p)).length===0&&Zs(p,"class")},sC=(p,b)=>{La(p)?p.dom.classList.remove(b):ym(p,b),gO(p)},rC=(p,b)=>La(p)&&p.dom.classList.contains(b),aC=(p,b)=>{it(b,k=>{sC(p,k)})},yO=p=>b=>{Du(b,p)},iC=p=>b=>{aC(b,p)},lC={byClass:p=>{const b=yO(p.selected),k=iC([p.selected,p.lastSelected,p.firstSelected]),E=F=>{const q=fa(F,p.selectedSelector);it(q,k)};return{clearBeforeUpdate:E,clear:E,selectRange:(F,q,te,ue)=>{E(F),it(q,b),Du(te,p.firstSelected),Du(ue,p.lastSelected)},selectedSelector:p.selectedSelector,firstSelectedSelector:p.firstSelectedSelector,lastSelectedSelector:p.lastSelectedSelector}},byAttr:(p,b,k)=>{const E=ue=>{Zs(ue,p.selected),Zs(ue,p.firstSelected),Zs(ue,p.lastSelected)},P=ue=>{vr(ue,p.selected,"1")},F=ue=>{q(ue),k()},q=ue=>{const we=fa(ue,`${p.selectedSelector},${p.firstSelectedSelector},${p.lastSelectedSelector}`);it(we,E)};return{clearBeforeUpdate:q,clear:F,selectRange:(ue,we,ze,It)=>{F(ue),it(we,P),vr(ze,p.firstSelected,"1"),vr(It,p.lastSelected,"1"),b(we,ze,It)},selectedSelector:p.selectedSelector,firstSelectedSelector:p.firstSelectedSelector,lastSelectedSelector:p.lastSelectedSelector}}},cC=(p,b,k,E)=>{switch(p.tag){case"none":return b();case"single":return E(p.element);case"multiple":return k(p.elements)}},bs=()=>({tag:"none"}),_d=p=>({tag:"multiple",elements:p}),uC=p=>({tag:"single",element:p}),dC=(p,b,k)=>({get:()=>Ix(p(),k).fold(()=>b().fold(bs,uC),_d)}),S2=(p,b)=>{const k=p.slice(0,b[b.length-1].row+1),E=J1(k);return Tt(E,P=>{const F=P.cells.slice(0,b[b.length-1].column+1);return cn(F,q=>q.element)})},Gw=(p,b)=>{const k=p.slice(b[0].row+b[0].rowspan-1,p.length),E=J1(k);return Tt(E,P=>{const F=P.cells.slice(b[0].column+b[0].colspan-1,P.cells.length);return cn(F,q=>q.element)})},x2=(p,b,k)=>{const E=go.fromTable(p);return sm(E,b).map(F=>{const q=Wc(E,k,!1),{rows:te}=ma(q),ue=S2(te,F),we=Gw(te,F);return{upOrLeftCells:ue,downOrRightCells:we}})},qw=(p,b,k,E,P,F,q)=>({target:p,x:b,y:k,stop:E,prevent:P,kill:F,raw:q}),E2=p=>{const b=Le.fromDom(Fo(p).getOr(p.target)),k=()=>p.stopPropagation(),E=()=>p.preventDefault(),P=je(E,k);return qw(b,p.clientX,p.clientY,k,E,P,p)},wO=(p,b)=>k=>{p(k)&&b(E2(k))},T2=(p,b,k,E,P)=>{const F=wO(k,E);return p.dom.addEventListener(b,F,P),{unbind:Ze(fC,p,b,F,P)}},_O=(p,b,k,E)=>T2(p,b,k,E,!1),fC=(p,b,k,E)=>{p.dom.removeEventListener(b,k,E)},R2=Ue,fn=(p,b,k)=>_O(p,b,R2,k),kd=E2,hC=p=>!rC(Le.fromDom(p.target),"ephox-snooker-resizer-bar"),I2=(p,b)=>{const k=dC(()=>Le.fromDom(p.getBody()),()=>Ox(bb(p),Cu(p)),il.selectedSelector),E=(ue,we,ze)=>{Or(we).each(Xt=>{const Wt=Gg(p),wt=eh(Se,Le.fromDom(p.getDoc()),Wt),qt=ll(p),bt=x2(Xt,{selection:qt},wt);kE(p,ue,we,ze,bt)})},P=()=>xk(p),F=lC.byAttr(il,E,P);return p.on("init",ue=>{const we=p.getWin(),ze=of(p),It=Cu(p),Xt=()=>{const us=p.selection,fl=Le.fromDom(us.getStart()),hl=Le.fromDom(us.getEnd());zo(Or,[fl,hl]).fold(()=>F.clear(ze),Se)},Wt=cv(we,ze,It,F),wt=mO(we,ze,It,F),qt=C2(we,ze,It,F),bt=us=>us.raw.shiftKey===!0;p.on("TableSelectorChange",us=>qt(us.start,us.finish));const hn=(us,fl)=>{!bt(us)||(fl.kill&&us.kill(),fl.selection.each(hl=>{const _c=ph.relative(hl.start,hl.finish),Xl=Ep(we,_c);p.selection.setRng(Xl)}))},$n=us=>{const fl=kd(us);if(fl.raw.shiftKey&&Ap(fl.raw.which)){const hl=p.selection.getRng(),_c=Le.fromDom(hl.startContainer),Xl=Le.fromDom(hl.endContainer);wt.keyup(fl,_c,hl.startOffset,Xl,hl.endOffset).each(py=>{hn(fl,py)})}},Qn=us=>{const fl=kd(us);b.hide();const hl=p.selection.getRng(),_c=Le.fromDom(hl.startContainer),Xl=Le.fromDom(hl.endContainer),py=ep(p2,Yk)(Le.fromDom(p.selection.getStart()));wt.keydown(fl,_c,hl.startOffset,Xl,hl.endOffset,py).each(Tl=>{hn(fl,Tl)}),b.show()},Ts=us=>us.button===0,Ba=us=>us.buttons===void 0?!0:(us.buttons&1)!==0,xr=us=>{Wt.clearstate()},El=us=>{Ts(us)&&hC(us)&&Wt.mousedown(kd(us))},vm=us=>{Ba(us)&&hC(us)&&Wt.mouseover(kd(us))},o_=us=>{Ts(us)&&hC(us)&&Wt.mouseup(kd(us))},s_=(()=>{const us=$w(Le.fromDom(ze)),fl=$w(0);return{touchEnd:_c=>{const Xl=Le.fromDom(_c.target);if(gi("td")(Xl)||gi("th")(Xl)){const py=us.get(),Tl=fl.get();_s(py,Xl)&&_c.timeStamp-Tl<300&&(_c.preventDefault(),qt(Xl,Xl))}us.set(Xl),fl.set(_c.timeStamp)}}})();p.on("dragstart",xr),p.on("mousedown",El),p.on("mouseover",vm),p.on("mouseup",o_),p.on("touchend",s_.touchEnd),p.on("keyup",$n),p.on("keydown",Qn),p.on("NodeChange",Xt)}),p.on("PreInit",()=>{p.serializer.addTempAttr(il.firstSelected),p.serializer.addTempAttr(il.lastSelected)}),{getSelectedCells:()=>cC(k.get(),ee([]),ue=>cn(ue,we=>we.dom),ue=>[ue.dom]),clearSelectedCells:ue=>F.clear(Le.fromDom(ue))}},fr=p=>{let b=[];return{bind:F=>{if(F===void 0)throw new Error("Event bind error: undefined handler");b.push(F)},unbind:F=>{b=uo(b,q=>q!==F)},trigger:(...F)=>{const q={};it(p,(te,ue)=>{q[te]=F[ue]}),it(b,te=>{te(q)})}}},Nr=p=>{const b=Xe(p,E=>({bind:E.bind,unbind:E.unbind})),k=Xe(p,E=>E.trigger);return{registry:b,trigger:k}},uy=(p,b)=>{let k=null;const E=()=>{A(k)||(clearTimeout(k),k=null)};return{cancel:E,throttle:(...F)=>{E(),k=setTimeout(()=>{k=null,p.apply(null,F)},b)}}},fv=p=>p.slice(0).sort(),kO=(p,b)=>{throw new Error("All required keys ("+fv(p).join(", ")+") were not specified. Specified keys were: "+fv(b).join(", ")+".")},CO=p=>{throw new Error("Unsupported keys for object: "+fv(p).join(", "))},yo=(p,b)=>{if(!T(b))throw new Error("The "+p+" fields must be an array. Was: "+b+".");it(b,k=>{if(!w(k))throw new Error("The value "+k+" in the "+p+" fields was not a string.")})},mC=(p,b)=>{throw new Error("All values need to be of type: "+b+". Keys ("+fv(p).join(", ")+") were not.")},dy=p=>{const b=fv(p);j(b,(E,P)=>P<b.length-1&&E===b[P+1]).each(E=>{throw new Error("The field: "+E+" occurs more than once in the combined fields: ["+b.join(", ")+"].")})},Kw=(p,b)=>SO(p,b,{validate:ke,label:"function"}),SO=(p,b,k)=>{if(b.length===0)throw new Error("You must specify at least one required field.");return yo("required",b),dy(b),E=>{const P=$e(E);re(b,te=>Ht(P,te))||kO(b,P),p(b,P);const q=uo(b,te=>!k.validate(E[te],te));return q.length>0&&mC(q,k.label),E}},xO=(p,b)=>{const k=uo(b,E=>!Ht(p,E));k.length>0&&CO(k)},pC=p=>Kw(xO,p),T4=pC(["compare","extract","mutate","sink"]),A2=pC(["element","start","stop","destroy"]),EO=pC(["forceDrop","drop","move","delayDrop"]),gC=()=>{let p=de.none();const b=()=>{p=de.none()},k=(F,q)=>{const te=p.map(ue=>F.compare(ue,q));return p=de.some(q),te},E=(F,q)=>{q.extract(F).each(ue=>{k(q,ue).each(ze=>{P.trigger.move(ze)})})},P=Nr({move:fr(["info"])});return{onEvent:E,reset:b,events:P.registry}},yC=()=>{const p=Nr({move:fr(["info"])});return{onEvent:Se,reset:Se,events:p.registry}},O2=()=>{const p=yC(),b=gC();let k=p;return{on:()=>{k.reset(),k=b},off:()=>{k.reset(),k=p},isOn:()=>k===b,onEvent:(te,ue)=>{k.onEvent(te,ue)},events:b.events}},D2=(p,b,k)=>{let E=!1;const P=Nr({start:fr([]),stop:fr([])}),F=O2(),q=()=>{wt.stop(),F.isOn()&&(F.off(),P.trigger.stop())},te=uy(q,200),ue=bt=>{wt.start(bt),F.on(),P.trigger.start()},we=bt=>{te.cancel(),F.onEvent(bt,b)};F.events.move.bind(bt=>{b.mutate(p,bt.info)});const ze=()=>{E=!0},It=()=>{E=!1},Xt=()=>E,Wt=bt=>(...hn)=>{E&&bt.apply(null,hn)},wt=b.sink(EO({forceDrop:q,drop:Wt(q),move:Wt(we),delayDrop:Wt(te.throttle)}),k),qt=()=>{wt.destroy()};return{element:wt.element,go:ue,on:ze,off:It,isActive:Xt,destroy:qt,events:P.registry}},M2=p=>{const b=p.replace(/\./g,"-");return{resolve:E=>b+"-"+E}},TO=M2("ephox-dragster").resolve,RO=p=>{const b={layerClass:TO("blocker"),...p},k=Le.fromTag("div");return vr(k,"role","presentation"),wi(k,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Du(k,TO("blocker")),Du(k,b.layerClass),{element:ee(k),destroy:()=>{Yr(k)}}};var IO=T4({compare:(p,b)=>Fc(b.left-p.left,b.top-p.top),extract:p=>de.some(Fc(p.x,p.y)),sink:(p,b)=>{const k=RO(b),E=fn(k.element(),"mousedown",p.forceDrop),P=fn(k.element(),"mouseup",p.drop),F=fn(k.element(),"mousemove",p.move),q=fn(k.element(),"mouseout",p.delayDrop),te=()=>{k.destroy(),P.unbind(),F.unbind(),q.unbind(),E.unbind()},ue=ze=>{Gs(ze,k.element())},we=()=>{Yr(k.element())};return A2({element:k.element,start:ue,stop:we,destroy:te})},mutate:(p,b)=>{p.mutate(b.left,b.top)}});const hv=(p,b={})=>{var k;const E=(k=b.mode)!==null&&k!==void 0?k:IO;return D2(p,E,b)},Xw=M2("ephox-snooker").resolve,AO=()=>{const p=Nr({drag:fr(["xDelta","yDelta"])});return{mutate:(k,E)=>{p.trigger.drag(k,E)},events:p.registry}},OO=()=>{const p=Nr({drag:fr(["xDelta","yDelta","target"])});let b=de.none();const k=AO();return k.events.drag.bind(F=>{b.each(q=>{p.trigger.drag(F.xDelta,F.yDelta,q)})}),{assign:F=>{b=de.some(F)},get:()=>b,mutate:k.mutate,events:p.registry}},bm=(p,b,k,E,P)=>{const F=Le.fromTag("div");return wi(F,{position:"absolute",left:b-E/2+"px",top:k+"px",height:P+"px",width:E+"px"}),Dc(F,{"data-column":p,role:"presentation"}),F},Jw=(p,b,k,E,P)=>{const F=Le.fromTag("div");return wi(F,{position:"absolute",left:b+"px",top:k-P/2+"px",height:P+"px",width:E+"px"}),Dc(F,{"data-row":p,role:"presentation"}),F},bC=Xw("resizer-bar"),Qw=Xw("resizer-rows"),vC=Xw("resizer-cols"),mv=7,DO=(p,b)=>Tt(p.all,(k,E)=>b(k.element)?[E]:[]),MO=(p,b)=>{const k=[];return Bn(p.grid.columns,E=>{go.getColumnAt(p,E).map(F=>F.element).forall(b)&&k.push(E)}),uo(k,E=>{const P=go.filterItems(p,F=>F.column===E);return re(P,F=>b(F.element))})},pv=p=>{const b=fa(p.parent(),"."+bC);it(b,Yr)},e_=(p,b,k)=>{const E=p.origin();it(b,P=>{P.each(F=>{const q=k(E,F);Du(q,bC),Gs(p.parent(),q)})})},PO=(p,b,k,E)=>{e_(p,b,(P,F)=>{const q=bm(F.col,F.x-P.left,k.top-P.top,mv,E);return Du(q,vC),q})},No=(p,b,k,E)=>{e_(p,b,(P,F)=>{const q=Jw(F.row,k.left-P.left,F.y-P.top,E,mv);return Du(q,Qw),q})},zO=(p,b,k,E,P)=>{const F=Kh(k),q=b.isResizable,te=E.length>0?ad.positions(E,k):[],ue=te.length>0?DO(p,q):[],we=uo(te,(Wt,wt)=>ot(ue,qt=>wt===qt));No(b,we,F,Gf(k));const ze=P.length>0?id.positions(P,k):[],It=ze.length>0?MO(p,q):[],Xt=uo(ze,(Wt,wt)=>ot(It,qt=>wt===qt));PO(b,Xt,F,z1(k))},vf=(p,b)=>{if(pv(p),p.isResizable(b)){const k=go.fromTable(b),E=H0(k),P=kg(k);zO(k,p,b,E,P)}},Mu=(p,b)=>{const k=fa(p.parent(),"."+bC);it(k,b)},t_=p=>{Mu(p,b=>{Ss(b,"display","none")})},Yl=p=>{Mu(p,b=>{Ss(b,"display","block")})},fy=p=>rC(p,Qw),hy=p=>rC(p,vC),Mp=Xw("resizer-bar-dragging"),gh=p=>{const b=OO(),k=hv(b,{});let E=de.none();const P=(wt,qt)=>de.from(xa(wt,qt));b.events.drag.bind(wt=>{P(wt.target,"data-row").each(qt=>{const bt=Ar(wt.target,"top");Ss(wt.target,"top",bt+wt.yDelta+"px")}),P(wt.target,"data-column").each(qt=>{const bt=Ar(wt.target,"left");Ss(wt.target,"left",bt+wt.xDelta+"px")})});const F=(wt,qt)=>{const bt=Ar(wt,qt),hn=_i(wt,"data-initial-"+qt,0);return bt-hn};k.events.stop.bind(()=>{b.get().each(wt=>{E.each(qt=>{P(wt,"data-row").each(bt=>{const hn=F(wt,"top");Zs(wt,"data-initial-top"),Wt.trigger.adjustHeight(qt,hn,parseInt(bt,10))}),P(wt,"data-column").each(bt=>{const hn=F(wt,"left");Zs(wt,"data-initial-left"),Wt.trigger.adjustWidth(qt,hn,parseInt(bt,10))}),vf(p,qt)})})});const q=(wt,qt)=>{Wt.trigger.startAdjust(),b.assign(wt),vr(wt,"data-initial-"+qt,Ar(wt,qt)),Du(wt,Mp),Ss(wt,"opacity","0.2"),k.go(p.parent())},te=fn(p.parent(),"mousedown",wt=>{fy(wt.target)&&q(wt.target,"top"),hy(wt.target)&&q(wt.target,"left")}),ue=wt=>_s(wt,p.view()),we=wt=>_r(wt,"table",ue).filter(jl),ze=fn(p.view(),"mouseover",wt=>{we(wt.target).fold(()=>{G(wt.target)&&pv(p)},qt=>{k.isActive()&&(E=de.some(qt),vf(p,qt))})}),It=()=>{te.unbind(),ze.unbind(),k.destroy(),pv(p)},Xt=wt=>{vf(p,wt)},Wt=Nr({adjustHeight:fr(["table","delta","row"]),adjustWidth:fr(["table","delta","column"]),startAdjust:fr([])});return{destroy:It,refresh:Xt,on:k.on,off:k.off,hideBars:Ze(t_,p),showBars:Ze(Yl,p),events:Wt.registry}},Pp={create:(p,b,k)=>{const E=ad,P=id,F=gh(p),q=Nr({beforeResize:fr(["table","type"]),afterResize:fr(["table","type"]),startDrag:fr([])});return F.events.adjustHeight.bind(te=>{const ue=te.table;q.trigger.beforeResize(ue,"row");const we=E.delta(te.delta,ue);ck(ue,we,te.row,E),q.trigger.afterResize(ue,"row")}),F.events.startAdjust.bind(te=>{q.trigger.startDrag()}),F.events.adjustWidth.bind(te=>{const ue=te.table;q.trigger.beforeResize(ue,"col");const we=P.delta(te.delta,ue),ze=k(ue);Db(ue,we,te.column,b,ze),q.trigger.afterResize(ue,"col")}),{on:F.on,off:F.off,refreshBars:F.refresh,hideBars:F.hideBars,showBars:F.showBars,destroy:F.destroy,events:q.registry}}},Kc={only:(p,b)=>{const k=zf(p)?wr(p):p;return{parent:ee(k),view:ee(p),origin:ee(Fc(0,0)),isResizable:b}},detached:(p,b,k)=>{const E=()=>Kh(b);return{parent:ee(b),view:ee(p),origin:E,isResizable:k}},body:(p,b,k)=>({parent:ee(b),view:ee(p),origin:ee(Fc(0,0)),isResizable:k})},zp=()=>{const p=Le.fromTag("div");return wi(p,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Gs(ae(),p),p},NO=(p,b)=>p.inline?Kc.body(Le.fromDom(p.getBody()),zp(),b):Kc.only(Le.fromDom(p.getDoc()),b),n_=(p,b)=>{p.inline&&Yr(b.parent())},Po=p=>le(p)&&p.nodeName==="TABLE",_C="bar-",P2=p=>xa(p,"data-mce-resize")!=="false",gv=p=>{const b=go.fromTable(p);go.hasColumns(b)||it(Xd(p),k=>{const E=Hf(k,"width");Ss(k,"width",E),Zs(k,"width")})},LO=p=>{const b=tv(),k=tv(),E=tv();let P,F;const q=wt=>bp(p,wt),te=()=>RE(p)?$g():zx(),ue=wt=>up(wt).columns,we=(wt,qt,bt)=>{const hn=ri(qt,"e");if(F===""&&dm(wt),bt!==P&&F!==""){Ss(wt,"width",F);const $n=te(),Qn=q(wt),Ts=RE(p)||hn?ue(wt)-1:0;Db(wt,bt-P,Ts,$n,Qn)}else if(ar(F)){const $n=parseFloat(F.replace("%","")),Qn=bt*$n/P;Ss(wt,"width",Qn+"%")}aA(F)&&gv(wt)},ze=()=>{k.on(wt=>{wt.destroy()}),E.on(wt=>{n_(p,wt)})};return p.on("init",()=>{const wt=NO(p,P2);if(E.set(wt),DA(p)&&IE(p)){const qt=te(),bt=Pp.create(wt,qt,q);bt.on(),bt.events.startDrag.bind(hn=>{b.set(p.selection.getRng())}),bt.events.beforeResize.bind(hn=>{const $n=hn.table.dom;AA(p,$n,Dg($n),xx($n),_C+hn.type)}),bt.events.afterResize.bind(hn=>{const $n=hn.table,Qn=$n.dom;jc($n),b.on(Ts=>{p.selection.setRng(Ts),p.focus()}),pw(p,Qn,Dg(Qn),xx(Qn),_C+hn.type),p.undoManager.add()}),k.set(bt)}}),p.on("ObjectResizeStart",wt=>{const qt=wt.target;if(Po(qt)){const bt=Le.fromDom(qt);it(p.dom.select(".mce-clonedresizable"),hn=>{p.dom.addClass(hn,"mce-"+yw(p)+"-columns")}),!ww(bt)&&gd(p)?Tk(bt):!gf(bt)&&qg(p)&&dm(bt),$E(bt)&&Vf(wt.origin,_C)&&dm(bt),P=wt.width,F=ns(p)?"":rA(p,qt).getOr("")}}),p.on("ObjectResized",wt=>{const qt=wt.target;if(Po(qt)){const bt=Le.fromDom(qt),hn=wt.origin;Vf(hn,"corner-")&&we(bt,hn,wt.width),jc(bt),um(p,bt.dom,$b)}}),p.on("SwitchMode",()=>{k.on(wt=>{p.mode.isReadOnly()?wt.hideBars():wt.showBars()})}),p.on("dragstart dragend",wt=>{k.on(qt=>{wt.type==="dragstart"?(qt.hideBars(),qt.off()):(qt.on(),qt.showBars())})}),p.on("remove",()=>{ze()}),{refresh:wt=>{k.on(qt=>qt.refreshBars(Le.fromDom(wt)))},hide:()=>{k.on(wt=>wt.hideBars())},show:()=>{k.on(wt=>wt.showBars())}}},my=p=>{OA(p);const b=LO(p),k=I2(p,b),E=MA(p,b,k);return XA(p,E),QE(p,E),Zi(p,E),{getSelectedCells:k.getSelectedCells,clearSelectedCells:k.clearSelectedCells}},Np=p=>({table:my(p)});var kC=()=>{t.add("dom",Np)};kC()})();(function(){const t=Object.getPrototypeOf,n=(o,i,c)=>{var m;return c(o,i.prototype)?!0:((m=o.constructor)===null||m===void 0?void 0:m.name)===i.name},r=o=>{const i=typeof o;return o===null?"null":i==="object"&&Array.isArray(o)?"array":i==="object"&&n(o,String,(c,m)=>m.isPrototypeOf(c))?"string":i},u=o=>i=>r(i)===o,f=o=>i=>typeof i===o,d=o=>i=>o===i,w=(o,i)=>T(o)&&n(o,i,(c,m)=>t(c)===m),x=u("string"),T=u("object"),A=o=>w(o,Object),$=u("array"),B=d(null),H=f("boolean"),le=d(void 0),ke=o=>o==null,Ne=o=>!ke(o),Se=f("function"),je=f("number"),gt=(o,i)=>{if($(o)){for(let c=0,m=o.length;c<m;++c)if(!i(o[c]))return!1;return!0}return!1},ee=()=>{},ht=o=>()=>o(),He=(o,i)=>(...c)=>o(i.apply(null,c)),Ze=(o,i)=>c=>o(i(c)),J=o=>()=>o,Te=o=>o,st=(o,i)=>o===i;function _t(o,...i){return(...c)=>{const m=i.concat(c);return o.apply(null,m)}}const Ue=o=>i=>!o(i),de=o=>()=>{throw new Error(o)},Tn=o=>o(),nn=J(!1),Ot=J(!0);class L{constructor(i,c){this.tag=i,this.value=c}static some(i){return new L(!0,i)}static none(){return L.singletonNone}fold(i,c){return this.tag?c(this.value):i()}isSome(){return this.tag}isNone(){return!this.tag}map(i){return this.tag?L.some(i(this.value)):L.none()}bind(i){return this.tag?i(this.value):L.none()}exists(i){return this.tag&&i(this.value)}forall(i){return!this.tag||i(this.value)}filter(i){return!this.tag||i(this.value)?this:L.none()}getOr(i){return this.tag?this.value:i}or(i){return this.tag?this:i}getOrThunk(i){return this.tag?this.value:i()}orThunk(i){return this.tag?this:i()}getOrDie(i){if(this.tag)return this.value;throw new Error(i!=null?i:"Called getOrDie on None")}static from(i){return Ne(i)?L.some(i):L.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(i){this.tag&&i(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}L.singletonNone=new L(!1);const Ht=Array.prototype.slice,ot=Array.prototype.indexOf,Bn=Array.prototype.push,cn=(o,i)=>ot.call(o,i),it=(o,i)=>{const c=cn(o,i);return c===-1?L.none():L.some(c)},Gn=(o,i)=>cn(o,i)>-1,io=(o,i)=>{for(let c=0,m=o.length;c<m;c++){const y=o[c];if(i(y,c))return!0}return!1},uo=(o,i)=>{const c=[];for(let m=0;m<o;m++)c.push(i(m));return c},Et=(o,i)=>{const c=[];for(let m=0;m<o.length;m+=i){const y=Ht.call(o,m,m+i);c.push(y)}return c},Ee=(o,i)=>{const c=o.length,m=new Array(c);for(let y=0;y<c;y++){const _=o[y];m[y]=i(_,y)}return m},me=(o,i)=>{for(let c=0,m=o.length;c<m;c++){const y=o[c];i(y,c)}},j=(o,i)=>{for(let c=o.length-1;c>=0;c--){const m=o[c];i(m,c)}},lt=(o,i)=>{const c=[],m=[];for(let y=0,_=o.length;y<_;y++){const C=o[y];(i(C,y)?c:m).push(C)}return{pass:c,fail:m}},Je=(o,i)=>{const c=[];for(let m=0,y=o.length;m<y;m++){const _=o[m];i(_,m)&&c.push(_)}return c},Tt=(o,i,c)=>(j(o,(m,y)=>{c=i(c,m,y)}),c),re=(o,i,c)=>(me(o,(m,y)=>{c=i(c,m,y)}),c),Re=(o,i,c)=>{for(let m=0,y=o.length;m<y;m++){const _=o[m];if(i(_,m))return L.some(_);if(c(_,m))break}return L.none()},Oe=(o,i)=>Re(o,i,nn),yt=(o,i)=>{for(let c=0,m=o.length;c<m;c++){const y=o[c];if(i(y,c))return L.some(c)}return L.none()},Ye=o=>{const i=[];for(let c=0,m=o.length;c<m;++c){if(!$(o[c]))throw new Error("Arr.flatten item "+c+" was not an array, input: "+o);Bn.apply(i,o[c])}return i},ce=(o,i)=>Ye(Ee(o,i)),Fe=(o,i)=>{for(let c=0,m=o.length;c<m;++c){const y=o[c];if(i(y,c)!==!0)return!1}return!0},et=o=>{const i=Ht.call(o,0);return i.reverse(),i},$e=(o,i)=>Je(o,c=>!Gn(i,c)),oe=(o,i)=>{const c={};for(let m=0,y=o.length;m<y;m++){const _=o[m];c[String(_)]=i(_,m)}return c},be=o=>[o],Xe=(o,i)=>{const c=Ht.call(o,0);return c.sort(i),c},ut=(o,i)=>i>=0&&i<o.length?L.some(o[i]):L.none(),zt=o=>ut(o,0),Dt=o=>ut(o,o.length-1),Vt=Se(Array.from)?Array.from:o=>Ht.call(o),an=(o,i)=>{for(let c=0;c<o.length;c++){const m=i(o[c],c);if(m.isSome())return m}return L.none()},_n=Object.keys,jn=Object.hasOwnProperty,lo=(o,i)=>{const c=_n(o);for(let m=0,y=c.length;m<y;m++){const _=c[m],C=o[_];i(C,_)}},mo=(o,i)=>Ao(o,(c,m)=>({k:m,v:i(c,m)})),Ao=(o,i)=>{const c={};return lo(o,(m,y)=>{const _=i(m,y);c[_.k]=_.v}),c},ks=o=>(i,c)=>{o[c]=i},jo=(o,i,c,m)=>{lo(o,(y,_)=>{(i(y,_)?c:m)(y,_)})},zs=(o,i)=>{const c={},m={};return jo(o,i,ks(c),ks(m)),{t:c,f:m}},Dl=(o,i)=>{const c={};return jo(o,i,ks(c),ee),c},Oi=(o,i)=>{const c=[];return lo(o,(m,y)=>{c.push(i(m,y))}),c},Fr=(o,i)=>{const c=_n(o);for(let m=0,y=c.length;m<y;m++){const _=c[m],C=o[_];if(i(C,_,o))return L.some(C)}return L.none()},pi=o=>Oi(o,Te),Gt=(o,i)=>Mo(o,i)?L.from(o[i]):L.none(),Mo=(o,i)=>jn.call(o,i),el=(o,i)=>Mo(o,i)&&o[i]!==void 0&&o[i]!==null,ca=(o,i,c=st)=>o.exists(m=>c(m,i)),Yu=(o,i,c=st)=>ac(o,i,c).getOr(o.isNone()&&i.isNone()),fu=o=>{const i=[],c=m=>{i.push(m)};for(let m=0;m<o.length;m++)o[m].each(c);return i},ws=o=>{const i=[];for(let c=0;c<o.length;c++){const m=o[c];if(m.isSome())i.push(m.getOrDie());else return L.none()}return L.some(i)},ac=(o,i,c)=>o.isSome()&&i.isSome()?L.some(c(o.getOrDie(),i.getOrDie())):L.none(),Xu=(o,i,c,m)=>o.isSome()&&i.isSome()&&c.isSome()?L.some(m(o.getOrDie(),i.getOrDie(),c.getOrDie())):L.none(),fs=(o,i)=>o!=null?L.some(i(o)):L.none(),Fn=(o,i)=>o?L.some(i):L.none(),si=(o,i)=>o+i,Oc=(o,i)=>o.substring(i),zf=(o,i,c)=>i===""||o.length>=i.length&&o.substr(c,c+i.length)===i,hu=(o,i)=>vr(o,i)?Oc(o,i.length):o,gi=(o,i)=>Dc(o,i)?o:si(o,i),ua=(o,i,c=0,m)=>{const y=o.indexOf(i,c);return y!==-1?le(m)?!0:y+i.length<=m:!1},vr=(o,i)=>zf(o,i,0),Dc=(o,i)=>zf(o,i,o.length-i.length),xa=(o=>i=>i.replace(o,""))(/^\s+|\s+$/g),Di=o=>o.length>0,Zs=o=>!Di(o),Wa=o=>o.style!==void 0&&Se(o.style.getPropertyValue),ic=(o,i)=>{const m=(i||document).createElement("div");if(m.innerHTML=o,!m.hasChildNodes()||m.childNodes.length>1){const y="HTML does not have a single root node";throw console.error(y,o),new Error(y)}return yi(m.childNodes[0])},Nf=(o,i)=>{const m=(i||document).createElement(o);return yi(m)},zh=(o,i)=>{const m=(i||document).createTextNode(o);return yi(m)},yi=o=>{if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},Le={fromHtml:ic,fromTag:Nf,fromText:zh,fromDom:yi,fromPoint:(o,i,c)=>L.from(o.dom.elementFromPoint(i,c)).map(yi)},Ea=typeof window<"u"?window:Function("return this;")(),Zd=(o,i)=>{let c=i!=null?i:Ea;for(let m=0;m<o.length&&c!==void 0&&c!==null;++m)c=c[o[m]];return c},dg=(o,i)=>{const c=o.split(".");return Zd(c,i)},$m=(o,i)=>dg(o,i),_s=(o,i)=>{const c=$m(o,i);if(c==null)throw new Error(o+" not available on this browser");return c},fg=Object.getPrototypeOf,Nh=o=>_s("HTMLElement",o),Ju=o=>{const i=dg("ownerDocument.defaultView",o);return T(o)&&(Nh(i).prototype.isPrototypeOf(o)||/^HTML\w*Element$/.test(fg(o).constructor.name))},bi=9,wr=11,Rr=1,mu=3,tl=o=>o.dom.nodeName.toLowerCase(),Mc=o=>o.dom.nodeType,Qu=o=>i=>Mc(i)===o,ed=o=>Jo(o)&&Ju(o.dom),Jo=Qu(Rr),nl=Qu(mu),Gd=Qu(bi),Pc=Qu(wr),yl=o=>i=>Jo(i)&&tl(i)===o,Mi=(o,i)=>{const c=o.dom;if(c.nodeType!==Rr)return!1;{const m=c;if(m.matches!==void 0)return m.matches(i);if(m.msMatchesSelector!==void 0)return m.msMatchesSelector(i);if(m.webkitMatchesSelector!==void 0)return m.webkitMatchesSelector(i);if(m.mozMatchesSelector!==void 0)return m.mozMatchesSelector(i);throw new Error("Browser lacks native selectors")}},Gs=o=>o.nodeType!==Rr&&o.nodeType!==bi&&o.nodeType!==wr||o.childElementCount===0,Jy=(o,i)=>{const c=i===void 0?document:i.dom;return Gs(c)?[]:Ee(c.querySelectorAll(o),Le.fromDom)},Vm=(o,i)=>{const c=i===void 0?document:i.dom;return Gs(c)?L.none():L.from(c.querySelector(o)).map(Le.fromDom)},ls=(o,i)=>o.dom===i.dom,ol=(o,i)=>{const c=o.dom,m=i.dom;return c===m?!1:c.contains(m)},Pi=o=>Le.fromDom(o.dom.ownerDocument),Yr=o=>Gd(o)?o:Pi(o),Lf=o=>Le.fromDom(Yr(o).dom.documentElement),td=o=>Le.fromDom(Yr(o).dom.defaultView),bl=o=>L.from(o.dom.parentNode).map(Le.fromDom),Ml=o=>L.from(o.dom.parentElement).map(Le.fromDom),Hm=(o,i)=>{const c=Se(i)?i:nn;let m=o.dom;const y=[];for(;m.parentNode!==null&&m.parentNode!==void 0;){const _=m.parentNode,C=Le.fromDom(_);if(y.push(C),c(C)===!0)break;m=_}return y},Lh=o=>L.from(o.dom.offsetParent).map(Le.fromDom),hg=o=>L.from(o.dom.nextSibling).map(Le.fromDom),zi=o=>Ee(o.dom.childNodes,Le.fromDom),pu=(o,i)=>{const c=o.dom.childNodes;return L.from(c[i]).map(Le.fromDom)},Bf=o=>pu(o,0),Um=(o,i)=>({element:o,offset:i}),Bh=(o,i)=>{const c=zi(o);return c.length>0&&i<c.length?Um(c[i],0):Um(o,i)},Fh=o=>Pc(o)&&Ne(o.dom.host),jm=Se(Element.prototype.attachShadow)&&Se(Node.prototype.getRootNode),Ff=J(jm),$r=jm?o=>Le.fromDom(o.dom.getRootNode()):Yr,Za=o=>Fh(o)?o:Le.fromDom(Yr(o).dom.body),zc=o=>Wm(o).isSome(),Wm=o=>{const i=$r(o);return Fh(i)?L.some(i):L.none()},mg=o=>Le.fromDom(o.dom.host),gu=o=>{if(Ff()&&Ne(o.target)){const i=Le.fromDom(o.target);if(Jo(i)&&Qy(i)&&o.composed&&o.composedPath){const c=o.composedPath();if(c)return zt(c)}}return L.from(o.target)},Qy=o=>Ne(o.dom.shadowRoot),Ga=o=>{const i=nl(o)?o.dom.parentNode:o.dom;if(i==null||i.ownerDocument===null)return!1;const c=i.ownerDocument;return Wm(Le.fromDom(i)).fold(()=>c.body.contains(i),Ze(Ga,mg))},Xr=()=>lc(Le.fromDom(document)),lc=o=>{const i=o.dom.body;if(i==null)throw new Error("Body is not available yet");return Le.fromDom(i)},Pl=(o,i,c)=>{if(x(c)||H(c)||je(c))o.setAttribute(i,c+"");else throw console.error("Invalid call to Attribute.set. Key ",i,":: Value ",c,":: Element ",o),new Error("Attribute value was not simple")},Jn=(o,i,c)=>{Pl(o.dom,i,c)},Fo=(o,i)=>{const c=o.dom;lo(i,(m,y)=>{Pl(c,y,m)})},da=(o,i)=>{const c=o.dom.getAttribute(i);return c===null?void 0:c},G=(o,i)=>L.from(da(o,i)),ae=(o,i)=>{const c=o.dom;return c&&c.hasAttribute?c.hasAttribute(i):!1},ge=(o,i)=>{o.dom.removeAttribute(i)},Qe=o=>re(o.dom.attributes,(i,c)=>(i[c.name]=c.value,i),{}),en=(o,i,c)=>{if(!x(c))throw console.error("Invalid call to CSS.set. Property ",i,":: Value ",c,":: Element ",o),new Error("CSS value must be a string: "+c);Wa(o)&&o.style.setProperty(i,c)},co=(o,i)=>{Wa(o)&&o.style.removeProperty(i)},un=(o,i,c)=>{const m=o.dom;en(m,i,c)},Ir=(o,i)=>{const c=o.dom;lo(i,(m,y)=>{en(c,y,m)})},fa=(o,i)=>{const c=o.dom;lo(i,(m,y)=>{m.fold(()=>{co(c,y)},_=>{en(c,y,_)})})},xt=(o,i)=>{const c=o.dom,y=window.getComputedStyle(c).getPropertyValue(i);return y===""&&!Ga(o)?Vr(c,i):y},Vr=(o,i)=>Wa(o)?o.style.getPropertyValue(i):"",er=(o,i)=>{const c=o.dom,m=Vr(c,i);return L.from(m).filter(y=>y.length>0)},ha=o=>{const i={},c=o.dom;if(Wa(c))for(let m=0;m<c.style.length;m++){const y=c.style.item(m);i[y]=c.style[y]}return i},pg=(o,i,c)=>{const m=Le.fromTag(o);return un(m,i,c),er(m,i).isSome()},Ro=(o,i)=>{const c=o.dom;co(c,i),ca(G(o,"style").map(xa),"")&&ge(o,"style")},yu=o=>o.dom.offsetWidth,Ni=(o,i)=>{const c=(R,M)=>{if(!je(M)&&!M.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+M);const N=R.dom;Wa(N)&&(N.style[o]=M+"px")},m=R=>{const M=i(R);if(M<=0||M===null){const N=xt(R,o);return parseFloat(N)||0}return M},y=m,_=(R,M)=>re(M,(N,V)=>{const Z=xt(R,V),K=Z===void 0?0:parseInt(Z,10);return isNaN(K)?N:N+K},0);return{set:c,get:m,getOuter:y,aggregate:_,max:(R,M,N)=>{const V=_(R,N);return M>V?M-V:0}}},_r=Ni("height",o=>{const i=o.dom;return Ga(o)?i.getBoundingClientRect().height:i.offsetHeight}),Hr=o=>_r.get(o),$f=o=>_r.getOuter(o),Sx=(o,i)=>{const c=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],m=_r.max(o,i,c);un(o,"max-height",m+"px")},eb=(o,i)=>({left:o,top:i,translate:(m,y)=>eb(o+m,i+y)}),qs=eb,Ur=o=>{const i=o.getBoundingClientRect();return qs(i.left,i.top)},Vf=(o,i)=>o!==void 0?o:i!==void 0?i:0,ri=o=>{const i=o.dom.ownerDocument,c=i.body,m=i.defaultView,y=i.documentElement;if(c===o.dom)return qs(c.offsetLeft,c.offsetTop);const _=Vf(m==null?void 0:m.pageYOffset,y.scrollTop),C=Vf(m==null?void 0:m.pageXOffset,y.scrollLeft),R=Vf(y.clientTop,c.clientTop),M=Vf(y.clientLeft,c.clientLeft);return qd(o).translate(C-M,_-R)},qd=o=>{const i=o.dom,m=i.ownerDocument.body;return m===i?qs(m.offsetLeft,m.offsetTop):Ga(o)?Ur(i):qs(0,0)},Zm=Ni("width",o=>o.dom.offsetWidth),Cs=(o,i)=>Zm.set(o,i),vi=o=>Zm.get(o),ai=o=>Zm.getOuter(o),C1=(o,i)=>{const c=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],m=Zm.max(o,i,c);un(o,"max-width",m+"px")},Kd=o=>{let i=!1,c;return(...m)=>(i||(i=!0,c=o.apply(null,m)),c)},Ss=(o,i,c,m)=>{const y=o.isiOS()&&/ipad/i.test(c)===!0,_=o.isiOS()&&!y,C=o.isiOS()||o.isAndroid(),R=C||m("(pointer:coarse)"),M=y||!_&&C&&m("(min-device-width:768px)"),N=_||C&&!M,V=i.isSafari()&&o.isiOS()&&/safari/i.test(c)===!1,Z=!N&&!M&&!V;return{isiPad:J(y),isiPhone:J(_),isTablet:J(M),isPhone:J(N),isTouch:J(R),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:J(V),isDesktop:J(Z)}},wi=(o,i)=>{for(let c=0;c<o.length;c++){const m=o[c];if(m.test(i))return m}},Hf=(o,i)=>{const c=wi(o,i);if(!c)return{major:0,minor:0};const m=y=>Number(i.replace(c,"$"+y));return Nc(m(1),m(2))},S1=(o,i)=>{const c=String(i).toLowerCase();return o.length===0?$h():Hf(o,c)},$h=()=>Nc(0,0),Nc=(o,i)=>({major:o,minor:i}),kr={nu:Nc,detect:S1,unknown:$h},_i=(o,i)=>an(i.brands,c=>{const m=c.brand.toLowerCase();return Oe(o,y=>{var _;return m===((_=y.brand)===null||_===void 0?void 0:_.toLowerCase())}).map(y=>({current:y.name,version:kr.nu(parseInt(c.version,10),0)}))}),Li=(o,i)=>{const c=String(i).toLowerCase();return Oe(o,m=>m.search(c))},Lc=(o,i)=>Li(o,i).map(c=>{const m=kr.detect(c.versionRegexes,i);return{current:c.name,version:m}}),qa=(o,i)=>Li(o,i).map(c=>{const m=kr.detect(c.versionRegexes,i);return{current:c.name,version:m}}),Ar=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,vl=o=>i=>ua(i,o),Gm=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:o=>ua(o,"edge/")&&ua(o,"chrome")&&ua(o,"safari")&&ua(o,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ar],search:o=>ua(o,"chrome")&&!ua(o,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:o=>ua(o,"msie")||ua(o,"trident")},{name:"Opera",versionRegexes:[Ar,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:vl("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:vl("firefox")},{name:"Safari",versionRegexes:[Ar,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:o=>(ua(o,"safari")||ua(o,"mobile/"))&&ua(o,"applewebkit")}],Yd=[{name:"Windows",search:vl("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:o=>ua(o,"iphone")||ua(o,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:vl("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:vl("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:vl("linux"),versionRegexes:[]},{name:"Solaris",search:vl("sunos"),versionRegexes:[]},{name:"FreeBSD",search:vl("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:vl("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Vh={browsers:J(Gm),oses:J(Yd)},gg="Edge",zl="Chromium",Xd="IE",qm="Opera",Or="Firefox",Km="Safari",Uf=()=>Hh({current:void 0,version:kr.unknown()}),Hh=o=>{const i=o.current,c=o.version,m=y=>()=>i===y;return{current:i,version:c,isEdge:m(gg),isChromium:m(zl),isIE:m(Xd),isOpera:m(qm),isFirefox:m(Or),isSafari:m(Km)}},Uh={unknown:Uf,nu:Hh,edge:J(gg),chromium:J(zl),ie:J(Xd),opera:J(qm),firefox:J(Or),safari:J(Km)},yg="Windows",Ym="iOS",jf="Android",tb="Linux",nb="macOS",Wf="Solaris",L0="FreeBSD",ve="ChromeOS",bg=()=>Bi({current:void 0,version:kr.unknown()}),Bi=o=>{const i=o.current,c=o.version,m=y=>()=>i===y;return{current:i,version:c,isWindows:m(yg),isiOS:m(Ym),isAndroid:m(jf),isMacOS:m(nb),isLinux:m(tb),isSolaris:m(Wf),isFreeBSD:m(L0),isChromeOS:m(ve)}},ob={unknown:bg,nu:Bi,windows:J(yg),ios:J(Ym),android:J(jf),linux:J(tb),macos:J(nb),solaris:J(Wf),freebsd:J(L0),chromeos:J(ve)},F0={detect:(o,i,c)=>{const m=Vh.browsers(),y=Vh.oses(),_=i.bind(M=>_i(m,M)).orThunk(()=>Lc(m,o)).fold(Uh.unknown,Uh.nu),C=qa(y,o).fold(ob.unknown,ob.nu),R=Ss(C,_,o,c);return{browser:_,os:C,deviceType:R}}},Xo=o=>window.matchMedia(o).matches;let cc=Kd(()=>F0.detect(navigator.userAgent,L.from(navigator.userAgentData),Xo));const ki=()=>cc(),Nl=(o,i,c,m,y,_,C)=>({target:o,x:i,y:c,stop:m,prevent:y,kill:_,raw:C}),x1=o=>{const i=Le.fromDom(gu(o).getOr(o.target)),c=()=>o.stopPropagation(),m=()=>o.preventDefault(),y=He(m,c);return Nl(i,o.clientX,o.clientY,c,m,y,o)},Zf=(o,i)=>c=>{o(c)&&i(x1(c))},Ll=(o,i,c,m,y)=>{const _=Zf(c,m);return o.dom.addEventListener(i,_,y),{unbind:_t($0,o,i,_,y)}},Xm=(o,i,c,m)=>Ll(o,i,c,m,!1),sb=(o,i,c,m)=>Ll(o,i,c,m,!0),$0=(o,i,c,m)=>{o.dom.removeEventListener(i,c,m)},Bl=(o,i)=>{bl(o).each(m=>{m.dom.insertBefore(i.dom,o.dom)})},jh=(o,i)=>{hg(o).fold(()=>{bl(o).each(y=>{wl(y,i)})},m=>{Bl(m,i)})},E1=(o,i)=>{Bf(o).fold(()=>{wl(o,i)},m=>{o.dom.insertBefore(i.dom,m.dom)})},wl=(o,i)=>{o.dom.appendChild(i.dom)},Ta=(o,i,c)=>{pu(o,c).fold(()=>{wl(o,i)},m=>{Bl(m,i)})},Wh=(o,i)=>{me(i,c=>{wl(o,c)})},Zh=o=>{o.dom.textContent="",me(zi(o),i=>{uc(i)})},uc=o=>{const i=o.dom;i.parentNode!==null&&i.parentNode.removeChild(i)},_l=o=>{const i=o!==void 0?o.dom:document,c=i.body.scrollLeft||i.documentElement.scrollLeft,m=i.body.scrollTop||i.documentElement.scrollTop;return qs(c,m)},rb=(o,i,c)=>{const y=(c!==void 0?c.dom:document).defaultView;y&&y.scrollTo(o,i)},vg=o=>{const i=o===void 0?window:o;return ki().browser.isFirefox()?L.none():L.from(i.visualViewport)},wg=(o,i,c,m)=>({x:o,y:i,width:c,height:m,right:o+c,bottom:i+m}),ab=o=>{const i=o===void 0?window:o,c=i.document,m=_l(Le.fromDom(c));return vg(i).fold(()=>{const y=i.document.documentElement,_=y.clientWidth,C=y.clientHeight;return wg(m.left,m.top,_,C)},y=>wg(Math.max(y.pageLeft,m.left),Math.max(y.pageTop,m.top),y.width,y.height))},bu=()=>Le.fromDom(document),Jm=(o,i)=>o.view(i).fold(J([]),m=>{const y=o.owner(m),_=Jm(o,y);return[m].concat(_)}),T1=(o,i)=>{const c=i.owner(o),m=Jm(i,c);return L.some(m)};var _g=Object.freeze({__proto__:null,view:o=>{var i;return(o.dom===document?L.none():L.from((i=o.dom.defaultView)===null||i===void 0?void 0:i.frameElement)).map(Le.fromDom)},owner:o=>Pi(o)});const ib=o=>{const i=bu(),c=_l(i);return T1(o,_g).fold(_t(ri,o),y=>{const _=qd(o),C=Tt(y,(R,M)=>{const N=qd(M);return{left:R.left+N.left,top:R.top+N.top}},{left:0,top:0});return qs(C.left+_.left+c.left,C.top+_.top+c.top)})},nd=(o,i,c)=>({point:o,width:i,height:c}),lb=(o,i,c,m)=>({x:o,y:i,width:c,height:m}),Ns=(o,i,c,m)=>({x:o,y:i,width:c,height:m,right:o+c,bottom:i+m}),tr=o=>{const i=ri(o),c=ai(o),m=$f(o);return Ns(i.left,i.top,c,m)},od=o=>{const i=ib(o),c=ai(o),m=$f(o);return Ns(i.left,i.top,c,m)},I1=(o,i)=>{const c=Math.max(o.x,i.x),m=Math.max(o.y,i.y),y=Math.min(o.right,i.right),_=Math.min(o.bottom,i.bottom),C=y-c,R=_-m;return Ns(c,m,C,R)},A1=(o,i)=>re(i,(c,m)=>I1(c,m),o),Ra=()=>ab(window);var Gh=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Bc=o=>{const i=_=>_(o),c=J(o),m=()=>y,y={tag:!0,inner:o,fold:(_,C)=>C(o),isValue:Ot,isError:nn,map:_=>to.value(_(o)),mapError:m,bind:i,exists:i,forall:i,getOr:c,or:m,getOrThunk:c,orThunk:m,getOrDie:c,each:_=>{_(o)},toOptional:()=>L.some(o)};return y},vu=o=>{const i=()=>c,c={tag:!1,inner:o,fold:(m,y)=>m(o),isValue:nn,isError:Ot,map:i,mapError:m=>to.error(m(o)),bind:i,exists:nn,forall:Ot,getOr:Te,or:Te,getOrThunk:Tn,orThunk:Tn,getOrDie:de(String(o)),each:ee,toOptional:L.none};return c},to={value:Bc,error:vu,fromOption:(o,i)=>o.fold(()=>vu(i),Bc)};var Ci;(function(o){o[o.Error=0]="Error",o[o.Value=1]="Value"})(Ci||(Ci={}));const qh=(o,i,c)=>o.stype===Ci.Error?i(o.serror):c(o.svalue),O1=o=>{const i=[],c=[];return me(o,m=>{qh(m,y=>c.push(y),y=>i.push(y))}),{values:i,errors:c}},qf=(o,i)=>o.stype===Ci.Error?{stype:Ci.Error,serror:i(o.serror)}:o,Qm=(o,i)=>o.stype===Ci.Value?{stype:Ci.Value,svalue:i(o.svalue)}:o,dc=(o,i)=>o.stype===Ci.Value?i(o.svalue):o,sl=(o,i)=>o.stype===Ci.Error?i(o.serror):o,ii=o=>({stype:Ci.Value,svalue:o}),kl=o=>({stype:Ci.Error,serror:o}),Go={fromResult:o=>o.fold(kl,ii),toResult:o=>qh(o,to.error,to.value),svalue:ii,partition:O1,serror:kl,bind:dc,bindError:sl,map:Qm,mapError:qf,fold:qh},sd=(o,i,c,m)=>({tag:"field",key:o,newKey:i,presence:c,prop:m}),Jd=(o,i)=>({tag:"custom",newKey:o,instantiator:i}),nr=(o,i,c)=>{switch(o.tag){case"field":return i(o.key,o.newKey,o.presence,o.prop);case"custom":return c(o.newKey,o.instantiator)}},M1=(o,i)=>i,V0=(o,i)=>A(o)&&A(i)?hs(o,i):i,rd=o=>(...i)=>{if(i.length===0)throw new Error("Can't merge zero objects");const c={};for(let m=0;m<i.length;m++){const y=i[m];for(const _ in y)Mo(y,_)&&(c[_]=o(c[_],y[_]))}return c},hs=rd(V0),ps=rd(M1),Dr=()=>({tag:"required",process:{}}),Qd=o=>({tag:"defaultedThunk",process:o}),ef=o=>Qd(J(o)),Kf=()=>({tag:"option",process:{}}),tf=o=>({tag:"mergeWithThunk",process:o}),go=o=>tf(J(o)),kg=(o,i)=>o.length>0?Go.svalue(hs(i,ps.apply(void 0,o))):Go.svalue(i),cb=o=>He(Go.serror,Ye)(o),ep={consolidateObj:(o,i)=>{const c=Go.partition(o);return c.errors.length>0?cb(c.errors):kg(c.values,i)},consolidateArr:o=>{const i=Go.partition(o);return i.errors.length>0?cb(i.errors):Go.svalue(i.values)}},P1=o=>T(o)&&_n(o).length>100?" removed due to size":JSON.stringify(o,null,2),tp=o=>{const i=o.length>10?o.slice(0,10).concat([{path:[],getErrorInfo:J("... (only showing first ten failures)")}]):o;return Ee(i,c=>"Failed path: ("+c.path.join(" > ")+`)
`+c.getErrorInfo())},fc=(o,i)=>Go.serror([{path:o,getErrorInfo:i}]),z1=(o,i,c)=>fc(o,()=>'Could not find valid *required* value for "'+i+'" in '+P1(c)),Cg=(o,i)=>fc(o,()=>'Choice schema did not contain choice key: "'+i+'"'),N1=(o,i,c)=>fc(o,()=>'The chosen schema: "'+c+'" did not exist in branches: '+P1(i)),Fc=(o,i)=>fc(o,()=>"There are unsupported fields: ["+i.join(", ")+"] specified"),ub=(o,i)=>fc(o,J(i)),$c=o=>{const i=(m,y)=>Go.bindError(o(y),_=>ub(m,_)),c=J("val");return{extract:i,toString:c}},Kh=$c(Go.svalue),L1=(o,i,c,m)=>Gt(i,c).fold(()=>z1(o,c,i),m),Sg=(o,i,c,m)=>{const y=Gt(o,i).getOrThunk(()=>c(o));return m(y)},db=(o,i,c)=>c(Gt(o,i)),fb=(o,i,c,m)=>{const y=Gt(o,i).map(_=>_===!0?c(o):_);return m(y)},Ia=(o,i,c,m,y)=>{const _=R=>y.extract(i.concat([m]),R),C=R=>R.fold(()=>Go.svalue(L.none()),M=>{const N=y.extract(i.concat([m]),M);return Go.map(N,L.some)});switch(o.tag){case"required":return L1(i,c,m,_);case"defaultedThunk":return Sg(c,m,o.process,_);case"option":return db(c,m,C);case"defaultedOptionThunk":return fb(c,m,o.process,C);case"mergeWithThunk":return Sg(c,m,J({}),R=>{const M=hs(o.process(c),R);return _(M)})}},hb=(o,i,c)=>{const m={},y=[];for(const _ of c)nr(_,(C,R,M,N)=>{const V=Ia(M,o,i,C,N);Go.fold(V,Z=>{y.push(...Z)},Z=>{m[R]=Z})},(C,R)=>{m[C]=R(i)});return y.length>0?Go.serror(y):Go.svalue(m)},Mr=o=>({extract:(m,y)=>o().extract(m,y),toString:()=>o().toString()}),nf=o=>_n(Dl(o,Ne)),Fi=o=>{const i=mt(o),c=Tt(o,(y,_)=>nr(_,C=>hs(y,{[C]:!0}),J(y)),{});return{extract:(y,_)=>{const C=H(_)?[]:nf(_),R=Je(C,M=>!el(c,M));return R.length===0?i.extract(y,_):Fc(y,R)},toString:i.toString}},mt=o=>({extract:(m,y)=>hb(m,y,o),toString:()=>`obj{
`+Ee(o,y=>nr(y,(_,C,R,M)=>_+" -> "+M.toString(),(_,C)=>"state("+_+")")).join(`
`)+"}"}),Vc=o=>({extract:(m,y)=>{const _=Ee(y,(C,R)=>o.extract(m.concat(["["+R+"]"]),C));return ep.consolidateArr(_)},toString:()=>"array("+o.toString()+")"}),Fl=(o,i)=>{const c=i!==void 0?i:Te;return{extract:(_,C)=>{const R=[];for(const M of o){const N=M.extract(_,C);if(N.stype===Ci.Value)return{stype:Ci.Value,svalue:c(N.svalue)};R.push(N)}return ep.consolidateArr(R)},toString:()=>"oneOf("+Ee(o,_=>_.toString()).join(", ")+")"}},ad=(o,i)=>{const c=(_,C)=>Vc($c(o)).extract(_,C);return{extract:(_,C)=>{const R=_n(C),M=c(_,R);return Go.bind(M,N=>{const V=Ee(N,Z=>sd(Z,Z,Dr(),i));return mt(V).extract(_,C)})},toString:()=>"setOf("+i.toString()+")"}},mb=(o,i)=>{const c=Kd(i);return{extract:(_,C)=>c().extract(_,C),toString:()=>c().toString()}},pb=He(Vc,mt),Aa=J(Kh),id=(o,i)=>$c(c=>{const m=typeof c;return o(c)?Go.svalue(c):Go.serror(`Expected type: ${i} but got: ${m}`)}),hc=id(je,"number"),pa=id(x,"string"),Yf=id(H,"boolean"),Pt=id(Se,"function"),gb=o=>{if(Object(o)!==o)return!0;switch({}.toString.call(o).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(o).every(i=>gb(o[i]));default:return!1}},j0=$c(o=>gb(o)?Go.svalue(o):Go.serror("Expected value to be acceptable for sending via postMessage")),ld=(o,i,c,m)=>Gt(c,m).fold(()=>N1(o,c,m),_=>_.extract(o.concat(["branch: "+m]),i)),Hc=(o,i)=>({extract:(y,_)=>Gt(_,o).fold(()=>Cg(y,o),R=>ld(y,_,i,R)),toString:()=>"chooseOn("+o+"). Possible values: "+_n(i)}),xg=()=>Vc(Kh),Vs=o=>$c(i=>o(i).fold(Go.serror,Go.svalue)),Yh=(o,i)=>ad(c=>Go.fromResult(o(c)),i),Uc=(o,i,c)=>{const m=i.extract([o],c);return Go.mapError(m,y=>({input:c,errors:y}))},eo=(o,i,c)=>Go.toResult(Uc(o,i,c)),Cl=o=>o.fold(i=>{throw new Error(rl(i))},Te),$i=(o,i,c)=>Cl(eo(o,i,c)),rl=o=>`Errors: 
`+tp(o.errors).join(`
`)+`

Input object: `+P1(o.input),Vi=(o,i)=>Hc(o,mo(i,mt)),$l=(o,i)=>mb(o,i),Qo=sd,li=Jd,Eg=o=>Vs(i=>Gn(o,i)?to.value(i):to.error(`Unsupported value: "${i}", choose one of "${o.join(", ")}".`)),Ct=o=>Qo(o,o,Dr(),Aa()),Hi=(o,i)=>Qo(o,o,Dr(),i),np=o=>Hi(o,hc),Cr=o=>Hi(o,pa),wu=(o,i)=>Qo(o,o,Dr(),Eg(i)),yb=o=>Hi(o,Yf),mc=o=>Hi(o,Pt),W0=(o,i)=>Qo(o,o,Kf(),$c(c=>Go.serror("The field: "+o+" is forbidden. "+i))),cd=(o,i)=>Qo(o,o,Dr(),mt(i)),B1=(o,i)=>Qo(o,o,Dr(),pb(i)),al=(o,i)=>Qo(o,o,Dr(),Vc(i)),Wo=o=>Qo(o,o,Kf(),Aa()),_u=(o,i)=>Qo(o,o,Kf(),i),op=o=>_u(o,hc),Sr=o=>_u(o,pa),Ui=(o,i)=>_u(o,Eg(i)),Xf=o=>_u(o,Pt),sp=(o,i)=>_u(o,Vc(i)),ga=(o,i)=>_u(o,mt(i)),Tg=(o,i)=>_u(o,Fi(i)),Be=(o,i)=>Qo(o,o,ef(i),Aa()),ci=(o,i,c)=>Qo(o,o,ef(i),c),Xh=(o,i)=>ci(o,i,hc),Ka=(o,i)=>ci(o,i,pa),Vl=(o,i,c)=>ci(o,i,Eg(c)),ui=(o,i)=>ci(o,i,Yf),jr=(o,i)=>ci(o,i,Pt),Z0=(o,i)=>ci(o,i,j0),Rg=(o,i,c)=>ci(o,i,Vc(c)),O=(o,i,c)=>ci(o,i,mt(c)),D=o=>{let i=o;return{get:()=>i,set:y=>{i=y}}},ne={generate:o=>{if(!$(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");const i=[],c={};return me(o,(m,y)=>{const _=_n(m);if(_.length!==1)throw new Error("one and only one name per case");const C=_[0],R=m[C];if(c[C]!==void 0)throw new Error("duplicate key detected:"+C);if(C==="cata")throw new Error("cannot have a case named cata (sorry)");if(!$(R))throw new Error("case arguments must be an array");i.push(C),c[C]=(...M)=>{const N=M.length;if(N!==R.length)throw new Error("Wrong number of arguments to case "+C+". Expected "+R.length+" ("+R+"), got "+N);return{fold:(...Z)=>{if(Z.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+Z.length);return Z[y].apply(null,M)},match:Z=>{const K=_n(Z);if(i.length!==K.length)throw new Error("Wrong number of arguments to match. Expected: "+i.join(",")+`
Actual: `+K.join(","));if(!Fe(i,ie=>Gn(K,ie)))throw new Error("Not all branches were specified when using match. Specified: "+K.join(", ")+`
Required: `+i.join(", "));return Z[C].apply(null,M)},log:Z=>{console.log(Z,{constructors:i,constructor:C,params:M})}}}}),c}};ne.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ce=o=>{const i=[],c=[];return me(o,m=>{m.fold(y=>{i.push(y)},y=>{c.push(y)})}),{errors:i,values:c}},at=(o,i)=>{const c={};return lo(o,(m,y)=>{Gn(i,y)||(c[y]=m)}),c},Nt=(o,i)=>({[o]:i}),ln=o=>{const i={};return me(o,c=>{i[c.key]=c.value}),i},Wn=(o,i)=>at(o,i),Zn=(o,i)=>Nt(o,i),$o=o=>ln(o),ss=(o,i)=>o.length===0?to.value(i):to.value(hs(i,ps.apply(void 0,o))),Ls=o=>to.error(Ye(o)),ji=(o,i)=>{const c=Ce(o);return c.errors.length>0?Ls(c.errors):ss(c.values,i)},Oa=o=>Se(o)?o:nn,ud=(o,i,c)=>{let m=o.dom;const y=Oa(c);for(;m.parentNode;){m=m.parentNode;const _=Le.fromDom(m),C=i(_);if(C.isSome())return C;if(y(_))break}return L.none()},Hl=(o,i,c)=>{const m=i(o),y=Oa(c);return m.orThunk(()=>y(o)?L.none():ud(o,i,y))},Jf=(o,i)=>ls(o.element,i.event.target),rp={can:Ot,abort:nn,run:ee},Ul=o=>{if(!el(o,"can")&&!el(o,"abort")&&!el(o,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(o,null,2)+" does not have can, abort, or run!");return{...rp,...o}},Qf=(o,i)=>(...c)=>re(o,(m,y)=>m&&i(y).apply(void 0,c),!0),Ig=(o,i)=>(...c)=>re(o,(m,y)=>m||i(y).apply(void 0,c),!1),Ag=o=>Se(o)?{can:Ot,abort:nn,run:o}:o,Jh=o=>{const i=Qf(o,y=>y.can),c=Ig(o,y=>y.abort);return{can:i,abort:c,run:(...y)=>{me(o,_=>{_.run.apply(void 0,y)})}}},Jr=J,ku=Jr("touchstart"),ko=Jr("touchmove"),gs=Jr("touchend"),Si=Jr("touchcancel"),cs=Jr("mousedown"),Og=Jr("mousemove"),eh=Jr("mouseout"),th=Jr("mouseup"),pc=Jr("mouseover"),Qh=Jr("focusin"),F1=Jr("focusout"),jl=Jr("keydown"),em=Jr("keyup"),of=Jr("input"),Cu=Jr("change"),jc=Jr("click"),bb=Jr("transitioncancel"),Dg=Jr("transitionend"),xx=Jr("transitionstart"),rA=Jr("selectstart"),ar=o=>J("alloy."+o),aA={tap:ar("tap")},sf=ar("focus"),G0=ar("blur.post"),q0=ar("paste.post"),or=ar("receive"),Wi=ar("execute"),Mg=ar("focus.item"),ap=aA.tap,Ex=ar("longpress"),Pg=ar("sandbox.close"),vb=ar("typeahead.cancel"),$1=ar("system.init"),iA=ar("system.touchmove"),K0=ar("system.touchend"),wb=ar("system.scroll"),ip=ar("system.resize"),rf=ar("system.attached"),dd=ar("system.detached"),nh=ar("system.dismissRequested"),V1=ar("system.repositionRequested"),tm=ar("focusmanager.shifted"),Y0=ar("slotcontainer.visibility"),Tx=ar("system.external.element.scroll"),X0=ar("change.tab"),Rx=ar("dismiss.tab"),J0=ar("highlight"),H1=ar("dehighlight"),zo=(o,i)=>{zg(o,o.element,i,{})},xn=(o,i,c)=>{zg(o,o.element,i,c)},af=o=>{zo(o,Wi())},_b=(o,i,c)=>{zg(o,i,c,{})},zg=(o,i,c,m)=>{const y={target:i,...m};o.getSystem().triggerEvent(c,i,y)},lA=(o,i,c,m)=>{const y={...m,target:i};o.getSystem().triggerEvent(c,i,y)},U1=(o,i,c,m)=>{o.getSystem().triggerEvent(c,i,m.event)},xs=o=>$o(o),Q0=(o,i)=>({key:o,value:Ul({abort:i})}),Ix=(o,i)=>({key:o,value:Ul({can:i})}),Ax=o=>({key:o,value:Ul({run:(i,c)=>{c.event.prevent()}})}),St=(o,i)=>({key:o,value:Ul({run:i})}),kb=(o,i,c)=>({key:o,value:Ul({run:(m,y)=>{i.apply(void 0,[m,y].concat(c))}})}),cA=o=>i=>St(o,i),lf=o=>i=>({key:o,value:Ul({run:(c,m)=>{Jf(c,m)&&i(c,m)}})}),j1=(o,i)=>St(o,(c,m)=>{c.getSystem().getByUid(i).each(y=>{U1(y,y.element,o,m)})}),Ng=(o,i,c)=>{const m=i.partUids[c];return j1(o,m)},Cb=(o,i)=>St(o,(c,m)=>{const y=m.event,_=c.getSystem().getByDom(y.target).getOrThunk(()=>Hl(y.target,R=>c.getSystem().getByDom(R).toOptional(),nn).getOr(c));i(c,_,m)}),lp=o=>St(o,(i,c)=>{c.cut()}),oh=o=>St(o,(i,c)=>{c.stop()}),Lg=(o,i)=>lf(o)(i),sr=lf(rf()),il=lf(dd()),Bg=lf($1()),cf=cA(Wi()),uA=(o,i)=>{const m=(i||document).createElement("div");return m.innerHTML=o,zi(Le.fromDom(m))},W1=o=>o.dom.innerHTML,sh=(o,i)=>{const m=Pi(o).dom,y=Le.fromDom(m.createDocumentFragment()),_=uA(i,m);Wh(y,_),Zh(o),wl(o,y)},S4=o=>{const i=Le.fromTag("div"),c=Le.fromDom(o.dom.cloneNode(!0));return wl(i,c),W1(i)},Ox=(o,i)=>Le.fromDom(o.dom.cloneNode(i)),ll=o=>Ox(o,!1),Z1=o=>{if(Fh(o))return"#shadow-root";{const i=ll(o);return S4(i)}},fd=o=>Z1(o),dA=(o,i,c)=>ls(i,o.element)&&!ls(i,c),Fg=xs([Ix(sf(),(o,i)=>{const c=i.event,m=c.originator,y=c.target;return dA(o,m,y)?(console.warn(sf()+` did not get interpreted by the desired target. 
Originator: `+fd(m)+`
Target: `+fd(y)+`
Check the `+sf()+" event handlers"),!1):!0})]);var Zi=Object.freeze({__proto__:null,events:Fg});let nm=0;const dn=o=>{const c=new Date().getTime(),m=Math.floor(Math.random()*1e9);return nm++,o+"_"+m+nm+String(c)},Dx=J("alloy-id-"),di=J("data-alloy-id"),Mx=Dx(),ek=di(),fA=(o,i)=>{const c=dn(Mx+o);return Sb(i,c),c},Sb=(o,i)=>{Object.defineProperty(o.dom,ek,{value:i,writable:!0})},Wl=o=>{const i=Jo(o)?o.dom[ek]:null;return L.from(i)},rh=o=>dn(o),Px=Te,cp=o=>{const i=y=>`The component must be in a context to execute: ${y}`+(o?`
`+fd(o().element)+" is not in context.":""),c=y=>()=>{throw new Error(i(y))},m=y=>()=>{console.warn(i(y))};return{debugInfo:J("fake"),triggerEvent:m("triggerEvent"),triggerFocus:m("triggerFocus"),triggerEscape:m("triggerEscape"),broadcast:m("broadcast"),broadcastOn:m("broadcastOn"),broadcastEvent:m("broadcastEvent"),build:c("build"),buildOrPatch:c("buildOrPatch"),addToWorld:c("addToWorld"),removeFromWorld:c("removeFromWorld"),addToGui:c("addToGui"),removeFromGui:c("removeFromGui"),getByUid:c("getByUid"),getByDom:c("getByDom"),isConnected:nn}},hA=cp(),zx=(o,i,c)=>{const m=c.toString(),y=m.indexOf(")")+1,_=m.indexOf("("),C=m.substring(_+1,y-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:i,parameters:$g(C.slice(0,1).concat(C.slice(3)))}),o},$g=o=>Ee(o,i=>Dc(i,"/*")?i.substring(0,i.length-2):i),up=(o,i)=>{const c=o.toString(),m=c.indexOf(")")+1,y=c.indexOf("("),_=c.substring(y+1,m-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:i,parameters:$g(_)}),o},G1=(o,i)=>{const c=i.toString(),m=c.indexOf(")")+1,y=c.indexOf("("),_=c.substring(y+1,m-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:$g(_.slice(1))}),o},dp=dn("alloy-premade"),q1=o=>(Object.defineProperty(o.element.dom,dp,{value:o.uid,writable:!0}),Zn(dp,o)),xb=o=>Mo(o.dom,dp),K1=o=>Gt(o,dp),om=o=>G1((i,...c)=>o(i.getApis(),i,...c),o),hd={init:()=>Da({readState:J("No State required")})},Da=o=>o,Eb=(o,i)=>{const c=Ee(i,y=>ga(y.name(),[Ct("config"),Be("state",hd)])),m=eo("component.behaviours",mt(c),o.behaviours).fold(y=>{throw new Error(rl(y)+`
Complete spec:
`+JSON.stringify(o,null,2))},Te);return{list:i,data:mo(m,y=>{const _=y.map(C=>({config:C.config,state:C.state.init(C.config)}));return J(_)})}},Nx=o=>o.list,Y1=o=>o.data,tk=(o,i)=>{const c={};return lo(o,(m,y)=>{lo(m,(_,C)=>{const R=Gt(c,C).getOr([]);c[C]=R.concat([i(y,_)])})}),c},Zl=o=>({classes:le(o.classes)?[]:o.classes,attributes:le(o.attributes)?{}:o.attributes,styles:le(o.styles)?{}:o.styles}),mA=(o,i)=>({...o,attributes:{...o.attributes,...i.attributes},styles:{...o.styles,...i.styles},classes:o.classes.concat(i.classes)}),uf=(o,i,c,m)=>{const y={...i};me(c,V=>{y[V.name()]=V.exhibit(o,m)});const _=tk(y,(V,Z)=>({name:V,modification:Z})),C=V=>Tt(V,(Z,K)=>({...K.modification,...Z}),{}),R=Tt(_.classes,(V,Z)=>Z.modification.concat(V),[]),M=C(_.attributes),N=C(_.styles);return Zl({classes:R,attributes:M,styles:N})},Vg=(o,i,c,m)=>{try{const y=Xe(c,(_,C)=>{const R=_[i],M=C[i],N=m.indexOf(R),V=m.indexOf(M);if(N===-1)throw new Error("The ordering for "+o+" does not have an entry for "+R+`.
Order specified: `+JSON.stringify(m,null,2));if(V===-1)throw new Error("The ordering for "+o+" does not have an entry for "+M+`.
Order specified: `+JSON.stringify(m,null,2));return N<V?-1:V<N?1:0});return to.value(y)}catch(y){return to.error([y])}},Lx=(o,i)=>({handler:o,purpose:i}),Bx=(o,i)=>({cHandler:o,purpose:i}),pA=(o,i)=>Bx(_t.apply(void 0,[o.handler].concat(i)),o.purpose),ys=o=>o.cHandler,gA=(o,i)=>({name:o,handler:i}),yA=(o,i)=>{const c={};return me(o,m=>{c[m.name()]=m.handlers(i)}),c},Fx=(o,i,c)=>{const m={...c,...yA(i,o)};return tk(m,gA)},X1=(o,i,c,m)=>{const y=Fx(o,c,m);return J1(y,i)},$x=o=>{const i=Ag(o);return(c,m,...y)=>{const _=[c,m].concat(y);i.abort.apply(void 0,_)?m.stop():i.can.apply(void 0,_)&&i.run.apply(void 0,_)}},Wc=(o,i)=>to.error(["The event ("+o+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ee(i,c=>c.name),null,2)]),Ya=(o,i,c)=>{const m=i[c];return m?Vg("Event: "+c,"name",o,m).map(y=>{const _=Ee(y,C=>C.handler);return Jh(_)}):Wc(c,o)},J1=(o,i)=>{const c=Oi(o,(m,y)=>(m.length===1?to.value(m[0].handler):Ya(m,i,y)).map(C=>{const R=$x(C),M=m.length>1?Je(i[y],N=>io(m,V=>V.name===N)).join(" > "):m[0].name;return Zn(y,Lx(R,M))}));return ji(c,{})},ah="alloy.base.behaviour",fp=mt([Qo("dom","dom",Dr(),mt([Ct("tag"),Be("styles",{}),Be("classes",[]),Be("attributes",{}),Wo("value"),Wo("innerHtml")])),Ct("components"),Ct("uid"),Be("events",{}),Be("apis",{}),Qo("eventOrder","eventOrder",go({[Wi()]:["disabling",ah,"toggling","typeaheadevents"],[sf()]:[ah,"focusing","keying"],[$1()]:[ah,"disabling","toggling","representing"],[of()]:[ah,"representing","streaming","invalidating"],[dd()]:[ah,"representing","item-events","tooltipping"],[cs()]:["focusing",ah,"item-type-events"],[ku()]:["focusing",ah,"item-type-events"],[pc()]:["item-type-events","tooltipping"],[or()]:["receiving","reflecting","tooltipping"]}),Aa()),Wo("domModification")]),Ma=o=>eo("custom.definition",fp,o),Vx=o=>({...o.dom,uid:o.uid,domChildren:Ee(o.components,i=>i.element)}),Hx=o=>o.domModification.fold(()=>Zl({}),Zl),x4=o=>o.events,Ux=(o,i)=>{const c=da(o,i);return c===void 0||c===""?[]:c.split(" ")},sm=(o,i,c)=>{const y=Ux(o,i).concat([c]);return Jn(o,i,y.join(" ")),!0},rm=(o,i,c)=>{const m=Je(Ux(o,i),y=>y!==c);return m.length>0?Jn(o,i,m.join(" ")):ge(o,i),!1},Q1=o=>o.dom.classList!==void 0,jx=o=>Ux(o,"class"),md=(o,i)=>sm(o,"class",i),cl=(o,i)=>rm(o,"class",i),Qr=(o,i)=>{Q1(o)?o.dom.classList.add(i):md(o,i)},Wx=o=>{(Q1(o)?o.dom.classList:jx(o)).length===0&&ge(o,"class")},Es=(o,i)=>{Q1(o)?o.dom.classList.remove(i):cl(o,i),Wx(o)},xi=(o,i)=>Q1(o)&&o.dom.classList.contains(i),Su=(o,i)=>{me(i,c=>{Qr(o,c)})},Ei=(o,i)=>{me(i,c=>{Es(o,c)})},ih=(o,i)=>Fe(i,c=>xi(o,c)),Tb=o=>{const i=o.dom.classList,c=new Array(i.length);for(let m=0;m<i.length;m++){const y=i.item(m);y!==null&&(c[m]=y)}return c},am=o=>Q1(o)?Tb(o):jx(o),gc=o=>o.dom.value,Zc=(o,i)=>{if(i===void 0)throw new Error("Value.set was undefined");o.dom.value=i},nk=(o,i,c)=>pu(o,i).map(y=>{if(c.exists(C=>!ls(C,y))){const C=c.map(tl).getOr("span"),R=Le.fromTag(C);return Bl(y,R),R}else return y}),Rb=(o,i,c)=>{c.fold(()=>wl(o,i),m=>{ls(m,i)||(Bl(m,i),uc(m))})},Zx=(o,i,c)=>{const m=Ee(i,c),y=zi(o);return me(y.slice(m.length),uc),m},ok=(o,i,c,m)=>{const y=pu(o,i),_=m(c,y),C=nk(o,i,y);return Rb(o,_.element,C),_},Gx=(o,i,c)=>Zx(o,i,(m,y)=>ok(o,y,m,c)),Hg=(o,i)=>Zx(o,i,(c,m)=>{const y=pu(o,m);return Rb(o,c,y),c}),qx=(o,i)=>{const c=_n(o),m=_n(i),y=$e(m,c),_=zs(o,(C,R)=>!Mo(i,R)||C!==i[R]).t;return{toRemove:y,toSet:_}},bA=(o,i)=>{const{class:c,style:m,...y}=Qe(i),{toSet:_,toRemove:C}=qx(o.attributes,y),R=()=>{me(C,pt=>ge(i,pt)),Fo(i,_)},M=ha(i),{toSet:N,toRemove:V}=qx(o.styles,M),Z=()=>{me(V,pt=>Ro(i,pt)),Ir(i,N)},K=am(i),Q=$e(K,o.classes),ie=$e(o.classes,K),_e=()=>{Su(i,ie),Ei(i,Q)},Ve=pt=>{sh(i,pt)},De=()=>{const pt=o.domChildren;Hg(i,pt)},Ie=()=>{const pt=i,vt=o.value.getOrUndefined();vt!==gc(pt)&&Zc(pt,vt!=null?vt:"")};return R(),_e(),Z(),o.innerHtml.fold(De,Ve),Ie(),i},vA=o=>{const i=Le.fromTag(o.tag);Fo(i,o.attributes),Su(i,o.classes),Ir(i,o.styles),o.innerHtml.each(m=>sh(i,m));const c=o.domChildren;return Wh(i,c),o.value.each(m=>{Zc(i,m)}),i},sk=(o,i)=>{try{const c=bA(o,i);return L.some(c)}catch{return L.none()}},Kx=o=>o.innerHtml.isSome()&&o.domChildren.length>0,Yx=(o,i)=>{const c=y=>tl(y)===o.tag&&!Kx(o)&&!xb(y),m=i.filter(c).bind(y=>sk(o,y)).getOrThunk(()=>vA(o));return Sb(m,o.uid),m},Xx=o=>{const i=Gt(o,"behaviours").getOr({});return ce(_n(i),c=>{const m=i[c];return Ne(m)?[m.me]:[]})},Jx=(o,i)=>Eb(o,i),im=o=>{const i=Xx(o);return Jx(o,i)},Qx=(o,i,c)=>{const m=Vx(o),y=Hx(o),_={"alloy.base.modification":y},C=i.length>0?uf(c,_,i,m):y;return mA(m,C)},eE=(o,i,c)=>{const m={"alloy.base.behaviour":x4(o)};return X1(c,o.eventOrder,i,m).getOrDie()},wA=(o,i)=>{const c=()=>pt,m=D(hA),y=Cl(Ma(o)),_=im(o),C=Nx(_),R=Y1(_),M=Qx(y,C,R),N=Yx(M,i),V=eE(y,C,R),Z=D(y.components),K=vt=>{m.set(vt)},Q=()=>{m.set(cp(c))},ie=()=>{const vt=zi(N),jt=ce(vt,Rt=>m.get().getByDom(Rt).fold(()=>[],be));Z.set(jt)},_e=vt=>{const jt=R;return(Se(jt[vt.name()])?jt[vt.name()]:()=>{throw new Error("Could not find "+vt.name()+" in "+JSON.stringify(o,null,2))})()},Ve=vt=>Se(R[vt.name()]),De=()=>y.apis,Ie=vt=>R[vt]().map(jt=>jt.state.readState()).getOr("not enabled"),pt={uid:o.uid,getSystem:m.get,config:_e,hasConfigured:Ve,spec:o,readState:Ie,getApis:De,connect:K,disconnect:Q,element:N,syncComponents:ie,components:Z.get,events:V};return pt},tE=(o,i)=>{const c=Gt(o,"components").getOr([]);return i.fold(()=>Ee(c,Pa),m=>Ee(c,(y,_)=>Ib(y,pu(m,_))))},hp=(o,i)=>{const{events:c,...m}=Px(o),y=tE(m,i),_={...m,events:{...Zi,...c},components:y};return to.value(wA(_,i))},Ks=o=>{const i=Le.fromText(o);return lh({element:i})},lh=o=>{const i=$i("external.component",Fi([Ct("element"),Wo("uid")]),o),c=D(cp()),m=R=>{c.set(R)},y=()=>{c.set(cp(()=>C))},_=i.uid.getOrThunk(()=>rh("external"));Sb(i.element,_);const C={uid:_,getSystem:c.get,config:L.none,hasConfigured:nn,connect:m,disconnect:y,getApis:()=>({}),element:i.element,spec:o,readState:J("No state"),syncComponents:ee,components:J([]),events:{}};return q1(C)},nE=rh,_A=o=>Mo(o,"uid"),Ib=(o,i)=>K1(o).getOrThunk(()=>{const c=_A(o)?o:{uid:nE(""),...o};return hp(c,i).getOrDie()}),Pa=o=>Ib(o,L.none()),Sl=q1;var rk=(o,i,c,m,y)=>o(c,m)?L.some(c):Se(y)&&y(c)?L.none():i(c,m,y);const ew=(o,i,c)=>{let m=o.dom;const y=Se(c)?c:nn;for(;m.parentNode;){m=m.parentNode;const _=Le.fromDom(m);if(i(_))return L.some(_);if(y(_))break}return L.none()},tw=(o,i,c)=>rk((y,_)=>_(y),ew,o,i,c),kA=(o,i)=>{const c=y=>i(Le.fromDom(y));return Oe(o.dom.childNodes,c).map(Le.fromDom)},oE=(o,i)=>{const c=m=>{for(let y=0;y<m.childNodes.length;y++){const _=Le.fromDom(m.childNodes[y]);if(i(_))return L.some(_);const C=c(m.childNodes[y]);if(C.isSome())return C}return L.none()};return c(o.dom)},Ab=(o,i,c)=>tw(o,i,c).isSome(),xl=(o,i,c)=>ew(o,m=>Mi(m,i),c),sE=(o,i)=>kA(o,c=>Mi(c,i)),Ys=(o,i)=>Vm(i,o),pd=(o,i,c)=>rk((y,_)=>Mi(y,_),xl,o,i,c),df="aria-controls",CA=o=>tw(o,c=>{if(!Jo(c))return!1;const m=da(c,"id");return m!==void 0&&m.indexOf(df)>-1}).bind(c=>{const m=da(c,"id"),y=$r(c);return Ys(y,`[${df}="${m}"]`)}),ak=()=>{const o=dn(df);return{id:o,link:m=>{Jn(m,df,o)},unlink:m=>{ge(m,df)}}},rE=(o,i)=>CA(i).exists(c=>lm(o,c)),lm=(o,i)=>Ab(i,c=>ls(c,o.element),nn)||rE(o,i),aE="unknown";var ff;(function(o){o[o.STOP=0]="STOP",o[o.NORMAL=1]="NORMAL",o[o.LOGGING=2]="LOGGING"})(ff||(ff={}));const ik=D({}),Ob=(o,i)=>{const c=[],m=new Date().getTime();return{logEventCut:(y,_,C)=>{c.push({outcome:"cut",target:_,purpose:C})},logEventStopped:(y,_,C)=>{c.push({outcome:"stopped",target:_,purpose:C})},logNoParent:(y,_,C)=>{c.push({outcome:"no-parent",target:_,purpose:C})},logEventNoHandlers:(y,_)=>{c.push({outcome:"no-handlers-left",target:_})},logEventResponse:(y,_,C)=>{c.push({outcome:"response",purpose:C,target:_})},write:()=>{const y=new Date().getTime();Gn(["mousemove","mouseover","mouseout",$1()],o)||console.log(o,{event:o,time:y-m,target:i.dom,sequence:Ee(c,_=>Gn(["cut","stopped","response"],_.outcome)?"{"+_.purpose+"} "+_.outcome+" at ("+fd(_.target)+")":_.outcome)})}}},lk=(o,i,c)=>{switch(Gt(ik.get(),o).orThunk(()=>{const y=_n(ik.get());return an(y,_=>o.indexOf(_)>-1?L.some(ik.get()[_]):L.none())}).getOr(ff.NORMAL)){case ff.NORMAL:return c(iE());case ff.LOGGING:{const y=Ob(o,i),_=c(y);return y.write(),_}case ff.STOP:return!0}},nw=["alloy/data/Fields","alloy/debugging/Debugging"],Db=()=>{const o=new Error;if(o.stack!==void 0){const i=o.stack.split(`
`);return Oe(i,c=>c.indexOf("alloy")>0&&!io(nw,m=>c.indexOf(m)>-1)).getOr(aE)}else return aE},ck={logEventCut:ee,logEventStopped:ee,logNoParent:ee,logEventNoHandlers:ee,logEventResponse:ee,write:ee},Mb=(o,i,c)=>lk(o,i,c),iE=J(ck),ch=J([Ct("menu"),Ct("selectedMenu")]),ow=J([Ct("item"),Ct("selectedItem")]);J(mt(ow().concat(ch())));const lE=J(mt(ow())),uk=cd("initSize",[Ct("numColumns"),Ct("numRows")]),cm=()=>Hi("markers",lE()),hf=()=>cd("markers",[Ct("backgroundMenu")].concat(ch()).concat(ow())),mp=o=>cd("markers",Ee(o,Ct)),dt=(o,i,c)=>(Db(),Qo(i,i,c,Vs(m=>to.value((...y)=>m.apply(void 0,y))))),Co=o=>dt("onHandler",o,ef(ee)),ir=o=>dt("onKeyboardHandler",o,ef(L.none)),pp=o=>dt("onHandler",o,Dr()),Pb=o=>dt("onKeyboardHandler",o,Dr()),qo=(o,i)=>li(o,J(i)),dk=o=>li(o,Te),zb=J(uk),ya=(o,i,c,m,y,_,C,R=!1)=>({x:o,y:i,bubble:c,direction:m,placement:y,restriction:_,label:`${C}-${y}`,alwaysFit:R}),mf=ne.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),SA=(o,i,c,m,y,_,C,R,M)=>o.fold(i,c,m,y,_,C,R,M),cE=(o,i,c,m)=>o.fold(i,i,m,m,i,m,c,c),uE=(o,i,c,m)=>o.fold(i,m,i,m,c,c,i,m),Ug=mf.southeast,jg=mf.southwest,sw=mf.northeast,fk=mf.northwest,ul=mf.south,Wg=mf.north,Nb=mf.east,dE=mf.west,gp=(o,i,c,m)=>{const y=o+i;return y>m?c:y<c?m:y},yc=(o,i,c)=>Math.min(Math.max(o,i),c),hk=(o,i)=>{switch(i){case 1:return o.x;case 0:return o.x+o.width;case 2:return o.y;case 3:return o.y+o.height}},Xa=(o,i)=>oe(["left","right","top","bottom"],c=>Gt(i,c).map(m=>hk(o,m))),fE=(o,i,c)=>{const m=(M,N)=>i[M].map(V=>{const Z=M==="top"||M==="bottom",K=Z?c.top:c.left,ie=(M==="left"||M==="top"?Math.max:Math.min)(V,N)+K;return Z?yc(ie,o.y,o.bottom):yc(ie,o.x,o.right)}).getOr(N),y=m("left",o.x),_=m("top",o.y),C=m("right",o.right),R=m("bottom",o.bottom);return Ns(y,_,C-y,R-_)},uh="layout",rw=o=>o.x,mk=(o,i)=>o.x+o.width/2-i.width/2,hE=(o,i)=>o.x+o.width-i.width,pk=(o,i)=>o.y-i.height,aw=o=>o.y+o.height,gk=(o,i)=>o.y+o.height/2-i.height/2,xA=o=>o.x+o.width,yk=(o,i)=>o.x-i.width,Ja=(o,i,c)=>ya(rw(o),aw(o),c.southeast(),Ug(),"southeast",Xa(o,{left:1,top:3}),uh),ea=(o,i,c)=>ya(hE(o,i),aw(o),c.southwest(),jg(),"southwest",Xa(o,{right:0,top:3}),uh),Gl=(o,i,c)=>ya(rw(o),pk(o,i),c.northeast(),sw(),"northeast",Xa(o,{left:1,bottom:2}),uh),Xs=(o,i,c)=>ya(hE(o,i),pk(o,i),c.northwest(),fk(),"northwest",Xa(o,{right:0,bottom:2}),uh),Gc=(o,i,c)=>ya(mk(o,i),pk(o,i),c.north(),Wg(),"north",Xa(o,{bottom:2}),uh),Js=(o,i,c)=>ya(mk(o,i),aw(o),c.south(),ul(),"south",Xa(o,{top:3}),uh),bk=(o,i,c)=>ya(xA(o),gk(o,i),c.east(),Nb(),"east",Xa(o,{left:0}),uh),vk=(o,i,c)=>ya(yk(o,i),gk(o,i),c.west(),dE(),"west",Xa(o,{right:1}),uh),mE=()=>[Ja,ea,Gl,Xs,Js,Gc,bk,vk],iw=()=>[ea,Ja,Xs,Gl,Js,Gc,bk,vk],Lb=()=>[Gl,Xs,Ja,ea,Gc,Js],lw=()=>[Xs,Gl,ea,Ja,Gc,Js],cw=()=>[Ja,ea,Gl,Xs,Js,Gc],Bb=()=>[ea,Ja,Xs,Gl,Js,Gc],pE=(o,i)=>i.universal?o:Je(o,c=>Gn(i.channels,c));var yE=Object.freeze({__proto__:null,events:o=>xs([St(or(),(i,c)=>{const m=o.channels,y=_n(m),_=c,C=pE(y,_);me(C,R=>{const M=m[R],N=M.schema,V=$i("channel["+R+`] data
Receiver: `+fd(i.element),N,_.data);M.onReceive(i,V)})})])}),wk=[Hi("channels",Yh(to.value,Fi([pp("onReceive"),Be("schema",Aa())])))];const uw=(o,i,c)=>cf(m=>{c(m,o,i)}),dw=(o,i,c)=>Bg((m,y)=>{c(m,o,i)}),mn=(o,i,c,m,y,_)=>{const C=Fi(o),R=ga(i,[Tg("config",o)]);return vE(C,R,i,c,m,y,_)},_k=(o,i,c,m,y,_)=>{const C=o,R=ga(i,[_u("config",o)]);return vE(C,R,i,c,m,y,_)},bE=(o,i,c)=>zx((y,..._)=>{const C=[y].concat(_);return y.config({name:J(o)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+o+". Using API: "+c)},R=>{const M=Array.prototype.slice.call(C,1);return i.apply(void 0,[y,R.config,R.state].concat(M))})},c,i),EA=o=>({key:o,value:void 0}),vE=(o,i,c,m,y,_,C)=>{const R=Z=>el(Z,c)?Z[c]():L.none(),M=mo(y,(Z,K)=>bE(c,Z,K)),V={...mo(_,(Z,K)=>up(Z,K)),...M,revoke:_t(EA,c),config:Z=>{const K=$i(c+"-config",o,Z);return{key:c,value:{config:K,me:V,configAsRaw:Kd(()=>$i(c+"-config",o,Z)),initialConfig:Z,state:C}}},schema:J(i),exhibit:(Z,K)=>ac(R(Z),Gt(m,"exhibit"),(Q,ie)=>ie(K,Q.config,Q.state)).getOrThunk(()=>Zl({})),name:J(c),handlers:Z=>R(Z).map(K=>Gt(m,"events").getOr(()=>({}))(K.config,K.state)).getOr({})};return V},Lt=o=>$o(o),wE=Fi([Ct("fields"),Ct("name"),Be("active",{}),Be("apis",{}),Be("state",hd),Be("extra",{})]),Qa=o=>{const i=$i("Creating behaviour: "+o.name,wE,o);return mn(i.fields,i.name,i.active,i.apis,i.extra,i.state)},TA=Fi([Ct("branchKey"),Ct("branches"),Ct("name"),Be("active",{}),Be("apis",{}),Be("state",hd),Be("extra",{})]),kk=o=>{const i=$i("Creating behaviour: "+o.name,TA,o);return _k(Vi(i.branchKey,i.branches),i.name,i.active,i.apis,i.extra,i.state)},RA=J(void 0),Pr=Qa({fields:wk,name:"receiving",active:yE});var IA=Object.freeze({__proto__:null,exhibit:(o,i)=>Zl({classes:[],styles:i.useFixed()?{}:{position:"relative"}})});const xu=o=>o.dom.focus(),Ck=o=>o.dom.blur(),Fb=o=>{const i=$r(o).dom;return o.dom===i.activeElement},pf=(o=bu())=>L.from(o.dom.activeElement).map(Le.fromDom),Eu=o=>pf($r(o)).filter(i=>o.dom.contains(i.dom)),hw=(o,i)=>{const c=$r(i),m=pf(c).bind(_=>{const C=R=>ls(_,R);return C(i)?L.some(i):oE(i,C)}),y=o(i);return m.each(_=>{pf(c).filter(C=>ls(C,_)).fold(()=>{xu(_)},ee)}),y},Tu=(o,i,c,m,y)=>{const _=C=>C+"px";return{position:o,left:i.map(_),top:c.map(_),right:m.map(_),bottom:y.map(_)}},_E=o=>({...o,position:L.some(o.position)}),Sk=(o,i)=>{fa(o,_E(i))},mw=ne.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),um=(o,i,c,m,y,_)=>{const C=i.rect,R=C.x-c,M=C.y-m,N=C.width,V=C.height,Z=y-(R+N),K=_-(M+V),Q=L.some(R),ie=L.some(M),_e=L.some(Z),Ve=L.some(K),De=L.none();return SA(i.direction,()=>Tu(o,Q,ie,De,De),()=>Tu(o,De,ie,_e,De),()=>Tu(o,Q,De,De,Ve),()=>Tu(o,De,De,_e,Ve),()=>Tu(o,Q,ie,De,De),()=>Tu(o,Q,De,De,Ve),()=>Tu(o,Q,ie,De,De),()=>Tu(o,De,ie,_e,De))},kE=(o,i)=>o.fold(()=>{const c=i.rect;return Tu("absolute",L.some(c.x),L.some(c.y),L.none(),L.none())},(c,m,y,_)=>um("absolute",i,c,m,y,_),(c,m,y,_)=>um("fixed",i,c,m,y,_)),xk=(o,i)=>{const c=_t(ib,i),m=o.fold(c,c,()=>{const C=_l();return ib(i).translate(-C.left,-C.top)}),y=ai(i),_=$f(i);return Ns(m.left,m.top,y,_)},AA=(o,i)=>i.fold(()=>o.fold(Ra,Ra,Ns),c=>o.fold(J(c),J(c),()=>{const m=pw(o,c.x,c.y);return Ns(m.left,m.top,c.width,c.height)})),pw=(o,i,c)=>{const m=qs(i,c),y=()=>{const _=_l();return m.translate(-_.left,-_.top)};return o.fold(J(m),J(m),y)},$b=(o,i,c,m)=>o.fold(i,c,m);mw.none;const ei=mw.relative,CE=mw.fixed,Zg=(o,i)=>({anchorBox:o,origin:i}),SE=(o,i)=>Zg(o,i),gw="data-alloy-placement",xE=(o,i)=>{Jn(o,gw,i)},EE=o=>G(o,gw),OA=o=>ge(o,gw),Gg=ne.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),DA=(o,i)=>{const{x:c,y:m,right:y,bottom:_}=i,{x:C,y:R,right:M,bottom:N,width:V,height:Z}=o,K=C>=c&&C<=y,Q=R>=m&&R<=_,ie=K&&Q,_e=M<=y&&M>=c,Ve=N<=_&&N>=m,De=_e&&Ve,Ie=Math.min(V,C>=c?y-C:M-c),pt=Math.min(Z,R>=m?_-R:N-m);return{originInBounds:ie,sizeInBounds:De,visibleW:Ie,visibleH:pt}},TE=(o,i)=>{const{x:c,y:m,right:y,bottom:_}=i,{x:C,y:R,width:M,height:N}=o,V=Math.max(c,y-M),Z=Math.max(m,_-N),K=yc(C,c,V),Q=yc(R,m,Z),ie=Math.min(K+M,y)-K,_e=Math.min(Q+N,_)-Q;return Ns(K,Q,ie,_e)},yw=(o,i,c)=>{const m=J(i.bottom-c.y),y=J(c.bottom-i.y),_=cE(o,y,y,m),C=J(i.right-c.x),R=J(c.right-i.x);return{maxWidth:uE(o,R,R,C),maxHeight:_}},RE=(o,i,c,m)=>{const y=o.bubble,_=y.offset,C=fE(m,o.restriction,_),R=o.x+_.left,M=o.y+_.top,N=Ns(R,M,i,c),{originInBounds:V,sizeInBounds:Z,visibleW:K,visibleH:Q}=DA(N,C),ie=V&&Z,_e=ie?N:TE(N,C),Ve=_e.width>0&&_e.height>0,{maxWidth:De,maxHeight:Ie}=yw(o.direction,_e,m),pt={rect:_e,maxHeight:Ie,maxWidth:De,direction:o.direction,placement:o.placement,classes:{on:y.classesOn,off:y.classesOff},layout:o.label,testY:M};return ie||o.alwaysFit?Gg.fit(pt):Gg.nofit(pt,K,Q,Ve)},yp=(o,i,c,m,y,_)=>{const C=m.width,R=m.height,M=(V,Z,K,Q,ie)=>{const _e=V(c,m,y,o,_),Ve=RE(_e,C,R,_);return Ve.fold(J(Ve),(De,Ie,pt,vt)=>(ie===vt?pt>Q||Ie>K:!ie&&vt)?Ve:Gg.nofit(Z,K,Q,ie))};return re(i,(V,Z)=>{const K=_t(M,Z);return V.fold(J(V),K)},Gg.nofit({rect:c,maxHeight:m.height,maxWidth:m.width,direction:Ug(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:c.y},-1,-1,!1)).fold(Te,Te)},Vb=o=>{const i=D(L.none()),c=()=>i.get().each(o);return{clear:()=>{c(),i.set(L.none())},isSet:()=>i.get().isSome(),get:()=>i.get(),set:R=>{c(),i.set(L.some(R))}}},qg=()=>Vb(o=>o.destroy()),gd=()=>Vb(o=>o.unbind()),ns=()=>{const o=Vb(ee);return{...o,on:c=>o.get().each(c)}},IE=Ot,Gi=(o,i,c)=>Xm(o,i,IE,c),Ek=(o,i,c)=>sb(o,i,IE,c),AE=x1,OE=["top","bottom","right","left"],bp="data-alloy-transition-timer",MA=(o,i)=>ih(o,i.classes),DE=(o,i,c)=>c.exists(m=>{const y=o.mode;return y==="all"?!0:m[y]!==i[y]}),ME=(o,i)=>{const c=m=>parseFloat(m).toFixed(3);return Fr(i,(m,y)=>{const _=o[y].map(c),C=m.map(c);return!Yu(_,C)}).isSome()},PA=o=>{const i=_=>{const R=xt(o,_).split(/\s*,\s*/);return Je(R,Di)},c=_=>{if(x(_)&&/^[\d.]+/.test(_)){const C=parseFloat(_);return Dc(_,"ms")?C:C*1e3}else return 0},m=i("transition-delay"),y=i("transition-duration");return re(y,(_,C,R)=>{const M=c(m[R])+c(C);return Math.max(_,M)},0)},zA=(o,i)=>{const c=gd(),m=gd();let y;const _=N=>{var V;const Z=(V=N.raw.pseudoElement)!==null&&V!==void 0?V:"";return ls(N.target,o)&&Zs(Z)&&Gn(OE,N.raw.propertyName)},C=N=>{if(ke(N)||_(N)){c.clear(),m.clear();const V=N==null?void 0:N.raw.type;(ke(V)||V===Dg())&&(clearTimeout(y),ge(o,bp),Ei(o,i.classes))}},R=Gi(o,xx(),N=>{_(N)&&(R.unbind(),c.set(Gi(o,Dg(),C)),m.set(Gi(o,bb(),C)))}),M=PA(o);requestAnimationFrame(()=>{y=setTimeout(C,M+17),Jn(o,bp,y)})},NA=(o,i)=>{Su(o,i.classes),G(o,bp).each(c=>{clearTimeout(parseInt(c,10)),ge(o,bp)}),zA(o,i)},PE=(o,i,c,m,y,_)=>{const C=DE(m,y,_);if(C||MA(o,m)){un(o,"position",c.position);const R=xk(i,o),M=kE(i,{...y,rect:R}),N=oe(OE,V=>M[V]);ME(c,N)&&(fa(o,N),C&&NA(o,m),yu(o))}else Ei(o,m.classes)},Kg=o=>({width:ai(o),height:$f(o)}),Hb=(o,i,c,m)=>{Ro(i,"max-height"),Ro(i,"max-width");const y=Kg(i);return yp(i,m.preference,o,y,c,m.bounds)},E4=(o,i)=>{const c=i.classes;Ei(o,c.off),Su(o,c.on)},vp=(o,i,c)=>{const m=c.maxHeightFunction;m(o,i.maxHeight)},LA=(o,i,c)=>{const m=c.maxWidthFunction;m(o,i.maxWidth)},BA=(o,i,c)=>{const m=kE(c.origin,i);c.transition.each(y=>{PE(o,c.origin,m,y,i,c.lastPlacement)}),Sk(o,m)},zE=(o,i)=>{xE(o,i.placement)},NE=(o,i)=>{Sx(o,Math.floor(i))},LE=J((o,i)=>{NE(o,i),Ir(o,{"overflow-x":"hidden","overflow-y":"auto"})}),wp=J((o,i)=>{NE(o,i)}),BE=(o,i,c)=>o[i]===void 0?c:o[i],FA=(o,i,c,m,y,_,C,R)=>{const M=BE(C,"maxHeightFunction",LE()),N=BE(C,"maxWidthFunction",ee),V=o.anchorBox,Z=o.origin,K={bounds:AA(Z,_),origin:Z,preference:m,maxHeightFunction:M,maxWidthFunction:N,lastPlacement:y,transition:R};return $A(V,i,c,K)},$A=(o,i,c,m)=>{const y=Hb(o,i,c,m);return BA(i,y,m),zE(i,y),E4(i,y),vp(i,y,m),LA(i,y,m),{layout:y.layout,placement:y.placement}},VA=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Yg=(o,i,c,m=1)=>{const y=o*m,_=i*m,C=M=>Gt(c,M).getOr([]),R=(M,N,V)=>{const Z=$e(VA,V);return{offset:qs(M,N),classesOn:ce(V,C),classesOff:ce(Z,C)}};return{southeast:()=>R(-o,i,["top","alignLeft"]),southwest:()=>R(o,i,["top","alignRight"]),south:()=>R(-o/2,i,["top","alignCentre"]),northeast:()=>R(-o,-i,["bottom","alignLeft"]),northwest:()=>R(o,-i,["bottom","alignRight"]),north:()=>R(-o/2,-i,["bottom","alignCentre"]),east:()=>R(o,-i/2,["valignCentre","left"]),west:()=>R(-o,-i/2,["valignCentre","right"]),insetNortheast:()=>R(y,_,["top","alignLeft","inset"]),insetNorthwest:()=>R(-y,_,["top","alignRight","inset"]),insetNorth:()=>R(-y/2,_,["top","alignCentre","inset"]),insetSoutheast:()=>R(y,-_,["bottom","alignLeft","inset"]),insetSouthwest:()=>R(-y,-_,["bottom","alignRight","inset"]),insetSouth:()=>R(-y/2,-_,["bottom","alignCentre","inset"]),insetEast:()=>R(-y,-_/2,["valignCentre","right","inset"]),insetWest:()=>R(y,-_/2,["valignCentre","left","inset"])}},_p=()=>Yg(0,0,{}),bw=Te,vw=(o,i)=>c=>FE(c)==="rtl"?i:o,FE=o=>xt(o,"direction")==="rtl"?"rtl":"ltr";var gf;(function(o){o.TopToBottom="toptobottom",o.BottomToTop="bottomtotop"})(gf||(gf={}));const ww="data-alloy-vertical-dir",$E=o=>Ab(o,i=>Jo(i)&&da(i,"data-alloy-vertical-dir")===gf.BottomToTop),yd=()=>ga("layouts",[Ct("onLtr"),Ct("onRtl"),Wo("onBottomLtr"),Wo("onBottomRtl")]),dm=(o,i,c,m,y,_,C)=>{const R=C.map($E).getOr(!1),M=i.layouts.map(Q=>Q.onLtr(o)),N=i.layouts.map(Q=>Q.onRtl(o)),V=R?i.layouts.bind(Q=>Q.onBottomLtr.map(ie=>ie(o))).or(M).getOr(y):M.getOr(c),Z=R?i.layouts.bind(Q=>Q.onBottomRtl.map(ie=>ie(o))).or(N).getOr(_):N.getOr(m);return vw(V,Z)(o)},Tk=(o,i,c)=>{const m=i.hotspot,y=xk(c,m.element),_=dm(o.element,i,cw(),Bb(),Lb(),lw(),L.some(i.hotspot.element));return L.some(bw({anchorBox:y,bubble:i.bubble.getOr(_p()),overrides:i.overrides,layouts:_}))};var VE=[Ct("hotspot"),Wo("bubble"),Be("overrides",{}),yd(),qo("placement",Tk)];const HA=(o,i,c)=>{const m=pw(c,i.x,i.y),y=Ns(m.left,m.top,i.width,i.height),_=dm(o.element,i,mE(),iw(),mE(),iw(),L.none());return L.some(bw({anchorBox:y,bubble:i.bubble,overrides:i.overrides,layouts:_}))};var HE=[Ct("x"),Ct("y"),Be("height",0),Be("width",0),Be("bubble",_p()),Be("overrides",{}),yd(),qo("placement",HA)];const UE=ne.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),UA=o=>o.fold(Te,(i,c,m)=>i.translate(-c,-m)),jA=o=>o.fold(Te,Te),jE=o=>re(o,(i,c)=>i.translate(c.left,c.top),qs(0,0)),_w=o=>{const i=Ee(o,UA);return jE(i)},WE=o=>{const i=Ee(o,jA);return jE(i)},WA=UE.screen,ZA=UE.absolute,GA=(o,i,c)=>{const m=td(c.root).dom,y=_=>{const C=Pi(_),R=Pi(o.element);return ls(C,R)};return L.from(m.frameElement).map(Le.fromDom).filter(y).map(ri)},Rk=(o,i,c)=>{const m=Pi(o.element),y=_l(m),_=GA(o,i,c).getOr(y);return ZA(_,y.left,y.top)},ZE=(o,i,c,m)=>{const y=WA(qs(o,i));return L.some(nd(y,c,m))},GE=(o,i,c,m,y)=>o.map(_=>{const C=[i,_.point],R=$b(m,()=>WE(C),()=>WE(C),()=>_w(C)),M=lb(R.left,R.top,_.width,_.height),N=c.showAbove?Lb():cw(),V=c.showAbove?lw():Bb(),Z=dm(y,c,N,V,N,V,L.none());return bw({anchorBox:M,bubble:c.bubble.getOr(_p()),overrides:c.overrides,layouts:Z})}),qE=(o,i,c)=>{const m=Rk(o,c,i);return i.node.filter(Ga).bind(y=>{const _=y.dom.getBoundingClientRect(),C=ZE(_.left,_.top,_.width,_.height),R=i.node.getOr(o.element);return GE(C,m,i,c,R)})};var KE=[Ct("node"),Ct("root"),Wo("bubble"),yd(),Be("overrides",{}),Be("showAbove",!1),qo("placement",qE)];const Ub="\uFEFF",Ik="\xA0",jb={create:(o,i,c,m)=>({start:o,soffset:i,finish:c,foffset:m})},kw=ne.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ok=(o,i,c,m)=>o.fold(i,c,m),YE=o=>o.fold(Te,Te,Te),XE=kw.before,fm=kw.on,qA=kw.after,JE={before:XE,on:fm,after:qA,cata:Ok,getStart:YE},Wb=ne.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),KA=o=>Wb.exact(o.start,o.soffset,o.finish,o.foffset),Cw=o=>o.match({domRange:i=>Le.fromDom(i.startContainer),relative:(i,c)=>JE.getStart(i),exact:(i,c,m,y)=>i}),YA=Wb.domRange,XA=Wb.relative,QE=Wb.exact,kp=o=>{const i=Cw(o);return td(i)},Zb=jb.create,Gb={domRange:YA,relative:XA,exact:QE,exactFromRange:KA,getWin:kp,range:Zb},Dk=(o,i)=>{i.fold(c=>{o.setStartBefore(c.dom)},(c,m)=>{o.setStart(c.dom,m)},c=>{o.setStartAfter(c.dom)})},JA=(o,i)=>{i.fold(c=>{o.setEndBefore(c.dom)},(c,m)=>{o.setEnd(c.dom,m)},c=>{o.setEndAfter(c.dom)})},Mk=(o,i,c)=>{const m=o.document.createRange();return Dk(m,i),JA(m,c),m},Ti=(o,i,c,m,y)=>{const _=o.document.createRange();return _.setStart(i.dom,c),_.setEnd(m.dom,y),_},e2=o=>({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height}),Xg=o=>{const i=o.getClientRects(),c=i.length>0?i[0]:o.getBoundingClientRect();return c.width>0||c.height>0?L.some(c).map(e2):L.none()},QA=o=>{const i=o.getBoundingClientRect();return i.width>0||i.height>0?L.some(i).map(e2):L.none()},qb=ne.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Cp=(o,i,c)=>i(Le.fromDom(c.startContainer),c.startOffset,Le.fromDom(c.endContainer),c.endOffset),Sp=(o,i)=>i.match({domRange:c=>({ltr:J(c),rtl:L.none}),relative:(c,m)=>({ltr:Kd(()=>Mk(o,c,m)),rtl:Kd(()=>L.some(Mk(o,m,c)))}),exact:(c,m,y,_)=>({ltr:Kd(()=>Ti(o,c,m,y,_)),rtl:Kd(()=>L.some(Ti(o,y,_,c,m)))})}),Sw=(o,i)=>{const c=i.ltr();return c.collapsed?i.rtl().filter(y=>y.collapsed===!1).map(y=>qb.rtl(Le.fromDom(y.endContainer),y.endOffset,Le.fromDom(y.startContainer),y.startOffset)).getOrThunk(()=>Cp(o,qb.ltr,c)):Cp(o,qb.ltr,c)},Jg=(o,i)=>{const c=Sp(o,i);return Sw(o,c)},xw=(o,i)=>Jg(o,i).match({ltr:(m,y,_,C)=>{const R=o.document.createRange();return R.setStart(m.dom,y),R.setEnd(_.dom,C),R},rtl:(m,y,_,C)=>{const R=o.document.createRange();return R.setStart(_.dom,C),R.setEnd(m.dom,y),R}});qb.ltr,qb.rtl;const hm=(o,i,c)=>Je(Hm(o,c),i),zr=(o,i)=>Jy(i,o),xp=(o,i,c,m)=>{const _=Pi(o).dom.createRange();return _.setStart(o.dom,i),_.setEnd(c.dom,m),_},Pk=(o,i,c,m)=>{const y=xp(o,i,c,m),_=ls(o,c)&&i===m;return y.collapsed&&!_},eO=o=>L.from(o.getSelection()),zk=o=>{if(o.rangeCount>0){const i=o.getRangeAt(0),c=o.getRangeAt(o.rangeCount-1);return L.some(jb.create(Le.fromDom(i.startContainer),i.startOffset,Le.fromDom(c.endContainer),c.endOffset))}else return L.none()},Qg=o=>{if(o.anchorNode===null||o.focusNode===null)return zk(o);{const i=Le.fromDom(o.anchorNode),c=Le.fromDom(o.focusNode);return Pk(i,o.anchorOffset,c,o.focusOffset)?L.some(jb.create(i,o.anchorOffset,c,o.focusOffset)):zk(o)}},Ep=o=>eO(o).filter(i=>i.rangeCount>0).bind(Qg),Nk=(o,i)=>{const c=xw(o,i);return Xg(c)},ey=(o,i)=>{const c=xw(o,i);return QA(c)},Kb=((o,i)=>{const c=_=>{if(!o(_))throw new Error("Can only get "+i+" value of a "+i+" node");return m(_).getOr("")},m=_=>o(_)?L.from(_.dom.nodeValue):L.none();return{get:c,getOption:m,set:(_,C)=>{if(!o(_))throw new Error("Can only set raw "+i+" value of a "+i+" node");_.dom.nodeValue=C}}})(nl,"text"),t2=o=>Kb.get(o),dh=(o,i)=>({element:o,offset:i}),Ew=(o,i)=>{const c=zi(o);if(c.length===0)return dh(o,i);if(i<c.length)return dh(c[i],0);{const m=c[c.length-1],y=nl(m)?t2(m).length:zi(m).length;return dh(m,y)}},ba=(o,i)=>nl(o)?dh(o,i):Ew(o,i),n2=(o,i)=>i.getSelection.getOrThunk(()=>()=>Ep(o))().map(m=>{const y=ba(m.start,m.soffset),_=ba(m.finish,m.foffset);return Gb.range(y.element,y.offset,_.element,_.offset)}),Ru=(o,i,c)=>{const m=td(i.root).dom,y=Rk(o,c,i),_=n2(m,i).bind(M=>ey(m,Gb.exactFromRange(M)).orThunk(()=>{const V=Le.fromText(Ub);Bl(M.start,V);const Z=Nk(m,Gb.exact(V,0,V,1));return uc(V),Z}).bind(V=>ZE(V.left,V.top,V.width,V.height))),R=n2(m,i).bind(M=>Jo(M.start)?L.some(M.start):Ml(M.start)).getOr(o.element);return GE(_,y,i,c,R)};var Bk=[Wo("getSelection"),Ct("root"),Wo("bubble"),yd(),Be("overrides",{}),Be("showAbove",!1),qo("placement",Ru)];const bd="link-layout",vd=o=>o.x+o.width,Fk=(o,i)=>o.x-i.width,ty=(o,i)=>o.y-i.height+o.height,tO=o=>o.y,o2=(o,i,c)=>ya(vd(o),tO(o),c.southeast(),Ug(),"southeast",Xa(o,{left:0,top:2}),bd),Tw=(o,i,c)=>ya(Fk(o,i),tO(o),c.southwest(),jg(),"southwest",Xa(o,{right:1,top:2}),bd),Rw=(o,i,c)=>ya(vd(o),ty(o,i),c.northeast(),sw(),"northeast",Xa(o,{left:0,bottom:3}),bd),Iw=(o,i,c)=>ya(Fk(o,i),ty(o,i),c.northwest(),fk(),"northwest",Xa(o,{right:1,bottom:3}),bd),wd=()=>[o2,Tw,Rw,Iw],$k=()=>[Tw,o2,Iw,Rw],nO=(o,i,c)=>{const m=xk(c,i.item.element),y=dm(o.element,i,wd(),$k(),wd(),$k(),L.none());return L.some(bw({anchorBox:m,bubble:_p(),overrides:i.overrides,layouts:y}))};var s2=[Ct("item"),yd(),Be("overrides",{}),qo("placement",nO)],Vk=Vi("type",{selection:Bk,node:KE,hotspot:VE,submenu:s2,makeshift:HE});const Hk=[al("classes",pa),Vl("mode","all",["all","layout","placement"])],Aw=[Be("useFixed",nn),Wo("getBounds")],r2=[Hi("anchor",Vk),ga("transition",Hk)],bc=()=>{const o=document.documentElement;return CE(0,0,o.clientWidth,o.clientHeight)},Ow=o=>{const i=ri(o.element),c=o.element.dom.getBoundingClientRect();return ei(i.left,i.top,c.width,c.height)},a2=(o,i,c,m,y,_)=>{const C=SE(i.anchorBox,o);return FA(C,m.element,i.bubble,i.layouts,y,c,i.overrides,_)},ny=(o,i,c,m,y)=>{const _=L.none();Ri(o,i,c,m,y,_)},Ri=(o,i,c,m,y,_)=>{const C=$i("placement.info",mt(r2),y),R=C.anchor,M=m.element,N=c.get(m.uid);hw(()=>{un(M,"position","fixed");const V=er(M,"visibility");un(M,"visibility","hidden");const Z=i.useFixed()?bc():Ow(o);R.placement(o,R,Z).each(K=>{const Q=_.orThunk(()=>i.getBounds.map(Tn)),ie=a2(Z,K,Q,m,N,C.transition);c.set(m.uid,ie)}),V.fold(()=>{Ro(M,"visibility")},K=>{un(M,"visibility",K)}),er(M,"left").isNone()&&er(M,"top").isNone()&&er(M,"right").isNone()&&er(M,"bottom").isNone()&&ca(er(M,"position"),"fixed")&&Ro(M,"position")},M)};var fh=Object.freeze({__proto__:null,position:ny,positionWithinBounds:Ri,getMode:(o,i,c)=>i.useFixed()?"fixed":"absolute",reset:(o,i,c,m)=>{const y=m.element;me(["position","left","right","top","bottom"],_=>Ro(y,_)),OA(y),c.clear(m.uid)}}),dl=Object.freeze({__proto__:null,init:()=>{let o={};return Da({readState:()=>o,clear:y=>{Ne(y)?delete o[y]:o={}},set:(y,_)=>{o[y]=_},get:y=>Gt(o,y)})}});const ta=Qa({fields:Aw,name:"positioning",active:IA,apis:fh,state:dl}),Uk=o=>o.getSystem().isConnected(),Yb=o=>{zo(o,dd());const i=o.components();me(i,Yb)},Tp=o=>{const i=o.components();me(i,Tp),zo(o,rf())},Xb=(o,i)=>{o.getSystem().addToWorld(i),Ga(o.element)&&Tp(i)},Dw=o=>{Yb(o),o.getSystem().removeFromWorld(o)},Jb=(o,i)=>{wl(o.element,i.element)},i2=o=>{me(o.components(),i=>uc(i.element)),Zh(o.element),o.syncComponents()},sO=(o,i,c)=>{const m=o.components();i2(o);const y=c(i),_=$e(m,y);me(_,C=>{Yb(C),o.getSystem().removeFromWorld(C)}),me(y,C=>{Uk(C)?Jb(o,C):(o.getSystem().addToWorld(C),Jb(o,C),Ga(o.element)&&Tp(C))}),o.syncComponents()},rO=(o,i,c)=>{const m=o.components(),y=ce(i,R=>K1(R).toArray());me(m,R=>{Gn(y,R)||Dw(R)});const _=c(i),C=$e(m,_);me(C,R=>{Uk(R)&&Dw(R)}),me(_,R=>{Uk(R)||Xb(o,R)}),o.syncComponents()},yf=(o,i)=>{Qb(o,i,wl)},Qb=(o,i,c)=>{o.getSystem().addToWorld(i),c(o.element,i.element),Ga(o.element)&&Tp(i),o.syncComponents()},Mw=o=>{Yb(o),uc(o.element),o.getSystem().removeFromWorld(o)},bf=o=>{const i=bl(o.element).bind(c=>o.getSystem().getByDom(c).toOptional());Mw(o),i.each(c=>{c.syncComponents()})},Pw=o=>{const i=o.components();me(i,Mw),Zh(o.element),o.syncComponents()},zw=(o,i)=>{jk(o,i,wl)},Rp=(o,i)=>{jk(o,i,jh)},jk=(o,i,c)=>{c(o,i.element);const m=zi(i.element);me(m,y=>{i.getByDom(y).each(Tp)})},l2=o=>{const i=zi(o.element);me(i,c=>{o.getByDom(c).each(Yb)}),uc(o.element)},Wk=(o,i,c,m)=>{c.get().each(C=>{Pw(o)});const y=i.getAttachPoint(o);yf(y,o);const _=o.getSystem().build(m);return yf(o,_),c.set(_),_},mm=(o,i,c,m)=>{const y=Wk(o,i,c,m);return i.onOpen(o,y),y},aO=(o,i,c,m)=>c.get().map(()=>Wk(o,i,c,m)),za=(o,i,c,m,y)=>{Nw(o,i),mm(o,i,c,m),y(),Lw(o,i)},iO=(o,i,c)=>{c.get().each(m=>{Pw(o),bf(o),i.onClose(o,m),c.clear()})},oy=(o,i,c)=>c.isOpen(),sy=(o,i,c,m)=>oy(o,i,c)&&c.get().exists(y=>i.isPartOf(o,y,m)),c2=(o,i,c)=>c.get(),lO=(o,i,c,m)=>{er(o.element,i).fold(()=>{ge(o.element,c)},y=>{Jn(o.element,c,y)}),un(o.element,i,m)},cO=(o,i,c)=>{G(o.element,c).fold(()=>Ro(o.element,i),m=>un(o.element,i,m))},Nw=(o,i,c)=>{const m=i.getAttachPoint(o);un(o.element,"position",ta.getMode(m)),lO(o,"visibility",i.cloakVisibilityAttr,"hidden")},uO=o=>io(["top","left","right","bottom"],i=>er(o,i).isSome()),Lw=(o,i,c)=>{uO(o.element)||Ro(o.element,"position"),cO(o,"visibility",i.cloakVisibilityAttr)};var dO=Object.freeze({__proto__:null,cloak:Nw,decloak:Lw,open:mm,openWhileCloaked:za,close:iO,isOpen:oy,isPartOf:sy,getState:c2,setContent:aO}),Bw=Object.freeze({__proto__:null,events:(o,i)=>xs([St(Pg(),(c,m)=>{iO(c,o,i)})])}),fO=[Co("onOpen"),Co("onClose"),Ct("isPartOf"),Ct("getAttachPoint"),Be("cloakVisibilityAttr","data-precloak-visibility")],ev=Object.freeze({__proto__:null,init:()=>{const o=ns(),i=J("not-implemented");return Da({readState:i,isOpen:o.isSet,clear:o.clear,set:o.set,get:o.get})}});const Io=Qa({fields:fO,name:"sandboxing",active:Bw,apis:dO,state:ev}),hh=J("dismiss.popups"),ry=J("reposition.popups"),Gk=J("mouse.released"),d2=Fi([Be("isExtraPart",nn),ga("fireEventInstead",[Be("event",nh())])]),mh=o=>{const i=$i("Dismissal",d2,o);return{[hh()]:{schema:Fi([Ct("target")]),onReceive:(c,m)=>{Io.isOpen(c)&&(Io.isPartOf(c,m.target)||i.isExtraPart(c,m.target)||i.fireEventInstead.fold(()=>Io.close(c),_=>zo(c,_.event)))}}}},ay=Fi([ga("fireEventInstead",[Be("event",V1())]),mc("doReposition")]),qk=o=>{const i=$i("Reposition",ay,o);return{[ry()]:{onReceive:c=>{Io.isOpen(c)&&i.fireEventInstead.fold(()=>i.doReposition(c),m=>zo(c,m.event))}}}},Kk=(o,i,c)=>{i.store.manager.onLoad(o,i,c)},Fw=(o,i,c)=>{i.store.manager.onUnload(o,i,c)};var nv=Object.freeze({__proto__:null,onLoad:Kk,onUnload:Fw,setValue:(o,i,c,m)=>{i.store.manager.setValue(o,i,c,m)},getValue:(o,i,c)=>i.store.manager.getValue(o,i,c),getState:(o,i,c)=>c}),m2=Object.freeze({__proto__:null,events:(o,i)=>{const c=o.resetOnDom?[sr((m,y)=>{Kk(m,o,i)}),il((m,y)=>{Fw(m,o,i)})]:[dw(o,i,Kk)];return xs(c)}});const iy=()=>{const o=D(null),i=()=>({mode:"memory",value:o.get()}),c=()=>o.get()===null,m=()=>{o.set(null)};return Da({set:o.set,get:o.get,isNotSet:c,clear:m,readState:i})},Vw=()=>Da({readState:ee}),Ip=()=>{const o=D({}),i=D({});return Da({readState:()=>({mode:"dataset",dataByValue:o.get(),dataByText:i.get()}),lookup:C=>Gt(o.get(),C).orThunk(()=>Gt(i.get(),C)),update:C=>{const R=o.get(),M=i.get(),N={},V={};me(C,Z=>{N[Z.value]=Z,Gt(Z,"meta").each(K=>{Gt(K,"text").each(Q=>{V[Q]=Z})})}),o.set({...R,...N}),i.set({...M,...V})},clear:()=>{o.set({}),i.set({})}})};var ov=Object.freeze({__proto__:null,memory:iy,dataset:Ip,manual:Vw,init:o=>o.store.manager.state(o)});const Ap=(o,i,c,m)=>{const y=i.store;c.update([m]),y.setValue(o,m),i.onSetValue(o,m)},p2=(o,i,c)=>{const m=i.store,y=m.getDataKey(o);return c.lookup(y).getOrThunk(()=>m.getFallbackEntry(y))},Yk=(o,i,c)=>{i.store.initialValue.each(y=>{Ap(o,i,c,y)})},ly=(o,i,c)=>{c.clear()};var Xk=[Wo("initialValue"),Ct("getFallbackEntry"),Ct("getDataKey"),Ct("setValue"),qo("manager",{setValue:Ap,getValue:p2,onLoad:Yk,onUnload:ly,state:Ip})];const Hw=(o,i,c)=>i.store.getValue(o),hO=(o,i,c,m)=>{i.store.setValue(o,m),i.onSetValue(o,m)},g2=(o,i,c)=>{i.store.initialValue.each(m=>{i.store.setValue(o,m)})};var gm=[Ct("getValue"),Be("setValue",ee),Wo("initialValue"),qo("manager",{setValue:hO,getValue:Hw,onLoad:g2,onUnload:ee,state:hd.init})];const Jk=(o,i,c,m)=>{c.set(m),i.onSetValue(o,m)},Qk=(o,i,c)=>c.get(),Uw=(o,i,c)=>{i.store.initialValue.each(m=>{c.isNotSet()&&c.set(m)})},y2=(o,i,c)=>{c.clear()};var ph=[Wo("initialValue"),qo("manager",{setValue:Jk,getValue:Qk,onLoad:Uw,onUnload:y2,state:iy})],eC=[ci("store",{mode:"memory"},Vi("mode",{memory:ph,manual:gm,dataset:Xk})),Co("onSetValue"),Be("resetOnDom",!1)];const tn=Qa({fields:eC,name:"representing",active:m2,apis:nv,extra:{setValueFrom:(o,i)=>{const c=tn.getValue(i);tn.setValue(o,c)}},state:ov}),Na=(o,i)=>O(o,{},Ee(i,c=>W0(c.name(),"Cannot configure "+c.name()+" for "+o)).concat([li("dump",Te)])),qc=o=>o.dump,na=(o,i)=>({...Lt(i),...o.dump}),Au={field:Na,augment:na,get:qc},vc="placeholder",Wr=ne.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),tC=o=>Mo(o,"uiType"),cy=(o,i,c,m)=>o.exists(y=>y!==c.owner)?Wr.single(!0,J(c)):Gt(m,c.name).fold(()=>{throw new Error("Unknown placeholder component: "+c.name+`
Known: [`+_n(m)+`]
Namespace: `+o.getOr("none")+`
Spec: `+JSON.stringify(c,null,2))},y=>y.replace()),Op=(o,i,c,m)=>tC(c)&&c.uiType===vc?cy(o,i,c,m):Wr.single(!1,J(c)),sv=(o,i,c,m)=>Op(o,i,c,m).fold((_,C)=>{const R=tC(c)?C(i,c.config,c.validated):C(i),M=Gt(R,"components").getOr([]),N=ce(M,V=>sv(o,i,V,m));return[{...R,components:N}]},(_,C)=>{if(tC(c)){const R=C(i,c.config,c.validated);return c.validated.preprocess.getOr(Te)(R)}else return C(i)}),b2=(o,i,c,m)=>ce(c,y=>sv(o,i,y,m)),v2=(o,i)=>{let c=!1;const m=()=>c,y=()=>{if(c)throw new Error("Trying to use the same placeholder more than once: "+o);return c=!0,i},_=()=>i.fold((C,R)=>C,(C,R)=>C);return{name:J(o),required:_,used:m,replace:y}},w2=(o,i,c,m)=>{const y=mo(m,(C,R)=>v2(R,C)),_=b2(o,i,c,y);return lo(y,C=>{if(C.used()===!1&&C.required())throw new Error("Placeholder: "+C.name()+` was not found in components list
Namespace: `+o.getOr("none")+`
Components: `+JSON.stringify(i.components,null,2))}),_},jw=Wr.single,nC=Wr.multiple,_2=J(vc),rv=ne.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),av=Be("factory",{sketch:Te}),iv=Be("schema",[]),lv=Ct("name"),Ww=Qo("pname","pname",Qd(o=>"<alloy."+dn(o.name)+">"),Aa()),Zw=li("schema",()=>[Wo("preprocess")]),Dp=Be("defaults",J({})),Kl=Be("overrides",J({})),cv=mt([av,iv,lv,Ww,Dp,Kl]),k2=mt([av,iv,lv,Dp,Kl]),oC=mt([av,iv,lv,Ww,Dp,Kl]),mO=mt([av,Zw,lv,Ct("unit"),Ww,Dp,Kl]),C2=o=>o.fold(L.some,L.none,L.some,L.some),uv=o=>{const i=c=>c.name;return o.fold(i,i,i,i)},pO=o=>o.fold(Te,Te,Te,Te),dv=(o,i)=>c=>{const m=$i("Converting part type",i,c);return o(m)},La=dv(rv.required,cv),Ou=dv(rv.external,k2),wc=dv(rv.optional,oC),ym=dv(rv.group,mO),Du=J("entirety");var gO=Object.freeze({__proto__:null,required:La,external:Ou,optional:wc,group:ym,asNamedPart:C2,name:uv,asCommon:pO,original:Du});const sC=(o,i,c,m)=>hs(i.defaults(o,c,m),c,{uid:o.partUids[i.name]},i.overrides(o,c,m)),rC=(o,i,c)=>{const m={},y={};return me(c,_=>{_.fold(C=>{m[C.pname]=jw(!0,(R,M,N)=>C.factory.sketch(sC(R,C,M,N)))},C=>{const R=i.parts[C.name];y[C.name]=J(C.factory.sketch(sC(i,C,R[Du()]),R))},C=>{m[C.pname]=jw(!1,(R,M,N)=>C.factory.sketch(sC(R,C,M,N)))},C=>{m[C.pname]=nC(!0,(R,M,N)=>{const V=R[C.name];return Ee(V,Z=>C.factory.sketch(hs(C.defaults(R,Z,N),Z,C.overrides(R,Z))))})})}),{internals:J(m),externals:J(y)}},aC=(o,i)=>{const c={};return me(i,m=>{C2(m).each(y=>{const _=yO(o,y.pname);c[y.name]=C=>{const R=$i("Part: "+y.name+" in "+o,mt(y.schema),C);return{..._,config:C,validated:R}}})}),c},yO=(o,i)=>({uiType:_2(),owner:o,name:i}),iC=(o,i,c)=>({uiType:_2(),owner:o,name:i,config:c,validated:{}}),bO=o=>ce(o,i=>i.fold(L.none,L.some,L.none,L.none).map(c=>cd(c.name,c.schema.concat([dk(Du())]))).toArray()),vO=o=>Ee(o,uv),lC=(o,i,c)=>rC(o,i,c),cC=(o,i,c)=>w2(L.some(o),i,i.components,c),bs=(o,i,c)=>{const m=i.partUids[c];return o.getSystem().getByUid(m).toOptional()},_d=(o,i,c)=>bs(o,i,c).getOrDie("Could not find part: "+c),uC=(o,i,c)=>{const m={},y=i.partUids,_=o.getSystem();return me(c,C=>{m[C]=J(_.getByUid(y[C]))}),m},dC=(o,i)=>{const c=o.getSystem();return mo(i.partUids,(m,y)=>J(c.getByUid(m)))},S2=o=>_n(o.partUids),Gw=(o,i,c)=>{const m={},y=i.partUids,_=o.getSystem();return me(c,C=>{m[C]=J(_.getByUid(y[C]).getOrDie())}),m},x2=(o,i)=>{const c=vO(i);return $o(Ee(c,m=>({key:m,value:o+"-"+m})))},qw=o=>Qo("partUids","partUids",tf(i=>x2(i.uid,o)),Aa());var E2=Object.freeze({__proto__:null,generate:aC,generateOne:iC,schemas:bO,names:vO,substitutes:lC,components:cC,defaultUids:x2,defaultUidsSchema:qw,getAllParts:dC,getAllPartNames:S2,getPart:bs,getPartOrDie:_d,getParts:uC,getPartsOrDie:Gw});const wO=(o,i)=>(o.length>0?[cd("parts",o)]:[]).concat([Ct("uid"),Be("dom",{}),Be("components",[]),dk("originalSpec"),Be("debug.sketcher",{})]).concat(i),T2=(o,i,c,m,y)=>{const _=wO(m,y);return $i(o+" [SpecSchema]",Fi(_.concat(i)),c)},_O=(o,i,c,m)=>{const y=fn(m),_=T2(o,i,y,[],[]);return c(_,y)},fC=(o,i,c,m,y)=>{const _=fn(y),C=bO(c),R=qw(c),M=T2(o,i,_,C,[R]),N=lC(o,M,c),V=cC(o,M,N.internals());return m(M,V,_,N.externals())},R2=o=>Mo(o,"uid"),fn=o=>R2(o)?o:{...o,uid:rh("uid")},kd=o=>o.uid!==void 0,hC=Fi([Ct("name"),Ct("factory"),Ct("configFields"),Be("apis",{}),Be("extraApis",{})]),I2=Fi([Ct("name"),Ct("factory"),Ct("configFields"),Ct("partFields"),Be("apis",{}),Be("extraApis",{})]),fr=o=>{const i=$i("Sketcher for "+o.name,hC,o),c=_=>_O(i.name,i.configFields,i.factory,_),m=mo(i.apis,om),y=mo(i.extraApis,(_,C)=>up(_,C));return{name:i.name,configFields:i.configFields,sketch:c,...m,...y}},Nr=o=>{const i=$i("Sketcher for "+o.name,I2,o),c=C=>fC(i.name,i.configFields,i.partFields,i.factory,C),m=aC(i.name,i.partFields),y=mo(i.apis,om),_=mo(i.extraApis,(C,R)=>up(C,R));return{name:i.name,partFields:i.partFields,configFields:i.configFields,sketch:c,parts:m,...y,..._}},uy=o=>yl("input")(o)&&da(o,"type")!=="radio"||yl("textarea")(o);var kO=Object.freeze({__proto__:null,getCurrent:(o,i,c)=>i.find(o)});const CO=[Ct("find")],yo=Qa({fields:CO,name:"composing",apis:kO}),mC=["input","button","textarea","select"],dy=(o,i,c)=>{(i.disabled()?gC:yC)(o,i)},Kw=(o,i)=>i.useNative===!0&&Gn(mC,tl(o.element)),SO=o=>ae(o.element,"disabled"),xO=o=>{Jn(o.element,"disabled","disabled")},pC=o=>{ge(o.element,"disabled")},T4=o=>da(o.element,"aria-disabled")==="true",A2=o=>{Jn(o.element,"aria-disabled","true")},EO=o=>{Jn(o.element,"aria-disabled","false")},gC=(o,i,c)=>{i.disableClass.each(y=>{Qr(o.element,y)}),(Kw(o,i)?xO:A2)(o),i.onDisabled(o)},yC=(o,i,c)=>{i.disableClass.each(y=>{Es(o.element,y)}),(Kw(o,i)?pC:EO)(o),i.onEnabled(o)},O2=(o,i)=>Kw(o,i)?SO(o):T4(o);var M2=Object.freeze({__proto__:null,enable:yC,disable:gC,isDisabled:O2,onLoad:dy,set:(o,i,c,m)=>{(m?gC:yC)(o,i)}}),RO=Object.freeze({__proto__:null,exhibit:(o,i)=>Zl({classes:i.disabled()?i.disableClass.toArray():[]}),events:(o,i)=>xs([Q0(Wi(),(c,m)=>O2(c,o)),dw(o,i,dy)])}),R4=[jr("disabled",nn),Be("useNative",!0),Wo("disableClass"),Co("onDisabled"),Co("onEnabled")];const In=Qa({fields:R4,name:"disabling",active:RO,apis:M2}),Yw=(o,i,c,m)=>{const y=zr(o.element,"."+i.highlightClass);me(y,_=>{io(m,R=>ls(R.element,_))||(Es(_,i.highlightClass),o.getSystem().getByDom(_).each(R=>{i.onDehighlight(o,R),zo(R,H1())}))})},I4=(o,i,c)=>Yw(o,i,c,[]),IO=(o,i,c,m)=>{bm(o,i,c,m)&&(Es(m.element,i.highlightClass),i.onDehighlight(o,m),zo(m,H1()))},hv=(o,i,c,m)=>{Yw(o,i,c,[m]),bm(o,i,c,m)||(Qr(m.element,i.highlightClass),i.onHighlight(o,m),zo(m,J0()))},A4=(o,i,c)=>{Qw(o,i).each(m=>{hv(o,i,c,m)})},Xw=(o,i,c)=>{vC(o,i).each(m=>{hv(o,i,c,m)})},AO=(o,i,c,m)=>{bC(o,i,c,m).fold(y=>{throw y},y=>{hv(o,i,c,y)})},OO=(o,i,c,m)=>{const y=pv(o,i);Oe(y,m).each(C=>{hv(o,i,c,C)})},bm=(o,i,c,m)=>xi(m.element,i.highlightClass),Jw=(o,i,c)=>Ys(o.element,"."+i.highlightClass).bind(m=>o.getSystem().getByDom(m).toOptional()),bC=(o,i,c,m)=>{const y=zr(o.element,"."+i.itemClass);return L.from(y[m]).fold(()=>to.error(new Error("No element found with index "+m)),o.getSystem().getByDom)},Qw=(o,i,c)=>Ys(o.element,"."+i.itemClass).bind(m=>o.getSystem().getByDom(m).toOptional()),vC=(o,i,c)=>{const m=zr(o.element,"."+i.itemClass);return(m.length>0?L.some(m[m.length-1]):L.none()).bind(_=>o.getSystem().getByDom(_).toOptional())},mv=(o,i,c,m)=>{const y=zr(o.element,"."+i.itemClass);return yt(y,C=>xi(C,i.highlightClass)).bind(C=>{const R=gp(C,m,0,y.length-1);return o.getSystem().getByDom(y[R]).toOptional()})},DO=(o,i,c)=>mv(o,i,c,-1),MO=(o,i,c)=>mv(o,i,c,1),pv=(o,i,c)=>{const m=zr(o.element,"."+i.itemClass);return fu(Ee(m,y=>o.getSystem().getByDom(y).toOptional()))};var e_=Object.freeze({__proto__:null,dehighlightAll:I4,dehighlight:IO,highlight:hv,highlightFirst:A4,highlightLast:Xw,highlightAt:AO,highlightBy:OO,isHighlighted:bm,getHighlighted:Jw,getFirst:Qw,getLast:vC,getPrevious:DO,getNext:MO,getCandidates:pv}),PO=[Ct("highlightClass"),Ct("itemClass"),Co("onHighlight"),Co("onDehighlight")];const No=Qa({fields:PO,name:"highlighting",apis:e_}),zO=[8],vf=[9],Mu=[13],t_=[27],Yl=[32],fy=[37],hy=[38],Mp=[39],gh=[40],wC=(o,i,c)=>{const m=et(o.slice(0,i)),y=et(o.slice(i+1));return Oe(m.concat(y),c)},Pp=(o,i,c)=>{const m=et(o.slice(0,i));return Oe(m,c)},M7=(o,i,c)=>{const m=o.slice(0,i),y=o.slice(i+1);return Oe(y.concat(m),c)},O4=(o,i,c)=>{const m=o.slice(i+1);return Oe(m,c)},Oo=o=>i=>{const c=i.raw;return Gn(o,c.which)},Kc=o=>i=>Fe(o,c=>c(i)),zp=o=>o.raw.shiftKey===!0,NO=o=>o.raw.ctrlKey===!0,n_=Ue(zp),Po=(o,i)=>({matches:o,classification:i}),_C=(o,i)=>Oe(o,m=>m.matches(i)).map(m=>m.classification),P2=(o,i,c)=>{i.exists(y=>c.exists(_=>ls(_,y)))||xn(o,tm(),{prevFocus:i,newFocus:c})},gv=()=>{const o=c=>Eu(c.element);return{get:o,set:(c,m)=>{const y=o(c);c.getSystem().triggerFocus(m,c.element);const _=o(c);P2(c,y,_)}}},LO=()=>{const o=c=>No.getHighlighted(c).map(m=>m.element);return{get:o,set:(c,m)=>{const y=o(c);c.getSystem().getByDom(m).fold(ee,C=>{No.highlight(c,C)});const _=o(c);P2(c,y,_)}}};var my;(function(o){o.OnFocusMode="onFocus",o.OnEnterOrSpaceMode="onEnterOrSpace",o.OnApiMode="onApi"})(my||(my={}));const Np=(o,i,c,m,y)=>{const _=()=>o.concat([Be("focusManager",gv()),ci("focusInside","onFocus",Vs(N=>Gn(["onFocus","onEnterOrSpace","onApi"],N)?to.value(N):to.error("Invalid value for focusInside"))),qo("handler",M),qo("state",i),qo("sendFocusIn",y)]),C=(N,V,Z,K,Q)=>{const ie=Z(N,V,K,Q);return _C(ie,V.event).bind(_e=>_e(N,V,K,Q))},M={schema:_,processKey:C,toEvents:(N,V)=>{const Z=N.focusInside!==my.OnFocusMode?L.none():y(N).map(ie=>St(sf(),(_e,Ve)=>{ie(_e,N,V),Ve.stop()})),K=(ie,_e)=>{const Ve=Oo(Yl.concat(Mu))(_e.event);N.focusInside===my.OnEnterOrSpaceMode&&Ve&&Jf(ie,_e)&&y(N).each(De=>{De(ie,N,V),_e.stop()})},Q=[St(jl(),(ie,_e)=>{C(ie,_e,c,N,V).fold(()=>{K(ie,_e)},Ve=>{_e.stop()})}),St(em(),(ie,_e)=>{C(ie,_e,m,N,V).each(Ve=>{_e.stop()})})];return xs(Z.toArray().concat(Q))}};return M},kC=o=>{const i=[Wo("onEscape"),Wo("onEnter"),Be("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Be("firstTabstop",0),Be("useTabstopAt",Ot),Wo("visibilitySelector")].concat([o]),c=(_e,Ve)=>{const De=_e.visibilitySelector.bind(Ie=>pd(Ve,Ie)).getOr(Ve);return Hr(De)>0},m=(_e,Ve)=>{const De=zr(_e.element,Ve.selector),Ie=Je(De,pt=>c(Ve,pt));return L.from(Ie[Ve.firstTabstop])},y=(_e,Ve)=>Ve.focusManager.get(_e).bind(De=>pd(De,Ve.selector)),_=(_e,Ve)=>c(_e,Ve)&&_e.useTabstopAt(Ve),C=(_e,Ve,De)=>{m(_e,Ve).each(Ie=>{Ve.focusManager.set(_e,Ie)})},R=(_e,Ve,De,Ie,pt)=>pt(Ve,De,vt=>_(Ie,vt)).fold(()=>Ie.cyclic?L.some(!0):L.none(),vt=>(Ie.focusManager.set(_e,vt),L.some(!0))),M=(_e,Ve,De,Ie)=>{const pt=zr(_e.element,De.selector);return y(_e,De).bind(vt=>yt(pt,_t(ls,vt)).bind(Rt=>R(_e,pt,Rt,De,Ie)))},N=(_e,Ve,De)=>{const Ie=De.cyclic?wC:Pp;return M(_e,Ve,De,Ie)},V=(_e,Ve,De)=>{const Ie=De.cyclic?M7:O4;return M(_e,Ve,De,Ie)},Z=(_e,Ve,De)=>De.onEnter.bind(Ie=>Ie(_e,Ve)),K=(_e,Ve,De)=>De.onEscape.bind(Ie=>Ie(_e,Ve)),Q=J([Po(Kc([zp,Oo(vf)]),N),Po(Oo(vf),V),Po(Kc([n_,Oo(Mu)]),Z)]),ie=J([Po(Oo(t_),K)]);return Np(i,hd.init,Q,ie,()=>L.some(C))};var p=kC(li("cyclic",nn)),b=kC(li("cyclic",Ot));const k=(o,i,c)=>(_b(o,c,Wi()),L.some(!0)),E=(o,i,c)=>uy(c)&&Oo(Yl)(i.event)?L.none():k(o,i,c),P=(o,i)=>L.some(!0),F=[Be("execute",E),Be("useSpace",!1),Be("useEnter",!0),Be("useControlEnter",!1),Be("useDown",!1)],q=(o,i,c)=>c.execute(o,i,o.element),te=(o,i,c,m)=>{const y=c.useSpace&&!uy(o.element)?Yl:[],_=c.useEnter?Mu:[],C=c.useDown?gh:[],R=y.concat(_).concat(C);return[Po(Oo(R),q)].concat(c.useControlEnter?[Po(Kc([NO,Oo(Mu)]),q)]:[])},ue=(o,i,c,m)=>c.useSpace&&!uy(o.element)?[Po(Oo(Yl),P)]:[];var we=Np(F,hd.init,te,ue,()=>L.none());const ze=()=>{const o=ns();return Da({readState:()=>o.get().map(y=>({numRows:String(y.numRows),numColumns:String(y.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(y,_)=>{o.set({numRows:y,numColumns:_})},getNumRows:()=>o.get().map(y=>y.numRows),getNumColumns:()=>o.get().map(y=>y.numColumns)})};var Xt=Object.freeze({__proto__:null,flatgrid:ze,init:o=>o.state(o)});const Wt=o=>(i,c,m,y)=>{const _=o(i.element);return hn(_,i,c,m,y)},wt=(o,i)=>{const c=vw(o,i);return Wt(c)},qt=(o,i)=>{const c=vw(i,o);return Wt(c)},bt=o=>(i,c,m,y)=>hn(o,i,c,m,y),hn=(o,i,c,m,y)=>m.focusManager.get(i).bind(C=>o(i.element,C,m,y)).map(C=>(m.focusManager.set(i,C),!0)),$n=bt,Qn=bt,Ts=bt,Ba=o=>o.offsetWidth<=0&&o.offsetHeight<=0,xr=o=>!Ba(o.dom),El=(o,i)=>yt(o,i).map(c=>({index:c,candidates:o})),vm=(o,i,c)=>{const m=C=>ls(C,i),y=zr(o,c),_=Je(y,xr);return El(_,m)},o_=(o,i)=>yt(o,c=>ls(i,c)),CC=(o,i,c,m)=>{const y=Math.floor(i/c),_=i%c;return m(y,_).bind(C=>{const R=C.row*c+C.column;return R>=0&&R<o.length?L.some(o[R]):L.none()})},s_=(o,i,c,m,y)=>CC(o,i,m,(_,C)=>{const M=_===c-1?o.length-_*m:m,N=gp(C,y,0,M-1);return L.some({row:_,column:N})}),us=(o,i,c,m,y)=>CC(o,i,m,(_,C)=>{const R=gp(_,y,0,c-1),N=R===c-1?o.length-R*m:m,V=yc(C,0,N-1);return L.some({row:R,column:V})}),fl=(o,i,c,m)=>s_(o,i,c,m,1),hl=(o,i,c,m)=>s_(o,i,c,m,-1),_c=(o,i,c,m)=>us(o,i,c,m,-1),Xl=(o,i,c,m)=>us(o,i,c,m,1),py=[Ct("selector"),Be("execute",E),ir("onEscape"),Be("captureTab",!1),zb()],Tl=(o,i,c)=>{Ys(o.element,i.selector).each(m=>{i.focusManager.set(o,m)})},r_=(o,i)=>i.focusManager.get(o).bind(c=>pd(c,i.selector)),yv=(o,i,c,m)=>r_(o,c).bind(y=>c.execute(o,i,y)),Yc=o=>(i,c,m,y)=>vm(i,c,m.selector).bind(_=>o(_.candidates,_.index,y.getNumRows().getOr(m.initSize.numRows),y.getNumColumns().getOr(m.initSize.numColumns))),Hs=(o,i,c)=>c.captureTab?L.some(!0):L.none(),BO=(o,i,c)=>c.onEscape(o,i),z2=Yc(hl),N2=Yc(fl),FO=Yc(_c),$O=Yc(Xl),wm=J([Po(Oo(fy),wt(z2,N2)),Po(Oo(Mp),qt(z2,N2)),Po(Oo(hy),$n(FO)),Po(Oo(gh),Qn($O)),Po(Kc([zp,Oo(vf)]),Hs),Po(Kc([n_,Oo(vf)]),Hs),Po(Oo(Yl.concat(Mu)),yv)]),SC=J([Po(Oo(t_),BO),Po(Oo(Yl),P)]);var bv=Np(py,ze,wm,SC,()=>L.some(Tl));const L2=(o,i,c,m,y)=>{const _=R=>tl(R)==="button"&&da(R,"disabled")==="disabled",C=(R,M,N)=>y(R,M,m,0,N.length-1,N[M],V=>_(N[V])?C(R,V,N):L.from(N[V]));return vm(o,c,i).bind(R=>{const M=R.index,N=R.candidates;return C(M,M,N)})},xC=(o,i,c,m)=>L2(o,i,c,m,(y,_,C,R,M,N,V)=>{const Z=yc(_+C,R,M);return Z===y?L.from(N):V(Z)}),a_=(o,i,c,m)=>L2(o,i,c,m,(y,_,C,R,M,N,V)=>{const Z=gp(_,C,R,M);return Z===y?L.none():V(Z)}),P7=[Ct("selector"),Be("getInitial",L.none),Be("execute",E),ir("onEscape"),Be("executeOnMove",!1),Be("allowVertical",!0),Be("allowHorizontal",!0),Be("cycles",!0)],z7=(o,i)=>i.focusManager.get(o).bind(c=>pd(c,i.selector)),VO=(o,i,c)=>z7(o,c).bind(m=>c.execute(o,i,m)),N7=(o,i,c)=>{i.getInitial(o).orThunk(()=>Ys(o.element,i.selector)).each(m=>{i.focusManager.set(o,m)})},D4=(o,i,c)=>(c.cycles?a_:xC)(o,c.selector,i,-1),M4=(o,i,c)=>(c.cycles?a_:xC)(o,c.selector,i,1),HO=o=>(i,c,m,y)=>o(i,c,m,y).bind(()=>m.executeOnMove?VO(i,c,m):L.some(!0)),UO=(o,i,c)=>c.onEscape(o,i),L7=(o,i,c,m)=>{const y=[...c.allowHorizontal?fy:[]].concat(c.allowVertical?hy:[]),_=[...c.allowHorizontal?Mp:[]].concat(c.allowVertical?gh:[]);return[Po(Oo(y),HO(wt(D4,M4))),Po(Oo(_),HO(qt(D4,M4))),Po(Oo(Mu),VO),Po(Oo(Yl),VO)]},B7=J([Po(Oo(Yl),P),Po(Oo(t_),UO)]);var F7=Np(P7,hd.init,L7,B7,()=>L.some(N7));const B2=(o,i,c)=>L.from(o[i]).bind(m=>L.from(m[c]).map(y=>({rowIndex:i,columnIndex:c,cell:y}))),gy=(o,i,c,m)=>{const _=o[i].length,C=gp(c,m,0,_-1);return B2(o,i,C)},P4=(o,i,c,m)=>{const y=gp(c,m,0,o.length-1),_=o[y].length,C=yc(i,0,_-1);return B2(o,y,C)},z4=(o,i,c,m)=>{const _=o[i].length,C=yc(c+m,0,_-1);return B2(o,i,C)},F2=(o,i,c,m)=>{const y=yc(c+m,0,o.length-1),_=o[y].length,C=yc(i,0,_-1);return B2(o,y,C)},$7=(o,i,c)=>gy(o,i,c,1),N4=(o,i,c)=>gy(o,i,c,-1),L4=(o,i,c)=>P4(o,c,i,-1),B4=(o,i,c)=>P4(o,c,i,1),F4=(o,i,c)=>z4(o,i,c,-1),V7=(o,i,c)=>z4(o,i,c,1),H7=(o,i,c)=>F2(o,c,i,-1),U7=(o,i,c)=>F2(o,c,i,1),jO=[cd("selectors",[Ct("row"),Ct("cell")]),Be("cycles",!0),Be("previousSelector",L.none),Be("execute",E)],j7=(o,i,c)=>{i.previousSelector(o).orThunk(()=>{const y=i.selectors;return Ys(o.element,y.cell)}).each(y=>{i.focusManager.set(o,y)})},W7=(o,i,c)=>Eu(o.element).bind(m=>c.execute(o,i,m)),Z7=(o,i)=>Ee(o,c=>zr(c,i.selectors.cell)),$2=(o,i)=>(c,m,y)=>{const _=y.cycles?o:i;return pd(m,y.selectors.row).bind(C=>{const R=zr(C,y.selectors.cell);return o_(R,m).bind(M=>{const N=zr(c,y.selectors.row);return o_(N,C).bind(V=>{const Z=Z7(N,y);return _(Z,V,M).map(K=>K.cell)})})})},WO=$2(N4,F4),$4=$2($7,V7),G7=$2(L4,H7),q7=$2(B4,U7),V4=J([Po(Oo(fy),wt(WO,$4)),Po(Oo(Mp),qt(WO,$4)),Po(Oo(hy),$n(G7)),Po(Oo(gh),Qn(q7)),Po(Oo(Yl.concat(Mu)),W7)]),K7=J([Po(Oo(Yl),P)]);var Y7=Np(jO,hd.init,V4,K7,()=>L.some(j7));const H4=[Ct("selector"),Be("execute",E),Be("moveOnTab",!1)],U4=(o,i,c)=>c.focusManager.get(o).bind(m=>c.execute(o,i,m)),X7=(o,i,c)=>{Ys(o.element,i.selector).each(m=>{i.focusManager.set(o,m)})},EC=(o,i,c)=>a_(o,c.selector,i,-1),j4=(o,i,c)=>a_(o,c.selector,i,1),W4=(o,i,c,m)=>c.moveOnTab?Ts(EC)(o,i,c,m):L.none(),kc=(o,i,c,m)=>c.moveOnTab?Ts(j4)(o,i,c,m):L.none(),J7=J([Po(Oo(hy),Ts(EC)),Po(Oo(gh),Ts(j4)),Po(Kc([zp,Oo(vf)]),W4),Po(Kc([n_,Oo(vf)]),kc),Po(Oo(Mu),U4),Po(Oo(Yl),U4)]),Z4=J([Po(Oo(Yl),P)]);var Q7=Np(H4,hd.init,J7,Z4,()=>L.some(X7));const eH=[ir("onSpace"),ir("onEnter"),ir("onShiftEnter"),ir("onLeft"),ir("onRight"),ir("onTab"),ir("onShiftTab"),ir("onUp"),ir("onDown"),ir("onEscape"),Be("stopSpaceKeyup",!1),Wo("focusIn")],G4=(o,i,c)=>[Po(Oo(Yl),c.onSpace),Po(Kc([n_,Oo(Mu)]),c.onEnter),Po(Kc([zp,Oo(Mu)]),c.onShiftEnter),Po(Kc([zp,Oo(vf)]),c.onShiftTab),Po(Kc([n_,Oo(vf)]),c.onTab),Po(Oo(hy),c.onUp),Po(Oo(gh),c.onDown),Po(Oo(fy),c.onLeft),Po(Oo(Mp),c.onRight),Po(Oo(Yl),c.onSpace)],tH=(o,i,c)=>[...c.stopSpaceKeyup?[Po(Oo(Yl),P)]:[],Po(Oo(t_),c.onEscape)];var q4=Np(eH,hd.init,G4,tH,o=>o.focusIn);const K4=p.schema(),nH=b.schema(),oH=F7.schema(),sH=bv.schema(),rH=Y7.schema(),Y4=we.schema(),X4=Q7.schema(),yy=q4.schema();var J4=Object.freeze({__proto__:null,acyclic:K4,cyclic:nH,flow:oH,flatgrid:sH,matrix:rH,execution:Y4,menu:X4,special:yy});const Q4=o=>el(o,"setGridSize"),Sn=kk({branchKey:"mode",branches:J4,name:"keying",active:{events:(o,i)=>o.handler.toEvents(o,i)},apis:{focusIn:(o,i,c)=>{i.sendFocusIn(i).fold(()=>{o.getSystem().triggerFocus(o.element,o.element)},m=>{m(o,i,c)})},setGridSize:(o,i,c,m,y)=>{Q4(c)?c.setGridSize(m,y):console.error("Layout does not support setGridSize")}},state:Xt}),eL=(o,i)=>{hw(()=>{sO(o,i,()=>Ee(i,o.getSystem().build))},o.element)},tL=(o,i)=>{hw(()=>{rO(o,i,()=>Gx(o.element,i,o.getSystem().buildOrPatch))},o.element)},aH=(o,i,c,m)=>{Dw(i);const y=ok(o.element,c,m,o.getSystem().buildOrPatch);Xb(o,y),o.syncComponents()},ZO=(o,i,c)=>{const m=o.getSystem().build(c);Qb(o,m,i)},nL=(o,i,c,m)=>{bf(i),ZO(o,(y,_)=>Ta(y,_,c),m)},GO=(o,i,c,m)=>(i.reuseDom?tL:eL)(o,m),qO=(o,i,c,m)=>{ZO(o,wl,m)},iH=(o,i,c,m)=>{ZO(o,E1,m)},by=(o,i,c,m)=>{const y=TC(o);Oe(y,C=>ls(m.element,C.element)).each(bf)},TC=(o,i)=>o.components(),KO=(o,i,c,m,y)=>{const _=TC(o);return L.from(_[m]).map(C=>(y.fold(()=>bf(C),R=>{(i.reuseDom?aH:nL)(o,C,m,R)}),C))};var lH=Object.freeze({__proto__:null,append:qO,prepend:iH,remove:by,replaceAt:KO,replaceBy:(o,i,c,m,y)=>{const _=TC(o);return yt(_,m).bind(C=>KO(o,i,c,C,y))},set:GO,contents:TC});const Vn=Qa({fields:[ui("reuseDom",!0)],name:"replacing",apis:lH}),RC=(o,i)=>{const c=xs(i);return Qa({fields:[Ct("enabled")],name:o,active:{events:J(c)}})},no=(o,i)=>{const c=RC(o,i);return{key:o,value:{config:{},me:c,configAsRaw:J({}),initialConfig:{},state:hd}}},YO=(o,i)=>{i.ignore||(xu(o.element),i.onFocus(o))};var cH=Object.freeze({__proto__:null,focus:YO,blur:(o,i)=>{i.ignore||Ck(o.element)},isFocused:o=>Fb(o.element)}),Lp=Object.freeze({__proto__:null,exhibit:(o,i)=>{const c=i.ignore?{}:{attributes:{tabindex:"-1"}};return Zl(c)},events:o=>xs([St(sf(),(i,c)=>{YO(i,o),c.stop()})].concat(o.stopMousedown?[St(cs(),(i,c)=>{c.event.prevent()})]:[]))}),XO=[Co("onFocus"),Be("stopMousedown",!1),Be("ignore",!1)];const zn=Qa({fields:XO,name:"focusing",active:Lp,apis:cH}),oL=o=>({init:()=>{const c=D(o);return{get:()=>c.get(),set:R=>c.set(R),clear:()=>c.set(o),readState:()=>c.get()}}}),sL=(o,i,c)=>{const m=i.aria;m.update(o,m,c.get())},JO=(o,i,c)=>{i.toggleClass.each(m=>{c.get()?Qr(o.element,m):Es(o.element,m)})},i_=(o,i,c,m)=>{const y=c.get();c.set(m),JO(o,i,c),sL(o,i,c),y!==m&&i.onToggled(o,m)},rL=(o,i,c)=>{i_(o,i,c,!c.get())},dH=(o,i,c)=>{i_(o,i,c,!0)},fH=(o,i,c)=>{i_(o,i,c,!1)},V2=(o,i,c)=>c.get(),H2=(o,i,c)=>{i_(o,i,c,i.selected)};var QO=Object.freeze({__proto__:null,onLoad:H2,toggle:rL,isOn:V2,on:dH,off:fH,set:i_}),aL=Object.freeze({__proto__:null,exhibit:()=>Zl({}),events:(o,i)=>{const c=uw(o,i,rL),m=dw(o,i,H2);return xs(Ye([o.toggleOnExecute?[c]:[],[m]]))}});const iL=(o,i,c)=>{Jn(o.element,"aria-pressed",c),i.syncWithExpanded&&uL(o,i,c)},lL=(o,i,c)=>{Jn(o.element,"aria-selected",c)},cL=(o,i,c)=>{Jn(o.element,"aria-checked",c)},uL=(o,i,c)=>{Jn(o.element,"aria-expanded",c)};var eD=[Be("selected",!1),Wo("toggleClass"),Be("toggleOnExecute",!0),Co("onToggled"),ci("aria",{mode:"none"},Vi("mode",{pressed:[Be("syncWithExpanded",!1),qo("update",iL)],checked:[qo("update",cL)],expanded:[qo("update",uL)],selected:[qo("update",lL)],none:[qo("update",ee)]}))];const fo=Qa({fields:eD,name:"toggling",active:aL,apis:QO,state:oL(!1)}),dL=()=>{const o=(i,c)=>{c.stop(),af(i)};return[St(jc(),o),St(ap(),o),lp(ku()),lp(cs())]},U2=o=>{const i=c=>cf((m,y)=>{c(m),y.stop()});return xs(Ye([o.map(i).toArray(),dL()]))},fL="alloy.item-hover",tD="alloy.item-focus",hL="alloy.item-toggled",mL=o=>{(Eu(o.element).isNone()||zn.isFocused(o))&&(zn.isFocused(o)||zn.focus(o),xn(o,fL,{item:o}))},pL=o=>{xn(o,tD,{item:o})},IC=(o,i)=>{xn(o,hL,{item:o,state:i})},gL=J(fL),AC=J(tD),nD=J(hL),yL=o=>o.toggling.map(i=>i.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),bL=o=>({aria:{mode:"checked"},...Dl(o,(i,c)=>c!=="exclusive"),onToggled:(i,c)=>{Se(o.onToggled)&&o.onToggled(i,c),IC(i,c)}}),hH=o=>({dom:o.dom,domModification:{...o.domModification,attributes:{role:yL(o),...o.domModification.attributes,"aria-haspopup":o.hasSubmenu,...o.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Au.augment(o.itemBehaviours,[o.toggling.fold(fo.revoke,i=>fo.config(bL(i))),zn.config({ignore:o.ignoreFocus,stopMousedown:o.ignoreFocus,onFocus:i=>{pL(i)}}),Sn.config({mode:"execution"}),tn.config({store:{mode:"memory",initialValue:o.data}}),no("item-type-events",[...dL(),St(pc(),mL),St(Mg(),zn.focus)])]),components:o.components,eventOrder:o.eventOrder}),mH=[Ct("data"),Ct("components"),Ct("dom"),Be("hasSubmenu",!1),Wo("toggling"),Au.field("itemBehaviours",[fo,zn,Sn,tn]),Be("ignoreFocus",!1),Be("domModification",{}),qo("builder",hH),Be("eventOrder",{})],vL=o=>({dom:o.dom,components:o.components,events:xs([oh(Mg())])}),pH=[Ct("dom"),Ct("components"),qo("builder",vL)],j2=J("item-widget"),oD=J([La({name:"widget",overrides:o=>({behaviours:Lt([tn.config({store:{mode:"manual",getValue:i=>o.data,setValue:ee}})])})})]),gH=o=>{const i=lC(j2(),o,oD()),c=cC(j2(),o,i.internals()),m=_=>bs(_,o,"widget").map(C=>(Sn.focusIn(C),C)),y=(_,C)=>uy(C.event.target)?L.none():(()=>(o.autofocus&&C.setSource(_.element),L.none()))();return{dom:o.dom,components:c,domModification:o.domModification,events:xs([cf((_,C)=>{m(_).each(R=>{C.stop()})}),St(pc(),mL),St(Mg(),(_,C)=>{o.autofocus?m(_):zn.focus(_)})]),behaviours:Au.augment(o.widgetBehaviours,[tn.config({store:{mode:"memory",initialValue:o.data}}),zn.config({ignore:o.ignoreFocus,onFocus:_=>{pL(_)}}),Sn.config({mode:"special",focusIn:o.autofocus?_=>{m(_)}:RA(),onLeft:y,onRight:y,onEscape:(_,C)=>!zn.isFocused(_)&&!o.autofocus?(zn.focus(_),L.some(!0)):(o.autofocus&&C.setSource(_.element),L.none())})])}},wL=[Ct("uid"),Ct("data"),Ct("components"),Ct("dom"),Be("autofocus",!1),Be("ignoreFocus",!1),Au.field("widgetBehaviours",[tn,zn,Sn]),Be("domModification",{}),qw(oD()),qo("builder",gH)],W2=Vi("type",{widget:wL,item:mH,separator:pH}),sD=(o,i)=>({mode:"flatgrid",selector:"."+o.markers.item,initSize:{numColumns:i.initSize.numColumns,numRows:i.initSize.numRows},focusManager:o.focusManager}),rD=(o,i)=>({mode:"matrix",selectors:{row:i.rowSelector,cell:"."+o.markers.item},previousSelector:i.previousSelector,focusManager:o.focusManager}),yH=(o,i)=>({mode:"menu",selector:"."+o.markers.item,moveOnTab:i.moveOnTab,focusManager:o.focusManager}),bH=J([ym({factory:{sketch:o=>{const i=$i("menu.spec item",W2,o);return i.builder(i)}},name:"items",unit:"item",defaults:(o,i)=>Mo(i,"uid")?i:{...i,uid:rh("item")},overrides:(o,i)=>({type:i.type,ignoreFocus:o.fakeFocus,domModification:{classes:[o.markers.item]}})})]),vH=J([Ct("value"),Ct("items"),Ct("dom"),Ct("components"),Be("eventOrder",{}),Na("menuBehaviours",[No,tn,yo,Sn]),ci("movement",{mode:"menu",moveOnTab:!0},Vi("mode",{grid:[zb(),qo("config",sD)],matrix:[qo("config",rD),Ct("rowSelector"),Be("previousSelector",L.none)],menu:[Be("moveOnTab",!0),qo("config",yH)]})),cm(),Be("fakeFocus",!1),Be("focusManager",gv()),Co("onHighlight"),Co("onDehighlight")]),_L=J("alloy.menu-focus"),kL=(o,i)=>{const c=zr(o.element,'[role="menuitemradio"][aria-checked="true"]');me(c,m=>{ls(m,i.element)||o.getSystem().getByDom(m).each(y=>{fo.off(y)})})},CL=(o,i,c,m)=>({uid:o.uid,dom:o.dom,markers:o.markers,behaviours:na(o.menuBehaviours,[No.config({highlightClass:o.markers.selectedItem,itemClass:o.markers.item,onHighlight:o.onHighlight,onDehighlight:o.onDehighlight}),tn.config({store:{mode:"memory",initialValue:o.value}}),yo.config({find:L.some}),Sn.config(o.movement.config(o,o.movement))]),events:xs([St(AC(),(y,_)=>{const C=_.event;y.getSystem().getByDom(C.target).each(R=>{No.highlight(y,R),_.stop(),xn(y,_L(),{menu:y,item:R})})}),St(gL(),(y,_)=>{const C=_.event.item;No.highlight(y,C)}),St(nD(),(y,_)=>{const{item:C,state:R}=_.event;R&&da(C.element,"role")==="menuitemradio"&&kL(y,C)})]),components:i,eventOrder:o.eventOrder,domModification:{attributes:{role:"menu"}}}),_v=Nr({name:"Menu",configFields:vH(),partFields:bH(),factory:CL}),wH=o=>Ao(o,(i,c)=>({k:i,v:c})),SL=(o,i,c,m)=>Gt(c,m).bind(y=>Gt(o,y).bind(_=>{const C=SL(o,i,c,_);return L.some([_].concat(C))})).getOr([]),_H=(o,i)=>{const c={};lo(o,(C,R)=>{me(C,M=>{c[M]=R})});const m=i,y=wH(i),_=mo(y,(C,R)=>[R].concat(SL(c,m,y,R)));return mo(c,C=>Gt(_,C).getOr([C]))},kH=()=>{const o=D({}),i=D({}),c=D({}),m=ns(),y=D({}),_=()=>{o.set({}),i.set({}),c.set({}),m.clear()},C=()=>m.get().isNone(),R=(jt,Rt)=>{i.set({...i.get(),[jt]:{type:"prepared",menu:Rt}})},M=(jt,Rt,Kt,vn)=>{m.set(jt),o.set(Kt),i.set(Rt),y.set(vn);const xo=_H(vn,Kt);c.set(xo)},N=jt=>Fr(o.get(),(Rt,Kt)=>Rt===jt),V=(jt,Rt,Kt)=>_e(jt).bind(vn=>N(jt).bind(xo=>Rt(xo).map(wn=>({triggeredMenu:vn,triggeringItem:wn,triggeringPath:Kt})))),Z=(jt,Rt)=>{const Kt=Je(De(jt).toArray(),vn=>_e(vn).isSome());return Gt(c.get(),jt).bind(vn=>{const xo=et(Kt.concat(vn)),wn=ce(xo,(bo,Yn)=>V(bo,Rt,xo.slice(0,Yn+1)).fold(()=>ca(m.get(),bo)?[]:[L.none()],vo=>[L.some(vo)]));return ws(wn)})},K=jt=>Gt(o.get(),jt).map(Rt=>{const Kt=Gt(c.get(),jt).getOr([]);return[Rt].concat(Kt)}),Q=jt=>Gt(c.get(),jt).bind(Rt=>Rt.length>1?L.some(Rt.slice(1)):L.none()),ie=jt=>Gt(c.get(),jt),_e=jt=>Ve(jt).bind(xL),Ve=jt=>Gt(i.get(),jt),De=jt=>Gt(o.get(),jt);return{setMenuBuilt:R,setContents:M,expand:K,refresh:ie,collapse:Q,lookupMenu:Ve,lookupItem:De,otherMenus:jt=>{const Rt=y.get();return $e(_n(Rt),jt)},getPrimary:()=>m.get().bind(_e),getMenus:()=>i.get(),clear:_,isClear:C,getTriggeringPath:Z}},xL=o=>o.type==="prepared"?L.some(o.menu):L.none(),aD={init:kH,extractPreparedMenu:xL},EL=dn("tiered-menu-item-highlight"),TL=dn("tiered-menu-item-dehighlight");var Jl;(function(o){o[o.HighlightMenuAndItem=0]="HighlightMenuAndItem",o[o.HighlightJustMenu=1]="HighlightJustMenu",o[o.HighlightNone=2]="HighlightNone"})(Jl||(Jl={}));const CH=(o,i)=>{const c=ns(),m=(Yt,yn,sn)=>mo(sn,(Ln,oo)=>{const Eo=()=>_v.sketch({...Ln,value:oo,markers:o.markers,fakeFocus:o.fakeFocus,onHighlight:(qr,Zo)=>{xn(qr,EL,{menuComp:qr,itemComp:Zo})},onDehighlight:(qr,Zo)=>{xn(qr,TL,{menuComp:qr,itemComp:Zo})},focusManager:o.fakeFocus?LO():gv()});return oo===yn?{type:"prepared",menu:Yt.getSystem().build(Eo())}:{type:"notbuilt",nbMenu:Eo}}),y=aD.init(),_=Yt=>{const yn=m(Yt,o.data.primary,o.data.menus),sn=M();return y.setContents(o.data.primary,yn,o.data.expansions,sn),y.getPrimary()},C=Yt=>tn.getValue(Yt).value,R=(Yt,yn,sn)=>an(yn,Ln=>{if(!Ln.getSystem().isConnected())return L.none();const oo=No.getCandidates(Ln);return Oe(oo,Eo=>C(Eo)===sn)}),M=Yt=>mo(o.data.menus,(yn,sn)=>ce(yn.items,Ln=>Ln.type==="separator"?[]:[Ln.data.value])),N=No.highlight,V=(Yt,yn)=>{N(Yt,yn),No.getHighlighted(yn).orThunk(()=>No.getFirst(yn)).each(sn=>{o.fakeFocus?No.highlight(yn,sn):_b(Yt,sn.element,Mg())})},Z=(Yt,yn)=>fu(Ee(yn,sn=>Yt.lookupMenu(sn).bind(Ln=>Ln.type==="prepared"?L.some(Ln.menu):L.none()))),K=(Yt,yn,sn)=>{const Ln=Z(yn,yn.otherMenus(sn));me(Ln,oo=>{Ei(oo.element,[o.markers.backgroundMenu]),o.stayInDom||Vn.remove(Yt,oo)})},Q=Yt=>c.get().getOrThunk(()=>{const yn={},sn=zr(Yt.element,`.${o.markers.item}`),Ln=Je(sn,oo=>da(oo,"aria-haspopup")==="true");return me(Ln,oo=>{Yt.getSystem().getByDom(oo).each(Eo=>{const qr=C(Eo);yn[qr]=Eo})}),c.set(yn),yn}),ie=(Yt,yn)=>{const sn=Q(Yt);lo(sn,(Ln,oo)=>{const Eo=Gn(yn,oo);Jn(Ln.element,"aria-expanded",Eo)})},_e=(Yt,yn,sn)=>L.from(sn[0]).bind(Ln=>yn.lookupMenu(Ln).bind(oo=>{if(oo.type==="notbuilt")return L.none();{const Eo=oo.menu,qr=Z(yn,sn.slice(1));return me(qr,Zo=>{Qr(Zo.element,o.markers.backgroundMenu)}),Ga(Eo.element)||Vn.append(Yt,Sl(Eo)),Ei(Eo.element,[o.markers.backgroundMenu]),V(Yt,Eo),K(Yt,yn,sn),L.some(Eo)}}));let Ve;(function(Yt){Yt[Yt.HighlightSubmenu=0]="HighlightSubmenu",Yt[Yt.HighlightParent=1]="HighlightParent"})(Ve||(Ve={}));const De=(Yt,yn,sn)=>{if(sn.type==="notbuilt"){const Ln=Yt.getSystem().build(sn.nbMenu());return y.setMenuBuilt(yn,Ln),Ln}else return sn.menu},Ie=(Yt,yn,sn=Ve.HighlightSubmenu)=>{if(yn.hasConfigured(In)&&In.isDisabled(yn))return L.some(yn);{const Ln=C(yn);return y.expand(Ln).bind(oo=>(ie(Yt,oo),L.from(oo[0]).bind(Eo=>y.lookupMenu(Eo).bind(qr=>{const Zo=De(Yt,Eo,qr);return Ga(Zo.element)||Vn.append(Yt,Sl(Zo)),o.onOpenSubmenu(Yt,yn,Zo,et(oo)),sn===Ve.HighlightSubmenu?(No.highlightFirst(Zo),_e(Yt,y,oo)):(No.dehighlightAll(Zo),L.some(yn))}))))}},pt=(Yt,yn)=>{const sn=C(yn);return y.collapse(sn).bind(Ln=>(ie(Yt,Ln),_e(Yt,y,Ln).map(oo=>(o.onCollapseMenu(Yt,yn,oo),oo))))},vt=(Yt,yn)=>{const sn=C(yn);return y.refresh(sn).bind(Ln=>(ie(Yt,Ln),_e(Yt,y,Ln)))},jt=(Yt,yn)=>uy(yn.element)?L.none():Ie(Yt,yn,Ve.HighlightSubmenu),Rt=(Yt,yn)=>uy(yn.element)?L.none():pt(Yt,yn),Kt=(Yt,yn)=>pt(Yt,yn).orThunk(()=>o.onEscape(Yt,yn).map(()=>Yt)),vn=Yt=>(yn,sn)=>pd(sn.getSource(),`.${o.markers.item}`).bind(Ln=>yn.getSystem().getByDom(Ln).toOptional().bind(oo=>Yt(yn,oo).map(Ot))),xo=xs([St(_L(),(Yt,yn)=>{const sn=yn.event.item;y.lookupItem(C(sn)).each(()=>{const Ln=yn.event.menu;No.highlight(Yt,Ln);const oo=C(yn.event.item);y.refresh(oo).each(Eo=>K(Yt,y,Eo))})}),cf((Yt,yn)=>{const sn=yn.event.target;Yt.getSystem().getByDom(sn).each(Ln=>{C(Ln).indexOf("collapse-item")===0&&pt(Yt,Ln),Ie(Yt,Ln,Ve.HighlightSubmenu).fold(()=>{o.onExecute(Yt,Ln)},ee)})}),sr((Yt,yn)=>{_(Yt).each(sn=>{Vn.append(Yt,Sl(sn)),o.onOpenMenu(Yt,sn),o.highlightOnOpen===Jl.HighlightMenuAndItem?V(Yt,sn):o.highlightOnOpen===Jl.HighlightJustMenu&&N(Yt,sn)})}),St(EL,(Yt,yn)=>{o.onHighlightItem(Yt,yn.event.menuComp,yn.event.itemComp)}),St(TL,(Yt,yn)=>{o.onDehighlightItem(Yt,yn.event.menuComp,yn.event.itemComp)}),...o.navigateOnHover?[St(gL(),(Yt,yn)=>{const sn=yn.event.item;vt(Yt,sn),Ie(Yt,sn,Ve.HighlightParent),o.onHover(Yt,sn)})]:[]]),wn=Yt=>No.getHighlighted(Yt).bind(No.getHighlighted),bo=Yt=>{wn(Yt).each(yn=>{pt(Yt,yn)})},Yn=Yt=>{y.getPrimary().each(yn=>{V(Yt,yn)})},vo=Yt=>L.from(Yt.components()[0]).filter(yn=>da(yn.element,"role")==="menu"),os={collapseMenu:bo,highlightPrimary:Yn,repositionMenus:Yt=>{y.getPrimary().bind(sn=>wn(Yt).bind(Ln=>{const oo=C(Ln),Eo=pi(y.getMenus()),qr=fu(Ee(Eo,aD.extractPreparedMenu));return y.getTriggeringPath(oo,Zo=>R(Yt,qr,Zo))}).map(Ln=>({primary:sn,triggeringPath:Ln}))).fold(()=>{vo(Yt).each(sn=>{o.onRepositionMenu(Yt,sn,[])})},({primary:sn,triggeringPath:Ln})=>{o.onRepositionMenu(Yt,sn,Ln)})}};return{uid:o.uid,dom:o.dom,markers:o.markers,behaviours:na(o.tmenuBehaviours,[Sn.config({mode:"special",onRight:vn(jt),onLeft:vn(Rt),onEscape:vn(Kt),focusIn:(Yt,yn)=>{y.getPrimary().each(sn=>{_b(Yt,sn.element,Mg())})}}),No.config({highlightClass:o.markers.selectedMenu,itemClass:o.markers.menu}),yo.config({find:Yt=>No.getHighlighted(Yt)}),Vn.config({})]),eventOrder:o.eventOrder,apis:os,events:xo}},SH=J("collapse-item"),kv=(o,i,c)=>({primary:o,menus:i,expansions:c}),xH=(o,i)=>({primary:o,menus:Zn(o,i),expansions:{}}),EH=o=>({value:dn(SH()),meta:{text:o}}),Cd=fr({name:"TieredMenu",configFields:[Pb("onExecute"),Pb("onEscape"),pp("onOpenMenu"),pp("onOpenSubmenu"),Co("onRepositionMenu"),Co("onCollapseMenu"),Be("highlightOnOpen",Jl.HighlightMenuAndItem),cd("data",[Ct("primary"),Ct("menus"),Ct("expansions")]),Be("fakeFocus",!1),Co("onHighlightItem"),Co("onDehighlightItem"),Co("onHover"),hf(),Ct("dom"),Be("navigateOnHover",!0),Be("stayInDom",!1),Na("tmenuBehaviours",[Sn,No,yo,Vn]),Be("eventOrder",{})],apis:{collapseMenu:(o,i)=>{o.collapseMenu(i)},highlightPrimary:(o,i)=>{o.highlightPrimary(i)},repositionMenus:(o,i)=>{o.repositionMenus(i)}},factory:CH,extraApis:{tieredData:kv,singleData:xH,collapseItem:EH}}),TH=(o,i,c,m,y)=>{const _=()=>o.lazySink(i),C=m.type==="horizontal"?{layouts:{onLtr:()=>cw(),onRtl:()=>Bb()}}:{},R=N=>N.length===2,M=N=>R(N)?C:{};return Cd.sketch({dom:{tag:"div"},data:m.data,markers:m.menu.markers,highlightOnOpen:m.menu.highlightOnOpen,fakeFocus:m.menu.fakeFocus,onEscape:()=>(Io.close(i),o.onEscape.map(N=>N(i)),L.some(!0)),onExecute:()=>L.some(!0),onOpenMenu:(N,V)=>{ta.positionWithinBounds(_().getOrDie(),V,c,y())},onOpenSubmenu:(N,V,Z,K)=>{const Q=_().getOrDie();ta.position(Q,Z,{anchor:{type:"submenu",item:V,...M(K)}})},onRepositionMenu:(N,V,Z)=>{const K=_().getOrDie();ta.positionWithinBounds(K,V,c,y()),me(Z,Q=>{const ie=M(Q.triggeringPath);ta.position(K,Q.triggeredMenu,{anchor:{type:"submenu",item:Q.triggeringItem,...ie}})})}})},RH=(o,i)=>{const c=(K,Q)=>o.getRelated(K).exists(_e=>lm(_e,Q)),m=(K,Q)=>{Io.setContent(K,Q)},y=(K,Q,ie)=>{const _e=L.none;_(K,Q,ie,_e)},_=(K,Q,ie,_e)=>{const Ve=o.lazySink(K).getOrDie();Io.openWhileCloaked(K,Q,()=>ta.positionWithinBounds(Ve,K,ie,_e())),tn.setValue(K,L.some({mode:"position",config:ie,getBounds:_e}))},C=(K,Q,ie)=>{R(K,Q,ie,L.none)},R=(K,Q,ie,_e)=>{const Ve=TH(o,K,Q,ie,_e);Io.open(K,Ve),tn.setValue(K,L.some({mode:"menu",menu:Ve}))},M=K=>{Io.isOpen(K)&&(tn.setValue(K,L.none()),Io.close(K))},N=K=>Io.getState(K),V=K=>{Io.isOpen(K)&&tn.getValue(K).each(Q=>{switch(Q.mode){case"menu":Io.getState(K).each(Cd.repositionMenus);break;case"position":const ie=o.lazySink(K).getOrDie();ta.positionWithinBounds(ie,K,Q.config,Q.getBounds());break}})},Z={setContent:m,showAt:y,showWithinBounds:_,showMenuAt:C,showMenuWithinBounds:R,hide:M,getContent:N,reposition:V,isOpen:Io.isOpen};return{uid:o.uid,dom:o.dom,behaviours:na(o.inlineBehaviours,[Io.config({isPartOf:(K,Q,ie)=>lm(Q,ie)||c(K,ie),getAttachPoint:K=>o.lazySink(K).getOrDie(),onOpen:K=>{o.onShow(K)},onClose:K=>{o.onHide(K)}}),tn.config({store:{mode:"memory",initialValue:L.none()}}),Pr.config({channels:{...mh({isExtraPart:i.isExtraPart,...o.fireDismissalEventInstead.map(K=>({fireEventInstead:{event:K.event}})).getOr({})}),...qk({...o.fireRepositionEventInstead.map(K=>({fireEventInstead:{event:K.event}})).getOr({}),doReposition:V})}})]),eventOrder:o.eventOrder,apis:Z}},Us=fr({name:"InlineView",configFields:[Ct("lazySink"),Co("onShow"),Co("onHide"),Xf("onEscape"),Na("inlineBehaviours",[Io,tn,Pr]),ga("fireDismissalEventInstead",[Be("event",nh())]),ga("fireRepositionEventInstead",[Be("event",V1())]),Be("getRelated",L.none),Be("isExtraPart",nn),Be("eventOrder",L.none)],factory:RH,apis:{showAt:(o,i,c,m)=>{o.showAt(i,c,m)},showWithinBounds:(o,i,c,m,y)=>{o.showWithinBounds(i,c,m,y)},showMenuAt:(o,i,c,m)=>{o.showMenuAt(i,c,m)},showMenuWithinBounds:(o,i,c,m,y)=>{o.showMenuWithinBounds(i,c,m,y)},hide:(o,i)=>{o.hide(i)},isOpen:(o,i)=>o.isOpen(i),getContent:(o,i)=>o.getContent(i),setContent:(o,i,c)=>{o.setContent(i,c)},reposition:(o,i)=>{o.reposition(i)}}});var Z2=tinymce.util.Tools.resolve("tinymce.util.Delay");const Qs=fr({name:"Button",factory:o=>{const i=U2(o.action),c=o.dom.tag,m=_=>Gt(o.dom,"attributes").bind(C=>Gt(C,_)),y=()=>{if(c==="button"){const _=m("type").getOr("button"),C=m("role").map(R=>({role:R})).getOr({});return{type:_,...C}}else return{role:o.role.getOr(m("role").getOr("button"))}};return{uid:o.uid,dom:o.dom,components:o.components,events:i,behaviours:Au.augment(o.buttonBehaviours,[zn.config({}),Sn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:y()},eventOrder:o.eventOrder}},configFields:[Be("uid",void 0),Ct("dom"),Be("components",[]),Au.field("buttonBehaviours",[zn,Sn]),Wo("action"),Wo("role"),Be("eventOrder",{})]}),es=o=>{const i=kd(o)&&el(o,"uid")?o.uid:rh("memento");return{get:_=>_.getSystem().getByUid(i).getOrDie(),getOpt:_=>_.getSystem().getByUid(i).toOptional(),asSpec:()=>({...o,uid:i})}};var Pu=tinymce.util.Tools.resolve("tinymce.util.I18n");const RL={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},IL="temporary-placeholder",OC=o=>()=>Gt(o,IL).getOr("!not found!"),iD=(o,i)=>{const c=o.toLowerCase();if(Pu.isRtl()){const m=gi(c,"-rtl");return Mo(i,m)?m:c}else return c},AL=(o,i)=>Gt(i,iD(o,i)),OL=(o,i)=>{const c=i();return AL(o,c).getOrThunk(OC(c))},G2=(o,i,c)=>{const m=i();return AL(o,m).or(c).getOrThunk(OC(m))},lD=o=>Pu.isRtl()?Mo(RL,o):!1,cD=()=>no("add-focusable",[sr(o=>{sE(o.element,"svg").each(i=>Jn(i,"focusable","false"))})]),uD=(o,i,c,m)=>{var y,_;const C=lD(i)?["tox-icon--flip"]:[],R=Gt(c,iD(i,c)).or(m).getOrThunk(OC(c));return{dom:{tag:o.tag,attributes:(y=o.attributes)!==null&&y!==void 0?y:{},classes:o.classes.concat(C),innerHtml:R},behaviours:Lt([...(_=o.behaviours)!==null&&_!==void 0?_:[],cD()])}},Sd=(o,i,c,m=L.none())=>uD(i,o,c(),m),IH=(o,i,c)=>{const m=c(),y=Oe(o,_=>Mo(m,iD(_,m)));return uD(i,y.getOr(IL),m,L.none())},dD={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},DC=fr({name:"Notification",factory:o=>{const i=es({dom:{tag:"p",innerHtml:o.translationProvider(o.text)},behaviours:Lt([Vn.config({})])}),c=Q=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${Q}%`}}}),m=Q=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${Q}%`}}),y=es({dom:{tag:"div",classes:o.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[c(0)]},m(0)],behaviours:Lt([Vn.config({})])}),R={updateProgress:(Q,ie)=>{Q.getSystem().isConnected()&&y.getOpt(Q).each(_e=>{Vn.set(_e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[c(ie)]},m(ie)])})},updateText:(Q,ie)=>{if(Q.getSystem().isConnected()){const _e=i.get(Q);Vn.set(_e,[Ks(ie)])}}},M=Ye([o.icon.toArray(),o.level.toArray(),o.level.bind(Q=>L.from(dD[Q])).toArray()]),N=es(Qs.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Sd("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":o.translationProvider("Close")}},o.iconProvider)],action:Q=>{o.onAction(Q)}})),V=IH(M,{tag:"div",classes:["tox-notification__icon"]},o.iconProvider),Z={dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:Lt([Vn.config({})])},K=[V,Z];return{uid:o.uid,dom:{tag:"div",attributes:{role:"alert"},classes:o.level.map(Q=>["tox-notification","tox-notification--in",`tox-notification--${Q}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Lt([zn.config({}),no("notification-events",[St(Qh(),Q=>{N.getOpt(Q).each(zn.focus)})])]),components:K.concat(o.progress?[y.asSpec()]:[]).concat(o.closeButton?[N.asSpec()]:[]),apis:R}},configFields:[Wo("level"),Ct("progress"),Wo("icon"),Ct("onAction"),Ct("text"),Ct("iconProvider"),Ct("translationProvider"),ui("closeButton",!0)],apis:{updateProgress:(o,i,c)=>{o.updateProgress(i,c)},updateText:(o,i,c)=>{o.updateText(i,c)}}});var AH=(o,i,c)=>{const m=i.backstage.shared,y=()=>{const M=tr(Le.fromDom(o.getContentAreaContainer())),N=Ra(),V=yc(N.x,M.x,M.right),Z=yc(N.y,M.y,M.bottom),K=Math.max(M.right,N.right),Q=Math.max(M.bottom,N.bottom);return L.some(Ns(V,Z,K-V,Q-Z))};return{open:(M,N)=>{const V=()=>{N(),Us.hide(K)},Z=Pa(DC.sketch({text:M.text,level:Gn(["success","error","warning","warn","info"],M.type)?M.type:void 0,progress:M.progressBar===!0,icon:M.icon,closeButton:M.closeButton,onAction:V,iconProvider:m.providers.icons,translationProvider:m.providers.translate})),K=Pa(Us.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:m.getSink,fireDismissalEventInstead:{},...m.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));c.add(K),je(M.timeout)&&M.timeout>0&&Z2.setEditorTimeout(o,()=>{V()},M.timeout);const ie={close:V,reposition:()=>{const _e=Sl(Z),Ve={maxHeightFunction:wp()},De=o.notificationManager.getNotifications();if(De[0]===ie){const Ie={...m.anchors.banner(),overrides:Ve};Us.showWithinBounds(K,_e,{anchor:Ie},y)}else it(De,ie).each(Ie=>{const pt=De[Ie-1].getEl(),vt={type:"node",root:Xr(),node:L.some(Le.fromDom(pt)),overrides:Ve,layouts:{onRtl:()=>[Js],onLtr:()=>[Js]}};Us.showWithinBounds(K,_e,{anchor:vt},y)})},text:_e=>{DC.updateText(Z,_e)},settings:M,getEl:()=>Z.element.dom,progressBar:{value:_e=>{DC.updateProgress(Z,_e)}}};return ie},close:M=>{M.close()},getArgs:M=>M.settings}},Bp=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),q2=tinymce.util.Tools.resolve("tinymce.EditorManager"),Cv=tinymce.util.Tools.resolve("tinymce.Env"),zu;(function(o){o.default="wrap",o.floating="floating",o.sliding="sliding",o.scrolling="scrolling"})(zu||(zu={}));var MC;(function(o){o.auto="auto",o.top="top",o.bottom="bottom"})(MC||(MC={}));const Rs=o=>i=>i.options.get(o),PC=o=>i=>L.from(o(i)),DL=o=>{const i=Cv.deviceType.isPhone(),c=Cv.deviceType.isTablet()||i,m=o.options.register,y=C=>x(C)||C===!1,_=C=>x(C)||je(C);m("skin",{processor:C=>x(C)||C===!1,default:"oxide"}),m("skin_url",{processor:"string"}),m("height",{processor:_,default:Math.max(o.getElement().offsetHeight,400)}),m("width",{processor:_,default:Bp.DOM.getStyle(o.getElement(),"width")}),m("min_height",{processor:"number",default:100}),m("min_width",{processor:"number"}),m("max_height",{processor:"number"}),m("max_width",{processor:"number"}),m("style_formats",{processor:"object[]"}),m("style_formats_merge",{processor:"boolean",default:!1}),m("style_formats_autohide",{processor:"boolean",default:!1}),m("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),m("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),m("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),m("font_size_input_default_unit",{processor:"string",default:"pt"}),m("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),m("content_langs",{processor:"object[]"}),m("removed_menuitems",{processor:"string",default:""}),m("menubar",{processor:C=>x(C)||H(C),default:!i}),m("menu",{processor:"object",default:{}}),m("toolbar",{processor:C=>H(C)||x(C)||$(C)?{value:C,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),uo(9,C=>{m("toolbar"+(C+1),{processor:"string"})}),m("toolbar_mode",{processor:"string",default:c?"scrolling":"floating"}),m("toolbar_groups",{processor:"object",default:{}}),m("toolbar_location",{processor:"string",default:MC.auto}),m("toolbar_persist",{processor:"boolean",default:!1}),m("toolbar_sticky",{processor:"boolean",default:o.inline}),m("toolbar_sticky_offset",{processor:"number",default:0}),m("fixed_toolbar_container",{processor:"string",default:""}),m("fixed_toolbar_container_target",{processor:"object"}),m("ui_mode",{processor:"string",default:"combined"}),m("file_picker_callback",{processor:"function"}),m("file_picker_validator_handler",{processor:"function"}),m("file_picker_types",{processor:"string"}),m("typeahead_urls",{processor:"boolean",default:!0}),m("anchor_top",{processor:y,default:"#top"}),m("anchor_bottom",{processor:y,default:"#bottom"}),m("draggable_modal",{processor:"boolean",default:!1}),m("statusbar",{processor:"boolean",default:!0}),m("elementpath",{processor:"boolean",default:!0}),m("branding",{processor:"boolean",default:!0}),m("promotion",{processor:"boolean",default:!0}),m("resize",{processor:C=>C==="both"||H(C),default:!Cv.deviceType.isTouch()}),m("sidebar_show",{processor:"string"})},K2=Rs("readonly"),Y2=Rs("height"),X2=Rs("width"),zC=PC(Rs("min_width")),fD=PC(Rs("min_height")),NC=PC(Rs("max_width")),hD=PC(Rs("max_height")),ML=PC(Rs("style_formats")),PL=Rs("style_formats_merge"),mD=Rs("style_formats_autohide"),zL=Rs("content_langs"),NL=Rs("removed_menuitems"),vy=Rs("toolbar_mode"),pD=Rs("toolbar_groups"),J2=Rs("toolbar_location"),OH=Rs("fixed_toolbar_container"),gD=Rs("fixed_toolbar_container_target"),LL=Rs("toolbar_persist"),BL=Rs("toolbar_sticky_offset"),FL=Rs("menubar"),Q2=Rs("toolbar"),$L=Rs("file_picker_callback"),yD=Rs("file_picker_validator_handler"),eT=Rs("font_size_input_default_unit"),VL=Rs("file_picker_types"),LC=Rs("typeahead_urls"),HL=Rs("anchor_top"),UL=Rs("anchor_bottom"),jL=Rs("draggable_modal"),WL=Rs("statusbar"),ZL=Rs("elementpath"),GL=Rs("branding"),bD=Rs("resize"),qL=Rs("paste_as_text"),KL=Rs("sidebar_show"),tT=Rs("promotion"),Fp=o=>o.options.get("skin")===!1,nT=o=>o.options.get("menubar")!==!1,YL=o=>{const i=o.options.get("skin_url");if(Fp(o))return i;if(i)return o.documentBaseURI.toAbsolute(i);{const c=o.options.get("skin");return q2.baseURL+"/skins/ui/"+c}},oT=o=>o.options.get("line_height_formats").split(" "),sT=o=>{const i=Q2(o),c=x(i),m=$(i)&&i.length>0;return!BC(o)&&(m||c||i===!0)},rT=o=>{const i=uo(9,m=>o.options.get("toolbar"+(m+1))),c=Je(i,x);return Fn(c.length>0,c)},BC=o=>rT(o).fold(()=>{const i=Q2(o);return gt(i,x)&&i.length>0},Ot),aT=o=>J2(o)===MC.bottom,vD=o=>{var i;if(!o.inline)return L.none();const c=(i=OH(o))!==null&&i!==void 0?i:"";if(c.length>0)return Ys(Xr(),c);const m=gD(o);return Ne(m)?L.some(Le.fromDom(m)):L.none()},wy=o=>o.inline&&vD(o).isSome(),wD=o=>vD(o).getOrThunk(()=>Za($r(Le.fromDom(o.getElement())))),iT=o=>o.inline&&!nT(o)&&!sT(o)&&!BC(o),FC=o=>(o.options.get("toolbar_sticky")||o.inline)&&!wy(o)&&!iT(o),wf=o=>!wy(o)&&o.options.get("ui_mode")==="split",XL=o=>{const i=o.options.get("menu");return mo(i,c=>({...c,items:c.items}))};var DH=Object.freeze({__proto__:null,get ToolbarMode(){return zu},get ToolbarLocation(){return MC},register:DL,getSkinUrl:YL,isReadOnly:K2,isSkinDisabled:Fp,getHeightOption:Y2,getWidthOption:X2,getMinWidthOption:zC,getMinHeightOption:fD,getMaxWidthOption:NC,getMaxHeightOption:hD,getUserStyleFormats:ML,shouldMergeStyleFormats:PL,shouldAutoHideStyleFormats:mD,getLineHeightFormats:oT,getContentLanguages:zL,getRemovedMenuItems:NL,isMenubarEnabled:nT,isMultipleToolbars:BC,isToolbarEnabled:sT,isToolbarPersist:LL,getMultipleToolbarsOption:rT,getUiContainer:wD,useFixedContainer:wy,isSplitUiMode:wf,getToolbarMode:vy,isDraggableModal:jL,isDistractionFree:iT,isStickyToolbar:FC,getStickyToolbarOffset:BL,getToolbarLocation:J2,isToolbarLocationBottom:aT,getToolbarGroups:pD,getMenus:XL,getMenubar:FL,getToolbar:Q2,getFilePickerCallback:$L,getFilePickerTypes:VL,useTypeaheadUrls:LC,getAnchorTop:HL,getAnchorBottom:UL,getFilePickerValidatorHandler:yD,getFontSizeInputDefaultUnit:eT,useStatusBar:WL,useElementPath:ZL,promotionEnabled:tT,useBranding:GL,getResize:bD,getPasteAsText:qL,getSidebarShow:KL});const lT="[data-mce-autocompleter]",cT=o=>pd(o,lT),MH=o=>Ys(o,lT),zH={setup:(o,i)=>{const c=(y,_)=>{xn(y,jl(),{raw:_})},m=()=>o.getMenu().bind(No.getHighlighted);i.on("keydown",y=>{const _=y.which;!o.isActive()||(o.isMenuOpen()?_===13?(m().each(af),y.preventDefault()):_===40?(m().fold(()=>{o.getMenu().each(No.highlightFirst)},C=>{c(C,y)}),y.preventDefault(),y.stopImmediatePropagation()):(_===37||_===38||_===39)&&m().each(C=>{c(C,y),y.preventDefault(),y.stopImmediatePropagation()}):(_===13||_===38||_===40)&&o.cancelIfNecessary())}),i.on("NodeChange",y=>{o.isActive()&&!o.isProcessingAction()&&cT(Le.fromDom(y.element)).isNone()&&o.cancelIfNecessary()})}};var _D;(function(o){o[o.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",o[o.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(_D||(_D={}));var xd=_D;const kD="tox-menu-nav__js",uT="tox-collection__item",CD="tox-swatch",NH={normal:kD,color:CD},JL="tox-collection__item--enabled",LH="tox-collection__group-heading",QL="tox-collection__item-icon",SD="tox-collection__item-label",BH="tox-collection__item-accessory",e3="tox-collection__item-caret",FH="tox-collection__item-checkmark",$C="tox-collection__item--active",dT="tox-collection__item-container",$H="tox-collection__item-container--column",t3="tox-collection__item-container--row",VH="tox-collection__item-container--align-right",n3="tox-collection__item-container--align-left",HH="tox-collection__item-container--valign-top",UH="tox-collection__item-container--valign-middle",jH="tox-collection__item-container--valign-bottom",o3=o=>Gt(NH,o).getOr(kD),WH=o=>o==="color"?"tox-swatches":"tox-menu",xD=o=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:WH(o),tieredMenu:"tox-tiered-menu"}),$p=o=>{const i=xD(o);return{backgroundMenu:i.backgroundMenu,selectedMenu:i.selectedMenu,menu:i.menu,selectedItem:i.selectedItem,item:o3(o)}},ZH=(o,i,c)=>{const m=xD(c);return{tag:"div",classes:Ye([[m.menu,`tox-menu-${i}-column`],o?[m.hasIcons]:[]])}},GH=[_v.parts.items({})],fT=(o,i,c)=>{const m=xD(c);return{dom:{tag:"div",classes:Ye([[m.tieredMenu]])},markers:$p(c)}},s3=J([Wo("data"),Be("inputAttributes",{}),Be("inputStyles",{}),Be("tag","input"),Be("inputClasses",[]),Co("onSetValue"),Be("styles",{}),Be("eventOrder",{}),Na("inputBehaviours",[tn,zn]),Be("selectOnFocus",!0)]),r3=o=>Lt([zn.config({onFocus:o.selectOnFocus?i=>{const c=i.element,m=gc(c);c.dom.setSelectionRange(0,m.length)}:ee})]),qH=o=>({...r3(o),...na(o.inputBehaviours,[tn.config({store:{mode:"manual",...o.data.map(i=>({initialValue:i})).getOr({}),getValue:i=>gc(i.element),setValue:(i,c)=>{gc(i.element)!==c&&Zc(i.element,c)}},onSetValue:o.onSetValue})])}),a3=o=>({tag:o.tag,attributes:{type:"text",...o.inputAttributes},styles:o.inputStyles,classes:o.inputClasses}),KH=(o,i)=>({uid:o.uid,dom:a3(o),components:[],behaviours:qH(o),eventOrder:o.eventOrder}),Sv=fr({name:"Input",configFields:s3(),factory:KH}),i3=dn("refetch-trigger-event"),l3=dn("redirect-menu-item-interaction"),c3="tox-menu__searcher",xv=o=>Ys(o.element,`.${c3}`).bind(i=>o.getSystem().getByDom(i).toOptional()),u3=xv,ED=(o,i)=>{tn.setValue(o,i.fetchPattern),o.element.dom.selectionStart=i.selectionStart,o.element.dom.selectionEnd=i.selectionEnd},d3=o=>{const i=tn.getValue(o),c=o.element.dom.selectionStart,m=o.element.dom.selectionEnd;return{fetchPattern:i,selectionStart:c,selectionEnd:m}},YH=(o,i)=>{G(i.element,"id").each(c=>Jn(o.element,"aria-activedescendant",c))},XH=o=>{const i=(y,_)=>(_.cut(),L.none()),c=(y,_)=>{const C={interactionEvent:_.event,eventType:_.event.raw.type};return xn(y,l3,C),L.some(!0)},m="searcher-events";return{dom:{tag:"div",classes:[uT]},components:[Sv.sketch({inputClasses:[c3,"tox-textfield"],inputAttributes:{...o.placeholder.map(y=>({placeholder:o.i18n(y)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Lt([no(m,[St(of(),y=>{zo(y,i3)}),St(jl(),(y,_)=>{_.event.raw.key==="Escape"&&_.stop()})]),Sn.config({mode:"special",onLeft:i,onRight:i,onSpace:i,onEnter:c,onEscape:c,onUp:c,onDown:c})]),eventOrder:{keydown:[m,Sn.name()]}})]}},hT="tox-collection--results__js",f3=o=>{var i;return o.dom?{...o,dom:{...o.dom,attributes:{...(i=o.dom.attributes)!==null&&i!==void 0?i:{},id:dn("aria-item-search-result-id"),"aria-selected":"false"}}}:o},mT=(o,i)=>c=>{const m=Et(c,i);return Ee(m,y=>({dom:o,components:y}))},JH=o=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[_v.parts.items({preprocess:o!=="auto"?mT({tag:"div",classes:["tox-swatches__row"]},o):Te})]}]}),TD=o=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[_v.parts.items({preprocess:mT({tag:"div",classes:["tox-collection__group"]},o)})]}),pT=(o,i)=>{const c=[];let m=[];return me(o,(y,_)=>{i(y,_)?(m.length>0&&c.push(m),m=[],(Mo(y.dom,"innerHtml")||y.components&&y.components.length>0)&&m.push(y)):m.push(y)}),m.length>0&&c.push(m),Ee(c,y=>({dom:{tag:"div",classes:["tox-collection__group"]},components:y}))},gT=(o,i,c)=>_v.parts.items({preprocess:m=>{const y=Ee(m,c);return o!=="auto"&&o>1?mT({tag:"div",classes:["tox-collection__group"]},o)(y):pT(y,(_,C)=>i[C].type==="separator")}}),yT=(o,i,c=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[gT(o,i,Te)]}),bT=(o,i,c=!0)=>{const m=dn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",hT].concat(o===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:m}},components:[gT(o,i,f3)]}},h3=(o,i,c)=>{const m=dn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[XH({i18n:Pu.translate,placeholder:c.placeholder}),{dom:{tag:"div",classes:[...o===1?["tox-collection--list"]:["tox-collection--grid"],hT],attributes:{id:m}},components:[gT(o,i,f3)]}]}},_m=(o,i=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[_v.parts.items({preprocess:c=>pT(c,(m,y)=>o[y].type==="separator")})]}),l_=o=>io(o,i=>"icon"in i&&i.icon!==void 0),Vp=o=>(console.error(rl(o)),console.log(o),L.none()),QH=(o,i,c,m,y)=>{const _=_m(c);return{value:o,dom:_.dom,components:_.components,items:c}},RD=(o,i,c,m,y)=>{const _=()=>y.menuType!=="searchable"?yT(m,c):y.searchMode.searchMode==="search-with-field"?h3(m,c,y.searchMode):bT(m,c);if(y.menuType==="color"){const C=JH(m);return{value:o,dom:C.dom,components:C.components,items:c}}else if(y.menuType==="normal"&&m==="auto"){const C=yT(m,c);return{value:o,dom:C.dom,components:C.components,items:c}}else if(y.menuType==="normal"||y.menuType==="searchable"){const C=_();return{value:o,dom:C.dom,components:C.components,items:c}}else if(y.menuType==="listpreview"&&m!=="auto"){const C=TD(m);return{value:o,dom:C.dom,components:C.components,items:c}}else return{value:o,dom:ZH(i,m,y.menuType),components:GH,items:c}},Zr=Cr("type"),_y=Cr("name"),ID=Cr("label"),Hp=Cr("text"),AD=Cr("title"),vT=Cr("icon"),Ev=Cr("value"),e9=mc("fetch"),OD=mc("getSubmenuItems"),ky=mc("onAction"),t9=mc("onItemAction"),Cy=jr("onSetup",()=>ee),m3=Sr("name"),Sy=Sr("text"),_f=Sr("icon"),wT=Sr("tooltip"),DD=Sr("label"),n9=Sr("shortcut"),p3=Xf("select"),VC=ui("active",!1),o9=ui("borderless",!1),Ed=ui("enabled",!0),HC=ui("primary",!1),c_=o=>Be("columns",o),_T=Be("meta",{}),MD=jr("onAction",ee),Tv=o=>Ka("type",o),kT=o=>Qo("name","name",Qd(()=>dn(`${o}-name`)),pa),s9=o=>Qo("value","value",Qd(()=>dn(`${o}-value`)),Aa()),g3=mt([Zr,Sy]),y3=o=>eo("separatormenuitem",g3,o),b3=mt([Tv("autocompleteitem"),VC,Ed,_T,Ev,Sy,_f]),v3=o=>eo("Autocompleter.Separator",g3,o),w3=o=>eo("Autocompleter.Item",b3,o),UC=[Ed,wT,_f,Sy,Cy],r9=mt([Zr,ky].concat(UC)),PD=o=>eo("toolbarbutton",r9,o),jC=[VC].concat(UC),zD=mt(jC.concat([Zr,ky])),ND=o=>eo("ToggleButton",zD,o),LD=[jr("predicate",nn),Vl("scope","node",["node","editor"]),Vl("position","selection",["node","selection","line"])],_3=UC.concat([Tv("contextformbutton"),HC,ky,li("original",Te)]),a9=jC.concat([Tv("contextformbutton"),HC,ky,li("original",Te)]),BD=UC.concat([Tv("contextformbutton")]),i9=jC.concat([Tv("contextformtogglebutton")]),k3=Vi("type",{contextformbutton:_3,contextformtogglebutton:a9}),C3=mt([Tv("contextform"),jr("initValue",J("")),DD,al("commands",k3),_u("launch",Vi("type",{contextformbutton:BD,contextformtogglebutton:i9}))].concat(LD)),Rv=o=>eo("ContextForm",C3,o),l9=mt([Tv("contexttoolbar"),Cr("items")].concat(LD)),FD=o=>eo("ContextToolbar",l9,o),CT=[Zr,Cr("src"),Sr("alt"),Rg("classes",[],pa)],c9=mt(CT),S3=[Zr,Hp,m3,Rg("classes",["tox-collection__item-label"],pa)],x3=mt(S3),$D=Mr(()=>Hc("type",{cardimage:c9,cardtext:x3,cardcontainer:VD})),VD=mt([Zr,Ka("direction","horizontal"),Ka("align","left"),Ka("valign","middle"),al("items",$D)]),Iv=[Ed,Sy,n9,s9("menuitem"),_T],u9=mt([Zr,DD,al("items",$D),Cy,MD].concat(Iv)),E3=o=>eo("cardmenuitem",u9,o),T3=mt([Zr,VC,_f].concat(Iv)),R3=o=>eo("choicemenuitem",T3,o),HD=[Zr,Cr("fancytype"),MD],d9=[Be("initData",{})].concat(HD),I3=[Xf("select"),O("initData",{},[ui("allowCustomColors",!0),Ka("storageKey","default"),sp("colors",Aa())])].concat(HD),WC=Vi("fancytype",{inserttable:d9,colorswatch:I3}),f9=o=>eo("fancymenuitem",WC,o),h9=mt([Zr,Cy,MD,_f].concat(Iv)),m9=o=>eo("menuitem",h9,o),A3=mt([Zr,OD,Cy,_f].concat(Iv)),O3=o=>eo("nestedmenuitem",A3,o),p9=mt([Zr,_f,VC,Cy,ky].concat(Iv)),g9=o=>eo("togglemenuitem",p9,o),UD=(o,i,c)=>{const m=zr(o.element,"."+c);if(m.length>0){const y=yt(m,_=>{const C=_.dom.getBoundingClientRect().top,R=m[0].dom.getBoundingClientRect().top;return Math.abs(C-R)>i}).getOr(m.length);return L.some({numColumns:y,numRows:Math.ceil(m.length/y)})}else return L.none()},D3=(o,i)=>Lt([no(o,i)]),xy={namedEvents:D3,unnamedEvents:o=>D3(dn("unnamed-events"),o)},M3=dn("tooltip.exclusive"),u_=dn("tooltip.show"),d_=dn("tooltip.hide"),jD=(o,i,c)=>{o.getSystem().broadcastOn([M3],{})};var P3=Object.freeze({__proto__:null,hideAllExclusive:jD,setComponents:(o,i,c,m)=>{c.getTooltip().each(y=>{y.getSystem().isConnected()&&Vn.set(y,m)})}}),z3=Object.freeze({__proto__:null,events:(o,i)=>{const c=y=>{i.getTooltip().each(_=>{bf(_),o.onHide(y,_),i.clearTooltip()}),i.clearTimer()},m=y=>{if(!i.isShowing()){jD(y);const _=o.lazySink(y).getOrDie(),C=y.getSystem().build({dom:o.tooltipDom,components:o.tooltipComponents,events:xs(o.mode==="normal"?[St(pc(),R=>{zo(y,u_)}),St(eh(),R=>{zo(y,d_)})]:[]),behaviours:Lt([Vn.config({})])});i.setTooltip(C),yf(_,C),o.onShow(y,C),ta.position(_,C,{anchor:o.anchor(y)})}};return xs(Ye([[St(u_,y=>{i.resetTimer(()=>{m(y)},o.delay)}),St(d_,y=>{i.resetTimer(()=>{c(y)},o.delay)}),St(or(),(y,_)=>{const C=_;C.universal||Gn(C.channels,M3)&&c(y)}),il(y=>{c(y)})],o.mode==="normal"?[St(Qh(),y=>{zo(y,u_)}),St(G0(),y=>{zo(y,d_)}),St(pc(),y=>{zo(y,u_)}),St(eh(),y=>{zo(y,d_)})]:[St(J0(),(y,_)=>{zo(y,u_)}),St(H1(),y=>{zo(y,d_)})]]))}}),N3=[Ct("lazySink"),Ct("tooltipDom"),Be("exclusive",!0),Be("tooltipComponents",[]),Be("delay",300),Vl("mode","normal",["normal","follow-highlight"]),Be("anchor",o=>({type:"hotspot",hotspot:o,layouts:{onLtr:J([Js,Gc,Ja,Gl,ea,Xs]),onRtl:J([Js,Gc,Ja,Gl,ea,Xs])}})),Co("onHide"),Co("onShow")],b9=Object.freeze({__proto__:null,init:()=>{const o=ns(),i=ns(),c=()=>{o.on(clearTimeout)},m=(_,C)=>{c(),o.set(setTimeout(_,C))},y=J("not-implemented");return Da({getTooltip:i.get,isShowing:i.isSet,setTooltip:i.set,clearTooltip:i.clear,clearTimer:c,resetTimer:m,readState:y})}});const L3=Qa({fields:N3,name:"tooltipping",active:z3,state:b9,apis:P3}),v9=o=>o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),WD="silver.readonly",B3=mt([yb("readonly")]),ST=(o,i)=>{const m=o.mainUi.outerContainer.element,y=[o.mainUi.mothership,...o.uiMotherships];i&&me(y,_=>{_.broadcastOn([hh()],{target:m})}),me(y,_=>{_.broadcastOn([WD],{readonly:i})})},F3=(o,i)=>{o.on("init",()=>{o.mode.isReadOnly()&&ST(i,!0)}),o.on("SwitchMode",()=>ST(i,o.mode.isReadOnly())),K2(o)&&o.mode.set("readonly")},Fa=()=>Pr.config({channels:{[WD]:{schema:B3,onReceive:(o,i)=>{In.set(o,i.readonly)}}}}),Nu={item:o=>In.config({disabled:o,disableClass:"tox-collection__item--state-disabled"}),button:o=>In.config({disabled:o}),splitButton:o=>In.config({disabled:o,disableClass:"tox-tbtn--disabled"}),toolbarButton:o=>In.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1})},ZC=(o,i)=>{const c=o.getApi(i);return m=>{m(c)}},Av=(o,i)=>sr(c=>{ZC(o,c)(y=>{const _=o.onSetup(y);Se(_)&&i.set(_)})}),Ov=(o,i)=>il(c=>ZC(o,c)(i.get())),$3=(o,i)=>cf((c,m)=>{ZC(o,c)(o.onAction),!o.triggersSubmenu&&i===xd.CLOSE_ON_EXECUTE&&(c.getSystem().isConnected()&&zo(c,Pg()),m.stop())}),w9={[Wi()]:["disabling","alloy.base.behaviour","toggling","item-events"]},f_=fu,Dv=(o,i,c,m)=>{const y=D(ee);return{type:"item",dom:i.dom,components:f_(i.optComponents),data:o.data,eventOrder:w9,hasSubmenu:o.triggersSubmenu,itemBehaviours:Lt([no("item-events",[$3(o,c),Av(o,y),Ov(o,y)]),Nu.item(()=>!o.enabled||m.isDisabled()),Fa(),Vn.config({})].concat(o.itemBehaviours))}},Mv=o=>({value:o.value,meta:{text:o.text.getOr(""),...o.meta}}),V3=o=>{const i=Cv.os.isMacOS()||Cv.os.isiOS(),y=i?{alt:"\u2325",ctrl:"\u2303",shift:"\u21E7",meta:"\u2318",access:"\u2303\u2325"}:{meta:"Ctrl",access:"Shift+Alt"},_=o.split("+"),C=Ee(_,R=>{const M=R.toLowerCase().trim();return Mo(y,M)?y[M]:R});return i?C.join(""):C.join("+")},ZD=(o,i,c=[QL])=>Sd(o,{tag:"div",classes:c},i),H3=o=>({dom:{tag:"div",classes:[SD]},components:[Ks(Pu.translate(o))]}),U3=(o,i)=>({dom:{tag:"div",classes:i,innerHtml:o}}),_9=(o,i)=>({dom:{tag:"div",classes:[SD]},components:[{dom:{tag:o.tag,styles:o.styles},components:[Ks(Pu.translate(i))]}]}),k9=o=>({dom:{tag:"div",classes:[BH]},components:[Ks(V3(o))]}),Ey=o=>ZD("checkmark",o,[FH]),GD=o=>ZD("chevron-right",o,[e3]),C9=o=>ZD("chevron-down",o,[e3]),xT=(o,i)=>{const c=o.direction==="vertical"?$H:t3,m=o.align==="left"?n3:VH;return{dom:{tag:"div",classes:[dT,c,m,(()=>{switch(o.valign){case"top":return HH;case"middle":return UH;case"bottom":return jH}})()]},components:i}},yh=(o,i,c)=>({dom:{tag:"img",classes:i,attributes:{src:o,alt:c.getOr("")}}}),S9=(o,i,c)=>{const m="custom",y="remove",_=o.ariaLabel,C=o.value,R=o.iconContent.map(N=>G2(N,i.icons,c));return{dom:(()=>{const N=CD,V=R.getOr(""),K={tag:"div",attributes:_.map(Q=>({title:i.translate(Q)})).getOr({}),classes:[N]};return C===m?{...K,tag:"button",classes:[...K.classes,"tox-swatches__picker-btn"],innerHtml:V}:C===y?{...K,classes:[...K.classes,"tox-swatch--remove"],innerHtml:V}:Ne(C)?{...K,attributes:{...K.attributes,"data-mce-color":C},styles:{"background-color":C},innerHtml:V}:K})(),optComponents:[]}},j3=o=>{const i=o.map(c=>({attributes:{title:Pu.translate(c)}})).getOr({});return{tag:"div",classes:[kD,uT],...i}},x9=(o,i,c,m)=>{const y={tag:"div",classes:[QL]},_=K=>Sd(K,y,i.icons,m),C=()=>L.some({dom:y}),R=c?o.iconContent.map(_).orThunk(C):L.none(),M=o.checkMark,N=L.from(o.meta).fold(()=>H3,K=>Mo(K,"style")?_t(_9,K.style):H3),V=o.htmlContent.fold(()=>o.textContent.map(N),K=>L.some(U3(K,[SD])));return{dom:j3(o.ariaLabel),optComponents:[R,V,o.shortcutContent.map(k9),M,o.caret]}},Pv=(o,i,c,m=L.none())=>o.presets==="color"?S9(o,i,m):x9(o,i,c,m),W3=(o,i)=>Gt(o,"tooltipWorker").map(c=>[L3.config({lazySink:i.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:m=>({type:"submenu",item:m,overrides:{maxHeightFunction:wp}}),mode:"follow-highlight",onShow:(m,y)=>{c(_=>{L3.setComponents(m,[lh({element:Le.fromDom(_)})])})}})]).getOr([]),E9=o=>Bp.DOM.encode(o),qD=(o,i)=>{const c=Pu.translate(o),m=E9(c);if(i.length>0){const y=new RegExp(v9(i),"gi");return m.replace(y,_=>`<span class="tox-autocompleter-highlight">${_}</span>`)}else return m},T9=(o,i,c,m,y,_,C,R=!0)=>{const M=Pv({presets:m,textContent:L.none(),htmlContent:c?o.text.map(N=>qD(N,i)):L.none(),ariaLabel:o.text,iconContent:o.icon,shortcutContent:L.none(),checkMark:L.none(),caret:L.none(),value:o.value},C.providers,R,o.icon);return Dv({data:Mv(o),enabled:o.enabled,getApi:J({}),onAction:N=>y(o.value,o.meta),onSetup:J(ee),triggersSubmenu:!1,itemBehaviours:W3(o.meta,C)},M,_,C.providers)},Z3=(o,i)=>Ee(o,c=>{switch(c.type){case"cardcontainer":return xT(c,Z3(c.items,i));case"cardimage":return yh(c.src,c.classes,c.alt);case"cardtext":const y=c.name.exists(_=>Gn(i.cardText.highlightOn,_))?L.from(i.cardText.matchText).getOr(""):"";return U3(qD(c.text,y),c.classes)}}),R9=(o,i,c,m)=>{const y=C=>({isEnabled:()=>!In.isDisabled(C),setEnabled:R=>{In.set(C,!R),me(zr(C.element,"*"),M=>{C.getSystem().getByDom(M).each(N=>{N.hasConfigured(In)&&In.set(N,!R)})})}}),_={dom:j3(o.label),optComponents:[L.some({dom:{tag:"div",classes:[dT,t3]},components:Z3(o.items,m)})]};return Dv({data:Mv({text:L.none(),...o}),enabled:o.enabled,getApi:y,onAction:o.onAction,onSetup:o.onSetup,triggersSubmenu:!1,itemBehaviours:L.from(m.itemBehaviours).getOr([])},_,i,c.providers)},Xc=(o,i,c,m,y,_,C,R=!0)=>{const M=V=>({setActive:Z=>{fo.set(V,Z)},isActive:()=>fo.isOn(V),isEnabled:()=>!In.isDisabled(V),setEnabled:Z=>In.set(V,!Z)}),N=Pv({presets:c,textContent:i?o.text:L.none(),htmlContent:L.none(),ariaLabel:o.text,iconContent:o.icon,shortcutContent:i?o.shortcut:L.none(),checkMark:i?L.some(Ey(C.icons)):L.none(),caret:L.none(),value:o.value},C,R);return hs(Dv({data:Mv(o),enabled:o.enabled,getApi:M,onAction:V=>m(o.value),onSetup:V=>(V.setActive(y),ee),triggersSubmenu:!1,itemBehaviours:[]},N,_,C),{toggling:{toggleClass:JL,toggleOnExecute:!1,selected:o.active,exclusive:!0}})},bh=aC(j2(),oD()),G3=o=>({value:q3(o)}),KD=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,GC=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ET=o=>KD.test(o)||GC.test(o),q3=o=>hu(o,"#").toUpperCase(),I9=o=>ET(o)?L.some({value:q3(o)}):L.none(),qC=o=>({value:o.value.replace(KD,(c,m,y,_)=>m+m+y+y+_+_)}),TT=o=>{const i=qC(o),c=GC.exec(i.value);return c===null?["FFFFFF","FF","FF","FF"]:c},YD=o=>{const i=o.toString(16);return(i.length===1?"0"+i:i).toUpperCase()},kf=o=>{const i=YD(o.red)+YD(o.green)+YD(o.blue);return G3(i)},K3=Math.min,Y3=Math.max,Rl=Math.round,XD=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,vh=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Ty=(o,i,c,m)=>({red:o,green:i,blue:c,alpha:m}),ds=o=>{const i=parseInt(o,10);return i.toString()===o&&i>=0&&i<=255},Ry=o=>{let i,c,m;const y=(o.hue||0)%360;let _=o.saturation/100,C=o.value/100;if(_=Y3(0,K3(_,1)),C=Y3(0,K3(C,1)),_===0)return i=c=m=Rl(255*C),Ty(i,c,m,1);const R=y/60,M=C*_,N=M*(1-Math.abs(R%2-1)),V=C-M;switch(Math.floor(R)){case 0:i=M,c=N,m=0;break;case 1:i=N,c=M,m=0;break;case 2:i=0,c=M,m=N;break;case 3:i=0,c=N,m=M;break;case 4:i=N,c=0,m=M;break;case 5:i=M,c=0,m=N;break;default:i=c=m=0}return i=Rl(255*(i+V)),c=Rl(255*(c+V)),m=Rl(255*(m+V)),Ty(i,c,m,1)},Iy=o=>{const i=TT(o),c=parseInt(i[1],16),m=parseInt(i[2],16),y=parseInt(i[3],16);return Ty(c,m,y,1)},JD=(o,i,c,m)=>{const y=parseInt(o,10),_=parseInt(i,10),C=parseInt(c,10),R=parseFloat(m);return Ty(y,_,C,R)},KC=o=>{if(o==="transparent")return L.some(Ty(0,0,0,0));const i=XD.exec(o);if(i!==null)return L.some(JD(i[1],i[2],i[3],"1"));const c=vh.exec(o);return c!==null?L.some(JD(c[1],c[2],c[3],c[4])):L.none()},RT=o=>`rgba(${o.red},${o.green},${o.blue},${o.alpha})`,X3=Ty(255,0,0,1),QD=o=>{o.dispatch("SkinLoaded")},A9=(o,i)=>{o.dispatch("SkinLoadError",i)},J3=o=>{o.dispatch("ResizeEditor")},IT=(o,i)=>{o.dispatch("ResizeContent",i)},eM=(o,i)=>{o.dispatch("ScrollContent",i)},tM=(o,i)=>{o.dispatch("TextColorChange",i)},AT=(o,i)=>{o.dispatch("AfterProgressState",{state:i})},O9=(o,i)=>o.dispatch("ResolveName",{name:i.nodeName.toLowerCase(),target:i}),D9=(o,i)=>{o.dispatch("ToggleToolbarDrawer",{state:i})};var zv=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const Q3={},M9=(o,i=10)=>{const c=zv.getItem(o),m=x(c)?JSON.parse(c):[],_=(N=>i-N.length<0?N.slice(0,i):N)(m),C=N=>{it(_,N).each(R),_.unshift(N),_.length>i&&_.pop(),zv.setItem(o,JSON.stringify(_))},R=N=>{_.splice(N,1)};return{add:C,state:()=>_.slice(0)}},eB=o=>Gt(Q3,o).getOrThunk(()=>{const i=`tinymce-custom-colors-${o}`,c=zv.getItem(i);if(ke(c)){const y=zv.getItem("tinymce-custom-colors");zv.setItem(i,Ne(y)?y:"[]")}const m=M9(i,10);return Q3[o]=m,m}),P9=o=>Ee(eB(o).state(),i=>({type:"choiceitem",text:i,icon:"checkmark",value:i})),tB=(o,i)=>{eB(o).add(i)},YC=(o,i,c)=>({hue:o,saturation:i,value:c}),nM=o=>{let i=0,c=0,m=0;const y=o.red/255,_=o.green/255,C=o.blue/255,R=Math.min(y,Math.min(_,C)),M=Math.max(y,Math.max(_,C));if(R===M)return m=R,YC(0,0,m*100);const N=y===R?_-C:C===R?y-_:C-y;return i=y===R?3:C===R?1:5,i=60*(i-N/(M-R)),c=(M-R)/M,m=M,YC(Math.round(i),Math.round(c*100),Math.round(m*100))},nB=o=>nM(Iy(o)),oB=o=>kf(Ry(o)),sB=o=>I9(o).orThunk(()=>KC(o).map(kf)).getOrThunk(()=>{const i=document.createElement("canvas");i.height=1,i.width=1;const c=i.getContext("2d");c.clearRect(0,0,i.width,i.height),c.fillStyle="#FFFFFF",c.fillStyle=o,c.fillRect(0,0,1,1);const m=c.getImageData(0,0,1,1).data,y=m[0],_=m[1],C=m[2],R=m[3];return kf(Ty(y,_,C,R))}),oM="forecolor",sM="hilitecolor",rM=5,rB=o=>Math.max(rM,Math.ceil(Math.sqrt(o))),aB=(o,i)=>{const c=rB(i),m=wh("color_cols")(o);return rM===c?m:c},z9=o=>{const i=[];for(let c=0;c<o.length;c+=2)i.push({text:o[c+1],value:"#"+sB(o[c]).value,icon:"checkmark",type:"choiceitem"});return i},wh=o=>i=>i.options.get(o),Td="#000000",N9=o=>{const i=o.options.register,c=m=>gt(m,x)?{value:z9(m),valid:!0}:{valid:!1,message:"Must be an array of strings."};i("color_map",{processor:c,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),i("color_map_background",{processor:c}),i("color_map_foreground",{processor:c}),i("color_cols",{processor:"number",default:rB(h_(o,"default").length)}),i("color_cols_foreground",{processor:"number",default:aB(o,h_(o,oM).length)}),i("color_cols_background",{processor:"number",default:aB(o,h_(o,sM).length)}),i("custom_colors",{processor:"boolean",default:!0}),i("color_default_foreground",{processor:"string",default:Td}),i("color_default_background",{processor:"string",default:Td})},aM=(o,i)=>i===oM?wh("color_cols_foreground")(o):i===sM?wh("color_cols_background")(o):wh("color_cols")(o),iM=(o,i)=>{const c=aM(o,i);return c>0?c:rM},lM=wh("custom_colors"),h_=(o,i)=>i===oM&&o.options.isSet("color_map_foreground")?wh("color_map_foreground")(o):i===sM&&o.options.isSet("color_map_background")?wh("color_map_background")(o):wh("color_map")(o),iB=wh("color_default_foreground"),lB=wh("color_default_background"),L9="rgba(0, 0, 0, 0)",B9=o=>KC(o).exists(i=>i.alpha!==0),F9=o=>Hl(o,i=>{if(Jo(i)){const c=xt(i,"background-color");return Fn(B9(c),c)}else return L.none()}).getOr(L9),cB=(o,i)=>{const c=Le.fromDom(o.selection.getStart()),m=i==="hilitecolor"?F9(c):xt(c,"color");return KC(m).map(y=>"#"+kf(y).value)},uB=(o,i,c)=>{o.undoManager.transact(()=>{o.focus(),o.formatter.apply(i,{value:c}),o.nodeChanged()})},dB=(o,i)=>{o.undoManager.transact(()=>{o.focus(),o.formatter.remove(i,{value:null},void 0,!0),o.nodeChanged()})},fB=o=>{o.addCommand("mceApplyTextcolor",(i,c)=>{uB(o,i,c)}),o.addCommand("mceRemoveTextcolor",i=>{dB(o,i)})},hB=o=>{const i="choiceitem",c={type:i,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return o?[c,{type:i,text:"Custom color",icon:"color-picker",value:"custom"}]:[c]},cM=(o,i,c,m)=>{c==="custom"?OT(o)(_=>{_.each(C=>{tB(i,C),o.execCommand("mceApplyTextcolor",i,C),m(C)})},cB(o,i).getOr(Td)):c==="remove"?(m(""),o.execCommand("mceRemoveTextcolor",i)):(m(c),o.execCommand("mceApplyTextcolor",i,c))},mB=(o,i,c)=>o.concat(P9(i).concat(hB(c))),Nv=(o,i,c)=>m=>{m(mB(o,i,c))},uM=(o,i,c)=>{const m=i==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";o.setIconFill(m,c)},dM=(o,i)=>c=>{const m=cB(o,i);return ca(m,c.toUpperCase())},fM=(o,i,c,m,y)=>{o.ui.registry.addSplitButton(i,{tooltip:m,presets:"color",icon:i==="forecolor"?"text-color":"highlight-bg-color",select:dM(o,c),columns:iM(o,c),fetch:Nv(h_(o,c),c,lM(o)),onAction:_=>{cM(o,c,y.get(),ee)},onItemAction:(_,C)=>{cM(o,c,C,R=>{y.set(R),tM(o,{name:i,color:R})})},onSetup:_=>{uM(_,i,y.get());const C=R=>{R.name===i&&uM(_,R.name,R.color)};return o.on("TextColorChange",C),()=>{o.off("TextColorChange",C)}}})},hM=(o,i,c,m,y)=>{o.ui.registry.addNestedMenuItem(i,{text:m,icon:i==="forecolor"?"text-color":"highlight-bg-color",onSetup:_=>(uM(_,i,y.get()),ee),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:dM(o,c),initData:{storageKey:c},onAction:_=>{cM(o,c,_.value,C=>{y.set(C),tM(o,{name:i,color:C})})}}]})},OT=o=>(i,c)=>{let m=!1;const y=R=>{const N=R.getData().colorpicker;m?(i(L.from(N)),R.close()):o.windowManager.alert(o.translate(["Invalid hex color code: {0}",N]))},_=(R,M)=>{M.name==="hex-valid"&&(m=M.value)},C={colorpicker:c};o.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:C,onAction:_,onSubmit:y,onClose:ee,onCancel:()=>{i(L.none())}})},mM=o=>{fB(o);const i=iB(o),c=lB(o),m=D(i),y=D(c);fM(o,"forecolor","forecolor","Text color",m),fM(o,"backcolor","hilitecolor","Background color",y),hM(o,"forecolor","forecolor","Text color",m),hM(o,"backcolor","hilitecolor","Background color",y)},XC=(o,i,c,m,y,_,C,R)=>{const M=l_(i),V=pB(i,c,m,y!=="color"?"normal":"color",_,C,R);return RD(o,M,V,m,{menuType:y})},pB=(o,i,c,m,y,_,C)=>fu(Ee(o,R=>R.type==="choiceitem"?R3(R).fold(Vp,M=>L.some(Xc(M,c===1,m,i,_(M.value),y,C,l_(o)))):L.none())),DT=(o,i)=>{const c=$p(i);return o===1?{mode:"menu",moveOnTab:!0}:o==="auto"?{mode:"grid",selector:"."+c.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(i==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:y=>i==="color"?Ys(y.element,"[aria-checked=true]"):L.none()}},gB=(o,i)=>o===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:o==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:i==="color"?".tox-swatches__row":".tox-collection__group",cell:i==="color"?`.${CD}`:`.${uT}`}},$9=(o,i)=>{const c=V9(o,i),m=i.colorinput.getColorCols(o.initData.storageKey),y="color",C={...XC(dn("menu-value"),c,R=>{o.onAction({value:R})},m,y,xd.CLOSE_ON_EXECUTE,o.select.getOr(nn),i.shared.providers),markers:$p(y),movement:DT(m,y)};return{type:"widget",data:{value:dn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[bh.widget(_v.sketch(C))]}},V9=(o,i)=>{const c=o.initData.allowCustomColors&&i.colorinput.hasCustomColors();return o.initData.colors.fold(()=>mB(i.colorinput.getColors(o.initData.storageKey),o.initData.storageKey,c),m=>m.concat(hB(c)))},yB=dn("cell-over"),pM=dn("cell-execute"),bB=(o,i,c)=>{const m=C=>xn(C,yB,{row:o,col:i}),y=C=>xn(C,pM,{row:o,col:i}),_=(C,R)=>{R.stop(),y(C)};return Pa({dom:{tag:"div",attributes:{role:"button",["aria-labelledby"]:c}},behaviours:Lt([no("insert-table-picker-cell",[St(pc(),zn.focus),St(Wi(),y),St(jc(),_),St(ap(),_)]),fo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),zn.config({onFocus:m})])})},vB=(o,i,c)=>{const m=[];for(let y=0;y<i;y++){const _=[];for(let C=0;C<c;C++)_.push(bB(y,C,o));m.push(_)}return m},H9=(o,i,c,m,y)=>{for(let _=0;_<m;_++)for(let C=0;C<y;C++)fo.set(o[_][C],_<=i&&C<=c)},U9=o=>ce(o,i=>Ee(i,Sl)),wB=(o,i)=>Ks(`${i}x${o}`),j9={inserttable:o=>{const m=dn("size-label"),y=vB(m,10,10),_=wB(0,0),C=es({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:m}},components:[_],behaviours:Lt([Vn.config({})])});return{type:"widget",data:{value:dn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[bh.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:U9(y).concat(C.asSpec()),behaviours:Lt([no("insert-table-picker",[sr(R=>{Vn.set(C.get(R),[_])}),Cb(yB,(R,M,N)=>{const{row:V,col:Z}=N.event;H9(y,V,Z,10,10),Vn.set(C.get(R),[wB(V+1,Z+1)])}),Cb(pM,(R,M,N)=>{const{row:V,col:Z}=N.event;o.onAction({numRows:V+1,numColumns:Z+1}),zo(R,Pg())})]),Sn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:$9},W9=(o,i)=>Gt(j9,o.fancytype).map(c=>c(o,i)),Z9=(o,i,c,m=!0,y=!1)=>{const _=y?C9(c.icons):GD(c.icons),C=M=>({isEnabled:()=>!In.isDisabled(M),setEnabled:N=>In.set(M,!N),setIconFill:(N,V)=>{Ys(M.element,`svg path[id="${N}"], rect[id="${N}"]`).each(Z=>{Jn(Z,"fill",V)})}}),R=Pv({presets:"normal",iconContent:o.icon,textContent:o.text,htmlContent:L.none(),ariaLabel:o.text,caret:L.some(_),checkMark:L.none(),shortcutContent:o.shortcut},c,m);return Dv({data:Mv(o),getApi:C,enabled:o.enabled,onAction:ee,onSetup:o.onSetup,triggersSubmenu:!0,itemBehaviours:[]},R,i,c)},G9=(o,i,c,m=!0)=>{const y=C=>({isEnabled:()=>!In.isDisabled(C),setEnabled:R=>In.set(C,!R)}),_=Pv({presets:"normal",iconContent:o.icon,textContent:o.text,htmlContent:L.none(),ariaLabel:o.text,caret:L.none(),checkMark:L.none(),shortcutContent:o.shortcut},c,m);return Dv({data:Mv(o),getApi:y,enabled:o.enabled,onAction:o.onAction,onSetup:o.onSetup,triggersSubmenu:!1,itemBehaviours:[]},_,i,c)},q9=o=>({type:"separator",dom:{tag:"div",classes:[uT,LH]},components:o.text.map(Ks).toArray()}),K9=(o,i,c,m=!0)=>{const y=C=>({setActive:R=>{fo.set(C,R)},isActive:()=>fo.isOn(C),isEnabled:()=>!In.isDisabled(C),setEnabled:R=>In.set(C,!R)}),_=Pv({iconContent:o.icon,textContent:o.text,htmlContent:L.none(),ariaLabel:o.text,checkMark:L.some(Ey(c.icons)),caret:L.none(),shortcutContent:o.shortcut,presets:"normal",meta:o.meta},c,m);return hs(Dv({data:Mv(o),enabled:o.enabled,getApi:y,onAction:o.onAction,onSetup:o.onSetup,triggersSubmenu:!1,itemBehaviours:[]},_,i,c),{toggling:{toggleClass:JL,toggleOnExecute:!1,selected:o.active}})},Y9=T9,gM=q9,X9=G9,J9=Z9,Q9=K9,eU=W9,tU=R9;var oU=Object.freeze({__proto__:null,getCoupled:(o,i,c,m)=>c.getOrCreate(o,i,m),getExistingCoupled:(o,i,c,m)=>c.getExisting(o,i,m)}),sU=[Hi("others",Yh(to.value,Aa()))],rU=Object.freeze({__proto__:null,init:()=>{const o={},i=(_,C)=>{if(_n(_.others).length===0)throw new Error("Cannot find any known coupled components");return Gt(o,C)},c=(_,C,R)=>i(C,R).getOrThunk(()=>{const N=Gt(C.others,R).getOrDie("No information found for coupled component: "+R)(_),V=_.getSystem().build(N);return o[R]=V,V}),m=(_,C,R)=>i(C,R).orThunk(()=>(Gt(C.others,R).getOrDie("No information found for coupled component: "+R),L.none())),y=J({});return Da({readState:y,getExisting:m,getOrCreate:c})}});const Er=Qa({fields:sU,name:"coupling",apis:oU,state:rU}),bM=o=>{let i=L.none(),c=[];const m=N=>bM(V=>{y(Z=>{V(N(Z))})}),y=N=>{C()?M(N):c.push(N)},_=N=>{C()||(i=L.some(N),R(c),c=[])},C=()=>i.isSome(),R=N=>{me(N,M)},M=N=>{i.each(V=>{setTimeout(()=>{N(V)},0)})};return o(_),{get:y,map:m,isReady:C}},kB={nu:bM,pure:o=>bM(i=>{i(o)})},CB=o=>{setTimeout(()=>{throw o},0)},m_=o=>{const i=M=>{o().then(M,CB)};return{map:M=>m_(()=>o().then(M)),bind:M=>m_(()=>o().then(N=>M(N).toPromise())),anonBind:M=>m_(()=>o().then(()=>M.toPromise())),toLazy:()=>kB.nu(i),toCached:()=>{let M=null;return m_(()=>(M===null&&(M=o()),M))},toPromise:o,get:i}},qi={nu:o=>m_(()=>new Promise(o)),pure:o=>m_(()=>Promise.resolve(o))},SB=J("sink"),xB=J(wc({name:SB(),overrides:J({dom:{tag:"div"},behaviours:Lt([ta.config({useFixed:Ot})]),events:xs([lp(jl()),lp(cs()),lp(jc())])})})),EB=(o,i)=>{const c=o.getHotspot(i).getOr(i),m="hotspot",y=o.getAnchorOverrides();return o.layouts.fold(()=>({type:m,hotspot:c,overrides:y}),_=>({type:m,hotspot:c,overrides:y,layouts:_}))},iU=(o,i,c)=>{const m=o.fetch;return m(c).map(i)},lU=(o,i,c,m,y,_,C)=>{const R=iU(o,i,m),M=zT(m,o);return R.map(N=>N.bind(V=>L.from(Cd.sketch({..._.menu(),uid:rh(""),data:V,highlightOnOpen:C,onOpenMenu:(Z,K)=>{const Q=M().getOrDie();ta.position(Q,K,{anchor:c}),Io.decloak(y)},onOpenSubmenu:(Z,K,Q)=>{const ie=M().getOrDie();ta.position(ie,Q,{anchor:{type:"submenu",item:K}}),Io.decloak(y)},onRepositionMenu:(Z,K,Q)=>{const ie=M().getOrDie();ta.position(ie,K,{anchor:c}),me(Q,_e=>{ta.position(ie,_e.triggeredMenu,{anchor:{type:"submenu",item:_e.triggeringItem}})})},onEscape:()=>(zn.focus(m),Io.close(y),L.some(!0))}))))},MT=(o,i,c,m,y,_,C)=>{const R=EB(o,c);return lU(o,i,R,c,m,y,C).map(N=>(N.fold(()=>{Io.isOpen(m)&&Io.close(m)},V=>{Io.cloak(m),Io.open(m,V),_(m)}),m))},cU=(o,i,c,m,y,_,C)=>(Io.close(m),qi.pure(m)),vM=(o,i,c,m,y,_)=>{const C=Er.getCoupled(c,"sandbox");return(Io.isOpen(C)?cU:MT)(o,i,c,C,m,y,_)},PT=(o,i,c)=>{const m=yo.getCurrent(i).getOr(i),y=vi(o.element);c?un(m.element,"min-width",y+"px"):Cs(m.element,y)},zT=(o,i)=>o.getSystem().getByUid(i.uid+"-"+SB()).map(c=>()=>to.value(c)).getOrThunk(()=>i.lazySink.fold(()=>()=>to.error(new Error("No internal sink is specified, nor could an external sink be found")),c=>()=>c(o))),NT=o=>{Io.getState(o).each(i=>{Cd.repositionMenus(i)})},LT=(o,i,c)=>{const m=ak(),y=(R,M)=>{const N=EB(o,i);m.link(i.element),o.matchWidth&&PT(N.hotspot,M,o.useMinWidth),o.onOpen(N,R,M),c!==void 0&&c.onOpen!==void 0&&c.onOpen(R,M)},_=(R,M)=>{m.unlink(i.element),c!==void 0&&c.onClose!==void 0&&c.onClose(R,M)},C=zT(i,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:m.id,role:"listbox"}},behaviours:Au.augment(o.sandboxBehaviours,[tn.config({store:{mode:"memory",initialValue:i}}),Io.config({onOpen:y,onClose:_,isPartOf:(R,M,N)=>lm(M,N)||lm(i,N),getAttachPoint:()=>C().getOrDie()}),yo.config({find:R=>Io.getState(R).bind(M=>yo.getCurrent(M))}),Pr.config({channels:{...mh({isExtraPart:nn}),...qk({doReposition:NT})}})])}},TB=o=>{const i=Er.getCoupled(o,"sandbox");NT(i)},wM=()=>[Be("sandboxClasses",[]),Au.field("sandboxBehaviours",[yo,Pr,Io,tn])],_M=J([Ct("dom"),Ct("fetch"),Co("onOpen"),ir("onExecute"),Be("getHotspot",L.some),Be("getAnchorOverrides",J({})),yd(),Na("dropdownBehaviours",[fo,Er,Sn,zn]),Ct("toggleClass"),Be("eventOrder",{}),Wo("lazySink"),Be("matchWidth",!1),Be("useMinWidth",!1),Wo("role")].concat(wM())),kM=J([Ou({schema:[hf(),Be("fakeFocus",!1)],name:"menu",defaults:o=>({onExecute:o.onExecute})}),xB()]),BT=(o,i,c,m)=>{const y=V=>Gt(o.dom,"attributes").bind(Z=>Gt(Z,V)),_=V=>{Io.getState(V).each(Z=>{Cd.highlightPrimary(Z)})},C=(V,Z,K)=>vM(o,Te,V,m,Z,K),R=V=>{C(V,_,Jl.HighlightMenuAndItem).get(ee)},M={expand:V=>{fo.isOn(V)||C(V,ee,Jl.HighlightNone).get(ee)},open:V=>{fo.isOn(V)||C(V,ee,Jl.HighlightMenuAndItem).get(ee)},refetch:V=>Er.getExistingCoupled(V,"sandbox").fold(()=>C(V,ee,Jl.HighlightMenuAndItem).map(ee),K=>MT(o,Te,V,K,m,ee,Jl.HighlightMenuAndItem).map(ee)),isOpen:fo.isOn,close:V=>{fo.isOn(V)&&C(V,ee,Jl.HighlightMenuAndItem).get(ee)},repositionMenus:V=>{fo.isOn(V)&&TB(V)}},N=(V,Z)=>(af(V),L.some(!0));return{uid:o.uid,dom:o.dom,components:i,behaviours:na(o.dropdownBehaviours,[fo.config({toggleClass:o.toggleClass,aria:{mode:"expanded"}}),Er.config({others:{sandbox:V=>LT(o,V,{onOpen:()=>fo.on(V),onClose:()=>fo.off(V)})}}),Sn.config({mode:"special",onSpace:N,onEnter:N,onDown:(V,Z)=>{if(Lu.isOpen(V)){const K=Er.getCoupled(V,"sandbox");_(K)}else Lu.open(V);return L.some(!0)},onEscape:(V,Z)=>Lu.isOpen(V)?(Lu.close(V),L.some(!0)):L.none()}),zn.config({})]),events:U2(L.some(R)),eventOrder:{...o.eventOrder,[Wi()]:["disabling","toggling","alloy.base.behaviour"]},apis:M,domModification:{attributes:{"aria-haspopup":"true",...o.role.fold(()=>({}),V=>({role:V})),...o.dom.tag==="button"?{type:y("type").getOr("button")}:{}}}}},Lu=Nr({name:"Dropdown",configFields:_M(),partFields:kM(),factory:BT,apis:{open:(o,i)=>o.open(i),refetch:(o,i)=>o.refetch(i),expand:(o,i)=>o.expand(i),close:(o,i)=>o.close(i),isOpen:(o,i)=>o.isOpen(i),repositionMenus:(o,i)=>o.repositionMenus(i)}}),uU=o=>{switch(o.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:o}}},dU=o=>{const i=tn.getValue(o),c=xv(o).map(d3);Lu.refetch(i).get(()=>{const m=Er.getCoupled(i,"sandbox");c.each(y=>xv(m).each(_=>ED(_,y)))})},fU=(o,i)=>{hU(o).each(c=>{lA(o,c.element,i.event.eventType,i.event.interactionEvent)})},hU=o=>Io.getState(o).bind(No.getHighlighted).bind(No.getHighlighted),mU=o=>xi(o.element,hT)?L.some(o.element):Ys(o.element,"."+hT),RB=(o,i,c)=>{u3(o).each(m=>{YH(m,c),mU(i).each(_=>{G(_,"id").each(C=>Jn(m.element,"aria-controls",C))})}),Jn(c.element,"aria-selected","true")},pU=(o,i,c)=>{Jn(c.element,"aria-selected","false")},gU=o=>{u3(o).each(i=>zn.focus(i))},yU=o=>Er.getExistingCoupled(o,"sandbox").bind(xv).map(d3).map(c=>c.fetchPattern).getOr("");var FT;(function(o){o[o.ContentFocus=0]="ContentFocus",o[o.UiFocus=1]="UiFocus"})(FT||(FT={}));const bU=(o,i,c,m,y)=>{const _=c.shared.providers,C=R=>y?{...R,shortcut:L.none(),icon:R.text.isSome()?L.none():R.icon}:R;switch(o.type){case"menuitem":return m9(o).fold(Vp,R=>L.some(X9(C(R),i,_,m)));case"nestedmenuitem":return O3(o).fold(Vp,R=>L.some(J9(C(R),i,_,m,y)));case"togglemenuitem":return g9(o).fold(Vp,R=>L.some(Q9(C(R),i,_,m)));case"separator":return y3(o).fold(Vp,R=>L.some(gM(R)));case"fancymenuitem":return f9(o).fold(Vp,R=>eU(R,c));default:return console.error("Unknown item in general menu",o),L.none()}},vU=(o,i,c,m,y,_,C)=>{const R=m===1,M=!R||l_(o);return fu(Ee(o,N=>{switch(N.type){case"separator":return v3(N).fold(Vp,V=>L.some(gM(V)));case"cardmenuitem":return E3(N).fold(Vp,V=>L.some(tU({...V,onAction:Z=>{V.onAction(Z),c(V.value,V.meta)}},y,_,{itemBehaviours:W3(V.meta,_),cardText:{matchText:i,highlightOn:C}})));case"autocompleteitem":default:return w3(N).fold(Vp,V=>L.some(Y9(V,i,R,"normal",c,y,_,M)))}}))},IB=(o,i,c,m,y,_)=>{const C=l_(i),R=fu(Ee(i,V=>{const Z=Q=>y?!Mo(Q,"text"):C,K=Q=>bU(Q,c,m,Z(Q),y);return V.type==="nestedmenuitem"&&V.getSubmenuItems().length<=0?K({...V,enabled:!1}):K(V)})),M=uU(_);return(y?QH:RD)(o,C,R,1,M)},$T=o=>Cd.singleData(o.value,o),wU=(o,i,c,m)=>{const y=DT(i,m),_=$p(m);return{data:$T({...o,movement:y,menuBehaviours:xy.unnamedEvents(i!=="auto"?[]:[sr((C,R)=>{UD(C,4,_.item).each(({numColumns:M,numRows:N})=>{Sn.setGridSize(C,N,M)})})])}),menu:{markers:$p(m),fakeFocus:c===FT.ContentFocus}}},_U=(o,i)=>cT(Le.fromDom(i.startContainer)).map(c=>{const m=o.createRng();return m.selectNode(c.dom),m}),kU={register:(o,i)=>{const c=D(!1),m=D(!1),y=Pa(Us.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Lt([no("dismissAutocompleter",[St(nh(),()=>N())])]),lazySink:i.getSink})),_=()=>Us.isOpen(y),C=m.get,R=()=>{_()&&Us.hide(y)},M=()=>Us.getContent(y).bind(ie=>ut(ie.components(),0)),N=()=>o.execCommand("mceAutocompleterClose"),V=ie=>{const _e=an(ie,Ve=>L.from(Ve.columns)).getOr(1);return ce(ie,Ve=>{const De=Ve.items;return vU(De,Ve.matchText,(Ie,pt)=>{const vt=o.selection.getRng();_U(o.dom,vt).each(jt=>{const Rt={hide:()=>N(),reload:Kt=>{R(),o.execCommand("mceAutocompleterReload",!1,{fetchOptions:Kt})}};c.set(!0),Ve.onAction(Rt,jt,Ie,pt),c.set(!1)})},_e,xd.BUBBLE_TO_SANDBOX,i,Ve.highlightOn)})},Z=(ie,_e)=>{MH(Le.fromDom(o.getBody())).each(Ve=>{const De=an(ie,Ie=>L.from(Ie.columns)).getOr(1);Us.showMenuAt(y,{anchor:{type:"node",root:Le.fromDom(o.getBody()),node:L.from(Ve)}},wU(RD("autocompleter-value",!0,_e,De,{menuType:"normal"}),De,FT.ContentFocus,"normal"))}),M().each(No.highlightFirst)},K=ie=>{const _e=V(ie);_e.length>0?Z(ie,_e):R()};o.on("AutocompleterStart",({lookupData:ie})=>{m.set(!0),c.set(!1),K(ie)}),o.on("AutocompleterUpdate",({lookupData:ie})=>K(ie)),o.on("AutocompleterEnd",()=>{R(),m.set(!1),c.set(!1)});const Q={cancelIfNecessary:N,isMenuOpen:_,isActive:C,isProcessingAction:c.get,getMenu:M};zH.setup(Q,o)}},CU=["visible","hidden"],CM=o=>{if(ed(o)){const i=xt(o,"overflow");return xa(i).length>0&&!Gn(CU,i)}else return!1},va=o=>{const i=hm(o,CM);return zt(i).map(c=>({element:c,others:i.slice(1)}))},JC=(o,i)=>wf(o)?va(i):L.none(),VT=o=>{const i=[...Ee(o.others,tr),Ra()];return A1(tr(o.element),i)},QC=(o,i,c)=>pd(o,i,c).isSome(),AB=(o,i)=>{let c=null;return{cancel:()=>{c!==null&&(clearTimeout(c),c=null)},schedule:(..._)=>{c=setTimeout(()=>{o.apply(null,_),c=null},i)}}},OB=5,SU=400,DB=o=>{const i=o.raw;return i.touches===void 0||i.touches.length!==1?L.none():L.some(i.touches[0])},xU=(o,i)=>{const c=Math.abs(o.clientX-i.x),m=Math.abs(o.clientY-i.y);return c>OB||m>OB},EU=o=>{const i=ns(),c=D(!1),m=AB(N=>{o.triggerEvent(Ex(),N),c.set(!0)},SU),y=N=>(DB(N).each(V=>{m.cancel();const Z={x:V.clientX,y:V.clientY,target:N.target};m.schedule(N),c.set(!1),i.set(Z)}),L.none()),_=N=>(m.cancel(),DB(N).each(V=>{i.on(Z=>{xU(V,Z)&&i.clear()})}),L.none()),C=N=>{m.cancel();const V=Z=>ls(Z.target,N.target);return i.get().filter(V).map(Z=>c.get()?(N.prevent(),!1):o.triggerEvent(ap(),N))},R=$o([{key:ku(),value:y},{key:ko(),value:_},{key:gs(),value:C}]);return{fireIfReady:(N,V)=>Gt(R,V).bind(Z=>Z(N))}},TU=o=>o.raw.which===zO[0]&&!Gn(["input","textarea"],tl(o.target))&&!QC(o.target,'[contenteditable="true"]'),RU=(o,i)=>{const c={stopBackspace:!0,...i},m=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],y=EU(c),_=Ee(m.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),Q=>Gi(o,Q,ie=>{y.fireIfReady(ie,Q).each(Ve=>{Ve&&ie.kill()}),c.triggerEvent(Q,ie)&&ie.kill()})),C=ns(),R=Gi(o,"paste",Q=>{y.fireIfReady(Q,"paste").each(_e=>{_e&&Q.kill()}),c.triggerEvent("paste",Q)&&Q.kill(),C.set(setTimeout(()=>{c.triggerEvent(q0(),Q)},0))}),M=Gi(o,"keydown",Q=>{c.triggerEvent("keydown",Q)?Q.kill():c.stopBackspace&&TU(Q)&&Q.prevent()}),N=Gi(o,"focusin",Q=>{c.triggerEvent("focusin",Q)&&Q.kill()}),V=ns(),Z=Gi(o,"focusout",Q=>{c.triggerEvent("focusout",Q)&&Q.kill(),V.set(setTimeout(()=>{c.triggerEvent(G0(),Q)},0))});return{unbind:()=>{me(_,Q=>{Q.unbind()}),M.unbind(),N.unbind(),Z.unbind(),R.unbind(),C.on(clearTimeout),V.on(clearTimeout)}}},MB=(o,i)=>{const c=Gt(o,"target").getOr(i);return D(c)},IU=(o,i)=>{const c=D(!1),m=D(!1);return{stop:()=>{c.set(!0)},cut:()=>{m.set(!0)},isStopped:c.get,isCut:m.get,event:o,setSource:i.set,getSource:i.get}},AU=o=>{const i=D(!1);return{stop:()=>{i.set(!0)},cut:ee,isStopped:i.get,isCut:nn,event:o,setSource:de("Cannot set source of a broadcasted event"),getSource:de("Cannot get source of a broadcasted event")}},eS=ne.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),PB=(o,i,c,m,y,_)=>{const C=o(i,m),R=IU(c,y);return C.fold(()=>(_.logEventNoHandlers(i,m),eS.complete()),M=>{const N=M.descHandler;return ys(N)(R),R.isStopped()?(_.logEventStopped(i,M.element,N.purpose),eS.stopped()):R.isCut()?(_.logEventCut(i,M.element,N.purpose),eS.complete()):bl(M.element).fold(()=>(_.logNoParent(i,M.element,N.purpose),eS.complete()),Z=>(_.logEventResponse(i,M.element,N.purpose),eS.resume(Z)))})},zB=(o,i,c,m,y,_)=>PB(o,i,c,m,y,_).fold(Ot,C=>zB(o,i,c,C,y,_),nn),OU=(o,i,c,m,y)=>{const _=MB(c,m);return PB(o,i,c,m,_,y)},DU=(o,i,c)=>{const m=AU(i);return me(o,y=>{const _=y.descHandler;ys(_)(m)}),m.isStopped()},MU=(o,i,c,m)=>NB(o,i,c,c.target,m),NB=(o,i,c,m,y)=>{const _=MB(c,m);return zB(o,i,c,m,_,y)},PU=(o,i)=>({element:o,descHandler:i}),zU=(o,i)=>({id:o,descHandler:i}),NU=()=>{const o={},i=(C,R,M)=>{lo(M,(N,V)=>{const Z=o[V]!==void 0?o[V]:{};Z[R]=pA(N,C),o[V]=Z})},c=(C,R)=>Wl(R).bind(M=>Gt(C,M)).map(M=>PU(R,M));return{registerId:i,unregisterId:C=>{lo(o,(R,M)=>{Mo(R,C)&&delete R[C]})},filterByType:C=>Gt(o,C).map(R=>Oi(R,(M,N)=>zU(N,M))).getOr([]),find:(C,R,M)=>Gt(o,R).bind(N=>Hl(M,V=>c(N,V),C))}},LU=()=>{const o=NU(),i={},c=N=>{const V=N.element;return Wl(V).getOrThunk(()=>fA("uid-",N.element))},m=(N,V)=>{const Z=i[V];if(Z===N)_(N);else throw new Error('The tagId "'+V+'" is already used by: '+fd(Z.element)+`
Cannot use it for: `+fd(N.element)+`
The conflicting element is`+(Ga(Z.element)?" ":" not ")+"already in the DOM")},y=N=>{const V=c(N);el(i,V)&&m(N,V);const Z=[N];o.registerId(Z,V,N.events),i[V]=N},_=N=>{Wl(N.element).each(V=>{delete i[V],o.unregisterId(V)})};return{find:(N,V,Z)=>o.find(N,V,Z),filter:N=>o.filterByType(N),register:y,unregister:_,getById:N=>Gt(i,N)}},_h=fr({name:"Container",factory:o=>{const{attributes:i,...c}=o.dom;return{uid:o.uid,dom:{tag:"div",attributes:{role:"presentation",...i},...c},components:o.components,behaviours:qc(o.containerBehaviours),events:o.events,domModification:o.domModification,eventOrder:o.eventOrder}},configFields:[Be("components",[]),Na("containerBehaviours",[]),Be("events",{}),Be("domModification",{}),Be("eventOrder",{})]}),SM=o=>{const i=De=>bl(o.element).fold(Ot,Ie=>ls(De,Ie)),c=LU(),m=(De,Ie)=>c.find(i,De,Ie),y=RU(o.element,{triggerEvent:(De,Ie)=>Mb(De,Ie.target,pt=>MU(m,De,Ie,pt))}),_={debugInfo:J("real"),triggerEvent:(De,Ie,pt)=>{Mb(De,Ie,vt=>NB(m,De,pt,Ie,vt))},triggerFocus:(De,Ie)=>{Wl(De).fold(()=>{xu(De)},pt=>{Mb(sf(),De,vt=>(OU(m,sf(),{originator:Ie,kill:ee,prevent:ee,target:De},De,vt),!1))})},triggerEscape:(De,Ie)=>{_.triggerEvent("keydown",De.element,Ie.event)},getByUid:De=>_e(De),getByDom:De=>Ve(De),build:Pa,buildOrPatch:Ib,addToGui:De=>{M(De)},removeFromGui:De=>{N(De)},addToWorld:De=>{C(De)},removeFromWorld:De=>{R(De)},broadcast:De=>{K(De)},broadcastOn:(De,Ie)=>{Q(De,Ie)},broadcastEvent:(De,Ie)=>{ie(De,Ie)},isConnected:Ot},C=De=>{De.connect(_),nl(De.element)||(c.register(De),me(De.components(),C),_.triggerEvent($1(),De.element,{target:De.element}))},R=De=>{nl(De.element)||(me(De.components(),R),c.unregister(De)),De.disconnect()},M=De=>{yf(o,De)},N=De=>{bf(De)},V=()=>{y.unbind(),uc(o.element)},Z=De=>{const Ie=c.filter(or());me(Ie,pt=>{const vt=pt.descHandler;ys(vt)(De)})},K=De=>{Z({universal:!0,data:De})},Q=(De,Ie)=>{Z({universal:!1,channels:De,data:Ie})},ie=(De,Ie)=>{const pt=c.filter(De);return DU(pt,Ie)},_e=De=>c.getById(De).fold(()=>to.error(new Error('Could not find component with uid: "'+De+'" in system.')),to.value),Ve=De=>{const Ie=Wl(De).getOr("not found");return _e(Ie)};return C(o),{root:o,element:o.element,destroy:V,add:M,remove:N,getByUid:_e,getByDom:Ve,addToWorld:C,removeFromWorld:R,broadcast:K,broadcastOn:Q,broadcastEvent:ie}},FU=(o,i)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ee(o.items,i.interpreter)}),LB=J([Be("prefix","form-field"),Na("fieldBehaviours",[yo,tn])]),$U=J([wc({schema:[Ct("dom")],name:"label"}),wc({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[Ct("text")],name:"aria-descriptor"}),La({factory:{sketch:o=>{const i=Wn(o,["factory"]);return o.factory.sketch(i)}},schema:[Ct("factory")],name:"field"})]),VU=(o,i,c,m)=>{const y=na(o.fieldBehaviours,[yo.config({find:R=>bs(R,o,"field")}),tn.config({store:{mode:"manual",getValue:R=>yo.getCurrent(R).bind(tn.getValue),setValue:(R,M)=>{yo.getCurrent(R).each(N=>{tn.setValue(N,M)})}}})]),_=xs([sr((R,M)=>{const N=uC(R,o,["label","field","aria-descriptor"]);N.field().each(V=>{const Z=dn(o.prefix);N.label().each(K=>{Jn(K.element,"for",Z),Jn(V.element,"id",Z)}),N["aria-descriptor"]().each(K=>{const Q=dn(o.prefix);Jn(K.element,"id",Q),Jn(V.element,"aria-describedby",Q)})})})]),C={getField:R=>bs(R,o,"field"),getLabel:R=>bs(R,o,"label")};return{uid:o.uid,dom:o.dom,components:i,behaviours:y,events:_,apis:C}},Ko=Nr({name:"FormField",configFields:LB(),partFields:$U(),factory:VU,apis:{getField:(o,i)=>o.getField(i),getLabel:(o,i)=>o.getLabel(i)}});var UU=Object.freeze({__proto__:null,exhibit:(o,i)=>Zl({attributes:$o([{key:i.tabAttr,value:"true"}])})}),jU=[Be("tabAttr","data-alloy-tabstop")];const hr=Qa({fields:jU,name:"tabstopping",active:UU});var WU=tinymce.util.Tools.resolve("tinymce.html.Entities");const p_=(o,i,c,m)=>{const y=BB(o,i,c,m);return Ko.sketch(y)},ZU=(o,i)=>p_(o,i,[],[]),BB=(o,i,c,m)=>({dom:xM(c),components:o.toArray().concat([i]),fieldBehaviours:Lt(m)}),GU=()=>xM([]),xM=o=>({tag:"div",classes:["tox-form__group"].concat(o)}),Ay=(o,i)=>Ko.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ks(i.translate(o))]}),Jc=dn("form-component-change"),tS=dn("form-close"),Lv=dn("form-cancel"),km=dn("form-action"),nS=dn("form-submit"),EM=dn("form-block"),TM=dn("form-unblock"),FB=dn("form-tabchange"),$B=dn("form-resize"),qU=(o,i,c)=>{const m=o.label.map(Z=>Ay(Z,i)),y=Z=>(K,Q)=>{pd(Q.event.target,"[data-collection-item-value]").each(ie=>{Z(K,Q,ie,da(ie,"data-collection-item-value"))})},_=(Z,K)=>{const Q=Ee(K,Ve=>{const De=Pu.translate(Ve.text),Ie=o.columns===1?`<div class="tox-collection__item-label">${De}</div>`:"",pt=`<div class="tox-collection__item-icon">${Ve.icon}</div>`,vt={_:" "," - ":" ","-":" "},jt=De.replace(/\_| \- |\-/g,Kt=>vt[Kt]);return`<div class="tox-collection__item${i.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${WU.encodeAllRaw(Ve.value)}" title="${jt}" aria-label="${jt}">${pt}${Ie}</div>`}),ie=o.columns!=="auto"&&o.columns>1?Et(Q,o.columns):[Q],_e=Ee(ie,Ve=>`<div class="tox-collection__group">${Ve.join("")}</div>`);sh(Z.element,_e.join(""))},C=y((Z,K,Q,ie)=>{K.stop(),i.isDisabled()||xn(Z,km,{name:o.name,value:ie})}),R=[St(pc(),y((Z,K,Q)=>{xu(Q)})),St(jc(),C),St(ap(),C),St(Qh(),y((Z,K,Q)=>{Ys(Z.element,"."+$C).each(ie=>{Es(ie,$C)}),Qr(Q,$C)})),St(F1(),y(Z=>{Ys(Z.element,"."+$C).each(K=>{Es(K,$C)})})),cf(y((Z,K,Q,ie)=>{xn(Z,km,{name:o.name,value:ie})}))],M=(Z,K)=>Ee(zr(Z.element,".tox-collection__item"),K),N=Ko.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(o.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Te},behaviours:Lt([In.config({disabled:i.isDisabled,onDisabled:Z=>{M(Z,K=>{Qr(K,"tox-collection__item--state-disabled"),Jn(K,"aria-disabled",!0)})},onEnabled:Z=>{M(Z,K=>{Es(K,"tox-collection__item--state-disabled"),ge(K,"aria-disabled")})}}),Fa(),Vn.config({}),tn.config({store:{mode:"memory",initialValue:c.getOr([])},onSetValue:(Z,K)=>{_(Z,K),o.columns==="auto"&&UD(Z,5,"tox-collection__item").each(({numRows:Q,numColumns:ie})=>{Sn.setGridSize(Z,Q,ie)}),zo(Z,$B)}}),hr.config({}),Sn.config(gB(o.columns,"normal")),no("collection-events",R)]),eventOrder:{[Wi()]:["disabling","alloy.base.behaviour","collection-events"]}});return p_(m,N,["tox-form__group--collection"],[])},KU=["input","textarea"],RM=o=>{const i=tl(o);return Gn(KU,i)},VB=(o,i)=>{const c=i.getRoot(o).getOr(o.element);Es(c,i.invalidClass),i.notify.each(m=>{RM(o.element)&&Jn(o.element,"aria-invalid",!1),m.getContainer(o).each(y=>{sh(y,m.validHtml)}),m.onValid(o)})},HB=(o,i,c,m)=>{const y=i.getRoot(o).getOr(o.element);Qr(y,i.invalidClass),i.notify.each(_=>{RM(o.element)&&Jn(o.element,"aria-invalid",!0),_.getContainer(o).each(C=>{sh(C,m)}),_.onInvalid(o,m)})},UB=(o,i,c)=>i.validator.fold(()=>qi.pure(to.value(!0)),m=>m.validate(o)),IM=(o,i,c)=>(i.notify.each(m=>{m.onValidate(o)}),UB(o,i).map(m=>o.getSystem().isConnected()?m.fold(y=>(HB(o,i,c,y),to.error(y)),y=>(VB(o,i),to.value(y))):to.error("No longer in system")));var AM=Object.freeze({__proto__:null,markValid:VB,markInvalid:HB,query:UB,run:IM,isInvalid:(o,i)=>{const c=i.getRoot(o).getOr(o.element);return xi(c,i.invalidClass)}}),YU=Object.freeze({__proto__:null,events:(o,i)=>o.validator.map(c=>xs([St(c.onEvent,m=>{IM(m,o,i).get(Te)})].concat(c.validateOnLoad?[sr(m=>{IM(m,o,i).get(ee)})]:[]))).getOr({})}),XU=[Ct("invalidClass"),Be("getRoot",L.none),ga("notify",[Be("aria","alert"),Be("getContainer",L.none),Be("validHtml",""),Co("onValid"),Co("onInvalid"),Co("onValidate")]),ga("validator",[Ct("validate"),Be("onEvent","input"),Be("validateOnLoad",!0)])];const kh=Qa({fields:XU,name:"invalidating",active:YU,apis:AM,extra:{validation:o=>i=>{const c=tn.getValue(i);return qi.pure(o(c))}}});var QU=Object.freeze({__proto__:null,events:()=>xs([Q0(rA(),Ot)]),exhibit:()=>Zl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const g_=Qa({fields:[],name:"unselecting",active:QU}),ej=(o,i)=>Lu.sketch({dom:o.dom,components:o.components,toggleClass:"mce-active",dropdownBehaviours:Lt([Nu.button(i.providers.isDisabled),Fa(),g_.config({}),hr.config({})]),layouts:o.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:i.getSink,fetch:c=>qi.nu(m=>o.fetch(m)).map(m=>L.from($T(hs(XC(dn("menu-value"),m,y=>{o.onItemAction(c,y)},o.columns,o.presets,xd.CLOSE_ON_EXECUTE,nn,i.providers),{movement:DT(o.columns,o.presets)})))),parts:{menu:fT(!1,1,o.presets)}}),jB=dn("color-input-change"),WB=dn("color-swatch-change"),ZB=dn("color-picker-cancel"),tj=(o,i,c,m)=>{const y=Ko.parts.field({factory:Sv,inputClasses:["tox-textfield"],data:m,onSetValue:N=>kh.run(N).get(ee),inputBehaviours:Lt([In.config({disabled:i.providers.isDisabled}),Fa(),hr.config({}),kh.config({invalidClass:"tox-textbox-field-invalid",getRoot:N=>Ml(N.element),notify:{onValid:N=>{const V=tn.getValue(N);xn(N,jB,{color:V})}},validator:{validateOnLoad:!1,validate:N=>{const V=tn.getValue(N);if(V.length===0)return qi.pure(to.value(!0));{const Z=Le.fromTag("span");un(Z,"background-color",V);const K=er(Z,"background-color").fold(()=>to.error("blah"),Q=>to.value(V));return qi.pure(K)}}}})]),selectOnFocus:!1}),_=o.label.map(N=>Ay(N,i.providers)),C=(N,V)=>{xn(N,WB,{value:V})},R=(N,V)=>{M.getOpt(N).each(Z=>{V==="custom"?c.colorPicker(K=>{K.fold(()=>zo(Z,ZB),Q=>{C(Z,Q),tB(o.storageKey,Q)})},"#ffffff"):V==="remove"?C(Z,""):C(Z,V)})},M=es(ej({dom:{tag:"span",attributes:{"aria-label":i.providers.translate("Color swatch")}},layouts:{onRtl:()=>[ea,Ja,Js],onLtr:()=>[Ja,ea,Js]},components:[],fetch:Nv(c.getColors(o.storageKey),o.storageKey,c.hasCustomColors()),columns:c.getColorCols(o.storageKey),presets:"color",onItemAction:R},i));return Ko.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:_.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[y,M.asSpec()]}]),fieldBehaviours:Lt([no("form-field-events",[St(jB,(N,V)=>{M.getOpt(N).each(Z=>{un(Z.element,"background-color",V.event.color)}),xn(N,Jc,{name:o.name})}),St(WB,(N,V)=>{Ko.getField(N).each(Z=>{tn.setValue(Z,V.event.value),yo.getCurrent(N).each(zn.focus)})}),St(ZB,(N,V)=>{Ko.getField(N).each(Z=>{yo.getCurrent(N).each(zn.focus)})})])])})},nj=wc({schema:[Ct("dom")],name:"label"}),Ch=o=>wc({name:""+o+"-edge",overrides:i=>i.model.manager.edgeActions[o].fold(()=>({}),m=>({events:xs([kb(ku(),(y,_,C)=>m(y,C),[i]),kb(cs(),(y,_,C)=>m(y,C),[i]),kb(Og(),(y,_,C)=>{C.mouseIsDown.get()&&m(y,C)},[i])])}))}),oj=Ch("top-left"),HT=Ch("top"),sj=Ch("top-right"),rj=Ch("right"),aj=Ch("bottom-right"),ij=Ch("bottom"),ete=Ch("bottom-left"),UT=Ch("left"),y_=La({name:"thumb",defaults:J({dom:{styles:{position:"absolute"}}}),overrides:o=>({events:xs([Ng(ku(),o,"spectrum"),Ng(ko(),o,"spectrum"),Ng(gs(),o,"spectrum"),Ng(cs(),o,"spectrum"),Ng(Og(),o,"spectrum"),Ng(th(),o,"spectrum")])})}),GB=La({schema:[li("mouseIsDown",()=>D(!1))],name:"spectrum",overrides:o=>{const c=o.model.manager,m=(y,_)=>c.getValueFromEvent(_).map(C=>c.setValueFrom(y,o,C));return{behaviours:Lt([Sn.config({mode:"special",onLeft:y=>c.onLeft(y,o),onRight:y=>c.onRight(y,o),onUp:y=>c.onUp(y,o),onDown:y=>c.onDown(y,o)}),zn.config({})]),events:xs([St(ku(),m),St(ko(),m),St(cs(),m),St(Og(),(y,_)=>{o.mouseIsDown.get()&&m(y,_)})])}}});var qB=[nj,UT,rj,HT,ij,oj,sj,ete,aj,y_,GB];const oS=J("slider.change.value"),lj=o=>o.type.indexOf("touch")!==-1,OM=o=>{const i=o.event.raw;if(lj(i)){const c=i;return c.touches!==void 0&&c.touches.length===1?L.some(c.touches[0]).map(m=>qs(m.clientX,m.clientY)):L.none()}else{const c=i;return c.clientX!==void 0?L.some(c).map(m=>qs(m.clientX,m.clientY)):L.none()}},cj="top",uj="right",dj="bottom",fj="left",Bv=o=>o.model.minX,Fv=o=>o.model.minY,jT=o=>o.model.minX-1,sS=o=>o.model.minY-1,Cf=o=>o.model.maxX,Rd=o=>o.model.maxY,WT=o=>o.model.maxX+1,rS=o=>o.model.maxY+1,DM=(o,i,c)=>i(o)-c(o),b_=o=>DM(o,Cf,Bv),MM=o=>DM(o,Rd,Fv),v_=o=>b_(o)/2,w_=o=>MM(o)/2,__=o=>o.stepSize,KB=o=>o.snapToGrid,YB=o=>o.snapStart,XB=o=>o.rounded,ZT=(o,i)=>o[i+"-edge"]!==void 0,JB=o=>ZT(o,fj),aS=o=>ZT(o,uj),QB=o=>ZT(o,cj),eF=o=>ZT(o,dj),jp=o=>o.model.value.get(),Wp=(o,i)=>({x:o,y:i}),Sf=(o,i)=>{xn(o,oS(),{value:i})},hj=(o,i)=>{Sf(o,Wp(jT(i),sS(i)))},mj=(o,i)=>{Sf(o,sS(i))},tF=(o,i)=>{Sf(o,Wp(v_(i),sS(i)))},pj=(o,i)=>{Sf(o,Wp(WT(i),sS(i)))},gj=(o,i)=>{Sf(o,WT(i))},yj=(o,i)=>{Sf(o,Wp(WT(i),w_(i)))},bj=(o,i)=>{Sf(o,Wp(WT(i),rS(i)))},vj=(o,i)=>{Sf(o,rS(i))},nF=(o,i)=>{Sf(o,Wp(v_(i),rS(i)))},oF=(o,i)=>{Sf(o,Wp(jT(i),rS(i)))},wj=(o,i)=>{Sf(o,jT(i))},_j=(o,i)=>{Sf(o,Wp(jT(i),w_(i)))},PM=(o,i,c,m)=>o<i?o:o>c?c:o===i?i-1:Math.max(i,o-m),GT=(o,i,c,m)=>o>c?o:o<i?i:o===c?c+1:Math.min(c,o+m),$v=(o,i,c)=>Math.max(i,Math.min(c,o)),kj=(o,i,c,m,y)=>y.fold(()=>{const _=o-i,C=Math.round(_/m)*m;return $v(i+C,i-1,c+1)},_=>{const C=(o-_)%m,R=Math.round(C/m),M=Math.floor((o-_)/m),N=Math.floor((c-_)/m),V=Math.min(N,M+R),Z=_+V*m;return Math.max(_,Z)}),Cj=(o,i,c)=>Math.min(c,Math.max(o,i))-i,sF=o=>{const{min:i,max:c,range:m,value:y,step:_,snap:C,snapStart:R,rounded:M,hasMinEdge:N,hasMaxEdge:V,minBound:Z,maxBound:K,screenRange:Q}=o,ie=N?i-1:i,_e=V?c+1:c;if(y<Z)return ie;if(y>K)return _e;{const Ve=Cj(y,Z,K),De=$v(Ve/Q*m+i,ie,_e);return C&&De>=i&&De<=c?kj(De,i,c,_,R):M?Math.round(De):De}},iS=o=>{const{min:i,max:c,range:m,value:y,hasMinEdge:_,hasMaxEdge:C,maxBound:R,maxOffset:M,centerMinEdge:N,centerMaxEdge:V}=o;return y<i?_?0:N:y>c?C?R:V:(y-i)/m*M},Qc="top",qT="right",zM="bottom",NM="left",Sj="width",xj="height",Cm=o=>o.element.dom.getBoundingClientRect(),Id=(o,i)=>o[i],lS=o=>{const i=Cm(o);return Id(i,NM)},rF=o=>{const i=Cm(o);return Id(i,qT)},KT=o=>{const i=Cm(o);return Id(i,Qc)},LM=o=>{const i=Cm(o);return Id(i,zM)},aF=o=>{const i=Cm(o);return Id(i,Sj)},BM=o=>{const i=Cm(o);return Id(i,xj)},FM=(o,i,c)=>(o+i)/2-c,$M=(o,i)=>{const c=Cm(o),m=Cm(i),y=Id(c,NM),_=Id(c,qT),C=Id(m,NM);return FM(y,_,C)},iF=(o,i)=>{const c=Cm(o),m=Cm(i),y=Id(c,Qc),_=Id(c,zM),C=Id(m,Qc);return FM(y,_,C)},YT=(o,i)=>{xn(o,oS(),{value:i})},VM=(o,i,c)=>{const m={min:Bv(i),max:Cf(i),range:b_(i),value:c,step:__(i),snap:KB(i),snapStart:YB(i),rounded:XB(i),hasMinEdge:JB(i),hasMaxEdge:aS(i),minBound:lS(o),maxBound:rF(o),screenRange:aF(o)};return sF(m)},Ej=(o,i,c)=>{const m=VM(o,i,c);return YT(o,m),m},Tj=(o,i)=>{const c=Bv(i);YT(o,c)},Rj=(o,i)=>{const c=Cf(i);YT(o,c)},HM=(o,i,c)=>{const y=(o>0?GT:PM)(jp(c),Bv(c),Cf(c),__(c));return YT(i,y),L.some(y)},lF=o=>(i,c)=>HM(o,i,c).map(Ot),cF=o=>OM(o).map(c=>c.left),Ij=(o,i,c,m,y)=>{const C=aF(o),R=m.bind(V=>L.some($M(V,o))).getOr(0),M=y.bind(V=>L.some($M(V,o))).getOr(C),N={min:Bv(i),max:Cf(i),range:b_(i),value:c,hasMinEdge:JB(i),hasMaxEdge:aS(i),minBound:lS(o),minOffset:0,maxBound:rF(o),maxOffset:C,centerMinEdge:R,centerMaxEdge:M};return iS(N)},UM=(o,i,c,m,y,_)=>{const C=Ij(i,_,c,m,y);return lS(i)-lS(o)+C},Aj=(o,i,c,m)=>{const y=jp(c),_=UM(o,m.getSpectrum(o),y,m.getLeftEdge(o),m.getRightEdge(o),c),C=vi(i.element)/2;un(i.element,"left",_-C+"px")},Oj=lF(-1),Dj=lF(1),Mj=L.none,Pj=L.none,uF={"top-left":L.none(),top:L.none(),"top-right":L.none(),right:L.some(gj),"bottom-right":L.none(),bottom:L.none(),"bottom-left":L.none(),left:L.some(wj)};var dF=Object.freeze({__proto__:null,setValueFrom:Ej,setToMin:Tj,setToMax:Rj,findValueOfOffset:VM,getValueFromEvent:cF,findPositionOfValue:UM,setPositionFromValue:Aj,onLeft:Oj,onRight:Dj,onUp:Mj,onDown:Pj,edgeActions:uF});const XT=(o,i)=>{xn(o,oS(),{value:i})},jM=(o,i,c)=>{const m={min:Fv(i),max:Rd(i),range:MM(i),value:c,step:__(i),snap:KB(i),snapStart:YB(i),rounded:XB(i),hasMinEdge:QB(i),hasMaxEdge:eF(i),minBound:KT(o),maxBound:LM(o),screenRange:BM(o)};return sF(m)},zj=(o,i,c)=>{const m=jM(o,i,c);return XT(o,m),m},Nj=(o,i)=>{const c=Fv(i);XT(o,c)},Lj=(o,i)=>{const c=Rd(i);XT(o,c)},fF=(o,i,c)=>{const y=(o>0?GT:PM)(jp(c),Fv(c),Rd(c),__(c));return XT(i,y),L.some(y)},WM=o=>(i,c)=>fF(o,i,c).map(Ot),hF=o=>OM(o).map(c=>c.top),ZM=(o,i,c,m,y)=>{const C=BM(o),R=m.bind(V=>L.some(iF(V,o))).getOr(0),M=y.bind(V=>L.some(iF(V,o))).getOr(C),N={min:Fv(i),max:Rd(i),range:MM(i),value:c,hasMinEdge:QB(i),hasMaxEdge:eF(i),minBound:KT(o),minOffset:0,maxBound:LM(o),maxOffset:C,centerMinEdge:R,centerMaxEdge:M};return iS(N)},GM=(o,i,c,m,y,_)=>{const C=ZM(i,_,c,m,y);return KT(i)-KT(o)+C},mF=(o,i,c,m)=>{const y=jp(c),_=GM(o,m.getSpectrum(o),y,m.getTopEdge(o),m.getBottomEdge(o),c),C=Hr(i.element)/2;un(i.element,"top",_-C+"px")},Bj=L.none,Fj=L.none,$j=WM(-1),Vj=WM(1),qM={"top-left":L.none(),top:L.some(mj),"top-right":L.none(),right:L.none(),"bottom-right":L.none(),bottom:L.some(vj),"bottom-left":L.none(),left:L.none()};var Zp=Object.freeze({__proto__:null,setValueFrom:zj,setToMin:Nj,setToMax:Lj,findValueOfOffset:jM,getValueFromEvent:hF,findPositionOfValue:GM,setPositionFromValue:mF,onLeft:Bj,onRight:Fj,onUp:$j,onDown:Vj,edgeActions:qM});const JT=(o,i)=>{xn(o,oS(),{value:i})},Oy=(o,i)=>({x:o,y:i}),Hj=(o,i,c)=>{const m=VM(o,i,c.left),y=jM(o,i,c.top),_=Oy(m,y);return JT(o,_),_},KM=(o,i,c,m)=>{const y=o>0?GT:PM,_=i?jp(m).x:y(jp(m).x,Bv(m),Cf(m),__(m)),C=i?y(jp(m).y,Fv(m),Rd(m),__(m)):jp(m).y;return JT(c,Oy(_,C)),L.some(_)},QT=(o,i)=>(c,m)=>KM(o,i,c,m).map(Ot),Uj=(o,i)=>{const c=Bv(i),m=Fv(i);JT(o,Oy(c,m))},jj=(o,i)=>{const c=Cf(i),m=Rd(i);JT(o,Oy(c,m))},pF=o=>OM(o),Wj=(o,i,c,m)=>{const y=jp(c),_=UM(o,m.getSpectrum(o),y.x,m.getLeftEdge(o),m.getRightEdge(o),c),C=GM(o,m.getSpectrum(o),y.y,m.getTopEdge(o),m.getBottomEdge(o),c),R=vi(i.element)/2,M=Hr(i.element)/2;un(i.element,"left",_-R+"px"),un(i.element,"top",C-M+"px")},YM=QT(-1,!1),XM=QT(1,!1),JM=QT(-1,!0),Zj=QT(1,!0),Bu={"top-left":L.some(hj),top:L.some(tF),"top-right":L.some(pj),right:L.some(yj),"bottom-right":L.some(bj),bottom:L.some(nF),"bottom-left":L.some(oF),left:L.some(_j)};var Gj=Object.freeze({__proto__:null,setValueFrom:Hj,setToMin:Uj,setToMax:jj,getValueFromEvent:pF,setPositionFromValue:Wj,onLeft:YM,onRight:XM,onUp:JM,onDown:Zj,edgeActions:Bu});const qj=[Be("stepSize",1),Be("onChange",ee),Be("onChoose",ee),Be("onInit",ee),Be("onDragStart",ee),Be("onDragEnd",ee),Be("snapToGrid",!1),Be("rounded",!0),Wo("snapStart"),Hi("model",Vi("mode",{x:[Be("minX",0),Be("maxX",100),li("value",o=>D(o.mode.minX)),Ct("getInitialValue"),qo("manager",dF)],y:[Be("minY",0),Be("maxY",100),li("value",o=>D(o.mode.minY)),Ct("getInitialValue"),qo("manager",Zp)],xy:[Be("minX",0),Be("maxX",100),Be("minY",0),Be("maxY",100),li("value",o=>D({x:o.mode.minX,y:o.mode.minY})),Ct("getInitialValue"),qo("manager",Gj)]})),Na("sliderBehaviours",[Sn,tn]),li("mouseIsDown",()=>D(!1))],Ad=Nr({name:"Slider",configFields:qj,partFields:qB,factory:(o,i,c,m)=>{const y=vt=>_d(vt,o,"thumb"),_=vt=>_d(vt,o,"spectrum"),C=vt=>bs(vt,o,"left-edge"),R=vt=>bs(vt,o,"right-edge"),M=vt=>bs(vt,o,"top-edge"),N=vt=>bs(vt,o,"bottom-edge"),V=o.model,Z=V.manager,K=(vt,jt)=>{Z.setPositionFromValue(vt,jt,o,{getLeftEdge:C,getRightEdge:R,getTopEdge:M,getBottomEdge:N,getSpectrum:_})},Q=(vt,jt)=>{V.value.set(jt);const Rt=y(vt);K(vt,Rt)},ie=(vt,jt)=>{Q(vt,jt);const Rt=y(vt);return o.onChange(vt,Rt,jt),L.some(!0)},_e=vt=>{Z.setToMin(vt,o)},Ve=vt=>{Z.setToMax(vt,o)},De=vt=>{const jt=()=>{bs(vt,o,"thumb").each(Kt=>{const vn=V.value.get();o.onChoose(vt,Kt,vn)})},Rt=o.mouseIsDown.get();o.mouseIsDown.set(!1),Rt&&jt()},Ie=(vt,jt)=>{jt.stop(),o.mouseIsDown.set(!0),o.onDragStart(vt,y(vt))},pt=(vt,jt)=>{jt.stop(),o.onDragEnd(vt,y(vt)),De(vt)};return{uid:o.uid,dom:o.dom,components:i,behaviours:na(o.sliderBehaviours,[Sn.config({mode:"special",focusIn:vt=>bs(vt,o,"spectrum").map(Sn.focusIn).map(Ot)}),tn.config({store:{mode:"manual",getValue:vt=>V.value.get(),setValue:Q}}),Pr.config({channels:{[Gk()]:{onReceive:De}}})]),events:xs([St(oS(),(vt,jt)=>{ie(vt,jt.event.value)}),sr((vt,jt)=>{const Rt=V.getInitialValue();V.value.set(Rt);const Kt=y(vt);K(vt,Kt);const vn=_(vt);o.onInit(vt,Kt,vn,V.value.get())}),St(ku(),Ie),St(gs(),pt),St(cs(),Ie),St(th(),pt)]),apis:{resetToMin:_e,resetToMax:Ve,setValue:Q,refresh:K},domModification:{styles:{position:"relative"}}}},apis:{setValue:(o,i,c)=>{o.setValue(i,c)},resetToMin:(o,i)=>{o.resetToMin(i)},resetToMax:(o,i)=>{o.resetToMax(i)},refresh:(o,i)=>{o.refresh(i)}}}),QM=dn("rgb-hex-update"),gF=dn("slider-update"),yF=dn("palette-update"),Yj=(o,i)=>{const c=Ad.parts.spectrum({dom:{tag:"div",classes:[i("hue-slider-spectrum")],attributes:{role:"presentation"}}}),m=Ad.parts.thumb({dom:{tag:"div",classes:[i("hue-slider-thumb")],attributes:{role:"presentation"}}});return Ad.sketch({dom:{tag:"div",classes:[i("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:J(0)},components:[c,m],sliderBehaviours:Lt([zn.config({})]),onChange:(y,_,C)=>{xn(y,gF,{value:C})}})},bF="form",Xj=[Na("formBehaviours",[tn])],vF=o=>"<alloy.field."+o+">",wF=o=>{const i=(()=>{const _=[];return{field:(R,M)=>(_.push(R),iC(bF,vF(R),M)),record:J(_)}})(),c=o(i),m=i.record(),y=Ee(m,_=>La({name:_,pname:vF(_)}));return fC(bF,Xj,y,Qj,c)},Jj=(o,i)=>o.fold(()=>to.error(i),to.value),Qj=(o,i)=>({uid:o.uid,dom:o.dom,components:i,behaviours:na(o.formBehaviours,[tn.config({store:{mode:"manual",getValue:c=>{const m=dC(c,o);return mo(m,(y,_)=>y().bind(C=>{const R=yo.getCurrent(C);return Jj(R,new Error(`Cannot find a current component to extract the value from for form part '${_}': `+fd(C.element)))}).map(tn.getValue))},setValue:(c,m)=>{lo(m,(y,_)=>{bs(c,o,_).each(C=>{yo.getCurrent(C).each(R=>{tn.setValue(R,y)})})})}}})]),apis:{getField:(c,m)=>bs(c,o,m).bind(yo.getCurrent)}}),k_={getField:om((o,i,c)=>o.getField(i,c)),sketch:wF},eP=dn("valid-input"),eR=dn("invalid-input"),_F=dn("validating-input"),cS="colorcustom.rgb.",C_=(o,i,c,m)=>{const y=(K,Q)=>kh.config({invalidClass:i("invalid"),notify:{onValidate:ie=>{xn(ie,_F,{type:K})},onValid:ie=>{xn(ie,eP,{type:K,value:tn.getValue(ie)})},onInvalid:ie=>{xn(ie,eR,{type:K,value:tn.getValue(ie)})}},validator:{validate:ie=>{const _e=tn.getValue(ie),Ve=Q(_e)?to.value(!0):to.error(o("aria.input.invalid"));return qi.pure(Ve)},validateOnLoad:!1}}),_=(K,Q,ie,_e,Ve)=>{const De=o(cS+"range"),Ie=Ko.parts.label({dom:{tag:"label",attributes:{"aria-label":_e}},components:[Ks(ie)]}),pt=Ko.parts.field({data:Ve,factory:Sv,inputAttributes:{type:"text",...Q==="hex"?{"aria-live":"polite"}:{}},inputClasses:[i("textfield")],inputBehaviours:Lt([y(Q,K),hr.config({})]),onSetValue:Kt=>{kh.isInvalid(Kt)&&kh.run(Kt).get(ee)}}),vt=[Ie,pt],jt=Q!=="hex"?[Ko.parts["aria-descriptor"]({text:De})]:[],Rt=vt.concat(jt);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Rt}},C=(K,Q)=>{const ie=kf(Q);return k_.getField(K,"hex").each(_e=>{zn.isFocused(_e)||tn.setValue(K,{hex:ie.value})}),ie},R=(K,Q)=>{const ie=Q.red,_e=Q.green,Ve=Q.blue;tn.setValue(K,{red:ie,green:_e,blue:Ve})},M=es({dom:{tag:"div",classes:[i("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),N=(K,Q)=>{M.getOpt(K).each(ie=>{un(ie.element,"background-color","#"+Q.value)})};return fr({factory:()=>{const K={red:D(L.some(255)),green:D(L.some(255)),blue:D(L.some(255)),hex:D(L.some("ffffff"))},Q=(Yn,vo)=>{const Hn=Iy(vo);R(Yn,Hn),De(Hn)},ie=Yn=>K[Yn].get(),_e=(Yn,vo)=>{K[Yn].set(vo)},Ve=()=>ie("red").bind(Yn=>ie("green").bind(vo=>ie("blue").map(Hn=>Ty(Yn,vo,Hn,1)))),De=Yn=>{const vo=Yn.red,Hn=Yn.green,os=Yn.blue;_e("red",L.some(vo)),_e("green",L.some(Hn)),_e("blue",L.some(os))},Ie=(Yn,vo)=>{const Hn=vo.event;Hn.type!=="hex"?_e(Hn.type,L.none()):m(Yn)},pt=(Yn,vo)=>{c(Yn);const Hn=G3(vo);_e("hex",L.some(Hn.value));const os=Iy(Hn);R(Yn,os),De(os),xn(Yn,QM,{hex:Hn}),N(Yn,Hn)},vt=(Yn,vo,Hn)=>{const os=parseInt(Hn,10);_e(vo,L.some(os)),Ve().each(Yt=>{const yn=C(Yn,Yt);xn(Yn,QM,{hex:yn}),N(Yn,yn)})},jt=Yn=>Yn.type==="hex",Rt=(Yn,vo)=>{const Hn=vo.event;jt(Hn)?pt(Yn,Hn.value):vt(Yn,Hn.type,Hn.value)},Kt=Yn=>({label:o(cS+Yn+".label"),description:o(cS+Yn+".description")}),vn=Kt("red"),xo=Kt("green"),wn=Kt("blue"),bo=Kt("hex");return hs(k_.sketch(Yn=>({dom:{tag:"form",classes:[i("rgb-form")],attributes:{"aria-label":o("aria.color.picker")}},components:[Yn.field("red",Ko.sketch(_(ds,"red",vn.label,vn.description,255))),Yn.field("green",Ko.sketch(_(ds,"green",xo.label,xo.description,255))),Yn.field("blue",Ko.sketch(_(ds,"blue",wn.label,wn.description,255))),Yn.field("hex",Ko.sketch(_(ET,"hex",bo.label,bo.description,"ffffff"))),M.asSpec()],formBehaviours:Lt([kh.config({invalidClass:i("form-invalid")}),no("rgb-form-events",[St(eP,Rt),St(eR,Ie),St(_F,Ie)])])})),{apis:{updateHex:(Yn,vo)=>{tn.setValue(Yn,{hex:vo.value}),Q(Yn,vo),N(Yn,vo)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(K,Q,ie)=>{K.updateHex(Q,ie)}},extraApis:{}})},kF=(o,i)=>{const c=Ad.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[i("sv-palette-spectrum")]}}),m=Ad.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[i("sv-palette-thumb")],innerHtml:`<div class=${i("sv-palette-inner-thumb")} role="presentation"></div>`}}),y=(N,V)=>{const{width:Z,height:K}=N,Q=N.getContext("2d");if(Q===null)return;Q.fillStyle=V,Q.fillRect(0,0,Z,K);const ie=Q.createLinearGradient(0,0,Z,0);ie.addColorStop(0,"rgba(255,255,255,1)"),ie.addColorStop(1,"rgba(255,255,255,0)"),Q.fillStyle=ie,Q.fillRect(0,0,Z,K);const _e=Q.createLinearGradient(0,0,0,K);_e.addColorStop(0,"rgba(0,0,0,0)"),_e.addColorStop(1,"rgba(0,0,0,1)"),Q.fillStyle=_e,Q.fillRect(0,0,Z,K)},_=(N,V)=>{const Z=N.components()[0].element.dom,K=YC(V,100,100),Q=Ry(K);y(Z,RT(Q))},C=(N,V)=>{const Z=nM(Iy(V));Ad.setValue(N,{x:Z.saturation,y:100-Z.value})};return fr({factory:N=>{const V=J({x:0,y:0}),Z=(ie,_e,Ve)=>{xn(ie,yF,{value:Ve})},K=(ie,_e,Ve,De)=>{y(Ve.element.dom,RT(X3))},Q=Lt([yo.config({find:L.some}),zn.config({})]);return Ad.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[i("sv-palette")]},model:{mode:"xy",getInitialValue:V},rounded:!1,components:[c,m],onChange:Z,onInit:K,sliderBehaviours:Q})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(N,V,Z)=>{_(V,Z)},setThumb:(N,V,Z)=>{C(V,Z)}},extraApis:{}})},CF=(o,i)=>{const c=y=>{const _=C_(o,i,y.onValidHex,y.onInvalidHex),C=kF(o,i),R=Rt=>(100-Rt)/100*360,M=Rt=>100-Rt/360*100,N={paletteRgba:D(X3),paletteHue:D(0)},V=es(Yj(o,i)),Z=es(C.sketch({})),K=es(_.sketch({})),Q=(Rt,Kt,vn)=>{Z.getOpt(Rt).each(xo=>{C.setHue(xo,vn)})},ie=(Rt,Kt)=>{K.getOpt(Rt).each(vn=>{_.updateHex(vn,Kt)})},_e=(Rt,Kt,vn)=>{V.getOpt(Rt).each(xo=>{Ad.setValue(xo,M(vn))})},Ve=(Rt,Kt)=>{Z.getOpt(Rt).each(vn=>{C.setThumb(vn,Kt)})},De=(Rt,Kt)=>{const vn=Iy(Rt);N.paletteRgba.set(vn),N.paletteHue.set(Kt)},Ie=(Rt,Kt,vn,xo)=>{De(Kt,vn),me(xo,wn=>{wn(Rt,Kt,vn)})},pt=()=>{const Rt=[ie];return(Kt,vn)=>{const xo=vn.event.value,wn=N.paletteHue.get(),bo=YC(wn,xo.x,100-xo.y),Yn=oB(bo);Ie(Kt,Yn,wn,Rt)}},vt=()=>{const Rt=[Q,ie];return(Kt,vn)=>{const xo=R(vn.event.value),wn=N.paletteRgba.get(),bo=nM(wn),Yn=YC(xo,bo.saturation,bo.value),vo=oB(Yn);Ie(Kt,vo,xo,Rt)}},jt=()=>{const Rt=[Q,_e,Ve];return(Kt,vn)=>{const xo=vn.event.hex,wn=nB(xo);Ie(Kt,xo,wn.hue,Rt)}};return{uid:y.uid,dom:y.dom,components:[Z.asSpec(),V.asSpec(),K.asSpec()],behaviours:Lt([no("colour-picker-events",[St(QM,jt()),St(yF,pt()),St(gF,vt())]),yo.config({find:Rt=>K.getOpt(Rt)}),Sn.config({mode:"acyclic"})])}};return fr({name:"ColourPicker",configFields:[Ct("dom"),Be("onValidHex",ee),Be("onInvalidHex",ee)],factory:c})},eu={self:()=>yo.config({find:L.some}),memento:o=>yo.config({find:o.getOpt}),childAt:o=>yo.config({find:i=>pu(i.element,o).bind(c=>i.getSystem().getByDom(c).toOptional())})},tW=mt([Be("preprocess",Te),Be("postprocess",Te)]),nW=(o,i)=>{const c=$i("RepresentingConfigs.memento processors",tW,i);return tn.config({store:{mode:"manual",getValue:m=>{const y=o.get(m),_=tn.getValue(y);return c.postprocess(_)},setValue:(m,y)=>{const _=c.preprocess(y),C=o.get(m);tn.setValue(C,_)}}})},tP=(o,i,c)=>tn.config({store:{mode:"manual",...o.map(m=>({initialValue:m})).getOr({}),getValue:i,setValue:c}}),tR=(o,i,c)=>tP(o,m=>i(m.element),(m,y)=>c(m.element,y)),Fu={memento:nW,withElement:tR,withComp:tP,domValue:o=>tR(o,gc,Zc),domHtml:o=>tR(o,W1,sh),memory:o=>tn.config({store:{mode:"memory",initialValue:o}})},sW={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},rW=o=>i=>o.translate(sW[i]),xF=(o,i,c)=>{const m=M=>"tox-"+M,y=CF(rW(i),m),_=M=>{xn(M,km,{name:"hex-valid",value:!0})},C=M=>{xn(M,km,{name:"hex-valid",value:!1})},R=es(y.sketch({dom:{tag:"div",classes:[m("color-picker-container")],attributes:{role:"presentation"}},onValidHex:_,onInvalidHex:C}));return{dom:{tag:"div"},components:[R.asSpec()],behaviours:Lt([Fu.withComp(c,M=>{const N=R.get(M);return yo.getCurrent(N).bind(K=>tn.getValue(K).hex).map(K=>"#"+hu(K,"#")).getOr("")},(M,N)=>{const V=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,Z=L.from(V.exec(N)).bind(ie=>ut(ie,1)),K=R.get(M);yo.getCurrent(K).fold(()=>{console.log("Can not find form")},ie=>{tn.setValue(ie,{hex:Z.getOr("")}),k_.getField(ie,"hex").each(_e=>{zo(_e,of())})})}),eu.self()])}};var aW=tinymce.util.Tools.resolve("tinymce.Resource");const iW=o=>Mo(o,"init"),lW=o=>{const i=ns(),c=es({dom:{tag:o.tag}}),m=ns();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Lt([no("custom-editor-events",[sr(y=>{c.getOpt(y).each(_=>{(iW(o)?o.init(_.element.dom):aW.load(o.scriptId,o.scriptUrl).then(C=>C(_.element.dom,o.settings))).then(C=>{m.on(R=>{C.setValue(R)}),m.clear(),i.set(C)})})})]),Fu.withComp(L.none(),()=>i.get().fold(()=>m.get().getOr(""),y=>y.getValue()),(y,_)=>{i.get().fold(()=>m.set(_),C=>C.setValue(_))}),eu.self()]),components:[c.asSpec()]}};var Dy=tinymce.util.Tools.resolve("tinymce.util.Tools");const Sm=(o,i)=>{const c=Dy.explode(i.getOption("images_file_types")),m=y=>io(c,_=>Dc(y.name.toLowerCase(),`.${_.toLowerCase()}`));return Je(Vt(o),m)},nP=(o,i,c)=>{const m=(K,Q)=>{Q.stop()},y=K=>(Q,ie)=>{me(K,_e=>{_e(Q,ie)})},_=(K,Q)=>{var ie;if(!In.isDisabled(K)){const _e=Q.event.raw;R(K,(ie=_e.dataTransfer)===null||ie===void 0?void 0:ie.files)}},C=(K,Q)=>{const ie=Q.event.raw.target;R(K,ie.files)},R=(K,Q)=>{Q&&(tn.setValue(K,Sm(Q,i)),xn(K,Jc,{name:o.name}))},M=es({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Lt([no("input-file-events",[lp(jc()),lp(ap())])])}),N=K=>({uid:K.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Lt([Fu.memory(c.getOr([])),eu.self(),In.config({}),fo.config({toggleClass:"dragenter",toggleOnExecute:!1}),no("dropzone-events",[St("dragenter",y([m,fo.toggle])),St("dragleave",y([m,fo.toggle])),St("dragover",m),St("drop",y([m,_])),St(Cu(),C)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Ks(i.translate("Drop an image here"))]},Qs.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Ks(i.translate("Browse for an image")),M.asSpec()],action:Q=>{M.get(Q).element.dom.click()},buttonBehaviours:Lt([hr.config({}),Nu.button(i.isDisabled),Fa()])})]}]}),V=o.label.map(K=>Ay(K,i)),Z=Ko.parts.field({factory:{sketch:N}});return p_(V,Z,["tox-form__group--stretched"],[])},EF=(o,i)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${o.columns}col`]},components:Ee(o.items,i.interpreter)}),S_=dn("alloy-fake-before-tabstop"),uS=dn("alloy-fake-after-tabstop"),TF=o=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:o},behaviours:Lt([zn.config({ignore:!0}),hr.config({})])}),RF=o=>({dom:{tag:"div",classes:["tox-navobj"]},components:[TF([S_]),o,TF([uS])],behaviours:Lt([eu.childAt(1)])}),IF=(o,i)=>{xn(o,jl(),{raw:{which:9,shiftKey:i}})},cW=(o,i)=>{const c=i.element;xi(c,S_)?IF(o,!0):xi(c,uS)&&IF(o,!1)},dS=o=>QC(o,["."+S_,"."+uS].join(","),nn),uW=o=>{const i=D(o.getOr(""));return{getValue:c=>i.get(),setValue:(c,m)=>{i.get()!==m&&Jn(c.element,"srcdoc",m),i.set(m)}}},dW=(o,i,c)=>{const m=o.sandboxed,y=o.transparent,_="tox-dialog__iframe",C={...o.label.map(Z=>({title:Z})).getOr({}),...c.map(Z=>({srcdoc:Z})).getOr({}),...m?{sandbox:"allow-scripts allow-same-origin"}:{}},R=uW(c),M=o.label.map(Z=>Ay(Z,i)),N=Z=>RF({uid:Z.uid,dom:{tag:"iframe",attributes:C,classes:y?[_]:[_,`${_}--opaque`]},behaviours:Lt([hr.config({}),zn.config({}),Fu.withComp(c,R.getValue,R.setValue)])}),V=Ko.parts.field({factory:{sketch:N}});return p_(M,V,["tox-form__group--stretched"],[])},AF=o=>new Promise((i,c)=>{const m=()=>{_(),i(o)},y=[Gi(o,"load",m),Gi(o,"error",()=>{_(),c("Unable to load data from image: "+o.dom.src)})],_=()=>me(y,C=>C.unbind());o.dom.complete&&m()}),fW=(o,i,c,m,y)=>{const _=c*y,C=m*y,R=Math.max(0,o/2-_/2),M=Math.max(0,i/2-C/2);return{left:R.toString()+"px",top:M.toString()+"px",width:_.toString()+"px",height:C.toString()+"px"}},xm=(o,i,c)=>{const m=vi(o),y=Hr(o);return Math.min(m/i,y/c,1)},nR=(o,i)=>{const c=D(i.getOr({url:""})),m=es({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:i.map(M=>({src:M.url})).getOr({})}}),y=es({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[m.asSpec()]}),_=(M,N)=>{const V={url:N.url};N.zoom.each(K=>V.zoom=K),N.cachedWidth.each(K=>V.cachedWidth=K),N.cachedHeight.each(K=>V.cachedHeight=K),c.set(V);const Z=()=>{const{cachedWidth:K,cachedHeight:Q,zoom:ie}=V;if(!le(K)&&!le(Q)){if(le(ie)){const Ve=xm(M.element,K,Q);V.zoom=Ve}const _e=fW(vi(M.element),Hr(M.element),K,Q,V.zoom);y.getOpt(M).each(Ve=>{Ir(Ve.element,_e)})}};m.getOpt(M).each(K=>{const Q=K.element;N.url!==da(Q,"src")&&(Jn(Q,"src",N.url),Es(M.element,"tox-imagepreview__loaded")),Z(),AF(Q).then(ie=>{M.getSystem().isConnected()&&(Qr(M.element,"tox-imagepreview__loaded"),V.cachedWidth=ie.dom.naturalWidth,V.cachedHeight=ie.dom.naturalHeight,Z())})})},C={};o.height.each(M=>C.height=M);const R=i.map(M=>({url:M.url,zoom:L.from(M.zoom),cachedWidth:L.from(M.cachedWidth),cachedHeight:L.from(M.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:C,attributes:{role:"presentation"}},components:[y.asSpec()],behaviours:Lt([eu.self(),Fu.withComp(R,()=>c.get(),_)])}},hW=(o,i)=>{const c={dom:{tag:"label",classes:["tox-label"]},components:[Ks(i.providers.translate(o.label))]},m=Ee(o.items,i.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[c,...m],behaviours:Lt([eu.self(),Vn.config({}),Fu.domHtml(L.none()),Sn.config({mode:"acyclic"})])}},OF=dn("toolbar.button.execute"),DF=o=>cf((i,c)=>{ZC(o,i)(m=>{xn(i,OF,{buttonApi:m}),o.onAction(m)})}),My=dn("common-button-display-events"),oR={[Wi()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[rf()]:["toolbar-button-events",My],[cs()]:["focusing","alloy.base.behaviour",My]},x_=o=>un(o.element,"width",xt(o.element,"width")),E_=(o,i,c)=>Sd(o,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:c},i),Vv=(o,i)=>E_(o,i,[]),Gp=(o,i)=>E_(o,i,[Vn.config({})]),oP=(o,i,c)=>({dom:{tag:"span",classes:[`${i}__select-label`]},components:[Ks(c.translate(o))],behaviours:Lt([Vn.config({})])}),Od=dn("update-menu-text"),Hv=dn("update-menu-icon"),sP=(o,i,c)=>{const m=D(ee),y=o.text.map(K=>es(oP(K,i,c.providers))),_=o.icon.map(K=>es(Gp(K,c.providers.icons))),C=(K,Q)=>{const ie=tn.getValue(K);return zn.focus(ie),xn(ie,"keydown",{raw:Q.event.raw}),Lu.close(ie),L.some(!0)},R=o.role.fold(()=>({}),K=>({role:K})),M=o.tooltip.fold(()=>({}),K=>{const Q=c.providers.translate(K);return{title:Q,"aria-label":Q}}),N=Sd("chevron-down",{tag:"div",classes:[`${i}__select-chevron`]},c.providers.icons),V=dn("common-button-display-events");return es(Lu.sketch({...o.uid?{uid:o.uid}:{},...R,dom:{tag:"button",classes:[i,`${i}--select`].concat(Ee(o.classes,K=>`${i}--${K}`)),attributes:{...M}},components:f_([_.map(K=>K.asSpec()),y.map(K=>K.asSpec()),L.some(N)]),matchWidth:!0,useMinWidth:!0,onOpen:(K,Q,ie)=>{o.searchable&&gU(ie)},dropdownBehaviours:Lt([...o.dropdownBehaviours,Nu.button(()=>o.disabled||c.providers.isDisabled()),Fa(),g_.config({}),Vn.config({}),no("dropdown-events",[Av(o,m),Ov(o,m)]),no(V,[sr((K,Q)=>x_(K))]),no("menubutton-update-display-text",[St(Od,(K,Q)=>{y.bind(ie=>ie.getOpt(K)).each(ie=>{Vn.set(ie,[Ks(c.providers.translate(Q.event.text))])})}),St(Hv,(K,Q)=>{_.bind(ie=>ie.getOpt(K)).each(ie=>{Vn.set(ie,[Gp(Q.event.icon,c.providers.icons)])})})])]),eventOrder:hs(oR,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[rf()]:["toolbar-button-events","dropdown-events",V]}),sandboxBehaviours:Lt([Sn.config({mode:"special",onLeft:C,onRight:C}),no("dropdown-sandbox-events",[St(i3,(K,Q)=>{dU(K),Q.stop()}),St(l3,(K,Q)=>{fU(K,Q),Q.stop()})])]),lazySink:c.getSink,toggleClass:`${i}--active`,parts:{menu:{...fT(!1,o.columns,o.presets),fakeFocus:o.searchable,onHighlightItem:RB,onCollapseMenu:(K,Q,ie)=>{No.getHighlighted(ie).each(_e=>{RB(K,ie,_e)})},onDehighlightItem:pU}},fetch:K=>qi.nu(_t(o.fetch,K))})).asSpec()},mW=o=>x(o),MF=o=>o.type==="separator",pW=o=>Mo(o,"getSubmenuItems"),gW={type:"separator"},PF=(o,i)=>{const c=re(o,(m,y)=>mW(y)?y===""?m:y==="|"?m.length>0&&!MF(m[m.length-1])?m.concat([gW]):m:Mo(i,y.toLowerCase())?m.concat([i[y.toLowerCase()]]):m:m.concat([y]),[]);return c.length>0&&MF(c[c.length-1])&&c.pop(),c},zF=(o,i)=>{const c=o.getSubmenuItems(),m=rP(c,i),y=hs(m.menus,{[o.value]:m.items}),_=hs(m.expansions,{[o.value]:o.value});return{item:o,menus:y,expansions:_}},yW=o=>{const i=Gt(o,"value").getOrThunk(()=>dn("generated-menu-item"));return hs({value:i},o)},rP=(o,i)=>{const c=PF(x(o)?o.split(" "):o,i);return Tt(c,(m,y)=>{if(pW(y)){const _=yW(y),C=zF(_,i);return{menus:hs(m.menus,C.menus),items:[C.item,...m.items],expansions:hs(m.expansions,C.expansions)}}else return{...m,items:[y,...m.items]}},{menus:{},expansions:{},items:[]})},bW=o=>o.search.fold(()=>({searchMode:"no-search"}),i=>({searchMode:"search-with-field",placeholder:i.placeholder})),NF=o=>o.search.fold(()=>({searchMode:"no-search"}),i=>({searchMode:"search-with-results"})),Em=(o,i,c,m)=>{const y=dn("primary-menu"),_=rP(o,c.shared.providers.menuItems());if(_.items.length===0)return L.none();const C=bW(m),R=IB(y,_.items,i,c,m.isHorizontalMenu,C),M=NF(m),N=mo(_.menus,(Z,K)=>IB(K,Z,i,c,!1,M)),V=hs(N,Zn(y,R));return L.from(Cd.tieredData(y,V,_.expansions))},aP=o=>!Mo(o,"items"),iP="data-value",LF=(o,i,c,m)=>Ee(c,y=>aP(y)?{type:"togglemenuitem",text:y.text,value:y.value,active:y.value===m,onAction:()=>{tn.setValue(o,y.value),xn(o,Jc,{name:i}),zn.focus(o)}}:{type:"nestedmenuitem",text:y.text,getSubmenuItems:()=>LF(o,i,y.items,m)}),lP=(o,i)=>an(o,c=>aP(c)?Fn(c.value===i,c):lP(c.items,i)),vW=(o,i,c)=>{const m=i.shared.providers,y=c.bind(M=>lP(o.items,M)).orThunk(()=>zt(o.items).filter(aP)),_=o.label.map(M=>Ay(M,m)),C=Ko.parts.field({dom:{},factory:{sketch:M=>sP({uid:M.uid,text:y.map(N=>N.text),icon:L.none(),tooltip:o.label,role:L.none(),fetch:(N,V)=>{const Z=LF(N,o.name,o.items,tn.getValue(N));V(Em(Z,xd.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:L.none()}))},onSetup:J(ee),getApi:J({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[hr.config({}),Fu.withComp(y.map(N=>N.value),N=>da(N.element,iP),(N,V)=>{lP(o.items,V).each(Z=>{Jn(N.element,iP,Z.value),xn(N,Od,{text:Z.text})})})]},"tox-listbox",i.shared)}}),R={dom:{tag:"div",classes:["tox-listboxfield"]},components:[C]};return Ko.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ye([_.toArray(),[R]]),fieldBehaviours:Lt([In.config({disabled:J(!o.enabled),onDisabled:M=>{Ko.getField(M).each(In.disable)},onEnabled:M=>{Ko.getField(M).each(In.enable)}})])})},wW=(o,i)=>({dom:{tag:"div",classes:o.classes},components:Ee(o.items,i.shared.interpreter)}),BF=(o,i)=>{const c=Ee(o.options,y=>({dom:{tag:"option",value:y.value,innerHtml:y.text}})),m=o.data.map(y=>Zn("initialValue",y)).getOr({});return{uid:o.uid,dom:{tag:"select",classes:o.selectClasses,attributes:o.selectAttributes},components:c,behaviours:na(o.selectBehaviours,[zn.config({}),tn.config({store:{mode:"manual",getValue:y=>gc(y.element),setValue:(y,_)=>{const C=zt(o.options);Oe(o.options,M=>M.value===_).isSome()?Zc(y.element,_):y.element.dom.selectedIndex===-1&&_===""&&C.each(M=>Zc(y.element,M.value))},...m}})])}},_W=fr({name:"HtmlSelect",configFields:[Ct("options"),Na("selectBehaviours",[zn,tn]),Be("selectClasses",[]),Be("selectAttributes",{}),Wo("data")],factory:BF}),FF=(o,i,c)=>{const m=Ee(o.items,M=>({text:i.translate(M.text),value:M.value})),y=o.label.map(M=>Ay(M,i)),_=Ko.parts.field({dom:{},...c.map(M=>({data:M})).getOr({}),selectAttributes:{size:o.size},options:m,factory:_W,selectBehaviours:Lt([In.config({disabled:()=>!o.enabled||i.isDisabled()}),hr.config({}),no("selectbox-change",[St(Cu(),(M,N)=>{xn(M,Jc,{name:o.name})})])])}),C=o.size>1?L.none():L.some(Sd("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},i.icons)),R={dom:{tag:"div",classes:["tox-selectfield"]},components:Ye([[_],C.toArray()])};return Ko.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ye([y.toArray(),[R]]),fieldBehaviours:Lt([In.config({disabled:()=>!o.enabled||i.isDisabled(),onDisabled:M=>{Ko.getField(M).each(In.disable)},onEnabled:M=>{Ko.getField(M).each(In.enable)}}),Fa()])})},cP=J([Be("field1Name","field1"),Be("field2Name","field2"),pp("onLockedChange"),mp(["lockClass"]),Be("locked",!1),Au.field("coupledFieldBehaviours",[yo,tn])]),qp=(o,i,c)=>bs(o,i,c).bind(yo.getCurrent),sR=(o,i)=>La({factory:Ko,name:o,overrides:c=>({fieldBehaviours:Lt([no("coupled-input-behaviour",[St(of(),m=>{qp(m,c,i).each(y=>{bs(m,c,"lock").each(_=>{fo.isOn(_)&&c.onLockedChange(m,y,_)})})})])])})}),$F=J([sR("field1","field2"),sR("field2","field1"),La({factory:Qs,schema:[Ct("dom")],name:"lock",overrides:o=>({buttonBehaviours:Lt([fo.config({selected:o.locked,toggleClass:o.markers.lockClass,aria:{mode:"pressed"}})])})})]),VF=(o,i,c,m)=>({uid:o.uid,dom:o.dom,components:i,behaviours:Au.augment(o.coupledFieldBehaviours,[yo.config({find:L.some}),tn.config({store:{mode:"manual",getValue:y=>{const _=Gw(y,o,["field1","field2"]);return{[o.field1Name]:tn.getValue(_.field1()),[o.field2Name]:tn.getValue(_.field2())}},setValue:(y,_)=>{const C=Gw(y,o,["field1","field2"]);el(_,o.field1Name)&&tn.setValue(C.field1(),_[o.field1Name]),el(_,o.field2Name)&&tn.setValue(C.field2(),_[o.field2Name])}}})]),apis:{getField1:y=>bs(y,o,"field1"),getField2:y=>bs(y,o,"field2"),getLock:y=>bs(y,o,"lock")}}),Sc=Nr({name:"FormCoupledInputs",configFields:cP(),partFields:$F(),factory:VF,apis:{getField1:(o,i)=>o.getField1(i),getField2:(o,i)=>o.getField2(i),getLock:(o,i)=>o.getLock(i)}}),HF=o=>{const i={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},c=y=>y in i?i[y]:1;let m=o.value.toFixed(c(o.unit));return m.indexOf(".")!==-1&&(m=m.replace(/\.?0*$/,"")),m+o.unit},T_=o=>{const c=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(o);if(c!==null){const m=parseFloat(c[1]),y=c[2];return to.value({value:m,unit:y})}else return to.error(o)},uP=(o,i)=>{const c={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},m=y=>Mo(c,y);return o.unit===i?L.some(o.value):m(o.unit)&&m(i)?c[o.unit]===c[i]?L.some(o.value):L.some(o.value/c[o.unit]*c[i]):L.none()},rR=o=>L.none(),kW=(o,i)=>c=>uP(c,i).map(m=>({value:m*o,unit:i})),CW=(o,i)=>{const c=T_(o).toOptional(),m=T_(i).toOptional();return ac(c,m,(y,_)=>uP(y,_.unit).map(C=>_.value/C).map(C=>kW(C,_.unit)).getOr(rR)).getOr(rR)},SW=(o,i)=>{let c=rR;const m=dn("ratio-event"),y=Z=>Sd(Z,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Z]},i.icons),_=Sc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:i.translate(o.label.getOr("Constrain proportions"))}},components:[y("lock"),y("unlock")],buttonBehaviours:Lt([In.config({disabled:()=>!o.enabled||i.isDisabled()}),Fa(),hr.config({})])}),C=Z=>({dom:{tag:"div",classes:["tox-form__group"]},components:Z}),R=Z=>Ko.parts.field({factory:Sv,inputClasses:["tox-textfield"],inputBehaviours:Lt([In.config({disabled:()=>!o.enabled||i.isDisabled()}),Fa(),hr.config({}),no("size-input-events",[St(Qh(),(K,Q)=>{xn(K,m,{isField1:Z})}),St(Cu(),(K,Q)=>{xn(K,Jc,{name:o.name})})])]),selectOnFocus:!1}),M=Z=>({dom:{tag:"label",classes:["tox-label"]},components:[Ks(i.translate(Z))]}),N=Sc.parts.field1(C([Ko.parts.label(M("Width")),R(!0)])),V=Sc.parts.field2(C([Ko.parts.label(M("Height")),R(!1)]));return Sc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[N,V,C([M(Ik),_])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Z,K,Q)=>{T_(tn.getValue(Z)).each(ie=>{c(ie).each(_e=>{tn.setValue(K,HF(_e))})})},coupledFieldBehaviours:Lt([In.config({disabled:()=>!o.enabled||i.isDisabled(),onDisabled:Z=>{Sc.getField1(Z).bind(Ko.getField).each(In.disable),Sc.getField2(Z).bind(Ko.getField).each(In.disable),Sc.getLock(Z).each(In.disable)},onEnabled:Z=>{Sc.getField1(Z).bind(Ko.getField).each(In.enable),Sc.getField2(Z).bind(Ko.getField).each(In.enable),Sc.getLock(Z).each(In.enable)}}),Fa(),no("size-input-events2",[St(m,(Z,K)=>{const Q=K.event.isField1,ie=Q?Sc.getField1(Z):Sc.getField2(Z),_e=Q?Sc.getField2(Z):Sc.getField1(Z),Ve=ie.map(tn.getValue).getOr(""),De=_e.map(tn.getValue).getOr("");c=CW(Ve,De)})])])})},xW=(o,i,c)=>{const m=Ad.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ks(i.translate(o.label))]}),y=Ad.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),_=Ad.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Ad.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:o.min,maxX:o.max,getInitialValue:J(c.getOrThunk(()=>(Math.abs(o.max)-Math.abs(o.min))/2))},components:[m,y,_],sliderBehaviours:Lt([eu.self(),zn.config({})]),onChoose:(C,R,M)=>{xn(C,Jc,{name:o.name,value:M})}})},EW=(o,i)=>{const c=R=>({dom:{tag:"th",innerHtml:i.translate(R)}}),m=R=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ee(R,c)}]}),y=R=>({dom:{tag:"td",innerHtml:i.translate(R)}}),_=R=>({dom:{tag:"tr"},components:Ee(R,y)}),C=R=>({dom:{tag:"tbody"},components:Ee(R,_)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[m(o.header),C(o.cells)],behaviours:Lt([hr.config({}),zn.config({})])}},dP=(o,i)=>{const c=o.label.map(Q=>Ay(Q,i)),m=[In.config({disabled:()=>o.disabled||i.isDisabled()}),Fa(),Sn.config({mode:"execution",useEnter:o.multiline!==!0,useControlEnter:o.multiline===!0,execute:Q=>(zo(Q,nS),L.some(!0))}),no("textfield-change",[St(of(),(Q,ie)=>{xn(Q,Jc,{name:o.name})}),St(q0(),(Q,ie)=>{xn(Q,Jc,{name:o.name})})]),hr.config({})],y=o.validation.map(Q=>kh.config({getRoot:ie=>Ml(ie.element),invalidClass:"tox-invalid",validator:{validate:ie=>{const _e=tn.getValue(ie),Ve=Q.validator(_e);return qi.pure(Ve===!0?to.value(_e):to.error(Ve))},validateOnLoad:Q.validateOnLoad}})).toArray(),_=o.placeholder.fold(J({}),Q=>({placeholder:i.translate(Q)})),C=o.inputMode.fold(J({}),Q=>({inputmode:Q})),R={..._,...C},M=Ko.parts.field({tag:o.multiline===!0?"textarea":"input",...o.data.map(Q=>({data:Q})).getOr({}),inputAttributes:R,inputClasses:[o.classname],inputBehaviours:Lt(Ye([m,y])),selectOnFocus:!1,factory:Sv}),N=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[M]}:M,Z=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),K=[In.config({disabled:()=>o.disabled||i.isDisabled(),onDisabled:Q=>{Ko.getField(Q).each(In.disable)},onEnabled:Q=>{Ko.getField(Q).each(In.enable)}}),Fa()];return p_(c,N,Z,K)},UF=(o,i,c)=>dP({name:o.name,multiline:!1,label:o.label,inputMode:o.inputMode,placeholder:o.placeholder,flex:!1,disabled:!o.enabled,classname:"tox-textfield",validation:L.none(),maximized:o.maximized,data:c},i),TW=(o,i,c)=>dP({name:o.name,multiline:!0,label:o.label,inputMode:L.none(),placeholder:o.placeholder,flex:!0,disabled:!o.enabled,classname:"tox-textarea",validation:L.none(),maximized:o.maximized,data:c},i),fS=(o,i)=>i.getAnimationRoot.fold(()=>o.element,c=>c(o)),Kp=o=>o.dimension.property,Tm=(o,i)=>o.dimension.getDimension(i),aR=(o,i)=>{const c=fS(o,i);Ei(c,[i.shrinkingClass,i.growingClass])},fP=(o,i)=>{Es(o.element,i.openClass),Qr(o.element,i.closedClass),un(o.element,Kp(i),"0px"),yu(o.element)},iR=(o,i)=>{Es(o.element,i.closedClass),Qr(o.element,i.openClass),Ro(o.element,Kp(i))},hP=(o,i,c,m)=>{c.setCollapsed(),un(o.element,Kp(i),Tm(i,o.element)),aR(o,i),fP(o,i),i.onStartShrink(o),i.onShrunk(o)},RW=(o,i,c,m)=>{const y=m.getOrThunk(()=>Tm(i,o.element));c.setCollapsed(),un(o.element,Kp(i),y),yu(o.element);const _=fS(o,i);Es(_,i.growingClass),Qr(_,i.shrinkingClass),fP(o,i),i.onStartShrink(o)},jF=(o,i,c)=>{const m=Tm(i,o.element);(m==="0px"?hP:RW)(o,i,c,L.some(m))},lR=(o,i,c)=>{const m=fS(o,i),y=xi(m,i.shrinkingClass),_=Tm(i,o.element);iR(o,i);const C=Tm(i,o.element);(y?()=>{un(o.element,Kp(i),_),yu(o.element)}:()=>{fP(o,i)})(),Es(m,i.shrinkingClass),Qr(m,i.growingClass),iR(o,i),un(o.element,Kp(i),C),c.setExpanded(),i.onStartGrow(o)},IW=(o,i,c)=>{if(c.isExpanded()){Ro(o.element,Kp(i));const m=Tm(i,o.element);un(o.element,Kp(i),m)}},WF=(o,i,c)=>{c.isExpanded()||lR(o,i,c)},AW=(o,i,c)=>{c.isExpanded()&&jF(o,i,c)},OW=(o,i,c)=>{c.isExpanded()&&hP(o,i,c)},ZF=(o,i,c)=>c.isExpanded(),GF=(o,i,c)=>c.isCollapsed(),qF=(o,i,c)=>{const m=fS(o,i);return xi(m,i.growingClass)===!0},KF=(o,i,c)=>{const m=fS(o,i);return xi(m,i.shrinkingClass)===!0};var MW=Object.freeze({__proto__:null,refresh:IW,grow:WF,shrink:AW,immediateShrink:OW,hasGrown:ZF,hasShrunk:GF,isGrowing:qF,isShrinking:KF,isTransitioning:(o,i,c)=>qF(o,i)||KF(o,i),toggleGrow:(o,i,c)=>{(c.isExpanded()?jF:lR)(o,i,c)},disableTransitions:aR,immediateGrow:(o,i,c)=>{c.isExpanded()||(iR(o,i),un(o.element,Kp(i),Tm(i,o.element)),aR(o,i),c.setExpanded(),i.onStartGrow(o),i.onGrown(o))}}),zW=Object.freeze({__proto__:null,exhibit:(o,i,c)=>{const m=i.expanded;return Zl(m?{classes:[i.openClass],styles:{}}:{classes:[i.closedClass],styles:Zn(i.dimension.property,"0px")})},events:(o,i)=>xs([Lg(Dg(),(c,m)=>{m.event.raw.propertyName===o.dimension.property&&(aR(c,o),i.isExpanded()&&Ro(c.element,o.dimension.property),(i.isExpanded()?o.onGrown:o.onShrunk)(c))})])}),NW=[Ct("closedClass"),Ct("openClass"),Ct("shrinkingClass"),Ct("growingClass"),Wo("getAnimationRoot"),Co("onShrunk"),Co("onStartShrink"),Co("onGrown"),Co("onStartGrow"),Be("expanded",!1),Hi("dimension",Vi("property",{width:[qo("property","width"),qo("getDimension",o=>vi(o)+"px")],height:[qo("property","height"),qo("getDimension",o=>Hr(o)+"px")]}))],LW=Object.freeze({__proto__:null,init:o=>{const i=D(o.expanded),c=()=>"expanded: "+i.get();return Da({isExpanded:()=>i.get()===!0,isCollapsed:()=>i.get()===!1,setCollapsed:_t(i.set,!1),setExpanded:_t(i.set,!0),readState:c})}});const tu=Qa({fields:NW,name:"sliding",active:zW,apis:MW,state:LW}),YF=o=>({isEnabled:()=>!In.isDisabled(o),setEnabled:i=>In.set(o,!i),setActive:i=>{const c=o.element;i?(Qr(c,"tox-tbtn--enabled"),Jn(c,"aria-pressed",!0)):(Es(c,"tox-tbtn--enabled"),ge(c,"aria-pressed"))},isActive:()=>xi(o.element,"tox-tbtn--enabled"),setText:i=>{xn(o,Od,{text:i})},setIcon:i=>xn(o,Hv,{icon:i})}),hS=(o,i,c,m,y=!0)=>sP({text:o.text,icon:o.icon,tooltip:o.tooltip,searchable:o.search.isSome(),role:m,fetch:(_,C)=>{const R={pattern:o.search.isSome()?yU(_):""};o.fetch(M=>{C(Em(M,xd.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:o.search}))},R,YF(_))},onSetup:o.onSetup,getApi:YF,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...y?[hr.config({})]:[]]},i,c.shared),BW=(o,i,c)=>{const m=_=>C=>{const R=!C.isActive();C.setActive(R),_.storage.set(R),c.shared.getSink().each(M=>{i().getOpt(M).each(N=>{xu(N.element),xn(N,km,{name:_.name,value:_.storage.get()})})})},y=_=>C=>{C.setActive(_.storage.get())};return _=>{_(Ee(o,C=>{const R=C.text.fold(()=>({}),M=>({text:M}));return{type:C.type,active:!1,...R,onAction:m(C),onSetup:y(C)}}))}},cR=o=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:o,"aria-label":o}},components:[Ks(o)]}),XF=dn("leaf-label-event-id"),mP=({leaf:o,onLeafAction:i,visible:c,treeId:m,backstage:y})=>{const _=o.menu.map(R=>hS(R,"tox-mbtn",y,L.none(),c)),C=[cR(o.title)];return _.each(R=>C.push(R)),Qs.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(c?["tox-tree--leaf__label--visible"]:[])},components:C,role:"treeitem",action:R=>{i(o.id),R.getSystem().broadcastOn([`update-active-item-${m}`],{value:o.id})},eventOrder:{[jl()]:[XF,"keying"]},buttonBehaviours:Lt([...c?[hr.config({})]:[],fo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Pr.config({channels:{[`update-active-item-${m}`]:{onReceive:(R,M)=>{(M.value===o.id?fo.on:fo.off)(R)}}}}),no(XF,[St(jl(),(R,M)=>{const N=M.event.raw.code==="ArrowLeft",V=M.event.raw.code==="ArrowRight";N?(xl(R.element,".tox-tree--directory").each(Z=>{R.getSystem().getByDom(Z).each(K=>{sE(Z,".tox-tree--directory__label").each(Q=>{K.getSystem().getByDom(Q).each(zn.focus)})})}),M.stop()):V&&M.stop()})])])})},FW=(o,i,c)=>Sd(o,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:c},i),mS=(o,i)=>FW(o,i,[]),uR=dn("directory-label-event-id"),$W=({directory:o,visible:i,noChildren:c,backstage:m})=>{const y=o.menu.map(R=>hS(R,"tox-mbtn",m,L.none())),_=[{dom:{tag:"div",classes:["tox-chevron"]},components:[mS("chevron-right",m.shared.providers.icons)]},cR(o.title)];y.each(R=>{_.push(R)});const C=R=>{xl(R.element,".tox-tree--directory").each(M=>{R.getSystem().getByDom(M).each(N=>fo.toggle(N))})};return Qs.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(i?["tox-tree--directory__label--visible"]:[])},components:_,action:C,eventOrder:{[jl()]:[uR,"keying"]},buttonBehaviours:Lt([...i?[hr.config({})]:[],no(uR,[St(jl(),(R,M)=>{const N=M.event.raw.code==="ArrowRight",V=M.event.raw.code==="ArrowLeft";N&&c&&M.stop(),(N||V)&&xl(R.element,".tox-tree--directory").each(Z=>{R.getSystem().getByDom(Z).each(K=>{!fo.isOn(K)&&N||fo.isOn(K)&&V?(C(R),M.stop()):V&&!fo.isOn(K)&&(xl(K.element,".tox-tree--directory").each(Q=>{sE(Q,".tox-tree--directory__label").each(ie=>{K.getSystem().getByDom(ie).each(zn.focus)})}),M.stop())})})})])])})},VW=({children:o,onLeafAction:i,visible:c,treeId:m,backstage:y})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:o.map(_=>_.type==="leaf"?mP({leaf:_,onLeafAction:i,visible:c,treeId:m,backstage:y}):pS({directory:_,onLeafAction:i,labelTabstopping:c,treeId:m,backstage:y})),behaviours:Lt([tu.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking"}),Vn.config({})])}),pS=({directory:o,onLeafAction:i,labelTabstopping:c,treeId:m,backstage:y})=>{const{children:_}=o,C=R=>_.map(M=>M.type==="leaf"?mP({leaf:M,onLeafAction:i,visible:R,treeId:m,backstage:y}):pS({directory:M,onLeafAction:i,labelTabstopping:R,treeId:m,backstage:y}));return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[$W({directory:o,visible:c,noChildren:o.children.length===0,backstage:y}),VW({children:_,onLeafAction:i,visible:!1,treeId:m,backstage:y})],behaviours:Lt([fo.config({...o.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(R,M)=>{const N=R.components()[1],V=C(M);M?tu.grow(N):tu.shrink(N),Vn.set(N,V)}})])}},HW=(o,i)=>{const c=o.onLeafAction.getOr(ee),m=dn("tree-id"),y=o.items.map(_=>_.type==="leaf"?mP({leaf:_,onLeafAction:c,visible:!0,treeId:m,backstage:i}):pS({directory:_,onLeafAction:c,labelTabstopping:!0,treeId:m,backstage:i}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:y,behaviours:Lt([Sn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1})])}};var QF=Object.freeze({__proto__:null,events:(o,i)=>{const m=o.stream.streams.setup(o,i);return xs([St(o.event,m),il(()=>i.cancel())].concat(o.cancelEvent.map(y=>[St(y,()=>i.cancel())]).getOr([])))}});const UW=(o,i)=>{let c=null;return{cancel:()=>{B(c)||(clearTimeout(c),c=null)},throttle:(..._)=>{B(c)&&(c=setTimeout(()=>{c=null,o.apply(null,_)},i))}}},pP=(o,i)=>{let c=null;const m=()=>{B(c)||(clearTimeout(c),c=null)};return{cancel:m,throttle:(..._)=>{m(),c=setTimeout(()=>{c=null,o.apply(null,_)},i)}}},gP=o=>{const i=D(null);return Da({readState:()=>({timer:i.get()!==null?"set":"unset"}),setTimer:_=>{i.set(_)},cancel:()=>{const _=i.get();_!==null&&_.cancel()}})};var WW=Object.freeze({__proto__:null,throttle:gP,init:o=>o.stream.streams.state(o)});const e5=(o,i)=>{const c=o.stream,m=pP(o.onStream,c.delay);return i.setTimer(m),(y,_)=>{m.throttle(y,_),c.stopEvent&&_.stop()}};var t5=[Hi("stream",Vi("mode",{throttle:[Ct("delay"),Be("stopEvent",!0),qo("streams",{setup:e5,state:gP})]})),Be("event","input"),Wo("cancelEvent"),pp("onStream")];const yP=Qa({fields:t5,name:"streaming",active:QF,state:WW}),gS=(o,i,c)=>{const m=tn.getValue(c);tn.setValue(i,m),vP(i)},bP=(o,i)=>{const c=o.element,m=gc(c),y=c.dom;da(c,"type")!=="number"&&i(y,m)},vP=o=>{bP(o,(i,c)=>i.setSelectionRange(c.length,c.length))},ZW=(o,i)=>{bP(o,(c,m)=>c.setSelectionRange(i,m.length))},GW=(o,i,c)=>{if(o.selectsOver){const m=tn.getValue(i),y=o.getDisplayText(m),_=tn.getValue(c);return o.getDisplayText(_).indexOf(y)===0?L.some(()=>{gS(o,i,c),ZW(i,y.length)}):L.none()}else return L.none()},wP=J("alloy.typeahead.itemexecute"),n5=(o,i,c,m)=>{const y=(Z,K,Q)=>{o.previewing.set(!1);const ie=Er.getCoupled(Z,"sandbox");if(Io.isOpen(ie))yo.getCurrent(ie).each(_e=>{No.getHighlighted(_e).fold(()=>{Q(_e)},()=>{U1(ie,_e.element,"keydown",K)})});else{const _e=Ve=>{yo.getCurrent(Ve).each(Q)};MT(o,C(Z),Z,ie,m,_e,Jl.HighlightMenuAndItem).get(ee)}},_=r3(o),C=Z=>K=>K.map(Q=>{const ie=pi(Q.menus),_e=ce(ie,De=>Je(De.items,Ie=>Ie.type==="item"));return tn.getState(Z).update(Ee(_e,De=>De.data)),Q}),R=Z=>yo.getCurrent(Z),M="typeaheadevents",N=[zn.config({}),tn.config({onSetValue:o.onSetValue,store:{mode:"dataset",getDataKey:Z=>gc(Z.element),getFallbackEntry:Z=>({value:Z,meta:{}}),setValue:(Z,K)=>{Zc(Z.element,o.model.getDisplayText(K))},...o.initialData.map(Z=>Zn("initialValue",Z)).getOr({})}}),yP.config({stream:{mode:"throttle",delay:o.responseTime,stopEvent:!1},onStream:(Z,K)=>{const Q=Er.getCoupled(Z,"sandbox");if(zn.isFocused(Z)&&gc(Z.element).length>=o.minChars){const _e=R(Q).bind(De=>No.getHighlighted(De).map(tn.getValue));o.previewing.set(!0);const Ve=De=>{R(Q).each(Ie=>{_e.fold(()=>{o.model.selectsOver&&No.highlightFirst(Ie)},pt=>{No.highlightBy(Ie,vt=>tn.getValue(vt).value===pt.value),No.getHighlighted(Ie).orThunk(()=>(No.highlightFirst(Ie),L.none()))})})};MT(o,C(Z),Z,Q,m,Ve,Jl.HighlightJustMenu).get(ee)}},cancelEvent:vb()}),Sn.config({mode:"special",onDown:(Z,K)=>(y(Z,K,No.highlightFirst),L.some(!0)),onEscape:Z=>{const K=Er.getCoupled(Z,"sandbox");return Io.isOpen(K)?(Io.close(K),L.some(!0)):L.none()},onUp:(Z,K)=>(y(Z,K,No.highlightLast),L.some(!0)),onEnter:Z=>{const K=Er.getCoupled(Z,"sandbox"),Q=Io.isOpen(K);if(Q&&!o.previewing.get())return R(K).bind(ie=>No.getHighlighted(ie)).map(ie=>(xn(Z,wP(),{item:ie}),!0));{const ie=tn.getValue(Z);return zo(Z,vb()),o.onExecute(K,Z,ie),Q&&Io.close(K),L.some(!0)}}}),fo.config({toggleClass:o.markers.openClass,aria:{mode:"expanded"}}),Er.config({others:{sandbox:Z=>LT(o,Z,{onOpen:()=>fo.on(Z),onClose:()=>fo.off(Z)})}}),no(M,[sr(Z=>{o.lazyTypeaheadComp.set(L.some(Z))}),il(Z=>{o.lazyTypeaheadComp.set(L.none())}),cf(Z=>{const K=ee;vM(o,C(Z),Z,m,K,Jl.HighlightMenuAndItem).get(ee)}),St(wP(),(Z,K)=>{const Q=Er.getCoupled(Z,"sandbox");gS(o.model,Z,K.event.item),zo(Z,vb()),o.onItemExecute(Z,Q,K.event.item,tn.getValue(Z)),Io.close(Q),vP(Z)})].concat(o.dismissOnBlur?[St(G0(),Z=>{const K=Er.getCoupled(Z,"sandbox");Eu(K.element).isNone()&&Io.close(K)})]:[]))],V={[dd()]:[tn.name(),yP.name(),M],...o.eventOrder};return{uid:o.uid,dom:a3(hs(o,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{..._,...na(o.typeaheadBehaviours,N)},eventOrder:V}},qW=J([Wo("lazySink"),Ct("fetch"),Be("minChars",5),Be("responseTime",1e3),Co("onOpen"),Be("getHotspot",L.some),Be("getAnchorOverrides",J({})),Be("layouts",L.none()),Be("eventOrder",{}),O("model",{},[Be("getDisplayText",o=>o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.value),Be("selectsOver",!0),Be("populateFromBrowse",!0)]),Co("onSetValue"),ir("onExecute"),Co("onItemExecute"),Be("inputClasses",[]),Be("inputAttributes",{}),Be("inputStyles",{}),Be("matchWidth",!0),Be("useMinWidth",!1),Be("dismissOnBlur",!0),mp(["openClass"]),Wo("initialData"),Na("typeaheadBehaviours",[zn,tn,yP,Sn,fo,Er]),li("lazyTypeaheadComp",()=>D(L.none)),li("previewing",()=>D(!0))].concat(s3()).concat(wM())),o5=J([Ou({schema:[hf()],name:"menu",overrides:o=>({fakeFocus:!0,onHighlightItem:(i,c,m)=>{o.previewing.get()?o.lazyTypeaheadComp.get().each(y=>{GW(o.model,y,m).fold(()=>{o.model.selectsOver?(No.dehighlight(c,m),o.previewing.set(!0)):o.previewing.set(!1)},_=>{_(),o.previewing.set(!1)})}):o.lazyTypeaheadComp.get().each(y=>{o.model.populateFromBrowse&&gS(o.model,y,m)})},onExecute:(i,c)=>o.lazyTypeaheadComp.get().map(m=>(xn(m,wP(),{item:c}),!0)),onHover:(i,c)=>{o.previewing.set(!1),o.lazyTypeaheadComp.get().each(m=>{o.model.populateFromBrowse&&gS(o.model,m,c)})}})})]),KW=Nr({name:"Typeahead",configFields:qW(),partFields:o5(),factory:n5}),xf=o=>({...o,toCached:()=>xf(o.toCached()),bindFuture:M=>xf(o.bind(N=>N.fold(V=>qi.pure(to.error(V)),V=>M(V)))),bindResult:M=>xf(o.map(N=>N.bind(M))),mapResult:M=>xf(o.map(N=>N.map(M))),mapError:M=>xf(o.map(N=>N.mapError(M))),foldResult:(M,N)=>o.map(V=>V.fold(M,N)),withTimeout:(M,N)=>xf(qi.nu(V=>{let Z=!1;const K=setTimeout(()=>{Z=!0,V(to.error(N()))},M);o.get(Q=>{Z||(clearTimeout(K),V(Q))})}))}),dR=o=>xf(qi.nu(o)),s5=o=>xf(qi.pure(to.value(o))),r5={nu:dR,wrap:xf,pure:s5,value:s5,error:o=>xf(qi.pure(to.error(o))),fromResult:o=>xf(qi.pure(o)),fromFuture:o=>xf(o.map(to.value)),fromPromise:o=>dR(i=>{o.then(c=>{i(to.value(c))},c=>{i(to.error(c))})})},fR=(o,i,c=[],m,y,_)=>{const C=i.fold(()=>({}),N=>({action:N})),R={buttonBehaviours:Lt([Nu.button(()=>!o.enabled||_.isDisabled()),Fa(),hr.config({}),no("button press",[Ax("click"),Ax("mousedown")])].concat(c)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...C},M=hs(R,{dom:m});return hs(M,{components:y})},a5=(o,i,c,m=[])=>{const y=o.tooltip.map(M=>({"aria-label":c.translate(M),title:c.translate(M)})).getOr({}),_={tag:"button",classes:["tox-tbtn"],attributes:y},C=o.icon.map(M=>Vv(M,c.icons)),R=f_([C]);return fR(o,i,m,_,R,c)},_P=o=>{switch(o){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},i5=(o,i,c,m=[],y=[])=>{const _=c.translate(o.text),C=o.icon.map(K=>Vv(K,c.icons)),R=[C.getOrThunk(()=>Ks(_))],M=o.buttonType.getOr(!o.primary&&!o.borderless?"secondary":"primary"),Z={tag:"button",classes:[..._P(M),...C.isSome()?["tox-button--icon"]:[],...o.borderless?["tox-button--naked"]:[],...y],attributes:{title:_}};return fR(o,i,m,Z,R,c)},l5=(o,i,c,m=[],y=[])=>{const _=i5(o,L.some(i),c,m,y);return Qs.sketch(_)},c5=(o,i)=>c=>{i==="custom"?xn(c,km,{name:o,value:{}}):i==="submit"?zo(c,nS):i==="cancel"?zo(c,Lv):console.error("Unknown button type: ",i)},u5=(o,i)=>i==="menu",XW=(o,i)=>i==="custom"||i==="cancel"||i==="submit",JW=(o,i)=>i==="togglebutton",d5=(o,i)=>{var c,m,y;const _=L.from(o.icon).map(Ie=>Gp(Ie,i.icons)).map(es),C=Ie=>{xn(Ie,km,{name:o.name,value:{setIcon:pt=>{_.map(vt=>vt.getOpt(Ie).each(jt=>{Vn.set(jt,[Gp(pt,i.icons)])}))}}})},R={...o,name:(c=o.name)!==null&&c!==void 0?c:"",primary:o.buttonType==="primary",buttonType:L.from(o.buttonType),tooltip:L.from(o.tooltip),icon:L.from(o.name),enabled:(m=o.enabled)!==null&&m!==void 0?m:!1,borderless:!1},M=R.tooltip.map(Ie=>({"aria-label":i.translate(Ie),title:i.translate(Ie)})).getOr({}),N=_P((y=o.buttonType)!==null&&y!==void 0?y:"secondary"),V=!!o.icon&&!!o.text,Z={tag:"button",classes:[...N.concat(["tox-button--icon"]),...o.active?["tox-button--enabled"]:[],...V?["tox-button--icon-and-text"]:[]],attributes:M},K=[],Q=i.translate(o.text),ie=Ks(Q),Ve=[...f_([_.map(Ie=>Ie.asSpec())]),...V?[ie]:[]],De=fR(R,L.some(C),K,Z,Ve,i);return Qs.sketch(De)},hR=(o,i,c)=>{if(u5(o,i)){const m=()=>C,y=o,_={...o,type:"menubutton",search:L.none(),onSetup:R=>(R.setEnabled(o.enabled),ee),fetch:BW(y.items,m,c)},C=es(hS(_,"tox-tbtn",c,L.none()));return C.asSpec()}else if(XW(o,i)){const m=c5(o.name,i),y={...o,borderless:!1};return l5(y,m,c.shared.providers,[])}else if(JW(o,i)){const m={...o,tooltip:o.tooltip,text:o.text.getOrUndefined(),buttonType:o.buttonType.getOrUndefined()};return d5(m,c.shared.providers)}else throw console.error("Unknown footer button type: ",i),new Error("Unknown footer button type")},QW=(o,i)=>{const c=c5(o.name,"custom");return ZU(L.none(),Ko.parts.field({factory:Qs,...i5(o,L.some(c),i,[Fu.memory(""),eu.self()])}))},eZ={type:"separator"},f5=o=>({type:"menuitem",value:o.url,text:o.title,meta:{attach:o.attach},onAction:ee}),kP=(o,i)=>({type:"menuitem",value:i,text:o,meta:{attach:void 0},onAction:ee}),tZ=o=>Ee(o,f5),h5=(o,i)=>Je(i,c=>c.type===o),CP=(o,i)=>tZ(h5(o,i)),m5=o=>CP("header",o.targets),mR=o=>CP("anchor",o.targets),nZ=o=>L.from(o.anchorTop).map(i=>kP("<top>",i)).toArray(),oZ=o=>L.from(o.anchorBottom).map(i=>kP("<bottom>",i)).toArray(),sZ=o=>Ee(o,i=>kP(i,i)),rZ=o=>re(o,(i,c)=>i.length===0||c.length===0?i.concat(c):i.concat(eZ,c),[]),pR=(o,i)=>{const c=o.toLowerCase();return Je(i,m=>{var y;const _=m.meta!==void 0&&m.meta.text!==void 0?m.meta.text:m.text,C=(y=m.value)!==null&&y!==void 0?y:"";return ua(_.toLowerCase(),c)||ua(C.toLowerCase(),c)})},p5=(o,i,c)=>{var m,y;const _=tn.getValue(i),C=(y=(m=_==null?void 0:_.meta)===null||m===void 0?void 0:m.text)!==null&&y!==void 0?y:_.value;return c.getLinkInformation().fold(()=>[],M=>{const N=pR(C,sZ(c.getHistory(o)));return o==="file"?rZ([N,pR(C,m5(M)),pR(C,Ye([nZ(M),mR(M),oZ(M)]))]):N})},g5=dn("aria-invalid"),aZ=(o,i,c,m)=>{const y=i.shared.providers,_=Ie=>{const pt=tn.getValue(Ie);c.addToHistory(pt.value,o.filetype)},C={...m.map(Ie=>({initialData:Ie})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":g5,type:"url"},minChars:0,responseTime:0,fetch:Ie=>{const pt=p5(o.filetype,Ie,c),vt=Em(pt,xd.BUBBLE_TO_SANDBOX,i,{isHorizontalMenu:!1,search:L.none()});return qi.pure(vt)},getHotspot:Ie=>ie.getOpt(Ie),onSetValue:(Ie,pt)=>{Ie.hasConfigured(kh)&&kh.run(Ie).get(ee)},typeaheadBehaviours:Lt([...c.getValidationHandler().map(Ie=>kh.config({getRoot:pt=>Ml(pt.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(pt,vt)=>{V.getOpt(pt).each(jt=>{Jn(jt.element,"title",y.translate(vt))})}},validator:{validate:pt=>{const vt=tn.getValue(pt);return r5.nu(jt=>{Ie({type:o.filetype,url:vt.value},Rt=>{if(Rt.status==="invalid"){const Kt=to.error(Rt.message);jt(Kt)}else{const Kt=to.value(Rt.message);jt(Kt)}})})},validateOnLoad:!1}})).toArray(),In.config({disabled:()=>!o.enabled||y.isDisabled()}),hr.config({}),no("urlinput-events",[St(of(),Ie=>{const pt=gc(Ie.element),vt=pt.trim();vt!==pt&&Zc(Ie.element,vt),o.filetype==="file"&&xn(Ie,Jc,{name:o.name})}),St(Cu(),Ie=>{xn(Ie,Jc,{name:o.name}),_(Ie)}),St(q0(),Ie=>{xn(Ie,Jc,{name:o.name}),_(Ie)})])]),eventOrder:{[of()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Ie=>Ie.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:i.shared.getSink,parts:{menu:fT(!1,1,"normal")},onExecute:(Ie,pt,vt)=>{xn(pt,nS,{})},onItemExecute:(Ie,pt,vt,jt)=>{_(Ie),xn(Ie,Jc,{name:o.name})}},R=Ko.parts.field({...C,factory:KW}),M=o.label.map(Ie=>Ay(Ie,y)),V=es(((Ie,pt,vt=Ie,jt=Ie)=>Sd(vt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Ie],attributes:{title:y.translate(jt),"aria-live":"polite",...pt.fold(()=>({}),Rt=>({id:Rt}))}},y.icons))("invalid",L.some(g5),"warning")),Z=es({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[V.asSpec()]}),K=c.getUrlPicker(o.filetype),Q=dn("browser.url.event"),ie=es({dom:{tag:"div",classes:["tox-control-wrap"]},components:[R,Z.asSpec()],behaviours:Lt([In.config({disabled:()=>!o.enabled||y.isDisabled()})])}),_e=es(l5({name:o.name,icon:L.some("browse"),text:o.label.getOr(""),enabled:o.enabled,primary:!1,buttonType:L.none(),borderless:!0},Ie=>zo(Ie,Q),y,[],["tox-browse-url"])),Ve=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Ye([[ie.asSpec()],K.map(()=>_e.asSpec()).toArray()])}),De=Ie=>{yo.getCurrent(Ie).each(pt=>{const vt=tn.getValue(pt),jt={fieldname:o.name,...vt};K.each(Rt=>{Rt(jt).get(Kt=>{tn.setValue(pt,Kt),xn(Ie,Jc,{name:o.name})})})})};return Ko.sketch({dom:GU(),components:M.toArray().concat([Ve()]),fieldBehaviours:Lt([In.config({disabled:()=>!o.enabled||y.isDisabled(),onDisabled:Ie=>{Ko.getField(Ie).each(In.disable),_e.getOpt(Ie).each(In.disable)},onEnabled:Ie=>{Ko.getField(Ie).each(In.enable),_e.getOpt(Ie).each(In.enable)}}),Fa(),no("url-input-events",[St(Q,De)])])})},y5=(o,i)=>_h.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${o.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Qs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:OL(o.icon,i.icons),attributes:{title:i.translate(o.iconTooltip)}},action:c=>{xn(c,km,{name:"alert-banner",value:o.url})},buttonBehaviours:Lt([cD()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:i.translate(o.text)}}]}),iZ=(o,i)=>{o.dom.checked=i},lZ=o=>o.dom.checked,ro=(o,i,c)=>{const m=M=>(M.element.dom.click(),L.some(!0)),y=Ko.parts.field({factory:{sketch:Te},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Lt([eu.self(),In.config({disabled:()=>!o.enabled||i.isDisabled()}),hr.config({}),zn.config({}),Fu.withElement(c,lZ,iZ),Sn.config({mode:"special",onEnter:m,onSpace:m,stopSpaceKeyup:!0}),no("checkbox-events",[St(Cu(),(M,N)=>{xn(M,Jc,{name:o.name})})])])}),_=Ko.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Ks(i.translate(o.label))],behaviours:Lt([g_.config({})])}),C=M=>Sd(M==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+M]},i.icons),R=es({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[C("checked"),C("unchecked")]});return Ko.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[y,R.asSpec(),_],fieldBehaviours:Lt([In.config({disabled:()=>!o.enabled||i.isDisabled(),disableClass:"tox-checkbox--disabled",onDisabled:M=>{Ko.getField(M).each(In.disable)},onEnabled:M=>{Ko.getField(M).each(In.enable)}}),Fa()])})},yS=o=>o.presets==="presentation"?_h.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:o.html}}):_h.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:o.html,attributes:{role:"document"}},containerBehaviours:Lt([hr.config({}),zn.config({})])}),wa=o=>(i,c,m,y)=>Gt(c,"name").fold(()=>o(c,y,L.none()),_=>i.field(_,o(c,y,Gt(m,_)))),b5=o=>(i,c,m,y)=>{const _=hs(c,{source:"dynamic"});return wa(o)(i,_,m,y)},v5={bar:wa((o,i)=>FU(o,i.shared)),collection:wa((o,i,c)=>qU(o,i.shared.providers,c)),alertbanner:wa((o,i)=>y5(o,i.shared.providers)),input:wa((o,i,c)=>UF(o,i.shared.providers,c)),textarea:wa((o,i,c)=>TW(o,i.shared.providers,c)),label:wa((o,i)=>hW(o,i.shared)),iframe:b5((o,i,c)=>dW(o,i.shared.providers,c)),button:wa((o,i)=>QW(o,i.shared.providers)),checkbox:wa((o,i,c)=>ro(o,i.shared.providers,c)),colorinput:wa((o,i,c)=>tj(o,i.shared,i.colorinput,c)),colorpicker:wa((o,i,c)=>xF(o,i.shared.providers,c)),dropzone:wa((o,i,c)=>nP(o,i.shared.providers,c)),grid:wa((o,i)=>EF(o,i.shared)),listbox:wa((o,i,c)=>vW(o,i,c)),selectbox:wa((o,i,c)=>FF(o,i.shared.providers,c)),sizeinput:wa((o,i)=>SW(o,i.shared.providers)),slider:wa((o,i,c)=>xW(o,i.shared.providers,c)),urlinput:wa((o,i,c)=>aZ(o,i,i.urlinput,c)),customeditor:wa(lW),htmlpanel:wa(yS),imagepreview:wa((o,i,c)=>nR(o,c)),table:wa((o,i)=>EW(o,i.shared.providers)),tree:wa((o,i)=>HW(o,i)),panel:wa((o,i)=>wW(o,i))},w5={field:(o,i)=>i,record:J([])},SP=(o,i,c,m)=>{const y=hs(m,{shared:{interpreter:_=>_5(o,_,c,y)}});return _5(o,i,c,y)},_5=(o,i,c,m)=>Gt(v5,i.type).fold(()=>(console.error(`Unknown factory type "${i.type}", defaulting to container: `,i),i),y=>y(o,i,c,m)),R_=(o,i,c)=>_5(w5,o,i,c),Py="layout-inset",gR=o=>o.x,k5=(o,i)=>o.x+o.width/2-i.width/2,xP=(o,i)=>o.x+o.width-i.width,EP=o=>o.y,yR=(o,i)=>o.y+o.height-i.height,bR=(o,i)=>o.y+o.height/2-i.height/2,bS=(o,i,c)=>ya(xP(o,i),yR(o,i),c.insetSouthwest(),fk(),"southwest",Xa(o,{right:0,bottom:3}),Py),vR=(o,i,c)=>ya(gR(o),yR(o,i),c.insetSoutheast(),sw(),"southeast",Xa(o,{left:1,bottom:3}),Py),vS=(o,i,c)=>ya(xP(o,i),EP(o),c.insetNorthwest(),jg(),"northwest",Xa(o,{right:0,top:2}),Py),wS=(o,i,c)=>ya(gR(o),EP(o),c.insetNortheast(),Ug(),"northeast",Xa(o,{left:1,top:2}),Py),Rm=(o,i,c)=>ya(k5(o,i),EP(o),c.insetNorth(),ul(),"north",Xa(o,{top:2}),Py),_S=(o,i,c)=>ya(k5(o,i),yR(o,i),c.insetSouth(),Wg(),"south",Xa(o,{bottom:3}),Py),TP=(o,i,c)=>ya(xP(o,i),bR(o,i),c.insetEast(),dE(),"east",Xa(o,{right:0}),Py),C5=(o,i,c)=>ya(gR(o),bR(o,i),c.insetWest(),Nb(),"west",Xa(o,{left:1}),Py),cZ=o=>{switch(o){case"north":return Rm;case"northeast":return wS;case"northwest":return vS;case"south":return _S;case"southeast":return vR;case"southwest":return bS;case"east":return TP;case"west":return C5}},S5=(o,i,c,m,y)=>EE(m).map(cZ).getOr(Rm)(o,i,c,m,y),uZ=o=>{switch(o){case"north":return _S;case"northeast":return vR;case"northwest":return bS;case"south":return Rm;case"southeast":return wS;case"southwest":return vS;case"east":return C5;case"west":return TP}},dZ=(o,i,c,m,y)=>EE(m).map(uZ).getOr(Rm)(o,i,c,m,y),x5={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},fZ=(o,i,c)=>{const y={maxHeightFunction:wp()},_=()=>({type:"node",root:Za($r(o())),node:L.from(o()),bubble:Yg(12,12,x5),layouts:{onRtl:()=>[wS],onLtr:()=>[vS]},overrides:y}),C=()=>({type:"hotspot",hotspot:i(),bubble:Yg(-12,12,x5),layouts:{onRtl:()=>[Ja,ea,Js],onLtr:()=>[ea,Ja,Js]},overrides:y});return()=>c()?_():C()},hZ=(o,i,c)=>{const m=()=>({type:"node",root:Za($r(o())),node:L.from(o()),layouts:{onRtl:()=>[Rm],onLtr:()=>[Rm]}}),y=()=>({type:"hotspot",hotspot:i(),layouts:{onRtl:()=>[Js],onLtr:()=>[Js]}});return()=>c()?m():y()},mZ=(o,i)=>()=>({type:"selection",root:i(),getSelection:()=>{const c=o.selection.getRng();return L.some(Gb.range(Le.fromDom(c.startContainer),c.startOffset,Le.fromDom(c.endContainer),c.endOffset))}}),pZ=o=>i=>({type:"node",root:o(),node:i}),gZ=(o,i,c)=>{const m=wy(o),y=()=>Le.fromDom(o.getBody()),_=()=>Le.fromDom(o.getContentAreaContainer()),C=()=>m||!c();return{inlineDialog:fZ(_,i,C),banner:hZ(_,i,C),cursor:mZ(o,y),node:pZ(y)}},E5=o=>(i,c)=>{OT(o)(i,c)},yZ=o=>()=>lM(o),bZ=o=>i=>h_(o,i),vZ=o=>i=>iM(o,i),wZ=o=>({colorPicker:E5(o),hasCustomColors:yZ(o),getColors:bZ(o),getColorCols:vZ(o)}),_Z=o=>()=>jL(o),kZ=o=>({isDraggableModal:_Z(o)}),T5=o=>{const i=D(aT(o)?"bottom":"top");return{isPositionedAtTop:()=>i.get()==="top",getDockingMode:i.get,setDockingMode:i.set}},R5=o=>el(o,"items"),RP=o=>el(o,"format"),I5=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],A5=o=>Mo(o,"items"),O5=o=>Mo(o,"block"),D5=o=>Mo(o,"inline"),CZ=o=>Mo(o,"selector"),IP=o=>re(o,(i,c)=>{if(A5(c)){const m=IP(c.items);return{customFormats:i.customFormats.concat(m.customFormats),formats:i.formats.concat([{title:c.title,items:m.formats}])}}else if(D5(c)||O5(c)||CZ(c)){const y=`custom-${x(c.name)?c.name:c.title.toLowerCase()}`;return{customFormats:i.customFormats.concat([{name:y,format:c}]),formats:i.formats.concat([{title:c.title,format:y,icon:c.icon}])}}else return{...i,formats:i.formats.concat(c)}},{customFormats:[],formats:[]}),M5=(o,i)=>{const c=IP(i),m=y=>{me(y,_=>{o.formatter.has(_.name)||o.formatter.register(_.name,_.format)})};return o.formatter?m(c.customFormats):o.on("init",()=>{m(c.customFormats)}),c.formats},P5=o=>ML(o).map(i=>{const c=M5(o,i);return PL(o)?I5.concat(c):c}).getOr(I5),z5=o=>{const i=_n(o);return i.length===1&&Gn(i,"title")},N5=(o,i,c)=>({...o,type:"formatter",isSelected:i(o.format),getStylePreview:c(o.format)}),L5=(o,i,c,m)=>{const y=M=>N5(M,c,m),_=M=>{const N=R(M.items);return{...M,type:"submenu",getStyleItems:J(N)}},C=M=>{const N=x(M.name)?M.name:dn(M.title),V=`custom-${N}`,Z={...M,type:"formatter",format:V,isSelected:c(V),getStylePreview:m(V)};return o.formatter.register(N,Z),Z},R=M=>Ee(M,N=>R5(N)?_(N):RP(N)?y(N):z5(N)?{...N,type:"separator"}:C(N));return R(i)},Sh=o=>{const i=R=>()=>o.formatter.match(R),c=R=>()=>{const M=o.formatter.get(R);return M!==void 0?L.some({tag:M.length>0&&(M[0].inline||M[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(R))}):L.none()},m=D([]),y=D([]),_=D(!1);return o.on("PreInit",R=>{const M=P5(o),N=L5(o,M,i,c);m.set(N)}),o.on("addStyleModifications",R=>{const M=L5(o,R.items,i,c);y.set(M),_.set(R.replace)}),{getData:()=>{const R=_.get()?[]:m.get(),M=y.get();return R.concat(M)}}},wR=o=>Ne(o)&&o.nodeType===1,_R=Dy.trim,B5=o=>i=>!!(wR(i)&&(i.contentEditable===o||i.getAttribute("data-mce-contenteditable")===o)),AP=B5("true"),SZ=B5("false"),kR=(o,i,c,m,y)=>({type:o,title:i,url:c,level:m,attach:y}),F5=o=>{let i=o;for(;i=i.parentNode;){const c=i.contentEditable;if(c&&c!=="inherit")return AP(i)}return!1},OP=(o,i)=>Ee(zr(Le.fromDom(i),o),c=>c.dom),$5=o=>o.innerText||o.textContent,V5=o=>o.id?o.id:dn("h"),H5=o=>o&&o.nodeName==="A"&&(o.id||o.name)!==void 0,DP=o=>H5(o)&&j5(o),U5=o=>o&&/^(H[1-6])$/.test(o.nodeName),j5=o=>F5(o)&&!SZ(o),W5=o=>U5(o)&&j5(o),xZ=o=>U5(o)?parseInt(o.nodeName.substr(1),10):0,EZ=o=>{var i;const c=V5(o),m=()=>{o.id=c};return kR("header",(i=$5(o))!==null&&i!==void 0?i:"","#"+c,xZ(o),m)},Z5=o=>{const i=o.id||o.name,c=$5(o);return kR("anchor",c||"#"+i,"#"+i,0,ee)},G5=o=>Ee(Je(o,W5),EZ),TZ=o=>Ee(Je(o,DP),Z5),RZ=o=>OP("h1,h2,h3,h4,h5,h6,a:not([href])",o),IZ=o=>_R(o.title).length>0,q5={find:o=>{const i=RZ(o);return Je(G5(i).concat(TZ(i)),IZ)}},$u="tinymce-url-history",CR=5,K5=o=>x(o)&&/^https?/.test(o),AZ=o=>$(o)&&o.length<=CR&&Fe(o,K5),Y5=o=>T(o)&&Fr(o,i=>!AZ(i)).isNone(),X5=()=>{const o=zv.getItem($u);if(o===null)return{};let i;try{i=JSON.parse(o)}catch(c){if(c instanceof SyntaxError)return console.log("Local storage "+$u+" was not valid JSON",c),{};throw c}return Y5(i)?i:(console.log("Local storage "+$u+" was not valid format",i),{})},OZ=o=>{if(!Y5(o))throw new Error(`Bad format for history:
`+JSON.stringify(o));zv.setItem($u,JSON.stringify(o))},J5=o=>{const i=X5();return Gt(i,o).getOr([])},Q5=(o,i)=>{if(!K5(o))return;const c=X5(),m=Gt(c,i).getOr([]),y=Je(m,_=>_!==o);c[i]=[o].concat(y).slice(0,CR),OZ(c)},DZ=o=>!!o,fte=o=>mo(Dy.makeMap(o,/[, ]/),DZ),fi=o=>L.from($L(o)),MP=o=>{const i=L.from(VL(o)).filter(DZ).map(fte);return fi(o).fold(nn,c=>i.fold(Ot,m=>_n(m).length>0?m:!1))},MZ=(o,i)=>{const c=MP(o);return H(c)?c?fi(o):L.none():c[i]?fi(o):L.none()},SR=(o,i)=>MZ(o,i).map(c=>m=>qi.nu(y=>{const _=(R,M)=>{if(!x(R))throw new Error("Expected value to be string");if(M!==void 0&&!T(M))throw new Error("Expected meta to be a object");y({value:R,meta:M})},C={filetype:i,fieldname:m.fieldname,...L.from(m.meta).getOr({})};c.call(o,_,m.value,C)})),e6=o=>L.from(o).filter(x).getOrUndefined(),PZ=o=>LC(o)?L.some({targets:q5.find(o.getBody()),anchorTop:e6(HL(o)),anchorBottom:e6(UL(o))}):L.none(),zZ=o=>L.from(yD(o)),NZ=o=>({getHistory:J5,addToHistory:Q5,getLinkInformation:()=>PZ(o),getValidationHandler:()=>zZ(o),getUrlPicker:i=>SR(o,i)}),LZ=(o,i,c)=>{const m=D(!1),y=T5(i),_={icons:()=>i.ui.registry.getAll().icons,menuItems:()=>i.ui.registry.getAll().menuItems,translate:Pu.translate,isDisabled:()=>i.mode.isReadOnly()||!i.ui.isEnabled(),getOption:i.options.get},C=NZ(i),R=Sh(i),M=wZ(i),N=kZ(i),V=()=>m.get(),Z=_e=>m.set(_e),K={shared:{providers:_,anchors:gZ(i,c,y.isPositionedAtTop),header:y},urlinput:C,styles:R,colorinput:M,dialog:N,isContextMenuOpen:V,setContextMenuState:Z},Q={...K,shared:{...K.shared,interpreter:_e=>R_(_e,{},Q),getSink:o.popup}},ie={...K,shared:{...K.shared,interpreter:_e=>R_(_e,{},ie),getSink:o.dialog}};return{popup:Q,dialog:ie}},BZ=(o,i,c)=>{const m=(Rt,Kt)=>{me([i,...c],vn=>{vn.broadcastEvent(Rt,Kt)})},y=(Rt,Kt)=>{me([i,...c],vn=>{vn.broadcastOn([Rt],Kt)})},_=Rt=>y(hh(),{target:Rt.target}),C=bu(),R=Gi(C,"touchstart",_),M=Gi(C,"touchmove",Rt=>m(iA(),Rt)),N=Gi(C,"touchend",Rt=>m(K0(),Rt)),V=Gi(C,"mousedown",_),Z=Gi(C,"mouseup",Rt=>{Rt.raw.button===0&&y(Gk(),{target:Rt.target})}),K=Rt=>y(hh(),{target:Le.fromDom(Rt.target)}),Q=Rt=>{Rt.button===0&&y(Gk(),{target:Le.fromDom(Rt.target)})},ie=()=>{me(o.editorManager.get(),Rt=>{o!==Rt&&Rt.dispatch("DismissPopups",{relatedTarget:o})})},_e=Rt=>m(wb(),AE(Rt)),Ve=Rt=>{y(ry(),{}),m(ip(),AE(Rt))},De=$r(Le.fromDom(o.getElement())),Ie=Ek(De,"scroll",Rt=>{requestAnimationFrame(()=>{const Kt=o.getContainer();if(Kt!=null){const xo=JC(o,i.element).map(wn=>[wn.element,...wn.others]).getOr([]);io(xo,wn=>ls(wn,Rt.target))&&(o.dispatch("ElementScroll",{target:Rt.target.dom}),m(Tx(),Rt))}})}),pt=()=>y(ry(),{}),vt=Rt=>{Rt.state&&y(hh(),{target:Le.fromDom(o.getContainer())})},jt=Rt=>{y(hh(),{target:Le.fromDom(Rt.relatedTarget.getContainer())})};o.on("PostRender",()=>{o.on("click",K),o.on("tap",K),o.on("mouseup",Q),o.on("mousedown",ie),o.on("ScrollWindow",_e),o.on("ResizeWindow",Ve),o.on("ResizeEditor",pt),o.on("AfterProgressState",vt),o.on("DismissPopups",jt)}),o.on("remove",()=>{o.off("click",K),o.off("tap",K),o.off("mouseup",Q),o.off("mousedown",ie),o.off("ScrollWindow",_e),o.off("ResizeWindow",Ve),o.off("ResizeEditor",pt),o.off("AfterProgressState",vt),o.off("DismissPopups",jt),V.unbind(),R.unbind(),M.unbind(),N.unbind(),Z.unbind(),Ie.unbind()}),o.on("detach",()=>{me([i,...c],l2),me([i,...c],Rt=>Rt.destroy())})},ti=E2,Im=gO,t6=J([Be("shell",!1),Ct("makeItem"),Be("setupItem",ee),Au.field("listBehaviours",[Vn])]),FZ=wc({name:"items",overrides:()=>({behaviours:Lt([Vn.config({})])})}),n6=J([FZ]),$Z=J("CustomList"),o6=(o,i,c,m)=>{const y=(R,M)=>{C(R).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},N=>{const V=Vn.contents(N),Z=M.length,K=Z-V.length,Q=K>0?uo(K,()=>o.makeItem()):[],ie=V.slice(Z);me(ie,Ve=>Vn.remove(N,Ve)),me(Q,Ve=>Vn.append(N,Ve));const _e=Vn.contents(N);me(_e,(Ve,De)=>{o.setupItem(R,Ve,M[De],De)})})},_=o.shell?{behaviours:[Vn.config({})],components:[]}:{behaviours:[],components:i},C=R=>o.shell?L.some(R):bs(R,o,"items");return{uid:o.uid,dom:o.dom,components:_.components,behaviours:na(o.listBehaviours,_.behaviours),apis:{setItems:y}}},s6=Nr({name:$Z(),configFields:t6(),partFields:n6(),factory:o6,apis:{setItems:(o,i,c)=>{o.setItems(i,c)}}}),I_=J([Ct("dom"),Be("shell",!0),Na("toolbarBehaviours",[Vn])]),hte=J([wc({name:"groups",overrides:()=>({behaviours:Lt([Vn.config({})])})})]),mte=(o,i,c,m)=>{const y=(R,M)=>{_(R).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},N=>{Vn.set(N,M)})},_=R=>o.shell?L.some(R):bs(R,o,"groups"),C=o.shell?{behaviours:[Vn.config({})],components:[]}:{behaviours:[],components:i};return{uid:o.uid,dom:o.dom,components:C.components,behaviours:na(o.toolbarBehaviours,C.behaviours),apis:{setGroups:y},domModification:{attributes:{role:"group"}}}},xh=Nr({name:"Toolbar",configFields:I_(),partFields:hte(),factory:mte,apis:{setGroups:(o,i,c)=>{o.setGroups(i,c)}}}),HZ=ee,UZ=nn,zP=J([]);var NP=Object.freeze({__proto__:null,setup:HZ,isDocked:UZ,getBehaviours:zP});const LP=o=>(ca(er(o,"position"),"fixed")?L.none():Lh(o)).orThunk(()=>{const m=Le.fromTag("span");return bl(o).bind(y=>{wl(y,m);const _=Lh(m);return uc(m),_})}),r6=o=>LP(o).map(ri).getOrThunk(()=>qs(0,0)),a6=(o,i)=>{const c=o.element;Qr(c,i.transitionClass),Es(c,i.fadeOutClass),Qr(c,i.fadeInClass),i.onShow(o)},jZ=(o,i)=>{const c=o.element;Qr(c,i.transitionClass),Es(c,i.fadeInClass),Qr(c,i.fadeOutClass),i.onHide(o)},WZ=(o,i)=>o.y<i.bottom&&o.bottom>i.y,i6=(o,i)=>o.y>=i.y,l6=(o,i)=>o.bottom<=i.bottom,kS=(o,i,c)=>({location:"top",leftX:i,topY:c.bounds.y-o.y}),xR=(o,i,c)=>({location:"bottom",leftX:i,bottomY:o.bottom-c.bounds.bottom}),BP=o=>o.box.x-o.win.x,ZZ=(o,i,c)=>{const m=i.win,y=i.box,_=BP(i);return an(o,C=>{switch(C){case"bottom":return l6(y,c.bounds)?L.none():L.some(xR(m,_,c));case"top":return i6(y,c.bounds)?L.none():L.some(kS(m,_,c));default:return L.none()}}).getOr({location:"no-dock"})},GZ=(o,i,c)=>Fe(o,m=>{switch(m){case"bottom":return l6(i,c.bounds);case"top":return i6(i,c.bounds)}}),qZ=(o,i)=>{const c=i.optScrollEnv.fold(J(o.bounds.y),m=>m.scrollElmTop+(o.bounds.y-m.currentScrollTop));return qs(o.bounds.x,c)},c6=(o,i)=>{const c=i.optScrollEnv.fold(J(o.y),m=>o.y+m.currentScrollTop-m.scrollElmTop);return qs(o.x,c)},FP=(o,i,c)=>c.getInitialPos().map(m=>{const y=qZ(m,i);return{box:Ns(y.left,y.top,vi(o),Hr(o)),location:m.location}}),CS=(o,i,c,m,y)=>{const _=c6(i,c),C=Ns(_.left,_.top,i.width,i.height);m.setInitialPos({style:ha(o),position:xt(o,"position")||"static",bounds:C,location:y.location})},KZ=(o,i,c,m,y)=>{m.getInitialPos().fold(()=>CS(o,i,c,m,y),()=>ee)},SS=(o,i,c)=>c.getInitialPos().bind(m=>{var y;switch(c.clearInitialPos(),m.position){case"static":return L.some({morph:"static"});case"absolute":const _=LP(o).getOr(Xr()),C=tr(_),R=(y=_.dom.scrollTop)!==null&&y!==void 0?y:0;return L.some({morph:"absolute",positionCss:Tu("absolute",Gt(m.style,"left").map(M=>i.x-C.x),Gt(m.style,"top").map(M=>i.y-C.y+R),Gt(m.style,"right").map(M=>C.right-i.right),Gt(m.style,"bottom").map(M=>C.bottom-i.bottom))});default:return L.none()}}),YZ=(o,i,c)=>FP(o,i,c).filter(({box:m})=>GZ(c.getModes(),m,i)).bind(({box:m})=>SS(o,m,c)),xS=o=>{switch(o.location){case"top":return L.some({morph:"fixed",positionCss:Tu("fixed",L.some(o.leftX),L.some(o.topY),L.none(),L.none())});case"bottom":return L.some({morph:"fixed",positionCss:Tu("fixed",L.some(o.leftX),L.none(),L.none(),L.some(o.bottomY))});default:return L.none()}},ES=(o,i,c)=>{const m=tr(o),y=Ra(),_=ZZ(c.getModes(),{win:y,box:m},i);return _.location==="top"||_.location==="bottom"?(CS(o,m,i,c,_),xS(_)):L.none()},u6=(o,i,c)=>YZ(o,i,c).orThunk(()=>i.optScrollEnv.bind(m=>FP(o,i,c)).bind(({box:m,location:y})=>{const _=Ra(),C=BP({win:_,box:m}),R=y==="top"?kS(_,C,i):xR(_,C,i);return xS(R)})),XZ=(o,i,c)=>{const m=o.element;return ca(er(m,"position"),"fixed")?u6(m,i,c):ES(m,i,c)},d6=(o,i,c)=>{const m=o.element;return FP(m,i,c).bind(({box:y})=>SS(m,y,c))},f6=(o,i,c,m)=>{const y=tr(o),_=Ra(),C=BP({win:_,box:y}),R=m(_,C,i);return R.location==="bottom"||R.location==="top"?(KZ(o,y,i,c,R),xS(R)):L.none()},$P=(o,i,c)=>{c.setDocked(!1),me(["left","right","top","bottom","position"],m=>Ro(o.element,m)),i.onUndocked(o)},VP=(o,i,c,m)=>{const y=m.position==="fixed";c.setDocked(y),Sk(o.element,m),(y?i.onDocked:i.onUndocked)(o)},ER=(o,i,c,m,y=!1)=>{i.contextual.each(_=>{_.lazyContext(o).each(C=>{const R=WZ(C,m.bounds);R!==c.isVisible()&&(c.setVisible(R),y&&!R?(Su(o.element,[_.fadeOutClass]),_.onHide(o)):(R?a6:jZ)(o,_))})})},TS=(o,i,c,m,y)=>{ER(o,i,c,m,!0),VP(o,i,c,y.positionCss)},JZ=(o,i,c,m,y)=>{switch(y.morph){case"static":return $P(o,i,c);case"absolute":return VP(o,i,c,y.positionCss);case"fixed":return TS(o,i,c,m,y)}},QZ=(o,i,c)=>{const m=i.lazyViewport(o);ER(o,i,c,m),XZ(o,m,c).each(y=>{JZ(o,i,c,m,y)})},A_=(o,i,c)=>{const m=o.element;c.setDocked(!1);const y=i.lazyViewport(o);d6(o,y,c).each(_=>{switch(_.morph){case"static":{$P(o,i,c);break}case"absolute":{VP(o,i,c,_.positionCss);break}}}),c.setVisible(!0),i.contextual.each(_=>{Ei(m,[_.fadeInClass,_.fadeOutClass,_.transitionClass]),_.onShow(o)}),RS(o,i,c)},RS=(o,i,c)=>{o.getSystem().isConnected()&&QZ(o,i,c)},h6=(o,i,c)=>{c.isDocked()&&A_(o,i,c)},HP=o=>(i,c,m)=>{const y=c.lazyViewport(i);f6(i.element,y,m,o).each(C=>{TS(i,c,m,y,C)})},UP=HP(kS),jP=HP(xR);var WP=Object.freeze({__proto__:null,refresh:RS,reset:h6,isDocked:(o,i,c)=>c.isDocked(),getModes:(o,i,c)=>c.getModes(),setModes:(o,i,c,m)=>c.setModes(m),forceDockToTop:UP,forceDockToBottom:jP}),eG=Object.freeze({__proto__:null,events:(o,i)=>xs([Lg(Dg(),(c,m)=>{o.contextual.each(y=>{xi(c.element,y.transitionClass)&&(Ei(c.element,[y.transitionClass,y.fadeInClass]),(i.isVisible()?y.onShown:y.onHidden)(c)),m.stop()})}),St(wb(),(c,m)=>{RS(c,o,i)}),St(Tx(),(c,m)=>{RS(c,o,i)}),St(ip(),(c,m)=>{h6(c,o,i)})])}),tG=[ga("contextual",[Cr("fadeInClass"),Cr("fadeOutClass"),Cr("transitionClass"),mc("lazyContext"),Co("onShow"),Co("onShown"),Co("onHide"),Co("onHidden")]),jr("lazyViewport",()=>({bounds:Ra(),optScrollEnv:L.none()})),Rg("modes",["top","bottom"],pa),Co("onDocked"),Co("onUndocked")],nG=Object.freeze({__proto__:null,init:o=>{const i=D(!1),c=D(!0),m=ns(),y=D(o.modes),_=()=>`docked:  ${i.get()}, visible: ${c.get()}, modes: ${y.get().join(",")}`;return Da({isDocked:i.get,setDocked:i.set,getInitialPos:m.get,setInitialPos:m.set,clearInitialPos:m.clear,isVisible:c.get,setVisible:c.set,getModes:y.get,setModes:y.set,readState:_})}});const _a=Qa({fields:tG,name:"docking",active:eG,apis:WP,state:nG}),ZP=J(dn("toolbar-height-change")),Eh={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},m6="tox-tinymce--toolbar-sticky-on",O_="tox-tinymce--toolbar-sticky-off",oG=(o,i)=>{const c=Pi(i),y=td(i).dom.innerHeight,_=_l(c),C=Le.fromDom(o.elm),R=od(C),M=Hr(C),N=R.y,V=N+M,Z=ri(i),K=Hr(i),Q=Z.top,ie=Q+K,_e=Math.abs(Q-_.top)<2,Ve=Math.abs(ie-(_.top+y))<2;if(_e&&N<ie)rb(_.left,N-K,c);else if(Ve&&V>Q){const De=N-y+M+K;rb(_.left,De,c)}},GP=(o,i)=>Gn(_a.getModes(o),i),IS=o=>{const i=m=>$f(m)+(parseInt(xt(m,"margin-top"),10)||0)+(parseInt(xt(m,"margin-bottom"),10)||0),c=o.element;Ml(c).each(m=>{const y="padding-"+_a.getModes(o)[0];if(_a.isDocked(o)){const _=vi(m);un(c,"width",_+"px"),un(m,y,i(c)+"px")}else Ro(c,"width"),Ro(m,y)})},qP=(o,i)=>{i?(Es(o,Eh.fadeOutClass),Su(o,[Eh.transitionClass,Eh.fadeInClass])):(Es(o,Eh.fadeInClass),Su(o,[Eh.fadeOutClass,Eh.transitionClass]))},p6=(o,i)=>{const c=Le.fromDom(o.getContainer());i?(Qr(c,m6),Es(c,O_)):(Qr(c,O_),Es(c,m6))},sG=(o,i)=>{const c=Pi(i);pf(c).filter(m=>!ls(i,m)).filter(m=>ls(m,Le.fromDom(c.dom.body))||ol(o,m)).each(()=>xu(i))},rG=(o,i)=>Eu(o).orThunk(()=>i().toOptional().bind(c=>Eu(c.element))),aG=(o,i,c)=>{o.inline||(i.header.isPositionedAtTop()||o.on("ResizeEditor",()=>{c().each(_a.reset)}),o.on("ResizeWindow ResizeEditor",()=>{c().each(IS)}),o.on("SkinLoaded",()=>{c().each(m=>{_a.isDocked(m)?_a.reset(m):_a.refresh(m)})}),o.on("FullscreenStateChanged",()=>{c().each(_a.reset)})),o.on("AfterScrollIntoView",m=>{c().each(y=>{_a.refresh(y);const _=y.element;xr(_)&&oG(m,_)})}),o.on("PostRender",()=>{p6(o,!1)})},iG=o=>o().map(_a.isDocked).getOr(!1),lG=()=>[Pr.config({channels:{[ZP()]:{onReceive:IS}}})],g6=(o,i)=>{const c=ns(),m=i.getSink,y=R=>{m().each(M=>R(M.element))},_=R=>{o.inline||IS(R),p6(o,_a.isDocked(R)),R.getSystem().broadcastOn([ry()],{}),m().each(M=>M.getSystem().broadcastOn([ry()],{}))},C=o.inline?[]:lG();return[zn.config({}),_a.config({contextual:{lazyContext:R=>{const M=$f(R.element),N=o.inline?o.getContentAreaContainer():o.getContainer();return L.from(N).map(V=>{const Z=tr(Le.fromDom(V));return JC(o,R.element).fold(()=>{const Q=Z.height-M,ie=Z.y+(GP(R,"top")?0:M);return Ns(Z.x,ie,Z.width,Q)},Q=>{const ie=I1(Z,VT(Q));return Ns(ie.x,ie.y,ie.width,ie.height-M)})})},onShow:()=>{y(R=>qP(R,!0))},onShown:R=>{y(M=>Ei(M,[Eh.transitionClass,Eh.fadeInClass])),c.get().each(M=>{sG(R.element,M),c.clear()})},onHide:R=>{rG(R.element,m).fold(c.clear,c.set),y(M=>qP(M,!1))},onHidden:()=>{y(R=>Ei(R,[Eh.transitionClass]))},...Eh},lazyViewport:R=>JC(o,R.element).fold(()=>{const N=Ra(),V=BL(o),Z=N.y+(GP(R,"top")?V:0),K=N.height-(GP(R,"bottom")?V:0);return{bounds:Ns(N.x,Z,N.width,K),optScrollEnv:L.none()}},N=>({bounds:VT(N),optScrollEnv:L.some({currentScrollTop:N.element.dom.scrollTop,scrollElmTop:ri(N.element).top})})),modes:[i.header.getDockingMode()],onDocked:_,onUndocked:_}),...C]};var cG=Object.freeze({__proto__:null,setup:aG,isDocked:iG,getBehaviours:g6});const uG=o=>{const i=o.editor,c=o.sticky?g6:zP;return{uid:o.uid,dom:o.dom,components:o.components,behaviours:Lt(c(i,o.sharedBackstage))}},y6=mt([Zr,Hi("items",Fl([pb([_y,al("items",pa)]),pa]))].concat(UC)),KP=o=>eo("GroupToolbarButton",y6,o),YP=[Sr("text"),Sr("tooltip"),Sr("icon"),ci("search",!1,Fl([Yf,mt([Sr("placeholder")])],o=>H(o)?o?L.some({placeholder:L.none()}):L.none():L.some(o))),mc("fetch"),jr("onSetup",()=>ee)],b6=mt([Zr,...YP]),v6=o=>eo("menubutton",b6,o),dG=mt([Zr,wT,_f,Sy,p3,e9,Cy,Vl("presets","normal",["normal","color","listpreview"]),c_(1),ky,t9]),fG=o=>eo("SplitButton",dG,o);var D_=fr({factory:(o,i)=>{const c=(y,_)=>{const C=Ee(_,R=>{const M={type:"menubutton",text:R.text,fetch:V=>{V(R.getItems())}},N=v6(M).mapError(V=>rl(V)).getOrDie();return hS(N,"tox-mbtn",i.backstage,L.some("menuitem"))});Vn.set(y,C)},m={focus:Sn.focusIn,setMenus:c};return{uid:o.uid,dom:o.dom,components:[],behaviours:Lt([Vn.config({}),no("menubar-events",[sr(y=>{o.onSetup(y)}),St(pc(),(y,_)=>{Ys(y.element,".tox-mbtn--active").each(C=>{pd(_.event.target,".tox-mbtn").each(R=>{ls(C,R)||y.getSystem().getByDom(C).each(M=>{y.getSystem().getByDom(R).each(N=>{Lu.expand(N),Lu.close(M),zn.focus(N)})})})})}),St(tm(),(y,_)=>{_.event.prevFocus.bind(C=>y.getSystem().getByDom(C).toOptional()).each(C=>{_.event.newFocus.bind(R=>y.getSystem().getByDom(R).toOptional()).each(R=>{Lu.isOpen(C)&&(Lu.expand(R),Lu.close(C))})})})]),Sn.config({mode:"flow",selector:".tox-mbtn",onEscape:y=>(o.onEscape(y),L.some(!0))}),hr.config({})]),apis:m,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ct("dom"),Ct("uid"),Ct("onEscape"),Ct("backstage"),Be("onSetup",ee)],apis:{focus:(o,i)=>{o.focus(i)},setMenus:(o,i,c)=>{o.setMenus(i,c)}}});const XP="\u26A1\uFE0FUpgrade",hG="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",mG=o=>({uid:o.uid,dom:o.dom,components:[{dom:{tag:"a",attributes:{href:hG,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:XP}}]}),w6="container",pG=[Na("slotBehaviours",[])],JP=o=>"<alloy.field."+o+">",_6=o=>{const i=(()=>{const _=[];return{slot:(R,M)=>(_.push(R),iC(w6,JP(R),M)),record:J(_)}})(),c=o(i),m=i.record(),y=Ee(m,_=>La({name:_,pname:JP(_)}));return fC(w6,pG,y,gG,c)},gG=(o,i)=>{const c=_e=>S2(o),m=(_e,Ve)=>bs(_e,o,Ve),y=(_e,Ve)=>(De,Ie)=>bs(De,o,Ie).map(pt=>_e(pt,Ie)).getOr(Ve),_=_e=>(Ve,De)=>{me(De,Ie=>_e(Ve,Ie))},C=(_e,Ve)=>da(_e.element,"aria-hidden")!=="true",R=(_e,Ve)=>{if(!C(_e)){const De=_e.element;Ro(De,"display"),ge(De,"aria-hidden"),xn(_e,Y0(),{name:Ve,visible:!0})}},M=(_e,Ve)=>{if(C(_e)){const De=_e.element;un(De,"display","none"),Jn(De,"aria-hidden","true"),xn(_e,Y0(),{name:Ve,visible:!1})}},N=y(C,!1),V=y(M),Z=_(V),K=_e=>Z(_e,c()),Q=y(R),ie={getSlotNames:c,getSlot:m,isShowing:N,hideSlot:V,hideAllSlots:K,showSlot:Q};return{uid:o.uid,dom:o.dom,components:i,behaviours:qc(o.slotBehaviours),apis:ie}},hi={...mo({getSlotNames:(o,i)=>o.getSlotNames(i),getSlot:(o,i,c)=>o.getSlot(i,c),isShowing:(o,i,c)=>o.isShowing(i,c),hideSlot:(o,i,c)=>o.hideSlot(i,c),hideAllSlots:(o,i)=>o.hideAllSlots(i),showSlot:(o,i,c)=>o.showSlot(i,c)},o=>om(o)),sketch:_6},RR=mt([_f,wT,jr("onShow",ee),jr("onHide",ee),Cy]),yG=o=>eo("sidebar",RR,o),bG=o=>{const{sidebars:i}=o.ui.registry.getAll();me(_n(i),c=>{const m=i[c],y=()=>ca(L.from(o.queryCommandValue("ToggleSidebar")),c);o.ui.registry.addToggleButton(c,{icon:m.icon,tooltip:m.tooltip,onAction:_=>{o.execCommand("ToggleSidebar",!1,c),_.setActive(y())},onSetup:_=>{_.setActive(y());const C=()=>_.setActive(y());return o.on("ToggleSidebar",C),()=>{o.off("ToggleSidebar",C)}}})})},vG=o=>({element:()=>o.element.dom}),wG=(o,i)=>{const c=Ee(_n(i),m=>{const y=i[m],_=Cl(yG(y));return{name:m,getApi:vG,onSetup:_.onSetup,onShow:_.onShow,onHide:_.onHide}});return Ee(c,m=>{const y=D(ee);return o.slot(m.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:xy.unnamedEvents([Av(m,y),Ov(m,y),St(Y0(),(_,C)=>{const R=C.event;Oe(c,N=>N.name===R.name).each(N=>{(R.visible?N.onShow:N.onHide)(N.getApi(_))})})])})})},QP=o=>hi.sketch(i=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:wG(i,o),slotBehaviours:xy.unnamedEvents([sr(c=>hi.hideAllSlots(c))])})),ez=(o,i,c)=>{yo.getCurrent(o).each(y=>{Vn.set(y,[QP(i)]);const _=c==null?void 0:c.toLowerCase();x(_)&&Mo(i,_)&&yo.getCurrent(y).each(C=>{hi.showSlot(C,_),tu.immediateGrow(y),Ro(y.element,"width"),M_(o.element,"region")})})},M_=(o,i)=>{Jn(o,"role",i)},_G=(o,i)=>{yo.getCurrent(o).each(m=>{yo.getCurrent(m).each(_=>{tu.hasGrown(m)?hi.isShowing(_,i)?(tu.shrink(m),M_(o.element,"presentation")):(hi.hideAllSlots(_),hi.showSlot(_,i),M_(o.element,"region")):(hi.hideAllSlots(_),hi.showSlot(_,i),tu.grow(m),M_(o.element,"region"))})})},tz=o=>yo.getCurrent(o).bind(c=>tu.isGrowing(c)||tu.hasGrown(c)?yo.getCurrent(c).bind(_=>Oe(hi.getSlotNames(_),C=>hi.isShowing(_,C))):L.none()),nz=dn("FixSizeEvent"),oz=dn("AutoSizeEvent"),kG=o=>({uid:o.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Lt([hr.config({}),zn.config({}),tu.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:i=>{yo.getCurrent(i).each(hi.hideAllSlots),zo(i,oz)},onGrown:i=>{zo(i,oz)},onStartGrow:i=>{xn(i,nz,{width:er(i.element,"width").getOr("")})},onStartShrink:i=>{xn(i,nz,{width:vi(i.element)+"px"})}}),Vn.config({}),yo.config({find:i=>{const c=Vn.contents(i);return zt(c)}})])}],behaviours:Lt([eu.childAt(0),no("sidebar-sliding-events",[St(nz,(i,c)=>{un(i.element,"width",c.event.width)}),St(oz,(i,c)=>{Ro(i.element,"width")})])])});var CG=Object.freeze({__proto__:null,block:(o,i,c,m)=>{Jn(o.element,"aria-busy",!0);const y=i.getRoot(o).getOr(o),_=Lt([Sn.config({mode:"special",onTab:()=>L.some(!0),onShiftTab:()=>L.some(!0)}),zn.config({})]),C=m(y,_),R=y.getSystem().build(C);Vn.append(y,Sl(R)),R.hasConfigured(Sn)&&i.focus&&Sn.focusIn(R),c.isBlocked()||i.onBlock(o),c.blockWith(()=>Vn.remove(y,R))},unblock:(o,i,c)=>{ge(o.element,"aria-busy"),c.isBlocked()&&i.onUnblock(o),c.clear()}}),SG=[jr("getRoot",L.none),ui("focus",!0),Co("onBlock"),Co("onUnblock")],kte=Object.freeze({__proto__:null,init:()=>{const o=qg(),i=c=>{o.set({destroy:c})};return Da({readState:o.isSet,blockWith:i,clear:o.clear,isBlocked:o.isSet})}});const Am=Qa({fields:SG,name:"blocking",apis:CG,state:kte}),xG=o=>{const i=o.dom.attributes!==void 0?o.dom.attributes:[];return re(i,(c,m)=>m.name==="class"?c:{...c,[m.name]:m.value},{})},k6=o=>Array.prototype.slice.call(o.dom.classList,0),zy=o=>{const i=Le.fromHtml(o),c=zi(i),m=xG(i),y=k6(i),_=c.length===0?{}:{innerHtml:W1(i)};return{tag:tl(i),classes:y,attributes:m,..._}},EG=o=>(i,c)=>({dom:{tag:"div",attributes:{"aria-label":o.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:zy('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),C6=o=>yo.getCurrent(o).each(i=>xu(i.element)),TG=(o,i)=>{const c="tabindex",m=`data-mce-${c}`;L.from(o.iframeElement).map(Le.fromDom).each(y=>{i?(G(y,c).each(_=>Jn(y,m,_)),Jn(y,c,-1)):(ge(y,c),G(y,m).each(_=>{Jn(y,c,_),ge(y,m)}))})},RG=(o,i,c,m)=>{const y=i.element;if(TG(o,c),c)Am.block(i,EG(m)),Ro(y,"display"),ge(y,"aria-hidden"),o.hasFocus()&&C6(i);else{const _=yo.getCurrent(i).exists(C=>Fb(C.element));Am.unblock(i),un(y,"display","none"),Jn(y,"aria-hidden","true"),_&&o.focus()}},S6=o=>({uid:o.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Lt([Vn.config({}),Am.config({focus:!1}),yo.config({find:i=>zt(i.components())})]),components:[]}),IG=o=>o.type==="focusin",AG=o=>IG(o)?(o.composed?zt(o.composedPath()):L.from(o.target)).map(Le.fromDom).filter(Jo).exists(c=>xi(c,"mce-pastebin")):!1,OG=(o,i,c)=>{const m=D(!1),y=ns(),_=R=>{m.get()&&!AG(R)&&(R.preventDefault(),C6(i()),o.editorManager.setActive(o))};o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",_),o.on("BeforeExecCommand",R=>{R.command.toLowerCase()==="mcefocus"&&R.value!==!0&&_(R)})});const C=R=>{R!==m.get()&&(m.set(R),RG(o,i(),R,c.providers),AT(o,R))};o.on("ProgressState",R=>{if(y.on(clearTimeout),je(R.time)){const M=Z2.setEditorTimeout(o,()=>C(R.state),R.time);y.set(M)}else C(R.state),y.clear()})},Cte=(o,i)=>re(o,(y,_)=>i(_,y.len).fold(J(y),R=>({len:R.finish,list:y.list.concat([R])})),{len:0,list:[]}).list,x6=(o,i,c)=>({within:o,extra:i,withinWidth:c}),sz=(o,i,c)=>{const m=Cte(o,(R,M)=>{const N=c(R);return L.some({element:R,start:M,finish:M+N,width:N})}),y=Je(m,R=>R.finish<=i),_=Tt(y,(R,M)=>R+M.width,0),C=m.slice(y.length);return{within:y,extra:C,withinWidth:_}},AS=o=>Ee(o,i=>i.element),DG=(o,i,c)=>{const m=AS(o.concat(i));return x6(m,[],c)},MG=(o,i,c,m)=>{const y=AS(o).concat([c]);return x6(y,AS(i),m)},Dd=(o,i,c)=>x6(AS(o),[],c),PG=(o,i,c)=>{const m=sz(i,o,c);return m.extra.length===0?L.some(m):L.none()},E6=(o,i,c,m)=>{const y=PG(o,i,c).getOrThunk(()=>sz(i,o-c(m),c)),_=y.within,C=y.extra,R=y.withinWidth;return C.length===1&&C[0].width<=c(m)?DG(_,C,R):C.length>=1?MG(_,C,m,R):Dd(_,C,R)},rz=(o,i)=>{const c=Ee(i,m=>Sl(m));xh.setGroups(o,c)},zG=o=>an(o,i=>Eu(i.element).bind(c=>i.getSystem().getByDom(c).toOptional())),P_=(o,i,c)=>{const m=i.builtGroups.get();if(m.length===0)return;const y=_d(o,i,"primary"),_=Er.getCoupled(o,"overflowGroup");un(y.element,"visibility","hidden");const C=m.concat([_]),R=zG(C);c([]),rz(y,C);const M=vi(y.element),N=E6(M,i.builtGroups.get(),V=>vi(V.element),_);N.extra.length===0?(Vn.remove(y,_),c([])):(rz(y,N.within),c(N.extra)),Ro(y.element,"visibility"),yu(y.element),R.each(zn.focus)},T6=J([Na("splitToolbarBehaviours",[Er]),li("builtGroups",()=>D([]))]),AR=J([mp(["overflowToggledClass"]),Xf("getOverflowBounds"),Ct("lazySink"),li("overflowGroups",()=>D([])),Co("onOpened"),Co("onClosed")].concat(T6())),NG=J([La({factory:xh,schema:I_(),name:"primary"}),Ou({schema:I_(),name:"overflow"}),Ou({name:"overflow-button"}),Ou({name:"overflow-group"})]),z_=J((o,i)=>{C1(o,Math.floor(i))}),LG=J([mp(["toggledClass"]),Ct("lazySink"),mc("fetch"),Xf("getBounds"),ga("fireDismissalEventInstead",[Be("event",nh())]),yd(),Co("onToggled")]),Ef=J([Ou({name:"button",overrides:o=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Lt([fo.config({toggleClass:o.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:o.onToggled})])})}),Ou({factory:xh,schema:I_(),name:"toolbar",overrides:o=>({toolbarBehaviours:Lt([Sn.config({mode:"cyclic",onEscape:i=>(bs(i,o,"button").each(zn.focus),L.none())})])})})]),OR=ns(),DR=(o,i)=>{OR.set(!0),MR(o,i),OR.clear()},MR=(o,i)=>{const c=Er.getCoupled(o,"toolbarSandbox");Io.isOpen(c)?Io.close(c):Io.open(c,i.toolbar())},az=(o,i,c,m)=>{const y=c.getBounds.map(C=>C()),_=c.lazySink(o).getOrDie();ta.positionWithinBounds(_,i,{anchor:{type:"hotspot",hotspot:o,layouts:m,overrides:{maxWidthFunction:z_()}}},y)},R6=(o,i,c,m,y)=>{xh.setGroups(i,y),az(o,i,c,m),fo.on(o)},BG=(o,i,c)=>{const m=ak(),y=(C,R)=>{const M=OR.get().getOr(!1);c.fetch().get(N=>{R6(o,R,c,i.layouts,N),m.link(o.element),M||Sn.focusIn(R)})},_=()=>{fo.off(o),OR.get().getOr(!1)||zn.focus(o),m.unlink(o.element)};return{dom:{tag:"div",attributes:{id:m.id}},behaviours:Lt([Sn.config({mode:"special",onEscape:C=>(Io.close(C),L.some(!0))}),Io.config({onOpen:y,onClose:_,isPartOf:(C,R,M)=>lm(R,M)||lm(o,M),getAttachPoint:()=>c.lazySink(o).getOrDie()}),Pr.config({channels:{...mh({isExtraPart:nn,...c.fireDismissalEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({})}),...qk({doReposition:()=>{Io.getState(Er.getCoupled(o,"toolbarSandbox")).each(C=>{az(o,C,c,i.layouts)})}})}})])}},Ny=Nr({name:"FloatingToolbarButton",factory:(o,i,c,m)=>({...Qs.sketch({...m.button(),action:y=>{MR(y,m)},buttonBehaviours:Au.augment({dump:m.button().buttonBehaviours},[Er.config({others:{toolbarSandbox:y=>BG(y,c,o)}})])}),apis:{setGroups:(y,_)=>{Io.getState(Er.getCoupled(y,"toolbarSandbox")).each(C=>{R6(y,C,o,c.layouts,_)})},reposition:y=>{Io.getState(Er.getCoupled(y,"toolbarSandbox")).each(_=>{az(y,_,o,c.layouts)})},toggle:y=>{MR(y,m)},toggleWithoutFocusing:y=>{DR(y,m)},getToolbar:y=>Io.getState(Er.getCoupled(y,"toolbarSandbox")),isOpen:y=>Io.isOpen(Er.getCoupled(y,"toolbarSandbox"))}}),configFields:LG(),partFields:Ef(),apis:{setGroups:(o,i,c)=>{o.setGroups(i,c)},reposition:(o,i)=>{o.reposition(i)},toggle:(o,i)=>{o.toggle(i)},toggleWithoutFocusing:(o,i)=>{o.toggleWithoutFocusing(i)},getToolbar:(o,i)=>o.getToolbar(i),isOpen:(o,i)=>o.isOpen(i)}}),FG=J([Ct("items"),mp(["itemSelector"]),Na("tgroupBehaviours",[Sn])]),$G=J([ym({name:"items",unit:"item"})]),I6=(o,i,c,m)=>({uid:o.uid,dom:o.dom,components:i,behaviours:na(o.tgroupBehaviours,[Sn.config({mode:"flow",selector:o.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),OS=Nr({name:"ToolbarGroup",configFields:FG(),partFields:$G(),factory:I6}),iz=o=>Ee(o,i=>Sl(i)),A6=(o,i,c)=>{P_(o,c,m=>{c.overflowGroups.set(m),i.getOpt(o).each(y=>{Ny.setGroups(y,iz(m))})})},O6=(o,i,c,m)=>{const y=es(Ny.sketch({fetch:()=>qi.nu(_=>{_(iz(o.overflowGroups.get()))}),layouts:{onLtr:()=>[ea,Ja],onRtl:()=>[Ja,ea],onBottomLtr:()=>[Xs,Gl],onBottomRtl:()=>[Gl,Xs]},getBounds:c.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:m["overflow-button"](),toolbar:m.overflow()},onToggled:(_,C)=>o[C?"onOpened":"onClosed"](_)}));return{uid:o.uid,dom:o.dom,components:i,behaviours:na(o.splitToolbarBehaviours,[Er.config({others:{overflowGroup:()=>OS.sketch({...m["overflow-group"](),items:[y.asSpec()]})}})]),apis:{setGroups:(_,C)=>{o.builtGroups.set(Ee(C,_.getSystem().build)),A6(_,y,o)},refresh:_=>A6(_,y,o),toggle:_=>{y.getOpt(_).each(C=>{Ny.toggle(C)})},toggleWithoutFocusing:_=>{y.getOpt(_).each(Ny.toggleWithoutFocusing)},isOpen:_=>y.getOpt(_).map(Ny.isOpen).getOr(!1),reposition:_=>{y.getOpt(_).each(C=>{Ny.reposition(C)})},getOverflow:_=>y.getOpt(_).bind(Ny.getToolbar)},domModification:{attributes:{role:"group"}}}},D6=Nr({name:"SplitFloatingToolbar",configFields:AR(),partFields:NG(),factory:O6,apis:{setGroups:(o,i,c)=>{o.setGroups(i,c)},refresh:(o,i)=>{o.refresh(i)},reposition:(o,i)=>{o.reposition(i)},toggle:(o,i)=>{o.toggle(i)},toggleWithoutFocusing:(o,i)=>{o.toggle(i)},isOpen:(o,i)=>o.isOpen(i),getOverflow:(o,i)=>o.getOverflow(i)}}),VG=J([mp(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Co("onOpened"),Co("onClosed")].concat(T6())),HG=J([La({factory:xh,schema:I_(),name:"primary"}),La({factory:xh,schema:I_(),name:"overflow",overrides:o=>({toolbarBehaviours:Lt([tu.config({dimension:{property:"height"},closedClass:o.markers.closedClass,openClass:o.markers.openClass,shrinkingClass:o.markers.shrinkingClass,growingClass:o.markers.growingClass,onShrunk:i=>{bs(i,o,"overflow-button").each(c=>{fo.off(c),zn.focus(c)}),o.onClosed(i)},onGrown:i=>{Sn.focusIn(i),o.onOpened(i)},onStartGrow:i=>{bs(i,o,"overflow-button").each(fo.on)}}),Sn.config({mode:"acyclic",onEscape:i=>(bs(i,o,"overflow-button").each(zn.focus),L.some(!0))})])})}),Ou({name:"overflow-button",overrides:o=>({buttonBehaviours:Lt([fo.config({toggleClass:o.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Ou({name:"overflow-group"})]),UG=(o,i)=>bs(o,i,"overflow").map(tu.hasGrown).getOr(!1),M6=(o,i)=>{bs(o,i,"overflow-button").bind(()=>bs(o,i,"overflow")).each(c=>{lz(o,i),tu.toggleGrow(c)})},lz=(o,i)=>{bs(o,i,"overflow").each(c=>{P_(o,i,m=>{const y=Ee(m,_=>Sl(_));xh.setGroups(c,y)}),bs(o,i,"overflow-button").each(m=>{tu.hasGrown(c)&&fo.on(m)}),tu.refresh(c)})},jG=(o,i,c,m)=>{const y="alloy.toolbar.toggle",_=(C,R)=>{const M=Ee(R,C.getSystem().build);o.builtGroups.set(M)};return{uid:o.uid,dom:o.dom,components:i,behaviours:na(o.splitToolbarBehaviours,[Er.config({others:{overflowGroup:C=>OS.sketch({...m["overflow-group"](),items:[Qs.sketch({...m["overflow-button"](),action:R=>{zo(C,y)}})]})}}),no("toolbar-toggle-events",[St(y,C=>{M6(C,o)})])]),apis:{setGroups:(C,R)=>{_(C,R),lz(C,o)},refresh:C=>lz(C,o),toggle:C=>M6(C,o),isOpen:C=>UG(C,o)},domModification:{attributes:{role:"group"}}}},cz=Nr({name:"SplitSlidingToolbar",configFields:VG(),partFields:HG(),factory:jG,apis:{setGroups:(o,i,c)=>{o.setGroups(i,c)},refresh:(o,i)=>{o.refresh(i)},toggle:(o,i)=>{o.toggle(i)},isOpen:(o,i)=>o.isOpen(i)}}),P6=o=>{const i=o.title.fold(()=>({}),c=>({attributes:{title:c}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...i},components:[OS.parts.items({})],items:o.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Lt([hr.config({}),zn.config({})])}},PR=o=>OS.sketch(P6(o)),z6=(o,i)=>{const c=sr(m=>{const y=Ee(o.initGroups,PR);xh.setGroups(m,y)});return Lt([Nu.toolbarButton(o.providers.isDisabled),Fa(),Sn.config({mode:i,onEscape:o.onEscape,selector:".tox-toolbar__group"}),no("toolbar-events",[c])])},N6=o=>{const i=o.cyclicKeying?"cyclic":"acyclic";return{uid:o.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":P6({title:L.none(),items:[]}),"overflow-button":a5({name:"more",icon:L.some("more-drawer"),enabled:!0,tooltip:L.some("More..."),primary:!1,buttonType:L.none(),borderless:!1},L.none(),o.providers)},splitToolbarBehaviours:z6(o,i)}},WG=o=>{const i=N6(o),c=4,m=D6.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return D6.sketch({...i,lazySink:o.getSink,getOverflowBounds:()=>{const y=o.moreDrawerData.lazyHeader().element,_=od(y),C=Lf(y),R=od(C),M=Math.max(C.dom.scrollHeight,R.height);return Ns(_.x+c,R.y,_.width-c*2,M)},parts:{...i.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}},components:[m],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:y=>o.onToggled(y,!0),onClosed:y=>o.onToggled(y,!1)})},L6=o=>{const i=cz.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),c=cz.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),m=N6(o);return cz.sketch({...m,components:[i,c],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:y=>{y.getSystem().broadcastOn([ZP()],{type:"opened"}),o.onToggled(y,!0)},onClosed:y=>{y.getSystem().broadcastOn([ZP()],{type:"closed"}),o.onToggled(y,!1)}})},Uv=o=>{const i=o.cyclicKeying?"cyclic":"acyclic";return xh.sketch({uid:o.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(o.type===zu.scrolling?["tox-toolbar--scrolling"]:[])},components:[xh.parts.groups({})],toolbarBehaviours:z6(o,i)})},zR=[Sy,_f,Sr("tooltip"),Vl("buttonType","secondary",["primary","secondary"]),ui("borderless",!1),mc("onAction")],ZG=[...zR,Hp,wu("type",["button"])],GG=[...zR,ui("active",!1),wu("type",["togglebutton"])],uz={button:ZG,togglebutton:GG},qG=[wu("type",["group"]),Rg("buttons",[],Vi("type",uz))],KG=Vi("type",{...uz,group:qG}),YG=mt([Rg("buttons",[],KG),mc("onShow"),mc("onHide")]),B6=o=>eo("view",YG,o),XG=(o,i)=>{var c,m;const y=o.type==="togglebutton",_=o.icon.map(pt=>Gp(pt,i.icons)).map(es),R=(()=>pt=>{const vt=Kt=>{_.map(vn=>vn.getOpt(pt).each(xo=>{Vn.set(xo,[Gp(Kt,i.icons)])}))},jt=Kt=>{const vn=pt.element;Kt?(Qr(vn,"tox-button--enabled"),Jn(vn,"aria-pressed",!0)):(Es(vn,"tox-button--enabled"),ge(vn,"aria-pressed"))},Rt=()=>xi(pt.element,"tox-button--enabled");if(y)return o.onAction({setIcon:vt,setActive:jt,isActive:Rt});if(o.type==="button")return o.onAction({setIcon:vt})})(),M={...o,name:y?o.text.getOr(o.icon.getOr("")):(c=o.text)!==null&&c!==void 0?c:o.icon.getOr(""),primary:o.buttonType==="primary",buttonType:L.from(o.buttonType),tooltip:o.tooltip,icon:o.icon,enabled:!0,borderless:o.borderless},N=_P((m=o.buttonType)!==null&&m!==void 0?m:"secondary"),V=y?o.text.map(i.translate):L.some(i.translate(o.text)),Z=V.map(Ks),K=M.tooltip.or(V).map(pt=>({"aria-label":i.translate(pt),title:i.translate(pt)})).getOr({}),Q=_.map(pt=>pt.asSpec()),ie=f_([Q,Z]),_e=o.icon.isSome()&&Z.isSome(),Ve={tag:"button",classes:N.concat(...o.icon.isSome()&&!_e?["tox-button--icon"]:[]).concat(..._e?["tox-button--icon-and-text"]:[]).concat(...o.borderless?["tox-button--naked"]:[]).concat(...o.type==="togglebutton"&&o.active?["tox-button--enabled"]:[]),attributes:K},De=[],Ie=fR(M,L.some(R),De,Ve,ie,i);return Qs.sketch(Ie)},F6=(o,i)=>XG(o,i),dz=(o,i)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ee(o.buttons,c=>F6(c,i))}),$6=ki().deviceType,JG=$6.isPhone(),V6=$6.isTablet(),QG=o=>{let i=!1;const c=Ee(o.buttons,m=>m.type==="group"?(i=!0,dz(m,o.providers)):F6(m,o.providers));return{uid:o.uid,dom:{tag:"div",classes:[i?"tox-view__toolbar":"tox-view__header",...JG||V6?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Lt([zn.config({}),Sn.config({mode:"flow",selector:"button, .tox-button",focusInside:my.OnEnterOrSpaceMode})]),components:i?c:[_h.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),_h.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:c})]}},H6=o=>({uid:o.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),eq=(o,i,c,m)=>{const y={getPane:_=>ti.getPart(_,o,"pane"),getOnShow:_=>o.viewConfig.onShow,getOnHide:_=>o.viewConfig.onHide};return{uid:o.uid,dom:o.dom,components:i,apis:y}};var jv=Nr({name:"silver.View",configFields:[Ct("viewConfig")],partFields:[wc({factory:{sketch:QG},schema:[Ct("buttons"),Ct("providers")],name:"header"}),wc({factory:{sketch:H6},schema:[],name:"pane"})],factory:eq,apis:{getPane:(o,i)=>o.getPane(i),getOnShow:(o,i)=>o.getOnShow(i),getOnHide:(o,i)=>o.getOnHide(i)}});const tq=(o,i,c)=>Oi(i,(m,y)=>{const _=Cl(B6(m));return o.slot(y,jv.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:_,components:[..._.buttons.length>0?[jv.parts.header({buttons:_.buttons,providers:c})]:[],jv.parts.pane({})]}))}),nq=(o,i)=>hi.sketch(c=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:tq(c,o,i),slotBehaviours:xy.unnamedEvents([sr(m=>hi.hideAllSlots(m))])})),U6=o=>Oe(hi.getSlotNames(o),i=>hi.isShowing(o,i)),j6=o=>{const i=o.element;un(i,"display","none"),Jn(i,"aria-hidden","true")},oq=o=>{const i=o.element;Ro(i,"display"),ge(i,"aria-hidden")},sq=o=>({getContainer:J(o)}),W6=(o,i,c)=>{hi.getSlot(o,i).each(m=>{jv.getPane(m).each(y=>{c(m)(sq(y.element.dom))})})},fz=(o,i)=>W6(o,i,jv.getOnShow),hz=(o,i)=>W6(o,i,jv.getOnHide);var NR=fr({factory:(o,i)=>{const _={setViews:(C,R)=>{Vn.set(C,[nq(R,i.backstage.shared.providers)])},whichView:C=>yo.getCurrent(C).bind(U6),toggleView:(C,R,M,N)=>yo.getCurrent(C).exists(V=>{const Z=U6(V),K=Z.exists(ie=>N===ie),Q=hi.getSlot(V,N).isSome();return Q&&(hi.hideAllSlots(V),K?(j6(C),R()):(M(),oq(C),hi.showSlot(V,N),fz(V,N)),Z.each(ie=>hz(V,ie))),Q})};return{uid:o.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Lt([Vn.config({}),yo.config({find:C=>{const R=Vn.contents(C);return zt(R)}})]),apis:_}},name:"silver.ViewWrapper",configFields:[Ct("backstage")],apis:{setViews:(o,i,c)=>o.setViews(i,c),toggleView:(o,i,c,m,y)=>o.toggleView(i,c,m,y),whichView:(o,i)=>o.whichView(i)}});const rq=(o,i,c)=>{let m=!1;const y={getSocket:_=>ti.getPart(_,o,"socket"),setSidebar:(_,C,R)=>{ti.getPart(_,o,"sidebar").each(M=>ez(M,C,R))},toggleSidebar:(_,C)=>{ti.getPart(_,o,"sidebar").each(R=>_G(R,C))},whichSidebar:_=>ti.getPart(_,o,"sidebar").bind(tz).getOrNull(),getHeader:_=>ti.getPart(_,o,"header"),getToolbar:_=>ti.getPart(_,o,"toolbar"),setToolbar:(_,C)=>{ti.getPart(_,o,"toolbar").each(R=>{const M=Ee(C,PR);R.getApis().setGroups(R,M)})},setToolbars:(_,C)=>{ti.getPart(_,o,"multiple-toolbar").each(R=>{const M=Ee(C,N=>Ee(N,PR));s6.setItems(R,M)})},refreshToolbar:_=>{ti.getPart(_,o,"toolbar").each(R=>R.getApis().refresh(R))},toggleToolbarDrawer:_=>{ti.getPart(_,o,"toolbar").each(C=>{fs(C.getApis().toggle,R=>R(C))})},toggleToolbarDrawerWithoutFocusing:_=>{ti.getPart(_,o,"toolbar").each(C=>{fs(C.getApis().toggleWithoutFocusing,R=>R(C))})},isToolbarDrawerToggled:_=>ti.getPart(_,o,"toolbar").bind(C=>L.from(C.getApis().isOpen).map(R=>R(C))).getOr(!1),getThrobber:_=>ti.getPart(_,o,"throbber"),focusToolbar:_=>{ti.getPart(_,o,"toolbar").orThunk(()=>ti.getPart(_,o,"multiple-toolbar")).each(R=>{Sn.focusIn(R)})},setMenubar:(_,C)=>{ti.getPart(_,o,"menubar").each(R=>{D_.setMenus(R,C)})},focusMenubar:_=>{ti.getPart(_,o,"menubar").each(C=>{D_.focus(C)})},setViews:(_,C)=>{ti.getPart(_,o,"viewWrapper").each(R=>{NR.setViews(R,C)})},toggleView:(_,C)=>ti.getPart(_,o,"viewWrapper").exists(R=>NR.toggleView(R,()=>y.showMainView(_),()=>y.hideMainView(_),C)),whichView:_=>ti.getPart(_,o,"viewWrapper").bind(NR.whichView).getOrNull(),hideMainView:_=>{m=y.isToolbarDrawerToggled(_),m&&y.toggleToolbarDrawer(_),ti.getPart(_,o,"editorContainer").each(C=>{const R=C.element;un(R,"display","none"),Jn(R,"aria-hidden","true")})},showMainView:_=>{m&&y.toggleToolbarDrawer(_),ti.getPart(_,o,"editorContainer").each(C=>{const R=C.element;Ro(R,"display"),ge(R,"aria-hidden")}),y.refreshToolbar(_)}};return{uid:o.uid,dom:o.dom,components:i,apis:y,behaviours:o.behaviours}},aq=Im.optional({factory:D_,name:"menubar",schema:[Ct("backstage")]}),iq=o=>o.type===zu.sliding?L6:o.type===zu.floating?WG:Uv,lq=Im.optional({factory:{sketch:o=>s6.sketch({uid:o.uid,dom:o.dom,listBehaviours:Lt([Sn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Uv({type:o.type,uid:dn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:o.providers,onEscape:()=>(o.onEscape(),L.some(!0))}),setupItem:(i,c,m,y)=>{xh.setGroups(c,m)},shell:!0})},name:"multiple-toolbar",schema:[Ct("dom"),Ct("onEscape")]}),cq=Im.optional({factory:{sketch:o=>{const i=iq(o),c={type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),L.some(!0)),onToggled:(m,y)=>o.onToolbarToggled(y),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes};return i(c)}},name:"toolbar",schema:[Ct("dom"),Ct("onEscape"),Ct("getSink")]}),uq=Im.optional({factory:{sketch:uG},name:"header",schema:[Ct("dom")]}),Z6=Im.optional({factory:{sketch:mG},name:"promotion",schema:[Ct("dom")]}),LR=Im.optional({name:"socket",schema:[Ct("dom")]}),mz=Im.optional({factory:{sketch:kG},name:"sidebar",schema:[Ct("dom")]}),G6=Im.optional({factory:{sketch:S6},name:"throbber",schema:[Ct("dom")]}),Ly=Im.optional({factory:NR,name:"viewWrapper",schema:[Ct("backstage")]}),q6=o=>({uid:o.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:o.components}),dq=Im.optional({factory:{sketch:q6},name:"editorContainer",schema:[]});var Is=Nr({name:"OuterContainer",factory:rq,configFields:[Ct("dom"),Ct("behaviours")],partFields:[uq,aq,cq,lq,LR,mz,Z6,G6,Ly,dq],apis:{getSocket:(o,i)=>o.getSocket(i),setSidebar:(o,i,c,m)=>{o.setSidebar(i,c,m)},toggleSidebar:(o,i,c)=>{o.toggleSidebar(i,c)},whichSidebar:(o,i)=>o.whichSidebar(i),getHeader:(o,i)=>o.getHeader(i),getToolbar:(o,i)=>o.getToolbar(i),setToolbar:(o,i,c)=>{o.setToolbar(i,c)},setToolbars:(o,i,c)=>{o.setToolbars(i,c)},refreshToolbar:(o,i)=>o.refreshToolbar(i),toggleToolbarDrawer:(o,i)=>{o.toggleToolbarDrawer(i)},toggleToolbarDrawerWithoutFocusing:(o,i)=>{o.toggleToolbarDrawerWithoutFocusing(i)},isToolbarDrawerToggled:(o,i)=>o.isToolbarDrawerToggled(i),getThrobber:(o,i)=>o.getThrobber(i),setMenubar:(o,i,c)=>{o.setMenubar(i,c)},focusMenubar:(o,i)=>{o.focusMenubar(i)},focusToolbar:(o,i)=>{o.focusToolbar(i)},setViews:(o,i,c)=>{o.setViews(i,c)},toggleView:(o,i,c)=>o.toggleView(i,c),whichView:(o,i)=>o.whichView(i)}});const fq="file edit view insert format tools table help",K6={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},hq=(o,i,c)=>{const m=NL(c).split(/[ ,]/);return{text:o.title,getItems:()=>ce(o.items,y=>{const _=y.toLowerCase();return _.trim().length===0?[]:io(m,C=>C===_)?[]:_==="separator"||_==="|"?[{type:"separator"}]:i.menuItems[_]?[i.menuItems[_]]:[]})}},pz=o=>o.split(" "),Y6=(o,i)=>{const c={...K6,...i.menus},m=_n(i.menus).length>0,y=i.menubar===void 0||i.menubar===!0?pz(fq):pz(i.menubar===!1?"":i.menubar),_=Je(y,R=>{const M=Mo(K6,R);return m?M||Gt(i.menus,R).exists(N=>Mo(N,"items")):M}),C=Ee(_,R=>{const M=c[R];return hq({title:M.title,items:pz(M.items)},i,o)});return Je(C,R=>{const M=N=>x(N)||N.type!=="separator";return R.getItems().length>0&&io(R.getItems(),M)})},gz=o=>{const i=()=>{o._skinLoaded=!0,QD(o)};return()=>{o.initialized?i():o.on("init",i)}},mq=(o,i)=>()=>A9(o,{message:i}),X6=(o,i,c)=>(o.on("remove",()=>c.unload(i)),c.load(i)),yz=(o,i)=>{const c=i+"/skin.min.css";return X6(o,c,o.ui.styleSheetLoader)},pq=(o,i)=>{if(zc(Le.fromDom(o.getElement()))){const m=i+"/skin.shadowdom.min.css";return X6(o,m,Bp.DOM.styleSheetLoader)}else return Promise.resolve()},J6=(o,i)=>{const c=YL(i);return c&&i.contentCSS.push(c+(o?"/content.inline":"/content")+".min.css"),!Fp(i)&&x(c)?Promise.all([yz(i,c),pq(i,c)]).then(gz(i),mq(i,"Skin could not be loaded")):Promise.resolve(gz(i)())},gq=_t(J6,!1),yq=_t(J6,!0),BR=(o,i)=>c=>{const m=gd(),y=()=>{c.setActive(o.formatter.match(i));const _=o.formatter.formatChanged(i,c.setActive);m.set(_)};return o.initialized?y():o.once("init",y),()=>{o.off("init",y),m.clear()}},DS=(o,i,c)=>m=>{const y=()=>c(m),_=()=>{c(m),o.on(i,y)};return o.initialized?_():o.once("init",_),()=>{o.off("init",_),o.off(i,y)}},bz=o=>i=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("mceToggleFormat",!1,i.format)})},Vu=(o,i)=>()=>o.execCommand(i),Q6=(o,i,c)=>{const m=(R,M,N,V)=>{const Z=i.shared.providers.translate(R.title);if(R.type==="separator")return L.some({type:"separator",text:Z});if(R.type==="submenu"){const K=ce(R.getStyleItems(),Q=>y(Q,M,V));return M===0&&K.length<=0?L.none():L.some({type:"nestedmenuitem",text:Z,enabled:K.length>0,getSubmenuItems:()=>ce(R.getStyleItems(),Q=>y(Q,M,V))})}else return L.some({type:"togglemenuitem",text:Z,icon:R.icon,active:R.isSelected(V),enabled:!N,onAction:c.onAction(R),...R.getStylePreview().fold(()=>({}),K=>({meta:{style:K}}))})},y=(R,M,N)=>{const V=R.type==="formatter"&&c.isInvalid(R);return M===0?V?[]:m(R,M,!1,N).toArray():m(R,M,V,N).toArray()},_=R=>{const M=c.getCurrentValue(),N=c.shouldHide?0:1;return ce(R,V=>y(V,N,M))};return{validateItems:_,getFetch:(R,M)=>(N,V)=>{const Z=M(),K=_(Z),Q=Em(K,xd.CLOSE_ON_EXECUTE,R,{isHorizontalMenu:!1,search:L.none()});V(Q)}}},N_=(o,i,c)=>{const m=c.dataset,y=m.type==="basic"?()=>Ee(m.data,_=>N5(_,c.isSelectedFor,c.getPreviewFor)):m.getData;return{items:Q6(o,i,c),getStyleItems:y}},L_=(o,i,c)=>{const{items:m,getStyleItems:y}=N_(o,i,c),_=R=>({getComponent:J(R)}),C=DS(o,"NodeChange",R=>{const M=R.getComponent();c.updateText(M)});return sP({text:c.icon.isSome()?L.none():c.text,icon:c.icon,tooltip:L.from(c.tooltip),role:L.none(),fetch:m.getFetch(i,y),onSetup:C,getApi:_,columns:1,presets:"normal",classes:c.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",i.shared)},bq=o=>Ee(o,i=>{let c=i,m=i;const y=i.split("=");return y.length>1&&(c=y[0],m=y[1]),{title:c,format:m}}),vq=o=>({type:"basic",data:o});var B_;(function(o){o[o.SemiColon=0]="SemiColon",o[o.Space=1]="Space"})(B_||(B_={}));const e$=(o,i)=>i===B_.SemiColon?o.replace(/;$/,"").split(";"):o.split(" "),vz=(o,i,c)=>{const m=o.options.get(i);return{type:"basic",data:bq(e$(m,c))}},FR=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],t$=o=>{const i=()=>Oe(FR,R=>o.formatter.match(R.format)),c=R=>()=>o.formatter.match(R),m=R=>L.none,y=R=>{const N=i().fold(J("left"),V=>V.title.toLowerCase());xn(R,Hv,{icon:`align-${N}`})},_=vq(FR),C=R=>()=>Oe(FR,M=>M.format===R.format).each(M=>o.execCommand(M.command));return{tooltip:"Align",text:L.none(),icon:L.some("align-left"),isSelectedFor:c,getCurrentValue:L.none,getPreviewFor:m,onAction:C,updateText:y,dataset:_,shouldHide:!1,isInvalid:R=>!o.formatter.canApply(R.format)}},wq=(o,i)=>L_(o,i,t$(o)),_q=(o,i)=>{const c=N_(o,i,t$(o));o.ui.registry.addNestedMenuItem("align",{text:i.shared.providers.translate("Align"),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},n$=(o,i)=>{const c=i(),m=Ee(c,y=>y.format);return L.from(o.formatter.closest(m)).bind(y=>Oe(c,_=>_.format===y)).orThunk(()=>Fn(o.formatter.match("p"),{title:"Paragraph",format:"p"}))},o$=o=>{const i="Paragraph",c=C=>()=>o.formatter.match(C),m=C=>()=>{const R=o.formatter.get(C);return R?L.some({tag:R.length>0&&(R[0].inline||R[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(C))}):L.none()},y=C=>{const M=n$(o,()=>_.data).fold(J(i),N=>N.title);xn(C,Od,{text:M})},_=vz(o,"block_formats",B_.SemiColon);return{tooltip:"Blocks",text:L.some(i),icon:L.none(),isSelectedFor:c,getCurrentValue:L.none,getPreviewFor:m,onAction:bz(o),updateText:y,dataset:_,shouldHide:!1,isInvalid:C=>!o.formatter.canApply(C.format)}},kq=(o,i)=>L_(o,i,o$(o)),s$=(o,i)=>{const c=N_(o,i,o$(o));o.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},Cq=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],r$=o=>{const i=o.split(/\s*,\s*/);return Ee(i,c=>c.replace(/^['"]+|['"]+$/g,""))},Sq=o=>{const i=()=>{const c=r$(o.toLowerCase());return Fe(Cq,m=>c.indexOf(m.toLowerCase())>-1)};return o.indexOf("-apple-system")===0&&i()},a$=o=>{const i="System Font",c=()=>{const N=ie=>ie?r$(ie)[0]:"",V=o.queryCommandValue("FontName"),Z=M.data,K=V?V.toLowerCase():"";return{matchOpt:Oe(Z,ie=>{const _e=ie.format;return _e.toLowerCase()===K||N(_e).toLowerCase()===N(K).toLowerCase()}).orThunk(()=>Fn(Sq(K),{title:i,format:K})),font:V}},m=N=>V=>V.exists(Z=>Z.format===N),y=()=>{const{matchOpt:N}=c();return N},_=N=>()=>L.some({tag:"div",styles:N.indexOf("dings")===-1?{"font-family":N}:{}}),C=N=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontName",!1,N.format)})},R=N=>{const{matchOpt:V,font:Z}=c(),K=V.fold(J(Z),Q=>Q.title);xn(N,Od,{text:K})},M=vz(o,"font_family_formats",B_.SemiColon);return{tooltip:"Fonts",text:L.some(i),icon:L.none(),isSelectedFor:m,getCurrentValue:y,getPreviewFor:_,onAction:C,updateText:R,dataset:M,shouldHide:!1,isInvalid:nn}},xq=(o,i)=>L_(o,i,a$(o)),Eq=(o,i)=>{const c=N_(o,i,a$(o));o.ui.registry.addNestedMenuItem("fontfamily",{text:i.shared.providers.translate("Fonts"),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},Tq={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},i$=(()=>{const o="[0-9]+",c="[eE]"+("[+-]?"+o),m="\\.",y=R=>`(?:${R})?`,C=`[+-]?(?:${["Infinity",o+m+y(o)+y(c),m+o+y(c),o+y(c)].join("|")})`;return new RegExp(`^(${C})(.*)$`)})(),Rq=(o,i)=>io(i,c=>io(Tq[c],m=>o===m)),$R=(o,i)=>L.from(i$.exec(o)).bind(m=>{const y=Number(m[1]),_=m[2];return Rq(_,i)?L.some({value:y,unit:_}):L.none()}),l$=(o,i)=>$R(o,i).map(({value:c,unit:m})=>c+m),c$={tab:J(9),escape:J(27),enter:J(13),backspace:J(8),delete:J(46),left:J(37),up:J(38),right:J(39),down:J(40),space:J(32),home:J(36),end:J(35),pageUp:J(33),pageDown:J(34)},u$=(o,i,c)=>{let m=L.none();const y=Ie=>Ie.map(pt=>tn.getValue(pt)).getOr(""),_=DS(o,"NodeChange",Ie=>{const pt=Ie.getComponent();m=L.some(pt),c.updateInputValue(pt)}),C=Ie=>({getComponent:J(Ie)}),R=D(ee),M=dn("custom-number-input-events"),N=(Ie,pt,vt)=>{const jt=y(m),Rt=c.getNewValue(jt,Ie),Kt=jt.length-`${Rt}`.length,vn=m.map(wn=>wn.element.dom.selectionStart-Kt),xo=m.map(wn=>wn.element.dom.selectionEnd-Kt);c.onAction(Rt,vt),m.each(wn=>{tn.setValue(wn,Rt),pt&&(vn.each(bo=>wn.element.dom.selectionStart=bo),xo.each(bo=>wn.element.dom.selectionEnd=bo))})},V=(Ie,pt)=>N((vt,jt)=>vt-jt,Ie,pt),Z=(Ie,pt)=>N((vt,jt)=>vt+jt,Ie,pt),K=Ie=>Ml(Ie.element).fold(L.none,pt=>(xu(pt),L.some(!0))),Q=Ie=>Fb(Ie.element)?(Bf(Ie.element).each(pt=>xu(pt)),L.some(!0)):L.none(),ie=(Ie,pt,vt,jt)=>{const Rt=i.shared.providers.translate(vt),Kt=dn("altExecuting"),vn=()=>Ie(!0);return Qs.sketch({dom:{tag:"button",attributes:{title:Rt,"aria-label":Rt},classes:jt.concat(pt)},components:[Vv(pt,i.shared.providers.icons)],buttonBehaviours:Lt([no(Kt,[St(jl(),(xo,wn)=>{(wn.event.raw.keyCode===c$.space()||wn.event.raw.keyCode===c$.enter())&&Ie(!1)}),St(jc(),vn),St(gs(),vn)])]),eventOrder:{[jl()]:[Kt,"keying"],[jc()]:[Kt,"alloy.base.behaviour"],[gs()]:[Kt,"alloy.base.behaviour"]}})},_e=es(ie(Ie=>V(!1,Ie),"minus","Decrease font size",["highlight-on-focus"])),Ve=es(ie(Ie=>Z(!1,Ie),"plus","Increase font size",["highlight-on-focus"])),De=es({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Sv.sketch({inputBehaviours:Lt([no(M,[Av({onSetup:_,getApi:C},R),Ov({getApi:C},R)]),no("input-update-display-text",[St(Od,(Ie,pt)=>{tn.setValue(Ie,pt.event.text)}),St(F1(),Ie=>{c.onAction(tn.getValue(Ie))}),St(Cu(),Ie=>{c.onAction(tn.getValue(Ie))})]),Sn.config({mode:"special",onEnter:Ie=>(N(Te,!0,!0),L.some(!0)),onEscape:K,onUp:Ie=>(Z(!0,!1),L.some(!0)),onDown:Ie=>(V(!0,!1),L.some(!0)),onLeft:(Ie,pt)=>(pt.cut(),L.none()),onRight:(Ie,pt)=>(pt.cut(),L.none())})])})],behaviours:Lt([zn.config({}),Sn.config({mode:"special",onEnter:Q,onSpace:Q,onEscape:K}),no("input-wrapper-events",[St(pc(),Ie=>{me([_e,Ve],pt=>{const vt=Le.fromDom(pt.get(Ie).element.dom);Fb(vt)&&Ck(vt)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[_e.asSpec(),De.asSpec(),Ve.asSpec()],behaviours:Lt([zn.config({}),Sn.config({mode:"flow",focusInside:my.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Ie=>Fb(Ie.element)?L.none():(xu(Ie.element),L.some(!0))})])}},d$={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},Iq={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},Aq=(o,i)=>{const c=Math.pow(10,i);return Math.round(o*c)/c},Oq=(o,i)=>/[0-9.]+px$/.test(o)?Aq(parseInt(o,10)*72/96,i||0)+"pt":Gt(Iq,o).getOr(o),F_=o=>Gt(d$,o).getOr(""),f$=o=>{const i=()=>{let M=L.none();const N=R.data,V=o.queryCommandValue("FontSize");if(V)for(let Z=3;M.isNone()&&Z>=0;Z--){const K=Oq(V,Z),Q=F_(K);M=Oe(N,ie=>ie.format===V||ie.format===K||ie.format===Q)}return{matchOpt:M,size:V}},c=M=>N=>N.exists(V=>V.format===M),m=()=>{const{matchOpt:M}=i();return M},y=J(L.none),_=M=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontSize",!1,M.format)})},C=M=>{const{matchOpt:N,size:V}=i(),Z=N.fold(J(V),K=>K.title);xn(M,Od,{text:Z})},R=vz(o,"font_size_formats",B_.Space);return{tooltip:"Font sizes",text:L.some("12pt"),icon:L.none(),isSelectedFor:c,getPreviewFor:y,getCurrentValue:m,onAction:_,updateText:C,dataset:R,shouldHide:!1,isInvalid:nn}},Dq=(o,i)=>L_(o,i,f$(o)),Mq=o=>{var i;const c={step:1};return(i={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[o])!==null&&i!==void 0?i:c},Pq=16,zq=o=>o>=0,Nq=o=>{const i=()=>o.queryCommandValue("FontSize");return{updateInputValue:m=>xn(m,Od,{text:i()}),onAction:(m,y)=>o.execCommand("FontSize",!1,m,{skip_focus:!y}),getNewValue:(m,y)=>{$R(m,["unsupportedLength","empty"]);const _=$R(m,["unsupportedLength","empty"]).or($R(i(),["unsupportedLength","empty"])),C=_.map(V=>V.value).getOr(Pq),R=eT(o),M=_.map(V=>V.unit).filter(V=>V!=="").getOr(R),N=y(C,Mq(M).step);return`${zq(N)?N:C}${M}`}}},Lq=(o,i)=>u$(o,i,Nq(o)),Bq=(o,i)=>{const c=N_(o,i,f$(o));o.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},VR=(o,i)=>{const c="Paragraph",m=C=>()=>o.formatter.match(C),y=C=>()=>{const R=o.formatter.get(C);return R!==void 0?L.some({tag:R.length>0&&(R[0].inline||R[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(C))}):L.none()},_=C=>{const R=Z=>R5(Z)?ce(Z.items,R):RP(Z)?[{title:Z.title,format:Z.format}]:[],M=ce(P5(o),R),V=n$(o,J(M)).fold(J(c),Z=>Z.title);xn(C,Od,{text:V})};return{tooltip:"Formats",text:L.some(c),icon:L.none(),isSelectedFor:m,getCurrentValue:L.none,getPreviewFor:y,onAction:bz(o),updateText:_,shouldHide:mD(o),isInvalid:C=>!o.formatter.canApply(C.format),dataset:i}},Fq=(o,i)=>{const c={type:"advanced",...i.styles};return L_(o,i,VR(o,c))},$q=(o,i)=>{const c={type:"advanced",...i.styles},m=N_(o,i,VR(o,c));o.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:()=>m.items.validateItems(m.getStyleItems())})},h$=J([Ct("toggleClass"),Ct("fetch"),pp("onExecute"),Be("getHotspot",L.some),Be("getAnchorOverrides",J({})),yd(),pp("onItemExecute"),Wo("lazySink"),Ct("dom"),Co("onOpen"),Na("splitDropdownBehaviours",[Er,Sn,zn]),Be("matchWidth",!1),Be("useMinWidth",!1),Be("eventOrder",{}),Wo("role")].concat(wM())),m$=La({factory:Qs,schema:[Ct("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Lt([zn.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:i=>{i.getSystem().getByUid(o.uid).each(af)},buttonBehaviours:Lt([fo.config({toggleOnExecute:!1,toggleClass:o.toggleClass})])})}),Vq=La({factory:Qs,schema:[Ct("dom")],name:"button",defaults:()=>({buttonBehaviours:Lt([zn.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:i=>{i.getSystem().getByUid(o.uid).each(c=>{o.onExecute(c,i)})}})}),Hq=J([m$,Vq,wc({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[Ct("text")],name:"aria-descriptor"}),Ou({schema:[hf()],name:"menu",defaults:o=>({onExecute:(i,c)=>{i.getSystem().getByUid(o.uid).each(m=>{o.onItemExecute(m,i,c)})}})}),xB()]),Uq=(o,i,c,m)=>{const y=V=>{yo.getCurrent(V).each(Z=>{No.highlightFirst(Z),Sn.focusIn(Z)})},_=V=>{vM(o,Te,V,m,y,Jl.HighlightMenuAndItem).get(ee)},C=V=>(_(V),L.some(!0)),R=V=>{const Z=_d(V,o,"button");return af(Z),L.some(!0)},M={...xs([sr((V,Z)=>{bs(V,o,"aria-descriptor").each(Q=>{const ie=dn("aria");Jn(Q.element,"id",ie),Jn(V.element,"aria-describedby",ie)})})]),...U2(L.some(_))},N={repositionMenus:V=>{fo.isOn(V)&&TB(V)}};return{uid:o.uid,dom:o.dom,components:i,apis:N,eventOrder:{...o.eventOrder,[Wi()]:["disabling","toggling","alloy.base.behaviour"]},events:M,behaviours:na(o.splitDropdownBehaviours,[Er.config({others:{sandbox:V=>{const Z=_d(V,o,"arrow");return LT(o,V,{onOpen:()=>{fo.on(Z),fo.on(V)},onClose:()=>{fo.off(Z),fo.off(V)}})}}}),Sn.config({mode:"special",onSpace:R,onEnter:R,onDown:C}),zn.config({}),fo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:o.role.getOr("button"),"aria-haspopup":!0}}}},HR=Nr({name:"SplitDropdown",configFields:h$(),partFields:Hq(),factory:Uq,apis:{repositionMenus:(o,i)=>o.repositionMenus(i)}}),p$=o=>({isEnabled:()=>!In.isDisabled(o),setEnabled:i=>In.set(o,!i),setText:i=>xn(o,Od,{text:i}),setIcon:i=>xn(o,Hv,{icon:i})}),jq=o=>({setActive:i=>{fo.set(o,i)},isActive:()=>fo.isOn(o),isEnabled:()=>!In.isDisabled(o),setEnabled:i=>In.set(o,!i),setText:i=>xn(o,Od,{text:i}),setIcon:i=>xn(o,Hv,{icon:i})}),g$=(o,i)=>o.map(c=>({"aria-label":i.translate(c),title:i.translate(c)})).getOr({}),y$=dn("focus-button"),UR=(o,i,c,m,y)=>{const _=i.map(R=>es(oP(R,"tox-tbtn",y))),C=o.map(R=>es(Gp(R,y.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(i.isSome()?["tox-tbtn--select"]:[]),attributes:g$(c,y)},components:f_([C.map(R=>R.asSpec()),_.map(R=>R.asSpec())]),eventOrder:{[cs()]:["focusing","alloy.base.behaviour",My],[rf()]:[My,"toolbar-group-button-events"]},buttonBehaviours:Lt([Nu.toolbarButton(y.isDisabled),Fa(),no(My,[sr((R,M)=>x_(R)),St(Od,(R,M)=>{_.bind(N=>N.getOpt(R)).each(N=>{Vn.set(N,[Ks(y.translate(M.event.text))])})}),St(Hv,(R,M)=>{C.bind(N=>N.getOpt(R)).each(N=>{Vn.set(N,[Gp(M.event.icon,y.icons)])})}),St(cs(),(R,M)=>{M.event.prevent(),zo(R,y$)})])].concat(m.getOr([])))}},Wq=(o,i,c,m)=>{const y=i.shared,_=D(ee),C={toolbarButtonBehaviours:[],getApi:p$,onSetup:o.onSetup},R=[no("toolbar-group-button-events",[Av(C,_),Ov(C,_)])];return Ny.sketch({lazySink:y.getSink,fetch:()=>qi.nu(M=>{M(Ee(c(o.items),PR))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:UR(o.icon,o.text,o.tooltip,L.some(R),y.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:m}}}})},jR=(o,i,c)=>{var m;const y=D(ee),_=UR(o.icon,o.text,o.tooltip,L.none(),c);return Qs.sketch({dom:_.dom,components:_.components,eventOrder:oR,buttonBehaviours:{...Lt([no("toolbar-button-events",[DF({onAction:o.onAction,getApi:i.getApi}),Av(i,y),Ov(i,y)]),Nu.toolbarButton(()=>!o.enabled||c.isDisabled()),Fa()].concat(i.toolbarButtonBehaviours)),[My]:(m=_.buttonBehaviours)===null||m===void 0?void 0:m[My]}})},Zq=(o,i)=>b$(o,i,[]),b$=(o,i,c)=>jR(o,{toolbarButtonBehaviours:c.length>0?[no("toolbarButtonWith",c)]:[],getApi:p$,onSetup:o.onSetup},i),Gq=(o,i)=>wz(o,i,[]),wz=(o,i,c)=>jR(o,{toolbarButtonBehaviours:[Vn.config({}),fo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(c.length>0?[no("toolbarToggleButtonWith",c)]:[]),getApi:jq,onSetup:o.onSetup},i),WR=(o,i,c)=>m=>qi.nu(y=>i.fetch(y)).map(y=>L.from($T(hs(XC(dn("menu-value"),y,_=>{i.onItemAction(o(m),_)},i.columns,i.presets,xd.CLOSE_ON_EXECUTE,i.select.getOr(nn),c),{movement:DT(i.columns,i.presets),menuBehaviours:xy.unnamedEvents(i.columns!=="auto"?[]:[sr((_,C)=>{UD(_,4,o3(i.presets)).each(({numRows:R,numColumns:M})=>{Sn.setGridSize(_,R,M)})})])})))),qq=(o,i)=>{const c=_=>({isEnabled:()=>!In.isDisabled(_),setEnabled:C=>In.set(_,!C),setIconFill:(C,R)=>{Ys(_.element,`svg path[id="${C}"], rect[id="${C}"]`).each(M=>{Jn(M,"fill",R)})},setActive:C=>{Jn(_.element,"aria-pressed",C),Ys(_.element,"span").each(R=>{_.getSystem().getByDom(R).each(M=>fo.set(M,C))})},isActive:()=>Ys(_.element,"span").exists(C=>_.getSystem().getByDom(C).exists(fo.isOn)),setText:C=>Ys(_.element,"span").each(R=>_.getSystem().getByDom(R).each(M=>xn(M,Od,{text:C}))),setIcon:C=>Ys(_.element,"span").each(R=>_.getSystem().getByDom(R).each(M=>xn(M,Hv,{icon:C})))}),m=D(ee),y={getApi:c,onSetup:o.onSetup};return HR.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...g$(o.tooltip,i.providers)}},onExecute:_=>{const C=c(_);C.isEnabled()&&o.onAction(C)},onItemExecute:(_,C,R)=>{},splitDropdownBehaviours:Lt([Nu.splitButton(i.providers.isDisabled),Fa(),no("split-dropdown-events",[sr((_,C)=>x_(_)),St(y$,zn.focus),Av(y,m),Ov(y,m)]),g_.config({})]),eventOrder:{[rf()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:i.getSink,fetch:WR(c,o,i.providers),parts:{menu:fT(!1,o.columns,o.presets)},components:[HR.parts.button(UR(o.icon,o.text,L.none(),L.some([fo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),i.providers)),HR.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:OL("chevron-down",i.providers.icons)},buttonBehaviours:Lt([Nu.splitButton(i.providers.isDisabled),Fa(),cD()])}),HR.parts["aria-descriptor"]({text:i.providers.translate("To open the popup, press Shift+Enter")})]})},ZR=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],By=(o,i)=>(c,m,y)=>{const _=o(c).mapError(C=>rl(C)).getOrDie();return i(_,m,y)},v$={button:By(PD,(o,i)=>Zq(o,i.shared.providers)),togglebutton:By(ND,(o,i)=>Gq(o,i.shared.providers)),menubutton:By(v6,(o,i)=>hS(o,"tox-tbtn",i,L.none(),!1)),splitbutton:By(fG,(o,i)=>qq(o,i.shared)),grouptoolbarbutton:By(KP,(o,i,c)=>{const m=c.ui.registry.getAll().buttons,y=C=>MS(c,{buttons:m,toolbar:C,allowToolbarGroups:!1},i,L.none()),_={[ww]:i.shared.header.isPositionedAtTop()?gf.TopToBottom:gf.BottomToTop};switch(vy(c)){case zu.floating:return Wq(o,i,y,_);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},Kq=(o,i,c)=>Gt(v$,o.type).fold(()=>(console.error("skipping button defined by",o),L.none()),m=>L.some(m(o,i,c))),w$={styles:Fq,fontsize:Dq,fontsizeinput:Lq,fontfamily:xq,blocks:kq,align:wq},Yq=o=>{const i=Ee(ZR,c=>{const m=Je(c.items,y=>Mo(o,y)||Mo(w$,y));return{name:c.name,items:m}});return Je(i,c=>c.items.length>0)},Xq=o=>{const i=o.split("|");return Ee(i,c=>({items:c.trim().split(" ")}))},Jq=o=>gt(o,i=>Mo(i,"name")&&Mo(i,"items")),Qq=o=>{const i=o.toolbar,c=o.buttons;return i===!1?[]:i===void 0||i===!0?Yq(c):x(i)?Xq(i):Jq(i)?i:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},GR=(o,i,c,m,y,_)=>Gt(i,c.toLowerCase()).orThunk(()=>_.bind(C=>an(C,R=>Gt(i,R+c.toLowerCase())))).fold(()=>Gt(w$,c.toLowerCase()).map(C=>C(o,y)),C=>C.type==="grouptoolbarbutton"&&!m?(console.warn(`Ignoring the '${c}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),L.none()):Kq(C,y,o)),MS=(o,i,c,m)=>{const y=Qq(i),_=Ee(y,C=>{const R=ce(C.items,M=>M.trim().length===0?[]:GR(o,i.buttons,M,i.allowToolbarGroups,c,m).toArray());return{title:L.from(o.translate(C.name)),items:R}});return Je(_,C=>C.items.length>0)},_z=(o,i,c,m)=>{const y=i.mainUi.outerContainer,_=c.toolbar,C=c.buttons;if(gt(_,x)){const R=_.map(M=>{const N={toolbar:M,buttons:C,allowToolbarGroups:c.allowToolbarGroups};return MS(o,N,m,L.none())});Is.setToolbars(y,R)}else Is.setToolbar(y,MS(o,c,m,L.none()))},kz=ki(),_$=kz.os.isiOS()&&kz.os.version.major<=12,eK=(o,i)=>{const{uiMotherships:c}=i,m=o.dom;let y=o.getWin();const _=o.getDoc().documentElement,C=D(qs(y.innerWidth,y.innerHeight)),R=D(qs(_.offsetWidth,_.offsetHeight)),M=()=>{const K=C.get();(K.left!==y.innerWidth||K.top!==y.innerHeight)&&(C.set(qs(y.innerWidth,y.innerHeight)),IT(o))},N=()=>{const K=o.getDoc().documentElement,Q=R.get();(Q.left!==K.offsetWidth||Q.top!==K.offsetHeight)&&(R.set(qs(K.offsetWidth,K.offsetHeight)),IT(o))},V=K=>{eM(o,K)};m.bind(y,"resize",M),m.bind(y,"scroll",V);const Z=Ek(Le.fromDom(o.getBody()),"load",N);o.on("hide",()=>{me(c,K=>{un(K.element,"display","none")})}),o.on("show",()=>{me(c,K=>{Ro(K.element,"display")})}),o.on("NodeChange",N),o.on("remove",()=>{Z.unbind(),m.unbind(y,"resize",M),m.unbind(y,"scroll",V),y=null})},k$=(o,i,c)=>{wf(o)&&Rp(c.mainUi.mothership.element,c.popupUi.mothership),zw(i,c.dialogUi.mothership)};var tK=Object.freeze({__proto__:null,render:async(o,i,c,m,y)=>{const{mainUi:_,uiMotherships:C}=i,R=D(0),M=_.outerContainer;await gq(o);const N=Le.fromDom(y.targetNode),V=Za($r(N));Rp(N,_.mothership),k$(o,V,i),o.on("PostRender",()=>{Is.setSidebar(M,c.sidebar,KL(o)),_z(o,i,c,m),R.set(o.getWin().innerWidth),Is.setMenubar(M,Y6(o,c)),Is.setViews(M,c.views),eK(o,i)});const Z=Is.getSocket(M).getOrDie("Could not find expected socket element");if(_$){Ir(Z.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const _e=UW(()=>{o.dispatch("ScrollContent")},20),Ve=Gi(Z.element,"scroll",_e.throttle);o.on("remove",Ve.unbind)}F3(o,i),o.addCommand("ToggleSidebar",(_e,Ve)=>{Is.toggleSidebar(M,Ve),o.dispatch("ToggleSidebar")}),o.addQueryValueHandler("ToggleSidebar",()=>{var _e;return(_e=Is.whichSidebar(M))!==null&&_e!==void 0?_e:""}),o.addCommand("ToggleView",(_e,Ve)=>{if(Is.toggleView(M,Ve)){const De=M.element;_.mothership.broadcastOn([hh()],{target:De}),me(C,Ie=>{Ie.broadcastOn([hh()],{target:De})}),B(Is.whichView(M))&&(o.focus(),o.nodeChanged())}}),o.addQueryValueHandler("ToggleView",()=>{var _e;return(_e=Is.whichView(M))!==null&&_e!==void 0?_e:""});const K=vy(o),Q=()=>{Is.refreshToolbar(i.mainUi.outerContainer)};(K===zu.sliding||K===zu.floating)&&o.on("ResizeWindow ResizeEditor ResizeContent",()=>{const _e=o.getWin().innerWidth;_e!==R.get()&&(Q(),R.set(_e))});const ie={setEnabled:_e=>{ST(i,!_e)},isEnabled:()=>!In.isDisabled(M)};return{iframeContainer:Z.element.dom,editorContainer:M.element.dom,api:ie}}});const Cz=o=>/^[0-9\.]+(|px)$/i.test(""+o)?L.some(parseInt(""+o,10)):L.none(),Sz=o=>je(o)?o+"px":o,qR=(o,i,c)=>{const m=i.filter(_=>o<_),y=c.filter(_=>o>_);return m.or(y).getOr(o)},nK=o=>{const i=Y2(o),c=fD(o),m=hD(o);return Cz(i).map(y=>qR(y,c,m))},oK=o=>nK(o).getOr(Y2(o)),C$=o=>{const i=X2(o),c=zC(o),m=NC(o);return Cz(i).map(y=>qR(y,c,m))},S$=o=>C$(o).getOr(X2(o)),{ToolbarLocation:xz,ToolbarMode:Ez}=DH,sK=40,rK=(o,i,c,m,y)=>{const{mainUi:_,uiMotherships:C}=c,R=Bp.DOM,M=wy(o),N=FC(o),V=NC(o).or(C$(o)),Z=m.shared.header,K=Z.isPositionedAtTop,Q=vy(o),ie=Q===Ez.sliding||Q===Ez.floating,_e=D(!1),Ve=()=>_e.get()&&!o.removed,De=Hn=>ie?Hn.fold(J(0),os=>os.components().length>1?Hr(os.components()[1].element):0):0,Ie=Hn=>{switch(J2(o)){case xz.auto:const os=Is.getToolbar(_.outerContainer),Yt=De(os),yn=Hr(Hn.element)-Yt,sn=tr(i);if(sn.y>yn)return"top";{const oo=Lf(i),Eo=Math.max(oo.dom.scrollHeight,Hr(oo));return sn.bottom<Eo-yn||Ra().bottom<sn.bottom-yn?"bottom":"top"}case xz.bottom:return"bottom";case xz.top:default:return"top"}},pt=Hn=>{y.on(os=>{_a.setModes(os,[Hn]),Z.setDockingMode(Hn);const Yt=K()?gf.TopToBottom:gf.BottomToTop;Jn(os.element,ww,Yt)})},vt=()=>{y.on(Hn=>{const os=V.getOrThunk(()=>{const Yt=Cz(xt(Xr(),"margin-left")).getOr(0);return vi(Xr())-ri(i).left+Yt});un(Hn.element,"max-width",os+"px")})},jt=Hn=>{y.on(os=>{const Yt=Is.getToolbar(_.outerContainer),yn=De(Yt),sn=tr(i),{top:Ln,left:oo}=Rt(o,_.outerContainer.element).fold(()=>({top:K()?Math.max(sn.y-Hr(os.element)+yn,0):sn.bottom,left:sn.x}),Zo=>{var Il;const pr=tr(Zo),Fd=(Il=Zo.dom.scrollTop)!==null&&Il!==void 0?Il:0,Af=ls(Zo,Xr()),eg=Af?Math.max(sn.y-Hr(os.element)+yn,0):sn.y-pr.y+Fd-Hr(os.element)+yn;return{top:K()?eg:sn.bottom,left:Af?sn.x:sn.x-pr.x}}),Eo={position:"absolute",left:Math.round(oo)+"px",top:Math.round(Ln)+"px"},qr=Hn.map(Zo=>{const Il=_l(),pr=150,Fd=window.innerWidth-(oo-Il.left);return{width:Math.max(Math.min(Zo,Fd),pr)+"px"}}).getOr({});Ir(_.outerContainer.element,{...Eo,...qr})})},Rt=(Hn,os)=>wf(Hn)?LP(os):L.none(),Kt=()=>{me(C,Hn=>{Hn.broadcastOn([ry()],{})})},vn=()=>{if(M)return L.none();if(ri(_.outerContainer.element).left+ai(_.outerContainer.element)>=window.innerWidth-sK||er(_.outerContainer.element,"width").isSome()){un(_.outerContainer.element,"position","absolute"),un(_.outerContainer.element,"left","0px"),Ro(_.outerContainer.element,"width");const os=ai(_.outerContainer.element);return L.some(os)}else return L.none()},xo=Hn=>{if(!Ve())return;M||vt();const os=M?L.none():vn();ie&&Is.refreshToolbar(_.outerContainer),M||jt(os),N&&y.on(Hn),Kt()},wn=()=>M||!N||!Ve()?!1:y.get().exists(Hn=>{const os=Z.getDockingMode(),Yt=Ie(Hn);return Yt!==os?(pt(Yt),!0):!1});return{isVisible:Ve,isPositionedAtTop:K,show:()=>{_e.set(!0),un(_.outerContainer.element,"display","flex"),R.addClass(o.getBody(),"mce-edit-focus"),me(C,Hn=>{Ro(Hn.element,"display")}),wn(),wf(o)?xo(Hn=>_a.isDocked(Hn)?_a.reset(Hn):_a.refresh(Hn)):xo(_a.refresh)},hide:()=>{_e.set(!1),un(_.outerContainer.element,"display","none"),R.removeClass(o.getBody(),"mce-edit-focus"),me(C,Hn=>{un(Hn.element,"display","none")})},update:xo,updateMode:()=>{wn()&&xo(_a.reset)},repositionPopups:Kt}},x$=(o,i)=>{const c=tr(o);return{pos:i?c.y:c.bottom,bounds:c}},aK=(o,i,c,m)=>{const y=D(x$(i,c.isPositionedAtTop())),_=N=>{const{pos:V,bounds:Z}=x$(i,c.isPositionedAtTop()),{pos:K,bounds:Q}=y.get(),ie=Z.height!==Q.height||Z.width!==Q.width;y.set({pos:V,bounds:Z}),ie&&IT(o,N),c.isVisible()&&(K!==V?c.update(_a.reset):ie&&(c.updateMode(),c.repositionPopups()))};m||(o.on("activate",c.show),o.on("deactivate",c.hide)),o.on("SkinLoaded ResizeWindow",()=>c.update(_a.reset)),o.on("NodeChange keydown",N=>{requestAnimationFrame(()=>_(N))});let C=0;const R=pP(()=>c.update(_a.refresh),33);o.on("ScrollWindow",()=>{const N=_l().left;N!==C&&(C=N,R.throttle()),c.updateMode()}),wf(o)&&o.on("ElementScroll",N=>{c.update(_a.refresh)});const M=gd();M.set(Ek(Le.fromDom(o.getBody()),"load",N=>_(N.raw))),o.on("remove",()=>{M.clear()})};var PS=Object.freeze({__proto__:null,render:async(o,i,c,m,y)=>{const{mainUi:_}=i,C=ns(),R=Le.fromDom(y.targetNode),M=rK(o,R,i,m,C),N=LL(o);await yq(o);const V=()=>{if(C.isSet()){M.show();return}C.set(Is.getHeader(_.outerContainer).getOrDie());const K=wD(o);wf(o)?(Rp(R,_.mothership),Rp(R,i.popupUi.mothership)):zw(K,_.mothership),zw(K,i.dialogUi.mothership),_z(o,i,c,m),Is.setMenubar(_.outerContainer,Y6(o,c)),M.show(),aK(o,R,M,N),o.nodeChanged()};o.on("show",V),o.on("hide",M.hide),N||(o.on("focus",V),o.on("blur",M.hide)),o.on("init",()=>{(o.hasFocus()||N)&&V()}),F3(o,i);const Z={show:V,hide:M.hide,setEnabled:K=>{ST(i,!K)},isEnabled:()=>!In.isDisabled(_.outerContainer)};return{editorContainer:_.outerContainer.element.dom,api:Z}}});const E$=()=>{const o=ns(),i=ns(),c=ns();return{dialogUi:o,popupUi:i,mainUi:c,getUiMotherships:()=>{const _=o.get().map(R=>R.mothership),C=i.get().map(R=>R.mothership);return _.fold(()=>C.toArray(),R=>C.fold(()=>[R],M=>ls(R.element,M.element)?[R]:[R,M]))},lazyGetInOuterOrDie:(_,C)=>()=>c.get().bind(R=>C(R.outerContainer)).getOrDie(`Could not find ${_} element in OuterContainer`)}},iK="contexttoolbar-show",T$="contexttoolbar-hide",R$=o=>({hide:()=>zo(o,Pg()),getValue:()=>tn.getValue(o)}),KR=(o,i)=>St(OF,(c,m)=>{const y=o.get(c),_=R$(y);i.onAction(_,m.event.buttonApi)}),I$=(o,i,c)=>{const{primary:m,...y}=i.original,_=Cl(PD({...y,type:"button",onAction:ee}));return b$(_,c,[KR(o,i)])},A$=(o,i,c)=>{const{primary:m,...y}=i.original,_=Cl(ND({...y,type:"togglebutton",onAction:ee}));return wz(_,c,[KR(o,i)])},lK=o=>o.type==="contextformtogglebutton",$_=(o,i,c)=>lK(i)?A$(o,i,c):I$(o,i,c),YR=(o,i,c)=>{const m=Ee(i,C=>es($_(o,C,c)));return{asSpecs:()=>Ee(m,C=>C.asSpec()),findPrimary:C=>an(i,(R,M)=>R.primary?L.from(m[M]).bind(N=>N.getOpt(C)).filter(Ue(In.isDisabled)):L.none())}},XR=(o,i)=>{const c=o.label.fold(()=>({}),_=>({"aria-label":_})),m=es(Sv.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:o.initValue(),inputAttributes:c,selectOnFocus:!0,inputBehaviours:Lt([Sn.config({mode:"special",onEnter:_=>y.findPrimary(_).map(C=>(af(C),!0)),onLeft:(_,C)=>(C.cut(),L.none()),onRight:(_,C)=>(C.cut(),L.none())})])})),y=YR(m,o.commands,i);return[{title:L.none(),items:[m.asSpec()]},{title:L.none(),items:y.asSpecs()}]},O$={renderContextForm:(o,i,c)=>Uv({type:o,uid:dn("context-toolbar"),initGroups:XR(i,c),onEscape:L.none,cyclicKeying:!0,providers:c}),buildInitGroups:XR},D$=(o,i,c)=>i.bottom-o.y>=c&&o.bottom-i.y>=c,M$=o=>{const i=o.getBoundingClientRect();if(i.height<=0&&i.width<=0){const c=Bh(Le.fromDom(o.startContainer),o.startOffset).element;return(nl(c)?bl(c):L.some(c)).filter(Jo).map(y=>y.dom.getBoundingClientRect()).getOr(i)}else return i},Tz=o=>{const i=o.selection.getRng(),c=M$(i);if(o.inline){const m=_l();return Ns(m.left+c.left,m.top+c.top,c.width,c.height)}else{const m=od(Le.fromDom(o.getBody()));return Ns(m.x+c.left,m.y+c.top,c.width,c.height)}},uK=(o,i)=>i.filter(c=>Ga(c)&&ed(c)).map(od).getOrThunk(()=>Tz(o)),dK=(o,i,c)=>{const m=Math.max(o.x+c,i.x),y=Math.min(o.right-c,i.right);return{x:m,width:y-m}},fK=(o,i,c,m,y,_)=>{const C=Le.fromDom(o.getContainer()),R=Ys(C,".tox-editor-header").getOr(C),M=tr(R),N=M.y>=i.bottom,V=m&&!N;if(o.inline&&V)return{y:Math.max(M.bottom+_,c.y),bottom:c.bottom};if(o.inline&&!V)return{y:c.y,bottom:Math.min(M.y-_,c.bottom)};const Z=y==="line"?tr(C):i;return V?{y:Math.max(M.bottom+_,c.y),bottom:Math.min(Z.bottom-_,c.bottom)}:{y:Math.max(Z.y+_,c.y),bottom:Math.min(M.y-_,c.bottom)}},P$=(o,i,c,m=0)=>{const y=ab(window),_=tr(Le.fromDom(o.getContentAreaContainer())),C=nT(o)||sT(o)||BC(o),{x:R,width:M}=dK(_,y,m);if(o.inline&&!C)return Ns(R,y.y,M,y.height);{const N=i.header.isPositionedAtTop(),{y:V,bottom:Z}=fK(o,_,y,N,c,m);return Ns(R,V,M,Z-V)}},zS=12,NS={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},Rz={maxHeightFunction:wp(),maxWidthFunction:z_()},z$=(o,i)=>{const c=o.selection.getRng(),m=Bh(Le.fromDom(c.startContainer),c.startOffset);return c.startContainer===c.endContainer&&c.startOffset===c.endOffset-1&&ls(m.element,i)},Iz=(o,i,c)=>{const m=er(o,"position");un(o,"position",i);const y=c(o);return m.each(_=>un(o,"position",_)),y},N$=o=>o==="node",L$=(o,i,c,m,y)=>{const _=Tz(o),C=m.lastElement().exists(R=>ls(c,R));if(z$(o,c))return C?S5:Rm;if(C)return Iz(i,m.getMode(),()=>D$(_,tr(i),-20)&&!m.isReposition()?dZ:S5);{const R=m.getMode()==="fixed"?y.y+_l().top:y.y,M=Hr(i)+zS;return R+M<=_.y?Rm:_S}},hK=(o,i,c,m)=>{const y=M=>(N,V,Z,K,Q)=>{const ie=L$(o,K,M,c,Q),_e={...N,y:Q.y,height:Q.height};return{...ie(_e,V,Z,K,Q),alwaysFit:!0}},_=M=>N$(m)?[y(M)]:[];return i?{onLtr:M=>[Js,Ja,ea,Gl,Xs,Gc].concat(_(M)),onRtl:M=>[Js,ea,Ja,Xs,Gl,Gc].concat(_(M))}:{onLtr:M=>[Gc,Js,Gl,Ja,Xs,ea].concat(_(M)),onRtl:M=>[Gc,Js,Xs,ea,Gl,Ja].concat(_(M))}},mK=(o,i,c,m)=>i==="line"?{bubble:Yg(zS,0,NS),layouts:{onLtr:()=>[bk],onRtl:()=>[vk]},overrides:Rz}:{bubble:Yg(0,zS,NS,1/zS),layouts:hK(o,c,m,i),overrides:Rz},V_=(o,i)=>{const c=Je(i,_=>_.predicate(o.dom)),{pass:m,fail:y}=lt(c,_=>_.type==="contexttoolbar");return{contextToolbars:m,contextForms:y}},B$=o=>{if(o.length<=1)return o;{const i=_=>io(o,C=>C.position===_),c=_=>Je(o,C=>C.position===_),m=i("selection"),y=i("node");if(m||y)if(y&&m){const _=c("node"),C=Ee(c("selection"),R=>({...R,position:"node"}));return _.concat(C)}else return c(m?"selection":"node");else return c("line")}},pK=o=>{if(o.length<=1)return o;{const i=m=>Oe(o,y=>y.position===m);return i("selection").orThunk(()=>i("node")).orThunk(()=>i("line")).map(m=>m.position).fold(()=>[],m=>Je(o,y=>y.position===m))}},gK=(o,i,c)=>{const m=V_(o,i);if(m.contextForms.length>0)return L.some({elem:o,toolbars:[m.contextForms[0]]});{const y=V_(o,c);if(y.contextForms.length>0)return L.some({elem:o,toolbars:[y.contextForms[0]]});if(m.contextToolbars.length>0||y.contextToolbars.length>0){const _=B$(m.contextToolbars.concat(y.contextToolbars));return L.some({elem:o,toolbars:_})}else return L.none()}},yK=(o,i,c)=>o(i)?L.none():ud(i,m=>{if(Jo(m)){const{contextToolbars:y,contextForms:_}=V_(m,c.inNodeScope),C=_.length>0?_:pK(y);return C.length>0?L.some({elem:m,toolbars:C}):L.none()}else return L.none()},o),bK=(o,i)=>{const c=Le.fromDom(i.getBody()),m=C=>ls(C,c),y=C=>!m(C)&&!ol(c,C),_=Le.fromDom(i.selection.getNode());return y(_)?L.none():gK(_,o.inNodeScope,o.inEditorScope).orThunk(()=>yK(m,_,o))},vK=(o,i)=>{const c={},m=[],y=[],_={},C={},R=(V,Z)=>{const K=Cl(Rv(Z));c[V]=K,K.launch.map(Q=>{_["form:"+V]={...Z.launch,type:Q.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{i(K)}}}),K.scope==="editor"?y.push(K):m.push(K),C[V]=K},M=(V,Z)=>{FD(Z).each(K=>{Z.scope==="editor"?y.push(K):m.push(K),C[V]=K})},N=_n(o);return me(N,V=>{const Z=o[V];Z.type==="contextform"?R(V,Z):Z.type==="contexttoolbar"&&M(V,Z)}),{forms:c,inNodeScope:m,inEditorScope:y,lookupTable:C,formNavigators:_}},Az=dn("forward-slide"),Oz=dn("backward-slide"),Dz=dn("change-slide-event"),Mz="tox-pop--resizing",F$=o=>{const i=D([]);return Us.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:c=>{i.set([]),Us.getContent(c).each(m=>{Ro(m.element,"visibility")}),Es(c.element,Mz),Ro(c.element,"width")},inlineBehaviours:Lt([no("context-toolbar-events",[Lg(Dg(),(c,m)=>{m.event.raw.propertyName==="width"&&(Es(c.element,Mz),Ro(c.element,"width"))}),St(Dz,(c,m)=>{const y=c.element;Ro(y,"width");const _=vi(y);Us.setContent(c,m.event.contents),Qr(y,Mz);const C=vi(y);un(y,"width",_+"px"),Us.getContent(c).each(R=>{m.event.focus.bind(M=>(xu(M),Eu(y))).orThunk(()=>(Sn.focusIn(R),pf($r(y))))}),setTimeout(()=>{un(c.element,"width",C+"px")},0)}),St(Az,(c,m)=>{Us.getContent(c).each(y=>{i.set(i.get().concat([{bar:y,focus:pf($r(c.element))}]))}),xn(c,Dz,{contents:m.event.forwardContents,focus:L.none()})}),St(Oz,(c,m)=>{Dt(i.get()).each(y=>{i.set(i.get().slice(0,i.get().length-1)),xn(c,Dz,{contents:Sl(y.bar),focus:y.focus})})})]),Sn.config({mode:"special",onEscape:c=>Dt(i.get()).fold(()=>o.onEscape(),m=>(zo(c,Oz),L.some(!0)))})]),lazySink:()=>to.value(o.sink)})},Pz="tox-pop--transition",wK=(o,i,c,m)=>{const y=m.backstage,_=y.shared,C=ki().deviceType.isTouch,R=ns(),M=ns(),N=ns(),V=Pa(F$({sink:c,onEscape:()=>(o.focus(),L.some(!0))})),Z=()=>{const wn=N.get().getOr("node"),bo=N$(wn)?1:0;return P$(o,_,wn,bo)},K=()=>!o.removed&&!(C()&&y.isContextMenuOpen()),Q=wn=>ca(ac(wn,R.get(),ls),!0),ie=()=>{if(K()){const wn=Z(),bo=ca(N.get(),"node")?uK(o,R.get()):Tz(o);return wn.height<=0||!D$(bo,wn,.01)}else return!0},_e=()=>{R.clear(),M.clear(),N.clear(),Us.hide(V)},Ve=()=>{if(Us.isOpen(V)){const wn=V.element;Ro(wn,"display"),ie()?un(wn,"display","none"):(M.set(0),Us.reposition(V))}},De=wn=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[wn],behaviours:Lt([Sn.config({mode:"acyclic"}),no("pop-dialog-wrap-events",[sr(bo=>{o.shortcuts.add("ctrl+F9","focus statusbar",()=>Sn.focusIn(bo))}),il(bo=>{o.shortcuts.remove("ctrl+F9")})])])}),Ie=Kd(()=>vK(i,wn=>{const bo=jt([wn]);xn(V,Az,{forwardContents:De(bo)})})),pt=(wn,bo)=>MS(o,{buttons:wn,toolbar:bo.items,allowToolbarGroups:!1},m.backstage,L.some(["form:"])),vt=(wn,bo)=>O$.buildInitGroups(wn,bo),jt=wn=>{const{buttons:bo}=o.ui.registry.getAll(),Yn=Ie(),vo={...bo,...Yn.formNavigators},Hn=vy(o)===zu.scrolling?zu.scrolling:zu.default,os=Ye(Ee(wn,Yt=>Yt.type==="contexttoolbar"?pt(vo,Yt):vt(Yt,_.providers)));return Uv({type:Hn,uid:dn("context-toolbar"),initGroups:os,onEscape:L.none,cyclicKeying:!0,providers:_.providers})},Rt=(wn,bo)=>{const Yn=wn==="node"?_.anchors.node(bo):_.anchors.cursor(),vo=mK(o,wn,C(),{lastElement:R.get,isReposition:()=>ca(M.get(),0),getMode:()=>ta.getMode(c)});return hs(Yn,vo)},Kt=(wn,bo)=>{if(xo.cancel(),!K())return;const Yn=jt(wn),vo=wn[0].position,Hn=Rt(vo,bo);N.set(vo),M.set(1);const os=V.element;Ro(os,"display"),Q(bo)||(Es(os,Pz),ta.reset(c,V)),Us.showWithinBounds(V,De(Yn),{anchor:Hn,transition:{classes:[Pz],mode:"placement"}},()=>L.some(Z())),bo.fold(R.clear,R.set),ie()&&un(os,"display","none")};let vn=!1;const xo=pP(()=>{if(!(!o.hasFocus()||o.removed||vn))if(xi(V.element,Pz))xo.throttle();else{const wn=Ie();bK(wn,o).fold(_e,bo=>{Kt(bo.toolbars,L.some(bo.elem))})}},17);o.on("init",()=>{o.on("remove",_e),o.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Ve),o.on("click keyup focus SetContent",xo.throttle),o.on(T$,_e),o.on(iK,wn=>{const bo=Ie();Gt(bo.lookupTable,wn.toolbarKey).each(Yn=>{Kt([Yn],Fn(wn.target!==o,wn.target)),Us.getContent(V).each(Sn.focusIn)})}),o.on("focusout",wn=>{Z2.setEditorTimeout(o,()=>{Eu(c.element).isNone()&&Eu(V.element).isNone()&&_e()},0)}),o.on("SwitchMode",()=>{o.mode.isReadOnly()&&_e()}),o.on("AfterProgressState",wn=>{wn.state?_e():o.hasFocus()&&xo.throttle()}),o.on("dragstart",()=>{vn=!0}),o.on("dragend drop",()=>{vn=!1}),o.on("NodeChange",wn=>{Eu(V.element).fold(xo.throttle,ee)})})},_K=o=>{me([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],c=>{o.ui.registry.addToggleButton(c.name,{tooltip:c.text,icon:c.icon,onAction:Vu(o,c.cmd),onSetup:BR(o,c.name)})}),o.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:Vu(o,"JustifyNone")})},$$=(o,i)=>{const c=()=>{const m=i.getOptions(o),y=i.getCurrent(o).map(i.hash),_=ns();return Ee(m,C=>({type:"togglemenuitem",text:i.display(C),onSetup:R=>{const M=V=>{V&&(_.on(Z=>Z.setActive(!1)),_.set(R)),R.setActive(V)};M(ca(y,i.hash(C)));const N=i.watcher(o,C,M);return()=>{_.clear(),N()}},onAction:()=>i.setCurrent(o,C)}))};o.ui.registry.addMenuButton(i.name,{tooltip:i.text,icon:i.icon,fetch:m=>m(c()),onSetup:i.onToolbarSetup}),o.ui.registry.addNestedMenuItem(i.name,{type:"nestedmenuitem",text:i.text,getSubmenuItems:c,onSetup:i.onMenuSetup})},kK={name:"lineheight",text:"Line height",icon:"line-height",getOptions:oT,hash:o=>l$(o,["fixed","relative","empty"]).getOr(o),display:Te,watcher:(o,i,c)=>o.formatter.formatChanged("lineheight",c,!1,{value:i}).unbind,getCurrent:o=>L.from(o.queryCommandValue("LineHeight")),setCurrent:(o,i)=>o.execCommand("LineHeight",!1,i)},zz=o=>L.from(zL(o)).map(c=>({name:"language",text:"Language",icon:"language",getOptions:J(c),hash:m=>le(m.customCode)?m.code:`${m.code}/${m.customCode}`,display:m=>m.title,watcher:(m,y,_)=>{var C;return m.formatter.formatChanged("lang",_,!1,{value:y.code,customValue:(C=y.customCode)!==null&&C!==void 0?C:null}).unbind},getCurrent:m=>{const y=Le.fromDom(m.selection.getNode());return Hl(y,_=>L.some(_).filter(Jo).bind(C=>G(C,"lang").map(M=>{const N=G(C,"data-mce-lang").getOrUndefined();return{code:M,customCode:N,title:""}})))},setCurrent:(m,y)=>m.execCommand("Lang",!1,y),onToolbarSetup:m=>{const y=gd();return m.setActive(o.formatter.match("lang",{},void 0,!0)),y.set(o.formatter.formatChanged("lang",m.setActive,!0)),y.clear}})),CK=o=>{$$(o,kK),zz(o).each(i=>$$(o,i))},SK=(o,i)=>{_q(o,i),Eq(o,i),$q(o,i),s$(o,i),Bq(o,i)},Nz=o=>DS(o,"NodeChange",i=>{i.setEnabled(o.queryCommandState("outdent"))}),V$=o=>{o.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:Nz(o),onAction:Vu(o,"outdent")}),o.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:Vu(o,"indent")})},H$=o=>{V$(o)},U$=(o,i)=>c=>{c.setActive(i.get());const m=y=>{i.set(y.state),c.setActive(y.state)};return o.on("PastePlainTextToggle",m),()=>o.off("PastePlainTextToggle",m)},xK=o=>{const i=D(qL(o)),c=()=>o.execCommand("mceTogglePlainTextPaste");o.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:c,onSetup:U$(o,i)}),o.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:c,onSetup:U$(o,i)})},Lz=(o,i)=>()=>{o.execCommand("mceToggleFormat",!1,i)},EK=o=>{Dy.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(i,c)=>{o.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onSetup:BR(o,i.name),onAction:Lz(o,i.name)})});for(let i=1;i<=6;i++){const c="h"+i;o.ui.registry.addToggleButton(c,{text:c.toUpperCase(),tooltip:"Heading "+i,onSetup:BR(o,c),onAction:Lz(o,c)})}},TK=o=>{Dy.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],i=>{o.ui.registry.addButton(i.name,{tooltip:i.text,icon:i.icon,onAction:Vu(o,i.action)})})},j$=o=>{Dy.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],i=>{o.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:Vu(o,i.action),onSetup:BR(o,i.name)})})},RK=o=>{EK(o),TK(o),j$(o)},W$=o=>{Dy.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],i=>{o.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onAction:Vu(o,i.action)})}),o.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:Lz(o,"code")})},IK=o=>{RK(o),W$(o)},JR=(o,i)=>DS(o,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",c=>{c.setEnabled(!o.mode.isReadOnly()&&o.undoManager[i]())}),Bz=o=>{o.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:JR(o,"hasUndo"),onAction:Vu(o,"undo")}),o.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:JR(o,"hasRedo"),onAction:Vu(o,"redo")})},Z$=o=>{o.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:JR(o,"hasUndo"),onAction:Vu(o,"undo")}),o.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:JR(o,"hasRedo"),onAction:Vu(o,"redo")})},AK=o=>{Bz(o),Z$(o)},OK=o=>DS(o,"VisualAid",i=>{i.setActive(o.hasVisual)}),Fz=o=>{o.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:OK(o),onAction:Vu(o,"mceToggleVisualAid")})},DK=o=>{o.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Vu(o,"mceToggleVisualAid")})},MK=o=>{DK(o),Fz(o)},PK=(o,i)=>{_K(o),IK(o),SK(o,i),AK(o),mM(o),MK(o),H$(o),CK(o),xK(o)},zK=o=>x(o)?o.split(/[ ,]/):o,G$=o=>i=>i.options.get(o),q$=o=>{const i=o.options.register;i("contextmenu_avoid_overlap",{processor:"string",default:""}),i("contextmenu_never_use_native",{processor:"boolean",default:!1}),i("contextmenu",{processor:c=>c===!1?{value:[],valid:!0}:x(c)||gt(c,x)?{value:zK(c),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},K$=G$("contextmenu_never_use_native"),NK=G$("contextmenu_avoid_overlap"),LK=o=>Y$(o).length===0,Y$=o=>{const i=o.ui.registry.getAll().contextMenus,c=o.options.get("contextmenu");return o.options.isSet("contextmenu")?c:Je(c,m=>Mo(i,m))},LS=(o,i)=>({type:"makeshift",x:o,y:i}),BK=(o,i,c)=>LS(o.x+i,o.y+c),X$=o=>o.type==="longpress"||o.type.indexOf("touch")===0,FK=o=>{if(X$(o)){const i=o.touches[0];return LS(i.pageX,i.pageY)}else return LS(o.pageX,o.pageY)},J$=o=>{if(X$(o)){const i=o.touches[0];return LS(i.clientX,i.clientY)}else return LS(o.clientX,o.clientY)},$K=(o,i)=>{const c=Bp.DOM.getPos(o);return BK(i,c.x,c.y)},Q$=(o,i)=>i.type==="contextmenu"||i.type==="longpress"?o.inline?FK(i):$K(o.getContentAreaContainer(),J$(i)):e8(o),e8=o=>({type:"selection",root:Le.fromDom(o.selection.getNode())}),VK=o=>({type:"node",node:L.some(Le.fromDom(o.selection.getNode())),root:Le.fromDom(o.getBody())}),t8=(o,i,c)=>{switch(c){case"node":return VK(o);case"point":return Q$(o,i);case"selection":return e8(o)}},Wv=(o,i,c,m,y,_)=>{const C=c(),R=t8(o,i,_);Em(C,xd.CLOSE_ON_EXECUTE,m,{isHorizontalMenu:!1,search:L.none()}).map(M=>{i.preventDefault(),Us.showMenuAt(y,{anchor:R},{menu:{markers:$p("normal")},data:M})})},n8={onLtr:()=>[Js,Ja,ea,Gl,Xs,Gc,Rm,_S,wS,vR,vS,bS],onRtl:()=>[Js,ea,Ja,Xs,Gl,Gc,Rm,_S,vS,bS,wS,vR]},HK=12,UK={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},jK=(o,i)=>{const c=o.selection;if(c.isCollapsed()||i.touches.length<1)return!1;{const m=i.touches[0],y=c.getRng();return Nk(o.getWin(),Gb.domRange(y)).exists(C=>C.left<=m.clientX&&C.right>=m.clientX&&C.top<=m.clientY&&C.bottom>=m.clientY)}},WK=o=>{const i=o.selection.getRng(),c=()=>{Z2.setEditorTimeout(o,()=>{o.selection.setRng(i)},10),_()};o.once("touchend",c);const m=C=>{C.preventDefault(),C.stopImmediatePropagation()};o.on("mousedown",m,!0);const y=()=>_();o.once("longpresscancel",y);const _=()=>{o.off("touchend",c),o.off("longpresscancel",y),o.off("mousedown",m)}},o8=(o,i,c)=>{const m=t8(o,i,c);return{bubble:Yg(0,c==="point"?HK:0,UK),layouts:n8,overrides:{maxWidthFunction:z_(),maxHeightFunction:wp()},...m}},ZK=(o,i,c,m,y,_,C)=>{const R=o8(o,i,_);Em(c,xd.CLOSE_ON_EXECUTE,m,{isHorizontalMenu:!0,search:L.none()}).map(M=>{i.preventDefault();const N=C?Jl.HighlightMenuAndItem:Jl.HighlightNone;Us.showMenuWithinBounds(y,{anchor:R},{menu:{markers:$p("normal"),highlightOnOpen:N},data:M,type:"horizontal"},()=>L.some(P$(o,m.shared,_==="node"?"node":"selection"))),o.dispatch(T$)})},GK=(o,i,c,m,y,_)=>{const C=ki(),R=C.os.isiOS(),M=C.os.isMacOS(),N=C.os.isAndroid(),V=C.deviceType.isTouch(),Z=()=>!(N||R||M&&V),K=()=>{const Q=c();ZK(o,i,Q,m,y,_,Z())};if((M||R)&&_!=="node"){const Q=()=>{WK(o),K()};jK(o,i)?Q():(o.once("selectionchange",Q),o.once("touchend",()=>o.off("selectionchange",Q)))}else K()},s8=o=>x(o)?o==="|":o.type==="separator",$z={type:"separator"},r8=o=>{const i=c=>({text:c.text,icon:c.icon,enabled:c.enabled,shortcut:c.shortcut});if(x(o))return o;switch(o.type){case"separator":return $z;case"submenu":return{type:"nestedmenuitem",...i(o),getSubmenuItems:()=>{const m=o.getSubmenuItems();return x(m)?m:Ee(m,r8)}};default:const c=o;return{type:"menuitem",...i(c),onAction:ht(c.onAction)}}},a8=(o,i)=>{if(i.length===0)return o;const m=Dt(o).filter(y=>!s8(y)).fold(()=>[],y=>[$z]);return o.concat(m).concat(i).concat([$z])},qK=(o,i,c)=>{const m=re(i,(y,_)=>Gt(o,_.toLowerCase()).map(C=>{const R=C.update(c);if(x(R))return a8(y,R.split(" "));if(R.length>0){const M=Ee(R,r8);return a8(y,M)}else return y}).getOrThunk(()=>y.concat([_])),[]);return m.length>0&&s8(m[m.length-1])&&m.pop(),m},KK=(o,i)=>i.ctrlKey&&!K$(o),i8=o=>o.type==="longpress"||Mo(o,"touches"),Vz=(o,i)=>!i8(i)&&(i.button!==2||i.target===o.getBody()&&i.pointerType===""),l8=(o,i)=>Vz(o,i)?o.selection.getStart(!0):i.target,BS=(o,i)=>{const c=NK(o),m=Vz(o,i)?"selection":"point";if(Di(c)){const y=l8(o,i);return QC(Le.fromDom(y),c)?"node":m}else return m},YK=(o,i,c)=>{const y=ki().deviceType.isTouch,_=Pa(Us.sketch({dom:{tag:"div"},lazySink:i,onEscape:()=>o.focus(),onShow:()=>c.setContextMenuState(!0),onHide:()=>c.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Lt([no("dismissContextMenu",[St(nh(),(M,N)=>{Io.close(M),o.focus()})])])})),C=()=>Us.hide(_),R=M=>{if(K$(o)&&M.preventDefault(),KK(o,M)||LK(o))return;const N=BS(o,M),V=()=>{const K=l8(o,M),Q=o.ui.registry.getAll(),ie=Y$(o);return qK(Q.contextMenus,ie,K)};(y()?GK:Wv)(o,M,V,c,_,N)};o.on("init",()=>{const M="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(y()?"":" ResizeWindow");o.on(M,C),o.on("longpress contextmenu",R)})},Hz=ne.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),H_=o=>i=>i.translate(-o.left,-o.top),QR=o=>i=>i.translate(o.left,o.top),Yp=o=>(i,c)=>re(o,(m,y)=>y(m),qs(i,c)),eI=(o,i,c)=>o.fold(Yp([QR(c),H_(i)]),Yp([H_(i)]),Yp([])),U_=(o,i,c)=>o.fold(Yp([QR(c)]),Yp([]),Yp([QR(i)])),c8=(o,i,c)=>o.fold(Yp([]),Yp([H_(c)]),Yp([QR(i),H_(c)])),XK=(o,i,c,m,y,_)=>{const C=U_(o,y,_),R=U_(i,y,_);return Math.abs(C.left-R.left)<=c&&Math.abs(C.top-R.top)<=m},JK=(o,i,c,m,y,_)=>{const C=U_(o,y,_),R=U_(i,y,_),M=Math.abs(C.left-R.left),N=Math.abs(C.top-R.top);return qs(M,N)},u8=(o,i,c)=>{const m=o.fold((y,_)=>({position:L.some("absolute"),left:L.some(y+"px"),top:L.some(_+"px")}),(y,_)=>({position:L.some("absolute"),left:L.some(y-c.left+"px"),top:L.some(_-c.top+"px")}),(y,_)=>({position:L.some("fixed"),left:L.some(y+"px"),top:L.some(_+"px")}));return{right:L.none(),bottom:L.none(),...m}},QK=(o,i,c)=>o.fold((m,y)=>tI(m+i,y+c),(m,y)=>Fy(m+i,y+c),(m,y)=>Zv(m+i,y+c)),Uz=(o,i,c,m)=>{const y=(_,C)=>(R,M)=>{const N=_(i,c,m);return C(R.getOr(N.left),M.getOr(N.top))};return o.fold(y(c8,tI),y(U_,Fy),y(eI,Zv))},tI=Hz.offset,Fy=Hz.absolute,Zv=Hz.fixed,d8=(o,i)=>{const c=da(o,i);return le(c)?NaN:parseInt(c,10)},eY=(o,i)=>{const c=o.element,m=d8(c,i.leftAttr),y=d8(c,i.topAttr);return isNaN(m)||isNaN(y)?L.none():L.some(qs(m,y))},tY=(o,i,c)=>{const m=o.element;Jn(m,i.leftAttr,c.left+"px"),Jn(m,i.topAttr,c.top+"px")},nY=(o,i)=>{const c=o.element;ge(c,i.leftAttr),ge(c,i.topAttr)},nI=(o,i,c,m)=>eY(o,i).fold(()=>c,y=>Zv(y.left+m.left,y.top+m.top)),oY=(o,i,c,m,y,_)=>{const C=nI(o,i,c,m),R=i.mustSnap?rY(o,i,C,y,_):aY(o,i,C,y,_),M=eI(C,y,_);return tY(o,i,M),R.fold(()=>({coord:Zv(M.left,M.top),extra:L.none()}),N=>({coord:N.output,extra:N.extra}))},sY=(o,i)=>{nY(o,i)},f8=(o,i,c,m)=>an(o,y=>{const _=y.sensor;return XK(i,_,y.range.left,y.range.top,c,m)?L.some({output:Uz(y.output,i,c,m),extra:y.extra}):L.none()}),rY=(o,i,c,m,y)=>{const _=i.getSnapPoints(o);return f8(_,c,m,y).orThunk(()=>re(_,(M,N)=>{const V=N.sensor,Z=JK(c,V,N.range.left,N.range.top,m,y);return M.deltas.fold(()=>({deltas:L.some(Z),snap:L.some(N)}),K=>{const Q=(Z.left+Z.top)/2,ie=(K.left+K.top)/2;return Q<=ie?{deltas:L.some(Z),snap:L.some(N)}:M})},{deltas:L.none(),snap:L.none()}).snap.map(M=>({output:Uz(M.output,c,m,y),extra:M.extra})))},aY=(o,i,c,m,y)=>{const _=i.getSnapPoints(o);return f8(_,c,m,y)},iY=(o,i,c)=>({coord:Uz(o.output,o.output,i,c),extra:o.extra});var cY=Object.freeze({__proto__:null,snapTo:(o,i,c,m)=>{const y=i.getTarget(o.element);if(i.repositionTarget){const _=Pi(o.element),C=_l(_),R=r6(y),M=iY(m,C,R),N=u8(M.coord,C,R);fa(y,N)}}});const jz="data-initial-z-index",uY=o=>{bl(o.element).filter(Jo).each(i=>{G(i,jz).fold(()=>Ro(i,"z-index"),c=>un(i,"z-index",c)),ge(i,jz)})},dY=o=>{bl(o.element).filter(Jo).each(i=>{er(i,"z-index").each(c=>{Jn(i,jz,c)}),un(i,"z-index",xt(o.element,"z-index"))})},h8=(o,i)=>{o.getSystem().addToGui(i),dY(i)},Wz=o=>{uY(o),o.getSystem().removeFromGui(o)},Zz=(o,i,c)=>o.getSystem().build(_h.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[i]},events:c}));var fY=ga("snaps",[Ct("getSnapPoints"),Co("onSensor"),Ct("leftAttr"),Ct("topAttr"),Be("lazyViewport",Ra),Be("mustSnap",!1)]);const Gz=[Be("useFixed",nn),Ct("blockerClass"),Be("getTarget",Te),Be("onDrag",ee),Be("repositionTarget",!0),Be("onDrop",ee),jr("getBounds",Ra),fY],hY=o=>Xu(er(o,"left"),er(o,"top"),er(o,"position"),(i,c,m)=>(m==="fixed"?Zv:tI)(parseInt(i,10),parseInt(c,10))).getOrThunk(()=>{const i=ri(o);return Fy(i.left,i.top)}),mY=(o,i,c,m,y)=>{const _=y.bounds,C=U_(i,c,m),R=yc(C.left,_.x,_.x+_.width-y.width),M=yc(C.top,_.y,_.y+_.height-y.height),N=Fy(R,M);return i.fold(()=>{const V=c8(N,c,m);return tI(V.left,V.top)},J(N),()=>{const V=eI(N,c,m);return Zv(V.left,V.top)})},pY=(o,i,c,m,y,_,C)=>{const R=i.fold(()=>{const M=QK(c,_.left,_.top),N=eI(M,m,y);return Zv(N.left,N.top)},M=>{const N=oY(o,M,c,_,m,y);return N.extra.each(V=>{M.onSensor(o,V)}),N.coord});return mY(o,R,m,y,C)},gY=(o,i,c,m)=>{const y=i.getTarget(o.element);if(i.repositionTarget){const _=Pi(o.element),C=_l(_),R=r6(y),M=hY(y),N=pY(o,i.snaps,M,C,R,m,c),V=u8(N,C,R);fa(y,V)}i.onDrag(o,y,m)},m8=(o,i)=>({bounds:o.getBounds(),height:$f(i.element),width:ai(i.element)}),qz=(o,i,c,m,y)=>{const _=c.update(m,y),C=c.getStartData().getOrThunk(()=>m8(i,o));_.each(R=>{gY(o,i,C,R)})},p8=(o,i,c,m)=>{i.each(Wz),c.snaps.each(_=>{sY(o,_)});const y=c.getTarget(o.element);m.reset(),c.onDrop(o,y)},Kz=o=>(i,c)=>{const m=y=>{c.setStartData(m8(i,y))};return xs([St(wb(),y=>{c.getStartData().each(()=>m(y))}),...o(i,c,m)])},yY=o=>xs([St(cs(),o.forceDrop),St(th(),o.drop),St(Og(),(i,c)=>{o.move(c.event)}),St(eh(),o.delayDrop)]);var bY=Object.freeze({__proto__:null,getData:o=>L.from(qs(o.x,o.y)),getDelta:(o,i)=>qs(i.left-o.left,i.top-o.top)});const g8=(o,i,c)=>[St(cs(),(m,y)=>{if(y.event.raw.button!==0)return;y.stop();const C=()=>p8(m,L.some(N),o,i),R=AB(C,200),M={drop:C,delayDrop:R.schedule,forceDrop:C,move:Z=>{R.cancel(),qz(m,o,i,bY,Z)}},N=Zz(m,o.blockerClass,yY(M));(()=>{c(m),h8(m,N)})()})],vY=[...Gz,qo("dragger",{handlers:Kz(g8)})],wY=o=>xs([St(ku(),o.forceDrop),St(gs(),o.drop),St(Si(),o.drop),St(ko(),(i,c)=>{o.move(c.event)})]),_Y=o=>{const i=o[0];return L.some(qs(i.clientX,i.clientY))};var y8=Object.freeze({__proto__:null,getData:o=>{const c=o.raw.touches;return c.length===1?_Y(c):L.none()},getDelta:(o,i)=>qs(i.left-o.left,i.top-o.top)});const Yz=(o,i,c)=>{const m=ns(),y=_=>{p8(_,m.get(),o,i),m.clear()};return[St(ku(),(_,C)=>{C.stop();const R=()=>y(_),M={drop:R,delayDrop:ee,forceDrop:R,move:Z=>{qz(_,o,i,y8,Z)}},N=Zz(_,o.blockerClass,wY(M));m.set(N),(()=>{c(_),h8(_,N)})()}),St(ko(),(_,C)=>{C.stop(),qz(_,o,i,y8,C.event)}),St(gs(),(_,C)=>{C.stop(),y(_)}),St(Si(),y)]},b8=[...Gz,qo("dragger",{handlers:Kz(Yz)})],Gv=(o,i,c)=>[...g8(o,i,c),...Yz(o,i,c)],kY=[...Gz,qo("dragger",{handlers:Kz(Gv)})];var CY=Object.freeze({__proto__:null,mouse:vY,touch:b8,mouseOrTouch:kY}),SY=Object.freeze({__proto__:null,init:()=>{let o=L.none(),i=L.none();const c=()=>{o=L.none(),i=L.none()},m=(M,N)=>{const V=o.map(Z=>M.getDelta(Z,N));return o=L.some(N),V},y=(M,N)=>M.getData(N).bind(V=>m(M,V)),_=M=>{i=L.some(M)},C=()=>i,R=J({});return Da({readState:R,reset:c,update:y,getStartData:C,setStartData:_})}});const qv=kk({branchKey:"mode",branches:CY,name:"dragging",active:{events:(o,i)=>o.dragger.handlers(o,i)},extra:{snap:o=>({sensor:o.sensor,range:o.range,output:o.output,extra:L.from(o.extra)})},state:SY,apis:cY}),Xp=40,FS=Xp/2,w8=(o,i,c,m,y,_)=>o.fold(()=>qv.snap({sensor:Fy(c-FS,m-FS),range:qs(y,_),output:Fy(L.some(c),L.some(m)),extra:{td:i}}),C=>{const R=c-FS,M=m-FS,N=Xp,V=Xp,Z=C.element.dom.getBoundingClientRect();return qv.snap({sensor:Fy(R,M),range:qs(N,V),output:Fy(L.some(c-Z.width/2),L.some(m-Z.height/2)),extra:{td:i}})}),_8=(o,i,c)=>{const m=(y,_)=>y.exists(C=>ls(C,_));return{getSnapPoints:o,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(y,_)=>{const C=_.td;m(i.get(),C)||(i.set(C),c(C))},mustSnap:!0}},k8=o=>es(Qs.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Lt([qv.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:o}),g_.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),xY=(o,i)=>{const c=D([]),m=D([]),y=D(!1),_=ns(),C=ns(),R=Kt=>{const vn=od(Kt);return w8(Q.getOpt(i),Kt,vn.x,vn.y,vn.width,vn.height)},M=()=>Ee(c.get(),Kt=>R(Kt)),N=Kt=>{const vn=od(Kt);return w8(ie.getOpt(i),Kt,vn.right,vn.bottom,vn.width,vn.height)},V=()=>Ee(m.get(),Kt=>N(Kt)),Z=_8(M,_,Kt=>{C.get().each(vn=>{o.dispatch("TableSelectorChange",{start:Kt,finish:vn})})}),K=_8(V,C,Kt=>{_.get().each(vn=>{o.dispatch("TableSelectorChange",{start:vn,finish:Kt})})}),Q=k8(Z),ie=k8(K),_e=Pa(Q.asSpec()),Ve=Pa(ie.asSpec()),De=(Kt,vn,xo,wn)=>{const bo=vn.dom.getBoundingClientRect();Ro(Kt.element,"display");const Yn=td(Le.fromDom(o.getBody())).dom.innerHeight,vo=xo(bo),Hn=wn(bo,Yn);(vo||Hn)&&un(Kt.element,"display","none")},Ie=(Kt,vn,xo,wn)=>{const bo=xo(vn);qv.snapTo(Kt,bo),De(Kt,vn,Hn=>Hn[wn]<0,(Hn,os)=>Hn[wn]>os)},pt=Kt=>Ie(_e,Kt,R,"top"),vt=()=>_.get().each(pt),jt=Kt=>Ie(Ve,Kt,N,"bottom"),Rt=()=>C.get().each(jt);ki().deviceType.isTouch()&&(o.on("TableSelectionChange",Kt=>{y.get()||(yf(i,_e),yf(i,Ve),y.set(!0)),_.set(Kt.start),C.set(Kt.finish),Kt.otherCells.each(vn=>{c.set(vn.upOrLeftCells),m.set(vn.downOrRightCells),pt(Kt.start),jt(Kt.finish)})}),o.on("ResizeEditor ResizeWindow ScrollContent",()=>{vt(),Rt()}),o.on("TableSelectionClear",()=>{y.get()&&(bf(_e),bf(Ve),y.set(!1)),_.clear(),C.clear()}))};var EY=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const TY=o=>o.nodeName==="BR"||!!o.getAttribute("data-mce-bogus")||o.getAttribute("data-mce-type")==="bookmark",RY=(o,i,c)=>{var m;const y=(m=i.delimiter)!==null&&m!==void 0?m:"\u203A",_=(N,V,Z)=>Qs.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":Z,"aria-level":Z+1}},components:[Ks(N)],action:K=>{o.focus(),o.selection.select(V),o.nodeChanged()},buttonBehaviours:Lt([Nu.button(c.isDisabled),Fa()])}),C=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Ks(` ${y} `)]}),R=N=>re(N,(V,Z,K)=>{const Q=_(Z.name,Z.element,K);return K===0?V.concat([Q]):V.concat([C(),Q])},[]),M=N=>{const V=[];let Z=N.length;for(;Z-- >0;){const K=N[Z];if(K.nodeType===1&&!TY(K)){const Q=O9(o,K);if(Q.isDefaultPrevented()||V.push({name:Q.name,element:K}),Q.isPropagationStopped())break}}return V};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Lt([Sn.config({mode:"flow",selector:"div[role=button]"}),In.config({disabled:c.isDisabled}),Fa(),hr.config({}),Vn.config({}),no("elementPathEvents",[sr((N,V)=>{o.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Sn.focusIn(N)),o.on("NodeChange",Z=>{const K=M(Z.parents),Q=K.length>0?R(K):[];Vn.set(N,Q)})})])]),components:[]}};var Kv;(function(o){o[o.None=0]="None",o[o.Both=1]="Both",o[o.Vertical=2]="Vertical"})(Kv||(Kv={}));const Jz=(o,i,c,m,y)=>{const _={height:qR(m+i.top,fD(o),hD(o))};return c===Kv.Both&&(_.width=qR(y+i.left,zC(o),NC(o))),_},j_=(o,i,c)=>{const m=Le.fromDom(o.getContainer()),y=Jz(o,i,c,Hr(m),vi(m));lo(y,(_,C)=>{je(_)&&un(m,C,Sz(_))}),J3(o)},Qz=o=>{const i=bD(o);return i===!1?Kv.None:i==="both"?Kv.Both:Kv.Vertical},Yv=(o,i,c,m)=>{const _=qs(c*20,m*20);return j_(o,_,i),L.some(!0)},Xv=(o,i)=>{const c=Qz(o);return c===Kv.None?L.none():L.some(Sd("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:i.translate("Resize")},behaviours:[qv.config({mode:"mouse",repositionTarget:!1,onDrag:(m,y,_)=>j_(o,_,c),blockerClass:"tox-blocker"}),Sn.config({mode:"special",onLeft:()=>Yv(o,c,-1,0),onRight:()=>Yv(o,c,1,0),onUp:()=>Yv(o,c,0,-1),onDown:()=>Yv(o,c,0,1)}),hr.config({}),zn.config({})]},i.icons))},oI=(o,i)=>{const c=(m,y,_)=>Vn.set(m,[Ks(i.translate(["{0} "+_,y[_]]))]);return Qs.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Lt([Nu.button(i.isDisabled),Fa(),hr.config({}),Vn.config({}),tn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),no("wordcount-events",[cf(m=>{const y=tn.getValue(m),_=y.mode==="words"?"characters":"words";tn.setValue(m,{mode:_,count:y.count}),c(m,y.count,_)}),sr(m=>{o.on("wordCountUpdate",y=>{const{mode:_}=tn.getValue(m);tn.setValue(m,{mode:_,count:y.wordCount}),c(m,y.wordCount,_)})})])]),eventOrder:{[Wi()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},IY=(o,i)=>{const c=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Pu.translate(["Powered by {0}","Tiny"])},innerHtml:EY.trim()},behaviours:Lt([zn.config({})])}]}),m=()=>{const _=[];return ZL(o)&&_.push(RY(o,{},i)),o.hasPlugin("wordcount")&&_.push(oI(o,i)),GL(o)&&_.push(c()),_.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:_}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const _=m(),C=Xv(o,i);return _.concat(C.toArray())})()}},eN=(o,i)=>i.get().getOrDie(`UI for ${o} has not been rendered`),C8=(o,i)=>{const c=o.inline,m=c?PS:tK,y=FC(o)?cG:NP,_=E$(),C=ns(),R=ns(),M=ns(),K=ki().deviceType.isTouch()?["tox-platform-touch"]:[],Q=aT(o),ie=vy(o),_e=es({dom:{tag:"div",classes:["tox-anchorbar"]}}),Ve=()=>_.mainUi.get().map(sn=>sn.outerContainer).bind(Is.getHeader),De=()=>to.fromOption(_.dialogUi.get().map(sn=>sn.sink),"UI has not been rendered"),Ie=()=>to.fromOption(_.popupUi.get().map(sn=>sn.sink),"(popup) UI has not been rendered"),pt=_.lazyGetInOuterOrDie("anchor bar",_e.getOpt),vt=_.lazyGetInOuterOrDie("toolbar",Is.getToolbar),jt=_.lazyGetInOuterOrDie("throbber",Is.getThrobber),Rt=LZ({popup:Ie,dialog:De},o,pt),Kt=()=>{const sn={attributes:{[ww]:Q?gf.BottomToTop:gf.TopToBottom}},Ln=Is.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Rt.popup,onEscape:()=>{o.focus()}}),oo=Is.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Rt.popup.shared.getSink,providers:Rt.popup.shared.providers,onEscape:()=>{o.focus()},onToolbarToggled:dI=>{D9(o,dI)},type:ie,lazyToolbar:vt,lazyHeader:()=>Ve().getOrDie("Could not find header element"),...sn}),Eo=Is.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Rt.popup.shared.providers,onEscape:()=>{o.focus()},type:ie}),qr=BC(o),Zo=sT(o),Il=nT(o),pr=tT(o),Fd=vn(),Af=qr||Zo||Il,eg=()=>qr?[Eo]:Zo?[oo]:[],HS=pr?[Fd,Ln]:[Ln];return Is.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Af?[]:["tox-editor-header--empty"]),...sn},components:Ye([Il?HS:[],eg(),wy(o)?[]:[_e.asSpec()]]),sticky:FC(o),editor:o,sharedBackstage:Rt.popup.shared})},vn=()=>Is.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),xo=()=>{const sn=Is.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Ln=Is.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[sn,Ln]}},wn=()=>{const sn=wD(o),Ln=ls(Xr(),sn)&&xt(sn,"display")==="grid",oo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(K),attributes:{...Pu.isRtl()?{dir:"rtl"}:{}}},behaviours:Lt([ta.config({useFixed:()=>y.isDocked(Ve)})])},Eo={dom:{styles:{width:document.body.clientWidth+"px"}},events:xs([St(ip(),Il=>{un(Il.element,"width",document.body.clientWidth+"px")})])},qr=Pa(hs(oo,Ln?Eo:{})),Zo=SM(qr);return R.set(Zo),{sink:qr,mothership:Zo}},bo=()=>{const sn={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(K),attributes:{...Pu.isRtl()?{dir:"rtl"}:{}}},behaviours:Lt([ta.config({useFixed:()=>y.isDocked(Ve),getBounds:()=>i.getPopupSinkBounds()})])},Ln=Pa(sn),oo=SM(Ln);return M.set(oo),{sink:Ln,mothership:oo}},Yn=()=>{const sn=Kt(),Ln=xo(),oo=Is.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Rt.popup}),Eo=Is.parts.viewWrapper({backstage:Rt.popup}),qr=WL(o)&&!c?L.some(IY(o,Rt.popup.shared.providers)):L.none(),Zo=Ye([Q?[]:[sn],c?[]:[Ln],Q?[sn]:[]]),Il=Is.parts.editorContainer({components:Ye([Zo,c?[]:qr.toArray()])}),pr=iT(o),Fd={role:"application",...Pu.isRtl()?{dir:"rtl"}:{},...pr?{"aria-hidden":"true"}:{}},Af=Pa(Is.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(c?["tox-tinymce-inline"]:[]).concat(Q?["tox-tinymce--toolbar-bottom"]:[]).concat(K),styles:{visibility:"hidden",...pr?{opacity:"0",border:"0"}:{}},attributes:Fd},components:[Il,...c?[]:[Eo],oo],behaviours:Lt([Fa(),In.config({disableClass:"tox-tinymce--disabled"}),Sn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),eg=SM(Af);return C.set(eg),{mothership:eg,outerContainer:Af}},vo=sn=>{const Ln=Sz(oK(o)),oo=Sz(S$(o));return o.inline||(pg("div","width",oo)&&un(sn.element,"width",oo),pg("div","height",Ln)?un(sn.element,"height",Ln):un(sn.element,"height","400px")),Ln},Hn=sn=>{o.addShortcut("alt+F9","focus menubar",()=>{Is.focusMenubar(sn)}),o.addShortcut("alt+F10","focus toolbar",()=>{Is.focusToolbar(sn)}),o.addCommand("ToggleToolbarDrawer",(Ln,oo)=>{oo!=null&&oo.skipFocus?Is.toggleToolbarDrawerWithoutFocusing(sn):Is.toggleToolbarDrawer(sn)}),o.addQueryStateHandler("ToggleToolbarDrawer",()=>Is.isToolbarDrawerToggled(sn))},os=sn=>{const{mainUi:Ln,popupUi:oo,uiMotherships:Eo}=sn;mo(pD(o),(o1,uN)=>{o.ui.registry.addGroupToolbarButton(uN,o1)});const{buttons:qr,menuItems:Zo,contextToolbars:Il,sidebars:pr,views:Fd}=o.ui.registry.getAll(),Af=rT(o),eg={menuItems:Zo,menus:XL(o),menubar:FL(o),toolbar:Af.getOrThunk(()=>Q2(o)),allowToolbarGroups:ie===zu.floating,buttons:qr,sidebar:pr,views:Fd};Hn(Ln.outerContainer),BZ(o,Ln.mothership,Eo),y.setup(o,Rt.popup.shared,Ve),PK(o,Rt.popup),YK(o,Rt.popup.shared.getSink,Rt.popup),bG(o),OG(o,jt,Rt.popup.shared),wK(o,Il,oo.sink,{backstage:Rt.popup}),xY(o,oo.sink);const HS=o.getElement(),dI=vo(Ln.outerContainer),Q_={targetNode:HS,height:dI};return m.render(o,sn,eg,Rt.popup,Q_)},Yt=sn=>(M.set(sn.mothership),sn),yn=()=>{const sn=Yn(),Ln=wn(),oo=wf(o)?bo():Yt(Ln);_.dialogUi.set(Ln),_.popupUi.set(oo),_.mainUi.set(sn);const Eo={popupUi:oo,dialogUi:Ln,mainUi:sn,uiMotherships:_.getUiMotherships()};return os(Eo)};return{popups:{backstage:Rt.popup,getMothership:()=>eN("popups",M)},dialogs:{backstage:Rt.dialog,getMothership:()=>eN("dialogs",R)},renderUI:yn}},S8=(o,i)=>{const c=L.from(da(o,"id")).fold(()=>{const m=dn("dialog-describe");return Jn(i,"id",m),m},Te);Jn(o,"aria-describedby",c)},AY=(o,i)=>{const c=G(o,"id").fold(()=>{const m=dn("dialog-label");return Jn(i,"id",m),m},Te);Jn(o,"aria-labelledby",c)},OY=J([Ct("lazySink"),Wo("dragBlockClass"),jr("getBounds",Ra),Be("useTabstopAt",Ot),Be("firstTabstop",0),Be("eventOrder",{}),Na("modalBehaviours",[Sn]),ir("onExecute"),Pb("onEscape")]),tN={sketch:Te},x8=J([wc({name:"draghandle",overrides:(o,i)=>({behaviours:Lt([qv.config({mode:"mouse",getTarget:c=>xl(c,'[role="dialog"]').getOr(c),blockerClass:o.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(i,null,2)).message),getBounds:o.getDragBounds})])})}),La({schema:[Ct("dom")],name:"title"}),La({factory:tN,schema:[Ct("dom")],name:"close"}),La({factory:tN,schema:[Ct("dom")],name:"body"}),wc({factory:tN,schema:[Ct("dom")],name:"footer"}),Ou({factory:{sketch:(o,i)=>({...o,dom:i.dom,components:i.components})},schema:[Be("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Be("components",[])],name:"blocker"})]),E8=(o,i,c,m)=>{const y=ns(),_=Q=>{y.set(Q);const ie=o.lazySink(Q).getOrDie(),_e=m.blocker(),Ve=ie.getSystem().build({..._e,components:_e.components.concat([Sl(Q)]),behaviours:Lt([zn.config({}),no("dialog-blocker-events",[Lg(Qh(),()=>{Sn.focusIn(Q)})])])});yf(ie,Ve),Sn.focusIn(Q)},C=Q=>{y.clear(),bl(Q.element).each(ie=>{Q.getSystem().getByDom(ie).each(_e=>{bf(_e)})})},R=Q=>_d(Q,o,"body"),M=Q=>_d(Q,o,"footer"),N=(Q,ie)=>{Am.block(Q,ie)},V=Q=>{Am.unblock(Q)},Z=dn("modal-events"),K={...o.eventOrder,[rf()]:[Z].concat(o.eventOrder["alloy.system.attached"]||[])};return{uid:o.uid,dom:o.dom,components:i,apis:{show:_,hide:C,getBody:R,getFooter:M,setIdle:V,setBusy:N},eventOrder:K,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:na(o.modalBehaviours,[Vn.config({}),Sn.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt,firstTabstop:o.firstTabstop}),Am.config({getRoot:y.get}),no(Z,[sr(Q=>{AY(Q.element,_d(Q,o,"title").element),S8(Q.element,_d(Q,o,"body").element)})])])}},oa=Nr({name:"ModalDialog",configFields:OY(),partFields:x8(),factory:E8,apis:{show:(o,i)=>{o.show(i)},hide:(o,i)=>{o.hide(i)},getBody:(o,i)=>o.getBody(i),getFooter:(o,i)=>o.getFooter(i),setBusy:(o,i,c)=>{o.setBusy(i,c)},setIdle:(o,i)=>{o.setIdle(i)}}}),DY=mt([Zr,_y].concat(Iv)),MY=Yf,nN=[kT("button"),_f,Vl("align","end",["start","end"]),HC,Ed,Ui("buttonType",["primary","secondary"])],oN=[...nN,Hp],sN=[wu("type",["submit","cancel","custom"]),...oN],PY=[wu("type",["menu"]),Sy,wT,_f,al("items",DY),...nN],zY=[...nN,wu("type",["togglebutton"]),Cr("tooltip"),vT,Sy,ui("active",!1)],rN=Vi("type",{submit:sN,cancel:sN,custom:sN,menu:PY,togglebutton:zY}),aN=[Zr,Hp,wu("level",["info","warn","error","success"]),vT,Be("url","")],NY=mt(aN),T8=o=>[Zr,o],LY=[Zr,Hp,Ed,kT("button"),_f,o9,Ui("buttonType",["primary","secondary","toolbar"]),HC],BY=mt(LY),Jv=[Zr,_y],Th=Jv.concat([DD]),FY=Jv.concat([ID,Ed]),Qv=mt(FY),R8=Yf,$Y=Th.concat([c_("auto")]),sI=mt($Y),W_=pb([Ev,Hp,vT]),rI=Th.concat([Ka("storageKey","default")]),I8=mt(rI),aI=pa,iI=mt(Th),A8=pa,O8=Jv.concat([Ka("tag","textarea"),Cr("scriptId"),Cr("scriptUrl"),Z0("settings",void 0)]),VY=Jv.concat([Ka("tag","textarea"),mc("init")]),HY=Vs(o=>eo("customeditor.old",Fi(VY),o).orThunk(()=>eo("customeditor.new",Fi(O8),o))),$y=pa,UY=mt(Th),D8=xg(),Z_=o=>[Zr,np("columns"),o],lI=[Zr,Cr("html"),Vl("presets","presentation",["presentation","document"])],M8=mt(lI),jY=Th.concat([ui("sandboxed",!0),ui("transparent",!0)]),WY=mt(jY),ZY=pa,GY=mt(Jv.concat([Sr("height")])),G_=mt([Cr("url"),op("zoom"),op("cachedWidth"),op("cachedHeight")]),Pte=Th.concat([Sr("inputMode"),Sr("placeholder"),ui("maximized",!1),Ed]),qY=mt(Pte),KY=pa,zte=o=>[Zr,ID,o],YY=[Hp,Ev],XY=[Hp,al("items",$l("items",()=>q_))],q_=Fl([mt(YY),mt(XY)]),JY=Th.concat([al("items",q_),Ed]),QY=mt(JY),P8=pa,eX=Th.concat([B1("items",[Hp,Ev]),Xh("size",1),Ed]),Nte=mt(eX),e=pa,s=Th.concat([ui("constrain",!0),Ed]),a=mt(s),l=mt([Cr("width"),Cr("height")]),h=Jv.concat([ID,Xh("min",0),Xh("max",0)]),g=mt(h),v=hc,S=[Zr,al("header",pa),al("cells",Vc(pa))],I=mt(S),z=Th.concat([Sr("placeholder"),ui("maximized",!1),Ed]),W=mt(z),U=pa,X=[wu("type",["directory","leaf"]),AD,Cr("id"),_u("menu",b6)],pe=mt(X),se=X.concat([al("children",$l("children",()=>Hc("type",{directory:he,leaf:pe})))]),he=mt(se),Ae=Hc("type",{directory:he,leaf:pe}),xe=[Zr,al("items",Ae),Xf("onLeafAction")],Me=mt(xe),We=Th.concat([Vl("filetype","file",["image","media","file"]),Ed]),kt=mt(We),Zt=mt([Ev,_T]),Bt=o=>Qo("items","items",Dr(),Vc(Vs(i=>eo(`Checking item of ${o}`,tt,i).fold(c=>to.error(rl(c)),c=>to.value(c))))),tt=Mr(()=>Hc("type",{alertbanner:NY,bar:mt(T8(Bt("bar"))),button:BY,checkbox:Qv,colorinput:I8,colorpicker:iI,dropzone:UY,grid:mt(Z_(Bt("grid"))),iframe:WY,input:qY,listbox:QY,selectbox:Nte,sizeinput:a,slider:g,textarea:W,urlinput:kt,customeditor:HY,htmlpanel:M8,imagepreview:GY,collection:sI,label:mt(zte(Bt("label"))),table:I,tree:Me,panel:on})),nt=[Zr,Be("classes",[]),al("items",tt)],on=mt(nt),Cn=[kT("tab"),AD,al("items",tt)],On=[Zr,B1("tabs",Cn)],so=mt(On),So=oN,ts=rN,vs=mt([Cr("title"),Hi("body",Hc("type",{panel:on,tabpanel:so})),Ka("size","normal"),al("buttons",ts),Be("initialData",{}),jr("onAction",ee),jr("onChange",ee),jr("onSubmit",ee),jr("onClose",ee),jr("onCancel",ee),jr("onTabChange",ee)]),Tr=o=>eo("dialog",vs,o),Ki=mt([wu("type",["cancel","custom"]),...So]),$a=mt([Cr("title"),Cr("url"),op("height"),op("width"),sp("buttons",Ki),jr("onAction",ee),jr("onCancel",ee),jr("onClose",ee),jr("onMessage",ee)]),Ft=o=>eo("dialog",$a,o),pn=o=>T(o)?[o].concat(ce(pi(o),pn)):$(o)?ce(o,pn):[],Lo=o=>x(o.type)&&x(o.name),Jt={checkbox:R8,colorinput:aI,colorpicker:A8,dropzone:D8,input:KY,iframe:ZY,imagepreview:G_,selectbox:e,sizeinput:l,slider:v,listbox:P8,size:l,textarea:U,urlinput:Zt,customeditor:$y,collection:W_,togglemenuitem:MY},Rn=o=>L.from(Jt[o.type]),Pn=o=>Je(pn(o),Lo),Qt=o=>{const i=Pn(o),c=ce(i,m=>Rn(m).fold(()=>[],y=>[Hi(m.name,y)]));return mt(c)},po=o=>{var i;const c=Cl(Tr(o)),m=Qt(o),y=(i=o.initialData)!==null&&i!==void 0?i:{};return{internalDialog:c,dataValidator:m,initialData:y}},ao={open:(o,i)=>{const c=po(i);return o(c.internalDialog,c.initialData,c.dataValidator)},openUrl:(o,i)=>{const c=Cl(Ft(i));return o(c)},redial:o=>po(o)};var js=Object.freeze({__proto__:null,events:(o,i)=>{const c=(m,y)=>{o.updateState.each(_=>{const C=_(m,y);i.set(C)}),o.renderComponents.each(_=>{const C=_(y,i.get());(o.reuseDom?tL:eL)(m,C)})};return xs([St(or(),(m,y)=>{const _=y;if(!_.universal){const C=o.channel;Gn(_.channels,C)&&c(m,_.data)}}),sr((m,y)=>{o.initialData.each(_=>{c(m,_)})})])}}),Vo=Object.freeze({__proto__:null,getState:(o,i,c)=>c}),Gr=[Ct("channel"),Wo("renderComponents"),Wo("updateState"),Wo("initialData"),ui("reuseDom",!0)],mr=Object.freeze({__proto__:null,init:()=>{const o=D(L.none()),i=()=>o.set(L.none());return{readState:()=>o.get().getOr("none"),get:o.get,set:o.set,clear:i}}});const rs=Qa({fields:Gr,name:"reflecting",active:js,apis:Vo,state:mr}),Ws=o=>{const i=[],c={};return lo(o,(m,y)=>{m.fold(()=>{i.push(y)},_=>{c[y]=_})}),i.length>0?to.error(i):to.value(c)},sa=(o,i,c)=>{const m=es(k_.sketch(y=>({dom:{tag:"div",classes:["tox-form"].concat(o.classes)},components:Ee(o.items,_=>SP(y,_,i,c))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[m.asSpec()]}],behaviours:Lt([Sn.config({mode:"acyclic",useTabstopAt:Ue(dS)}),eu.memento(m),Fu.memento(m,{postprocess:y=>Ws(y).fold(_=>(console.error(_),{}),Te)})])}},Md=(o,i)=>({uid:o.uid,dom:o.dom,components:o.components,events:U2(o.action),behaviours:na(o.tabButtonBehaviours,[zn.config({}),Sn.config({mode:"execution",useSpace:!0,useEnter:!0}),tn.config({store:{mode:"memory",initialValue:o.value}})]),domModification:o.domModification}),Yi=fr({name:"TabButton",configFields:[Be("uid",void 0),Ct("value"),Qo("dom","dom",tf(()=>({attributes:{role:"tab",id:dn("aria"),"aria-selected":"false"}})),Aa()),Wo("action"),Be("domModification",{}),Na("tabButtonBehaviours",[zn,Sn,tn]),Ct("view")],factory:Md}),Rh=J([Ct("tabs"),Ct("dom"),Be("clickToDismiss",!1),Na("tabbarBehaviours",[No,Sn]),mp(["tabClass","selectedClass"])]),Hu=ym({factory:Yi,name:"tabs",unit:"tab",overrides:o=>{const i=(m,y)=>{No.dehighlight(m,y),xn(m,Rx(),{tabbar:m,button:y})},c=(m,y)=>{No.highlight(m,y),xn(m,X0(),{tabbar:m,button:y})};return{action:m=>{const y=m.getSystem().getByUid(o.uid).getOrDie(),_=No.isHighlighted(y,m);(()=>_&&o.clickToDismiss?i:_?ee:c)()(y,m)},domModification:{classes:[o.markers.tabClass]}}}}),e1=J([Hu]),t1=(o,i,c,m)=>({uid:o.uid,dom:o.dom,components:i,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:na(o.tabbarBehaviours,[No.config({highlightClass:o.markers.selectedClass,itemClass:o.markers.tabClass,onHighlight:(y,_)=>{Jn(_.element,"aria-selected","true")},onDehighlight:(y,_)=>{Jn(_.element,"aria-selected","false")}}),Sn.config({mode:"flow",getInitial:y=>No.getHighlighted(y).map(_=>_.element),selector:"."+o.markers.tabClass,executeOnMove:!0})])}),Tf=Nr({name:"Tabbar",configFields:Rh(),partFields:e1(),factory:t1}),Rf=(o,i)=>({uid:o.uid,dom:o.dom,behaviours:na(o.tabviewBehaviours,[Vn.config({})]),domModification:{attributes:{role:"tabpanel"}}}),ka=fr({name:"Tabview",configFields:[Na("tabviewBehaviours",[Vn])],factory:Rf}),Pd=J([Be("selectFirst",!0),Co("onChangeTab"),Co("onDismissTab"),Be("tabs",[]),Na("tabSectionBehaviours",[])]),Ih=La({factory:Tf,schema:[Ct("dom"),cd("markers",[Ct("tabClass"),Ct("selectedClass")])],name:"tabbar",defaults:o=>({tabs:o.tabs})}),zd=La({factory:ka,name:"tabview"}),Nd=J([Ih,zd]),Om=(o,i,c,m)=>{const y=C=>{const R=tn.getValue(C);bs(C,o,"tabview").each(M=>{Oe(o.tabs,V=>V.value===R).each(V=>{const Z=V.view();G(C.element,"id").each(K=>{Jn(M.element,"aria-labelledby",K)}),Vn.set(M,Z),o.onChangeTab(M,C,Z)})})},_=(C,R)=>{bs(C,o,"tabbar").each(M=>{R(M).each(af)})};return{uid:o.uid,dom:o.dom,components:i,behaviours:qc(o.tabSectionBehaviours),events:xs(Ye([o.selectFirst?[sr((C,R)=>{_(C,No.getFirst)})]:[],[St(X0(),(C,R)=>{const M=R.event.button;y(M)}),St(Rx(),(C,R)=>{const M=R.event.button;o.onDismissTab(C,M)})]])),apis:{getViewItems:C=>bs(C,o,"tabview").map(R=>Vn.contents(R)).getOr([]),showTab:(C,R)=>{_(C,N=>{const V=No.getCandidates(N);return Oe(V,K=>tn.getValue(K)===R).filter(K=>!No.isHighlighted(N,K))})}}}},Va=Nr({name:"TabSection",configFields:Pd(),partFields:Nd(),factory:Om,apis:{getViewItems:(o,i)=>o.getViewItems(i),showTab:(o,i,c)=>{o.showTab(i,c)}}}),Jp=(o,i,c)=>Ee(o,(m,y)=>{Vn.set(c,o[y].view());const _=i.dom.getBoundingClientRect();return Vn.set(c,[]),_.height}),Dm=o=>zt(Xe(o,(i,c)=>i>c?-1:i<c?1:0)),If=(o,i,c)=>{const m=Lf(o).dom,y=xl(o,".tox-dialog-wrap").getOr(o),_=xt(y,"position")==="fixed";let C;_?C=Math.max(m.clientHeight,window.innerHeight):C=Math.max(m.offsetHeight,m.scrollHeight);const R=Hr(i),N=i.dom.offsetLeft>=c.dom.offsetLeft+vi(c)?Math.max(Hr(c),R):R,V=parseInt(xt(o,"margin-top"),10)||0,Z=parseInt(xt(o,"margin-bottom"),10)||0,Q=Hr(o)+V+Z-N;return C-Q},Vy=(o,i)=>{zt(o).each(c=>Va.showTab(i,c.value))},K_=(o,i)=>{un(o,"height",i+"px"),un(o,"flex-basis",i+"px")},Y_=(o,i,c)=>{xl(o,'[role="dialog"]').each(m=>{Ys(m,'[role="tablist"]').each(y=>{c.get().map(_=>(un(i,"height","0"),un(i,"flex-basis","0"),Math.min(_,If(m,i,y)))).each(_=>{K_(i,_)})})})},X_=o=>Ys(o,'[role="tabpanel"]'),iN=o=>{const i=ns();return{extraEvents:[sr(y=>{const _=y.element;X_(_).each(C=>{un(C,"visibility","hidden"),y.getSystem().getByDom(C).toOptional().each(R=>{const M=Jp(o,C,R);Dm(M).fold(i.clear,i.set)}),Y_(_,C,i),Ro(C,"visibility"),Vy(o,y),requestAnimationFrame(()=>{Y_(_,C,i)})})}),St(ip(),y=>{const _=y.element;X_(_).each(C=>{Y_(_,C,i)})}),St($B,(y,_)=>{const C=y.element;X_(C).each(R=>{const M=pf($r(R));un(R,"visibility","hidden");const N=er(R,"height").map(K=>parseInt(K,10));Ro(R,"height"),Ro(R,"flex-basis");const V=R.dom.getBoundingClientRect().height;N.forall(K=>V>K)?(i.set(V),Y_(C,R,i)):N.each(K=>{K_(R,K)}),Ro(R,"visibility"),M.each(xu)})})],selectFirst:!1}},cI="send-data-to-section",lN="send-data-to-view",Ah=(o,i,c)=>{const m=D({}),y=N=>{const V=tn.getValue(N),Z=Ws(V).getOr({}),K=m.get(),Q=hs(K,Z);m.set(Q)},_=N=>{const V=m.get();tn.setValue(N,V)},C=D(null),R=Ee(o.tabs,N=>({value:N.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Ks(c.shared.providers.translate(N.title))],view:()=>[k_.sketch(V=>({dom:{tag:"div",classes:["tox-form"]},components:Ee(N.items,Z=>SP(V,Z,i,c)),formBehaviours:Lt([Sn.config({mode:"acyclic",useTabstopAt:Ue(dS)}),no("TabView.form.events",[sr(_),il(y)]),Pr.config({channels:$o([{key:cI,value:{onReceive:y}},{key:lN,value:{onReceive:_}}])})])}))]})),M=iN(R);return Va.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(N,V,Z)=>{const K=tn.getValue(V);xn(N,FB,{name:K,oldName:C.get()}),C.set(K)},tabs:R,components:[Va.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Tf.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Lt([hr.config({})])}),Va.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:M.selectFirst,tabSectionBehaviours:Lt([no("tabpanel",M.extraEvents),Sn.config({mode:"acyclic"}),yo.config({find:N=>zt(Va.getViewItems(N))}),Fu.withComp(L.none(),N=>(N.getSystem().broadcastOn([cI],{}),m.get()),(N,V)=>{m.set(V),N.getSystem().broadcastOn([lN],{})})])})},Hy=dn("update-dialog"),qe=dn("update-title"),Ke=dn("update-body"),$t=dn("update-footer"),Mt=dn("body-send-message"),En=(o,i,c,m,y)=>{const _=M=>{const N=M.body;switch(N.type){case"tabpanel":return[Ah(N,M.initialData,m)];default:return[sa(N,M.initialData,m)]}},C=(M,N)=>L.some({isTabPanel:()=>N.body.type==="tabpanel"}),R={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...c.map(M=>({id:M})).getOr({}),...y?R:{}}},components:[],behaviours:Lt([eu.childAt(0),rs.config({channel:`${Ke}-${i}`,updateState:C,renderComponents:_,initialData:o})])}},Bo=(o,i,c,m,y)=>En(o,i,L.some(c),m,y),Bs=(o,i,c)=>{const m=En(o,i,L.none(),c,!1);return oa.parts.body(m)},Fs=o=>{const i={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[RF({dom:{tag:"iframe",attributes:{src:o.url}},behaviours:Lt([hr.config({}),zn.config({})])})]}],behaviours:Lt([Sn.config({mode:"acyclic",useTabstopAt:Ue(dS)})])};return oa.parts.body(i)};function Ld(o){return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ld(o)}function n1(o,i){return n1=Object.setPrototypeOf||function(m,y){return m.__proto__=y,m},n1(o,i)}function z8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $S(o,i,c){return z8()?$S=Reflect.construct:$S=function(y,_,C){var R=[null];R.push.apply(R,_);var M=Function.bind.apply(y,R),N=new M;return C&&n1(N,C.prototype),N},$S.apply(null,arguments)}function Oh(o){return ho(o)||ct(o)||gn(o)||Lr()}function ho(o){if(Array.isArray(o))return Un(o)}function ct(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function gn(o,i){if(!!o){if(typeof o=="string")return Un(o,i);var c=Object.prototype.toString.call(o).slice(8,-1);if(c==="Object"&&o.constructor&&(c=o.constructor.name),c==="Map"||c==="Set")return Array.from(o);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Un(o,i)}}function Un(o,i){(i==null||i>o.length)&&(i=o.length);for(var c=0,m=new Array(i);c<i;c++)m[c]=o[c];return m}function Lr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Uu=Object.hasOwnProperty,Ql=Object.setPrototypeOf,ec=Object.isFrozen,uI=Object.getPrototypeOf,tc=Object.getOwnPropertyDescriptor,xc=Object.freeze,Mm=Object.seal,tX=Object.create,nX=typeof Reflect<"u"&&Reflect,N8=nX.apply,oX=nX.construct;N8||(N8=function(i,c,m){return i.apply(c,m)}),xc||(xc=function(i){return i}),Mm||(Mm=function(i){return i}),oX||(oX=function(i,c){return $S(i,Oh(c))});var mue=Qp(Array.prototype.forEach),pue=Qp(Array.prototype.pop),cN=Qp(Array.prototype.push),L8=Qp(String.prototype.toLowerCase),gue=Qp(String.prototype.match),J_=Qp(String.prototype.replace),yue=Qp(String.prototype.indexOf),bue=Qp(String.prototype.trim),Bd=Qp(RegExp.prototype.test),sX=vue(TypeError);function Qp(o){return function(i){for(var c=arguments.length,m=new Array(c>1?c-1:0),y=1;y<c;y++)m[y-1]=arguments[y];return N8(o,i,m)}}function vue(o){return function(){for(var i=arguments.length,c=new Array(i),m=0;m<i;m++)c[m]=arguments[m];return oX(o,c)}}function Os(o,i){Ql&&Ql(o,null);for(var c=i.length;c--;){var m=i[c];if(typeof m=="string"){var y=L8(m);y!==m&&(ec(i)||(i[c]=y),m=y)}o[m]=!0}return o}function VS(o){var i=tX(null),c;for(c in o)N8(Uu,o,[c])&&(i[c]=o[c]);return i}function B8(o,i){for(;o!==null;){var c=tc(o,i);if(c){if(c.get)return Qp(c.get);if(typeof c.value=="function")return Qp(c.value)}o=uI(o)}function m(y){return console.warn("fallback value for",y),null}return m}var Lte=xc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),rX=xc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),aX=xc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),wue=xc(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),iX=xc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),_ue=xc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Bte=xc(["#text"]),Fte=xc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),lX=xc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$te=xc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),F8=xc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),kue=Mm(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Cue=Mm(/<%[\w\W]*|[\w\W]*%>/gm),Sue=Mm(/^data-[\-\w.\u00B7-\uFFFF]/),xue=Mm(/^aria-[\-\w]+$/),Eue=Mm(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Tue=Mm(/^(?:\w+script|data):/i),Rue=Mm(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Iue=Mm(/^html$/i),Aue=function(){return typeof window>"u"?null:window},Oue=function(i,c){if(Ld(i)!=="object"||typeof i.createPolicy!="function")return null;var m=null,y="data-tt-policy-suffix";c.currentScript&&c.currentScript.hasAttribute(y)&&(m=c.currentScript.getAttribute(y));var _="dompurify"+(m?"#"+m:"");try{return i.createPolicy(_,{createHTML:function(R){return R}})}catch{return console.warn("TrustedTypes policy "+_+" could not be created."),null}};function Vte(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Aue(),i=function(ft){return Vte(ft)};if(i.version="2.3.8",i.removed=[],!o||!o.document||o.document.nodeType!==9)return i.isSupported=!1,i;var c=o.document,m=o.document,y=o.DocumentFragment,_=o.HTMLTemplateElement,C=o.Node,R=o.Element,M=o.NodeFilter,N=o.NamedNodeMap,V=N===void 0?o.NamedNodeMap||o.MozNamedAttrMap:N,Z=o.HTMLFormElement,K=o.DOMParser,Q=o.trustedTypes,ie=R.prototype,_e=B8(ie,"cloneNode"),Ve=B8(ie,"nextSibling"),De=B8(ie,"childNodes"),Ie=B8(ie,"parentNode");if(typeof _=="function"){var pt=m.createElement("template");pt.content&&pt.content.ownerDocument&&(m=pt.content.ownerDocument)}var vt=Oue(Q,c),jt=vt?vt.createHTML(""):"",Rt=m,Kt=Rt.implementation,vn=Rt.createNodeIterator,xo=Rt.createDocumentFragment,wn=Rt.getElementsByTagName,bo=c.importNode,Yn={};try{Yn=VS(m).documentMode?m.documentMode:{}}catch{}var vo={};i.isSupported=typeof Ie=="function"&&Kt&&typeof Kt.createHTMLDocument<"u"&&Yn!==9;var Hn=kue,os=Cue,Yt=Sue,yn=xue,sn=Tue,Ln=Rue,oo=Eue,Eo=null,qr=Os({},[].concat(Oh(Lte),Oh(rX),Oh(aX),Oh(iX),Oh(Bte))),Zo=null,Il=Os({},[].concat(Oh(Fte),Oh(lX),Oh($te),Oh(F8))),pr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Fd=null,Af=null,eg=!0,HS=!0,dI=!1,Q_=!1,o1=!1,uN=!1,hX=!1,fI=!1,$8=!1,V8=!1,lne=!0,mX=!0,dN=!1,hI={},mI=null,cne=Os({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),une=null,dne=Os({},["audio","video","img","source","image","track"]),pX=null,fne=Os({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),gX="http://www.w3.org/1998/Math/MathML",yX="http://www.w3.org/2000/svg",e0="http://www.w3.org/1999/xhtml",H8=e0,bX=!1,pI,sde=["application/xhtml+xml","text/html"],rde="text/html",US,gI=null,ade=m.createElement("form"),hne=function(ft){return ft instanceof RegExp||ft instanceof Function},vX=function(ft){gI&&gI===ft||((!ft||Ld(ft)!=="object")&&(ft={}),ft=VS(ft),Eo="ALLOWED_TAGS"in ft?Os({},ft.ALLOWED_TAGS):qr,Zo="ALLOWED_ATTR"in ft?Os({},ft.ALLOWED_ATTR):Il,pX="ADD_URI_SAFE_ATTR"in ft?Os(VS(fne),ft.ADD_URI_SAFE_ATTR):fne,une="ADD_DATA_URI_TAGS"in ft?Os(VS(dne),ft.ADD_DATA_URI_TAGS):dne,mI="FORBID_CONTENTS"in ft?Os({},ft.FORBID_CONTENTS):cne,Fd="FORBID_TAGS"in ft?Os({},ft.FORBID_TAGS):{},Af="FORBID_ATTR"in ft?Os({},ft.FORBID_ATTR):{},hI="USE_PROFILES"in ft?ft.USE_PROFILES:!1,eg=ft.ALLOW_ARIA_ATTR!==!1,HS=ft.ALLOW_DATA_ATTR!==!1,dI=ft.ALLOW_UNKNOWN_PROTOCOLS||!1,Q_=ft.SAFE_FOR_TEMPLATES||!1,o1=ft.WHOLE_DOCUMENT||!1,fI=ft.RETURN_DOM||!1,$8=ft.RETURN_DOM_FRAGMENT||!1,V8=ft.RETURN_TRUSTED_TYPE||!1,hX=ft.FORCE_BODY||!1,lne=ft.SANITIZE_DOM!==!1,mX=ft.KEEP_CONTENT!==!1,dN=ft.IN_PLACE||!1,oo=ft.ALLOWED_URI_REGEXP||oo,H8=ft.NAMESPACE||e0,ft.CUSTOM_ELEMENT_HANDLING&&hne(ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(pr.tagNameCheck=ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&hne(ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(pr.attributeNameCheck=ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&typeof ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(pr.allowCustomizedBuiltInElements=ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pI=sde.indexOf(ft.PARSER_MEDIA_TYPE)===-1?pI=rde:pI=ft.PARSER_MEDIA_TYPE,US=pI==="application/xhtml+xml"?function(bn){return bn}:L8,Q_&&(HS=!1),$8&&(fI=!0),hI&&(Eo=Os({},Oh(Bte)),Zo=[],hI.html===!0&&(Os(Eo,Lte),Os(Zo,Fte)),hI.svg===!0&&(Os(Eo,rX),Os(Zo,lX),Os(Zo,F8)),hI.svgFilters===!0&&(Os(Eo,aX),Os(Zo,lX),Os(Zo,F8)),hI.mathMl===!0&&(Os(Eo,iX),Os(Zo,$te),Os(Zo,F8))),ft.ADD_TAGS&&(Eo===qr&&(Eo=VS(Eo)),Os(Eo,ft.ADD_TAGS)),ft.ADD_ATTR&&(Zo===Il&&(Zo=VS(Zo)),Os(Zo,ft.ADD_ATTR)),ft.ADD_URI_SAFE_ATTR&&Os(pX,ft.ADD_URI_SAFE_ATTR),ft.FORBID_CONTENTS&&(mI===cne&&(mI=VS(mI)),Os(mI,ft.FORBID_CONTENTS)),mX&&(Eo["#text"]=!0),o1&&Os(Eo,["html","head","body"]),Eo.table&&(Os(Eo,["tbody"]),delete Fd.tbody),xc&&xc(ft),gI=ft)},mne=Os({},["mi","mo","mn","ms","mtext"]),pne=Os({},["foreignobject","desc","title","annotation-xml"]),ide=Os({},["title","style","font","a","script"]),U8=Os({},rX);Os(U8,aX),Os(U8,wue);var wX=Os({},iX);Os(wX,_ue);var lde=function(ft){var bn=Ie(ft);(!bn||!bn.tagName)&&(bn={namespaceURI:e0,tagName:"template"});var Xn=L8(ft.tagName),ra=L8(bn.tagName);return ft.namespaceURI===yX?bn.namespaceURI===e0?Xn==="svg":bn.namespaceURI===gX?Xn==="svg"&&(ra==="annotation-xml"||mne[ra]):Boolean(U8[Xn]):ft.namespaceURI===gX?bn.namespaceURI===e0?Xn==="math":bn.namespaceURI===yX?Xn==="math"&&pne[ra]:Boolean(wX[Xn]):ft.namespaceURI===e0?bn.namespaceURI===yX&&!pne[ra]||bn.namespaceURI===gX&&!mne[ra]?!1:!wX[Xn]&&(ide[Xn]||!U8[Xn]):!1},s1=function(ft){cN(i.removed,{element:ft});try{ft.parentNode.removeChild(ft)}catch{try{ft.outerHTML=jt}catch{ft.remove()}}},j8=function(ft,bn){try{cN(i.removed,{attribute:bn.getAttributeNode(ft),from:bn})}catch{cN(i.removed,{attribute:null,from:bn})}if(bn.removeAttribute(ft),ft==="is"&&!Zo[ft])if(fI||$8)try{s1(bn)}catch{}else try{bn.setAttribute(ft,"")}catch{}},gne=function(ft){var bn,Xn;if(hX)ft="<remove></remove>"+ft;else{var ra=gue(ft,/^[\r\n\t ]+/);Xn=ra&&ra[0]}pI==="application/xhtml+xml"&&(ft='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ft+"</body></html>");var Of=vt?vt.createHTML(ft):ft;if(H8===e0)try{bn=new K().parseFromString(Of,pI)}catch{}if(!bn||!bn.documentElement){bn=Kt.createDocument(H8,"template",null);try{bn.documentElement.innerHTML=bX?"":Of}catch{}}var ju=bn.body||bn.documentElement;return ft&&Xn&&ju.insertBefore(m.createTextNode(Xn),ju.childNodes[0]||null),H8===e0?wn.call(bn,o1?"html":"body")[0]:o1?bn.documentElement:ju},yne=function(ft){return vn.call(ft.ownerDocument||ft,ft,M.SHOW_ELEMENT|M.SHOW_COMMENT|M.SHOW_TEXT,null,!1)},cde=function(ft){return ft instanceof Z&&(typeof ft.nodeName!="string"||typeof ft.textContent!="string"||typeof ft.removeChild!="function"||!(ft.attributes instanceof V)||typeof ft.removeAttribute!="function"||typeof ft.setAttribute!="function"||typeof ft.namespaceURI!="string"||typeof ft.insertBefore!="function")},fN=function(ft){return Ld(C)==="object"?ft instanceof C:ft&&Ld(ft)==="object"&&typeof ft.nodeType=="number"&&typeof ft.nodeName=="string"},r1=function(ft,bn,Xn){!vo[ft]||mue(vo[ft],function(ra){ra.call(i,bn,Xn,gI)})},bne=function(ft){var bn;if(r1("beforeSanitizeElements",ft,null),cde(ft)||Bd(/[\u0080-\uFFFF]/,ft.nodeName))return s1(ft),!0;var Xn=US(ft.nodeName);if(r1("uponSanitizeElement",ft,{tagName:Xn,allowedTags:Eo}),ft.hasChildNodes()&&!fN(ft.firstElementChild)&&(!fN(ft.content)||!fN(ft.content.firstElementChild))&&Bd(/<[/\w]/g,ft.innerHTML)&&Bd(/<[/\w]/g,ft.textContent)||Xn==="select"&&Bd(/<template/i,ft.innerHTML))return s1(ft),!0;if(!Eo[Xn]||Fd[Xn]){if(!Fd[Xn]&&wne(Xn)&&(pr.tagNameCheck instanceof RegExp&&Bd(pr.tagNameCheck,Xn)||pr.tagNameCheck instanceof Function&&pr.tagNameCheck(Xn)))return!1;if(mX&&!mI[Xn]){var ra=Ie(ft)||ft.parentNode,Of=De(ft)||ft.childNodes;if(Of&&ra)for(var ju=Of.length,ou=ju-1;ou>=0;--ou)ra.insertBefore(_e(Of[ou],!0),Ve(ft))}return s1(ft),!0}return ft instanceof R&&!lde(ft)||(Xn==="noscript"||Xn==="noembed")&&Bd(/<\/no(script|embed)/i,ft.innerHTML)?(s1(ft),!0):(Q_&&ft.nodeType===3&&(bn=ft.textContent,bn=J_(bn,Hn," "),bn=J_(bn,os," "),ft.textContent!==bn&&(cN(i.removed,{element:ft.cloneNode()}),ft.textContent=bn)),r1("afterSanitizeElements",ft,null),!1)},vne=function(ft,bn,Xn){if(lne&&(bn==="id"||bn==="name")&&(Xn in m||Xn in ade))return!1;if(!(HS&&!Af[bn]&&Bd(Yt,bn))){if(!(eg&&Bd(yn,bn))){if(!Zo[bn]||Af[bn]){if(!(wne(ft)&&(pr.tagNameCheck instanceof RegExp&&Bd(pr.tagNameCheck,ft)||pr.tagNameCheck instanceof Function&&pr.tagNameCheck(ft))&&(pr.attributeNameCheck instanceof RegExp&&Bd(pr.attributeNameCheck,bn)||pr.attributeNameCheck instanceof Function&&pr.attributeNameCheck(bn))||bn==="is"&&pr.allowCustomizedBuiltInElements&&(pr.tagNameCheck instanceof RegExp&&Bd(pr.tagNameCheck,Xn)||pr.tagNameCheck instanceof Function&&pr.tagNameCheck(Xn))))return!1}else if(!pX[bn]){if(!Bd(oo,J_(Xn,Ln,""))){if(!((bn==="src"||bn==="xlink:href"||bn==="href")&&ft!=="script"&&yue(Xn,"data:")===0&&une[ft])){if(!(dI&&!Bd(sn,J_(Xn,Ln,"")))){if(Xn)return!1}}}}}}return!0},wne=function(ft){return ft.indexOf("-")>0},_ne=function(ft){var bn,Xn,ra,Of;r1("beforeSanitizeAttributes",ft,null);var ju=ft.attributes;if(!!ju){var ou={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Zo};for(Of=ju.length;Of--;){bn=ju[Of];var W8=bn,su=W8.name,kne=W8.namespaceURI;Xn=su==="value"?bn.value:bue(bn.value),ra=US(su);var dde=Xn;if(ou.attrName=ra,ou.attrValue=Xn,ou.keepAttr=!0,ou.forceKeepAttr=void 0,r1("uponSanitizeAttribute",ft,ou),Xn=ou.attrValue,!ou.forceKeepAttr){if(!ou.keepAttr){j8(su,ft);continue}if(Bd(/\/>/i,Xn)){j8(su,ft);continue}Q_&&(Xn=J_(Xn,Hn," "),Xn=J_(Xn,os," "));var fde=US(ft.nodeName);if(!vne(fde,ra,Xn)){j8(su,ft);continue}if(Xn!==dde)try{kne?ft.setAttributeNS(kne,su,Xn):ft.setAttribute(su,Xn)}catch{j8(su,ft)}}}r1("afterSanitizeAttributes",ft,null)}},ude=function wo(ft){var bn,Xn=yne(ft);for(r1("beforeSanitizeShadowDOM",ft,null);bn=Xn.nextNode();)r1("uponSanitizeShadowNode",bn,null),!bne(bn)&&(bn.content instanceof y&&wo(bn.content),_ne(bn));r1("afterSanitizeShadowDOM",ft,null)};return i.sanitize=function(wo,ft){var bn,Xn,ra,Of,ju;if(bX=!wo,bX&&(wo="<!-->"),typeof wo!="string"&&!fN(wo)){if(typeof wo.toString!="function")throw sX("toString is not a function");if(wo=wo.toString(),typeof wo!="string")throw sX("dirty is not a string, aborting")}if(!i.isSupported){if(Ld(o.toStaticHTML)==="object"||typeof o.toStaticHTML=="function"){if(typeof wo=="string")return o.toStaticHTML(wo);if(fN(wo))return o.toStaticHTML(wo.outerHTML)}return wo}if(uN||vX(ft),i.removed=[],typeof wo=="string"&&(dN=!1),dN){if(wo.nodeName){var ou=US(wo.nodeName);if(!Eo[ou]||Fd[ou])throw sX("root node is forbidden and cannot be sanitized in-place")}}else if(wo instanceof C)bn=gne("<!---->"),Xn=bn.ownerDocument.importNode(wo,!0),Xn.nodeType===1&&Xn.nodeName==="BODY"||Xn.nodeName==="HTML"?bn=Xn:bn.appendChild(Xn);else{if(!fI&&!Q_&&!o1&&wo.indexOf("<")===-1)return vt&&V8?vt.createHTML(wo):wo;if(bn=gne(wo),!bn)return fI?null:V8?jt:""}bn&&hX&&s1(bn.firstChild);for(var W8=yne(dN?wo:bn);ra=W8.nextNode();)ra.nodeType===3&&ra===Of||bne(ra)||(ra.content instanceof y&&ude(ra.content),_ne(ra),Of=ra);if(Of=null,dN)return wo;if(fI){if($8)for(ju=xo.call(bn.ownerDocument);bn.firstChild;)ju.appendChild(bn.firstChild);else ju=bn;return Zo.shadowroot&&(ju=bo.call(c,ju,!0)),ju}var su=o1?bn.outerHTML:bn.innerHTML;return o1&&Eo["!doctype"]&&bn.ownerDocument&&bn.ownerDocument.doctype&&bn.ownerDocument.doctype.name&&Bd(Iue,bn.ownerDocument.doctype.name)&&(su="<!DOCTYPE "+bn.ownerDocument.doctype.name+`>
`+su),Q_&&(su=J_(su,Hn," "),su=J_(su,os," ")),vt&&V8?vt.createHTML(su):su},i.setConfig=function(wo){vX(wo),uN=!0},i.clearConfig=function(){gI=null,uN=!1},i.isValidAttribute=function(wo,ft,bn){gI||vX({});var Xn=US(wo),ra=US(ft);return vne(Xn,ra,bn)},i.addHook=function(wo,ft){typeof ft=="function"&&(vo[wo]=vo[wo]||[],cN(vo[wo],ft))},i.removeHook=function(wo){if(vo[wo])return pue(vo[wo])},i.removeHooks=function(wo){vo[wo]&&(vo[wo]=[])},i.removeAllHooks=function(){vo={}},i}var Due=Vte();const Mue=o=>Due().sanitize(o),Pue=Cv.deviceType.isTouch(),Hte=(o,i)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[o,i]}),Ute=(o,i)=>oa.parts.close(Qs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":i.translate("Close")}},action:o,buttonBehaviours:Lt([hr.config({})])})),jte=()=>oa.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),Wte=(o,i)=>oa.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:zy(`<p>${Mue(i.translate(o))}</p>`)}]}]}),Zte=o=>oa.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:o}),Gte=(o,i)=>[_h.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:o}),_h.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:i})],cX=o=>{const i="tox-dialog",c=i+"-wrap",m=c+"__backdrop",y=i+"__disable-scroll";return oa.sketch({lazySink:o.lazySink,onEscape:_=>(o.onEscape(_),L.some(!0)),useTabstopAt:_=>!dS(_),firstTabstop:o.firstTabstop,dom:{tag:"div",classes:[i].concat(o.extraClasses),styles:{position:"relative",...o.extraStyles}},components:[o.header,o.body,...o.footer.toArray()],parts:{blocker:{dom:zy(`<div class="${c}"></div>`),components:[{dom:{tag:"div",classes:Pue?[m,m+"--opaque"]:[m]}}]}},dragBlockClass:c,modalBehaviours:Lt([zn.config({}),no("dialog-events",o.dialogEvents.concat([Lg(Qh(),(_,C)=>{Sn.focusIn(_)})])),no("scroll-lock",[sr(()=>{Qr(Xr(),y)}),il(()=>{Es(Xr(),y)})]),...o.extraBehaviours]),eventOrder:{[Wi()]:["dialog-events"],[rf()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[dd()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...o.eventOrder}})},qte=o=>Qs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close"),title:o.translate("Close")}},buttonBehaviours:Lt([hr.config({})]),components:[Sd("close",{tag:"div",classes:["tox-icon"]},o.icons)],action:i=>{zo(i,Lv)}}),Kte=(o,i,c,m)=>{const y=_=>[Ks(m.translate(_.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...c.map(_=>({id:_})).getOr({})}},components:[],behaviours:Lt([rs.config({channel:`${qe}-${i}`,initialData:o,renderComponents:y})])}},Yte=()=>({dom:zy('<div class="tox-dialog__draghandle"></div>')}),zue=(o,i,c,m)=>_h.sketch({dom:zy('<div class="tox-dialog__header"></div>'),components:[Kte(o,i,L.some(c),m),Yte(),qte(m)],containerBehaviours:Lt([qv.config({mode:"mouse",blockerClass:"blocker",getTarget:y=>pd(y,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),Nue=(o,i,c)=>{const m=oa.parts.title(Kte(o,i,L.none(),c)),y=oa.parts.draghandle(Yte()),_=oa.parts.close(qte(c)),C=[m].concat(o.draggable?[y]:[]).concat([_]);return _h.sketch({dom:zy('<div class="tox-dialog__header"></div>'),components:C})},Xte=(o,i,c)=>Nue({title:c.shared.providers.translate(o),draggable:c.dialog.isDraggableModal()},i,c.shared.providers),Jte=(o,i,c)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":c.translate(o)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:i,components:[{dom:zy('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),Qte=(o,i,c)=>({onClose:()=>c.closeWindow(),onBlock:m=>{oa.setBusy(o(),(y,_)=>Jte(m.message,_,i))},onUnblock:()=>{oa.setIdle(o())}}),ene=(o,i,c,m)=>{const y=(_,C)=>L.some(C);return Pa(cX({...o,firstTabstop:1,lazySink:m.shared.getSink,extraBehaviours:[rs.config({channel:`${Hy}-${o.id}`,updateState:y,initialData:i}),Fu.memory({}),...o.extraBehaviours],onEscape:_=>{zo(_,Lv)},dialogEvents:c,eventOrder:{[or()]:[rs.name(),Pr.name()],[rf()]:["scroll-lock",rs.name(),"messages","dialog-events","alloy.base.behaviour"],[dd()]:["alloy.base.behaviour","dialog-events","messages",rs.name(),"scroll-lock"]}}))},uX=(o,i={})=>{const c=m=>{const y=Ee(m.items,_=>{const C=Gt(i,_.name).getOr(D(!1));return{..._,storage:C}});return{...m,items:y}};return Ee(o,m=>m.type==="menu"?c(m):m)},tne=o=>re(o,(i,c)=>c.type==="menu"?re(c.items,(y,_)=>(y[_.name]=_.storage,y),i):i,{}),nne=(o,i)=>[Cb(Qh(),cW),o(tS,(c,m,y,_)=>{pf($r(_.element)).fold(ee,Ck),i.onClose(),m.onClose()}),o(Lv,(c,m,y,_)=>{m.onCancel(c),zo(_,tS)}),St(TM,(c,m)=>i.onUnblock()),St(EM,(c,m)=>i.onBlock(m.event))],dX={initUrlDialog:(o,i)=>{const c=(y,_)=>St(y,(C,R)=>{m(C,(M,N)=>{_(o(),M,R.event,C)})}),m=(y,_)=>{rs.getState(y).get().each(C=>{_(C,y)})};return[...nne(c,i),c(km,(y,_,C)=>{_.onAction(y,{name:C.name})})]},initDialog:(o,i,c)=>{const m=(_,C)=>St(_,(R,M)=>{y(R,(N,V)=>{C(o(),N,M.event,R)})}),y=(_,C)=>{rs.getState(_).get().each(R=>{C(R.internalDialog,_)})};return[...nne(m,i),m(nS,(_,C)=>C.onSubmit(_)),m(Jc,(_,C,R)=>{C.onChange(_,{name:R.name})}),m(km,(_,C,R,M)=>{const N=()=>Sn.focusIn(M),V=Q=>ae(Q,"disabled")||G(Q,"aria-disabled").exists(ie=>ie==="true"),Z=$r(M.element),K=pf(Z);C.onAction(_,{name:R.name,value:R.value}),pf(Z).fold(N,Q=>{V(Q)||K.exists(ie=>ol(Q,ie)&&V(ie))?N():c().toOptional().filter(ie=>!ol(ie.element,Q)).each(N)})}),m(FB,(_,C,R)=>{C.onTabChange(_,{newTabName:R.name,oldTabName:R.oldName})}),il(_=>{const C=o();tn.setValue(_,C.getData())})]}},Lue=(o,i)=>hR(o,o.type,i),Bue=(o,i,c)=>Oe(i,m=>m.name===c).bind(m=>m.memento.getOpt(o)),Fue=(o,i)=>{const c=i.map(R=>R.footerButtons).getOr([]),m=lt(c,R=>R.align==="start"),y=(R,M)=>_h.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${R}`]},components:Ee(M,N=>N.memento.asSpec())}),_=y("start",m.pass),C=y("end",m.fail);return[_,C]},one=(o,i,c)=>{const m=(y,_)=>{const C=Ee(_.buttons,M=>{const N=es(Lue(M,c));return{name:M.name,align:M.align,memento:N}}),R=M=>Bue(y,C,M);return L.some({lookupByName:R,footerButtons:C})};return{dom:zy('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Lt([rs.config({channel:`${$t}-${i}`,initialData:o,updateState:m,renderComponents:Fue})])}},$ue=(o,i,c)=>one(o,i,c),sne=(o,i,c)=>oa.parts.footer(one(o,i,c)),rne=(o,i)=>{if(o.getRoot().getSystem().isConnected()){const m=yo.getCurrent(o.getFormWrapper()).getOr(o.getFormWrapper());return k_.getField(m,i).orThunk(()=>{const y=o.getFooter();return rs.getState(y).get().bind(C=>C.lookupByName(i))})}else return L.none()},Vue=(o,i)=>{const c=o.getRoot();return rs.getState(c).get().map(m=>Cl(eo("data",m.dataValidator,i))).getOr(i)},ane=(o,i,c)=>{const m=ie=>{const _e=o.getRoot();_e.getSystem().isConnected()&&ie(_e)},Q={getData:()=>{const ie=o.getRoot(),_e=ie.getSystem().isConnected()?o.getFormWrapper():ie,Ve=tn.getValue(_e),De=mo(c,Ie=>Ie.get());return{...Ve,...De}},setData:ie=>{m(_e=>{const Ve=Q.getData(),De=hs(Ve,ie),Ie=Vue(o,De),pt=o.getFormWrapper();tn.setValue(pt,Ie),lo(c,(vt,jt)=>{Mo(De,jt)&&vt.set(De[jt])})})},setEnabled:(ie,_e)=>{rne(o,ie).each(_e?In.enable:In.disable)},focus:ie=>{rne(o,ie).each(zn.focus)},block:ie=>{if(!x(ie))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");m(_e=>{xn(_e,EM,{message:ie})})},unblock:()=>{m(ie=>{zo(ie,TM)})},showTab:ie=>{m(_e=>{const Ve=o.getBody();rs.getState(Ve).get().exists(Ie=>Ie.isTabPanel())&&yo.getCurrent(Ve).each(Ie=>{Va.showTab(Ie,ie)})})},redial:ie=>{m(_e=>{const Ve=o.getId(),De=i(ie),Ie=uX(De.internalDialog.buttons,c);_e.getSystem().broadcastOn([`${Hy}-${Ve}`],De),_e.getSystem().broadcastOn([`${qe}-${Ve}`],De.internalDialog),_e.getSystem().broadcastOn([`${Ke}-${Ve}`],De.internalDialog),_e.getSystem().broadcastOn([`${$t}-${Ve}`],{...De.internalDialog,buttons:Ie}),Q.setData(De.initialData)})},close:()=>{m(ie=>{zo(ie,tS)})},toggleFullscreen:o.toggleFullscreen};return Q},Hue=o=>{switch(o){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},Uue=(o,i,c)=>{const m=dn("dialog"),y=o.internalDialog,_=Xte(y.title,m,c),C=Bs({body:y.body,initialData:y.initialData},m,c),R=uX(y.buttons),M=tne(R),N=sne({buttons:R},m,c),V=dX.initDialog(()=>_e,Qte(()=>Q,c.shared.providers,i),c.shared.getSink),Z=Hue(y.size),K={id:m,header:_,body:C,footer:L.some(N),extraClasses:Z,extraBehaviours:[],extraStyles:{}},Q=ene(K,o,V,c),ie=(()=>{const Ve=()=>{const Ie=oa.getBody(Q);return yo.getCurrent(Ie).getOr(Ie)},De=()=>{const Ie="tox-dialog--fullscreen",pt=Le.fromDom(Q.element.dom);xi(pt,Ie)?(Es(pt,Ie),Su(pt,Z)):(Ei(pt,Z),Qr(pt,Ie))};return{getId:J(m),getRoot:J(Q),getBody:()=>oa.getBody(Q),getFooter:()=>oa.getFooter(Q),getFormWrapper:Ve,toggleFullscreen:De}})(),_e=ane(ie,i.redial,M);return{dialog:Q,instanceApi:_e}},jue=(o,i,c,m)=>{const y=dn("dialog"),_=dn("dialog-label"),C=dn("dialog-content"),R=o.internalDialog,M=(pt,vt)=>L.some(vt),N=es(zue({title:R.title,draggable:!0},y,_,c.shared.providers)),V=es(Bo({body:R.body,initialData:R.initialData},y,C,c,m)),Z=uX(R.buttons),K=tne(Z),Q=es($ue({buttons:Z},y,c)),ie=dX.initDialog(()=>Ie,{onBlock:pt=>{Am.block(Ve,(vt,jt)=>Jte(pt.message,jt,c.shared.providers))},onUnblock:()=>{Am.unblock(Ve)},onClose:()=>i.closeWindow()},c.shared.getSink),_e="tox-dialog-inline",Ve=Pa({dom:{tag:"div",classes:["tox-dialog",_e],attributes:{role:"dialog",["aria-labelledby"]:_,["aria-describedby"]:C}},eventOrder:{[or()]:[rs.name(),Pr.name()],[Wi()]:["execute-on-form"],[rf()]:["reflecting","execute-on-form"]},behaviours:Lt([Sn.config({mode:"cyclic",onEscape:pt=>(zo(pt,tS),L.some(!0)),useTabstopAt:pt=>!dS(pt)&&(tl(pt)!=="button"||da(pt,"disabled")!=="disabled"),firstTabstop:1}),rs.config({channel:`${Hy}-${y}`,updateState:M,initialData:o}),zn.config({}),no("execute-on-form",ie.concat([Lg(Qh(),(pt,vt)=>{Sn.focusIn(pt)})])),Am.config({getRoot:()=>L.some(Ve)}),Vn.config({}),Fu.memory({})]),components:[N.asSpec(),V.asSpec(),Q.asSpec()]}),De=()=>{const pt="tox-dialog--fullscreen",vt=Le.fromDom(Ve.element.dom);ih(vt,[pt])?(Ei(vt,[pt]),Su(vt,[_e])):(Ei(vt,[_e]),Su(vt,[pt]))},Ie=ane({getId:J(y),getRoot:J(Ve),getFooter:()=>Q.get(Ve),getBody:()=>V.get(Ve),getFormWrapper:()=>{const pt=V.get(Ve);return yo.getCurrent(pt).getOr(pt)},toggleFullscreen:De},i.redial,K);return{dialog:Ve,instanceApi:Ie}};var fX=tinymce.util.Tools.resolve("tinymce.util.URI");const Wue=o=>{const i=C=>{o.getSystem().isConnected()&&C(o)};return{block:C=>{if(!x(C))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");i(R=>{xn(R,EM,{message:C})})},unblock:()=>{i(C=>{zo(C,TM)})},close:()=>{i(C=>{zo(C,tS)})},sendMessage:C=>{i(R=>{R.getSystem().broadcastOn([Mt],C)})}}},Zue=["insertContent","setContent","execCommand","close","block","unblock"],ine=o=>T(o)&&Zue.indexOf(o.mceAction)!==-1,Gue=o=>!ine(o)&&T(o)&&Mo(o,"mceAction"),que=(o,i,c)=>{switch(c.mceAction){case"insertContent":o.insertContent(c.content);break;case"setContent":o.setContent(c.content);break;case"execCommand":const m=H(c.ui)?c.ui:!1;o.execCommand(c.cmd,m,c.value);break;case"close":i.close();break;case"block":i.block(c.message);break;case"unblock":i.unblock();break}},Kue=(o,i,c,m)=>{const y=dn("dialog"),_=Xte(o.title,y,m),C=Fs(o),R=o.buttons.bind(Ie=>Ie.length===0?L.none():L.some(sne({buttons:Ie},y,m))),M=dX.initUrlDialog(()=>De,Qte(()=>Ve,m.shared.providers,i)),N={...o.height.fold(()=>({}),Ie=>({height:Ie+"px","max-height":Ie+"px"})),...o.width.fold(()=>({}),Ie=>({width:Ie+"px","max-width":Ie+"px"}))},V=o.width.isNone()&&o.height.isNone()?["tox-dialog--width-lg"]:[],Z=new fX(o.url,{base_uri:new fX(window.location.href)}),K=`${Z.protocol}://${Z.host}${Z.port?":"+Z.port:""}`,Q=gd(),ie=[no("messages",[sr(()=>{const Ie=Gi(Le.fromDom(window),"message",pt=>{if(Z.isSameOrigin(new fX(pt.raw.origin))){const vt=pt.raw.data;ine(vt)?que(c,De,vt):Gue(vt)&&o.onMessage(De,vt)}});Q.set(Ie)}),il(Q.clear)]),Pr.config({channels:{[Mt]:{onReceive:(Ie,pt)=>{Ys(Ie.element,"iframe").each(vt=>{const jt=vt.dom.contentWindow;Ne(jt)&&jt.postMessage(pt,K)})}}}})],Ve=ene({id:y,header:_,body:C,footer:R,extraClasses:V,extraBehaviours:ie,extraStyles:N},o,M,m),De=Wue(Ve);return{dialog:Ve,instanceApi:De}},Yue=o=>{const i=o.shared;return{open:(m,y)=>{const _=()=>{oa.hide(N),y()},C=es(hR({name:"close-alert",text:"OK",primary:!0,buttonType:L.some("primary"),align:"end",enabled:!0,icon:L.none()},"cancel",o)),R=jte(),M=Ute(_,i.providers),N=Pa(cX({lazySink:()=>i.getSink(),header:Hte(R,M),body:Wte(m,i.providers),footer:L.some(Zte(Gte([],[C.asSpec()]))),onEscape:_,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[St(Lv,_)],eventOrder:{}}));oa.show(N);const V=C.get(N);zn.focus(V)}}},Xue=o=>{const i=o.shared;return{open:(m,y)=>{const _=K=>{oa.hide(V),y(K)},C=es(hR({name:"yes",text:"Yes",primary:!0,buttonType:L.some("primary"),align:"end",enabled:!0,icon:L.none()},"submit",o)),R=hR({name:"no",text:"No",primary:!1,buttonType:L.some("secondary"),align:"end",enabled:!0,icon:L.none()},"cancel",o),M=jte(),N=Ute(()=>_(!1),i.providers),V=Pa(cX({lazySink:()=>i.getSink(),header:Hte(M,N),body:Wte(m,i.providers),footer:L.some(Zte(Gte([],[R,C.asSpec()]))),onEscape:()=>_(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[St(Lv,()=>_(!1)),St(nS,()=>_(!0))],eventOrder:{}}));oa.show(V);const Z=C.get(V);zn.focus(Z)}}},Jue=(o,i)=>Cl(eo("data",i,o)),Que=o=>QC(o,".tox-alert-dialog")||QC(o,".tox-confirm-dialog"),ede=(o,i,c)=>i&&c?[]:[_a.config({contextual:{lazyContext:()=>L.some(tr(Le.fromDom(o.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:m=>JC(o,m.element).map(_=>({bounds:VT(_),optScrollEnv:L.some({currentScrollTop:_.element.dom.scrollTop,scrollElmTop:ri(_.element).top})})).getOrThunk(()=>({bounds:Ra(),optScrollEnv:L.none()}))})],tde=o=>{const i=o.editor,c=FC(i),m=Yue(o.backstages.dialog),y=Xue(o.backstages.dialog),_=(Q,ie,_e)=>ie!==void 0&&ie.inline==="toolbar"?N(Q,o.backstages.popup.shared.anchors.inlineDialog(),_e,ie.ariaAttrs):ie!==void 0&&ie.inline==="cursor"?N(Q,o.backstages.popup.shared.anchors.cursor(),_e,ie.ariaAttrs):M(Q,_e),C=(Q,ie)=>R(Q,ie),R=(Q,ie)=>{const _e=Ve=>{const De=Kue(Ve,{closeWindow:()=>{oa.hide(De.dialog),ie(De.instanceApi)}},i,o.backstages.dialog);return oa.show(De.dialog),De.instanceApi};return ao.openUrl(_e,Q)},M=(Q,ie)=>{const _e=(Ve,De,Ie)=>{const pt=De,jt=Uue({dataValidator:Ie,initialData:pt,internalDialog:Ve},{redial:ao.redial,closeWindow:()=>{oa.hide(jt.dialog),ie(jt.instanceApi)}},o.backstages.dialog);return oa.show(jt.dialog),jt.instanceApi.setData(pt),jt.instanceApi};return ao.open(_e,Q)},N=(Q,ie,_e,Ve=!1)=>{const De=(Ie,pt,vt)=>{const jt=Jue(pt,vt),Rt=ns(),Kt=o.backstages.popup.shared.header.isPositionedAtTop(),vn={dataValidator:vt,initialData:jt,internalDialog:Ie},xo=()=>Rt.on(vo=>{Us.reposition(vo),_a.refresh(vo)}),wn=jue(vn,{redial:ao.redial,closeWindow:()=>{Rt.on(Us.hide),i.off("ResizeEditor",xo),Rt.clear(),_e(wn.instanceApi)}},o.backstages.popup,Ve),bo=Pa(Us.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...Kt?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Lt([no("window-manager-inline-events",[St(nh(),(vo,Hn)=>{zo(wn.dialog,Lv)})]),...ede(i,c,Kt)]),isExtraPart:(vo,Hn)=>Que(Hn)}));Rt.set(bo);const Yn=()=>{const vo=i.inline?Xr():Le.fromDom(i.getContainer()),Hn=tr(vo);return L.some(Hn)};return Us.showWithinBounds(bo,Sl(wn.dialog),{anchor:ie},Yn),(!c||!Kt)&&(_a.refresh(bo),i.on("ResizeEditor",xo)),wn.instanceApi.setData(jt),Sn.focusIn(wn.dialog),wn.instanceApi};return ao.open(De,Q)};return{open:_,openUrl:C,alert:(Q,ie)=>{m.open(Q,ie)},close:Q=>{Q.close()},confirm:(Q,ie)=>{y.open(Q,ie)}}},nde=o=>{DL(o),N9(o),q$(o)};var ode=()=>{Gh.add("silver",o=>{nde(o);let i=()=>Ra();const{dialogs:c,popups:m,renderUI:y}=C8(o,{getPopupSinkBounds:()=>i()}),_=async()=>{const M=await y();return JC(o,m.getMothership().element).each(V=>{i=()=>VT(V)}),M};kU.register(o,m.backstage.shared);const C=tde({editor:o,backstages:{popup:m.backstage,dialog:c.backstage}}),R=()=>AH(o,{backstage:m.backstage},m.getMothership());return{renderUI:_,getWindowManagerImpl:J(C),getNotificationManagerImpl:R}})};ode()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=ce=>Fe=>ce===Fe,r=n(null),u=n(void 0),f=ce=>ce==null,d=ce=>!f(ce),w=()=>{},T=(ce=>()=>ce)(!1);class A{constructor(Fe,et){this.tag=Fe,this.value=et}static some(Fe){return new A(!0,Fe)}static none(){return A.singletonNone}fold(Fe,et){return this.tag?et(this.value):Fe()}isSome(){return this.tag}isNone(){return!this.tag}map(Fe){return this.tag?A.some(Fe(this.value)):A.none()}bind(Fe){return this.tag?Fe(this.value):A.none()}exists(Fe){return this.tag&&Fe(this.value)}forall(Fe){return!this.tag||Fe(this.value)}filter(Fe){return!this.tag||Fe(this.value)?this:A.none()}getOr(Fe){return this.tag?this.value:Fe}or(Fe){return this.tag?this:Fe}getOrThunk(Fe){return this.tag?this.value:Fe()}orThunk(Fe){return this.tag?this:Fe()}getOrDie(Fe){if(this.tag)return this.value;throw new Error(Fe!=null?Fe:"Called getOrDie on None")}static from(Fe){return d(Fe)?A.some(Fe):A.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Fe){this.tag&&Fe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}A.singletonNone=new A(!1);const $=(ce,Fe)=>{for(let et=0,$e=ce.length;et<$e;et++){const oe=ce[et];if(Fe(oe,et))return!0}return!1},B=(ce,Fe)=>{const et=ce.length,$e=new Array(et);for(let oe=0;oe<et;oe++){const be=ce[oe];$e[oe]=Fe(be,oe)}return $e},H=(ce,Fe)=>{for(let et=0,$e=ce.length;et<$e;et++){const oe=ce[et];Fe(oe,et)}},le=ce=>{let Fe=ce;return{get:()=>Fe,set:oe=>{Fe=oe}}},ke=(ce,Fe)=>{let et=null;const $e=()=>{r(et)||(clearTimeout(et),et=null)};return{cancel:$e,throttle:(...be)=>{$e(),et=setTimeout(()=>{et=null,ce.apply(null,be)},Fe)}}},Ne=(ce,Fe)=>{ce.insertContent(Fe)},Se=Object.keys,je=Object.hasOwnProperty,gt=(ce,Fe)=>{const et=Se(ce);for(let $e=0,oe=et.length;$e<oe;$e++){const be=et[$e],Xe=ce[be];Fe(Xe,be)}},ee=(ce,Fe)=>ht(ce,(et,$e)=>({k:$e,v:Fe(et,$e)})),ht=(ce,Fe)=>{const et={};return gt(ce,($e,oe)=>{const be=Fe($e,oe);et[be.k]=be.v}),et},He=(ce,Fe)=>je.call(ce,Fe),Te=(ce=>(...Fe)=>{if(Fe.length===0)throw new Error("Can't merge zero objects");const et={};for(let $e=0;$e<Fe.length;$e++){const oe=Fe[$e];for(const be in oe)He(oe,be)&&(et[be]=ce(et[be],oe[be]))}return et})((ce,Fe)=>Fe),st=ce=>{const Fe=le(A.none()),et=()=>Fe.get().each(ce);return{clear:()=>{et(),Fe.set(A.none())},isSet:()=>Fe.get().isSome(),get:()=>Fe.get(),set:ut=>{et(),Fe.set(A.some(ut))}}},_t=()=>{const ce=st(w);return{...ce,on:et=>ce.get().each(et)}},Ue=(ce,Fe,et)=>Fe===""||ce.length>=Fe.length&&ce.substr(et,et+Fe.length)===Fe,de=(ce,Fe,et=0,$e)=>{const oe=ce.indexOf(Fe,et);return oe!==-1?u($e)?!0:oe+Fe.length<=$e:!1},Tn=(ce,Fe)=>Ue(ce,Fe,0);var nn=tinymce.util.Tools.resolve("tinymce.Resource");const Ot="tinymce.plugins.emoticons",L=ce=>Fe=>Fe.options.get(ce),Ht=(ce,Fe)=>{const et=ce.options.register;et("emoticons_database",{processor:"string",default:"emojis"}),et("emoticons_database_url",{processor:"string",default:`${Fe}/js/${ot(ce)}${ce.suffix}.js`}),et("emoticons_database_id",{processor:"string",default:Ot}),et("emoticons_append",{processor:"object",default:{}}),et("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},ot=L("emoticons_database"),Bn=L("emoticons_database_url"),cn=L("emoticons_database_id"),it=L("emoticons_append"),Gn=L("emoticons_images_url"),io="All",uo={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Et=(ce,Fe)=>He(ce,Fe)?ce[Fe]:Fe,Ee=ce=>{const Fe=it(ce);return ee(Fe,et=>({keywords:[],category:"user",...et}))},me=(ce,Fe,et)=>{const $e=_t(),oe=_t(),be=Gn(ce),Xe=jn=>Tn(jn.char,"<img")?jn.char.replace(/src="([^"]+)"/,(lo,mo)=>`src="${be}${mo}"`):jn.char,ut=jn=>{const lo={},mo=[];gt(jn,(Ao,ks)=>{const jo={title:ks,keywords:Ao.keywords,char:Xe(Ao),category:Et(uo,Ao.category)},zs=lo[jo.category]!==void 0?lo[jo.category]:[];lo[jo.category]=zs.concat([jo]),mo.push(jo)}),$e.set(lo),oe.set(mo)};ce.on("init",()=>{nn.load(et,Fe).then(jn=>{const lo=Ee(ce);ut(Te(jn,lo))},jn=>{console.log(`Failed to load emojis: ${jn}`),$e.set({}),oe.set([])})});const zt=jn=>jn===io?Dt():$e.get().bind(lo=>A.from(lo[jn])).getOr([]),Dt=()=>oe.get().getOr([]),Vt=()=>[io].concat(Se($e.get().getOr({}))),an=()=>_n()?Promise.resolve(!0):new Promise((jn,lo)=>{let mo=15;const Ao=setInterval(()=>{_n()?(clearInterval(Ao),jn(!0)):(mo--,mo<0&&(console.log("Could not load emojis from url: "+Fe),clearInterval(Ao),lo(!1)))},100)}),_n=()=>$e.isSet()&&oe.isSet();return{listCategories:Vt,hasLoaded:_n,waitForLoad:an,listAll:Dt,listCategory:zt}},j=(ce,Fe)=>de(ce.title.toLowerCase(),Fe)||$(ce.keywords,et=>de(et.toLowerCase(),Fe)),lt=(ce,Fe,et)=>{const $e=[],oe=Fe.toLowerCase(),be=et.fold(()=>T,Xe=>ut=>ut>=Xe);for(let Xe=0;Xe<ce.length&&!((Fe.length===0||j(ce[Xe],oe))&&($e.push({value:ce[Xe].char,text:ce[Xe].title,icon:ce[Xe].char}),be($e.length)));Xe++);return $e},Je="pattern",Tt=(ce,Fe)=>{const et={pattern:"",results:lt(Fe.listAll(),"",A.some(300))},$e=le(io),oe=Vt=>{const an=Vt.getData(),_n=$e.get(),jn=Fe.listCategory(_n),lo=lt(jn,an[Je],_n===io?A.some(300):A.none());Vt.setData({results:lo})},be=ke(Vt=>{oe(Vt)},200),Xe={label:"Search",type:"input",name:Je},ut={type:"collection",name:"results"},zt=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:B(Fe.listCategories(),an=>({title:an,name:an,items:[Xe,ut]}))},initialData:et,onTabChange:(an,_n)=>{$e.set(_n.newTabName),be.throttle(an)},onChange:be.throttle,onAction:(an,_n)=>{_n.name==="results"&&(Ne(ce,_n.value),an.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),Dt=ce.windowManager.open(zt());Dt.focus(Je),Fe.hasLoaded()||(Dt.block("Loading emojis..."),Fe.waitForLoad().then(()=>{Dt.redial(zt()),be.throttle(Dt),Dt.focus(Je),Dt.unblock()}).catch(Vt=>{Dt.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Dt.focus(Je),Dt.unblock()}))},re=(ce,Fe)=>{ce.addCommand("mceEmoticons",()=>Tt(ce,Fe))},Re=ce=>{ce.on("PreInit",()=>{ce.parser.addAttributeFilter("data-emoticon",Fe=>{H(Fe,et=>{et.attr("data-mce-resize","false"),et.attr("data-mce-placeholder","1")})})})},Oe=(ce,Fe)=>{ce.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(et,$e)=>Fe.waitForLoad().then(()=>{const oe=Fe.listAll();return lt(oe,et,A.some($e))}),onAction:(et,$e,oe)=>{ce.selection.setRng($e),ce.insertContent(oe),et.hide()}})},yt=ce=>{const Fe=()=>ce.execCommand("mceEmoticons");ce.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:Fe}),ce.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:Fe})};var Ye=()=>{t.add("emoticons",(ce,Fe)=>{Ht(ce,Fe);const et=Bn(ce),$e=cn(ce),oe=me(ce,et,$e);re(ce,oe),yt(ce),Oe(ce,oe),Re(ce)})};Ye()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"\u{1F600}",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"\u{1F62C}",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"\u{1F601}",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"\u{1F602}",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"\u{1F923}",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"\u{1F973}",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"\u{1F603}",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"\u{1F604}",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"\u{1F605}",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"\u{1F606}",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"\u{1F607}",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"\u{1F609}",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"\u{1F60A}",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"\u{1F642}",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"\u{1F643}",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"\u263A\uFE0F",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"\u{1F60B}",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"\u{1F60C}",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"\u{1F60D}",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"\u{1F970}",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"\u{1F618}",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"\u{1F617}",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"\u{1F619}",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"\u{1F61A}",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"\u{1F61C}",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"\u{1F92A}",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"\u{1F928}",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"\u{1F9D0}",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"\u{1F61D}",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"\u{1F61B}",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"\u{1F911}",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"\u{1F913}",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"\u{1F60E}",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"\u{1F929}",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"\u{1F921}",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"\u{1F920}",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"\u{1F917}",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"\u{1F60F}",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"\u{1F636}",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"\u{1F610}",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"\u{1F611}",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"\u{1F612}",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"\u{1F644}",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"\u{1F914}",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"\u{1F925}",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"\u{1F92D}",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"\u{1F92B}",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"\u{1F92C}",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"\u{1F92F}",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"\u{1F633}",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"\u{1F61E}",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"\u{1F61F}",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"\u{1F620}",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"\u{1F621}",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"\u{1F614}",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"\u{1F615}",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"\u{1F641}",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"\u2639",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"\u{1F623}",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"\u{1F616}",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"\u{1F62B}",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"\u{1F629}",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"\u{1F97A}",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"\u{1F624}",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"\u{1F62E}",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"\u{1F631}",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"\u{1F628}",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"\u{1F630}",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"\u{1F62F}",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"\u{1F626}",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"\u{1F627}",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"\u{1F622}",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"\u{1F625}",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"\u{1F924}",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"\u{1F62A}",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"\u{1F613}",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"\u{1F975}",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"\u{1F976}",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"\u{1F62D}",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"\u{1F635}",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"\u{1F632}",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"\u{1F910}",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"\u{1F922}",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"\u{1F927}",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"\u{1F92E}",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"\u{1F637}",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"\u{1F912}",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"\u{1F915}",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"\u{1F974}",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"\u{1F634}",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"\u{1F4A4}",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"\u{1F4A9}",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"\u{1F608}",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"\u{1F47F}",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"\u{1F479}",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"\u{1F47A}",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"\u{1F480}",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"\u{1F47B}",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"\u{1F47D}",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"\u{1F916}",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"\u{1F63A}",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"\u{1F638}",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"\u{1F639}",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"\u{1F63B}",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"\u{1F63C}",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"\u{1F63D}",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"\u{1F640}",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"\u{1F63F}",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"\u{1F63E}",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"\u{1F932}",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"\u{1F64C}",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"\u{1F44F}",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"\u{1F44B}",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"\u{1F919}",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"\u{1F44D}",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"\u{1F44E}",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"\u{1F44A}",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"\u270A",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"\u{1F91B}",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"\u{1F91C}",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"\u270C",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"\u{1F44C}",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"\u270B",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"\u{1F91A}",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"\u{1F450}",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"\u{1F4AA}",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"\u{1F64F}",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"\u{1F9B6}",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"\u{1F9B5}",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"\u{1F91D}",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"\u261D",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"\u{1F446}",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"\u{1F447}",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"\u{1F448}",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"\u{1F449}",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"\u{1F595}",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"\u{1F590}",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"\u{1F91F}",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"\u{1F918}",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"\u{1F91E}",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"\u{1F596}",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"\u270D",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"\u{1F933}",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"\u{1F485}",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"\u{1F444}",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"\u{1F9B7}",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"\u{1F445}",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"\u{1F442}",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"\u{1F443}",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"\u{1F441}",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"\u{1F440}",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"\u{1F9E0}",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"\u{1F464}",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"\u{1F465}",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"\u{1F5E3}",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"\u{1F476}",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"\u{1F9D2}",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"\u{1F466}",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"\u{1F467}",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"\u{1F9D1}",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"\u{1F468}",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"\u{1F469}",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"\u{1F471}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"\u{1F471}",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"\u{1F9D4}",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"\u{1F9D3}",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"\u{1F474}",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"\u{1F475}",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"\u{1F472}",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"\u{1F9D5}",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"\u{1F473}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"\u{1F473}",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"\u{1F46E}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"\u{1F46E}",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"\u{1F477}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"\u{1F477}",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"\u{1F482}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"\u{1F482}",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"\u{1F575}\uFE0F\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"\u{1F575}",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"\u{1F469}\u200D\u2695\uFE0F",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"\u{1F468}\u200D\u2695\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"\u{1F469}\u200D\u{1F33E}",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"\u{1F468}\u200D\u{1F33E}",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"\u{1F469}\u200D\u{1F373}",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"\u{1F468}\u200D\u{1F373}",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"\u{1F469}\u200D\u{1F393}",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"\u{1F468}\u200D\u{1F393}",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"\u{1F469}\u200D\u{1F3A4}",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"\u{1F468}\u200D\u{1F3A4}",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"\u{1F469}\u200D\u{1F3EB}",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"\u{1F468}\u200D\u{1F3EB}",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"\u{1F469}\u200D\u{1F3ED}",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"\u{1F468}\u200D\u{1F3ED}",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"\u{1F469}\u200D\u{1F4BB}",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"\u{1F468}\u200D\u{1F4BB}",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"\u{1F469}\u200D\u{1F4BC}",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"\u{1F468}\u200D\u{1F4BC}",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"\u{1F469}\u200D\u{1F527}",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"\u{1F468}\u200D\u{1F527}",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"\u{1F469}\u200D\u{1F52C}",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"\u{1F468}\u200D\u{1F52C}",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"\u{1F469}\u200D\u{1F3A8}",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"\u{1F468}\u200D\u{1F3A8}",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"\u{1F469}\u200D\u{1F692}",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"\u{1F468}\u200D\u{1F692}",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"\u{1F469}\u200D\u2708\uFE0F",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"\u{1F468}\u200D\u2708\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"\u{1F469}\u200D\u{1F680}",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"\u{1F468}\u200D\u{1F680}",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"\u{1F469}\u200D\u2696\uFE0F",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"\u{1F468}\u200D\u2696\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"\u{1F9B8}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"\u{1F9B8}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"\u{1F9B9}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"\u{1F9B9}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"\u{1F936}",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"\u{1F385}",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"\u{1F9D9}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"\u{1F9D9}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"\u{1F9DD}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"\u{1F9DD}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"\u{1F9DB}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"\u{1F9DB}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"\u{1F9DF}\u200D\u2640\uFE0F",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"\u{1F9DF}\u200D\u2642\uFE0F",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"\u{1F9DE}\u200D\u2640\uFE0F",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"\u{1F9DE}\u200D\u2642\uFE0F",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"\u{1F9DC}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"\u{1F9DC}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"\u{1F9DA}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"\u{1F9DA}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"\u{1F47C}",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"\u{1F930}",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"\u{1F931}",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"\u{1F478}",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"\u{1F934}",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"\u{1F470}",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"\u{1F935}",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"\u{1F3C3}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"\u{1F3C3}",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"\u{1F6B6}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"\u{1F6B6}",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"\u{1F483}",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"\u{1F57A}",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"\u{1F46F}",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"\u{1F46F}\u200D\u2642\uFE0F",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"\u{1F46B}",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"\u{1F46C}",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"\u{1F46D}",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"\u{1F647}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"\u{1F647}",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"\u{1F926}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"\u{1F926}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"\u{1F937}",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"\u{1F937}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"\u{1F481}",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"\u{1F481}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"\u{1F645}",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"\u{1F645}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"\u{1F646}",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"\u{1F646}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"\u{1F64B}",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"\u{1F64B}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"\u{1F64E}",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"\u{1F64E}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"\u{1F64D}",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"\u{1F64D}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"\u{1F487}",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"\u{1F487}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"\u{1F486}",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"\u{1F486}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"\u{1F9D6}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"\u{1F9D6}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"\u{1F491}",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F469}",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F468}",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"\u{1F48F}",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"\u{1F46A}",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"\u{1F469}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"\u{1F469}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"\u{1F468}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"\u{1F468}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"\u{1F9F6}",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"\u{1F9F5}",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"\u{1F9E5}",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"\u{1F97C}",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"\u{1F45A}",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"\u{1F455}",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"\u{1F456}",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"\u{1F454}",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"\u{1F457}",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"\u{1F459}",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"\u{1F458}",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"\u{1F484}",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"\u{1F48B}",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"\u{1F463}",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"\u{1F97F}",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"\u{1F460}",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"\u{1F461}",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"\u{1F462}",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"\u{1F45E}",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"\u{1F45F}",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"\u{1F97E}",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"\u{1F9E6}",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"\u{1F9E4}",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"\u{1F9E3}",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"\u{1F452}",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"\u{1F3A9}",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"\u{1F9E2}",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"\u26D1",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"\u{1F393}",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"\u{1F451}",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"\u{1F392}",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"\u{1F9F3}",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"\u{1F45D}",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"\u{1F45B}",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"\u{1F45C}",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"\u{1F4BC}",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"\u{1F453}",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"\u{1F576}",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"\u{1F97D}",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"\u{1F48D}",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"\u{1F302}",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"\u{1F436}",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"\u{1F431}",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"\u{1F42D}",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"\u{1F439}",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"\u{1F430}",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"\u{1F98A}",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"\u{1F43B}",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"\u{1F43C}",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"\u{1F428}",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"\u{1F42F}",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"\u{1F981}",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"\u{1F42E}",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"\u{1F437}",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"\u{1F43D}",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"\u{1F438}",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"\u{1F991}",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"\u{1F419}",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"\u{1F990}",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"\u{1F435}",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"\u{1F98D}",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"\u{1F648}",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"\u{1F649}",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"\u{1F64A}",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"\u{1F412}",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"\u{1F414}",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"\u{1F427}",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"\u{1F426}",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"\u{1F424}",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"\u{1F423}",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"\u{1F425}",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"\u{1F986}",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"\u{1F985}",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"\u{1F989}",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"\u{1F987}",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"\u{1F43A}",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"\u{1F417}",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"\u{1F434}",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"\u{1F984}",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"\u{1F41D}",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"\u{1F41B}",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"\u{1F98B}",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"\u{1F40C}",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"\u{1F41E}",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"\u{1F41C}",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"\u{1F997}",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"\u{1F577}",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"\u{1F982}",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"\u{1F980}",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"\u{1F40D}",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"\u{1F98E}",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"\u{1F996}",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"\u{1F995}",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"\u{1F422}",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"\u{1F420}",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"\u{1F41F}",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"\u{1F421}",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"\u{1F42C}",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"\u{1F988}",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"\u{1F433}",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"\u{1F40B}",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"\u{1F40A}",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"\u{1F406}",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"\u{1F993}",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"\u{1F405}",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"\u{1F403}",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"\u{1F402}",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"\u{1F404}",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"\u{1F98C}",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"\u{1F42A}",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"\u{1F42B}",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"\u{1F992}",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"\u{1F418}",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"\u{1F98F}",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"\u{1F410}",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"\u{1F40F}",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"\u{1F411}",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"\u{1F40E}",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"\u{1F416}",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"\u{1F400}",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"\u{1F401}",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"\u{1F413}",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"\u{1F983}",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"\u{1F54A}",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"\u{1F415}",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"\u{1F429}",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"\u{1F408}",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"\u{1F407}",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"\u{1F43F}",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"\u{1F994}",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"\u{1F99D}",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"\u{1F999}",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"\u{1F99B}",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"\u{1F998}",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"\u{1F9A1}",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"\u{1F9A2}",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"\u{1F99A}",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"\u{1F99C}",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"\u{1F99E}",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"\u{1F99F}",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"\u{1F43E}",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"\u{1F409}",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"\u{1F432}",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"\u{1F335}",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"\u{1F384}",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"\u{1F332}",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"\u{1F333}",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"\u{1F334}",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"\u{1F331}",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"\u{1F33F}",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"\u2618",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"\u{1F340}",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"\u{1F38D}",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"\u{1F38B}",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"\u{1F343}",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"\u{1F342}",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"\u{1F341}",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"\u{1F33E}",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"\u{1F33A}",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"\u{1F33B}",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"\u{1F339}",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"\u{1F940}",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"\u{1F337}",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"\u{1F33C}",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"\u{1F338}",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"\u{1F490}",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"\u{1F344}",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"\u{1F330}",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"\u{1F383}",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"\u{1F41A}",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"\u{1F578}",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"\u{1F30E}",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"\u{1F30D}",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"\u{1F30F}",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"\u{1F315}",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"\u{1F316}",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F317}",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F318}",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F311}",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F312}",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F313}",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"\u{1F314}",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F31A}",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F31D}",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F31B}",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F31C}",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"\u{1F31E}",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"\u{1F319}",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"\u2B50",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"\u{1F31F}",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"\u{1F4AB}",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"\u2728",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"\u2604",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"\u2600\uFE0F",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"\u{1F324}",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"\u26C5",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"\u{1F325}",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"\u{1F326}",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"\u2601\uFE0F",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"\u{1F327}",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"\u26C8",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"\u{1F329}",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"\u26A1",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"\u{1F525}",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"\u{1F4A5}",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"\u2744\uFE0F",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"\u{1F328}",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"\u26C4",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"\u2603",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"\u{1F32C}",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"\u{1F4A8}",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"\u{1F32A}",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"\u{1F32B}",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"\u2602",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"\u2614",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"\u{1F4A7}",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"\u{1F4A6}",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"\u{1F30A}",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"\u{1F34F}",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"\u{1F34E}",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"\u{1F350}",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"\u{1F34A}",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"\u{1F34B}",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"\u{1F34C}",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"\u{1F349}",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"\u{1F347}",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"\u{1F353}",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"\u{1F348}",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"\u{1F352}",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"\u{1F351}",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"\u{1F34D}",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"\u{1F965}",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"\u{1F95D}",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"\u{1F96D}",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"\u{1F951}",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"\u{1F966}",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"\u{1F345}",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"\u{1F346}",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"\u{1F952}",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"\u{1F955}",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"\u{1F336}",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"\u{1F954}",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"\u{1F33D}",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"\u{1F96C}",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"\u{1F360}",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"\u{1F95C}",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"\u{1F36F}",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"\u{1F950}",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"\u{1F35E}",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"\u{1F956}",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"\u{1F96F}",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"\u{1F968}",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"\u{1F9C0}",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"\u{1F95A}",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"\u{1F953}",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"\u{1F969}",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"\u{1F95E}",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"\u{1F357}",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"\u{1F356}",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"\u{1F9B4}",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"\u{1F364}",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"\u{1F373}",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"\u{1F354}",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"\u{1F35F}",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"\u{1F959}",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"\u{1F32D}",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"\u{1F355}",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"\u{1F96A}",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"\u{1F96B}",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"\u{1F35D}",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"\u{1F32E}",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"\u{1F32F}",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"\u{1F957}",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"\u{1F958}",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"\u{1F35C}",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"\u{1F372}",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"\u{1F365}",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"\u{1F960}",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"\u{1F363}",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"\u{1F371}",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"\u{1F35B}",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"\u{1F359}",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"\u{1F35A}",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"\u{1F358}",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"\u{1F362}",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"\u{1F361}",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"\u{1F367}",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"\u{1F368}",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"\u{1F366}",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"\u{1F967}",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"\u{1F370}",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"\u{1F9C1}",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"\u{1F96E}",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"\u{1F382}",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"\u{1F36E}",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"\u{1F36C}",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"\u{1F36D}",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"\u{1F36B}",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"\u{1F37F}",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"\u{1F95F}",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"\u{1F369}",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"\u{1F36A}",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"\u{1F95B}",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"\u{1F37A}",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"\u{1F37B}",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"\u{1F942}",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"\u{1F377}",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"\u{1F943}",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"\u{1F378}",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"\u{1F379}",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"\u{1F37E}",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"\u{1F376}",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"\u{1F375}",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"\u{1F964}",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"\u2615",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"\u{1F37C}",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"\u{1F9C2}",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"\u{1F944}",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"\u{1F374}",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"\u{1F37D}",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"\u{1F963}",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"\u{1F961}",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"\u{1F962}",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"\u26BD",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"\u{1F3C0}",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"\u{1F3C8}",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"\u26BE",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"\u{1F94E}",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"\u{1F3BE}",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"\u{1F3D0}",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"\u{1F3C9}",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"\u{1F94F}",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"\u{1F3B1}",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"\u26F3",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"\u{1F3CC}\uFE0F\u200D\u2640\uFE0F",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"\u{1F3CC}",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"\u{1F3D3}",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"\u{1F3F8}",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"\u{1F945}",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"\u{1F3D2}",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"\u{1F3D1}",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"\u{1F94D}",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"\u{1F3CF}",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"\u{1F3BF}",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"\u26F7",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"\u{1F3C2}",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"\u{1F93A}",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"\u{1F93C}\u200D\u2640\uFE0F",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"\u{1F93C}\u200D\u2642\uFE0F",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"\u{1F938}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"\u{1F938}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"\u{1F93E}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"\u{1F93E}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"\u26F8",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"\u{1F94C}",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"\u{1F6F9}",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"\u{1F6F7}",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"\u{1F3F9}",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"\u{1F3A3}",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"\u{1F94A}",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"\u{1F94B}",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"\u{1F6A3}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"\u{1F6A3}",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"\u{1F9D7}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"\u{1F9D7}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"\u{1F3CA}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"\u{1F3CA}",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"\u{1F93D}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"\u{1F93D}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"\u{1F9D8}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"\u{1F9D8}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"\u{1F3C4}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"\u{1F3C4}",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"\u{1F6C0}",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"\u26F9\uFE0F\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"\u26F9",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"\u{1F3CB}\uFE0F\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"\u{1F3CB}",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"\u{1F6B4}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"\u{1F6B4}",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"\u{1F6B5}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"\u{1F6B5}",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"\u{1F3C7}",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"\u{1F574}",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"\u{1F3C6}",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"\u{1F3BD}",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"\u{1F3C5}",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"\u{1F396}",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"\u{1F947}",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"\u{1F948}",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"\u{1F949}",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"\u{1F397}",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"\u{1F3F5}",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"\u{1F3AB}",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"\u{1F39F}",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"\u{1F3AD}",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"\u{1F3A8}",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"\u{1F3AA}",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"\u{1F939}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"\u{1F939}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"\u{1F3A4}",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"\u{1F3A7}",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"\u{1F3BC}",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"\u{1F3B9}",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"\u{1F941}",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"\u{1F3B7}",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"\u{1F3BA}",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"\u{1F3B8}",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"\u{1F3BB}",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"\u{1F3AC}",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"\u{1F3AE}",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"\u{1F47E}",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"\u{1F3AF}",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"\u{1F3B2}",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"\u265F",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"\u{1F3B0}",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"\u{1F9E9}",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"\u{1F3B3}",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"\u{1F697}",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"\u{1F695}",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"\u{1F699}",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"\u{1F68C}",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"\u{1F68E}",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"\u{1F3CE}",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"\u{1F693}",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"\u{1F691}",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"\u{1F692}",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"\u{1F690}",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"\u{1F69A}",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"\u{1F69B}",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"\u{1F69C}",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"\u{1F6F4}",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"\u{1F3CD}",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"\u{1F6B2}",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"\u{1F6F5}",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"\u{1F6A8}",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"\u{1F694}",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"\u{1F68D}",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"\u{1F698}",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"\u{1F696}",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"\u{1F6A1}",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"\u{1F6A0}",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"\u{1F69F}",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"\u{1F683}",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"\u{1F68B}",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"\u{1F69D}",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"\u{1F684}",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"\u{1F685}",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"\u{1F688}",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"\u{1F69E}",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"\u{1F682}",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"\u{1F686}",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"\u{1F687}",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"\u{1F68A}",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"\u{1F689}",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"\u{1F6F8}",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"\u{1F681}",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"\u{1F6E9}",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"\u2708\uFE0F",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"\u{1F6EB}",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"\u{1F6EC}",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"\u26F5",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"\u{1F6E5}",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"\u{1F6A4}",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"\u26F4",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"\u{1F6F3}",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"\u{1F680}",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"\u{1F6F0}",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"\u{1F4BA}",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"\u{1F6F6}",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"\u2693",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"\u{1F6A7}",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"\u26FD",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"\u{1F68F}",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"\u{1F6A6}",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"\u{1F6A5}",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"\u{1F3C1}",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"\u{1F6A2}",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"\u{1F3A1}",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"\u{1F3A2}",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"\u{1F3A0}",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"\u{1F3D7}",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"\u{1F301}",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"\u{1F5FC}",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"\u{1F3ED}",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"\u26F2",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"\u{1F391}",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"\u26F0",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"\u{1F3D4}",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"\u{1F5FB}",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"\u{1F30B}",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"\u{1F5FE}",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"\u{1F3D5}",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"\u26FA",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"\u{1F3DE}",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"\u{1F6E3}",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"\u{1F6E4}",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"\u{1F305}",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"\u{1F304}",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"\u{1F3DC}",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"\u{1F3D6}",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"\u{1F3DD}",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"\u{1F307}",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"\u{1F306}",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"\u{1F3D9}",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"\u{1F303}",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"\u{1F309}",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"\u{1F30C}",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"\u{1F320}",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"\u{1F387}",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"\u{1F386}",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"\u{1F308}",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"\u{1F3D8}",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"\u{1F3F0}",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"\u{1F3EF}",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"\u{1F3DF}",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"\u{1F5FD}",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"\u{1F3E0}",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"\u{1F3E1}",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"\u{1F3DA}",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"\u{1F3E2}",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"\u{1F3EC}",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"\u{1F3E3}",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"\u{1F3E4}",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"\u{1F3E5}",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"\u{1F3E6}",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"\u{1F3E8}",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"\u{1F3EA}",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"\u{1F3EB}",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"\u{1F3E9}",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"\u{1F492}",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"\u{1F3DB}",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"\u26EA",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"\u{1F54C}",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"\u{1F54D}",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"\u{1F54B}",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"\u26E9",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"\u231A",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"\u{1F4F1}",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"\u{1F4F2}",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"\u{1F4BB}",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"\u2328",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"\u{1F5A5}",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"\u{1F5A8}",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"\u{1F5B1}",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"\u{1F5B2}",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"\u{1F579}",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"\u{1F5DC}",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"\u{1F4BD}",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"\u{1F4BE}",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"\u{1F4BF}",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"\u{1F4C0}",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"\u{1F4FC}",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"\u{1F4F7}",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"\u{1F4F8}",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"\u{1F4F9}",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"\u{1F3A5}",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"\u{1F4FD}",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"\u{1F39E}",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"\u{1F4DE}",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"\u260E\uFE0F",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"\u{1F4DF}",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"\u{1F4E0}",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"\u{1F4FA}",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"\u{1F4FB}",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"\u{1F399}",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"\u{1F39A}",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"\u{1F39B}",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"\u{1F9ED}",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"\u23F1",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"\u23F2",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"\u23F0",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"\u{1F570}",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"\u23F3",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"\u231B",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"\u{1F4E1}",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"\u{1F50B}",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"\u{1F50C}",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"\u{1F4A1}",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"\u{1F526}",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"\u{1F56F}",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"\u{1F9EF}",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"\u{1F5D1}",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"\u{1F6E2}",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"\u{1F4B8}",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"\u{1F4B5}",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"\u{1F4B4}",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"\u{1F4B6}",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"\u{1F4B7}",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"\u{1F4B0}",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"\u{1F4B3}",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"\u{1F48E}",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"\u2696",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"\u{1F9F0}",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"\u{1F527}",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"\u{1F528}",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"\u2692",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"\u{1F6E0}",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"\u26CF",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"\u{1F529}",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"\u2699",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"\u{1F9F1}",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"\u26D3",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"\u{1F9F2}",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"\u{1F52B}",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"\u{1F4A3}",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"\u{1F9E8}",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"\u{1F52A}",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"\u{1F5E1}",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"\u2694",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"\u{1F6E1}",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"\u{1F6AC}",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"\u2620",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"\u26B0",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"\u26B1",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"\u{1F3FA}",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"\u{1F52E}",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"\u{1F4FF}",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"\u{1F9FF}",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"\u{1F488}",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"\u2697",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"\u{1F52D}",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"\u{1F52C}",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"\u{1F573}",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"\u{1F48A}",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"\u{1F489}",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"\u{1F9EC}",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"\u{1F9A0}",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"\u{1F9EB}",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"\u{1F9EA}",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"\u{1F321}",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"\u{1F9F9}",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"\u{1F9FA}",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"\u{1F9FB}",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"\u{1F3F7}",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"\u{1F516}",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"\u{1F6BD}",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"\u{1F6BF}",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"\u{1F6C1}",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"\u{1F9FC}",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"\u{1F9FD}",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"\u{1F9F4}",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"\u{1F511}",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"\u{1F5DD}",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"\u{1F6CB}",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"\u{1F6CC}",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"\u{1F6CF}",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"\u{1F6AA}",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"\u{1F6CE}",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"\u{1F9F8}",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"\u{1F5BC}",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"\u{1F5FA}",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"\u26F1",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"\u{1F5FF}",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"\u{1F6CD}",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"\u{1F6D2}",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"\u{1F388}",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"\u{1F38F}",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"\u{1F380}",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"\u{1F381}",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"\u{1F38A}",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"\u{1F389}",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"\u{1F38E}",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"\u{1F390}",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"\u{1F38C}",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"\u{1F3EE}",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"\u{1F9E7}",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"\u2709\uFE0F",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"\u{1F4E9}",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"\u{1F4E8}",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"\u{1F4E7}",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"\u{1F48C}",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"\u{1F4EE}",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"\u{1F4EA}",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"\u{1F4EB}",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"\u{1F4EC}",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"\u{1F4ED}",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"\u{1F4E6}",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"\u{1F4EF}",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"\u{1F4E5}",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"\u{1F4E4}",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"\u{1F4DC}",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"\u{1F4C3}",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"\u{1F4D1}",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"\u{1F9FE}",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"\u{1F4CA}",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"\u{1F4C8}",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"\u{1F4C9}",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"\u{1F4C4}",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"\u{1F4C5}",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"\u{1F4C6}",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"\u{1F5D3}",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"\u{1F4C7}",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"\u{1F5C3}",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"\u{1F5F3}",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"\u{1F5C4}",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"\u{1F4CB}",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"\u{1F5D2}",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"\u{1F4C1}",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"\u{1F4C2}",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"\u{1F5C2}",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"\u{1F5DE}",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"\u{1F4F0}",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"\u{1F4D3}",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"\u{1F4D5}",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"\u{1F4D7}",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"\u{1F4D8}",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"\u{1F4D9}",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"\u{1F4D4}",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"\u{1F4D2}",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"\u{1F4DA}",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"\u{1F4D6}",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"\u{1F9F7}",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"\u{1F517}",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"\u{1F4CE}",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"\u{1F587}",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"\u2702\uFE0F",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"\u{1F4D0}",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"\u{1F4CF}",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"\u{1F9EE}",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"\u{1F4CC}",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"\u{1F4CD}",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"\u{1F6A9}",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"\u{1F3F3}",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"\u{1F3F4}",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"\u{1F3F3}\uFE0F\u200D\u{1F308}",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"\u{1F510}",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"\u{1F512}",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"\u{1F513}",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"\u{1F50F}",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"\u{1F58A}",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"\u{1F58B}",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"\u2712\uFE0F",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"\u{1F4DD}",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"\u270F\uFE0F",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"\u{1F58D}",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"\u{1F58C}",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"\u{1F50D}",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"\u{1F50E}",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"\u2764\uFE0F",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F9E1}",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F49B}",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F49A}",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F499}",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F49C}",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"\u{1F5A4}",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"\u{1F494}",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"\u2763",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"\u{1F495}",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"\u{1F49E}",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"\u{1F493}",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"\u{1F497}",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F496}",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"\u{1F498}",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"\u{1F49D}",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"\u{1F49F}",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"\u262E",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"\u271D",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"\u262A",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"\u{1F549}",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"\u2638",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"\u2721",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"\u{1F52F}",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"\u{1F54E}",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"\u262F",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"\u2626",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"\u{1F6D0}",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"\u26CE",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"\u2648",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"\u2649",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u264A",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u264B",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"\u264C",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u264D",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"\u264E",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"\u264F",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u2650",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u2651",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"\u2652",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"\u2653",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"\u{1F194}",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"\u269B",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"\u{1F233}",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"\u{1F239}",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"\u2622",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"\u2623",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"\u{1F4F4}",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"\u{1F4F3}",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"\u{1F236}",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"\u{1F21A}",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"\u{1F238}",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"\u{1F23A}",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"\u{1F237}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"\u2734\uFE0F",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"\u{1F19A}",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"\u{1F251}",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"\u{1F4AE}",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"\u{1F250}",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"\u3299\uFE0F",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"\u3297\uFE0F",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"\u{1F234}",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"\u{1F235}",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"\u{1F232}",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"\u{1F170}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"\u{1F171}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"\u{1F18E}",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"\u{1F191}",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"\u{1F17E}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"\u{1F198}",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"\u26D4",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"\u{1F4DB}",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"\u{1F6AB}",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"\u274C",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"\u2B55",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"\u{1F6D1}",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"\u{1F4A2}",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"\u2668\uFE0F",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"\u{1F6B7}",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"\u{1F6AF}",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"\u{1F6B3}",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"\u{1F6B1}",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"\u{1F51E}",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"\u{1F4F5}",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"\u2757",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"\u2755",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"\u2753",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"\u2754",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"\u203C\uFE0F",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"\u2049\uFE0F",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"\u{1F4AF}",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"\u{1F505}",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"\u{1F506}",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"\u{1F531}",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"\u269C",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"\u303D\uFE0F",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"\u26A0\uFE0F",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"\u{1F6B8}",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"\u{1F530}",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"\u267B\uFE0F",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"\u{1F22F}",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"\u{1F4B9}",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"\u2747\uFE0F",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"\u2733\uFE0F",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"\u274E",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"\u2705",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"\u{1F4A0}",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"\u{1F300}",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"\u27BF",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"\u{1F310}",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"\u24C2\uFE0F",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"\u{1F3E7}",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"\u{1F202}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"\u{1F6C2}",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"\u{1F6C3}",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"\u{1F6C4}",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"\u{1F6C5}",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"\u267F",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"\u{1F6AD}",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"\u{1F6BE}",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"\u{1F17F}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"\u{1F6B0}",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"\u{1F6B9}",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"\u{1F6BA}",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"\u{1F6BC}",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"\u{1F6BB}",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"\u{1F6AE}",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"\u{1F3A6}",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"\u{1F4F6}",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"\u{1F201}",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"\u{1F196}",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"\u{1F197}",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"\u{1F199}",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"\u{1F192}",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"\u{1F195}",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"\u{1F193}",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"\u{1F51F}",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*\u20E3",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"\u{1F522}",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"\u23CF\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"\u25B6\uFE0F",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"\u23F8",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"\u23ED",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"\u23F9",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"\u23FA",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"\u23EF",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"\u23EE",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"\u23E9",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"\u23EA",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"\u{1F500}",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"\u{1F501}",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"\u{1F502}",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"\u25C0\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"\u{1F53C}",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"\u{1F53D}",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"\u23EB",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"\u23EC",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"\u27A1\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"\u2B05\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"\u2B06\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"\u2B07\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"\u2197\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"\u2198\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"\u2199\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"\u2196\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"\u2195\uFE0F",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"\u2194\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"\u{1F504}",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"\u21AA\uFE0F",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"\u21A9\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"\u2934\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"\u2935\uFE0F",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"\u2139\uFE0F",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"\u{1F524}",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"\u{1F521}",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"\u{1F520}",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"\u{1F523}",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"\u{1F3B5}",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"\u{1F3B6}",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"\u3030\uFE0F",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"\u27B0",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"\u2714\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"\u{1F503}",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"\u2795",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"\u2796",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"\u2797",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"\u2716\uFE0F",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"\u267E",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"\u{1F4B2}",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"\u{1F4B1}",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"\xA9\uFE0F",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"\xAE\uFE0F",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"\u2122\uFE0F",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"\u{1F51A}",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"\u{1F519}",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"\u{1F51B}",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"\u{1F51D}",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"\u{1F51C}",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"\u2611\uFE0F",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"\u{1F518}",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"\u26AA",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"\u26AB",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"\u{1F534}",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"\u{1F535}",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"\u{1F538}",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"\u{1F539}",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"\u{1F536}",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"\u{1F537}",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"\u{1F53A}",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"\u25AA\uFE0F",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"\u25AB\uFE0F",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"\u2B1B",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"\u2B1C",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"\u{1F53B}",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"\u25FC\uFE0F",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"\u25FB\uFE0F",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"\u25FE",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"\u25FD",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"\u{1F532}",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"\u{1F533}",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"\u{1F508}",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"\u{1F509}",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"\u{1F50A}",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"\u{1F507}",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"\u{1F4E3}",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"\u{1F4E2}",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"\u{1F514}",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"\u{1F515}",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"\u{1F0CF}",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"\u{1F004}",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"\u2660\uFE0F",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"\u2663\uFE0F",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"\u2665\uFE0F",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"\u2666\uFE0F",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"\u{1F3B4}",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"\u{1F4AD}",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"\u{1F5EF}",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"\u{1F4AC}",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"\u{1F5E8}",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"\u{1F550}",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"\u{1F551}",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"\u{1F552}",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"\u{1F553}",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"\u{1F554}",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"\u{1F555}",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"\u{1F556}",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"\u{1F557}",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"\u{1F558}",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"\u{1F559}",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"\u{1F55A}",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"\u{1F55B}",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"\u{1F55C}",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"\u{1F55D}",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"\u{1F55E}",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"\u{1F55F}",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"\u{1F560}",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"\u{1F561}",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"\u{1F562}",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"\u{1F563}",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"\u{1F564}",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"\u{1F565}",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"\u{1F566}",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"\u{1F567}",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["\xC5land","islands","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1FD}",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1E7}",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EF}",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"\u{1F1E8}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FD}",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["cura\xE7ao","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1EF}",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"\u{1F1EA}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1EF}",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"\u{1F1EB}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"\u{1F1E9}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"\u{1F1EF}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"\u{1F1EF}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"\u{1F1EF}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"\u{1F1EF}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"\u{1F1FD}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1E7}",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"\u{1F1FE}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FD}",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"\u{1F1F0}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"\u{1F1F4}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"\u{1F1F6}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["r\xE9union","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barth\xE9lemy","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"\u{1F1FC}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1FD}",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1E7}",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"\u{1F1FF}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"\u{1F1F0}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1EF}",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"\u{1F1EC}\u{1F1E7}",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0065}\u{E006E}\u{E0067}\u{E007F}",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0073}\u{E0063}\u{E0074}\u{E007F}",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0077}\u{E006C}\u{E0073}\u{E007F}",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"\u{1F1FC}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"\u{1F1FE}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"\u{1F1FF}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"\u{1F1FF}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"\u{1F1FA}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"\u{1F3F4}\u200D\u2620\uFE0F",fitzpatrick_scale:!1,category:"flags"}});(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=(O,D,Y)=>{var ne;return Y(O,D.prototype)?!0:((ne=O.constructor)===null||ne===void 0?void 0:ne.name)===D.name},r=O=>{const D=typeof O;return O===null?"null":D==="object"&&Array.isArray(O)?"array":D==="object"&&n(O,String,(Y,ne)=>ne.isPrototypeOf(Y))?"string":D},u=O=>D=>r(D)===O,f=O=>D=>typeof D===O,d=O=>D=>O===D,w=u("string"),x=u("array"),T=f("boolean"),A=d(void 0),$=O=>O==null,B=O=>!$(O),H=f("function"),le=f("number"),ke=()=>{},Ne=(O,D)=>Y=>O(D(Y)),Se=O=>()=>O,je=O=>O,gt=(O,D)=>O===D;function ee(O,...D){return(...Y)=>{const ne=D.concat(Y);return O.apply(null,ne)}}const ht=O=>{O()},He=Se(!1),Ze=Se(!0);class J{constructor(D,Y){this.tag=D,this.value=Y}static some(D){return new J(!0,D)}static none(){return J.singletonNone}fold(D,Y){return this.tag?Y(this.value):D()}isSome(){return this.tag}isNone(){return!this.tag}map(D){return this.tag?J.some(D(this.value)):J.none()}bind(D){return this.tag?D(this.value):J.none()}exists(D){return this.tag&&D(this.value)}forall(D){return!this.tag||D(this.value)}filter(D){return!this.tag||D(this.value)?this:J.none()}getOr(D){return this.tag?this.value:D}or(D){return this.tag?this:D}getOrThunk(D){return this.tag?this.value:D()}orThunk(D){return this.tag?this:D()}getOrDie(D){if(this.tag)return this.value;throw new Error(D!=null?D:"Called getOrDie on None")}static from(D){return B(D)?J.some(D):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(D){this.tag&&D(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}J.singletonNone=new J(!1);const Te=Object.keys,st=Object.hasOwnProperty,_t=(O,D)=>{const Y=Te(O);for(let ne=0,Ce=Y.length;ne<Ce;ne++){const at=Y[ne],Nt=O[at];D(Nt,at)}},Ue=O=>(D,Y)=>{O[Y]=D},de=(O,D,Y,ne)=>{_t(O,(Ce,at)=>{(D(Ce,at)?Y:ne)(Ce,at)})},Tn=(O,D)=>{const Y={};return de(O,D,Ue(Y),ke),Y},nn=(O,D)=>{const Y=[];return _t(O,(ne,Ce)=>{Y.push(D(ne,Ce))}),Y},Ot=O=>nn(O,je),L=O=>Te(O).length,Ht=(O,D)=>ot(O,D)?J.from(O[D]):J.none(),ot=(O,D)=>st.call(O,D),Bn=(O,D)=>ot(O,D)&&O[D]!==void 0&&O[D]!==null,cn=Array.prototype.indexOf,it=Array.prototype.push,Gn=(O,D)=>cn.call(O,D),io=(O,D)=>Gn(O,D)>-1,uo=(O,D)=>{for(let Y=0,ne=O.length;Y<ne;Y++){const Ce=O[Y];if(D(Ce,Y))return!0}return!1},Et=(O,D)=>{const Y=[];for(let ne=0;ne<O;ne++)Y.push(D(ne));return Y},Ee=(O,D)=>{const Y=O.length,ne=new Array(Y);for(let Ce=0;Ce<Y;Ce++){const at=O[Ce];ne[Ce]=D(at,Ce)}return ne},me=(O,D)=>{for(let Y=0,ne=O.length;Y<ne;Y++){const Ce=O[Y];D(Ce,Y)}},j=(O,D)=>{for(let Y=O.length-1;Y>=0;Y--){const ne=O[Y];D(ne,Y)}},lt=(O,D)=>{const Y=[],ne=[];for(let Ce=0,at=O.length;Ce<at;Ce++){const Nt=O[Ce];(D(Nt,Ce)?Y:ne).push(Nt)}return{pass:Y,fail:ne}},Je=(O,D)=>{const Y=[];for(let ne=0,Ce=O.length;ne<Ce;ne++){const at=O[ne];D(at,ne)&&Y.push(at)}return Y},Tt=(O,D,Y)=>(j(O,(ne,Ce)=>{Y=D(Y,ne,Ce)}),Y),re=(O,D,Y)=>(me(O,(ne,Ce)=>{Y=D(Y,ne,Ce)}),Y),Re=(O,D,Y)=>{for(let ne=0,Ce=O.length;ne<Ce;ne++){const at=O[ne];if(D(at,ne))return J.some(at);if(Y(at,ne))break}return J.none()},Oe=(O,D)=>Re(O,D,He),yt=O=>{const D=[];for(let Y=0,ne=O.length;Y<ne;++Y){if(!x(O[Y]))throw new Error("Arr.flatten item "+Y+" was not an array, input: "+O);it.apply(D,O[Y])}return D},Ye=(O,D)=>yt(Ee(O,D)),ce=(O,D)=>{for(let Y=0,ne=O.length;Y<ne;++Y){const Ce=O[Y];if(D(Ce,Y)!==!0)return!1}return!0},Fe=(O,D)=>{const Y={};for(let ne=0,Ce=O.length;ne<Ce;ne++){const at=O[ne];Y[String(at)]=D(at,ne)}return Y},et=(O,D)=>D>=0&&D<O.length?J.some(O[D]):J.none(),$e=O=>et(O,0),oe=O=>et(O,O.length-1),be=(O,D)=>{for(let Y=0;Y<O.length;Y++){const ne=D(O[Y],Y);if(ne.isSome())return ne}return J.none()},Xe=8,ut=9,zt=11,Dt=1,Vt=3,an=(O,D)=>{const ne=(D||document).createElement("div");if(ne.innerHTML=O,!ne.hasChildNodes()||ne.childNodes.length>1){const Ce="HTML does not have a single root node";throw console.error(Ce,O),new Error(Ce)}return lo(ne.childNodes[0])},_n=(O,D)=>{const ne=(D||document).createElement(O);return lo(ne)},jn=(O,D)=>{const ne=(D||document).createTextNode(O);return lo(ne)},lo=O=>{if(O==null)throw new Error("Node cannot be null or undefined");return{dom:O}},Ao={fromHtml:an,fromTag:_n,fromText:jn,fromDom:lo,fromPoint:(O,D,Y)=>J.from(O.dom.elementFromPoint(D,Y)).map(lo)},ks=(O,D)=>{const Y=O.dom;if(Y.nodeType!==Dt)return!1;{const ne=Y;if(ne.matches!==void 0)return ne.matches(D);if(ne.msMatchesSelector!==void 0)return ne.msMatchesSelector(D);if(ne.webkitMatchesSelector!==void 0)return ne.webkitMatchesSelector(D);if(ne.mozMatchesSelector!==void 0)return ne.mozMatchesSelector(D);throw new Error("Browser lacks native selectors")}},jo=O=>O.nodeType!==Dt&&O.nodeType!==ut&&O.nodeType!==zt||O.childElementCount===0,zs=(O,D)=>{const Y=D===void 0?document:D.dom;return jo(Y)?[]:Ee(Y.querySelectorAll(O),Ao.fromDom)},Dl=(O,D)=>{const Y=D===void 0?document:D.dom;return jo(Y)?J.none():J.from(Y.querySelector(O)).map(Ao.fromDom)},Oi=(O,D)=>O.dom===D.dom,Fr=ks;typeof window<"u"||Function("return this;")();const pi=O=>O.dom.nodeName.toLowerCase(),Gt=O=>O.dom.nodeType,Mo=O=>D=>Gt(D)===O,el=O=>Gt(O)===Xe||pi(O)==="#comment",ca=Mo(Dt),Yu=Mo(Vt),fu=Mo(ut),ws=Mo(zt),ac=O=>D=>ca(D)&&pi(D)===O,Xu=O=>Ao.fromDom(O.dom.ownerDocument),fs=O=>fu(O)?O:Xu(O),Fn=O=>J.from(O.dom.parentNode).map(Ao.fromDom),si=(O,D)=>{const Y=H(D)?D:He;let ne=O.dom;const Ce=[];for(;ne.parentNode!==null&&ne.parentNode!==void 0;){const at=ne.parentNode,Nt=Ao.fromDom(at);if(Ce.push(Nt),Y(Nt)===!0)break;ne=at}return Ce},Oc=O=>J.from(O.dom.previousSibling).map(Ao.fromDom),zf=O=>J.from(O.dom.nextSibling).map(Ao.fromDom),hu=O=>Ee(O.dom.childNodes,Ao.fromDom),gi=(O,D)=>{const Y=O.dom.childNodes;return J.from(Y[D]).map(Ao.fromDom)},ua=O=>gi(O,0),vr=O=>ws(O)&&B(O.dom.host),Wd=H(Element.prototype.attachShadow)&&H(Node.prototype.getRootNode)?O=>Ao.fromDom(O.dom.getRootNode()):fs,xa=O=>{const D=Wd(O);return vr(D)?J.some(D):J.none()},Di=O=>Ao.fromDom(O.dom.host),Zs=O=>{const D=Yu(O)?O.dom.parentNode:O.dom;if(D==null||D.ownerDocument===null)return!1;const Y=D.ownerDocument;return xa(Ao.fromDom(D)).fold(()=>Y.body.contains(D),Ne(Zs,Di))};var Wa=(O,D,Y,ne,Ce)=>O(Y,ne)?J.some(Y):H(Ce)&&Ce(Y)?J.none():D(Y,ne,Ce);const ic=(O,D,Y)=>{let ne=O.dom;const Ce=H(Y)?Y:He;for(;ne.parentNode;){ne=ne.parentNode;const at=Ao.fromDom(ne);if(D(at))return J.some(at);if(Ce(at))break}return J.none()},Nf=(O,D,Y)=>Wa((Ce,at)=>at(Ce),ic,O,D,Y),zh=(O,D)=>{const Y=Ce=>D(Ao.fromDom(Ce));return Oe(O.dom.childNodes,Y).map(Ao.fromDom)},yi=(O,D,Y)=>ic(O,ne=>ks(ne,D),Y),N0=(O,D)=>zh(O,Y=>ks(Y,D)),Le=(O,D)=>Dl(D,O),Ea=(O,D,Y)=>Wa((Ce,at)=>ks(Ce,at),yi,O,D,Y),Zd=O=>Ea(O,"[contenteditable]"),dg=(O,D=!1)=>Zs(O)?O.dom.isContentEditable:Zd(O).fold(Se(D),Y=>$m(Y)==="true"),$m=O=>O.dom.contentEditable,_s=O=>O.nodeName.toLowerCase(),fg=O=>Ao.fromDom(O.getBody()),Nh=O=>D=>Oi(D,fg(O)),Ju=O=>O?O.replace(/px$/,""):"",bi=O=>/^\d+(\.\d+)?$/.test(O)?O+"px":O,wr=O=>Ao.fromDom(O.selection.getStart()),Rr=O=>Ao.fromDom(O.selection.getEnd()),mu=O=>Nf(O,ac("table")).forall(dg),tl=(O,D)=>Je(hu(O),D),Mc=(O,D)=>{let Y=[];return me(hu(O),ne=>{D(ne)&&(Y=Y.concat([ne])),Y=Y.concat(Mc(ne,D))}),Y},Qu=(O,D)=>tl(O,Y=>ks(Y,D)),ed=(O,D)=>zs(D,O),Jo=(O,D,Y)=>{if(w(Y)||T(Y)||le(Y))O.setAttribute(D,Y+"");else throw console.error("Invalid call to Attribute.set. Key ",D,":: Value ",Y,":: Element ",O),new Error("Attribute value was not simple")},nl=(O,D,Y)=>{Jo(O.dom,D,Y)},Gd=(O,D)=>{const Y=O.dom;_t(D,(ne,Ce)=>{Jo(Y,Ce,ne)})},Pc=(O,D)=>{const Y=O.dom.getAttribute(D);return Y===null?void 0:Y},yl=(O,D)=>J.from(Pc(O,D)),Mi=(O,D)=>{O.dom.removeAttribute(D)},Gs=O=>re(O.dom.attributes,(D,Y)=>(D[Y.name]=Y.value,D),{}),Jy=(O,D,Y=gt)=>O.exists(ne=>Y(ne,D)),Vm=O=>{const D=[],Y=ne=>{D.push(ne)};for(let ne=0;ne<O.length;ne++)O[ne].each(Y);return D},ls=(O,D,Y)=>O.isSome()&&D.isSome()?J.some(Y(O.getOrDie(),D.getOrDie())):J.none(),ol=O=>O.bind(je),Pi=(O,D)=>O?J.some(D):J.none(),Yr=(O,D)=>O.substring(D),Lf=(O,D,Y)=>D===""||O.length>=D.length&&O.substr(Y,Y+D.length)===D,td=(O,D)=>bl(O,D)?Yr(O,D.length):O,bl=(O,D)=>Lf(O,D,0),Hm=(O=>D=>D.replace(O,""))(/^\s+|\s+$/g),Lh=O=>O.length>0,hg=O=>!Lh(O),zi=(O,D=10)=>{const Y=parseInt(O,D);return isNaN(Y)?J.none():J.some(Y)},pu=O=>{const D=parseFloat(O);return isNaN(D)?J.none():J.some(D)},Bf=O=>O.style!==void 0&&H(O.style.getPropertyValue),Um=(O,D,Y)=>{if(!w(Y))throw console.error("Invalid call to CSS.set. Property ",D,":: Value ",Y,":: Element ",O),new Error("CSS value must be a string: "+Y);Bf(O)&&O.style.setProperty(D,Y)},Bh=(O,D)=>{Bf(O)&&O.style.removeProperty(D)},Fh=(O,D,Y)=>{const ne=O.dom;Um(ne,D,Y)},jm=(O,D)=>{const Y=O.dom,Ce=window.getComputedStyle(Y).getPropertyValue(D);return Ce===""&&!Zs(O)?Ff(Y,D):Ce},Ff=(O,D)=>Bf(O)?O.style.getPropertyValue(D):"",$r=(O,D)=>{const Y=O.dom,ne=Ff(Y,D);return J.from(ne).filter(Ce=>Ce.length>0)},Za=(O,D)=>{const Y=O.dom;Bh(Y,D),Jy(yl(O,"style").map(Hm),"")&&Mi(O,"style")},zc=(O,D,Y=0)=>yl(O,D).map(ne=>parseInt(ne,10)).getOr(Y),Wm=(O,D)=>mg(O,D,Ze),mg=(O,D,Y)=>Ye(hu(O),ne=>ks(ne,D)?Y(ne)?[ne]:[]:mg(ne,D,Y)),gu=["tfoot","thead","tbody","colgroup"],Qy=O=>io(gu,O),Ga=(O,D)=>({rows:O,columns:D}),Xr=(O,D,Y)=>({element:O,rowspan:D,colspan:Y}),lc=(O,D,Y,ne,Ce,at)=>({element:O,rowspan:D,colspan:Y,row:ne,column:Ce,isLocked:at}),Pl=(O,D,Y)=>({element:O,cells:D,section:Y}),Jn=(O,D,Y,ne)=>({startRow:O,startCol:D,finishRow:Y,finishCol:ne}),Fo=(O,D,Y)=>({element:O,colspan:D,column:Y}),da=(O,D)=>({element:O,columns:D}),G=(O,D,Y=He)=>{if(Y(D))return J.none();if(io(O,pi(D)))return J.some(D);const ne=Ce=>ks(Ce,"table")||Y(Ce);return yi(D,O.join(","),ne)},ae=(O,D)=>G(["td","th"],O,D),ge=O=>Wm(O,"th,td"),Qe=O=>ks(O,"colgroup")?Qu(O,"col"):Ye(un(O),D=>Qu(D,"col")),en=(O,D)=>Ea(O,"table",D),co=O=>Wm(O,"tr"),un=O=>en(O).fold(Se([]),D=>Qu(D,"colgroup")),Ir=(O,D)=>Ee(O,Y=>{if(pi(Y)==="colgroup"){const ne=Ee(Qe(Y),Ce=>{const at=zc(Ce,"span",1);return Xr(Ce,1,at)});return Pl(Y,ne,"colgroup")}else{const ne=Ee(ge(Y),Ce=>{const at=zc(Ce,"rowspan",1),Nt=zc(Ce,"colspan",1);return Xr(Ce,at,Nt)});return Pl(Y,ne,D(Y))}}),fa=O=>Fn(O).map(D=>{const Y=pi(D);return Qy(Y)?Y:"tbody"}).getOr("tbody"),xt=O=>{const D=co(O),ne=[...un(O),...D];return Ir(ne,fa)},Vr="data-snooker-locked-cols",er=O=>yl(O,Vr).bind(D=>J.from(D.match(/\d+/g))).map(D=>Fe(D,Ze)),ha=(O,D)=>O+","+D,pg=(O,D,Y)=>J.from(O.access[ha(D,Y)]),Ro=(O,D,Y)=>{const ne=yu(O,Ce=>Y(D,Ce.element));return ne.length>0?J.some(ne[0]):J.none()},yu=(O,D)=>{const Y=Ye(O.all,ne=>ne.cells);return Je(Y,D)},Ni=O=>{const D={};let Y=0;return me(O.cells,ne=>{const Ce=ne.colspan;Et(Ce,at=>{const Nt=Y+at;D[Nt]=Fo(ne.element,Ce,Nt)}),Y+=Ce}),D},_r=O=>{const D={},Y=[],Ce=$e(O).map(ji=>ji.element).bind(en).bind(er).getOr({});let at=0,Nt=0,ln=0;const{pass:Wn,fail:Zn}=lt(O,ji=>ji.section==="colgroup");me(Zn,ji=>{const Oa=[];me(ji.cells,ud=>{let Hl=0;for(;D[ha(ln,Hl)]!==void 0;)Hl++;const Jf=Bn(Ce,Hl.toString()),rp=lc(ud.element,ud.rowspan,ud.colspan,ln,Hl,Jf);for(let Ul=0;Ul<ud.colspan;Ul++)for(let Qf=0;Qf<ud.rowspan;Qf++){const Ig=ln+Qf,Ag=Hl+Ul,Jh=ha(Ig,Ag);D[Jh]=rp,Nt=Math.max(Nt,Ag+1)}Oa.push(rp)}),at++,Y.push(Pl(ji.element,Oa,ji.section)),ln++});const{columns:$o,colgroups:ss}=oe(Wn).map(ji=>{const Oa=Ni(ji);return{colgroups:[da(ji.element,Ot(Oa))],columns:Oa}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Ga(at,Nt),access:D,all:Y,columns:$o,colgroups:ss}},Ur={fromTable:O=>{const D=xt(O);return _r(D)},generate:_r,getAt:pg,findItem:Ro,filterItems:yu,justCells:O=>Ye(O.all,D=>D.cells),justColumns:O=>Ot(O.columns),hasColumns:O=>Te(O.columns).length>0,getColumnAt:(O,D)=>J.from(O.columns[D])};var Vf=tinymce.util.Tools.resolve("tinymce.util.Tools");const ri=(O,D,Y)=>{const ne=O.select("td,th",D);let Ce;for(let at=0;at<ne.length;at++){const Nt=O.getStyle(ne[at],Y);if(A(Ce)&&(Ce=Nt),Ce!==Nt)return""}return Ce},qd=(O,D,Y)=>{Vf.each("left center right".split(" "),ne=>{ne!==Y&&O.formatter.remove("align"+ne,{},D)}),Y&&O.formatter.apply("align"+Y,{},D)},Zm=(O,D,Y)=>{Vf.each("top middle bottom".split(" "),ne=>{ne!==Y&&O.formatter.remove("valign"+ne,{},D)}),Y&&O.formatter.apply("valign"+Y,{},D)},Cs=(O,D,Y)=>{O.dispatch("TableModified",{...Y,table:D})},vi=(O,D)=>pu(O).getOr(D),ai=(O,D,Y)=>vi(jm(O,D),Y),C1=(O,D,Y,ne)=>{const Ce=ai(O,`padding-${Y}`,0),at=ai(O,`padding-${ne}`,0),Nt=ai(O,`border-${Y}-width`,0),ln=ai(O,`border-${ne}-width`,0);return D-Ce-at-Nt-ln},Kd=(O,D)=>{const Y=O.dom,ne=Y.getBoundingClientRect().width||Y.offsetWidth;return D==="border-box"?ne:C1(O,ne,"left","right")},wi=O=>Kd(O,"content-box");var Hf=tinymce.util.Tools.resolve("tinymce.Env");const S1="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",$h=Et(5,O=>{const D=`${O+1}px`;return{title:D,value:D}}),Nc=Ee(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],O=>({title:O,value:O.toLowerCase()})),kr="100%",_i=O=>{var D;const Y=O.dom,ne=(D=Y.getParent(O.selection.getStart(),Y.isBlock))!==null&&D!==void 0?D:O.getBody();return wi(Ao.fromDom(ne))+"px"},Li=(O,D)=>tb(O)||!Or(O)?D:jf(O)?{...D,width:_i(O)}:{...D,width:kr},Lc=(O,D)=>tb(O)||Or(O)?D:jf(O)?{...D,width:_i(O)}:{...D,width:kr},qa=O=>D=>D.options.get(O),Ar=O=>{const D=O.options.register;D("table_border_widths",{processor:"object[]",default:$h}),D("table_border_styles",{processor:"object[]",default:Nc}),D("table_cell_advtab",{processor:"boolean",default:!0}),D("table_row_advtab",{processor:"boolean",default:!0}),D("table_advtab",{processor:"boolean",default:!0}),D("table_appearance_options",{processor:"boolean",default:!0}),D("table_grid",{processor:"boolean",default:!Hf.deviceType.isTouch()}),D("table_cell_class_list",{processor:"object[]",default:[]}),D("table_row_class_list",{processor:"object[]",default:[]}),D("table_class_list",{processor:"object[]",default:[]}),D("table_toolbar",{processor:"string",default:S1}),D("table_background_color_map",{processor:"object[]",default:[]}),D("table_border_color_map",{processor:"object[]",default:[]})},vl=qa("table_sizing_mode"),Gm=qa("table_border_widths"),Yd=qa("table_border_styles"),Vh=qa("table_cell_advtab"),gg=qa("table_row_advtab"),zl=qa("table_advtab"),Xd=qa("table_appearance_options"),qm=qa("table_grid"),Or=qa("table_style_by_css"),Km=qa("table_cell_class_list"),Uf=qa("table_row_class_list"),Hh=qa("table_class_list"),Uh=qa("table_toolbar"),yg=qa("table_background_color_map"),Ym=qa("table_border_color_map"),jf=O=>vl(O)==="fixed",tb=O=>vl(O)==="responsive",nb=O=>{const D=O.options,Y=D.get("table_default_styles");return D.isSet("table_default_styles")?Y:Li(O,Y)},Wf=O=>{const D=O.options,Y=D.get("table_default_attributes");return D.isSet("table_default_attributes")?Y:Lc(O,Y)},L0=(O,D)=>D.column>=O.startCol&&D.column+D.colspan-1<=O.finishCol&&D.row>=O.startRow&&D.row+D.rowspan-1<=O.finishRow,ve=(O,D)=>{let Y=!0;const ne=ee(L0,D);for(let Ce=D.startRow;Ce<=D.finishRow;Ce++)for(let at=D.startCol;at<=D.finishCol;at++)Y=Y&&Ur.getAt(O,Ce,at).exists(ne);return Y?J.some(D):J.none()},bg=(O,D)=>Jn(Math.min(O.row,D.row),Math.min(O.column,D.column),Math.max(O.row+O.rowspan-1,D.row+D.rowspan-1),Math.max(O.column+O.colspan-1,D.column+D.colspan-1)),Bi=(O,D,Y)=>{const ne=Ur.findItem(O,D,Oi),Ce=Ur.findItem(O,Y,Oi);return ne.bind(at=>Ce.map(Nt=>bg(at,Nt)))},ob=(O,D,Y)=>Bi(O,D,Y).bind(ne=>ve(O,ne)),B0=(O,D,Y)=>{const ne=F0(O);return ob(ne,D,Y)},F0=Ur.fromTable,Xo=(O,D)=>{Fn(O).each(ne=>{ne.dom.insertBefore(D.dom,O.dom)})},cc=(O,D)=>{zf(O).fold(()=>{Fn(O).each(Ce=>{Nl(Ce,D)})},ne=>{Xo(ne,D)})},ki=(O,D)=>{ua(O).fold(()=>{Nl(O,D)},ne=>{O.dom.insertBefore(D.dom,ne.dom)})},Nl=(O,D)=>{O.dom.appendChild(D.dom)},x1=(O,D)=>{Xo(O,D),Nl(D,O)},Zf=(O,D)=>{me(D,(Y,ne)=>{const Ce=ne===0?O:D[ne-1];cc(Ce,Y)})},Ll=(O,D)=>{me(D,Y=>{Nl(O,Y)})},Xm=O=>{const D=O.dom;D.parentNode!==null&&D.parentNode.removeChild(D)},sb=O=>{const D=hu(O);D.length>0&&Zf(O,D),Xm(O)},Bl=((O,D)=>{const Y=at=>{if(!O(at))throw new Error("Can only get "+D+" value of a "+D+" node");return ne(at).getOr("")},ne=at=>O(at)?J.from(at.dom.nodeValue):J.none();return{get:Y,getOption:ne,set:(at,Nt)=>{if(!O(at))throw new Error("Can only set raw "+D+" value of a "+D+" node");at.dom.nodeValue=Nt}}})(Yu,"text"),jh=O=>Bl.get(O),E1=(O,D)=>Bl.set(O,D);var wl=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ta=()=>{const O=Zn=>Ao.fromDom(Zn.dom.cloneNode(!1)),D=Zn=>fs(Zn).dom,Y=Zn=>ca(Zn)?pi(Zn)==="body"?!0:io(wl,pi(Zn)):!1,ne=Zn=>ca(Zn)?io(["br","img","hr","input"],pi(Zn)):!1,Ce=Zn=>ca(Zn)&&Pc(Zn,"contenteditable")==="false",at=(Zn,$o)=>Zn.dom.compareDocumentPosition($o.dom),Nt=(Zn,$o)=>{const ss=Gs(Zn);Gd($o,ss)},ln=Zn=>{const $o=pi(Zn);return io(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],$o)},Wn=Zn=>ca(Zn)?yl(Zn,"lang"):J.none();return{up:Se({selector:yi,closest:Ea,predicate:ic,all:si}),down:Se({selector:ed,predicate:Mc}),styles:Se({get:jm,getRaw:$r,set:Fh,remove:Za}),attrs:Se({get:Pc,set:nl,remove:Mi,copyTo:Nt}),insert:Se({before:Xo,after:cc,afterAll:Zf,append:Nl,appendAll:Ll,prepend:ki,wrap:x1}),remove:Se({unwrap:sb,remove:Xm}),create:Se({nu:Ao.fromTag,clone:O,text:Ao.fromText}),query:Se({comparePosition:at,prevSibling:Oc,nextSibling:zf}),property:Se({children:hu,name:pi,parent:Fn,document:D,isText:Yu,isComment:el,isElement:ca,isSpecial:ln,getLanguage:Wn,getText:jh,setText:E1,isBoundary:Y,isEmptyTag:ne,isNonEditable:Ce}),eq:Oi,is:Fr}};const Wh=(O,D,Y,ne)=>{const Ce=Y[0],at=Y.slice(1);return ne(O,D,Ce,at)},Zh=(O,D,Y)=>Y.length>0?Wh(O,D,Y,uc):J.none(),uc=(O,D,Y,ne)=>{const Ce=D(O,Y);return Tt(ne,(at,Nt)=>{const ln=D(O,Nt);return _l(O,at,ln)},Ce)},_l=(O,D,Y)=>D.bind(ne=>Y.filter(ee(O.eq,ne))),rb=Zh,vg=Ta(),wg=(O,D)=>rb(vg,(Y,ne)=>O(ne),D),ab=O=>yi(O,"table"),bu=(O,D)=>{const Y=ed(O,D);return Y.length>0?J.some(Y):J.none()},Jm=(O,D,Y)=>Le(O,D).bind(ne=>Le(O,Y).bind(Ce=>wg(ab,[ne,Ce]).map(at=>({first:ne,last:Ce,table:at})))),T1=(O,D)=>bu(O,D),sA=(O,D,Y)=>Jm(O,D,Y).bind(ne=>{const Ce=Wn=>Oi(O,Wn),at="thead,tfoot,tbody,table",Nt=yi(ne.first,at,Ce),ln=yi(ne.last,at,Ce);return Nt.bind(Wn=>ln.bind(Zn=>Oi(Wn,Zn)?B0(ne.table,ne.first,ne.last):J.none()))}),R1=O=>Ee(O,Ao.fromDom),_g="data-mce-selected",ib="td["+_g+"],th["+_g+"]",nd="data-mce-first-selected",lb="td["+nd+"],th["+nd+"]",Ns="data-mce-last-selected",tr="td["+Ns+"],th["+Ns+"]",od={selected:_g,selectedSelector:ib,firstSelected:nd,firstSelectedSelector:lb,lastSelected:Ns,lastSelectedSelector:tr},I1=O=>en(O).bind(D=>T1(D,od.firstSelectedSelector)).fold(Se(O),D=>D[0]),A1=O=>(D,Y)=>{const ne=pi(D),Ce=ne==="col"||ne==="colgroup"?I1(D):D;return Ea(Ce,O,Y)},Ra=A1("th,td,caption"),Gh=A1("th,td"),Bc=O=>R1(O.model.table.getSelectedCells()),vu=(O,D)=>{const Y=Gh(O),ne=Y.bind(Ce=>en(Ce)).map(Ce=>co(Ce));return ls(Y,ne,(Ce,at)=>Je(at,Nt=>uo(R1(Nt.dom.cells),ln=>Pc(ln,D)==="1"||Oi(ln,Ce)))).getOr([])},Gf=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],to=O=>({value:qf(O)}),Ci=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,qh=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,O1=O=>Ci.test(O)||qh.test(O),qf=O=>td(O,"#").toUpperCase(),Qm=O=>O1(O)?J.some({value:qf(O)}):J.none(),dc=O=>{const D=O.toString(16);return(D.length===1?"0"+D:D).toUpperCase()},sl=O=>{const D=dc(O.red)+dc(O.green)+dc(O.blue);return to(D)},ii=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,kl=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,ma=(O,D,Y,ne)=>({red:O,green:D,blue:Y,alpha:ne}),D1=(O,D,Y,ne)=>{const Ce=parseInt(O,10),at=parseInt(D,10),Nt=parseInt(Y,10),ln=parseFloat(ne);return ma(Ce,at,Nt,ln)},Go=O=>{if(O==="transparent")return J.some(ma(0,0,0,0));const D=ii.exec(O);if(D!==null)return J.some(D1(D[1],D[2],D[3],"1"));const Y=kl.exec(O);return Y!==null?J.some(D1(Y[1],Y[2],Y[3],Y[4])):J.none()},sd=O=>Qm(O).orThunk(()=>Go(O).map(sl)).getOrThunk(()=>{const D=document.createElement("canvas");D.height=1,D.width=1;const Y=D.getContext("2d");Y.clearRect(0,0,D.width,D.height),Y.fillStyle="#FFFFFF",Y.fillStyle=O,Y.fillRect(0,0,1,1);const ne=Y.getImageData(0,0,1,1).data,Ce=ne[0],at=ne[1],Nt=ne[2],ln=ne[3];return sl(ma(Ce,at,Nt,ln))}),Jd=O=>Go(O).map(sl).map(D=>"#"+D.value).getOr(O),nr=O=>{let D=O;return{get:()=>D,set:Ce=>{D=Ce}}},M1=O=>{const D=nr(J.none()),Y=()=>D.get().each(O);return{clear:()=>{Y(),D.set(J.none())},isSet:()=>D.get().isSome(),get:()=>D.get(),set:ln=>{Y(),D.set(J.some(ln))}}},V0=()=>M1(O=>O.unbind()),rd=(O,D,Y)=>ne=>{const Ce=V0(),at=hg(Y),Nt=()=>{const ln=Bc(O),Wn=Zn=>O.formatter.match(D,{value:Y},Zn.dom,at);at?(ne.setActive(!uo(ln,Wn)),Ce.set(O.formatter.formatChanged(D,Zn=>ne.setActive(!Zn),!0))):(ne.setActive(ce(ln,Wn)),Ce.set(O.formatter.formatChanged(D,ne.setActive,!1,{value:Y})))};return O.initialized?Nt():O.on("init",Nt),Ce.clear},hs=O=>Bn(O,"menu"),ps=O=>Ee(O,D=>{const Y=D.text||D.title||"";return hs(D)?{text:Y,items:ps(D.menu)}:{text:Y,value:D.value}}),Dr=(O,D,Y,ne)=>Ee(D,Ce=>{const at=Ce.text||Ce.title;return hs(Ce)?{type:"nestedmenuitem",text:at,getSubmenuItems:()=>Dr(O,Ce.menu,Y,ne)}:{text:at,type:"togglemenuitem",onAction:()=>ne(Ce.value),onSetup:rd(O,Y,Ce.value)}}),Qd=(O,D)=>Y=>{O.execCommand("mceTableApplyCellStyle",!1,{[D]:Y})},ef=O=>Ye(O,D=>hs(D)?[{...D,menu:ef(D.menu)}]:Lh(D.value)?[D]:[]),Kf=(O,D,Y,ne)=>Ce=>Ce(Dr(O,D,Y,ne)),tf=(O,D,Y)=>{const ne=Ee(D,Ce=>({text:Ce.title,value:"#"+sd(Ce.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:ne.length>0?ne:void 0,allowCustomColors:!1},onAction:Ce=>{const at=Ce.value==="remove"?"":Ce.value;O.execCommand("mceTableApplyCellStyle",!1,{[Y]:at})}}]},go=O=>()=>{const Y=O.queryCommandValue("mceTableRowType")==="header"?"body":"header";O.execCommand("mceTableRowType",!1,{type:Y})},kg=O=>()=>{const Y=O.queryCommandValue("mceTableColType")==="th"?"td":"th";O.execCommand("mceTableColType",!1,{type:Y})},cb=O=>{const D=ps(Km(O));return D.length>0?J.some({name:"class",type:"listbox",label:"Class",items:D}):J.none()},H0=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Gf}],U0=O=>H0.concat(cb(O).toArray()),ep=(O,D)=>{const ne=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(ps(Yd(O)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:D==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(ne):ne}},tp={normal:(O,D)=>{const Y=O.dom;return{setAttrib:(Nt,ln)=>{Y.setAttrib(D,Nt,ln)},setStyle:(Nt,ln)=>{Y.setStyle(D,Nt,ln)},setFormat:(Nt,ln)=>{ln===""?O.formatter.remove(Nt,{value:null},D,!0):O.formatter.apply(Nt,{value:ln},D)}}}},fc=ac("th"),z1=(O,D)=>O&&D?"sectionCells":O?"section":"cells",Cg=O=>{const D=O.section==="thead",Y=Jy(N1(O.cells),"th");return O.section==="tfoot"?{type:"footer"}:D||Y?{type:"header",subType:z1(D,Y)}:{type:"body"}},N1=O=>{const D=Je(O,Y=>fc(Y.element));return D.length===0?J.some("td"):D.length===O.length?J.some("th"):J.none()},Fc=O=>{const D=Ee(O,Ce=>Cg(Ce).type),Y=io(D,"header"),ne=io(D,"footer");if(!Y&&!ne)return J.some("body");{const Ce=io(D,"body");return Y&&!Ce&&!ne?J.some("header"):!Y&&!Ce&&ne?J.some("footer"):J.none()}},ub=O=>{let D=!1,Y;return(...ne)=>(D||(D=!0,Y=O.apply(null,ne)),Y)},$c=(O,D)=>be(O.all,Y=>Oe(Y.cells,ne=>Oi(D,ne.element))),Kh=(O,D,Y)=>{const ne=Ee(D.selection,at=>ae(at).bind(Nt=>$c(O,Nt)).filter(Y)),Ce=Vm(ne);return Pi(Ce.length>0,Ce)},L1=(O,D)=>D.mergable,Sg=(O,D)=>D.unmergable,db=(O,D)=>Kh(O,D,Ze),fb=(O,D)=>$c(O,D).exists(Y=>!Y.isLocked),Ia=(O,D)=>ce(D,Y=>fb(O,Y)),hb=(O,D)=>L1(O,D).filter(Y=>Ia(O,Y.cells)),Mr=(O,D)=>Sg(O,D).filter(Y=>Ia(O,Y));({...{generate:O=>{if(!x(O))throw new Error("cases must be an array");if(O.length===0)throw new Error("there must be at least one case");const D=[],Y={};return me(O,(ne,Ce)=>{const at=Te(ne);if(at.length!==1)throw new Error("one and only one name per case");const Nt=at[0],ln=ne[Nt];if(Y[Nt]!==void 0)throw new Error("duplicate key detected:"+Nt);if(Nt==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(ln))throw new Error("case arguments must be an array");D.push(Nt),Y[Nt]=(...Wn)=>{const Zn=Wn.length;if(Zn!==ln.length)throw new Error("Wrong number of arguments to case "+Nt+". Expected "+ln.length+" ("+ln+"), got "+Zn);return{fold:(...ss)=>{if(ss.length!==O.length)throw new Error("Wrong number of arguments to fold. Expected "+O.length+", got "+ss.length);return ss[Ce].apply(null,Wn)},match:ss=>{const Ls=Te(ss);if(D.length!==Ls.length)throw new Error("Wrong number of arguments to match. Expected: "+D.join(",")+`
Actual: `+Ls.join(","));if(!ce(D,Oa=>io(Ls,Oa)))throw new Error("Not all branches were specified when using match. Specified: "+Ls.join(", ")+`
Required: `+D.join(", "));return ss[Nt].apply(null,Wn)},log:ss=>{console.log(ss,{constructors:D,constructor:Nt,params:Wn})}}}}),Y}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Fl=(O,D)=>{const Y=Ur.fromTable(O);return db(Y,D).bind(Ce=>{const at=Ce[Ce.length-1],Nt=Ce[0].row,ln=at.row+at.rowspan,Wn=Y.all.slice(Nt,ln);return Fc(Wn)}).getOr("")},ad=O=>bl(O,"rgb")?Jd(O):O,mb=O=>{const D=Ao.fromDom(O);return{borderwidth:$r(D,"border-width").getOr(""),borderstyle:$r(D,"border-style").getOr(""),bordercolor:$r(D,"border-color").map(ad).getOr(""),backgroundcolor:$r(D,"background-color").map(ad).getOr("")}},pb=O=>{const D=O[0],Y=O.slice(1);return me(Y,ne=>{me(Te(D),Ce=>{_t(ne,(at,Nt)=>{const ln=D[Ce];ln!==""&&Ce===Nt&&ln!==at&&(D[Ce]="")})})}),D},Aa=(O,D,Y,ne)=>Oe(O,Ce=>!A(Y.formatter.matchNode(ne,D+Ce))).getOr(""),id=ee(Aa,["left","center","right"],"align"),hc=ee(Aa,["top","middle","bottom"],"valign"),pa=(O,D)=>{const Y=nb(O),ne=Wf(O),Ce=()=>({borderstyle:Ht(Y,"border-style").getOr(""),bordercolor:ad(Ht(Y,"border-color").getOr("")),backgroundcolor:ad(Ht(Y,"background-color").getOr(""))}),at={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},Nt=()=>{const $o=Y["border-width"];return Or(O)&&$o?{border:$o}:Ht(ne,"border").fold(()=>({}),ss=>({border:ss}))},ln=D?Ce():{},Wn=()=>{const $o=Ht(Y,"border-spacing").or(Ht(ne,"cellspacing")).fold(()=>({}),Ls=>({cellspacing:Ls})),ss=Ht(Y,"border-padding").or(Ht(ne,"cellpadding")).fold(()=>({}),Ls=>({cellpadding:Ls}));return{...$o,...ss}};return{...at,...Y,...ne,...ln,...Nt(),...Wn()}},Yf=O=>en(Ao.fromDom(O)).map(D=>{const Y={selection:R1(O.cells)};return Fl(D,Y)}).getOr(""),Pt=(O,D,Y)=>{const ne=(ln,Wn)=>{const Zn=$r(Ao.fromDom(Wn),"border-width");return Or(O)&&Zn.isSome()?Zn.getOr(""):ln.getAttrib(Wn,"border")||ri(O.dom,Wn,"border-width")||ri(O.dom,Wn,"border")||""},Ce=O.dom,at=Or(O)?Ce.getStyle(D,"border-spacing")||Ce.getAttrib(D,"cellspacing"):Ce.getAttrib(D,"cellspacing")||Ce.getStyle(D,"border-spacing"),Nt=Or(O)?ri(Ce,D,"padding")||Ce.getAttrib(D,"cellpadding"):Ce.getAttrib(D,"cellpadding")||ri(Ce,D,"padding");return{width:Ce.getStyle(D,"width")||Ce.getAttrib(D,"width"),height:Ce.getStyle(D,"height")||Ce.getAttrib(D,"height"),cellspacing:at!=null?at:"",cellpadding:Nt!=null?Nt:"",border:ne(Ce,D),caption:!!Ce.select("caption",D)[0],class:Ce.getAttrib(D,"class",""),align:id(O,D),...Y?mb(D):{}}},gb=(O,D,Y)=>{const ne=O.dom;return{height:ne.getStyle(D,"height")||ne.getAttrib(D,"height"),class:ne.getAttrib(D,"class",""),type:Yf(D),align:id(O,D),...Y?mb(D):{}}},j0=(O,D,Y,ne)=>{const Ce=O.dom,at=ne.getOr(D),Nt=(ln,Wn)=>Ce.getStyle(ln,Wn)||Ce.getAttrib(ln,Wn);return{width:Nt(at,"width"),height:Nt(D,"height"),scope:Ce.getAttrib(D,"scope"),celltype:_s(D),class:Ce.getAttrib(D,"class",""),halign:id(O,D),valign:hc(O,D),...Y?mb(D):{}}},ld=(O,D)=>{const Y=Ur.fromTable(O),ne=Ur.justCells(Y),Ce=Je(ne,at=>uo(D,Nt=>Oi(at.element,Nt)));return Ee(Ce,at=>({element:at.element.dom,column:Ur.getColumnAt(Y,at.column).map(Nt=>Nt.element.dom)}))},Hc=(O,D,Y,ne)=>{ne("scope")&&O.setAttrib("scope",Y.scope),ne("class")&&O.setAttrib("class",Y.class),ne("height")&&O.setStyle("height",bi(Y.height)),ne("width")&&D.setStyle("width",bi(Y.width))},xg=(O,D,Y)=>{Y("backgroundcolor")&&O.setFormat("tablecellbackgroundcolor",D.backgroundcolor),Y("bordercolor")&&O.setFormat("tablecellbordercolor",D.bordercolor),Y("borderstyle")&&O.setFormat("tablecellborderstyle",D.borderstyle),Y("borderwidth")&&O.setFormat("tablecellborderwidth",bi(D.borderwidth))},Vs=(O,D,Y,ne)=>{const Ce=D.length===1;me(D,at=>{const Nt=at.element,ln=Ce?Ze:ne,Wn=tp.normal(O,Nt),Zn=at.column.map($o=>tp.normal(O,$o)).getOr(Wn);Hc(Wn,Zn,Y,ln),Vh(O)&&xg(Wn,Y,ln),ne("halign")&&qd(O,Nt,Y.halign),ne("valign")&&Zm(O,Nt,Y.valign)})},Yh=(O,D)=>{O.execCommand("mceTableCellType",!1,{type:D.celltype,no_events:!0})},Uc=(O,D,Y,ne)=>{const Ce=Tn(ne,(at,Nt)=>Y[Nt]!==at);L(Ce)>0&&D.length>=1&&en(D[0]).each(at=>{const Nt=ld(at,D),ln=L(Tn(Ce,(Zn,$o)=>$o!=="scope"&&$o!=="celltype"))>0,Wn=ot(Ce,"celltype");(ln||ot(Ce,"scope"))&&Vs(O,Nt,ne,ee(ot,Ce)),Wn&&Yh(O,ne),Cs(O,at.dom,{structure:Wn,style:ln})})},eo=(O,D,Y,ne)=>{const Ce=ne.getData();ne.close(),O.undoManager.transact(()=>{Uc(O,D,Y,Ce),O.focus()})},Cl=(O,D)=>{const Y=en(D[0]).map(ne=>Ee(ld(ne,D),Ce=>j0(O,Ce.element,Vh(O),Ce.column)));return pb(Y.getOrDie())},$i=O=>{const D=Bc(O);if(D.length===0)return;const Y=Cl(O,D),ne={type:"tabpanel",tabs:[{title:"General",name:"general",items:U0(O)},ep(O,"cell")]},Ce={type:"panel",items:[{type:"grid",columns:2,items:U0(O)}]};O.windowManager.open({title:"Cell Properties",size:"normal",body:Vh(O)?ne:Ce,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Y,onSubmit:ee(eo,O,D,Y)})},rl=O=>{const D=ps(Uf(O));return D.length>0?J.some({name:"class",type:"listbox",label:"Class",items:D}):J.none()},Vi=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],$l=O=>Vi.concat(rl(O).toArray()),Qo=(O,D,Y)=>{Y("class")&&O.setAttrib("class",D.class),Y("height")&&O.setStyle("height",bi(D.height))},li=(O,D,Y)=>{Y("backgroundcolor")&&O.setStyle("background-color",D.backgroundcolor),Y("bordercolor")&&O.setStyle("border-color",D.bordercolor),Y("borderstyle")&&O.setStyle("border-style",D.borderstyle)},Eg=(O,D,Y,ne)=>{const at=D.length===1?Ze:ne;me(D,Nt=>{const ln=tp.normal(O,Nt);Qo(ln,Y,at),gg(O)&&li(ln,Y,at),ne("align")&&qd(O,Nt,Y.align)})},Ct=(O,D)=>{O.execCommand("mceTableRowType",!1,{type:D.type,no_events:!0})},Hi=(O,D,Y,ne)=>{const Ce=Tn(ne,(at,Nt)=>Y[Nt]!==at);if(L(Ce)>0){const at=ot(Ce,"type"),Nt=at?L(Ce)>1:!0;Nt&&Eg(O,D,ne,ee(ot,Ce)),at&&Ct(O,ne),en(Ao.fromDom(D[0])).each(ln=>Cs(O,ln.dom,{structure:at,style:Nt}))}},np=(O,D,Y,ne)=>{const Ce=ne.getData();ne.close(),O.undoManager.transact(()=>{Hi(O,D,Y,Ce),O.focus()})},Cr=O=>{const D=vu(wr(O),od.selected);if(D.length===0)return;const Y=Ee(D,Nt=>gb(O,Nt.dom,gg(O))),ne=pb(Y),Ce={type:"tabpanel",tabs:[{title:"General",name:"general",items:$l(O)},ep(O,"row")]},at={type:"panel",items:[{type:"grid",columns:2,items:$l(O)}]};O.windowManager.open({title:"Row Properties",size:"normal",body:gg(O)?Ce:at,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ne,onSubmit:ee(np,O,Ee(D,Nt=>Nt.dom),ne)})},wu=(O,D,Y)=>{const ne=Y?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Ce=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],at=Xd(O)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],Nt=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],ln=D.length>0?[{type:"listbox",name:"class",label:"Class",items:D}]:[];return ne.concat(Ce).concat(at).concat(Nt).concat(ln)},yb=(O,D,Y,ne)=>{if(D.tagName==="TD"||D.tagName==="TH")w(Y)&&B(ne)?O.setStyle(D,Y,ne):O.setStyles(D,Y);else if(D.children)for(let Ce=0;Ce<D.children.length;Ce++)yb(O,D.children[Ce],Y,ne)},mc=(O,D,Y)=>{const ne=O.dom,Ce={},at={};if(A(Y.class)||(Ce.class=Y.class),at.height=bi(Y.height),Or(O)?at.width=bi(Y.width):ne.getAttrib(D,"width")&&(Ce.width=Ju(Y.width)),Or(O)?(at["border-width"]=bi(Y.border),at["border-spacing"]=bi(Y.cellspacing)):(Ce.border=Y.border,Ce.cellpadding=Y.cellpadding,Ce.cellspacing=Y.cellspacing),Or(O)&&D.children)for(let Nt=0;Nt<D.children.length;Nt++)yb(ne,D.children[Nt],{"border-width":bi(Y.border),padding:bi(Y.cellpadding)}),zl(O)&&yb(ne,D.children[Nt],{"border-color":Y.bordercolor});if(zl(O)){const Nt=Y;at["background-color"]=Nt.backgroundcolor,at["border-color"]=Nt.bordercolor,at["border-style"]=Nt.borderstyle}Ce.style=ne.serializeStyle({...nb(O),...at}),ne.setAttribs(D,{...Wf(O),...Ce})},W0=(O,D,Y,ne)=>{const Ce=O.dom,at=ne.getData(),Nt=Tn(at,(ln,Wn)=>Y[Wn]!==ln);ne.close(),at.class===""&&delete at.class,O.undoManager.transact(()=>{if(!D){const ln=zi(at.cols).getOr(1),Wn=zi(at.rows).getOr(1);O.execCommand("mceInsertTable",!1,{rows:Wn,columns:ln}),D=Gh(wr(O),Nh(O)).bind(Zn=>en(Zn,Nh(O))).map(Zn=>Zn.dom).getOrDie()}if(L(Nt)>0){mc(O,D,at);const ln=Ce.select("caption",D)[0];(ln&&!at.caption||!ln&&at.caption)&&O.execCommand("mceTableToggleCaption"),qd(O,D,at.align)}if(O.focus(),O.addVisual(),L(Nt)>0){const ln=ot(Nt,"caption"),Wn=ln?L(Nt)>1:!0;Cs(O,D,{structure:ln,style:Wn})}})},cd=(O,D)=>{const Y=O.dom;let ne,Ce=pa(O,zl(O));D?(Ce.cols="1",Ce.rows="1",zl(O)&&(Ce.borderstyle="",Ce.bordercolor="",Ce.backgroundcolor="")):(ne=Y.getParent(O.selection.getStart(),"table",O.getBody()),ne?Ce=Pt(O,ne,zl(O)):zl(O)&&(Ce.borderstyle="",Ce.bordercolor="",Ce.backgroundcolor=""));const at=ps(Hh(O));at.length>0&&Ce.class&&(Ce.class=Ce.class.replace(/\s*mce\-item\-table\s*/g,""));const Nt={type:"grid",columns:2,items:wu(O,at,D)},ln=()=>({type:"panel",items:[Nt]}),Wn=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[Nt]},ep(O,"table")]}),Zn=zl(O)?Wn():ln();O.windowManager.open({title:"Table Properties",size:"normal",body:Zn,onSubmit:ee(W0,O,ne,Ce),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ce})},B1=O=>{const D=Y=>{mu(wr(O))&&Y()};_t({mceTableProps:ee(cd,O,!1),mceTableRowProps:ee(Cr,O),mceTableCellProps:ee($i,O),mceInsertTableDialog:ee(cd,O,!0)},(Y,ne)=>O.addCommand(ne,()=>D(Y)))},al=(O,D)=>N0(O,D).isSome(),Wo=je,_u=O=>{const D=(ne,Ce)=>yl(ne,Ce).exists(at=>parseInt(at,10)>1),Y=ne=>D(ne,"rowspan")||D(ne,"colspan");return O.length>0&&ce(O,Y)?J.some(O):J.none()},op=(O,D,Y)=>D.length<=1?J.none():sA(O,Y.firstSelectedSelector,Y.lastSelectedSelector).map(ne=>({bounds:ne,cells:D})),Sr=O=>({element:O,mergable:J.none(),unmergable:J.none(),selection:[O]}),Ui=(O,D,Y)=>({element:Y,mergable:op(D,O,od),unmergable:_u(O),selection:Wo(O)}),Xf=O=>{const D=nr(J.none()),Y=nr([]);let ne=J.none();const Ce=ac("caption"),at=ko=>ne.forall(gs=>!gs[ko]),Nt=()=>Ra(wr(O),Nh(O)),ln=()=>Ra(Rr(O),Nh(O)),Wn=()=>Nt().bind(ko=>ol(ls(en(ko),ln().bind(en),(gs,Si)=>Oi(gs,Si)?Ce(ko)?J.some(Sr(ko)):J.some(Ui(Bc(O),gs,ko)):J.none()))),Zn=ko=>en(ko.element).map(Si=>{const cs=Ur.fromTable(Si),Og=db(cs,ko).getOr([]),eh=re(Og,(th,pc)=>(pc.isLocked&&(th.onAny=!0,pc.column===0?th.onFirst=!0:pc.column+pc.colspan>=cs.grid.columns&&(th.onLast=!0)),th),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:hb(cs,ko).isSome(),unmergeable:Mr(cs,ko).isSome(),locked:eh}}),$o=()=>{D.set(ub(Wn)()),ne=D.get().bind(Zn),me(Y.get(),ht)},ss=ko=>(ko(),Y.set(Y.get().concat([ko])),()=>{Y.set(Je(Y.get(),gs=>gs!==ko))}),Ls=(ko,gs)=>ss(()=>D.get().fold(()=>{ko.setEnabled(!1)},Si=>{ko.setEnabled(!gs(Si))})),ji=(ko,gs,Si)=>ss(()=>D.get().fold(()=>{ko.setEnabled(!1),ko.setActive(!1)},cs=>{ko.setEnabled(!gs(cs)),ko.setActive(Si(cs))})),Oa=ko=>ne.exists(gs=>gs.locked[ko]),ud=ko=>Ls(ko,gs=>!1),Hl=ko=>Ls(ko,gs=>Ce(gs.element)),Jf=ko=>gs=>Ls(gs,Si=>Ce(Si.element)||Oa(ko)),rp=ko=>gs=>Ls(gs,Si=>Ce(Si.element)||ko().isNone()),Ul=(ko,gs)=>Si=>Ls(Si,cs=>Ce(cs.element)||ko().isNone()||Oa(gs)),Qf=ko=>Ls(ko,gs=>at("mergeable")),Ig=ko=>Ls(ko,gs=>at("unmergeable")),Ag=ko=>ji(ko,He,gs=>en(gs.element,Nh(O)).exists(cs=>al(cs,"caption"))),Jh=(ko,gs)=>Si=>ji(Si,cs=>Ce(cs.element),()=>O.queryCommandValue(ko)===gs),Jr=Jh("mceTableRowType","header"),ku=Jh("mceTableColType","th");return O.on("NodeChange ExecCommand TableSelectorChange",$o),{onSetupTable:ud,onSetupCellOrRow:Hl,onSetupColumn:Jf,onSetupPasteable:rp,onSetupPasteableColumn:Ul,onSetupMergeable:Qf,onSetupUnmergeable:Ig,resetTargets:$o,onSetupTableWithCaption:Ag,onSetupTableRowHeaders:Jr,onSetupTableColumnHeaders:ku,targets:D.get}};var sp=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const ga="x-tinymce/dom-table-",Tg=ga+"rows",Be=ga+"columns",ci=O=>{var D;const Y=(D=sp.read())!==null&&D!==void 0?D:[];return be(Y,ne=>J.from(ne.getType(O)))},Xh=()=>ci(Tg),Ka=()=>ci(Be),Vl=(O,D)=>{O.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:ln=>ln("inserttable | cell row column | advtablesort | tableprops deletetable")});const Y=ln=>()=>O.execCommand(ln),ne=(ln,Wn)=>{O.queryCommandSupported(Wn.command)&&O.ui.registry.addButton(ln,{...Wn,onAction:H(Wn.onAction)?Wn.onAction:Y(Wn.command)})},Ce=(ln,Wn)=>{O.queryCommandSupported(Wn.command)&&O.ui.registry.addToggleButton(ln,{...Wn,onAction:H(Wn.onAction)?Wn.onAction:Y(Wn.command)})};ne("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:D.onSetupTable}),ne("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:D.onSetupTable}),ne("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:D.onSetupCellOrRow}),ne("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:D.onSetupMergeable}),ne("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:D.onSetupUnmergeable}),ne("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:D.onSetupCellOrRow}),ne("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:D.onSetupCellOrRow}),ne("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:D.onSetupCellOrRow}),ne("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:D.onSetupCellOrRow}),ne("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:D.onSetupColumn("onFirst")}),ne("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:D.onSetupColumn("onLast")}),ne("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:D.onSetupColumn("onAny")}),ne("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:D.onSetupCellOrRow}),ne("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:D.onSetupCellOrRow}),ne("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:D.onSetupPasteable(Xh)}),ne("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:D.onSetupPasteable(Xh)}),ne("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:D.onSetupColumn("onAny")}),ne("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:D.onSetupColumn("onAny")}),ne("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:D.onSetupPasteableColumn(Ka,"onFirst")}),ne("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:D.onSetupPasteableColumn(Ka,"onLast")}),ne("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table"});const at=ef(Hh(O));at.length!==0&&O.queryCommandSupported("mceTableToggleClass")&&O.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Kf(O,at,"tableclass",ln=>O.execCommand("mceTableToggleClass",!1,ln)),onSetup:D.onSetupTable});const Nt=ef(Km(O));Nt.length!==0&&O.queryCommandSupported("mceTableCellToggleClass")&&O.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Kf(O,Nt,"tablecellclass",ln=>O.execCommand("mceTableCellToggleClass",!1,ln)),onSetup:D.onSetupCellOrRow}),O.queryCommandSupported("mceTableApplyCellStyle")&&(O.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Kf(O,Gf,"tablecellverticalalign",Qd(O,"vertical-align")),onSetup:D.onSetupCellOrRow}),O.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Kf(O,Gm(O),"tablecellborderwidth",Qd(O,"border-width")),onSetup:D.onSetupCellOrRow}),O.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Kf(O,Yd(O),"tablecellborderstyle",Qd(O,"border-style")),onSetup:D.onSetupCellOrRow}),O.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:ln=>ln(tf(O,yg(O),"background-color")),onSetup:D.onSetupCellOrRow}),O.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:ln=>ln(tf(O,Ym(O),"border-color")),onSetup:D.onSetupCellOrRow})),Ce("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:D.onSetupTableWithCaption}),Ce("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:go(O),onSetup:D.onSetupTableRowHeaders}),Ce("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:kg(O),onSetup:D.onSetupTableColumnHeaders})},ui=O=>{const D=ne=>O.dom.is(ne,"table")&&O.getBody().contains(ne),Y=Uh(O);Y.length>0&&O.ui.registry.addContextToolbar("table",{predicate:D,items:Y,scope:"node",position:"node"})},jr=(O,D)=>{const Y=ss=>()=>O.execCommand(ss),ne=(ss,Ls)=>O.queryCommandSupported(Ls.command)?(O.ui.registry.addMenuItem(ss,{...Ls,onAction:H(Ls.onAction)?Ls.onAction:Y(Ls.command)}),!0):!1,Ce=(ss,Ls)=>{O.queryCommandSupported(Ls.command)&&O.ui.registry.addToggleMenuItem(ss,{...Ls,onAction:H(Ls.onAction)?Ls.onAction:Y(Ls.command)})},at=ss=>{O.execCommand("mceInsertTable",!1,{rows:ss.numRows,columns:ss.numColumns})},Nt=[ne("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:D.onSetupCellOrRow}),ne("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:D.onSetupCellOrRow}),ne("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:D.onSetupCellOrRow}),ne("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:D.onSetupCellOrRow}),ne("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:D.onSetupCellOrRow}),ne("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:D.onSetupCellOrRow}),ne("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:D.onSetupPasteable(Xh)}),ne("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:D.onSetupPasteable(Xh)})],ln=[ne("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:D.onSetupColumn("onFirst")}),ne("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:D.onSetupColumn("onLast")}),ne("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:D.onSetupColumn("onAny")}),ne("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:D.onSetupColumn("onAny")}),ne("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:D.onSetupColumn("onAny")}),ne("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:D.onSetupPasteableColumn(Ka,"onFirst")}),ne("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:D.onSetupPasteableColumn(Ka,"onLast")})],Wn=[ne("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:D.onSetupCellOrRow}),ne("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:D.onSetupMergeable}),ne("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:D.onSetupUnmergeable})];qm(O)?O.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:at}]}):O.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:Y("mceInsertTableDialog")}),O.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:Y("mceInsertTableDialog")}),ne("tableprops",{text:"Table properties",onSetup:D.onSetupTable,command:"mceTableProps"}),ne("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:D.onSetupTable,command:"mceTableDelete"}),io(Nt,!0)&&O.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:Se("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),io(ln,!0)&&O.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:Se("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),io(Wn,!0)&&O.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:Se("tablecellprops tablemergecells tablesplitcells")}),O.ui.registry.addContextMenu("table",{update:()=>(D.resetTargets(),D.targets().fold(Se(""),ss=>pi(ss.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Zn=ef(Hh(O));Zn.length!==0&&O.queryCommandSupported("mceTableToggleClass")&&O.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Dr(O,Zn,"tableclass",ss=>O.execCommand("mceTableToggleClass",!1,ss)),onSetup:D.onSetupTable});const $o=ef(Km(O));$o.length!==0&&O.queryCommandSupported("mceTableCellToggleClass")&&O.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Dr(O,$o,"tablecellclass",ss=>O.execCommand("mceTableCellToggleClass",!1,ss)),onSetup:D.onSetupCellOrRow}),O.queryCommandSupported("mceTableApplyCellStyle")&&(O.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Dr(O,Gf,"tablecellverticalalign",Qd(O,"vertical-align")),onSetup:D.onSetupCellOrRow}),O.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Dr(O,Gm(O),"tablecellborderwidth",Qd(O,"border-width")),onSetup:D.onSetupCellOrRow}),O.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Dr(O,Yd(O),"tablecellborderstyle",Qd(O,"border-style")),onSetup:D.onSetupCellOrRow}),O.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>tf(O,yg(O),"background-color"),onSetup:D.onSetupCellOrRow}),O.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>tf(O,Ym(O),"border-color"),onSetup:D.onSetupCellOrRow})),Ce("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:D.onSetupTableWithCaption}),Ce("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:go(O),onSetup:D.onSetupTableRowHeaders}),Ce("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:kg(O),onSetup:D.onSetupTableRowHeaders})},Z0=O=>{const D=Xf(O);Ar(O),B1(O),jr(O,D),Vl(O,D),ui(O)};var Rg=()=>{t.add("table",Z0)};Rg()})();(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=(lt,Je,Tt)=>{var re;return Tt(lt,Je.prototype)?!0:((re=lt.constructor)===null||re===void 0?void 0:re.name)===Je.name},r=lt=>{const Je=typeof lt;return lt===null?"null":Je==="object"&&Array.isArray(lt)?"array":Je==="object"&&n(lt,String,(Tt,re)=>re.isPrototypeOf(Tt))?"string":Je},u=lt=>Je=>r(Je)===lt,f=lt=>Je=>typeof Je===lt,d=u("string"),w=f("boolean"),x=lt=>lt==null,T=lt=>!x(lt),A=f("function"),$=lt=>Je=>Je.options.get(lt),B=lt=>{const Je=lt.options.register,Tt=yt=>Ye=>{const ce=w(Ye)||d(Ye);return ce?w(Ye)?{value:Ye?yt:"",valid:ce}:{value:Ye.trim(),valid:ce}:{valid:!1,message:"Must be a boolean or string."}},re="bold italic | quicklink h2 h3 blockquote";Je("quickbars_selection_toolbar",{processor:Tt(re),default:re});const Re="quickimage quicktable";Je("quickbars_insert_toolbar",{processor:Tt(Re),default:Re});const Oe="alignleft aligncenter alignright";Je("quickbars_image_toolbar",{processor:Tt(Oe),default:Oe})},H=$("quickbars_selection_toolbar"),le=$("quickbars_insert_toolbar"),ke=$("quickbars_image_toolbar");let Ne=0;const Se=lt=>{const Tt=new Date().getTime(),re=Math.floor(Math.random()*1e9);return Ne++,lt+"_"+re+Ne+String(Tt)},je=(lt,Je,Tt)=>{lt.execCommand("mceInsertTable",!1,{rows:Tt,columns:Je})},gt=(lt,Je,Tt)=>{const re=lt.editorUpload.blobCache,Re=re.create(Se("mceu"),Tt,Je);re.add(Re),lt.insertContent(lt.dom.createHTML("img",{src:Re.blobUri()}))},ee=lt=>new Promise(Je=>{const Tt=new FileReader;Tt.onloadend=()=>{Je(Tt.result.split(",")[1])},Tt.readAsDataURL(lt)});var ht=tinymce.util.Tools.resolve("tinymce.util.Delay");const He=lt=>new Promise(Je=>{let Tt=!1;const re=document.createElement("input");re.type="file",re.accept="image/*",re.style.position="fixed",re.style.left="0",re.style.top="0",re.style.opacity="0.001",document.body.appendChild(re);const Re=Ye=>{var ce;Tt||((ce=re.parentNode)===null||ce===void 0||ce.removeChild(re),Tt=!0,Je(Ye))},Oe=Ye=>{Re(Array.prototype.slice.call(Ye.target.files))};re.addEventListener("input",Oe),re.addEventListener("change",Oe);const yt=Ye=>{const ce=()=>{Re([])};Tt||(Ye.type==="focusin"?ht.setEditorTimeout(lt,ce,1e3):ce()),lt.off("focusin remove",yt)};lt.on("focusin remove",yt),re.click()}),Ze=lt=>{lt.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{He(lt).then(Je=>{if(Je.length>0){const Tt=Je[0];ee(Tt).then(re=>{gt(lt,re,Tt)})}})}}),lt.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{je(lt,2,2)}})},Te=(lt=>()=>lt)(!1);class st{constructor(Je,Tt){this.tag=Je,this.value=Tt}static some(Je){return new st(!0,Je)}static none(){return st.singletonNone}fold(Je,Tt){return this.tag?Tt(this.value):Je()}isSome(){return this.tag}isNone(){return!this.tag}map(Je){return this.tag?st.some(Je(this.value)):st.none()}bind(Je){return this.tag?Je(this.value):st.none()}exists(Je){return this.tag&&Je(this.value)}forall(Je){return!this.tag||Je(this.value)}filter(Je){return!this.tag||Je(this.value)?this:st.none()}getOr(Je){return this.tag?this.value:Je}or(Je){return this.tag?this:Je}getOrThunk(Je){return this.tag?this.value:Je()}orThunk(Je){return this.tag?this:Je()}getOrDie(Je){if(this.tag)return this.value;throw new Error(Je!=null?Je:"Called getOrDie on None")}static from(Je){return T(Je)?st.some(Je):st.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Je){this.tag&&Je(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}st.singletonNone=new st(!1),typeof window<"u"||Function("return this;")();const _t=1,Ue=lt=>lt.dom.nodeName.toLowerCase(),de=(lt,Je)=>{const Tt=lt.dom;return Tt&&Tt.hasAttribute?Tt.hasAttribute(Je):!1};var Tn=(lt,Je,Tt,re,Re)=>lt(Tt,re)?st.some(Tt):A(Re)&&Re(Tt)?st.none():Je(Tt,re,Re);const nn=(lt,Je)=>{const re=(Je||document).createElement("div");if(re.innerHTML=lt,!re.hasChildNodes()||re.childNodes.length>1){const Re="HTML does not have a single root node";throw console.error(Re,lt),new Error(Re)}return Ht(re.childNodes[0])},Ot=(lt,Je)=>{const re=(Je||document).createElement(lt);return Ht(re)},L=(lt,Je)=>{const re=(Je||document).createTextNode(lt);return Ht(re)},Ht=lt=>{if(lt==null)throw new Error("Node cannot be null or undefined");return{dom:lt}},Bn={fromHtml:nn,fromTag:Ot,fromText:L,fromDom:Ht,fromPoint:(lt,Je,Tt)=>st.from(lt.dom.elementFromPoint(Je,Tt)).map(Ht)},cn=(lt,Je)=>{const Tt=lt.dom;if(Tt.nodeType!==_t)return!1;{const re=Tt;if(re.matches!==void 0)return re.matches(Je);if(re.msMatchesSelector!==void 0)return re.msMatchesSelector(Je);if(re.webkitMatchesSelector!==void 0)return re.webkitMatchesSelector(Je);if(re.mozMatchesSelector!==void 0)return re.mozMatchesSelector(Je);throw new Error("Browser lacks native selectors")}},it=(lt,Je,Tt)=>{let re=lt.dom;const Re=A(Tt)?Tt:Te;for(;re.parentNode;){re=re.parentNode;const Oe=Bn.fromDom(re);if(Je(Oe))return st.some(Oe);if(Re(Oe))break}return st.none()},Gn=(lt,Je,Tt)=>Tn((Re,Oe)=>Oe(Re),it,lt,Je,Tt),io=(lt,Je,Tt)=>Gn(lt,Je,Tt).isSome(),uo=(lt,Je,Tt)=>it(lt,re=>cn(re,Je),Tt),Et=(lt,Je,Tt)=>Tn((Re,Oe)=>cn(Re,Oe),uo,lt,Je,Tt),Ee=lt=>{const Je=le(lt);Je.length>0&&lt.ui.registry.addContextToolbar("quickblock",{predicate:Tt=>{const re=Bn.fromDom(Tt),Re=lt.schema.getTextBlockElements(),Oe=yt=>yt.dom===lt.getBody();return!de(re,"data-mce-bogus")&&Et(re,'table,[data-mce-bogus="all"]',Oe).fold(()=>io(re,yt=>Ue(yt)in Re&&lt.dom.isEmpty(yt.dom),Oe),Te)},items:Je,position:"line",scope:"editor"})},me=lt=>{const Je=Oe=>lt.dom.getContentEditableParent(Oe)!=="false",Tt=Oe=>Oe.nodeName==="IMG"||Oe.nodeName==="FIGURE"&&/image/i.test(Oe.className),re=ke(lt);re.length>0&&lt.ui.registry.addContextToolbar("imageselection",{predicate:Tt,items:re,position:"node"});const Re=H(lt);Re.length>0&&lt.ui.registry.addContextToolbar("textselection",{predicate:Oe=>!Tt(Oe)&&!lt.selection.isCollapsed()&&Je(Oe),items:Re,position:"selection",scope:"editor"})};var j=()=>{t.add("quickbars",lt=>{B(lt),Ze(lt),Ee(lt),me(lt)})};j()})();(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=Object.getPrototypeOf,r=(G,ae,ge)=>{var Qe;return ge(G,ae.prototype)?!0:((Qe=G.constructor)===null||Qe===void 0?void 0:Qe.name)===ae.name},u=G=>{const ae=typeof G;return G===null?"null":ae==="object"&&Array.isArray(G)?"array":ae==="object"&&r(G,String,(ge,Qe)=>Qe.isPrototypeOf(ge))?"string":ae},f=G=>ae=>u(ae)===G,d=G=>ae=>typeof ae===G,w=G=>ae=>G===ae,x=(G,ae)=>A(G)&&r(G,ae,(ge,Qe)=>n(ge)===Qe),T=f("string"),A=f("object"),$=G=>x(G,Object),B=f("array"),H=w(null),le=d("boolean"),ke=G=>G==null,Ne=G=>!ke(G),Se=d("function"),je=d("number"),gt=(G,ae)=>{if(B(G)){for(let ge=0,Qe=G.length;ge<Qe;++ge)if(!ae(G[ge]))return!1;return!0}return!1},ee=()=>{};class ht{constructor(ae,ge){this.tag=ae,this.value=ge}static some(ae){return new ht(!0,ae)}static none(){return ht.singletonNone}fold(ae,ge){return this.tag?ge(this.value):ae()}isSome(){return this.tag}isNone(){return!this.tag}map(ae){return this.tag?ht.some(ae(this.value)):ht.none()}bind(ae){return this.tag?ae(this.value):ht.none()}exists(ae){return this.tag&&ae(this.value)}forall(ae){return!this.tag||ae(this.value)}filter(ae){return!this.tag||ae(this.value)?this:ht.none()}getOr(ae){return this.tag?this.value:ae}or(ae){return this.tag?this:ae}getOrThunk(ae){return this.tag?this.value:ae()}orThunk(ae){return this.tag?this:ae()}getOrDie(ae){if(this.tag)return this.value;throw new Error(ae!=null?ae:"Called getOrDie on None")}static from(ae){return Ne(ae)?ht.some(ae):ht.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ae){this.tag&&ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ht.singletonNone=new ht(!1);const He=Object.keys,Ze=Object.hasOwnProperty,J=(G,ae)=>{const ge=He(G);for(let Qe=0,en=ge.length;Qe<en;Qe++){const co=ge[Qe],un=G[co];ae(un,co)}},Te=G=>(ae,ge)=>{G[ge]=ae},st=(G,ae,ge,Qe)=>{J(G,(en,co)=>{(ae(en,co)?ge:Qe)(en,co)})},_t=(G,ae)=>{const ge={};return st(G,ae,Te(ge),ee),ge},Ue=(G,ae)=>Ze.call(G,ae),de=(G,ae)=>Ue(G,ae)&&G[ae]!==void 0&&G[ae]!==null,Tn=Array.prototype.push,nn=G=>{const ae=[];for(let ge=0,Qe=G.length;ge<Qe;++ge){if(!B(G[ge]))throw new Error("Arr.flatten item "+ge+" was not an array, input: "+G);Tn.apply(ae,G[ge])}return ae},Ot=(G,ae)=>ae>=0&&ae<G.length?ht.some(G[ae]):ht.none(),L=G=>Ot(G,0),Ht=(G,ae)=>{for(let ge=0;ge<G.length;ge++){const Qe=ae(G[ge],ge);if(Qe.isSome())return Qe}return ht.none()};typeof window<"u"||Function("return this;")();const ot=(G,ae,ge)=>{if(T(ge)||le(ge)||je(ge))G.setAttribute(ae,ge+"");else throw console.error("Invalid call to Attribute.set. Key ",ae,":: Value ",ge,":: Element ",G),new Error("Attribute value was not simple")},Bn=(G,ae,ge)=>{ot(G.dom,ae,ge)},cn=(G,ae)=>{G.dom.removeAttribute(ae)},it=(G,ae)=>{const Qe=(ae||document).createElement("div");if(Qe.innerHTML=G,!Qe.hasChildNodes()||Qe.childNodes.length>1){const en="HTML does not have a single root node";throw console.error(en,G),new Error(en)}return uo(Qe.childNodes[0])},Gn=(G,ae)=>{const Qe=(ae||document).createElement(G);return uo(Qe)},io=(G,ae)=>{const Qe=(ae||document).createTextNode(G);return uo(Qe)},uo=G=>{if(G==null)throw new Error("Node cannot be null or undefined");return{dom:G}},Ee={fromHtml:it,fromTag:Gn,fromText:io,fromDom:uo,fromPoint:(G,ae,ge)=>ht.from(G.dom.elementFromPoint(ae,ge)).map(uo)};var me=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),j=tinymce.util.Tools.resolve("tinymce.util.URI");const lt=G=>G.length>0,Je=G=>ae=>ae.options.get(G),Tt=G=>{const ae=G.options.register;ae("image_dimensions",{processor:"boolean",default:!0}),ae("image_advtab",{processor:"boolean",default:!1}),ae("image_uploadtab",{processor:"boolean",default:!0}),ae("image_prepend_url",{processor:"string",default:""}),ae("image_class_list",{processor:"object[]"}),ae("image_description",{processor:"boolean",default:!0}),ae("image_title",{processor:"boolean",default:!1}),ae("image_caption",{processor:"boolean",default:!1}),ae("image_list",{processor:ge=>{const Qe=ge===!1||T(ge)||gt(ge,A)||Se(ge);return Qe?{value:ge,valid:Qe}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},re=Je("image_dimensions"),Re=Je("image_advtab"),Oe=Je("image_uploadtab"),yt=Je("image_prepend_url"),Ye=Je("image_class_list"),ce=Je("image_description"),Fe=Je("image_title"),et=Je("image_caption"),$e=Je("image_list"),oe=Je("a11y_advanced_options"),be=Je("automatic_uploads"),Xe=G=>lt(G.options.get("images_upload_url")),ut=G=>Ne(G.options.get("images_upload_handler")),zt=(G,ae)=>Math.max(parseInt(G,10),parseInt(ae,10)),Dt=G=>new Promise(ae=>{const ge=document.createElement("img"),Qe=co=>{ge.onload=ge.onerror=null,ge.parentNode&&ge.parentNode.removeChild(ge),ae(co)};ge.onload=()=>{const co=zt(ge.width,ge.clientWidth),un=zt(ge.height,ge.clientHeight),Ir={width:co,height:un};Qe(Promise.resolve(Ir))},ge.onerror=()=>{Qe(Promise.reject(`Failed to get image dimensions for: ${G}`))};const en=ge.style;en.visibility="hidden",en.position="fixed",en.bottom=en.left="0px",en.width=en.height="auto",document.body.appendChild(ge),ge.src=G}),Vt=G=>(G&&(G=G.replace(/px$/,"")),G),an=G=>(G.length>0&&/^[0-9]+$/.test(G)&&(G+="px"),G),_n=G=>{if(G.margin){const ae=String(G.margin).split(" ");switch(ae.length){case 1:G["margin-top"]=G["margin-top"]||ae[0],G["margin-right"]=G["margin-right"]||ae[0],G["margin-bottom"]=G["margin-bottom"]||ae[0],G["margin-left"]=G["margin-left"]||ae[0];break;case 2:G["margin-top"]=G["margin-top"]||ae[0],G["margin-right"]=G["margin-right"]||ae[1],G["margin-bottom"]=G["margin-bottom"]||ae[0],G["margin-left"]=G["margin-left"]||ae[1];break;case 3:G["margin-top"]=G["margin-top"]||ae[0],G["margin-right"]=G["margin-right"]||ae[1],G["margin-bottom"]=G["margin-bottom"]||ae[2],G["margin-left"]=G["margin-left"]||ae[1];break;case 4:G["margin-top"]=G["margin-top"]||ae[0],G["margin-right"]=G["margin-right"]||ae[1],G["margin-bottom"]=G["margin-bottom"]||ae[2],G["margin-left"]=G["margin-left"]||ae[3]}delete G.margin}return G},jn=(G,ae)=>{const ge=$e(G);T(ge)?fetch(ge).then(Qe=>{Qe.ok&&Qe.json().then(ae)}):Se(ge)?ge(ae):ae(ge)},lo=(G,ae,ge)=>{const Qe=()=>{ge.onload=ge.onerror=null,G.selection&&(G.selection.select(ge),G.nodeChanged())};ge.onload=()=>{!ae.width&&!ae.height&&re(G)&&G.dom.setAttribs(ge,{width:String(ge.clientWidth),height:String(ge.clientHeight)}),Qe()},ge.onerror=Qe},mo=G=>new Promise((ae,ge)=>{const Qe=new FileReader;Qe.onload=()=>{ae(Qe.result)},Qe.onerror=()=>{var en;ge((en=Qe.error)===null||en===void 0?void 0:en.message)},Qe.readAsDataURL(G)}),Ao=G=>G.nodeName==="IMG"&&(G.hasAttribute("data-mce-object")||G.hasAttribute("data-mce-placeholder")),ks=(G,ae)=>{const ge=G.options.get;return j.isDomSafe(ae,"img",{allow_html_data_urls:ge("allow_html_data_urls"),allow_script_urls:ge("allow_script_urls"),allow_svg_data_urls:ge("allow_svg_data_urls")})},jo=me.DOM,zs=G=>G.style.marginLeft&&G.style.marginRight&&G.style.marginLeft===G.style.marginRight?Vt(G.style.marginLeft):"",Dl=G=>G.style.marginTop&&G.style.marginBottom&&G.style.marginTop===G.style.marginBottom?Vt(G.style.marginTop):"",Oi=G=>G.style.borderWidth?Vt(G.style.borderWidth):"",Fr=(G,ae)=>{var ge;return G.hasAttribute(ae)&&(ge=G.getAttribute(ae))!==null&&ge!==void 0?ge:""},pi=G=>G.parentNode!==null&&G.parentNode.nodeName==="FIGURE",Gt=(G,ae,ge)=>{ge===""||ge===null?G.removeAttribute(ae):G.setAttribute(ae,ge)},Mo=G=>{const ae=jo.create("figure",{class:"image"});jo.insertAfter(ae,G),ae.appendChild(G),ae.appendChild(jo.create("figcaption",{contentEditable:"true"},"Caption")),ae.contentEditable="false"},el=G=>{const ae=G.parentNode;Ne(ae)&&(jo.insertAfter(G,ae),jo.remove(ae))},ca=G=>{pi(G)?el(G):Mo(G)},Yu=(G,ae)=>{const ge=G.getAttribute("style"),Qe=ae(ge!==null?ge:"");Qe.length>0?(G.setAttribute("style",Qe),G.setAttribute("data-mce-style",Qe)):G.removeAttribute("style")},fu=(G,ae)=>(ge,Qe,en)=>{const co=ge.style;co[Qe]?(co[Qe]=an(en),Yu(ge,ae)):Gt(ge,Qe,en)},ws=(G,ae)=>G.style[ae]?Vt(G.style[ae]):Fr(G,ae),ac=(G,ae)=>{const ge=an(ae);G.style.marginLeft=ge,G.style.marginRight=ge},Xu=(G,ae)=>{const ge=an(ae);G.style.marginTop=ge,G.style.marginBottom=ge},fs=(G,ae)=>{const ge=an(ae);G.style.borderWidth=ge},Fn=(G,ae)=>{G.style.borderStyle=ae},si=G=>{var ae;return(ae=G.style.borderStyle)!==null&&ae!==void 0?ae:""},Oc=G=>Ne(G)&&G.nodeName==="FIGURE",zf=G=>G.nodeName==="IMG",hu=G=>jo.getAttrib(G,"alt").length===0&&jo.getAttrib(G,"role")==="presentation",gi=G=>hu(G)?"":Fr(G,"alt"),ua=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),vr=(G,ae)=>{var ge;const Qe=document.createElement("img");return Gt(Qe,"style",ae.style),(zs(Qe)||ae.hspace!=="")&&ac(Qe,ae.hspace),(Dl(Qe)||ae.vspace!=="")&&Xu(Qe,ae.vspace),(Oi(Qe)||ae.border!=="")&&fs(Qe,ae.border),(si(Qe)||ae.borderStyle!=="")&&Fn(Qe,ae.borderStyle),G((ge=Qe.getAttribute("style"))!==null&&ge!==void 0?ge:"")},Dc=(G,ae)=>{const ge=document.createElement("img");if(ic(G,{...ae,caption:!1},ge),Di(ge,ae.alt,ae.isDecorative),ae.caption){const Qe=jo.create("figure",{class:"image"});return Qe.appendChild(ge),Qe.appendChild(jo.create("figcaption",{contentEditable:"true"},"Caption")),Qe.contentEditable="false",Qe}else return ge},Wd=(G,ae)=>({src:Fr(ae,"src"),alt:gi(ae),title:Fr(ae,"title"),width:ws(ae,"width"),height:ws(ae,"height"),class:Fr(ae,"class"),style:G(Fr(ae,"style")),caption:pi(ae),hspace:zs(ae),vspace:Dl(ae),border:Oi(ae),borderStyle:si(ae),isDecorative:hu(ae)}),xa=(G,ae,ge,Qe,en)=>{ge[Qe]!==ae[Qe]&&en(G,Qe,String(ge[Qe]))},Di=(G,ae,ge)=>{if(ge){jo.setAttrib(G,"role","presentation");const Qe=Ee.fromDom(G);Bn(Qe,"alt","")}else{if(H(ae)){const Qe=Ee.fromDom(G);cn(Qe,"alt")}else{const Qe=Ee.fromDom(G);Bn(Qe,"alt",ae)}jo.getAttrib(G,"role")==="presentation"&&jo.setAttrib(G,"role","")}},Zs=(G,ae,ge)=>{(ge.alt!==ae.alt||ge.isDecorative!==ae.isDecorative)&&Di(G,ge.alt,ge.isDecorative)},Wa=(G,ae)=>(ge,Qe,en)=>{G(ge,en),Yu(ge,ae)},ic=(G,ae,ge)=>{const Qe=Wd(G,ge);xa(ge,Qe,ae,"caption",(en,co,un)=>ca(en)),xa(ge,Qe,ae,"src",Gt),xa(ge,Qe,ae,"title",Gt),xa(ge,Qe,ae,"width",fu("width",G)),xa(ge,Qe,ae,"height",fu("height",G)),xa(ge,Qe,ae,"class",Gt),xa(ge,Qe,ae,"style",Wa((en,co)=>Gt(en,"style",co),G)),xa(ge,Qe,ae,"hspace",Wa(ac,G)),xa(ge,Qe,ae,"vspace",Wa(Xu,G)),xa(ge,Qe,ae,"border",Wa(fs,G)),xa(ge,Qe,ae,"borderStyle",Wa(Fn,G)),Zs(ge,Qe,ae)},Nf=(G,ae)=>{const ge=G.dom.styles.parse(ae),Qe=_n(ge),en=G.dom.styles.parse(G.dom.styles.serialize(Qe));return G.dom.styles.serialize(en)},zh=G=>{const ae=G.selection.getNode(),ge=G.dom.getParent(ae,"figure.image");return ge?G.dom.select("img",ge)[0]:ae&&(ae.nodeName!=="IMG"||Ao(ae))?null:ae},yi=(G,ae)=>{var ge;const Qe=G.dom,en=_t(G.schema.getTextBlockElements(),(un,Ir)=>!G.schema.isValidChild(Ir,"figure")),co=Qe.getParent(ae.parentNode,un=>de(en,un.nodeName),G.getBody());return co&&(ge=Qe.split(co,ae))!==null&&ge!==void 0?ge:ae},N0=G=>{const ae=zh(G);return ae?Wd(ge=>Nf(G,ge),ae):ua()},Le=(G,ae)=>{const ge=Dc(en=>Nf(G,en),ae);G.dom.setAttrib(ge,"data-mce-id","__mcenew"),G.focus(),G.selection.setContent(ge.outerHTML);const Qe=G.dom.select('*[data-mce-id="__mcenew"]')[0];if(G.dom.setAttrib(Qe,"data-mce-id",null),Oc(Qe)){const en=yi(G,Qe);G.selection.select(en)}else G.selection.select(Qe)},Ea=(G,ae)=>{G.dom.setAttrib(ae,"src",ae.getAttribute("src"))},Zd=(G,ae)=>{if(ae){const ge=G.dom.is(ae.parentNode,"figure.image")?ae.parentNode:ae;G.dom.remove(ge),G.focus(),G.nodeChanged(),G.dom.isEmpty(G.getBody())&&(G.setContent(""),G.selection.setCursorLocation())}},dg=(G,ae)=>{const ge=zh(G);if(ge)if(ic(Qe=>Nf(G,Qe),ae,ge),Ea(G,ge),Oc(ge.parentNode)){const Qe=ge.parentNode;yi(G,Qe),G.selection.select(ge.parentNode)}else G.selection.select(ge),lo(G,ae,ge)},$m=(G,ae)=>{const ge=ae.src;return{...ae,src:ks(G,ge)?ge:""}},_s=(G,ae)=>{const ge=zh(G);if(ge){const en={...Wd(un=>Nf(G,un),ge),...ae},co=$m(G,en);en.src?dg(G,co):Zd(G,ge)}else ae.src&&Le(G,{...ua(),...ae})},Ju=(G=>(...ae)=>{if(ae.length===0)throw new Error("Can't merge zero objects");const ge={};for(let Qe=0;Qe<ae.length;Qe++){const en=ae[Qe];for(const co in en)Ue(en,co)&&(ge[co]=G(ge[co],en[co]))}return ge})((G,ae)=>$(G)&&$(ae)?Ju(G,ae):ae);var bi=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),wr=tinymce.util.Tools.resolve("tinymce.util.Tools");const Rr=G=>T(G.value)?G.value:"",mu=G=>T(G.text)?G.text:T(G.title)?G.title:"",tl=(G,ae)=>{const ge=[];return wr.each(G,Qe=>{const en=mu(Qe);if(Qe.menu!==void 0){const co=tl(Qe.menu,ae);ge.push({text:en,items:co})}else{const co=ae(Qe);ge.push({text:en,value:co})}}),ge},Mc=(G=Rr)=>ae=>ae?ht.from(ae).map(ge=>tl(ge,G)):ht.none(),Qu=G=>Mc(Rr)(G),ed=G=>Ue(G,"items"),Jo=(G,ae)=>Ht(G,ge=>ed(ge)?Jo(ge.items,ae):ge.value===ae?ht.some(ge):ht.none()),Gd={sanitizer:Mc,sanitize:Qu,findEntry:(G,ae)=>G.bind(ge=>Jo(ge,ae))},yl={makeTab:G=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Mi=G=>{const ae=Gd.sanitizer(Ni=>G.convertURL(Ni.value||Ni.url||"","src")),ge=new Promise(Ni=>{jn(G,_r=>{Ni(ae(_r).map(Hr=>nn([[{text:"None",value:""}],Hr])))})}),Qe=Gd.sanitize(Ye(G)),en=Re(G),co=Oe(G),un=Xe(G),Ir=ut(G),fa=N0(G),xt=ce(G),Vr=Fe(G),er=re(G),ha=et(G),pg=oe(G),Ro=be(G),yu=ht.some(yt(G)).filter(Ni=>T(Ni)&&Ni.length>0);return ge.then(Ni=>({image:fa,imageList:Ni,classList:Qe,hasAdvTab:en,hasUploadTab:co,hasUploadUrl:un,hasUploadHandler:Ir,hasDescription:xt,hasImageTitle:Vr,hasDimensions:er,hasImageCaption:ha,prependURL:yu,hasAccessibilityOptions:pg,automaticUploads:Ro}))},Gs=G=>{const ae={name:"src",type:"urlinput",filetype:"image",label:"Source"},ge=G.imageList.map(Vr=>({name:"images",type:"listbox",label:"Image list",items:Vr})),Qe={name:"alt",type:"input",label:"Alternative description",enabled:!(G.hasAccessibilityOptions&&G.image.isDecorative)},en={name:"title",type:"input",label:"Image title"},co={name:"dimensions",type:"sizeinput"},un={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Ir=G.classList.map(Vr=>({name:"classes",type:"listbox",label:"Class",items:Vr})),fa={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},xt=Vr=>Vr?{type:"grid",columns:2}:{type:"panel"};return nn([[ae],ge.toArray(),G.hasAccessibilityOptions&&G.hasDescription?[un]:[],G.hasDescription?[Qe]:[],G.hasImageTitle?[en]:[],G.hasDimensions?[co]:[],[{...xt(G.classList.isSome()&&G.hasImageCaption),items:nn([Ir.toArray(),G.hasImageCaption?[fa]:[]])}]])},Vm={makeTab:G=>({title:"General",name:"general",items:Gs(G)}),makeItems:Gs},ol={makeTab:G=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},Pi=G=>({prevImage:Gd.findEntry(G.imageList,G.image.src),prevAlt:G.image.alt,open:!0}),Yr=G=>({src:{value:G.src,meta:{}},images:G.src,alt:G.alt,title:G.title,dimensions:{width:G.width,height:G.height},classes:G.class,caption:G.caption,style:G.style,vspace:G.vspace,border:G.border,hspace:G.hspace,borderstyle:G.borderStyle,fileinput:[],isDecorative:G.isDecorative}),Lf=(G,ae)=>({src:G.src.value,alt:(G.alt===null||G.alt.length===0)&&ae?null:G.alt,title:G.title,width:G.dimensions.width,height:G.dimensions.height,class:G.classes,style:G.style,caption:G.caption,hspace:G.hspace,vspace:G.vspace,border:G.border,borderStyle:G.borderstyle,isDecorative:G.isDecorative}),td=(G,ae)=>/^(?:[a-zA-Z]+:)?\/\//.test(ae)?ht.none():G.prependURL.bind(ge=>ae.substring(0,ge.length)!==ge?ht.some(ge+ae):ht.none()),bl=(G,ae)=>{const ge=ae.getData();td(G,ge.src.value).each(Qe=>{ae.setData({src:{value:Qe,meta:ge.src.meta}})})},Ml=(G,ae,ge)=>{G.hasDescription&&T(ge.alt)&&(ae.alt=ge.alt),G.hasAccessibilityOptions&&(ae.isDecorative=ge.isDecorative||ae.isDecorative||!1),G.hasImageTitle&&T(ge.title)&&(ae.title=ge.title),G.hasDimensions&&(T(ge.width)&&(ae.dimensions.width=ge.width),T(ge.height)&&(ae.dimensions.height=ge.height)),T(ge.class)&&Gd.findEntry(G.classList,ge.class).each(Qe=>{ae.classes=Qe.value}),G.hasImageCaption&&le(ge.caption)&&(ae.caption=ge.caption),G.hasAdvTab&&(T(ge.style)&&(ae.style=ge.style),T(ge.vspace)&&(ae.vspace=ge.vspace),T(ge.border)&&(ae.border=ge.border),T(ge.hspace)&&(ae.hspace=ge.hspace),T(ge.borderstyle)&&(ae.borderstyle=ge.borderstyle))},Hm=(G,ae)=>{const ge=ae.getData(),Qe=ge.src.meta;if(Qe!==void 0){const en=Ju({},ge);Ml(G,en,Qe),ae.setData(en)}},Lh=(G,ae,ge,Qe)=>{const en=Qe.getData(),co=en.src.value,un=en.src.meta||{};!un.width&&!un.height&&ae.hasDimensions&&(lt(co)?G.imageSize(co).then(Ir=>{ge.open&&Qe.setData({dimensions:Ir})}).catch(Ir=>console.error(Ir)):Qe.setData({dimensions:{width:"",height:""}}))},hg=(G,ae,ge)=>{const Qe=ge.getData(),en=Gd.findEntry(G.imageList,Qe.src.value);ae.prevImage=en,ge.setData({images:en.map(co=>co.value).getOr("")})},zi=(G,ae,ge,Qe)=>{bl(ae,Qe),Hm(ae,Qe),Lh(G,ae,ge,Qe),hg(ae,ge,Qe)},pu=(G,ae,ge,Qe)=>{const en=Qe.getData(),co=Gd.findEntry(ae.imageList,en.images);co.each(un=>{en.alt===""||ge.prevImage.map(fa=>fa.text===en.alt).getOr(!1)?un.value===""?Qe.setData({src:un,alt:ge.prevAlt}):Qe.setData({src:un,alt:un.text}):Qe.setData({src:un})}),ge.prevImage=co,zi(G,ae,ge,Qe)},Bf=(G,ae,ge,Qe)=>{const en=Qe.getData();Qe.block("Uploading image"),L(en.fileinput).fold(()=>{Qe.unblock()},co=>{const un=URL.createObjectURL(co),Ir=()=>{Qe.unblock(),URL.revokeObjectURL(un)},fa=xt=>{Qe.setData({src:{value:xt,meta:{}}}),Qe.showTab("general"),zi(G,ae,ge,Qe)};mo(co).then(xt=>{const Vr=G.createBlobCache(co,un,xt);ae.automaticUploads?G.uploadImage(Vr).then(er=>{fa(er.url),Ir()}).catch(er=>{Ir(),G.alertErr(er)}):(G.addToBlobCache(Vr),fa(Vr.blobUri()),Qe.unblock())})})},Um=(G,ae,ge)=>(Qe,en)=>{en.name==="src"?zi(G,ae,ge,Qe):en.name==="images"?pu(G,ae,ge,Qe):en.name==="alt"?ge.prevAlt=Qe.getData().alt:en.name==="fileinput"?Bf(G,ae,ge,Qe):en.name==="isDecorative"&&Qe.setEnabled("alt",!Qe.getData().isDecorative)},Bh=G=>()=>{G.open=!1},Fh=G=>G.hasAdvTab||G.hasUploadUrl||G.hasUploadHandler?{type:"tabpanel",tabs:nn([[Vm.makeTab(G)],G.hasAdvTab?[yl.makeTab(G)]:[],G.hasUploadTab&&(G.hasUploadUrl||G.hasUploadHandler)?[ol.makeTab(G)]:[]])}:{type:"panel",items:Vm.makeItems(G)},jm=(G,ae,ge)=>Qe=>{const en=Ju(Yr(ae.image),Qe.getData()),co={...en,style:vr(ge.normalizeCss,Lf(en,!1))};G.execCommand("mceUpdateImage",!1,Lf(co,ae.hasAccessibilityOptions)),G.editorUpload.uploadImagesAuto(),Qe.close()},Ff=G=>ae=>ks(G,ae)?Dt(G.documentBaseURI.toAbsolute(ae)).then(ge=>({width:String(ge.width),height:String(ge.height)})):Promise.resolve({width:"",height:""}),$r=G=>(ae,ge,Qe)=>{var en;return G.editorUpload.blobCache.create({blob:ae,blobUri:ge,name:(en=ae.name)===null||en===void 0?void 0:en.replace(/\.[^\.]+$/,""),filename:ae.name,base64:Qe.split(",")[1]})},Za=G=>ae=>{G.editorUpload.blobCache.add(ae)},zc=G=>ae=>{G.windowManager.alert(ae)},Wm=G=>ae=>Nf(G,ae),mg=G=>ae=>G.dom.parseStyle(ae),gu=G=>(ae,ge)=>G.dom.serializeStyle(ae,ge),Qy=G=>ae=>bi(G).upload([ae],!1).then(ge=>{var Qe;return ge.length===0?Promise.reject("Failed to upload image"):ge[0].status===!1?Promise.reject((Qe=ge[0].error)===null||Qe===void 0?void 0:Qe.message):ge[0]}),Ga=G=>{const ae={imageSize:Ff(G),addToBlobCache:Za(G),createBlobCache:$r(G),alertErr:zc(G),normalizeCss:Wm(G),parseStyle:mg(G),serializeStyle:gu(G),uploadImage:Qy(G)};return{open:()=>{Mi(G).then(Qe=>{const en=Pi(Qe);return{title:"Insert/Edit Image",size:"normal",body:Fh(Qe),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Yr(Qe.image),onSubmit:jm(G,Qe,ae),onChange:Um(ae,Qe,en),onClose:Bh(en)}}).then(G.windowManager.open)}}},Xr=G=>{G.addCommand("mceImage",Ga(G).open),G.addCommand("mceUpdateImage",(ae,ge)=>{G.undoManager.transact(()=>_s(G,ge))})},lc=G=>{const ae=G.attr("class");return Ne(ae)&&/\bimage\b/.test(ae)},Pl=G=>ae=>{let ge=ae.length;const Qe=en=>{en.attr("contenteditable",G?"true":null)};for(;ge--;){const en=ae[ge];lc(en)&&(en.attr("contenteditable",G?"false":null),wr.each(en.getAll("figcaption"),Qe))}},Jn=G=>{G.on("PreInit",()=>{G.parser.addNodeFilter("figure",Pl(!0)),G.serializer.addNodeFilter("figure",Pl(!1))})},Fo=G=>{G.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Ga(G).open,onSetup:ae=>(ae.setActive(Ne(zh(G))),G.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",ae.setActive).unbind)}),G.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Ga(G).open}),G.ui.registry.addContextMenu("image",{update:ae=>Oc(ae)||zf(ae)&&!Ao(ae)?["image"]:[]})};var da=()=>{t.add("image",G=>{Tt(G),Jn(G),Fo(G),Xr(G)})};da()})();tinymce.addI18n("zh_TW",{Redo:"\u91CD\u505A",Undo:"\u64A4\u92B7",Cut:"\u526A\u4E0B",Copy:"\u8907\u88FD",Paste:"\u8CBC\u4E0A","Select all":"\u5168\u9078","New document":"\u65B0\u6587\u4EF6",Ok:"\u78BA\u5B9A",Cancel:"\u53D6\u6D88","Visual aids":"\u5C0F\u5E6B\u624B",Bold:"\u7C97\u9AD4",Italic:"\u659C\u9AD4",Underline:"\u4E0B\u5283\u7DDA",Strikethrough:"\u522A\u9664\u7DDA",Superscript:"\u4E0A\u6A19",Subscript:"\u4E0B\u6A19","Clear formatting":"\u6E05\u9664\u683C\u5F0F","Align left":"\u5DE6\u908A\u5C0D\u9F4A","Align center":"\u4E2D\u9593\u5C0D\u9F4A","Align right":"\u53F3\u908A\u5C0D\u9F4A",Justify:"\u5DE6\u53F3\u5C0D\u9F4A","Bullet list":"\u9805\u76EE\u6E05\u55AE","Numbered list":"\u6578\u5B57\u6E05\u55AE","Decrease indent":"\u6E1B\u5C11\u7E2E\u6392","Increase indent":"\u589E\u52A0\u7E2E\u6392",Close:"\u95DC\u9589",Formats:"\u683C\u5F0F","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"\u60A8\u7684\u700F\u89BD\u5668\u4E0D\u652F\u63F4\u5B58\u53D6\u526A\u8CBC\u7C3F\uFF0C\u53EF\u4EE5\u4F7F\u7528\u5FEB\u901F\u9375 Ctrl + X/C/V \u4EE3\u66FF\u526A\u4E0B\u3001\u8907\u88FD\u8207\u8CBC\u4E0A\u3002",Headers:"\u6A19\u984C","Header 1":"\u6A19\u984C 1","Header 2":"\u6A19\u984C 2","Header 3":"\u6A19\u984C 3","Header 4":"\u6A19\u984C 4","Header 5":"\u6A19\u984C 5","Header 6":"\u6A19\u984C 6",Headings:"\u6A19\u984C","Heading 1":"\u6A19\u984C1","Heading 2":"\u6A19\u984C2","Heading 3":"\u6A19\u984C3","Heading 4":"\u6A19\u984C4","Heading 5":"\u6A19\u984C5","Heading 6":"\u6A19\u984C6",Preformatted:"\u9810\u5148\u683C\u5F0F\u5316\u7684",Div:"Div",Pre:"Pre",Code:"\u4EE3\u78BC",Paragraph:"\u6BB5\u843D",Blockquote:"\u5F15\u6587\u5340\u584A",Inline:"\u5167\u806F",Blocks:"\u57FA\u584A","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"\u76EE\u524D\u5C07\u4EE5\u7D14\u6587\u5B57\u7684\u6A21\u5F0F\u8CBC\u4E0A\uFF0C\u60A8\u53EF\u4EE5\u518D\u9EDE\u9078\u4E00\u6B21\u53D6\u6D88\u3002",Fonts:"\u5B57\u578B","Font Sizes":"\u5B57\u578B\u5927\u5C0F",Class:"\u985E\u578B","Browse for an image":"\u5F9E\u5716\u7247\u4E2D\u700F\u89BD",OR:"\u6216","Drop an image here":"\u62D6\u66F3\u5716\u7247\u81F3\u6B64",Upload:"\u4E0A\u50B3",Block:"\u5340\u584A",Align:"\u5C0D\u9F4A",Default:"\u9810\u8A2D",Circle:"\u7A7A\u5FC3\u5713",Disc:"\u5BE6\u5FC3\u5713",Square:"\u6B63\u65B9\u5F62","Lower Alpha":"\u5C0F\u5BEB\u82F1\u6587\u5B57\u6BCD","Lower Greek":"\u5E0C\u81D8\u5B57\u6BCD","Lower Roman":"\u5C0F\u5BEB\u7F85\u99AC\u6578\u5B57","Upper Alpha":"\u5927\u5BEB\u82F1\u6587\u5B57\u6BCD","Upper Roman":"\u5927\u5BEB\u7F85\u99AC\u6578\u5B57","Anchor...":"\u9328\u9EDE...",Name:"\u540D\u7A31",Id:"Id","Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Id\u61C9\u4EE5\u5B57\u6BCD\u958B\u982D\uFF0C\u5F8C\u9762\u63A5\u8457\u5B57\u6BCD\uFF0C\u6578\u5B57\uFF0C\u7834\u6298\u865F\uFF0C\u9EDE\u6578\uFF0C\u5192\u865F\u6216\u4E0B\u5283\u7DDA\u3002","You have unsaved changes are you sure you want to navigate away?":"\u7DE8\u8F2F\u5C1A\u672A\u88AB\u5132\u5B58\uFF0C\u4F60\u78BA\u5B9A\u8981\u96E2\u958B\uFF1F","Restore last draft":"\u8F09\u5165\u4E0A\u4E00\u6B21\u7DE8\u8F2F\u7684\u8349\u7A3F","Special character...":"\u7279\u6B8A\u5B57\u5143......","Source code":"\u539F\u59CB\u78BC","Insert/Edit code sample":"\u63D2\u5165/\u7DE8\u8F2F \u7A0B\u5F0F\u78BC\u7BC4\u4F8B",Language:"\u8A9E\u8A00","Code sample...":"\u7A0B\u5F0F\u78BC\u7BC4\u4F8B...","Color Picker":"\u9078\u8272\u5668",R:"\u7D05",G:"\u7DA0",B:"\u85CD","Left to right":"\u5F9E\u5DE6\u5230\u53F3","Right to left":"\u5F9E\u53F3\u5230\u5DE6","Emoticons...":"\u8868\u60C5\u7B26\u865F\u2026","Metadata and Document Properties":"\u5F8C\u8A2D\u8CC7\u6599\u8207\u6587\u4EF6\u5C6C\u6027",Title:"\u6A19\u984C",Keywords:"\u95DC\u9375\u5B57",Description:"\u63CF\u8FF0",Robots:"\u6A5F\u5668\u4EBA",Author:"\u4F5C\u8005",Encoding:"\u7DE8\u78BC",Fullscreen:"\u5168\u87A2\u5E55",Action:"\u52D5\u4F5C",Shortcut:"\u5FEB\u901F\u9375",Help:"\u5E6B\u52A9",Address:"\u5730\u5740","Focus to menubar":"\u8DF3\u81F3\u9078\u55AE\u5217","Focus to toolbar":"\u8DF3\u81F3\u5DE5\u5177\u5217","Focus to element path":"\u8DF3\u81F3HTML\u5143\u7D20\u5217","Focus to contextual toolbar":"\u8DF3\u81F3\u5FEB\u6377\u9078\u55AE","Insert link (if link plugin activated)":"\u65B0\u589E\u6377\u5F91 (\u6377\u5F91\u5916\u639B\u555F\u7528\u6642)","Save (if save plugin activated)":"\u5132\u5B58 (\u5132\u5B58\u5916\u639B\u555F\u7528\u6642)","Find (if searchreplace plugin activated)":"\u5C0B\u627E (\u5C0B\u627E\u53D6\u4EE3\u5916\u639B\u555F\u7528\u6642)","Plugins installed ({0}):":"({0}) \u500B\u5916\u639B\u5DF2\u5B89\u88DD\uFF1A","Premium plugins:":"\u52A0\u503C\u5916\u639B\uFF1A","Learn more...":"\u4E86\u89E3\u66F4\u591A...","You are using {0}":"\u60A8\u6B63\u5728\u4F7F\u7528 {0}",Plugins:"\u5916\u639B","Handy Shortcuts":"\u5FEB\u901F\u9375","Horizontal line":"\u6C34\u5E73\u7DDA","Insert/edit image":"\u63D2\u5165/\u7DE8\u8F2F \u5716\u7247","Image description":"\u5716\u7247\u63CF\u8FF0",Source:"\u5716\u7247\u7DB2\u5740",Dimensions:"\u5C3A\u5BF8","Constrain proportions":"\u7B49\u6BD4\u4F8B\u7E2E\u653E",General:"\u4E00\u822C",Advanced:"\u9032\u968E",Style:"\u6A23\u5F0F","Vertical space":"\u9AD8\u5EA6","Horizontal space":"\u5BEC\u5EA6",Border:"\u908A\u6846","Insert image":"\u63D2\u5165\u5716\u7247","Image...":"\u5716\u7247......","Image list":"\u5716\u7247\u6E05\u55AE","Rotate counterclockwise":"\u9006\u6642\u91DD\u65CB\u8F49","Rotate clockwise":"\u9806\u6642\u91DD\u65CB\u8F49","Flip vertically":"\u5782\u76F4\u7FFB\u8F49","Flip horizontally":"\u6C34\u5E73\u7FFB\u8F49","Edit image":"\u7DE8\u8F2F\u5716\u7247","Image options":"\u5716\u7247\u9078\u9805","Zoom in":"\u653E\u5927","Zoom out":"\u7E2E\u5C0F",Crop:"\u88C1\u526A",Resize:"\u8ABF\u6574\u5927\u5C0F",Orientation:"\u65B9\u5411",Brightness:"\u4EAE\u5EA6",Sharpen:"\u92B3\u5316",Contrast:"\u5C0D\u6BD4","Color levels":"\u984F\u8272\u5C64\u6B21",Gamma:"\u4F3D\u99AC\u503C",Invert:"\u53CD\u8F49",Apply:"\u61C9\u7528",Back:"\u5F8C\u9000","Insert date/time":"\u63D2\u5165 \u65E5\u671F/\u6642\u9593","Date/time":"\u65E5\u671F/\u6642\u9593","Insert/Edit Link":"\u63D2\u5165/\u7DE8\u8F2F\u9023\u7D50","Insert/edit link":"\u63D2\u5165/\u7DE8\u8F2F\u9023\u7D50","Text to display":"\u986F\u793A\u6587\u5B57",Url:"\u7DB2\u5740","Open link in...":"\u958B\u555F\u9023\u7D50\u65BC...","Current window":"\u76EE\u524D\u8996\u7A97",None:"\u7121","New window":"\u53E6\u958B\u8996\u7A97","Remove link":"\u79FB\u9664\u9023\u7D50",Anchors:"\u52A0\u5165\u9328\u9EDE","Link...":"\u9023\u7D50...","Paste or type a link":"\u8CBC\u4E0A\u6216\u8F38\u5165\u9023\u7D50","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"\u4F60\u6240\u586B\u5BEB\u7684URL\u70BA\u96FB\u5B50\u90F5\u4EF6\uFF0C\u9700\u8981\u52A0\u4E0Amailto:\u524D\u7DB4\u55CE\uFF1F","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"\u4F60\u6240\u586B\u5BEB\u7684URL\u5C6C\u65BC\u5916\u90E8\u93C8\u63A5\uFF0C\u9700\u8981\u52A0\u4E0Ahttp://:\u524D\u7DB4\u55CE\uFF1F","Link list":"\u9023\u7D50\u6E05\u55AE","Insert video":"\u63D2\u5165\u5F71\u97F3","Insert/edit video":"\u63D2\u4EF6/\u7DE8\u8F2F \u5F71\u97F3","Insert/edit media":"\u63D2\u5165/\u7DE8\u8F2F \u5A92\u9AD4","Alternative source":"\u66FF\u4EE3\u5F71\u97F3","Alternative source URL":"\u66FF\u4EE3\u4F86\u6E90URL","Media poster (Image URL)":"\u5A92\u9AD4\u6D77\u5831\uFF08\u5F71\u50CFImage URL\uFF09","Paste your embed code below:":"\u8ACB\u5C07\u60A8\u7684\u5D4C\u5165\u5F0F\u7A0B\u5F0F\u78BC\u8CBC\u5728\u4E0B\u9762:",Embed:"\u5D4C\u5165\u78BC","Media...":"\u5A92\u9AD4...","Nonbreaking space":"\u4E0D\u5206\u884C\u7684\u7A7A\u683C","Page break":"\u5206\u9801","Paste as text":"\u4EE5\u7D14\u6587\u5B57\u8CBC\u4E0A",Preview:"\u9810\u89BD","Print...":"\u5217\u5370...",Save:"\u5132\u5B58",Find:"\u641C\u5C0B","Replace with":"\u66F4\u63DB",Replace:"\u66FF\u63DB","Replace all":"\u66FF\u63DB\u5168\u90E8",Previous:"\u4E0A\u4E00\u500B",Next:"\u4E0B\u4E00\u500B","Find and replace...":"\u5C0B\u627E\u53CA\u53D6\u4EE3...","Could not find the specified string.":"\u7121\u6CD5\u67E5\u8A62\u5230\u6B64\u7279\u5B9A\u5B57\u4E32","Match case":"\u76F8\u5339\u914D\u6848\u4EF6","Find whole words only":"\u50C5\u627E\u51FA\u5B8C\u6574\u5B57\u532F","Spell check":"\u62FC\u5BEB\u6AA2\u67E5",Ignore:"\u5FFD\u7565","Ignore all":"\u5FFD\u7565\u6240\u6709",Finish:"\u5B8C\u6210","Add to Dictionary":"\u52A0\u5165\u5B57\u5178\u4E2D","Insert table":"\u63D2\u5165\u8868\u683C","Table properties":"\u8868\u683C\u5C6C\u6027","Delete table":"\u522A\u9664\u8868\u683C",Cell:"\u5132\u5B58\u683C",Row:"\u5217",Column:"\u884C","Cell properties":"\u5132\u5B58\u683C\u5C6C\u6027","Merge cells":"\u5408\u4F75\u5132\u5B58\u683C","Split cell":"\u5206\u5272\u5132\u5B58\u683C","Insert row before":"\u63D2\u5165\u5217\u5728...\u4E4B\u524D","Insert row after":"\u63D2\u5165\u5217\u5728...\u4E4B\u5F8C","Delete row":"\u522A\u9664\u5217","Row properties":"\u5217\u5C6C\u6027","Cut row":"\u526A\u4E0B\u5217","Copy row":"\u8907\u88FD\u5217","Paste row before":"\u8CBC\u4E0A\u5217\u5728...\u4E4B\u524D","Paste row after":"\u8CBC\u4E0A\u5217\u5728...\u4E4B\u5F8C","Insert column before":"\u63D2\u5165\u6B04\u4F4D\u5728...\u4E4B\u524D","Insert column after":"\u63D2\u5165\u6B04\u4F4D\u5728...\u4E4B\u5F8C","Delete column":"\u522A\u9664\u884C",Cols:"\u6B04\u4F4D\u6BB5",Rows:"\u5217",Width:"\u5BEC\u5EA6",Height:"\u9AD8\u5EA6","Cell spacing":"\u5132\u5B58\u683C\u5F97\u9593\u8DDD","Cell padding":"\u5132\u5B58\u683C\u7684\u908A\u8DDD","Show caption":"\u986F\u793A\u6A19\u984C",Left:"\u5DE6\u908A",Center:"\u4E2D\u9593",Right:"\u53F3\u908A","Cell type":"\u5132\u5B58\u683C\u7684\u985E\u578B",Scope:"\u7BC4\u570D",Alignment:"\u5C0D\u9F4A","H Align":"\u6C34\u5E73\u4F4D\u7F6E","V Align":"\u5782\u76F4\u4F4D\u7F6E",Top:"\u7F6E\u9802",Middle:"\u7F6E\u4E2D",Bottom:"\u7F6E\u5E95","Header cell":"\u6A19\u982D\u5132\u5B58\u683C","Row group":"\u5217\u7FA4\u7D44","Column group":"\u6B04\u4F4D\u7FA4\u7D44","Row type":"\u884C\u7684\u985E\u578B",Header:"\u6A19\u982D",Body:"\u4E3B\u9AD4",Footer:"\u9801\u5C3E","Border color":"\u908A\u6846\u984F\u8272","Insert template...":"\u63D2\u5165\u6A23\u7248...",Templates:"\u6A23\u7248",Template:"\u6A23\u677F","Text color":"\u6587\u5B57\u984F\u8272","Background color":"\u80CC\u666F\u984F\u8272","Custom...":"\u81EA\u8A02","Custom color":"\u81EA\u8A02\u984F\u8272","No color":"No color","Remove color":"\u79FB\u9664\u984F\u8272","Table of Contents":"\u76EE\u9304","Show blocks":"\u986F\u793A\u5340\u584A\u8CC7\u8A0A","Show invisible characters":"\u986F\u793A\u96B1\u85CF\u5B57\u5143","Word count":"\u8A08\u7B97\u5B57\u6578",Count:"\u8A08\u7B97",Document:"\u6587\u4EF6",Selection:"\u9078\u9805",Words:"\u5B57\u6578","Words: {0}":"\u5B57\u6578\uFF1A{0}","{0} words":"{0} \u5B57\u5143",File:"\u6A94\u6848",Edit:"\u7DE8\u8F2F",Insert:"\u63D2\u5165",View:"\u6AA2\u8996",Format:"\u683C\u5F0F",Table:"\u8868\u683C",Tools:"\u5DE5\u5177","Powered by {0}":"\u7531 {0} \u63D0\u4F9B","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"\u8C50\u5BCC\u7684\u6587\u672C\u5340\u57DF\u3002\u6309ALT-F9\u524D\u5F80\u4E3B\u9078\u55AE\u3002\u6309ALT-F10\u547C\u53EB\u5DE5\u5177\u6B04\u3002\u6309ALT-0\u5C0B\u6C42\u5E6B\u52A9","Image title":"\u5716\u7247\u6A19\u984C","Border width":"\u6846\u7DDA\u5BEC\u5EA6","Border style":"\u6846\u7DDA\u6A23\u5F0F",Error:"\u932F\u8AA4",Warn:"\u8B66\u544A",Valid:"\u6709\u6548","To open the popup, press Shift+Enter":"\u8981\u958B\u555F\u5F48\u51FA\u8996\u7A97\uFF0C\u8ACB\u6309Shift+Enter","Rich Text Area. Press ALT-0 for help.":"\u5BCC\u6587\u672C\u5340\u57DF\u3002\u8ACB\u6309ALT-0\u5C0B\u6C42\u5354\u52A9\u3002","System Font":"\u7CFB\u7D71\u5B57\u578B","Failed to upload image: {0}":"\u7121\u6CD5\u4E0A\u50B3\u5F71\u50CF\uFF1A{0}","Failed to load plugin: {0} from url {1}":"\u7121\u6CD5\u4E0A\u50B3\u63D2\u4EF6\uFF1A{0}\u81EAurl{1}","Failed to load plugin url: {0}":"\u7121\u6CD5\u4E0A\u50B3\u63D2\u4EF6\uFF1A{0}","Failed to initialize plugin: {0}":"\u7121\u6CD5\u555F\u52D5\u63D2\u4EF6\uFF1A{0}",example:"\u7BC4\u4F8B",Search:"\u641C\u7D22",All:"\u5168\u90E8",Currency:"\u8CA8\u5E63",Text:"\u6587\u672C",Quotations:"\u5F15\u7528",Mathematical:"\u6578\u5B78","Extended Latin":"\u62C9\u4E01\u5B57\u6BCD\u64F4\u5145",Symbols:"\u7B26\u865F",Arrows:"\u7BAD\u982D","User Defined":"\u4F7F\u7528\u8005\u5DF2\u5B9A\u7FA9","dollar sign":"\u7F8E\u5143\u7B26\u865F","currency sign":"\u8CA8\u5E63\u7B26\u865F","euro-currency sign":"\u6B50\u5143\u7B26\u865F","colon sign":"\u79D1\u6717\u7B26\u865F","cruzeiro sign":"\u514B\u9B6F\u8CFD\u7F85\u7B26\u865F","french franc sign":"\u6CD5\u6717\u7B26\u865F","lira sign":"\u91CC\u62C9\u7B26\u865F","mill sign":"\u6587\u7B26\u865F","naira sign":"\u5948\u62C9\u7B26\u865F","peseta sign":"\u6BD4\u585E\u5854\u7B26\u865F","rupee sign":"\u76E7\u6BD4\u7B26\u865F","won sign":"\u97D3\u571C\u7B26\u865F","new sheqel sign":"\u65B0\u8B1D\u514B\u723E\u7B26\u865F","dong sign":"\u8D8A\u5357\u76FE\u7B26\u865F","kip sign":"\u8001\u64BE\u5E63\u7B26\u865F","tugrik sign":"\u8499\u53E4\u5E63\u7B26\u865F","drachma sign":"\u5FB7\u514B\u62C9\u99AC\u7B26\u865F","german penny symbol":"\u5FB7\u570B\u5206\u7B26\u865F","peso sign":"\u62AB\u7D22\u7B26\u865F","guarani sign":"\u5DF4\u62C9\u572D\u5E63\u7B26\u865F","austral sign":"\u963F\u6839\u5EF7\u5E63\u7B26\u865F","hryvnia sign":"\u70CF\u514B\u862D\u5E63\u7B26\u865F","cedi sign":"\u8FE6\u7D0D\u5E63\u7B26\u865F","livre tournois sign":"\u91CC\u5F17\u723E\u7B26\u865F","spesmilo sign":"\u570B\u969B\u5E63\u7B26\u865F","tenge sign":"\u54C8\u85A9\u514B\u5E63\u7B26\u865F","indian rupee sign":"\u5370\u5EA6\u76E7\u6BD4\u7B26\u865F","turkish lira sign":"\u571F\u8033\u5176\u91CC\u62C9\u7B26\u865F","nordic mark sign":"\u5317\u6B50\u99AC\u514B\u7B26\u865F","manat sign":"\u4E9E\u585E\u62DC\u7136\u5E63\u7B26\u865F","ruble sign":"\u76E7\u5E03\u7B26\u865F","yen character":"\u65E5\u5713\u7B26\u865F","yuan character":"\u4EBA\u6C11\u5E63\u7B26\u865F","yuan character, in hong kong and taiwan":"\u6E2F\u5143\u8207\u53F0\u5E63\u7B26\u865F","yen/yuan character variant one":"\u65E5\u5713/\u4EBA\u6C11\u5E63\u7B26\u865F\u8B8A\u5316\u578B","Loading emoticons...":"\u8F09\u5165\u8868\u60C5\u7B26\u865F\u2026","Could not load emoticons":"\u7121\u6CD5\u8F09\u5165\u8868\u60C5\u7B26\u865F",People:"\u4EBA","Animals and Nature":"\u52D5\u7269\u8207\u81EA\u7136","Food and Drink":"\u98F2\u98DF",Activity:"\u6D3B\u52D5","Travel and Places":"\u65C5\u884C\u8207\u5730\u9EDE",Objects:"\u7269\u4EF6",Flags:"\u65D7\u6A19",Characters:"\u5B57\u5143","Characters (no spaces)":"\u5B57\u5143\uFF08\u7121\u7A7A\u683C\uFF09","{0} characters":"{0}\u5B57\u5143","Error: Form submit field collision.":"\u932F\u8AA4\uFF1A\u8868\u683C\u905E\u4EA4\u6B04\u4F4D\u885D\u7A81\u3002","Error: No form element found.":"\u932F\u8AA4\uFF1A\u627E\u4E0D\u5230\u8868\u683C\u5143\u7D20\u3002",Update:"\u66F4\u65B0","Color swatch":"\u8272\u5F69\u6A23\u672C",Turquoise:"\u571F\u8033\u5176\u85CD",Green:"\u7DA0\u8272",Blue:"\u85CD\u8272",Purple:"\u7D2B\u8272","Navy Blue":"\u6DF1\u85CD\u8272","Dark Turquoise":"\u6DF1\u571F\u8033\u5176\u85CD","Dark Green":"\u6DF1\u7DA0\u8272","Medium Blue":"\u4E2D\u85CD\u8272","Medium Purple":"\u4E2D\u7D2B\u8272","Midnight Blue":"\u9ED1\u85CD\u8272",Yellow:"\u9EC3\u8272",Orange:"\u6A59\u8272",Red:"\u7D05\u8272","Light Gray":"\u6DFA\u7070\u8272",Gray:"\u7070\u8272","Dark Yellow":"\u6DF1\u9EC3\u8272","Dark Orange":"\u6DF1\u6A59\u8272","Dark Red":"\u6697\u7D05\u8272","Medium Gray":"\u4E2D\u7070\u8272","Dark Gray":"\u6DF1\u7070\u8272","Light Green":"\u6DE1\u7DA0\u8272","Light Yellow":"\u6DFA\u9EC3\u8272","Light Red":"\u6DFA\u7D05\u8272","Light Purple":"\u6DFA\u7D2B\u8272","Light Blue":"\u6DFA\u85CD\u8272","Dark Purple":"\u6DF1\u7D2B\u8272","Dark Blue":"\u6DF1\u85CD\u8272",Black:"\u9ED1\u8272",White:"\u767D\u8272","Switch to or from fullscreen mode":"\u8F49\u63DB\u81EA/\u81F3\u5168\u87A2\u5E55\u6A21\u5F0F","Open help dialog":"\u958B\u555F\u5354\u52A9\u5C0D\u8A71",history:"\u6B77\u53F2",styles:"\u6A23\u5F0F",formatting:"\u683C\u5F0F",alignment:"\u5C0D\u9F4A",indentation:"\u7E2E\u6392","permanent pen":"\u6C38\u4E45\u6027\u7B46",comments:"\u8A3B\u89E3","Format Painter":"\u8907\u88FD\u683C\u5F0F","Insert/edit iframe":"\u63D2\u5165/\u7DE8\u8F2Fiframe",Capitalization:"\u5927\u5BEB",lowercase:"\u5C0F\u5BEB",UPPERCASE:"\u5927\u5BEB","Title Case":"\u5B57\u9996\u5927\u5BEB","Permanent Pen Properties":"\u6C38\u4E45\u6A19\u8A18\u5C6C\u6027","Permanent pen properties...":"\u6C38\u4E45\u6A19\u8A18\u5C6C\u6027......",Font:"\u5B57\u578B",Size:"\u5B57\u5F62\u5927\u5C0F","More...":"\u66F4\u591A\u8CC7\u8A0A......","Spellcheck Language":"\u62FC\u5BEB\u8A9E\u8A00","Select...":"\u9078\u64C7......",Preferences:"\u9996\u9078\u9805",Yes:"\u662F",No:"\u5426","Keyboard Navigation":"\u9375\u76E4\u5C0E\u822A",Version:"\u7248\u672C",Anchor:"\u52A0\u5165\u9328\u9EDE","Special character":"\u7279\u6B8A\u5B57\u5143","Code sample":"\u7A0B\u5F0F\u78BC\u7BC4\u4F8B",Color:"\u984F\u8272",Emoticons:"\u8868\u60C5","Document properties":"\u6587\u4EF6\u7684\u5C6C\u6027",Image:"\u5716\u7247","Insert link":"\u63D2\u5165\u9023\u7D50",Target:"\u958B\u555F\u65B9\u5F0F",Link:"\u9023\u7D50",Poster:"\u9810\u89BD\u5716\u7247",Media:"\u5A92\u9AD4",Print:"\u5217\u5370",Prev:"\u4E0A\u4E00\u500B","Find and replace":"\u5C0B\u627E\u53CA\u53D6\u4EE3","Whole words":"\u6574\u500B\u55AE\u5B57",Spellcheck:"\u62FC\u5B57\u6AA2\u67E5",Caption:"\u8868\u683C\u6A19\u984C","Insert template":"\u63D2\u5165\u6A23\u7248"});var qTe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],KTe=function(t){return qTe.map(function(n){return n.toLowerCase()}).indexOf(t.toLowerCase())!==-1},YTe=function(t,n,r){Object.keys(n).filter(KTe).forEach(function(u){var f=n[u];typeof f=="function"&&(u==="onInit"?f(t,r):r.on(u.substring(2),function(d){return f(d,r)}))})},XTe=function(t,n,r,u){var f=t.modelEvents?t.modelEvents:null,d=Array.isArray(f)?f.join(" "):f;Ps(u,function(w,x){r&&typeof w=="string"&&w!==x&&w!==r.getContent({format:t.outputFormat})&&r.setContent(w)}),r.on(d||"change input undo redo",function(){n.emit("update:modelValue",r.getContent({format:t.outputFormat}))})},JTe=function(t,n,r,u,f,d){u.setContent(d()),r.attrs["onUpdate:modelValue"]&&XTe(n,r,u,f),YTe(t,r.attrs,u)},Gse=0,due=function(t){var n=Date.now(),r=Math.floor(Math.random()*1e9);return Gse++,t+"_"+r+Gse+String(n)},QTe=function(t){return t!==null&&t.tagName.toLowerCase()==="textarea"},qse=function(t){return typeof t>"u"||t===""?[]:Array.isArray(t)?t:t.split(" ")},eRe=function(t,n){return qse(t).concat(qse(n))},tRe=function(t){return t==null},Kse=function(){return{listeners:[],scriptId:due("tiny-script"),scriptLoaded:!1}},nRe=function(){var t=Kse(),n=function(f,d,w,x){var T=d.createElement("script");T.referrerPolicy="origin",T.type="application/javascript",T.id=f,T.src=w;var A=function(){T.removeEventListener("load",A),x()};T.addEventListener("load",A),d.head&&d.head.appendChild(T)},r=function(f,d,w){t.scriptLoaded?w():(t.listeners.push(w),f.getElementById(t.scriptId)||n(t.scriptId,f,d,function(){t.listeners.forEach(function(x){return x()}),t.scriptLoaded=!0}))},u=function(){t=Kse()};return{load:r,reinitialize:u}},oRe=nRe(),sRe=function(){return typeof window<"u"?window:global},qS=function(){var t=sRe();return t&&t.tinymce?t.tinymce:null},rRe={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return t==="html"||t==="text"}}},nx=globalThis&&globalThis.__assign||function(){return nx=Object.assign||function(t){for(var n,r=1,u=arguments.length;r<u;r++){n=arguments[r];for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&(t[f]=n[f])}return t},nx.apply(this,arguments)},aRe=function(t,n,r,u){return t(u||"div",{id:n,ref:r})},iRe=function(t,n,r){return t("textarea",{id:n,visibility:"hidden",ref:r})},lRe=cg({props:rRe,setup:function(t,n){var r=t.init?nx({},t.init):{},u=VN(t),f=u.disabled,d=u.modelValue,w=u.tagName,x=as(null),T=null,A=t.id||due("tiny-vue"),$=t.init&&t.init.inline||t.inline,B=!!n.attrs["onUpdate:modelValue"],H=!0,le=t.initialValue?t.initialValue:"",ke="",Ne=function(gt){return B?function(){return d!=null&&d.value?d.value:""}:function(){return gt?le:ke}},Se=function(){var gt=Ne(H),ee=nx(nx({},r),{readonly:t.disabled,target:x.value,plugins:eRe(r.plugins,t.plugins),toolbar:t.toolbar||r.toolbar,inline:$,setup:function(ht){T=ht,ht.on("init",function(He){return JTe(He,t,n,ht,d,gt)}),typeof r.setup=="function"&&r.setup(ht)}});QTe(x.value)&&(x.value.style.visibility=""),qS().init(ee),H=!1};Ps(f,function(gt){var ee;T!==null&&(typeof((ee=T.mode)===null||ee===void 0?void 0:ee.set)=="function"?T.mode.set(gt?"readonly":"design"):T.setMode(gt?"readonly":"design"))}),Ps(w,function(gt){var ee;B||(ke=T.getContent()),(ee=qS())===null||ee===void 0||ee.remove(T),Vd(function(){return Se()})}),P0(function(){if(qS()!==null)Se();else if(x.value&&x.value.ownerDocument){var gt=t.cloudChannel?t.cloudChannel:"6",ee=t.apiKey?t.apiKey:"no-api-key",ht=tRe(t.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(ee,"/tinymce/").concat(gt,"/tinymce.min.js"):t.tinymceScriptSrc;oRe.load(x.value.ownerDocument,ht,Se)}}),wx(function(){qS()!==null&&qS().remove(T)}),$||(Ore(function(){H||Se()}),Dre(function(){var gt;B||(ke=T.getContent()),(gt=qS())===null||gt===void 0||gt.remove(T)}));var je=function(gt){var ee;ke=T.getContent(),(ee=qS())===null||ee===void 0||ee.remove(T),r=nx(nx({},r),gt),Vd(function(){return Se()})};return n.expose({rerender:je,getEditor:function(){return T}}),function(){return $?aRe(Ph,A,x,t.tagName):iRe(Ph,A,x)}}});const cRe={__name:"TinyMCE",props:{modelValue:{type:String,default:""},plugins:{type:[String,Array],default:"quickbars emoticons table image"},toolbar:{type:[String,Array],default:" bold italic underline strikethrough | fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify|bullist numlist |outdent indent blockquote | undo redo | axupimgs | removeformat | table | emoticons | image"}},emits:["update:modelValue"],setup(t,{emit:n}){const r=t,u=Ku({language:"zh_TW",height:500,menubar:!1,content_css:!1,skin:!1,plugins:r.plugins,toolbar:r.toolbar,quickbars_insert_toolbar:!1,branding:!1}),{modelValue:f}=VN(r),d=as(f.value);return Ps(f,w=>{d.value=w}),Ps(d,w=>{n("update:modelValue",w)}),(w,x)=>(ye(),Mn(At(lRe),{modelValue:d.value,"onUpdate:modelValue":x[0]||(x[0]=T=>d.value=T),init:u},null,8,["modelValue","init"]))}},uRe={class:"col-12 px-2 py-0 mb-2"},dRe={__name:"AllBanner",props:{src:{type:String,default:"https://primefaces.org/cdn/primevue/images/galleria/galleria10.jpg"}},setup(t){return(n,r)=>{const u=Dn("Image");return ye(),Pe("div",uRe,[Nn(u,{imageClass:"w-full border-double border-black-alpha-20",src:t.src,height:"400"},null,8,["src"])])}}};class fRe{constructor(){}convertDate(n){const r=new Date(n);return r.getFullYear()+"/"+(r.getMonth()+1)+"/"+r.getDate()+"("+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+")"}}const wI=Iee(),Yse=d0(Iee());class hRe{constructor(n){this.child=n}async get(n){return await Wse(M0(Yse,`${this.child}/`+n)).then(r=>{if(r.exists())return console.log(`${this.child} database get ok`),r.val();throw"\u67E5\u7121\u8CC7\u6599"}).catch(r=>{throw r})}async array(n=""){return await Wse(M0(Yse,`${this.child}/${n}`)).then(r=>{if(r.exists())return console.log(`${this.child} database get array ok`),r.val();throw"\u67E5\u7121\u8CC7\u6599"}).catch(r=>{throw r})}async set(n,r){await GV(d0(wI,`${this.child}/`+n),r).then(()=>{console.log(`${this.child} database set ok`)}).catch(u=>{throw u})}async keySet(n,r=""){const u=oke(d0(wI,`${this.child}/`)).key;return await GV(d0(wI,`${this.child}/${r}/`+u),n).then(()=>(console.log(`${this.child} database keySet ok`),u)).catch(f=>{throw f})}async update(n,r){await rke(d0(wI,`${this.child}/`+n),r).then(()=>{console.log(`${this.child} database update ok`)}).catch(u=>{throw u})}async remove(n){await ske(d0(wI,`${this.child}/`+n)).then(()=>{console.log(`${this.child} database remove ok`)}).catch(r=>{throw r})}onValue(n,r){console.log(`database onValue: ${this.child}/${n} start`),bce(d0(wI,`${this.child}/`+n),u=>{console.log(`database onValue: ${this.child}/${n} update`),r(u.val())})}}class mRe extends hRe{constructor(){super("chat2")}}const pRe={id:"chat-home",class:"overflow-y-auto max-h-20rem"},gRe=["onClick"],yRe={class:"flex align-items-end"},bRe={class:"flex align-items-center"},vRe={__name:"ChatBox",emits:["showSuccess","showInfo","showWarn","showError"],setup(t,{emit:n}){const r=new fRe,u=new mRe,f=GQ(),d=as(""),w=as("000000"),x=as({}),T=le=>r.convertDate(le),A=()=>{if(!d.value.trim()||f.user==null)return;let le=new Date;const ke={displayName:f.user.displayName,uid:f.user.uid,message:d.value,image:f.user.photoURL,date:le.getTime(),color:w.value};d.value="",u.keySet(ke).then(()=>{console.log("message send ok")}).catch(Ne=>{n("showError",Ne)})},$=le=>{navigator.clipboard.writeText(le.uid).then(()=>alert(`\u5DF2\u8907\u88FD${le.displayName}\u7684UID\uFF0C${le.uid}`)).catch(()=>alert("\u8907\u88FD\u5931\u6557"))},B=()=>{let le=document.getElementById("chat-home"),ke;clearTimeout(ke),ke=setTimeout(()=>{le.scrollTop=le.scrollHeight},100)};function H(le){x.value=le,B()}return P0(()=>{u.onValue("",H)}),(le,ke)=>{const Ne=Dn("Avatar"),Se=Dn("InputText"),je=Dn("ColorPicker"),gt=Dn("Button");return ye(),Pe(qn,null,[rt("div",pRe,[(ye(!0),Pe(qn,null,Sa(x.value,(ee,ht)=>(ye(),Pe("div",{class:"chat-box mb-2",key:ht},[rt("div",{class:rn(["flex flex-wrap",{"flex-row-reverse":ee.uid==At(f).user.uid}])},[Nn(Ne,{image:ee.image?ee.image:"src/assets/logo.svg",size:"large",shape:"circle"},null,8,["image"]),rt("span",{class:"mx-4 cursor-pointer text-blue-500 flex align-items-end",onClick:He=>$(ee)},Ho(ee.displayName),9,gRe),rt("span",yRe,Ho(T(ee.date)),1),rt("p",{style:yr({color:`#${ee.color}`}),class:rn(["w-full px-4 pt-2",{"text-right":ee.uid==At(f).user.uid}])},Ho(ee.message),7)],2)]))),128))]),rt("div",bRe,[Nn(Se,{class:"flex-1 bg-white",type:"text",modelValue:d.value,"onUpdate:modelValue":ke[0]||(ke[0]=ee=>d.value=ee)},null,8,["modelValue"]),Nn(je,{class:"h-full",modelValue:w.value,"onUpdate:modelValue":ke[1]||(ke[1]=ee=>w.value=ee)},null,8,["modelValue"]),Nn(gt,{label:"\u9001\u51FA",onClick:A})])],64)}}},wRe={class:"p-inputgroup"},_Re={class:"p-inputgroup-addon"},kRe={__name:"InputTextIcon",props:{modelValue:String,label:{type:String,default:"-"},name:{type:String,default:"-"},icon:{type:String},placeholder:{type:String},rules:{type:String}},emits:["update:modelValue"],setup(t,{emit:n}){return(r,u)=>{const f=Dn("VField"),d=Dn("ErrorMessage");return ye(),Pe(qn,null,[rt("div",wRe,[rt("span",_Re,[rt("i",{class:rn(["pi",t.icon])},null,2)]),Nn(f,{name:t.name,label:t.label,class:"p-inputtext p-component",rules:t.rules,placeholder:t.placeholder,value:t.modelValue,onInput:u[0]||(u[0]=w=>r.$emit("update:modelValue",w.target.value))},null,8,["name","label","rules","placeholder","value"])]),Nn(d,{name:t.name,class:"p-error"},null,8,["name"])],64)}}},CRe={__name:"InputTextTextarea",props:{modelValue:String,label:{type:String,default:"-"},name:{type:String,default:"-"},placeholder:{type:String},rules:{type:String},autoResize:{type:Boolean,default:!0},rows:{type:Number,default:6},cols:{type:Number,default:6}},emits:["update:modelValue"],setup(t,{emit:n}){return(r,u)=>{const f=Dn("Textarea"),d=Dn("VField"),w=Dn("ErrorMessage");return ye(),Pe(qn,null,[Nn(d,{name:t.name,label:t.label,type:"textarea",class:"p-inputtext p-component w-full",rules:t.rules,value:t.modelValue,onInput:u[0]||(u[0]=x=>r.$emit("update:modelValue",x.target.value))},{default:is(({field:x,errors:T})=>[Nn(f,cr(x,{value:t.modelValue,name:t.name,placeholder:t.placeholder,class:"w-full",id:t.name,autoResize:t.autoResize,rows:t.rows,cols:t.cols}),null,16,["value","name","placeholder","id","autoResize","rows","cols"])]),_:1},8,["name","label","rules","value"]),Nn(w,{name:t.name,class:"p-error"},null,8,["name"])],64)}}},SRe={__name:"InputTextVerify",props:{modelValue:String,label:{type:String,default:"-"},name:{type:String,default:"-"},placeholder:{type:String},rules:{type:String}},emits:["update:modelValue"],setup(t,{emit:n}){return(r,u)=>{const f=Dn("InputText"),d=Dn("VField"),w=Dn("ErrorMessage");return ye(),Pe(qn,null,[Nn(d,{name:t.name,label:t.label,class:"p-inputtext p-component",rules:t.rules,value:t.modelValue,onInput:u[0]||(u[0]=x=>r.$emit("update:modelValue",x.target.value))},{default:is(({field:x,errors:T})=>[Nn(f,cr({class:"w-full"},x,{value:t.modelValue,placeholder:t.placeholder,id:t.name,type:"text"}),null,16,["value","placeholder","id"])]),_:1},8,["name","label","rules","value"]),Nn(w,{name:t.name,class:"p-error"},null,8,["name"])],64)}}},xRe={install(t){t.component("BackButton",ZTe),t.component("TinyMCE",cRe),t.component("AllBanner",dRe),t.component("ChatBox",vRe),t.component("InputTextIcon",kRe),t.component("TiInputTextTextareanyMCE",CRe),t.component("InputTextVerify",SRe)}},dr=$he(pge);Object.keys(woe).forEach(t=>{nme(t,woe[t])});_me({generateMessage:uge({zh_TW:mge}),validateOnInput:!0});dge("zh_TW");dr.use(Uhe());dr.use(WJ);dr.use(eme);dr.use(Qhe,{ripple:!0,inputStyle:"filled",zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100}});dr.component("Button",oA);dr.component("Checkbox",wce);dr.component("InputText",O7);dr.component("Password",Sce);dr.component("Avatar",xce);dr.component("Menu",Tce);dr.component("FileUpload",Oce);dr.component("Toast",Mce);dr.component("Dialog",Pce);dr.component("Image",zce);dr.component("DataTable",tue);dr.component("Column",L2e);dr.component("Chart",nue);dr.component("Tag",oue);dr.component("Textarea",sue);dr.component("Knob",rue);dr.component("Sidebar",aue);dr.component("Fieldset",iue);dr.component("TabMenu",lue);dr.component("Dropdown",C4);dr.component("OverlayPanel",cue);dr.component("ColorPicker",uue);dr.component("Badge",Oee);dr.directive("badge",UTe);dr.component("VField",Vme);dr.component("VForm",qme);dr.component("ErrorMessage",Xme);dr.use(xRe);dr.mount("#app");export{qn as $,$Re as A,HRe as B,FRe as C,hRe as D,QI as E,NRe as F,MRe as G,PRe as H,Khe as I,Ai as J,LQ as K,Pye as L,yie as M,FI as N,fx as O,S0 as P,Nye as Q,z0 as R,d4 as S,DRe as T,lQ as U,At as V,SRe as W,CRe as X,Mn as Y,Ut as Z,nle as _,Ku as a,Sa as a0,fRe as a1,kRe as a2,vce as a3,IRe as a4,ARe as a5,kye as a6,Dn as b,Pe as c,rt as d,Nn as e,is as f,ORe as g,Zu as h,GQ as i,P0 as j,sie as k,Iee as l,tle as m,d0 as n,ye as o,rke as p,LRe as q,as as r,GV as s,Ho as t,Aee as u,BRe as v,Ps as w,jve as x,zRe as y,VRe as z};
