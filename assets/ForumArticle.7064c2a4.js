import{A as H,F as M}from"./useForum.37c7a8cd.js";import{C as N}from"./useDate.08bd623a.js";import{r as x,X as T,b as l,o as n,c as i,e as a,d as s,t as o,a2 as j,a3 as S,a8 as V,j as $}from"./index.1524d3d1.js";const z={class:""},W={class:"grid"},X={class:"col-12 py-0 px-2 mb-2"},q={class:"card"},G={class:"m-0"},J={class:"col-12 py-0 px-2 md:col-4 mb-4"},K={class:"card"},O=s("h6",{class:"m-0"},"1F",-1),P={class:"flex justify-content-center .p-avatar.p-avatar-circle p-avatar-circle"},Q={class:"p-fluid"},Y={class:"field"},Z=s("label",null,"\u540D\u7A31",-1),ss={class:"text-lg"},ts={class:"field"},os=s("label",null,"UID",-1),es={class:"text-lg",style:{"overflow-wrap":"anywhere"}},cs={class:"col-12 py-0 px-2 md:col-8"},as={class:"card"},ls={class:"text-right"},ns=s("hr",null,null,-1),is={class:"overflow-scroll"},rs=["innerHTML"],ds={class:"col-12 py-0 px-2 md:col-4 mb-4"},_s={class:"card"},hs={class:"m-0"},us={class:"flex justify-content-center .p-avatar.p-avatar-circle p-avatar-circle"},vs={class:"p-fluid"},ps={class:"field"},ms=s("label",null,"\u540D\u7A31",-1),fs={class:"text-lg"},gs={class:"field"},ws=s("label",null,"UID",-1),ys={class:"text-lg"},xs={class:"col-12 py-0 px-2 md:col-8"},bs={class:"card"},ks={class:"text-right"},Is=s("hr",null,null,-1),Ls={class:"overflow-scroll"},Us=["innerHTML"],Cs={__name:"ForumArticle",emits:["showSuccess","showInfo","showWarn","showError"],setup(Ds,{emit:b}){const k=V(),I=$(),L=new N,U=new M,D=new H,{user:F}=D.getUser(),t=x({}),r=x(k.params.id),d=e=>L.convertDate(e),A=e=>{I.push(`/forum/reply/${e}`)},B=()=>{U.getArticle(r.value).then(e=>{t.value=e}).catch(e=>{t.value=null,b("showError",e)})};return T(()=>{F.value!==null&&B()}),(e,_)=>{var u,v,p,m,f;const R=l("back-button"),C=l("Button"),h=l("Image");return n(),i("div",z,[a(R),a(C,{class:"fixed z-5 bottom-0 right-0 m-5",label:"\u767C\u8868\u56DE\u8986",onClick:_[0]||(_[0]=c=>A(r.value))}),s("div",W,[s("div",X,[s("div",q,[s("h5",G,"\u3010"+o((u=t.value.area)==null?void 0:u.name)+"-"+o((v=t.value.theme)==null?void 0:v.name)+"\u3011"+o(t.value.title),1)])]),s("div",J,[s("div",K,[O,s("div",P,[a(h,{src:(p=t.value.author)==null?void 0:p.photoURL,alt:"Image",width:"200",height:"200",preview:""},null,8,["src"])]),s("div",Q,[s("div",Y,[Z,s("p",ss,o((m=t.value.author)==null?void 0:m.displayName),1)]),s("div",ts,[os,s("p",es,o((f=t.value.author)==null?void 0:f.fromUid),1)])])])]),s("div",cs,[s("div",as,[s("p",ls,"\u767C\u8868\u6642\u9593\uFF1A"+o(d(t.value.date)),1),ns,s("div",is,[s("div",{innerHTML:t.value.content},null,8,rs)])])])]),(n(!0),i(j,null,S(t.value.reply,(c,Fs,E)=>{var g,w,y;return n(),i("div",{class:"grid",key:c},[s("div",ds,[s("div",_s,[s("h6",hs,o(E+2)+"F",1),s("div",us,[a(h,{src:(g=c.author)==null?void 0:g.photoURL,alt:"Image",width:"200",height:"200",preview:""},null,8,["src"])]),s("div",vs,[s("div",ps,[ms,s("p",fs,o((w=c.author)==null?void 0:w.displayName),1)]),s("div",gs,[ws,s("p",ys,o((y=c.author)==null?void 0:y.fromUid),1)])])])]),s("div",xs,[s("div",bs,[s("p",ks,"\u767C\u8868\u6642\u9593\uFF1A"+o(d(c.date)),1),Is,s("div",Ls,[s("div",{innerHTML:c.content},null,8,Us)])])])])}),128))])}}};export{Cs as default};
