import{j as d,k as u,D as h,s as p,l as o,m as n}from"./index.27a5a0bf.js";const t=d(),m=u();let e,a={displayName:"",email:"",emailVerified:"",isAnonymous:"",phoneNumber:"",photoURL:"",uid:"",metadata:null,state:"",newPhoneNumber:""},s={displayName:"",photoURL:"",uid:"",level:"",info:""};class y extends h{constructor(){super("user")}async createUserProfile(i){let l=new Date;e=m.currentUser,a={displayName:e.displayName,email:e.email,emailVerified:e.emailVerified,isAnonymous:e.isAnonymous,phoneNumber:e.phoneNumber,photoURL:e.photoURL,uid:e.uid,metadata:e.metadata,state:"using",updateAt:l.getTime(),level:1,physicalPower:10,skillPoints:1,experience:0,maxExperience:100,healthPoints:20,maxHealthPoints:20,manaPoint:10,maxManaPoint:10,info:"",role:[...i]},s={displayName:e.displayName,photoURL:e.photoURL,uid:e.uid,level:1,info:""},p(o(t,`${this.child}/${a.uid}/profile`),a),n(o(t,`${this.child}/${a.uid}/publicProfile`),s)}async updateUserProfile(i){let l=new Date;e=m.currentUser,a={displayName:e.displayName,email:e.email,emailVerified:e.emailVerified,isAnonymous:e.isAnonymous,phoneNumber:e.phoneNumber,photoURL:e.photoURL,uid:e.uid,state:"using",updateAt:l.getTime(),level:i.level,physicalPower:i.physicalPower,skillPoints:i.skillPoints,experience:i.experience,maxExperience:i.maxExperience,healthPoints:i.healthPoints,maxHealthPoints:i.maxHealthPoints,manaPoint:i.manaPoint,maxManaPoint:i.maxManaPoint,info:i.info,role:i.role},i?s={displayName:e.displayName,photoURL:e.photoURL,uid:e.uid,level:i.level,info:i.info}:s={displayName:e.displayName,photoURL:e.photoURL,uid:e.uid},n(o(t,`${this.child}/${a.uid}/profile`),a),n(o(t,`${this.child}/${a.uid}/publicProfile`),s)}}export{y as default};
