(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const w of d.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&u(w)}).observe(document,{childList:!0,subtree:!0});function r(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerpolicy&&(d.referrerPolicy=f.referrerpolicy),f.crossorigin==="use-credentials"?d.credentials="include":f.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function u(f){if(f.ep)return;f.ep=!0;const d=r(f);fetch(f.href,d)}})();function jJ(t,n){const r=Object.create(null),u=t.split(",");for(let f=0;f<u.length;f++)r[u[f]]=!0;return n?f=>!!r[f.toLowerCase()]:f=>!!r[f]}function xr(t){if(Ko(t)){const n={};for(let r=0;r<t.length;r++){const u=t[r],f=pl(u)?ide(u):xr(u);if(f)for(const d in f)n[d]=f[d]}return n}else{if(pl(t))return t;if(ni(t))return t}}const sde=/;(?![^(]*\))/g,rde=/:([^]+)/,ade=/\/\*.*?\*\//gs;function ide(t){const n={};return t.replace(ade,"").split(sde).forEach(r=>{if(r){const u=r.split(rde);u.length>1&&(n[u[0].trim()]=u[1].trim())}}),n}function cn(t){let n="";if(pl(t))n=t;else if(Ko(t))for(let r=0;r<t.length;r++){const u=cn(t[r]);u&&(n+=u+" ")}else if(ni(t))for(const r in t)t[r]&&(n+=r+" ");return n.trim()}const lde="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",cde=jJ(lde);function jse(t){return!!t||t===""}const Xo=t=>pl(t)?t:t==null?"":Ko(t)||ni(t)&&(t.toString===qse||!fs(t.toString))?JSON.stringify(t,Wse,2):String(t),Wse=(t,n)=>n&&n.__v_isRef?Wse(t,n.value):kA(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((r,[u,f])=>(r[`${u} =>`]=f,r),{})}:Zse(n)?{[`Set(${n.size})`]:[...n.values()]}:ni(n)&&!Ko(n)&&!Kse(n)?String(n):n,ti={},_A=[],sg=()=>{},ude=()=>!1,dde=/^on[^a-z]/,UV=t=>dde.test(t),WJ=t=>t.startsWith("onUpdate:"),Ic=Object.assign,ZJ=(t,n)=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)},fde=Object.prototype.hasOwnProperty,lr=(t,n)=>fde.call(t,n),Ko=Array.isArray,kA=t=>jV(t)==="[object Map]",Zse=t=>jV(t)==="[object Set]",fs=t=>typeof t=="function",pl=t=>typeof t=="string",GJ=t=>typeof t=="symbol",ni=t=>t!==null&&typeof t=="object",Gse=t=>ni(t)&&fs(t.then)&&fs(t.catch),qse=Object.prototype.toString,jV=t=>qse.call(t),hde=t=>jV(t).slice(8,-1),Kse=t=>jV(t)==="[object Object]",qJ=t=>pl(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,rV=jJ(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),WV=t=>{const n=Object.create(null);return r=>n[r]||(n[r]=t(r))},mde=/-(\w)/g,Gy=WV(t=>t.replace(mde,(n,r)=>r?r.toUpperCase():"")),pde=/\B([A-Z])/g,gx=WV(t=>t.replace(pde,"-$1").toLowerCase()),ZV=WV(t=>t.charAt(0).toUpperCase()+t.slice(1)),aV=WV(t=>t?`on${ZV(t)}`:""),NN=(t,n)=>!Object.is(t,n),bX=(t,n)=>{for(let r=0;r<t.length;r++)t[r](n)},hV=(t,n,r)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value:r})},KJ=t=>{const n=parseFloat(t);return isNaN(n)?t:n};let bne;const gde=()=>bne||(bne=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ih;class Yse{constructor(n=!1){this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ih,!n&&Ih&&(this.index=(Ih.scopes||(Ih.scopes=[])).push(this)-1)}run(n){if(this.active){const r=Ih;try{return Ih=this,n()}finally{Ih=r}}}on(){Ih=this}off(){Ih=this.parent}stop(n){if(this.active){let r,u;for(r=0,u=this.effects.length;r<u;r++)this.effects[r].stop();for(r=0,u=this.cleanups.length;r<u;r++)this.cleanups[r]();if(this.scopes)for(r=0,u=this.scopes.length;r<u;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!n){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.parent=void 0,this.active=!1}}}function Xse(t){return new Yse(t)}function yde(t,n=Ih){n&&n.active&&n.effects.push(t)}function bde(){return Ih}function vde(t){Ih&&Ih.cleanups.push(t)}const YJ=t=>{const n=new Set(t);return n.w=0,n.n=0,n},Jse=t=>(t.w&E0)>0,Qse=t=>(t.n&E0)>0,wde=({deps:t})=>{if(t.length)for(let n=0;n<t.length;n++)t[n].w|=E0},_de=t=>{const{deps:n}=t;if(n.length){let r=0;for(let u=0;u<n.length;u++){const f=n[u];Jse(f)&&!Qse(f)?f.delete(t):n[r++]=f,f.w&=~E0,f.n&=~E0}n.length=r}},ZX=new WeakMap;let yN=0,E0=1;const GX=30;let eg;const nx=Symbol(""),qX=Symbol("");class XJ{constructor(n,r=null,u){this.fn=n,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,yde(this,u)}run(){if(!this.active)return this.fn();let n=eg,r=g0;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=eg,eg=this,g0=!0,E0=1<<++yN,yN<=GX?wde(this):vne(this),this.fn()}finally{yN<=GX&&_de(this),E0=1<<--yN,eg=this.parent,g0=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){eg===this?this.deferStop=!0:this.active&&(vne(this),this.onStop&&this.onStop(),this.active=!1)}}function vne(t){const{deps:n}=t;if(n.length){for(let r=0;r<n.length;r++)n[r].delete(t);n.length=0}}let g0=!0;const ere=[];function jA(){ere.push(g0),g0=!1}function WA(){const t=ere.pop();g0=t===void 0?!0:t}function Oh(t,n,r){if(g0&&eg){let u=ZX.get(t);u||ZX.set(t,u=new Map);let f=u.get(r);f||u.set(r,f=YJ()),tre(f)}}function tre(t,n){let r=!1;yN<=GX?Qse(t)||(t.n|=E0,r=!Jse(t)):r=!t.has(eg),r&&(t.add(eg),eg.deps.push(t))}function p1(t,n,r,u,f,d){const w=ZX.get(t);if(!w)return;let x=[];if(n==="clear")x=[...w.values()];else if(r==="length"&&Ko(t)){const T=KJ(u);w.forEach((I,$)=>{($==="length"||$>=T)&&x.push(I)})}else switch(r!==void 0&&x.push(w.get(r)),n){case"add":Ko(t)?qJ(r)&&x.push(w.get("length")):(x.push(w.get(nx)),kA(t)&&x.push(w.get(qX)));break;case"delete":Ko(t)||(x.push(w.get(nx)),kA(t)&&x.push(w.get(qX)));break;case"set":kA(t)&&x.push(w.get(nx));break}if(x.length===1)x[0]&&KX(x[0]);else{const T=[];for(const I of x)I&&T.push(...I);KX(YJ(T))}}function KX(t,n){const r=Ko(t)?t:[...t];for(const u of r)u.computed&&wne(u);for(const u of r)u.computed||wne(u)}function wne(t,n){(t!==eg||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const kde=jJ("__proto__,__v_isRef,__isVue"),nre=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(GJ)),Cde=JJ(),Sde=JJ(!1,!0),xde=JJ(!0),_ne=Ede();function Ede(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...r){const u=rr(this);for(let d=0,w=this.length;d<w;d++)Oh(u,"get",d+"");const f=u[n](...r);return f===-1||f===!1?u[n](...r.map(rr)):f}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...r){jA();const u=rr(this)[n].apply(this,r);return WA(),u}}),t}function JJ(t=!1,n=!1){return function(u,f,d){if(f==="__v_isReactive")return!t;if(f==="__v_isReadonly")return t;if(f==="__v_isShallow")return n;if(f==="__v_raw"&&d===(t?n?Hde:ire:n?are:rre).get(u))return u;const w=Ko(u);if(!t&&w&&lr(_ne,f))return Reflect.get(_ne,f,d);const x=Reflect.get(u,f,d);return(GJ(f)?nre.has(f):kde(f))||(t||Oh(u,"get",f),n)?x:pr(x)?w&&qJ(f)?x:x.value:ni(x)?t?lre(x):Gu(x):x}}const Tde=ore(),Rde=ore(!0);function ore(t=!1){return function(r,u,f,d){let w=r[u];if(AA(w)&&pr(w)&&!pr(f))return!1;if(!t&&(!mV(f)&&!AA(f)&&(w=rr(w),f=rr(f)),!Ko(r)&&pr(w)&&!pr(f)))return w.value=f,!0;const x=Ko(r)&&qJ(u)?Number(u)<r.length:lr(r,u),T=Reflect.set(r,u,f,d);return r===rr(d)&&(x?NN(f,w)&&p1(r,"set",u,f):p1(r,"add",u,f)),T}}function Ade(t,n){const r=lr(t,n);t[n];const u=Reflect.deleteProperty(t,n);return u&&r&&p1(t,"delete",n,void 0),u}function Ide(t,n){const r=Reflect.has(t,n);return(!GJ(n)||!nre.has(n))&&Oh(t,"has",n),r}function Ode(t){return Oh(t,"iterate",Ko(t)?"length":nx),Reflect.ownKeys(t)}const sre={get:Cde,set:Tde,deleteProperty:Ade,has:Ide,ownKeys:Ode},Dde={get:xde,set(t,n){return!0},deleteProperty(t,n){return!0}},Mde=Ic({},sre,{get:Sde,set:Rde}),QJ=t=>t,GV=t=>Reflect.getPrototypeOf(t);function H8(t,n,r=!1,u=!1){t=t.__v_raw;const f=rr(t),d=rr(n);r||(n!==d&&Oh(f,"get",n),Oh(f,"get",d));const{has:w}=GV(f),x=u?QJ:r?nQ:LN;if(w.call(f,n))return x(t.get(n));if(w.call(f,d))return x(t.get(d));t!==f&&t.get(n)}function U8(t,n=!1){const r=this.__v_raw,u=rr(r),f=rr(t);return n||(t!==f&&Oh(u,"has",t),Oh(u,"has",f)),t===f?r.has(t):r.has(t)||r.has(f)}function j8(t,n=!1){return t=t.__v_raw,!n&&Oh(rr(t),"iterate",nx),Reflect.get(t,"size",t)}function kne(t){t=rr(t);const n=rr(this);return GV(n).has.call(n,t)||(n.add(t),p1(n,"add",t,t)),this}function Cne(t,n){n=rr(n);const r=rr(this),{has:u,get:f}=GV(r);let d=u.call(r,t);d||(t=rr(t),d=u.call(r,t));const w=f.call(r,t);return r.set(t,n),d?NN(n,w)&&p1(r,"set",t,n):p1(r,"add",t,n),this}function Sne(t){const n=rr(this),{has:r,get:u}=GV(n);let f=r.call(n,t);f||(t=rr(t),f=r.call(n,t)),u&&u.call(n,t);const d=n.delete(t);return f&&p1(n,"delete",t,void 0),d}function xne(){const t=rr(this),n=t.size!==0,r=t.clear();return n&&p1(t,"clear",void 0,void 0),r}function W8(t,n){return function(u,f){const d=this,w=d.__v_raw,x=rr(w),T=n?QJ:t?nQ:LN;return!t&&Oh(x,"iterate",nx),w.forEach((I,$)=>u.call(f,T(I),T($),d))}}function Z8(t,n,r){return function(...u){const f=this.__v_raw,d=rr(f),w=kA(d),x=t==="entries"||t===Symbol.iterator&&w,T=t==="keys"&&w,I=f[t](...u),$=r?QJ:n?nQ:LN;return!n&&Oh(d,"iterate",T?qX:nx),{next(){const{value:F,done:H}=I.next();return H?{value:F,done:H}:{value:x?[$(F[0]),$(F[1])]:$(F),done:H}},[Symbol.iterator](){return this}}}}function t0(t){return function(...n){return t==="delete"?!1:this}}function Pde(){const t={get(d){return H8(this,d)},get size(){return j8(this)},has:U8,add:kne,set:Cne,delete:Sne,clear:xne,forEach:W8(!1,!1)},n={get(d){return H8(this,d,!1,!0)},get size(){return j8(this)},has:U8,add:kne,set:Cne,delete:Sne,clear:xne,forEach:W8(!1,!0)},r={get(d){return H8(this,d,!0)},get size(){return j8(this,!0)},has(d){return U8.call(this,d,!0)},add:t0("add"),set:t0("set"),delete:t0("delete"),clear:t0("clear"),forEach:W8(!0,!1)},u={get(d){return H8(this,d,!0,!0)},get size(){return j8(this,!0)},has(d){return U8.call(this,d,!0)},add:t0("add"),set:t0("set"),delete:t0("delete"),clear:t0("clear"),forEach:W8(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{t[d]=Z8(d,!1,!1),r[d]=Z8(d,!0,!1),n[d]=Z8(d,!1,!0),u[d]=Z8(d,!0,!0)}),[t,r,n,u]}const[zde,Nde,Lde,Fde]=Pde();function eQ(t,n){const r=n?t?Fde:Lde:t?Nde:zde;return(u,f,d)=>f==="__v_isReactive"?!t:f==="__v_isReadonly"?t:f==="__v_raw"?u:Reflect.get(lr(r,f)&&f in u?r:u,f,d)}const Bde={get:eQ(!1,!1)},$de={get:eQ(!1,!0)},Vde={get:eQ(!0,!1)},rre=new WeakMap,are=new WeakMap,ire=new WeakMap,Hde=new WeakMap;function Ude(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jde(t){return t.__v_skip||!Object.isExtensible(t)?0:Ude(hde(t))}function Gu(t){return AA(t)?t:tQ(t,!1,sre,Bde,rre)}function Wde(t){return tQ(t,!1,Mde,$de,are)}function lre(t){return tQ(t,!0,Dde,Vde,ire)}function tQ(t,n,r,u,f){if(!ni(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const d=f.get(t);if(d)return d;const w=jde(t);if(w===0)return t;const x=new Proxy(t,w===2?u:r);return f.set(t,x),x}function h1(t){return AA(t)?h1(t.__v_raw):!!(t&&t.__v_isReactive)}function AA(t){return!!(t&&t.__v_isReadonly)}function mV(t){return!!(t&&t.__v_isShallow)}function cre(t){return h1(t)||AA(t)}function rr(t){const n=t&&t.__v_raw;return n?rr(n):t}function T0(t){return hV(t,"__v_skip",!0),t}const LN=t=>ni(t)?Gu(t):t,nQ=t=>ni(t)?lre(t):t;function ure(t){g0&&eg&&(t=rr(t),tre(t.dep||(t.dep=YJ())))}function dre(t,n){t=rr(t),t.dep&&KX(t.dep)}function pr(t){return!!(t&&t.__v_isRef===!0)}function ws(t){return fre(t,!1)}function Zde(t){return fre(t,!0)}function fre(t,n){return pr(t)?t:new Gde(t,n)}class Gde{constructor(n,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?n:rr(n),this._value=r?n:LN(n)}get value(){return ure(this),this._value}set value(n){const r=this.__v_isShallow||mV(n)||AA(n);n=r?n:rr(n),NN(n,this._rawValue)&&(this._rawValue=n,this._value=r?n:LN(n),dre(this))}}function Ot(t){return pr(t)?t.value:t}const qde={get:(t,n,r)=>Ot(Reflect.get(t,n,r)),set:(t,n,r,u)=>{const f=t[n];return pr(f)&&!pr(r)?(f.value=r,!0):Reflect.set(t,n,r,u)}};function hre(t){return h1(t)?t:new Proxy(t,qde)}function FN(t){const n=Ko(t)?new Array(t.length):{};for(const r in t)n[r]=Ol(t,r);return n}class Kde{constructor(n,r,u){this._object=n,this._key=r,this._defaultValue=u,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}}function Ol(t,n,r){const u=t[n];return pr(u)?u:new Kde(t,n,r)}var mre;class Yde{constructor(n,r,u,f){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[mre]=!1,this._dirty=!0,this.effect=new XJ(n,()=>{this._dirty||(this._dirty=!0,dre(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!f,this.__v_isReadonly=u}get value(){const n=rr(this);return ure(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}mre="__v_isReadonly";function Xde(t,n,r=!1){let u,f;const d=fs(t);return d?(u=t,f=sg):(u=t.get,f=t.set),new Yde(u,f,d||!f,r)}function y0(t,n,r,u){let f;try{f=u?t(...u):t()}catch(d){qV(d,n,r)}return f}function Pm(t,n,r,u){if(fs(t)){const d=y0(t,n,r,u);return d&&Gse(d)&&d.catch(w=>{qV(w,n,r)}),d}const f=[];for(let d=0;d<t.length;d++)f.push(Pm(t[d],n,r,u));return f}function qV(t,n,r,u=!0){const f=n?n.vnode:null;if(n){let d=n.parent;const w=n.proxy,x=r;for(;d;){const I=d.ec;if(I){for(let $=0;$<I.length;$++)if(I[$](t,w,x)===!1)return}d=d.parent}const T=n.appContext.config.errorHandler;if(T){y0(T,null,10,[t,w,x]);return}}Jde(t,r,f,u)}function Jde(t,n,r,u=!0){console.error(t)}let BN=!1,YX=!1;const ju=[];let Uy=0;const CA=[];let l1=null,YS=0;const pre=Promise.resolve();let oQ=null;function $d(t){const n=oQ||pre;return t?n.then(this?t.bind(this):t):n}function Qde(t){let n=Uy+1,r=ju.length;for(;n<r;){const u=n+r>>>1;$N(ju[u])<t?n=u+1:r=u}return n}function sQ(t){(!ju.length||!ju.includes(t,BN&&t.allowRecurse?Uy+1:Uy))&&(t.id==null?ju.push(t):ju.splice(Qde(t.id),0,t),gre())}function gre(){!BN&&!YX&&(YX=!0,oQ=pre.then(bre))}function efe(t){const n=ju.indexOf(t);n>Uy&&ju.splice(n,1)}function tfe(t){Ko(t)?CA.push(...t):(!l1||!l1.includes(t,t.allowRecurse?YS+1:YS))&&CA.push(t),gre()}function Ene(t,n=BN?Uy+1:0){for(;n<ju.length;n++){const r=ju[n];r&&r.pre&&(ju.splice(n,1),n--,r())}}function yre(t){if(CA.length){const n=[...new Set(CA)];if(CA.length=0,l1){l1.push(...n);return}for(l1=n,l1.sort((r,u)=>$N(r)-$N(u)),YS=0;YS<l1.length;YS++)l1[YS]();l1=null,YS=0}}const $N=t=>t.id==null?1/0:t.id,nfe=(t,n)=>{const r=$N(t)-$N(n);if(r===0){if(t.pre&&!n.pre)return-1;if(n.pre&&!t.pre)return 1}return r};function bre(t){YX=!1,BN=!0,ju.sort(nfe);const n=sg;try{for(Uy=0;Uy<ju.length;Uy++){const r=ju[Uy];r&&r.active!==!1&&y0(r,null,14)}}finally{Uy=0,ju.length=0,yre(),BN=!1,oQ=null,(ju.length||CA.length)&&bre()}}function ofe(t,n,...r){if(t.isUnmounted)return;const u=t.vnode.props||ti;let f=r;const d=n.startsWith("update:"),w=d&&n.slice(7);if(w&&w in u){const $=`${w==="modelValue"?"model":w}Modifiers`,{number:F,trim:H}=u[$]||ti;H&&(f=r.map(de=>pl(de)?de.trim():de)),F&&(f=r.map(KJ))}let x,T=u[x=aV(n)]||u[x=aV(Gy(n))];!T&&d&&(T=u[x=aV(gx(n))]),T&&Pm(T,t,6,f);const I=u[x+"Once"];if(I){if(!t.emitted)t.emitted={};else if(t.emitted[x])return;t.emitted[x]=!0,Pm(I,t,6,f)}}function vre(t,n,r=!1){const u=n.emitsCache,f=u.get(t);if(f!==void 0)return f;const d=t.emits;let w={},x=!1;if(!fs(t)){const T=I=>{const $=vre(I,n,!0);$&&(x=!0,Ic(w,$))};!r&&n.mixins.length&&n.mixins.forEach(T),t.extends&&T(t.extends),t.mixins&&t.mixins.forEach(T)}return!d&&!x?(ni(t)&&u.set(t,null),null):(Ko(d)?d.forEach(T=>w[T]=null):Ic(w,d),ni(t)&&u.set(t,w),w)}function KV(t,n){return!t||!UV(n)?!1:(n=n.slice(2).replace(/Once$/,""),lr(t,n[0].toLowerCase()+n.slice(1))||lr(t,gx(n))||lr(t,n))}let lu=null,YV=null;function pV(t){const n=lu;return lu=t,YV=t&&t.type.__scopeId||null,n}function QTe(t){YV=t}function eRe(){YV=null}function Ms(t,n=lu,r){if(!n||t._n)return t;const u=(...f)=>{u._d&&Lne(-1);const d=pV(n);let w;try{w=t(...f)}finally{pV(d),u._d&&Lne(1)}return w};return u._n=!0,u._c=!0,u._d=!0,u}function vX(t){const{type:n,vnode:r,proxy:u,withProxy:f,props:d,propsOptions:[w],slots:x,attrs:T,emit:I,render:$,renderCache:F,data:H,setupState:de,ctx:ke,inheritAttrs:Ne}=t;let xe,Fe;const rt=pV(t);try{if(r.shapeFlag&4){const vt=f||u;xe=Hy($.call(vt,vt,F,d,de,H,ke)),Fe=T}else{const vt=n;xe=Hy(vt.length>1?vt(d,{attrs:T,slots:x,emit:I}):vt(d,null)),Fe=n.props?T:sfe(T)}}catch(vt){CN.length=0,qV(vt,t,1),xe=Gn(zm)}let ne=xe;if(Fe&&Ne!==!1){const vt=Object.keys(Fe),{shapeFlag:Ue}=ne;vt.length&&Ue&7&&(w&&vt.some(WJ)&&(Fe=rfe(Fe,w)),ne=R0(ne,Fe))}return r.dirs&&(ne=R0(ne),ne.dirs=ne.dirs?ne.dirs.concat(r.dirs):r.dirs),r.transition&&(ne.transition=r.transition),xe=ne,pV(rt),xe}const sfe=t=>{let n;for(const r in t)(r==="class"||r==="style"||UV(r))&&((n||(n={}))[r]=t[r]);return n},rfe=(t,n)=>{const r={};for(const u in t)(!WJ(u)||!(u.slice(9)in n))&&(r[u]=t[u]);return r};function afe(t,n,r){const{props:u,children:f,component:d}=t,{props:w,children:x,patchFlag:T}=n,I=d.emitsOptions;if(n.dirs||n.transition)return!0;if(r&&T>=0){if(T&1024)return!0;if(T&16)return u?Tne(u,w,I):!!w;if(T&8){const $=n.dynamicProps;for(let F=0;F<$.length;F++){const H=$[F];if(w[H]!==u[H]&&!KV(I,H))return!0}}}else return(f||x)&&(!x||!x.$stable)?!0:u===w?!1:u?w?Tne(u,w,I):!0:!!w;return!1}function Tne(t,n,r){const u=Object.keys(n);if(u.length!==Object.keys(t).length)return!0;for(let f=0;f<u.length;f++){const d=u[f];if(n[d]!==t[d]&&!KV(r,d))return!0}return!1}function ife({vnode:t,parent:n},r){for(;n&&n.subTree===t;)(t=n.vnode).el=r,n=n.parent}const lfe=t=>t.__isSuspense;function cfe(t,n){n&&n.pendingBranch?Ko(t)?n.effects.push(...t):n.effects.push(t):tfe(t)}function b0(t,n){if(Ac){let r=Ac.provides;const u=Ac.parent&&Ac.parent.provides;u===r&&(r=Ac.provides=Object.create(u)),r[t]=n}}function cu(t,n,r=!1){const u=Ac||lu;if(u){const f=u.parent==null?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides;if(f&&t in f)return f[t];if(arguments.length>1)return r&&fs(n)?n.call(u.proxy):n}}function rQ(t,n){return aQ(t,null,n)}const G8={};function Ps(t,n,r){return aQ(t,n,r)}function aQ(t,n,{immediate:r,deep:u,flush:f,onTrack:d,onTrigger:w}=ti){const x=Ac;let T,I=!1,$=!1;if(pr(t)?(T=()=>t.value,I=mV(t)):h1(t)?(T=()=>t,u=!0):Ko(t)?($=!0,I=t.some(ne=>h1(ne)||mV(ne)),T=()=>t.map(ne=>{if(pr(ne))return ne.value;if(h1(ne))return ex(ne);if(fs(ne))return y0(ne,x,2)})):fs(t)?n?T=()=>y0(t,x,2):T=()=>{if(!(x&&x.isUnmounted))return F&&F(),Pm(t,x,3,[H])}:T=sg,n&&u){const ne=T;T=()=>ex(ne())}let F,H=ne=>{F=Fe.onStop=()=>{y0(ne,x,4)}},de;if(jN)if(H=sg,n?r&&Pm(n,x,3,[T(),$?[]:void 0,H]):T(),f==="sync"){const ne=Jfe();de=ne.__watcherHandles||(ne.__watcherHandles=[])}else return sg;let ke=$?new Array(t.length).fill(G8):G8;const Ne=()=>{if(!!Fe.active)if(n){const ne=Fe.run();(u||I||($?ne.some((vt,Ue)=>NN(vt,ke[Ue])):NN(ne,ke)))&&(F&&F(),Pm(n,x,3,[ne,ke===G8?void 0:$&&ke[0]===G8?[]:ke,H]),ke=ne)}else Fe.run()};Ne.allowRecurse=!!n;let xe;f==="sync"?xe=Ne:f==="post"?xe=()=>Of(Ne,x&&x.suspense):(Ne.pre=!0,x&&(Ne.id=x.uid),xe=()=>sQ(Ne));const Fe=new XJ(T,xe);n?r?Ne():ke=Fe.run():f==="post"?Of(Fe.run.bind(Fe),x&&x.suspense):Fe.run();const rt=()=>{Fe.stop(),x&&x.scope&&ZJ(x.scope.effects,Fe)};return de&&de.push(rt),rt}function ufe(t,n,r){const u=this.proxy,f=pl(t)?t.includes(".")?wre(u,t):()=>u[t]:t.bind(u,u);let d;fs(n)?d=n:(d=n.handler,r=n);const w=Ac;IA(this);const x=aQ(f,d.bind(u),r);return w?IA(w):ox(),x}function wre(t,n){const r=n.split(".");return()=>{let u=t;for(let f=0;f<r.length&&u;f++)u=u[r[f]];return u}}function ex(t,n){if(!ni(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),pr(t))ex(t.value,n);else if(Ko(t))for(let r=0;r<t.length;r++)ex(t[r],n);else if(Zse(t)||kA(t))t.forEach(r=>{ex(r,n)});else if(Kse(t))for(const r in t)ex(t[r],n);return t}function _re(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return yx(()=>{t.isMounted=!0}),bx(()=>{t.isUnmounting=!0}),t}const Dm=[Function,Array],dfe={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Dm,onEnter:Dm,onAfterEnter:Dm,onEnterCancelled:Dm,onBeforeLeave:Dm,onLeave:Dm,onAfterLeave:Dm,onLeaveCancelled:Dm,onBeforeAppear:Dm,onAppear:Dm,onAfterAppear:Dm,onAppearCancelled:Dm},setup(t,{slots:n}){const r=_1(),u=_re();let f;return()=>{const d=n.default&&iQ(n.default(),!0);if(!d||!d.length)return;let w=d[0];if(d.length>1){for(const Ne of d)if(Ne.type!==zm){w=Ne;break}}const x=rr(t),{mode:T}=x;if(u.isLeaving)return wX(w);const I=Rne(w);if(!I)return wX(w);const $=VN(I,x,u,r);HN(I,$);const F=r.subTree,H=F&&Rne(F);let de=!1;const{getTransitionKey:ke}=I.type;if(ke){const Ne=ke();f===void 0?f=Ne:Ne!==f&&(f=Ne,de=!0)}if(H&&H.type!==zm&&(!XS(I,H)||de)){const Ne=VN(H,x,u,r);if(HN(H,Ne),T==="out-in")return u.isLeaving=!0,Ne.afterLeave=()=>{u.isLeaving=!1,r.update.active!==!1&&r.update()},wX(w);T==="in-out"&&I.type!==zm&&(Ne.delayLeave=(xe,Fe,rt)=>{const ne=Cre(u,H);ne[String(H.key)]=H,xe._leaveCb=()=>{Fe(),xe._leaveCb=void 0,delete $.delayedLeave},$.delayedLeave=rt})}return w}}},kre=dfe;function Cre(t,n){const{leavingVNodes:r}=t;let u=r.get(n.type);return u||(u=Object.create(null),r.set(n.type,u)),u}function VN(t,n,r,u){const{appear:f,mode:d,persisted:w=!1,onBeforeEnter:x,onEnter:T,onAfterEnter:I,onEnterCancelled:$,onBeforeLeave:F,onLeave:H,onAfterLeave:de,onLeaveCancelled:ke,onBeforeAppear:Ne,onAppear:xe,onAfterAppear:Fe,onAppearCancelled:rt}=n,ne=String(t.key),vt=Cre(r,t),Ue=(Te,st)=>{Te&&Pm(Te,u,9,st)},We=(Te,st)=>{const wt=st[1];Ue(Te,st),Ko(Te)?Te.every(je=>je.length<=1)&&wt():Te.length<=1&&wt()},J={mode:d,persisted:w,beforeEnter(Te){let st=x;if(!r.isMounted)if(f)st=Ne||x;else return;Te._leaveCb&&Te._leaveCb(!0);const wt=vt[ne];wt&&XS(t,wt)&&wt.el._leaveCb&&wt.el._leaveCb(),Ue(st,[Te])},enter(Te){let st=T,wt=I,je=$;if(!r.isMounted)if(f)st=xe||T,wt=Fe||I,je=rt||$;else return;let ue=!1;const Rn=Te._enterCb=ln=>{ue||(ue=!0,ln?Ue(je,[Te]):Ue(wt,[Te]),J.delayedLeave&&J.delayedLeave(),Te._enterCb=void 0)};st?We(st,[Te,Rn]):Rn()},leave(Te,st){const wt=String(t.key);if(Te._enterCb&&Te._enterCb(!0),r.isUnmounting)return st();Ue(F,[Te]);let je=!1;const ue=Te._leaveCb=Rn=>{je||(je=!0,st(),Rn?Ue(ke,[Te]):Ue(de,[Te]),Te._leaveCb=void 0,vt[wt]===t&&delete vt[wt])};vt[wt]=t,H?We(H,[Te,ue]):ue()},clone(Te){return VN(Te,n,r,u)}};return J}function wX(t){if(XV(t))return t=R0(t),t.children=null,t}function Rne(t){return XV(t)?t.children?t.children[0]:void 0:t}function HN(t,n){t.shapeFlag&6&&t.component?HN(t.component.subTree,n):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function iQ(t,n=!1,r){let u=[],f=0;for(let d=0;d<t.length;d++){let w=t[d];const x=r==null?w.key:String(r)+String(w.key!=null?w.key:d);w.type===Xn?(w.patchFlag&128&&f++,u=u.concat(iQ(w.children,n,x))):(n||w.type!==zm)&&u.push(x!=null?R0(w,{key:x}):w)}if(f>1)for(let d=0;d<u.length;d++)u[d].patchFlag=-2;return u}function lg(t){return fs(t)?{setup:t,name:t.name}:t}const wN=t=>!!t.type.__asyncLoader,XV=t=>t.type.__isKeepAlive;function Sre(t,n){Ere(t,"a",n)}function xre(t,n){Ere(t,"da",n)}function Ere(t,n,r=Ac){const u=t.__wdc||(t.__wdc=()=>{let f=r;for(;f;){if(f.isDeactivated)return;f=f.parent}return t()});if(JV(n,u,r),r){let f=r.parent;for(;f&&f.parent;)XV(f.parent.vnode)&&ffe(u,n,r,f),f=f.parent}}function ffe(t,n,r,u){const f=JV(n,t,u,!0);Are(()=>{ZJ(u[n],f)},r)}function JV(t,n,r=Ac,u=!1){if(r){const f=r[t]||(r[t]=[]),d=n.__weh||(n.__weh=(...w)=>{if(r.isUnmounted)return;jA(),IA(r);const x=Pm(n,r,t,w);return ox(),WA(),x});return u?f.unshift(d):f.push(d),d}}const w1=t=>(n,r=Ac)=>(!jN||t==="sp")&&JV(t,(...u)=>n(...u),r),Tre=w1("bm"),yx=w1("m"),hfe=w1("bu"),Rre=w1("u"),bx=w1("bum"),Are=w1("um"),mfe=w1("sp"),pfe=w1("rtg"),gfe=w1("rtc");function yfe(t,n=Ac){JV("ec",t,n)}function Er(t,n){const r=lu;if(r===null)return t;const u=t7(r)||r.proxy,f=t.dirs||(t.dirs=[]);for(let d=0;d<n.length;d++){let[w,x,T,I=ti]=n[d];w&&(fs(w)&&(w={mounted:w,updated:w}),w.deep&&ex(x),f.push({dir:w,instance:u,value:x,oldValue:void 0,arg:T,modifiers:I}))}return t}function VS(t,n,r,u){const f=t.dirs,d=n&&n.dirs;for(let w=0;w<f.length;w++){const x=f[w];d&&(x.oldValue=d[w].value);let T=x.dir[u];T&&(jA(),Pm(T,r,8,[t.el,x,t,n]),WA())}}const lQ="components",bfe="directives";function Vn(t,n){return cQ(lQ,t,!0,n)||t}const Ire=Symbol();function Ha(t){return pl(t)?cQ(lQ,t,!1)||t:t||Ire}function gl(t){return cQ(bfe,t)}function cQ(t,n,r=!0,u=!1){const f=lu||Ac;if(f){const d=f.type;if(t===lQ){const x=Kfe(d,!1);if(x&&(x===n||x===Gy(n)||x===ZV(Gy(n))))return d}const w=Ane(f[t]||d[t],n)||Ane(f.appContext[t],n);return!w&&u?d:w}}function Ane(t,n){return t&&(t[n]||t[Gy(n)]||t[ZV(Gy(n))])}function Ua(t,n,r,u){let f;const d=r&&r[u];if(Ko(t)||pl(t)){f=new Array(t.length);for(let w=0,x=t.length;w<x;w++)f[w]=n(t[w],w,void 0,d&&d[w])}else if(typeof t=="number"){f=new Array(t);for(let w=0;w<t;w++)f[w]=n(w+1,w,void 0,d&&d[w])}else if(ni(t))if(t[Symbol.iterator])f=Array.from(t,(w,x)=>n(w,x,void 0,d&&d[x]));else{const w=Object.keys(t);f=new Array(w.length);for(let x=0,T=w.length;x<T;x++){const I=w[x];f[x]=n(t[I],I,x,d&&d[x])}}else f=[];return r&&(r[u]=f),f}function XX(t,n){for(let r=0;r<n.length;r++){const u=n[r];if(Ko(u))for(let f=0;f<u.length;f++)t[u[f].name]=u[f].fn;else u&&(t[u.name]=u.key?(...f)=>{const d=u.fn(...f);return d&&(d.key=u.key),d}:u.fn)}return t}function Eo(t,n,r={},u,f){if(lu.isCE||lu.parent&&wN(lu.parent)&&lu.parent.isCE)return n!=="default"&&(r.name=n),Gn("slot",r,u&&u());let d=t[n];d&&d._c&&(d._d=!1),be();const w=d&&Ore(d(r)),x=Mn(Xn,{key:r.key||w&&w.key||`_${n}`},w||(u?u():[]),w&&t._===1?64:-2);return!f&&x.scopeId&&(x.slotScopeIds=[x.scopeId+"-s"]),d&&d._c&&(d._d=!0),x}function Ore(t){return t.some(n=>yV(n)?!(n.type===zm||n.type===Xn&&!Ore(n.children)):!0)?t:null}function q8(t,n){const r={};for(const u in t)r[n&&/[A-Z]/.test(u)?`on:${u}`:aV(u)]=t[u];return r}const JX=t=>t?Hre(t)?t7(t)||t.proxy:JX(t.parent):null,_N=Ic(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>JX(t.parent),$root:t=>JX(t.root),$emit:t=>t.emit,$options:t=>uQ(t),$forceUpdate:t=>t.f||(t.f=()=>sQ(t.update)),$nextTick:t=>t.n||(t.n=$d.bind(t.proxy)),$watch:t=>ufe.bind(t)}),_X=(t,n)=>t!==ti&&!t.__isScriptSetup&&lr(t,n),vfe={get({_:t},n){const{ctx:r,setupState:u,data:f,props:d,accessCache:w,type:x,appContext:T}=t;let I;if(n[0]!=="$"){const de=w[n];if(de!==void 0)switch(de){case 1:return u[n];case 2:return f[n];case 4:return r[n];case 3:return d[n]}else{if(_X(u,n))return w[n]=1,u[n];if(f!==ti&&lr(f,n))return w[n]=2,f[n];if((I=t.propsOptions[0])&&lr(I,n))return w[n]=3,d[n];if(r!==ti&&lr(r,n))return w[n]=4,r[n];QX&&(w[n]=0)}}const $=_N[n];let F,H;if($)return n==="$attrs"&&Oh(t,"get",n),$(t);if((F=x.__cssModules)&&(F=F[n]))return F;if(r!==ti&&lr(r,n))return w[n]=4,r[n];if(H=T.config.globalProperties,lr(H,n))return H[n]},set({_:t},n,r){const{data:u,setupState:f,ctx:d}=t;return _X(f,n)?(f[n]=r,!0):u!==ti&&lr(u,n)?(u[n]=r,!0):lr(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(d[n]=r,!0)},has({_:{data:t,setupState:n,accessCache:r,ctx:u,appContext:f,propsOptions:d}},w){let x;return!!r[w]||t!==ti&&lr(t,w)||_X(n,w)||(x=d[0])&&lr(x,w)||lr(u,w)||lr(_N,w)||lr(f.config.globalProperties,w)},defineProperty(t,n,r){return r.get!=null?t._.accessCache[n]=0:lr(r,"value")&&this.set(t,n,r.value,null),Reflect.defineProperty(t,n,r)}};let QX=!0;function wfe(t){const n=uQ(t),r=t.proxy,u=t.ctx;QX=!1,n.beforeCreate&&Ine(n.beforeCreate,t,"bc");const{data:f,computed:d,methods:w,watch:x,provide:T,inject:I,created:$,beforeMount:F,mounted:H,beforeUpdate:de,updated:ke,activated:Ne,deactivated:xe,beforeDestroy:Fe,beforeUnmount:rt,destroyed:ne,unmounted:vt,render:Ue,renderTracked:We,renderTriggered:J,errorCaptured:Te,serverPrefetch:st,expose:wt,inheritAttrs:je,components:ue,directives:Rn,filters:ln}=n;if(I&&_fe(I,u,null,t.appContext.config.unwrapInjectedRef),w)for(const Ht in w){const ot=w[Ht];fs(ot)&&(u[Ht]=ot.bind(r))}if(f){const Ht=f.call(r,r);ni(Ht)&&(t.data=Gu(Ht))}if(QX=!0,d)for(const Ht in d){const ot=d[Ht],Nn=fs(ot)?ot.bind(r,r):fs(ot.get)?ot.get.bind(r,r):sg,an=!fs(ot)&&fs(ot.set)?ot.set.bind(r):sg,it=To({get:Nn,set:an});Object.defineProperty(u,Ht,{enumerable:!0,configurable:!0,get:()=>it.value,set:Zn=>it.value=Zn})}if(x)for(const Ht in x)Dre(x[Ht],u,r,Ht);if(T){const Ht=fs(T)?T.call(r):T;Reflect.ownKeys(Ht).forEach(ot=>{b0(ot,Ht[ot])})}$&&Ine($,t,"c");function L(Ht,ot){Ko(ot)?ot.forEach(Nn=>Ht(Nn.bind(r))):ot&&Ht(ot.bind(r))}if(L(Tre,F),L(yx,H),L(hfe,de),L(Rre,ke),L(Sre,Ne),L(xre,xe),L(yfe,Te),L(gfe,We),L(pfe,J),L(bx,rt),L(Are,vt),L(mfe,st),Ko(wt))if(wt.length){const Ht=t.exposed||(t.exposed={});wt.forEach(ot=>{Object.defineProperty(Ht,ot,{get:()=>r[ot],set:Nn=>r[ot]=Nn})})}else t.exposed||(t.exposed={});Ue&&t.render===sg&&(t.render=Ue),je!=null&&(t.inheritAttrs=je),ue&&(t.components=ue),Rn&&(t.directives=Rn)}function _fe(t,n,r=sg,u=!1){Ko(t)&&(t=eJ(t));for(const f in t){const d=t[f];let w;ni(d)?"default"in d?w=cu(d.from||f,d.default,!0):w=cu(d.from||f):w=cu(d),pr(w)&&u?Object.defineProperty(n,f,{enumerable:!0,configurable:!0,get:()=>w.value,set:x=>w.value=x}):n[f]=w}}function Ine(t,n,r){Pm(Ko(t)?t.map(u=>u.bind(n.proxy)):t.bind(n.proxy),n,r)}function Dre(t,n,r,u){const f=u.includes(".")?wre(r,u):()=>r[u];if(pl(t)){const d=n[t];fs(d)&&Ps(f,d)}else if(fs(t))Ps(f,t.bind(r));else if(ni(t))if(Ko(t))t.forEach(d=>Dre(d,n,r,u));else{const d=fs(t.handler)?t.handler.bind(r):n[t.handler];fs(d)&&Ps(f,d,t)}}function uQ(t){const n=t.type,{mixins:r,extends:u}=n,{mixins:f,optionsCache:d,config:{optionMergeStrategies:w}}=t.appContext,x=d.get(n);let T;return x?T=x:!f.length&&!r&&!u?T=n:(T={},f.length&&f.forEach(I=>gV(T,I,w,!0)),gV(T,n,w)),ni(n)&&d.set(n,T),T}function gV(t,n,r,u=!1){const{mixins:f,extends:d}=n;d&&gV(t,d,r,!0),f&&f.forEach(w=>gV(t,w,r,!0));for(const w in n)if(!(u&&w==="expose")){const x=kfe[w]||r&&r[w];t[w]=x?x(t[w],n[w]):n[w]}return t}const kfe={data:One,props:ZS,emits:ZS,methods:ZS,computed:ZS,beforeCreate:Bd,created:Bd,beforeMount:Bd,mounted:Bd,beforeUpdate:Bd,updated:Bd,beforeDestroy:Bd,beforeUnmount:Bd,destroyed:Bd,unmounted:Bd,activated:Bd,deactivated:Bd,errorCaptured:Bd,serverPrefetch:Bd,components:ZS,directives:ZS,watch:Sfe,provide:One,inject:Cfe};function One(t,n){return n?t?function(){return Ic(fs(t)?t.call(this,this):t,fs(n)?n.call(this,this):n)}:n:t}function Cfe(t,n){return ZS(eJ(t),eJ(n))}function eJ(t){if(Ko(t)){const n={};for(let r=0;r<t.length;r++)n[t[r]]=t[r];return n}return t}function Bd(t,n){return t?[...new Set([].concat(t,n))]:n}function ZS(t,n){return t?Ic(Ic(Object.create(null),t),n):n}function Sfe(t,n){if(!t)return n;if(!n)return t;const r=Ic(Object.create(null),t);for(const u in n)r[u]=Bd(t[u],n[u]);return r}function xfe(t,n,r,u=!1){const f={},d={};hV(d,e7,1),t.propsDefaults=Object.create(null),Mre(t,n,f,d);for(const w in t.propsOptions[0])w in f||(f[w]=void 0);r?t.props=u?f:Wde(f):t.type.props?t.props=f:t.props=d,t.attrs=d}function Efe(t,n,r,u){const{props:f,attrs:d,vnode:{patchFlag:w}}=t,x=rr(f),[T]=t.propsOptions;let I=!1;if((u||w>0)&&!(w&16)){if(w&8){const $=t.vnode.dynamicProps;for(let F=0;F<$.length;F++){let H=$[F];if(KV(t.emitsOptions,H))continue;const de=n[H];if(T)if(lr(d,H))de!==d[H]&&(d[H]=de,I=!0);else{const ke=Gy(H);f[ke]=tJ(T,x,ke,de,t,!1)}else de!==d[H]&&(d[H]=de,I=!0)}}}else{Mre(t,n,f,d)&&(I=!0);let $;for(const F in x)(!n||!lr(n,F)&&(($=gx(F))===F||!lr(n,$)))&&(T?r&&(r[F]!==void 0||r[$]!==void 0)&&(f[F]=tJ(T,x,F,void 0,t,!0)):delete f[F]);if(d!==x)for(const F in d)(!n||!lr(n,F)&&!0)&&(delete d[F],I=!0)}I&&p1(t,"set","$attrs")}function Mre(t,n,r,u){const[f,d]=t.propsOptions;let w=!1,x;if(n)for(let T in n){if(rV(T))continue;const I=n[T];let $;f&&lr(f,$=Gy(T))?!d||!d.includes($)?r[$]=I:(x||(x={}))[$]=I:KV(t.emitsOptions,T)||(!(T in u)||I!==u[T])&&(u[T]=I,w=!0)}if(d){const T=rr(r),I=x||ti;for(let $=0;$<d.length;$++){const F=d[$];r[F]=tJ(f,T,F,I[F],t,!lr(I,F))}}return w}function tJ(t,n,r,u,f,d){const w=t[r];if(w!=null){const x=lr(w,"default");if(x&&u===void 0){const T=w.default;if(w.type!==Function&&fs(T)){const{propsDefaults:I}=f;r in I?u=I[r]:(IA(f),u=I[r]=T.call(null,n),ox())}else u=T}w[0]&&(d&&!x?u=!1:w[1]&&(u===""||u===gx(r))&&(u=!0))}return u}function Pre(t,n,r=!1){const u=n.propsCache,f=u.get(t);if(f)return f;const d=t.props,w={},x=[];let T=!1;if(!fs(t)){const $=F=>{T=!0;const[H,de]=Pre(F,n,!0);Ic(w,H),de&&x.push(...de)};!r&&n.mixins.length&&n.mixins.forEach($),t.extends&&$(t.extends),t.mixins&&t.mixins.forEach($)}if(!d&&!T)return ni(t)&&u.set(t,_A),_A;if(Ko(d))for(let $=0;$<d.length;$++){const F=Gy(d[$]);Dne(F)&&(w[F]=ti)}else if(d)for(const $ in d){const F=Gy($);if(Dne(F)){const H=d[$],de=w[F]=Ko(H)||fs(H)?{type:H}:Object.assign({},H);if(de){const ke=zne(Boolean,de.type),Ne=zne(String,de.type);de[0]=ke>-1,de[1]=Ne<0||ke<Ne,(ke>-1||lr(de,"default"))&&x.push(F)}}}const I=[w,x];return ni(t)&&u.set(t,I),I}function Dne(t){return t[0]!=="$"}function Mne(t){const n=t&&t.toString().match(/^\s*function (\w+)/);return n?n[1]:t===null?"null":""}function Pne(t,n){return Mne(t)===Mne(n)}function zne(t,n){return Ko(n)?n.findIndex(r=>Pne(r,t)):fs(n)&&Pne(n,t)?0:-1}const zre=t=>t[0]==="_"||t==="$stable",dQ=t=>Ko(t)?t.map(Hy):[Hy(t)],Tfe=(t,n,r)=>{if(n._n)return n;const u=Ms((...f)=>dQ(n(...f)),r);return u._c=!1,u},Nre=(t,n,r)=>{const u=t._ctx;for(const f in t){if(zre(f))continue;const d=t[f];if(fs(d))n[f]=Tfe(f,d,u);else if(d!=null){const w=dQ(d);n[f]=()=>w}}},Lre=(t,n)=>{const r=dQ(n);t.slots.default=()=>r},Rfe=(t,n)=>{if(t.vnode.shapeFlag&32){const r=n._;r?(t.slots=rr(n),hV(n,"_",r)):Nre(n,t.slots={})}else t.slots={},n&&Lre(t,n);hV(t.slots,e7,1)},Afe=(t,n,r)=>{const{vnode:u,slots:f}=t;let d=!0,w=ti;if(u.shapeFlag&32){const x=n._;x?r&&x===1?d=!1:(Ic(f,n),!r&&x===1&&delete f._):(d=!n.$stable,Nre(n,f)),w=n}else n&&(Lre(t,n),w={default:1});if(d)for(const x in f)!zre(x)&&!(x in w)&&delete f[x]};function Fre(){return{app:null,config:{isNativeTag:ude,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ife=0;function Ofe(t,n){return function(u,f=null){fs(u)||(u=Object.assign({},u)),f!=null&&!ni(f)&&(f=null);const d=Fre(),w=new Set;let x=!1;const T=d.app={_uid:Ife++,_component:u,_props:f,_container:null,_context:d,_instance:null,version:Qfe,get config(){return d.config},set config(I){},use(I,...$){return w.has(I)||(I&&fs(I.install)?(w.add(I),I.install(T,...$)):fs(I)&&(w.add(I),I(T,...$))),T},mixin(I){return d.mixins.includes(I)||d.mixins.push(I),T},component(I,$){return $?(d.components[I]=$,T):d.components[I]},directive(I,$){return $?(d.directives[I]=$,T):d.directives[I]},mount(I,$,F){if(!x){const H=Gn(u,f);return H.appContext=d,$&&n?n(H,I):t(H,I,F),x=!0,T._container=I,I.__vue_app__=T,t7(H.component)||H.component.proxy}},unmount(){x&&(t(null,T._container),delete T._container.__vue_app__)},provide(I,$){return d.provides[I]=$,T}};return T}}function nJ(t,n,r,u,f=!1){if(Ko(t)){t.forEach((H,de)=>nJ(H,n&&(Ko(n)?n[de]:n),r,u,f));return}if(wN(u)&&!f)return;const d=u.shapeFlag&4?t7(u.component)||u.component.proxy:u.el,w=f?null:d,{i:x,r:T}=t,I=n&&n.r,$=x.refs===ti?x.refs={}:x.refs,F=x.setupState;if(I!=null&&I!==T&&(pl(I)?($[I]=null,lr(F,I)&&(F[I]=null)):pr(I)&&(I.value=null)),fs(T))y0(T,x,12,[w,$]);else{const H=pl(T),de=pr(T);if(H||de){const ke=()=>{if(t.f){const Ne=H?lr(F,T)?F[T]:$[T]:T.value;f?Ko(Ne)&&ZJ(Ne,d):Ko(Ne)?Ne.includes(d)||Ne.push(d):H?($[T]=[d],lr(F,T)&&(F[T]=$[T])):(T.value=[d],t.k&&($[t.k]=T.value))}else H?($[T]=w,lr(F,T)&&(F[T]=w)):de&&(T.value=w,t.k&&($[t.k]=w))};w?(ke.id=-1,Of(ke,r)):ke()}}}const Of=cfe;function Dfe(t){return Mfe(t)}function Mfe(t,n){const r=gde();r.__VUE__=!0;const{insert:u,remove:f,patchProp:d,createElement:w,createText:x,createComment:T,setText:I,setElementText:$,parentNode:F,nextSibling:H,setScopeId:de=sg,insertStaticContent:ke}=t,Ne=(re,Re,Oe,pt=null,Ke=null,le=null,$e=!1,Qe=null,Ve=!!Re.dynamicChildren)=>{if(re===Re)return;re&&!XS(re,Re)&&(pt=me(re),Zn(re,Ke,le,!0),re=null),Re.patchFlag===-2&&(Ve=!1,Re.dynamicChildren=null);const{type:oe,ref:ye,shapeFlag:Ye}=Re;switch(oe){case QV:xe(re,Re,Oe,pt);break;case zm:Fe(re,Re,Oe,pt);break;case iV:re==null&&rt(Re,Oe,pt,$e);break;case Xn:ue(re,Re,Oe,pt,Ke,le,$e,Qe,Ve);break;default:Ye&1?Ue(re,Re,Oe,pt,Ke,le,$e,Qe,Ve):Ye&6?Rn(re,Re,Oe,pt,Ke,le,$e,Qe,Ve):(Ye&64||Ye&128)&&oe.process(re,Re,Oe,pt,Ke,le,$e,Qe,Ve,lt)}ye!=null&&Ke&&nJ(ye,re&&re.ref,le,Re||re,!Re)},xe=(re,Re,Oe,pt)=>{if(re==null)u(Re.el=x(Re.children),Oe,pt);else{const Ke=Re.el=re.el;Re.children!==re.children&&I(Ke,Re.children)}},Fe=(re,Re,Oe,pt)=>{re==null?u(Re.el=T(Re.children||""),Oe,pt):Re.el=re.el},rt=(re,Re,Oe,pt)=>{[re.el,re.anchor]=ke(re.children,Re,Oe,pt,re.el,re.anchor)},ne=({el:re,anchor:Re},Oe,pt)=>{let Ke;for(;re&&re!==Re;)Ke=H(re),u(re,Oe,pt),re=Ke;u(Re,Oe,pt)},vt=({el:re,anchor:Re})=>{let Oe;for(;re&&re!==Re;)Oe=H(re),f(re),re=Oe;f(Re)},Ue=(re,Re,Oe,pt,Ke,le,$e,Qe,Ve)=>{$e=$e||Re.type==="svg",re==null?We(Re,Oe,pt,Ke,le,$e,Qe,Ve):st(re,Re,Ke,le,$e,Qe,Ve)},We=(re,Re,Oe,pt,Ke,le,$e,Qe)=>{let Ve,oe;const{type:ye,props:Ye,shapeFlag:ut,transition:zt,dirs:Dt}=re;if(Ve=re.el=w(re.type,le,Ye&&Ye.is,Ye),ut&8?$(Ve,re.children):ut&16&&Te(re.children,Ve,null,pt,Ke,le&&ye!=="foreignObject",$e,Qe),Dt&&VS(re,null,pt,"created"),Ye){for(const sn in Ye)sn!=="value"&&!rV(sn)&&d(Ve,sn,null,Ye[sn],le,re.children,pt,Ke,Ee);"value"in Ye&&d(Ve,"value",null,Ye.value),(oe=Ye.onVnodeBeforeMount)&&Vy(oe,pt,re)}J(Ve,re,re.scopeId,$e,pt),Dt&&VS(re,null,pt,"beforeMount");const Vt=(!Ke||Ke&&!Ke.pendingBranch)&&zt&&!zt.persisted;Vt&&zt.beforeEnter(Ve),u(Ve,Re,Oe),((oe=Ye&&Ye.onVnodeMounted)||Vt||Dt)&&Of(()=>{oe&&Vy(oe,pt,re),Vt&&zt.enter(Ve),Dt&&VS(re,null,pt,"mounted")},Ke)},J=(re,Re,Oe,pt,Ke)=>{if(Oe&&de(re,Oe),pt)for(let le=0;le<pt.length;le++)de(re,pt[le]);if(Ke){let le=Ke.subTree;if(Re===le){const $e=Ke.vnode;J(re,$e,$e.scopeId,$e.slotScopeIds,Ke.parent)}}},Te=(re,Re,Oe,pt,Ke,le,$e,Qe,Ve=0)=>{for(let oe=Ve;oe<re.length;oe++){const ye=re[oe]=Qe?l0(re[oe]):Hy(re[oe]);Ne(null,ye,Re,Oe,pt,Ke,le,$e,Qe)}},st=(re,Re,Oe,pt,Ke,le,$e)=>{const Qe=Re.el=re.el;let{patchFlag:Ve,dynamicChildren:oe,dirs:ye}=Re;Ve|=re.patchFlag&16;const Ye=re.props||ti,ut=Re.props||ti;let zt;Oe&&HS(Oe,!1),(zt=ut.onVnodeBeforeUpdate)&&Vy(zt,Oe,Re,re),ye&&VS(Re,re,Oe,"beforeUpdate"),Oe&&HS(Oe,!0);const Dt=Ke&&Re.type!=="foreignObject";if(oe?wt(re.dynamicChildren,oe,Qe,Oe,pt,Dt,le):$e||ot(re,Re,Qe,null,Oe,pt,Dt,le,!1),Ve>0){if(Ve&16)je(Qe,Re,Ye,ut,Oe,pt,Ke);else if(Ve&2&&Ye.class!==ut.class&&d(Qe,"class",null,ut.class,Ke),Ve&4&&d(Qe,"style",Ye.style,ut.style,Ke),Ve&8){const Vt=Re.dynamicProps;for(let sn=0;sn<Vt.length;sn++){const _n=Vt[sn],Un=Ye[_n],lo=ut[_n];(lo!==Un||_n==="value")&&d(Qe,_n,Un,lo,Ke,re.children,Oe,pt,Ee)}}Ve&1&&re.children!==Re.children&&$(Qe,Re.children)}else!$e&&oe==null&&je(Qe,Re,Ye,ut,Oe,pt,Ke);((zt=ut.onVnodeUpdated)||ye)&&Of(()=>{zt&&Vy(zt,Oe,Re,re),ye&&VS(Re,re,Oe,"updated")},pt)},wt=(re,Re,Oe,pt,Ke,le,$e)=>{for(let Qe=0;Qe<Re.length;Qe++){const Ve=re[Qe],oe=Re[Qe],ye=Ve.el&&(Ve.type===Xn||!XS(Ve,oe)||Ve.shapeFlag&70)?F(Ve.el):Oe;Ne(Ve,oe,ye,null,pt,Ke,le,$e,!0)}},je=(re,Re,Oe,pt,Ke,le,$e)=>{if(Oe!==pt){if(Oe!==ti)for(const Qe in Oe)!rV(Qe)&&!(Qe in pt)&&d(re,Qe,Oe[Qe],null,$e,Re.children,Ke,le,Ee);for(const Qe in pt){if(rV(Qe))continue;const Ve=pt[Qe],oe=Oe[Qe];Ve!==oe&&Qe!=="value"&&d(re,Qe,oe,Ve,$e,Re.children,Ke,le,Ee)}"value"in pt&&d(re,"value",Oe.value,pt.value)}},ue=(re,Re,Oe,pt,Ke,le,$e,Qe,Ve)=>{const oe=Re.el=re?re.el:x(""),ye=Re.anchor=re?re.anchor:x("");let{patchFlag:Ye,dynamicChildren:ut,slotScopeIds:zt}=Re;zt&&(Qe=Qe?Qe.concat(zt):zt),re==null?(u(oe,Oe,pt),u(ye,Oe,pt),Te(Re.children,Oe,ye,Ke,le,$e,Qe,Ve)):Ye>0&&Ye&64&&ut&&re.dynamicChildren?(wt(re.dynamicChildren,ut,Oe,Ke,le,$e,Qe),(Re.key!=null||Ke&&Re===Ke.subTree)&&fQ(re,Re,!0)):ot(re,Re,Oe,ye,Ke,le,$e,Qe,Ve)},Rn=(re,Re,Oe,pt,Ke,le,$e,Qe,Ve)=>{Re.slotScopeIds=Qe,re==null?Re.shapeFlag&512?Ke.ctx.activate(Re,Oe,pt,$e,Ve):ln(Re,Oe,pt,Ke,le,$e,Ve):It(re,Re,Ve)},ln=(re,Re,Oe,pt,Ke,le,$e)=>{const Qe=re.component=jfe(re,pt,Ke);if(XV(re)&&(Qe.ctx.renderer=lt),Wfe(Qe),Qe.asyncDep){if(Ke&&Ke.registerDep(Qe,L),!re.el){const Ve=Qe.subTree=Gn(zm);Fe(null,Ve,Re,Oe)}return}L(Qe,re,Re,Oe,Ke,le,$e)},It=(re,Re,Oe)=>{const pt=Re.component=re.component;if(afe(re,Re,Oe))if(pt.asyncDep&&!pt.asyncResolved){Ht(pt,Re,Oe);return}else pt.next=Re,efe(pt.update),pt.update();else Re.el=re.el,pt.vnode=Re},L=(re,Re,Oe,pt,Ke,le,$e)=>{const Qe=()=>{if(re.isMounted){let{next:ye,bu:Ye,u:ut,parent:zt,vnode:Dt}=re,Vt=ye,sn;HS(re,!1),ye?(ye.el=Dt.el,Ht(re,ye,$e)):ye=Dt,Ye&&bX(Ye),(sn=ye.props&&ye.props.onVnodeBeforeUpdate)&&Vy(sn,zt,ye,Dt),HS(re,!0);const _n=vX(re),Un=re.subTree;re.subTree=_n,Ne(Un,_n,F(Un.el),me(Un),re,Ke,le),ye.el=_n.el,Vt===null&&ife(re,_n.el),ut&&Of(ut,Ke),(sn=ye.props&&ye.props.onVnodeUpdated)&&Of(()=>Vy(sn,zt,ye,Dt),Ke)}else{let ye;const{el:Ye,props:ut}=Re,{bm:zt,m:Dt,parent:Vt}=re,sn=wN(Re);if(HS(re,!1),zt&&bX(zt),!sn&&(ye=ut&&ut.onVnodeBeforeMount)&&Vy(ye,Vt,Re),HS(re,!0),Ye&&Tt){const _n=()=>{re.subTree=vX(re),Tt(Ye,re.subTree,re,Ke,null)};sn?Re.type.__asyncLoader().then(()=>!re.isUnmounted&&_n()):_n()}else{const _n=re.subTree=vX(re);Ne(null,_n,Oe,pt,re,Ke,le),Re.el=_n.el}if(Dt&&Of(Dt,Ke),!sn&&(ye=ut&&ut.onVnodeMounted)){const _n=Re;Of(()=>Vy(ye,Vt,_n),Ke)}(Re.shapeFlag&256||Vt&&wN(Vt.vnode)&&Vt.vnode.shapeFlag&256)&&re.a&&Of(re.a,Ke),re.isMounted=!0,Re=Oe=pt=null}},Ve=re.effect=new XJ(Qe,()=>sQ(oe),re.scope),oe=re.update=()=>Ve.run();oe.id=re.uid,HS(re,!0),oe()},Ht=(re,Re,Oe)=>{Re.component=re;const pt=re.vnode.props;re.vnode=Re,re.next=null,Efe(re,Re.props,pt,Oe),Afe(re,Re.children,Oe),jA(),Ene(),WA()},ot=(re,Re,Oe,pt,Ke,le,$e,Qe,Ve=!1)=>{const oe=re&&re.children,ye=re?re.shapeFlag:0,Ye=Re.children,{patchFlag:ut,shapeFlag:zt}=Re;if(ut>0){if(ut&128){an(oe,Ye,Oe,pt,Ke,le,$e,Qe,Ve);return}else if(ut&256){Nn(oe,Ye,Oe,pt,Ke,le,$e,Qe,Ve);return}}zt&8?(ye&16&&Ee(oe,Ke,le),Ye!==oe&&$(Oe,Ye)):ye&16?zt&16?an(oe,Ye,Oe,pt,Ke,le,$e,Qe,Ve):Ee(oe,Ke,le,!0):(ye&8&&$(Oe,""),zt&16&&Te(Ye,Oe,pt,Ke,le,$e,Qe,Ve))},Nn=(re,Re,Oe,pt,Ke,le,$e,Qe,Ve)=>{re=re||_A,Re=Re||_A;const oe=re.length,ye=Re.length,Ye=Math.min(oe,ye);let ut;for(ut=0;ut<Ye;ut++){const zt=Re[ut]=Ve?l0(Re[ut]):Hy(Re[ut]);Ne(re[ut],zt,Oe,null,Ke,le,$e,Qe,Ve)}oe>ye?Ee(re,Ke,le,!0,!1,Ye):Te(Re,Oe,pt,Ke,le,$e,Qe,Ve,Ye)},an=(re,Re,Oe,pt,Ke,le,$e,Qe,Ve)=>{let oe=0;const ye=Re.length;let Ye=re.length-1,ut=ye-1;for(;oe<=Ye&&oe<=ut;){const zt=re[oe],Dt=Re[oe]=Ve?l0(Re[oe]):Hy(Re[oe]);if(XS(zt,Dt))Ne(zt,Dt,Oe,null,Ke,le,$e,Qe,Ve);else break;oe++}for(;oe<=Ye&&oe<=ut;){const zt=re[Ye],Dt=Re[ut]=Ve?l0(Re[ut]):Hy(Re[ut]);if(XS(zt,Dt))Ne(zt,Dt,Oe,null,Ke,le,$e,Qe,Ve);else break;Ye--,ut--}if(oe>Ye){if(oe<=ut){const zt=ut+1,Dt=zt<ye?Re[zt].el:pt;for(;oe<=ut;)Ne(null,Re[oe]=Ve?l0(Re[oe]):Hy(Re[oe]),Oe,Dt,Ke,le,$e,Qe,Ve),oe++}}else if(oe>ut)for(;oe<=Ye;)Zn(re[oe],Ke,le,!0),oe++;else{const zt=oe,Dt=oe,Vt=new Map;for(oe=Dt;oe<=ut;oe++){const Uo=Re[oe]=Ve?l0(Re[oe]):Hy(Re[oe]);Uo.key!=null&&Vt.set(Uo.key,oe)}let sn,_n=0;const Un=ut-Dt+1;let lo=!1,mo=0;const Io=new Array(Un);for(oe=0;oe<Un;oe++)Io[oe]=0;for(oe=zt;oe<=Ye;oe++){const Uo=re[oe];if(_n>=Un){Zn(Uo,Ke,le,!0);continue}let zs;if(Uo.key!=null)zs=Vt.get(Uo.key);else for(sn=Dt;sn<=ut;sn++)if(Io[sn-Dt]===0&&XS(Uo,Re[sn])){zs=sn;break}zs===void 0?Zn(Uo,Ke,le,!0):(Io[zs-Dt]=oe+1,zs>=mo?mo=zs:lo=!0,Ne(Uo,Re[zs],Oe,null,Ke,le,$e,Qe,Ve),_n++)}const _s=lo?Pfe(Io):_A;for(sn=_s.length-1,oe=Un-1;oe>=0;oe--){const Uo=Dt+oe,zs=Re[Uo],Dl=Uo+1<ye?Re[Uo+1].el:pt;Io[oe]===0?Ne(null,zs,Oe,Dl,Ke,le,$e,Qe,Ve):lo&&(sn<0||oe!==_s[sn]?it(zs,Oe,Dl,2):sn--)}}},it=(re,Re,Oe,pt,Ke=null)=>{const{el:le,type:$e,transition:Qe,children:Ve,shapeFlag:oe}=re;if(oe&6){it(re.component.subTree,Re,Oe,pt);return}if(oe&128){re.suspense.move(Re,Oe,pt);return}if(oe&64){$e.move(re,Re,Oe,lt);return}if($e===Xn){u(le,Re,Oe);for(let Ye=0;Ye<Ve.length;Ye++)it(Ve[Ye],Re,Oe,pt);u(re.anchor,Re,Oe);return}if($e===iV){ne(re,Re,Oe);return}if(pt!==2&&oe&1&&Qe)if(pt===0)Qe.beforeEnter(le),u(le,Re,Oe),Of(()=>Qe.enter(le),Ke);else{const{leave:Ye,delayLeave:ut,afterLeave:zt}=Qe,Dt=()=>u(le,Re,Oe),Vt=()=>{Ye(le,()=>{Dt(),zt&&zt()})};ut?ut(le,Dt,Vt):Vt()}else u(le,Re,Oe)},Zn=(re,Re,Oe,pt=!1,Ke=!1)=>{const{type:le,props:$e,ref:Qe,children:Ve,dynamicChildren:oe,shapeFlag:ye,patchFlag:Ye,dirs:ut}=re;if(Qe!=null&&nJ(Qe,null,Oe,re,!0),ye&256){Re.ctx.deactivate(re);return}const zt=ye&1&&ut,Dt=!wN(re);let Vt;if(Dt&&(Vt=$e&&$e.onVnodeBeforeUnmount)&&Vy(Vt,Re,re),ye&6)Et(re.component,Oe,pt);else{if(ye&128){re.suspense.unmount(Oe,pt);return}zt&&VS(re,null,Re,"beforeUnmount"),ye&64?re.type.remove(re,Re,Oe,Ke,lt,pt):oe&&(le!==Xn||Ye>0&&Ye&64)?Ee(oe,Re,Oe,!1,!0):(le===Xn&&Ye&384||!Ke&&ye&16)&&Ee(Ve,Re,Oe),pt&&io(re)}(Dt&&(Vt=$e&&$e.onVnodeUnmounted)||zt)&&Of(()=>{Vt&&Vy(Vt,Re,re),zt&&VS(re,null,Re,"unmounted")},Oe)},io=re=>{const{type:Re,el:Oe,anchor:pt,transition:Ke}=re;if(Re===Xn){uo(Oe,pt);return}if(Re===iV){vt(re);return}const le=()=>{f(Oe),Ke&&!Ke.persisted&&Ke.afterLeave&&Ke.afterLeave()};if(re.shapeFlag&1&&Ke&&!Ke.persisted){const{leave:$e,delayLeave:Qe}=Ke,Ve=()=>$e(Oe,le);Qe?Qe(re.el,le,Ve):Ve()}else le()},uo=(re,Re)=>{let Oe;for(;re!==Re;)Oe=H(re),f(re),re=Oe;f(Re)},Et=(re,Re,Oe)=>{const{bum:pt,scope:Ke,update:le,subTree:$e,um:Qe}=re;pt&&bX(pt),Ke.stop(),le&&(le.active=!1,Zn($e,re,Re,Oe)),Qe&&Of(Qe,Re),Of(()=>{re.isUnmounted=!0},Re),Re&&Re.pendingBranch&&!Re.isUnmounted&&re.asyncDep&&!re.asyncResolved&&re.suspenseId===Re.pendingId&&(Re.deps--,Re.deps===0&&Re.resolve())},Ee=(re,Re,Oe,pt=!1,Ke=!1,le=0)=>{for(let $e=le;$e<re.length;$e++)Zn(re[$e],Re,Oe,pt,Ke)},me=re=>re.shapeFlag&6?me(re.component.subTree):re.shapeFlag&128?re.suspense.next():H(re.anchor||re.el),j=(re,Re,Oe)=>{re==null?Re._vnode&&Zn(Re._vnode,null,null,!0):Ne(Re._vnode||null,re,Re,null,null,null,Oe),Ene(),yre(),Re._vnode=re},lt={p:Ne,um:Zn,m:it,r:io,mt:ln,mc:Te,pc:ot,pbc:wt,n:me,o:t};let Xe,Tt;return n&&([Xe,Tt]=n(lt)),{render:j,hydrate:Xe,createApp:Ofe(j,Xe)}}function HS({effect:t,update:n},r){t.allowRecurse=n.allowRecurse=r}function fQ(t,n,r=!1){const u=t.children,f=n.children;if(Ko(u)&&Ko(f))for(let d=0;d<u.length;d++){const w=u[d];let x=f[d];x.shapeFlag&1&&!x.dynamicChildren&&((x.patchFlag<=0||x.patchFlag===32)&&(x=f[d]=l0(f[d]),x.el=w.el),r||fQ(w,x)),x.type===QV&&(x.el=w.el)}}function Pfe(t){const n=t.slice(),r=[0];let u,f,d,w,x;const T=t.length;for(u=0;u<T;u++){const I=t[u];if(I!==0){if(f=r[r.length-1],t[f]<I){n[u]=f,r.push(u);continue}for(d=0,w=r.length-1;d<w;)x=d+w>>1,t[r[x]]<I?d=x+1:w=x;I<t[r[d]]&&(d>0&&(n[u]=r[d-1]),r[d]=u)}}for(d=r.length,w=r[d-1];d-- >0;)r[d]=w,w=n[w];return r}const zfe=t=>t.__isTeleport,kN=t=>t&&(t.disabled||t.disabled===""),Nne=t=>typeof SVGElement<"u"&&t instanceof SVGElement,oJ=(t,n)=>{const r=t&&t.to;return pl(r)?n?n(r):null:r},Nfe={__isTeleport:!0,process(t,n,r,u,f,d,w,x,T,I){const{mc:$,pc:F,pbc:H,o:{insert:de,querySelector:ke,createText:Ne,createComment:xe}}=I,Fe=kN(n.props);let{shapeFlag:rt,children:ne,dynamicChildren:vt}=n;if(t==null){const Ue=n.el=Ne(""),We=n.anchor=Ne("");de(Ue,r,u),de(We,r,u);const J=n.target=oJ(n.props,ke),Te=n.targetAnchor=Ne("");J&&(de(Te,J),w=w||Nne(J));const st=(wt,je)=>{rt&16&&$(ne,wt,je,f,d,w,x,T)};Fe?st(r,We):J&&st(J,Te)}else{n.el=t.el;const Ue=n.anchor=t.anchor,We=n.target=t.target,J=n.targetAnchor=t.targetAnchor,Te=kN(t.props),st=Te?r:We,wt=Te?Ue:J;if(w=w||Nne(We),vt?(H(t.dynamicChildren,vt,st,f,d,w,x),fQ(t,n,!0)):T||F(t,n,st,wt,f,d,w,x,!1),Fe)Te||K8(n,r,Ue,I,1);else if((n.props&&n.props.to)!==(t.props&&t.props.to)){const je=n.target=oJ(n.props,ke);je&&K8(n,je,null,I,0)}else Te&&K8(n,We,J,I,1)}Bre(n)},remove(t,n,r,u,{um:f,o:{remove:d}},w){const{shapeFlag:x,children:T,anchor:I,targetAnchor:$,target:F,props:H}=t;if(F&&d($),(w||!kN(H))&&(d(I),x&16))for(let de=0;de<T.length;de++){const ke=T[de];f(ke,n,r,!0,!!ke.dynamicChildren)}},move:K8,hydrate:Lfe};function K8(t,n,r,{o:{insert:u},m:f},d=2){d===0&&u(t.targetAnchor,n,r);const{el:w,anchor:x,shapeFlag:T,children:I,props:$}=t,F=d===2;if(F&&u(w,n,r),(!F||kN($))&&T&16)for(let H=0;H<I.length;H++)f(I[H],n,r,2);F&&u(x,n,r)}function Lfe(t,n,r,u,f,d,{o:{nextSibling:w,parentNode:x,querySelector:T}},I){const $=n.target=oJ(n.props,T);if($){const F=$._lpa||$.firstChild;if(n.shapeFlag&16)if(kN(n.props))n.anchor=I(w(t),n,x(t),r,u,f,d),n.targetAnchor=F;else{n.anchor=w(t);let H=F;for(;H;)if(H=w(H),H&&H.nodeType===8&&H.data==="teleport anchor"){n.targetAnchor=H,$._lpa=n.targetAnchor&&w(n.targetAnchor);break}I(F,n,$,r,u,f,d)}Bre(n)}return n.anchor&&w(n.anchor)}const Ffe=Nfe;function Bre(t){const n=t.ctx;if(n&&n.ut){let r=t.children[0].el;for(;r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}const Xn=Symbol(void 0),QV=Symbol(void 0),zm=Symbol(void 0),iV=Symbol(void 0),CN=[];let ng=null;function be(t=!1){CN.push(ng=t?null:[])}function Bfe(){CN.pop(),ng=CN[CN.length-1]||null}let UN=1;function Lne(t){UN+=t}function $re(t){return t.dynamicChildren=UN>0?ng||_A:null,Bfe(),UN>0&&ng&&ng.push(t),t}function Le(t,n,r,u,f,d){return $re(yt(t,n,r,u,f,d,!0))}function Mn(t,n,r,u,f){return $re(Gn(t,n,r,u,f,!0))}function yV(t){return t?t.__v_isVNode===!0:!1}function XS(t,n){return t.type===n.type&&t.key===n.key}const e7="__vInternal",Vre=({key:t})=>t!=null?t:null,lV=({ref:t,ref_key:n,ref_for:r})=>t!=null?pl(t)||pr(t)||fs(t)?{i:lu,r:t,k:n,f:!!r}:t:null;function yt(t,n=null,r=null,u=0,f=null,d=t===Xn?0:1,w=!1,x=!1){const T={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&Vre(n),ref:n&&lV(n),scopeId:YV,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:u,dynamicProps:f,dynamicChildren:null,appContext:null,ctx:lu};return x?(hQ(T,r),d&128&&t.normalize(T)):r&&(T.shapeFlag|=pl(r)?8:16),UN>0&&!w&&ng&&(T.patchFlag>0||d&6)&&T.patchFlag!==32&&ng.push(T),T}const Gn=$fe;function $fe(t,n=null,r=null,u=0,f=null,d=!1){if((!t||t===Ire)&&(t=zm),yV(t)){const x=R0(t,n,!0);return r&&hQ(x,r),UN>0&&!d&&ng&&(x.shapeFlag&6?ng[ng.indexOf(t)]=x:ng.push(x)),x.patchFlag|=-2,x}if(Yfe(t)&&(t=t.__vccOpts),n){n=Vfe(n);let{class:x,style:T}=n;x&&!pl(x)&&(n.class=cn(x)),ni(T)&&(cre(T)&&!Ko(T)&&(T=Ic({},T)),n.style=xr(T))}const w=pl(t)?1:lfe(t)?128:zfe(t)?64:ni(t)?4:fs(t)?2:0;return yt(t,n,r,u,f,w,d,!0)}function Vfe(t){return t?cre(t)||e7 in t?Ic({},t):t:null}function R0(t,n,r=!1){const{props:u,ref:f,patchFlag:d,children:w}=t,x=n?hr(u||{},n):u;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:x,key:x&&Vre(x),ref:n&&n.ref?r&&f?Ko(f)?f.concat(lV(n)):[f,lV(n)]:lV(n):f,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:w,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==Xn?d===-1?16:d|16:d,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&R0(t.ssContent),ssFallback:t.ssFallback&&R0(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function Wu(t=" ",n=0){return Gn(QV,null,t,n)}function tRe(t,n){const r=Gn(iV,null,t);return r.staticCount=n,r}function Wt(t="",n=!1){return n?(be(),Mn(zm,null,t)):Gn(zm,null,t)}function Hy(t){return t==null||typeof t=="boolean"?Gn(zm):Ko(t)?Gn(Xn,null,t.slice()):typeof t=="object"?l0(t):Gn(QV,null,String(t))}function l0(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:R0(t)}function hQ(t,n){let r=0;const{shapeFlag:u}=t;if(n==null)n=null;else if(Ko(n))r=16;else if(typeof n=="object")if(u&65){const f=n.default;f&&(f._c&&(f._d=!1),hQ(t,f()),f._c&&(f._d=!0));return}else{r=32;const f=n._;!f&&!(e7 in n)?n._ctx=lu:f===3&&lu&&(lu.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else fs(n)?(n={default:n,_ctx:lu},r=32):(n=String(n),u&64?(r=16,n=[Wu(n)]):r=8);t.children=n,t.shapeFlag|=r}function hr(...t){const n={};for(let r=0;r<t.length;r++){const u=t[r];for(const f in u)if(f==="class")n.class!==u.class&&(n.class=cn([n.class,u.class]));else if(f==="style")n.style=xr([n.style,u.style]);else if(UV(f)){const d=n[f],w=u[f];w&&d!==w&&!(Ko(d)&&d.includes(w))&&(n[f]=d?[].concat(d,w):w)}else f!==""&&(n[f]=u[f])}return n}function Vy(t,n,r,u=null){Pm(t,n,7,[r,u])}const Hfe=Fre();let Ufe=0;function jfe(t,n,r){const u=t.type,f=(n?n.appContext:t.appContext)||Hfe,d={uid:Ufe++,vnode:t,type:u,parent:n,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,scope:new Yse(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(f.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pre(u,f),emitsOptions:vre(u,f),emit:null,emitted:null,propsDefaults:ti,inheritAttrs:u.inheritAttrs,ctx:ti,data:ti,props:ti,attrs:ti,slots:ti,refs:ti,setupState:ti,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=n?n.root:d,d.emit=ofe.bind(null,d),t.ce&&t.ce(d),d}let Ac=null;const _1=()=>Ac||lu,IA=t=>{Ac=t,t.scope.on()},ox=()=>{Ac&&Ac.scope.off(),Ac=null};function Hre(t){return t.vnode.shapeFlag&4}let jN=!1;function Wfe(t,n=!1){jN=n;const{props:r,children:u}=t.vnode,f=Hre(t);xfe(t,r,f,n),Rfe(t,u);const d=f?Zfe(t,n):void 0;return jN=!1,d}function Zfe(t,n){const r=t.type;t.accessCache=Object.create(null),t.proxy=T0(new Proxy(t.ctx,vfe));const{setup:u}=r;if(u){const f=t.setupContext=u.length>1?qfe(t):null;IA(t),jA();const d=y0(u,t,0,[t.props,f]);if(WA(),ox(),Gse(d)){if(d.then(ox,ox),n)return d.then(w=>{Fne(t,w,n)}).catch(w=>{qV(w,t,0)});t.asyncDep=d}else Fne(t,d,n)}else Ure(t,n)}function Fne(t,n,r){fs(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:ni(n)&&(t.setupState=hre(n)),Ure(t,r)}let Bne;function Ure(t,n,r){const u=t.type;if(!t.render){if(!n&&Bne&&!u.render){const f=u.template||uQ(t).template;if(f){const{isCustomElement:d,compilerOptions:w}=t.appContext.config,{delimiters:x,compilerOptions:T}=u,I=Ic(Ic({isCustomElement:d,delimiters:x},w),T);u.render=Bne(f,I)}}t.render=u.render||sg}IA(t),jA(),wfe(t),WA(),ox()}function Gfe(t){return new Proxy(t.attrs,{get(n,r){return Oh(t,"get","$attrs"),n[r]}})}function qfe(t){const n=u=>{t.exposed=u||{}};let r;return{get attrs(){return r||(r=Gfe(t))},slots:t.slots,emit:t.emit,expose:n}}function t7(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(hre(T0(t.exposed)),{get(n,r){if(r in n)return n[r];if(r in _N)return _N[r](t)},has(n,r){return r in n||r in _N}}))}function Kfe(t,n=!0){return fs(t)?t.displayName||t.name:t.name||n&&t.__name}function Yfe(t){return fs(t)&&"__vccOpts"in t}const To=(t,n)=>Xde(t,n,jN);function Dh(t,n,r){const u=arguments.length;return u===2?ni(n)&&!Ko(n)?yV(n)?Gn(t,null,[n]):Gn(t,n):Gn(t,null,n):(u>3?r=Array.prototype.slice.call(arguments,2):u===3&&yV(r)&&(r=[r]),Gn(t,n,r))}const Xfe=Symbol(""),Jfe=()=>cu(Xfe),Qfe="3.2.45",ehe="http://www.w3.org/2000/svg",JS=typeof document<"u"?document:null,$ne=JS&&JS.createElement("template"),the={insert:(t,n,r)=>{n.insertBefore(t,r||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,r,u)=>{const f=n?JS.createElementNS(ehe,t):JS.createElement(t,r?{is:r}:void 0);return t==="select"&&u&&u.multiple!=null&&f.setAttribute("multiple",u.multiple),f},createText:t=>JS.createTextNode(t),createComment:t=>JS.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>JS.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,r,u,f,d){const w=r?r.previousSibling:n.lastChild;if(f&&(f===d||f.nextSibling))for(;n.insertBefore(f.cloneNode(!0),r),!(f===d||!(f=f.nextSibling)););else{$ne.innerHTML=u?`<svg>${t}</svg>`:t;const x=$ne.content;if(u){const T=x.firstChild;for(;T.firstChild;)x.appendChild(T.firstChild);x.removeChild(T)}n.insertBefore(x,r)}return[w?w.nextSibling:n.firstChild,r?r.previousSibling:n.lastChild]}};function nhe(t,n,r){const u=t._vtc;u&&(n=(n?[n,...u]:[...u]).join(" ")),n==null?t.removeAttribute("class"):r?t.setAttribute("class",n):t.className=n}function ohe(t,n,r){const u=t.style,f=pl(r);if(r&&!f){for(const d in r)sJ(u,d,r[d]);if(n&&!pl(n))for(const d in n)r[d]==null&&sJ(u,d,"")}else{const d=u.display;f?n!==r&&(u.cssText=r):n&&t.removeAttribute("style"),"_vod"in t&&(u.display=d)}}const Vne=/\s*!important$/;function sJ(t,n,r){if(Ko(r))r.forEach(u=>sJ(t,n,u));else if(r==null&&(r=""),n.startsWith("--"))t.setProperty(n,r);else{const u=she(t,n);Vne.test(r)?t.setProperty(gx(u),r.replace(Vne,""),"important"):t[u]=r}}const Hne=["Webkit","Moz","ms"],kX={};function she(t,n){const r=kX[n];if(r)return r;let u=Gy(n);if(u!=="filter"&&u in t)return kX[n]=u;u=ZV(u);for(let f=0;f<Hne.length;f++){const d=Hne[f]+u;if(d in t)return kX[n]=d}return n}const Une="http://www.w3.org/1999/xlink";function rhe(t,n,r,u,f){if(u&&n.startsWith("xlink:"))r==null?t.removeAttributeNS(Une,n.slice(6,n.length)):t.setAttributeNS(Une,n,r);else{const d=cde(n);r==null||d&&!jse(r)?t.removeAttribute(n):t.setAttribute(n,d?"":r)}}function ahe(t,n,r,u,f,d,w){if(n==="innerHTML"||n==="textContent"){u&&w(u,f,d),t[n]=r==null?"":r;return}if(n==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=r;const T=r==null?"":r;(t.value!==T||t.tagName==="OPTION")&&(t.value=T),r==null&&t.removeAttribute(n);return}let x=!1;if(r===""||r==null){const T=typeof t[n];T==="boolean"?r=jse(r):r==null&&T==="string"?(r="",x=!0):T==="number"&&(r=0,x=!0)}try{t[n]=r}catch{}x&&t.removeAttribute(n)}function ihe(t,n,r,u){t.addEventListener(n,r,u)}function lhe(t,n,r,u){t.removeEventListener(n,r,u)}function che(t,n,r,u,f=null){const d=t._vei||(t._vei={}),w=d[n];if(u&&w)w.value=u;else{const[x,T]=uhe(n);if(u){const I=d[n]=hhe(u,f);ihe(t,x,I,T)}else w&&(lhe(t,x,w,T),d[n]=void 0)}}const jne=/(?:Once|Passive|Capture)$/;function uhe(t){let n;if(jne.test(t)){n={};let u;for(;u=t.match(jne);)t=t.slice(0,t.length-u[0].length),n[u[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):gx(t.slice(2)),n]}let CX=0;const dhe=Promise.resolve(),fhe=()=>CX||(dhe.then(()=>CX=0),CX=Date.now());function hhe(t,n){const r=u=>{if(!u._vts)u._vts=Date.now();else if(u._vts<=r.attached)return;Pm(mhe(u,r.value),n,5,[u])};return r.value=t,r.attached=fhe(),r}function mhe(t,n){if(Ko(n)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},n.map(u=>f=>!f._stopped&&u&&u(f))}else return n}const Wne=/^on[a-z]/,phe=(t,n,r,u,f=!1,d,w,x,T)=>{n==="class"?nhe(t,u,f):n==="style"?ohe(t,r,u):UV(n)?WJ(n)||che(t,n,r,u,w):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):ghe(t,n,u,f))?ahe(t,n,u,d,w,x,T):(n==="true-value"?t._trueValue=u:n==="false-value"&&(t._falseValue=u),rhe(t,n,u,f))};function ghe(t,n,r,u){return u?!!(n==="innerHTML"||n==="textContent"||n in t&&Wne.test(n)&&fs(r)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA"||Wne.test(n)&&pl(r)?!1:n in t}const n0="transition",uN="animation",Lm=(t,{slots:n})=>Dh(kre,Wre(t),n);Lm.displayName="Transition";const jre={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},yhe=Lm.props=Ic({},kre.props,jre),US=(t,n=[])=>{Ko(t)?t.forEach(r=>r(...n)):t&&t(...n)},Zne=t=>t?Ko(t)?t.some(n=>n.length>1):t.length>1:!1;function Wre(t){const n={};for(const ue in t)ue in jre||(n[ue]=t[ue]);if(t.css===!1)return n;const{name:r="v",type:u,duration:f,enterFromClass:d=`${r}-enter-from`,enterActiveClass:w=`${r}-enter-active`,enterToClass:x=`${r}-enter-to`,appearFromClass:T=d,appearActiveClass:I=w,appearToClass:$=x,leaveFromClass:F=`${r}-leave-from`,leaveActiveClass:H=`${r}-leave-active`,leaveToClass:de=`${r}-leave-to`}=t,ke=bhe(f),Ne=ke&&ke[0],xe=ke&&ke[1],{onBeforeEnter:Fe,onEnter:rt,onEnterCancelled:ne,onLeave:vt,onLeaveCancelled:Ue,onBeforeAppear:We=Fe,onAppear:J=rt,onAppearCancelled:Te=ne}=n,st=(ue,Rn,ln)=>{r0(ue,Rn?$:x),r0(ue,Rn?I:w),ln&&ln()},wt=(ue,Rn)=>{ue._isLeaving=!1,r0(ue,F),r0(ue,de),r0(ue,H),Rn&&Rn()},je=ue=>(Rn,ln)=>{const It=ue?J:rt,L=()=>st(Rn,ue,ln);US(It,[Rn,L]),Gne(()=>{r0(Rn,ue?T:d),i1(Rn,ue?$:x),Zne(It)||qne(Rn,u,Ne,L)})};return Ic(n,{onBeforeEnter(ue){US(Fe,[ue]),i1(ue,d),i1(ue,w)},onBeforeAppear(ue){US(We,[ue]),i1(ue,T),i1(ue,I)},onEnter:je(!1),onAppear:je(!0),onLeave(ue,Rn){ue._isLeaving=!0;const ln=()=>wt(ue,Rn);i1(ue,F),Gre(),i1(ue,H),Gne(()=>{!ue._isLeaving||(r0(ue,F),i1(ue,de),Zne(vt)||qne(ue,u,xe,ln))}),US(vt,[ue,ln])},onEnterCancelled(ue){st(ue,!1),US(ne,[ue])},onAppearCancelled(ue){st(ue,!0),US(Te,[ue])},onLeaveCancelled(ue){wt(ue),US(Ue,[ue])}})}function bhe(t){if(t==null)return null;if(ni(t))return[SX(t.enter),SX(t.leave)];{const n=SX(t);return[n,n]}}function SX(t){return KJ(t)}function i1(t,n){n.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t._vtc||(t._vtc=new Set)).add(n)}function r0(t,n){n.split(/\s+/).forEach(u=>u&&t.classList.remove(u));const{_vtc:r}=t;r&&(r.delete(n),r.size||(t._vtc=void 0))}function Gne(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let vhe=0;function qne(t,n,r,u){const f=t._endId=++vhe,d=()=>{f===t._endId&&u()};if(r)return setTimeout(d,r);const{type:w,timeout:x,propCount:T}=Zre(t,n);if(!w)return u();const I=w+"end";let $=0;const F=()=>{t.removeEventListener(I,H),d()},H=de=>{de.target===t&&++$>=T&&F()};setTimeout(()=>{$<T&&F()},x+1),t.addEventListener(I,H)}function Zre(t,n){const r=window.getComputedStyle(t),u=ke=>(r[ke]||"").split(", "),f=u(`${n0}Delay`),d=u(`${n0}Duration`),w=Kne(f,d),x=u(`${uN}Delay`),T=u(`${uN}Duration`),I=Kne(x,T);let $=null,F=0,H=0;n===n0?w>0&&($=n0,F=w,H=d.length):n===uN?I>0&&($=uN,F=I,H=T.length):(F=Math.max(w,I),$=F>0?w>I?n0:uN:null,H=$?$===n0?d.length:T.length:0);const de=$===n0&&/\b(transform|all)(,|$)/.test(u(`${n0}Property`).toString());return{type:$,timeout:F,propCount:H,hasTransform:de}}function Kne(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((r,u)=>Yne(r)+Yne(t[u])))}function Yne(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function Gre(){return document.body.offsetHeight}const qre=new WeakMap,Kre=new WeakMap,whe={name:"TransitionGroup",props:Ic({},yhe,{tag:String,moveClass:String}),setup(t,{slots:n}){const r=_1(),u=_re();let f,d;return Rre(()=>{if(!f.length)return;const w=t.moveClass||`${t.name||"v"}-move`;if(!xhe(f[0].el,r.vnode.el,w))return;f.forEach(khe),f.forEach(Che);const x=f.filter(She);Gre(),x.forEach(T=>{const I=T.el,$=I.style;i1(I,w),$.transform=$.webkitTransform=$.transitionDuration="";const F=I._moveCb=H=>{H&&H.target!==I||(!H||/transform$/.test(H.propertyName))&&(I.removeEventListener("transitionend",F),I._moveCb=null,r0(I,w))};I.addEventListener("transitionend",F)})}),()=>{const w=rr(t),x=Wre(w);let T=w.tag||Xn;f=d,d=n.default?iQ(n.default()):[];for(let I=0;I<d.length;I++){const $=d[I];$.key!=null&&HN($,VN($,x,u,r))}if(f)for(let I=0;I<f.length;I++){const $=f[I];HN($,VN($,x,u,r)),qre.set($,$.el.getBoundingClientRect())}return Gn(T,null,d)}}},_he=whe;function khe(t){const n=t.el;n._moveCb&&n._moveCb(),n._enterCb&&n._enterCb()}function Che(t){Kre.set(t,t.el.getBoundingClientRect())}function She(t){const n=qre.get(t),r=Kre.get(t),u=n.left-r.left,f=n.top-r.top;if(u||f){const d=t.el.style;return d.transform=d.webkitTransform=`translate(${u}px,${f}px)`,d.transitionDuration="0s",t}}function xhe(t,n,r){const u=t.cloneNode();t._vtc&&t._vtc.forEach(w=>{w.split(/\s+/).forEach(x=>x&&u.classList.remove(x))}),r.split(/\s+/).forEach(w=>w&&u.classList.add(w)),u.style.display="none";const f=n.nodeType===1?n:n.parentNode;f.appendChild(u);const{hasTransform:d}=Zre(u);return f.removeChild(u),d}const Ehe=["ctrl","shift","alt","meta"],The={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>Ehe.some(r=>t[`${r}Key`]&&!n.includes(r))},mQ=(t,n)=>(r,...u)=>{for(let f=0;f<n.length;f++){const d=The[n[f]];if(d&&d(r,n))return}return t(r,...u)},Rhe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},sx=(t,n)=>r=>{if(!("key"in r))return;const u=gx(r.key);if(n.some(f=>f===u||Rhe[f]===u))return t(r)},pQ={beforeMount(t,{value:n},{transition:r}){t._vod=t.style.display==="none"?"":t.style.display,r&&n?r.beforeEnter(t):dN(t,n)},mounted(t,{value:n},{transition:r}){r&&n&&r.enter(t)},updated(t,{value:n,oldValue:r},{transition:u}){!n!=!r&&(u?n?(u.beforeEnter(t),dN(t,!0),u.enter(t)):u.leave(t,()=>{dN(t,!1)}):dN(t,n))},beforeUnmount(t,{value:n}){dN(t,n)}};function dN(t,n){t.style.display=n?t._vod:"none"}const Ahe=Ic({patchProp:phe},the);let Xne;function Ihe(){return Xne||(Xne=Dfe(Ahe))}const Ohe=(...t)=>{const n=Ihe().createApp(...t),{mount:r}=n;return n.mount=u=>{const f=Dhe(u);if(!f)return;const d=n._component;!fs(d)&&!d.render&&!d.template&&(d.template=f.innerHTML),f.innerHTML="";const w=r(f,!1,f instanceof SVGElement);return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),w},n};function Dhe(t){return pl(t)?document.querySelector(t):t}var Mhe=!1;/*!
  * pinia v2.0.27
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let Yre;const n7=t=>Yre=t,Xre=Symbol();function rJ(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var SN;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(SN||(SN={}));function Phe(){const t=Xse(!0),n=t.run(()=>ws({}));let r=[],u=[];const f=T0({install(d){n7(f),f._a=d,d.provide(Xre,f),d.config.globalProperties.$pinia=f,u.forEach(w=>r.push(w)),u=[]},use(d){return!this._a&&!Mhe?u.push(d):r.push(d),this},_p:r,_a:null,_e:t,_s:new Map,state:n});return f}const Jre=()=>{};function Jne(t,n,r,u=Jre){t.push(n);const f=()=>{const d=t.indexOf(n);d>-1&&(t.splice(d,1),u())};return!r&&bde()&&vde(f),f}function pA(t,...n){t.slice().forEach(r=>{r(...n)})}function aJ(t,n){t instanceof Map&&n instanceof Map&&n.forEach((r,u)=>t.set(u,r)),t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const r in n){if(!n.hasOwnProperty(r))continue;const u=n[r],f=t[r];rJ(f)&&rJ(u)&&t.hasOwnProperty(r)&&!pr(u)&&!h1(u)?t[r]=aJ(f,u):t[r]=u}return t}const zhe=Symbol();function Nhe(t){return!rJ(t)||!t.hasOwnProperty(zhe)}const{assign:c0}=Object;function Lhe(t){return!!(pr(t)&&t.effect)}function Fhe(t,n,r,u){const{state:f,actions:d,getters:w}=n,x=r.state.value[t];let T;function I(){x||(r.state.value[t]=f?f():{});const $=FN(r.state.value[t]);return c0($,d,Object.keys(w||{}).reduce((F,H)=>(F[H]=T0(To(()=>{n7(r);const de=r._s.get(t);return w[H].call(de,de)})),F),{}))}return T=Qre(t,I,n,r,u,!0),T.$reset=function(){const F=f?f():{};this.$patch(H=>{c0(H,F)})},T}function Qre(t,n,r={},u,f,d){let w;const x=c0({actions:{}},r),T={deep:!0};let I,$,F=T0([]),H=T0([]),de;const ke=u.state.value[t];!d&&!ke&&(u.state.value[t]={}),ws({});let Ne;function xe(J){let Te;I=$=!1,typeof J=="function"?(J(u.state.value[t]),Te={type:SN.patchFunction,storeId:t,events:de}):(aJ(u.state.value[t],J),Te={type:SN.patchObject,payload:J,storeId:t,events:de});const st=Ne=Symbol();$d().then(()=>{Ne===st&&(I=!0)}),$=!0,pA(F,Te,u.state.value[t])}const Fe=Jre;function rt(){w.stop(),F=[],H=[],u._s.delete(t)}function ne(J,Te){return function(){n7(u);const st=Array.from(arguments),wt=[],je=[];function ue(It){wt.push(It)}function Rn(It){je.push(It)}pA(H,{args:st,name:J,store:Ue,after:ue,onError:Rn});let ln;try{ln=Te.apply(this&&this.$id===t?this:Ue,st)}catch(It){throw pA(je,It),It}return ln instanceof Promise?ln.then(It=>(pA(wt,It),It)).catch(It=>(pA(je,It),Promise.reject(It))):(pA(wt,ln),ln)}}const vt={_p:u,$id:t,$onAction:Jne.bind(null,H),$patch:xe,$reset:Fe,$subscribe(J,Te={}){const st=Jne(F,J,Te.detached,()=>wt()),wt=w.run(()=>Ps(()=>u.state.value[t],je=>{(Te.flush==="sync"?$:I)&&J({storeId:t,type:SN.direct,events:de},je)},c0({},T,Te)));return st},$dispose:rt},Ue=Gu(vt);u._s.set(t,Ue);const We=u._e.run(()=>(w=Xse(),w.run(()=>n())));for(const J in We){const Te=We[J];if(pr(Te)&&!Lhe(Te)||h1(Te))d||(ke&&Nhe(Te)&&(pr(Te)?Te.value=ke[J]:aJ(Te,ke[J])),u.state.value[t][J]=Te);else if(typeof Te=="function"){const st=ne(J,Te);We[J]=st,x.actions[J]=Te}}return c0(Ue,We),c0(rr(Ue),We),Object.defineProperty(Ue,"$state",{get:()=>u.state.value[t],set:J=>{xe(Te=>{c0(Te,J)})}}),u._p.forEach(J=>{c0(Ue,w.run(()=>J({store:Ue,app:u._a,pinia:u,options:x})))}),ke&&d&&r.hydrate&&r.hydrate(Ue.$state,ke),I=!0,$=!0,Ue}function Bhe(t,n,r){let u,f;const d=typeof n=="function";typeof t=="string"?(u=t,f=d?r:n):(f=t,u=t.id);function w(x,T){const I=_1();return x=x||I&&cu(Xre),x&&n7(x),x=Yre,x._s.has(u)||(d?Qre(u,n,f,x):Fhe(u,f,x)),x._s.get(u)}return w.$id=u,w}function $he(t){{t=rr(t);const n={};for(const r in t){const u=t[r];(pr(u)||h1(u))&&(n[r]=Ol(t,r))}return n}}var tt={innerWidth(t){if(t){let n=t.offsetWidth,r=getComputedStyle(t);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width(t){if(t){let n=t.offsetWidth,r=getComputedStyle(t);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)},getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)},getOuterWidth(t,n){if(t){let r=t.offsetWidth;if(n){let u=getComputedStyle(t);r+=parseFloat(u.marginLeft)+parseFloat(u.marginRight)}return r}return 0},getOuterHeight(t,n){if(t){let r=t.offsetHeight;if(n){let u=getComputedStyle(t);r+=parseFloat(u.marginTop)+parseFloat(u.marginBottom)}return r}return 0},getClientHeight(t,n){if(t){let r=t.clientHeight;if(n){let u=getComputedStyle(t);r+=parseFloat(u.marginTop)+parseFloat(u.marginBottom)}return r}return 0},getViewport(){let t=window,n=document,r=n.documentElement,u=n.getElementsByTagName("body")[0],f=t.innerWidth||r.clientWidth||u.clientWidth,d=t.innerHeight||r.clientHeight||u.clientHeight;return{width:f,height:d}},getOffset(t){if(t){let n=t.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index(t){if(t){let n=t.parentNode.childNodes,r=0;for(let u=0;u<n.length;u++){if(n[u]===t)return r;n[u].nodeType===1&&r++}}return-1},addMultipleClasses(t,n){if(t&&n)if(t.classList){let r=n.split(" ");for(let u=0;u<r.length;u++)t.classList.add(r[u])}else{let r=n.split(" ");for(let u=0;u<r.length;u++)t.className+=" "+r[u]}},addClass(t,n){t&&n&&(t.classList?t.classList.add(n):t.className+=" "+n)},removeClass(t,n){t&&n&&(t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass(t,n){return t?t.classList?t.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(t.className):!1},find(t,n){return this.isElement(t)?t.querySelectorAll(n):[]},findSingle(t,n){return this.isElement(t)?t.querySelector(n):null},getHeight(t){if(t){let n=t.offsetHeight,r=getComputedStyle(t);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth(t){if(t){let n=t.offsetWidth,r=getComputedStyle(t);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition(t,n){if(t){let r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),u=r.height,f=r.width,d=n.offsetHeight,w=n.offsetWidth,x=n.getBoundingClientRect(),T=this.getWindowScrollTop(),I=this.getWindowScrollLeft(),$=this.getViewport(),F,H;x.top+d+u>$.height?(F=x.top+T-u,t.style.transformOrigin="bottom",F<0&&(F=T)):(F=d+x.top+T,t.style.transformOrigin="top"),x.left+f>$.width?H=Math.max(0,x.left+I+w-f):H=x.left+I,t.style.top=F+"px",t.style.left=H+"px"}},relativePosition(t,n){if(t){let r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const u=n.offsetHeight,f=n.getBoundingClientRect(),d=this.getViewport();let w,x;f.top+u+r.height>d.height?(w=-1*r.height,t.style.transformOrigin="bottom",f.top+w<0&&(w=-1*f.top)):(w=u,t.style.transformOrigin="top"),r.width>d.width?x=f.left*-1:f.left+r.width>d.width?x=(f.left+r.width-d.width)*-1:x=0,t.style.top=w+"px",t.style.left=x+"px"}},getParents(t,n=[]){return t.parentNode===null?n:this.getParents(t.parentNode,n.concat([t.parentNode]))},getScrollableParents(t){let n=[];if(t){let r=this.getParents(t);const u=/(auto|scroll)/,f=d=>{let w=window.getComputedStyle(d,null);return u.test(w.getPropertyValue("overflow"))||u.test(w.getPropertyValue("overflowX"))||u.test(w.getPropertyValue("overflowY"))};for(let d of r){let w=d.nodeType===1&&d.dataset.scrollselectors;if(w){let x=w.split(",");for(let T of x){let I=this.findSingle(d,T);I&&f(I)&&n.push(I)}}d.nodeType!==9&&f(d)&&n.push(d)}}return n},getHiddenElementOuterHeight(t){if(t){t.style.visibility="hidden",t.style.display="block";let n=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",n}return 0},getHiddenElementOuterWidth(t){if(t){t.style.visibility="hidden",t.style.display="block";let n=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",n}return 0},getHiddenElementDimensions(t){if(t){let n={};return t.style.visibility="hidden",t.style.display="block",n.width=t.offsetWidth,n.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",n}return 0},fadeIn(t,n){if(t){t.style.opacity=0;let r=+new Date,u=0,f=function(){u=+t.style.opacity+(new Date().getTime()-r)/n,t.style.opacity=u,r=+new Date,+u<1&&(window.requestAnimationFrame&&requestAnimationFrame(f)||setTimeout(f,16))};f()}},fadeOut(t,n){if(t){let r=1,u=50,f=n,d=u/f,w=setInterval(()=>{r-=d,r<=0&&(r=0,clearInterval(w)),t.style.opacity=r},u)}},getUserAgent(){return navigator.userAgent},appendChild(t,n){if(this.isElement(n))n.appendChild(t);else if(n.el&&n.elElement)n.elElement.appendChild(t);else throw new Error("Cannot append "+n+" to "+t)},isElement(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"},scrollInView(t,n){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),u=r?parseFloat(r):0,f=getComputedStyle(t).getPropertyValue("paddingTop"),d=f?parseFloat(f):0,w=t.getBoundingClientRect(),T=n.getBoundingClientRect().top+document.body.scrollTop-(w.top+document.body.scrollTop)-u-d,I=t.scrollTop,$=t.clientHeight,F=this.getOuterHeight(n);T<0?t.scrollTop=I+T:T+F>$&&(t.scrollTop=I+T-$+F)},clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let n=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=n,n},getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(t)||/(webkit)[ ]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible(t){return t&&t.offsetParent!=null},invokeElementMethod(t,n,r){t[n].apply(t,r)},isExist(t){return!!(t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode)},isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus(t,n){t&&document.activeElement!==t&&t.focus(n)},isFocusableElement(t,n=""){return this.isElement(t)?t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n}`):!1},getFocusableElements(t,n=""){let r=this.find(t,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n}`),u=[];for(let f of r)getComputedStyle(f).display!="none"&&getComputedStyle(f).visibility!="hidden"&&u.push(f);return u},getFirstFocusableElement(t,n){const r=this.getFocusableElements(t,n);return r.length>0?r[0]:null},getLastFocusableElement(t,n){const r=this.getFocusableElements(t,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement(t,n,r){const u=this.getFocusableElements(t,r),f=u.length>0?u.findIndex(w=>w===n):-1,d=f>-1&&u.length>=f+1?f+1:-1;return d>-1?u[d]:null},isClickable(t){if(t){const n=t.nodeName,r=t.parentElement&&t.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!t.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle(t,n){if(typeof n=="string")t.style.cssText=n;else for(let r in n)t.style[r]=n[r]},isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid(){return/(android)/i.test(navigator.userAgent)},isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},exportCSV(t,n){let r=new Blob([t],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{let u=document.createElement("a");u.download!==void 0?(u.setAttribute("href",URL.createObjectURL(r)),u.setAttribute("download",n+".csv"),u.style.display="none",document.body.appendChild(u),u.click(),document.body.removeChild(u)):(t="data:text/csv;charset=utf-8,"+t,window.open(encodeURI(t)))}}};class o7{constructor(n,r=()=>{}){this.element=n,this.listener=r}bindScrollListener(){this.scrollableParents=tt.getScrollableParents(this.element);for(let n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}function eae(){const t=new Map;return{on(n,r){let u=t.get(n);u?u.push(r):u=[r],t.set(n,u)},off(n,r){let u=t.get(n);u&&u.splice(u.indexOf(r)>>>0,1)},emit(n,r){let u=t.get(n);u&&u.slice().map(f=>{f(r)})}}}var In={equals(t,n,r){return r?this.resolveFieldData(t,r)===this.resolveFieldData(n,r):this.deepEquals(t,n)},deepEquals(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){var r=Array.isArray(t),u=Array.isArray(n),f,d,w;if(r&&u){if(d=t.length,d!=n.length)return!1;for(f=d;f--!==0;)if(!this.deepEquals(t[f],n[f]))return!1;return!0}if(r!=u)return!1;var x=t instanceof Date,T=n instanceof Date;if(x!=T)return!1;if(x&&T)return t.getTime()==n.getTime();var I=t instanceof RegExp,$=n instanceof RegExp;if(I!=$)return!1;if(I&&$)return t.toString()==n.toString();var F=Object.keys(t);if(d=F.length,d!==Object.keys(n).length)return!1;for(f=d;f--!==0;)if(!Object.prototype.hasOwnProperty.call(n,F[f]))return!1;for(f=d;f--!==0;)if(w=F[f],!this.deepEquals(t[w],n[w]))return!1;return!0}return t!==t&&n!==n},resolveFieldData(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(n.indexOf(".")===-1)return t[n];{let f=n.split("."),d=t;for(var r=0,u=f.length;r<u;++r){if(d==null)return null;d=d[f[r]]}return d}}else return null},isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},getItemValue(t,...n){return this.isFunction(t)?t(...n):t},filter(t,n,r){var u=[];if(t){for(let f of t)for(let d of n)if(String(this.resolveFieldData(f,d)).toLowerCase().indexOf(r.toLowerCase())>-1){u.push(f);break}}return u},reorderArray(t,n,r){t&&n!==r&&(r>=t.length&&(r%=t.length,n%=t.length),t.splice(r,0,t.splice(n,1)[0]))},findIndexInList(t,n){let r=-1;if(n){for(let u=0;u<n.length;u++)if(n[u]===t){r=u;break}}return r},contains(t,n){if(t!=null&&n&&n.length){for(let r of n)if(this.equals(t,r))return!0}return!1},insertIntoOrderedArray(t,n,r,u){if(r.length>0){let f=!1;for(let d=0;d<r.length;d++)if(this.findIndexInList(r[d],u)>n){r.splice(d,0,t),f=!0;break}f||r.push(t)}else r.push(t)},removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t},getVNodeProp(t,n){let r=t.props;if(r){let u=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),f=Object.prototype.hasOwnProperty.call(r,u)?u:n;return t.type.props[n].type===Boolean&&r[f]===""?!0:r[f]}return null},isEmpty(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!(t instanceof Date)&&typeof t=="object"&&Object.keys(t).length===0},isNotEmpty(t){return!this.isEmpty(t)},isPrintableCharacter(t=""){return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)},findLast(t,n){let r;if(this.isNotEmpty(t))try{r=t.findLast(n)}catch{r=[...t].reverse().find(n)}return r},findLastIndex(t,n){let r=-1;if(this.isNotEmpty(t))try{r=t.findLastIndex(n)}catch{r=t.lastIndexOf([...t].reverse().find(n))}return r}},Qne=0;function Ud(t="pv_id_"){return Qne++,`${t}${Qne}`}function Vhe(){let t=[];const n=(w,x,T=999)=>{const I=f(w,x,T),$=I.value+(I.key===w?0:T)+1;return t.push({key:w,value:$}),$},r=w=>{t=t.filter(x=>x.value!==w)},u=(w,x)=>f(w,x).value,f=(w,x,T=0)=>[...t].reverse().find(I=>x?!0:I.key===w)||{key:w,value:T},d=w=>w&&parseInt(w.style.zIndex,10)||0;return{get:d,set:(w,x,T)=>{x&&(x.style.zIndex=String(n(w,!0,T)))},clear:w=>{w&&(r(d(w)),w.style.zIndex="")},getCurrent:w=>u(w,!0)}}var mi=Vhe();const Ec={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"},bV={AND:"and",OR:"or"},iJ={filter(t,n,r,u,f){let d=[];if(t)for(let w of t)for(let x of n){let T=In.resolveFieldData(w,x);if(this.filters[u](T,r,f)){d.push(w);break}}return d},filters:{startsWith(t,n,r){if(n==null||n.trim()==="")return!0;if(t==null)return!1;let u=In.removeAccents(n.toString()).toLocaleLowerCase(r);return In.removeAccents(t.toString()).toLocaleLowerCase(r).slice(0,u.length)===u},contains(t,n,r){if(n==null||typeof n=="string"&&n.trim()==="")return!0;if(t==null)return!1;let u=In.removeAccents(n.toString()).toLocaleLowerCase(r);return In.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(u)!==-1},notContains(t,n,r){if(n==null||typeof n=="string"&&n.trim()==="")return!0;if(t==null)return!1;let u=In.removeAccents(n.toString()).toLocaleLowerCase(r);return In.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(u)===-1},endsWith(t,n,r){if(n==null||n.trim()==="")return!0;if(t==null)return!1;let u=In.removeAccents(n.toString()).toLocaleLowerCase(r),f=In.removeAccents(t.toString()).toLocaleLowerCase(r);return f.indexOf(u,f.length-u.length)!==-1},equals(t,n,r){return n==null||typeof n=="string"&&n.trim()===""?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()===n.getTime():In.removeAccents(t.toString()).toLocaleLowerCase(r)==In.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals(t,n,r){return n==null||typeof n=="string"&&n.trim()===""?!1:t==null?!0:t.getTime&&n.getTime?t.getTime()!==n.getTime():In.removeAccents(t.toString()).toLocaleLowerCase(r)!=In.removeAccents(n.toString()).toLocaleLowerCase(r)},in(t,n){if(n==null||n.length===0)return!0;for(let r=0;r<n.length;r++)if(In.equals(t,n[r]))return!0;return!1},between(t,n){return n==null||n[0]==null||n[1]==null?!0:t==null?!1:t.getTime?n[0].getTime()<=t.getTime()&&t.getTime()<=n[1].getTime():n[0]<=t&&t<=n[1]},lt(t,n){return n==null?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()<n.getTime():t<n},lte(t,n){return n==null?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()<=n.getTime():t<=n},gt(t,n){return n==null?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()>n.getTime():t>n},gte(t,n){return n==null?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()>=n.getTime():t>=n},dateIs(t,n){return n==null?!0:t==null?!1:t.toDateString()===n.toDateString()},dateIsNot(t,n){return n==null?!0:t==null?!1:t.toDateString()!==n.toDateString()},dateBefore(t,n){return n==null?!0:t==null?!1:t.getTime()<n.getTime()},dateAfter(t,n){return n==null?!0:t==null?!1:t.getTime()>n.getTime()}},register(t,n){this.filters[t]=n}},eoe={ripple:!1,inputStyle:"outlined",locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}},filterMatchModeOptions:{text:[Ec.STARTS_WITH,Ec.CONTAINS,Ec.NOT_CONTAINS,Ec.ENDS_WITH,Ec.EQUALS,Ec.NOT_EQUALS],numeric:[Ec.EQUALS,Ec.NOT_EQUALS,Ec.LESS_THAN,Ec.LESS_THAN_OR_EQUAL_TO,Ec.GREATER_THAN,Ec.GREATER_THAN_OR_EQUAL_TO],date:[Ec.DATE_IS,Ec.DATE_IS_NOT,Ec.DATE_BEFORE,Ec.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100}},Hhe=Symbol();function Uhe(t,n,r,u){const f=document.getElementById(r),d=f.cloneNode(!0),w=f.getAttribute("href").replace(t,n);d.setAttribute("id",r+"-clone"),d.setAttribute("href",w),d.addEventListener("load",()=>{f.remove(),d.setAttribute("id",r),u&&u()}),f.parentNode&&f.parentNode.insertBefore(d,f.nextSibling)}var jhe={install:(t,n)=>{let r=n?{...eoe,...n}:{...eoe};const u={config:Gu(r),changeTheme:Uhe};t.config.globalProperties.$primevue=u,t.provide(Hhe,u)}},c1=eae();const tae=Symbol();function nae(){const t=cu(tae);if(!t)throw new Error("No PrimeVue Toast provided!");return t}var Whe={install:t=>{const n={add:r=>{c1.emit("add",r)},removeGroup:r=>{c1.emit("remove-group",r)},removeAllGroups:()=>{c1.emit("remove-all-groups")}};t.config.globalProperties.$toast=n,t.provide(tae,n)}};/**
  * vee-validate v4.8.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function qy(t){return typeof t=="function"}function xN(t){return t==null}const ix=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function oae(t){return Number(t)>=0}function Zhe(t){const n=parseFloat(t);return isNaN(n)?t:n}const sae={};function Ghe(t,n){Khe(t,n),sae[t]=n}function qhe(t){return sae[t]}function Khe(t,n){if(!qy(n))throw new Error(`Extension Error: The validator '${t}' must be a function.`)}const s4=Symbol("vee-validate-form"),Yhe=Symbol("vee-validate-field-instance"),vV=Symbol("Default empty value"),Xhe=typeof window<"u";function lJ(t){return qy(t)&&!!t.__locatorRef}function v0(t){return!!t&&qy(t.parse)&&t.__type==="VVTypedSchema"}function EN(t){return!!t&&qy(t.validate)}function OA(t){return t==="checkbox"||t==="radio"}function Jhe(t){return ix(t)||Array.isArray(t)}function rae(t){return Array.isArray(t)?t.length===0:ix(t)&&Object.keys(t).length===0}function s7(t){return/^\[.+\]$/i.test(t)}function Qhe(t){return aae(t)&&t.multiple}function aae(t){return t.tagName==="SELECT"}function eme(t,n){const r=![!1,null,void 0,0].includes(n.multiple)&&!Number.isNaN(n.multiple);return t==="select"&&"multiple"in n&&r}function tme(t,n){return!eme(t,n)&&n.type!=="file"&&!OA(n.type)}function iae(t){return gQ(t)&&t.target&&"submit"in t.target}function gQ(t){return t?!!(typeof Event<"u"&&qy(Event)&&t instanceof Event||t&&t.srcElement):!1}function toe(t,n){return n in t&&t[n]!==vV}function sc(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,u,f;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(u=r;u--!==0;)if(!sc(t[u],n[u]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(u of t.entries())if(!n.has(u[0]))return!1;for(u of t.entries())if(!sc(u[1],n.get(u[0])))return!1;return!0}if(noe(t)&&noe(n))return!(t.size!==n.size||t.name!==n.name||t.lastModified!==n.lastModified||t.type!==n.type);if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(u of t.entries())if(!n.has(u[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(u=r;u--!==0;)if(t[u]!==n[u])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(f=Object.keys(t),r=f.length,r!==Object.keys(n).length)return!1;for(u=r;u--!==0;)if(!Object.prototype.hasOwnProperty.call(n,f[u]))return!1;for(u=r;u--!==0;){var d=f[u];if(!sc(t[d],n[d]))return!1}return!0}return t!==t&&n!==n}function noe(t){return Xhe?t instanceof File:!1}function ooe(t,n,r){typeof r.value=="object"&&(r.value=ra(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||n==="__proto__"?Object.defineProperty(t,n,r):t[n]=r.value}function ra(t){if(typeof t!="object")return t;var n=0,r,u,f,d=Object.prototype.toString.call(t);if(d==="[object Object]"?f=Object.create(t.__proto__||null):d==="[object Array]"?f=Array(t.length):d==="[object Set]"?(f=new Set,t.forEach(function(w){f.add(ra(w))})):d==="[object Map]"?(f=new Map,t.forEach(function(w,x){f.set(ra(x),ra(w))})):d==="[object Date]"?f=new Date(+t):d==="[object RegExp]"?f=new RegExp(t.source,t.flags):d==="[object DataView]"?f=new t.constructor(ra(t.buffer)):d==="[object ArrayBuffer]"?f=t.slice(0):d.slice(-6)==="Array]"&&(f=new t.constructor(t)),f){for(u=Object.getOwnPropertySymbols(t);n<u.length;n++)ooe(f,u[n],Object.getOwnPropertyDescriptor(t,u[n]));for(n=0,u=Object.getOwnPropertyNames(t);n<u.length;n++)Object.hasOwnProperty.call(f,r=u[n])&&f[r]===t[r]||ooe(f,r,Object.getOwnPropertyDescriptor(t,r))}return f||t}function yQ(t){return s7(t)?t.replace(/\[|\]/gi,""):t}function hl(t,n,r){return t?s7(n)?t[yQ(n)]:(n||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((f,d)=>Jhe(f)&&d in f?f[d]:r,t):r}function a0(t,n,r){if(s7(n)){t[yQ(n)]=r;return}const u=n.split(/\.|\[(\d+)\]/).filter(Boolean);let f=t;for(let d=0;d<u.length;d++){if(d===u.length-1){f[u[d]]=r;return}(!(u[d]in f)||xN(f[u[d]]))&&(f[u[d]]=oae(u[d+1])?[]:{}),f=f[u[d]]}}function xX(t,n){if(Array.isArray(t)&&oae(n)){t.splice(Number(n),1);return}ix(t)&&delete t[n]}function Y8(t,n){if(s7(n)){delete t[yQ(n)];return}const r=n.split(/\.|\[(\d+)\]/).filter(Boolean);let u=t;for(let d=0;d<r.length;d++){if(d===r.length-1){xX(u,r[d]);break}if(!(r[d]in u)||xN(u[r[d]]))break;u=u[r[d]]}const f=r.map((d,w)=>hl(t,r.slice(0,w).join(".")));for(let d=f.length-1;d>=0;d--)if(!!rae(f[d])){if(d===0){xX(t,r[0]);continue}xX(f[d-1],r[d-1])}}function ru(t){return Object.keys(t)}function bQ(t,n=void 0){const r=_1();return(r==null?void 0:r.provides[t])||cu(t,n)}function cJ(t,n,r){if(Array.isArray(t)){const u=[...t],f=u.findIndex(d=>sc(d,n));return f>=0?u.splice(f,1):u.push(n),u}return sc(t,n)?r:n}function soe(t,n=0){let r=null,u=[];return function(...f){return r&&window.clearTimeout(r),r=window.setTimeout(()=>{const d=t(...f);u.forEach(w=>w(d)),u=[]},n),new Promise(d=>u.push(d))}}function nme(t,n){return ix(n)&&n.number?Zhe(t):t}function uJ(t,n){let r;return async function(...f){const d=t(...f);r=d;const w=await d;return d!==r||(r=void 0,n(w,f)),w}}function ome({get:t,set:n}){const r=ws(ra(t()));return Ps(t,u=>{sc(u,r.value)||(r.value=ra(u))},{deep:!0}),Ps(r,u=>{sc(u,t())||n(ra(u))},{deep:!0}),r}function sme(t){return qy(t)?t():Ot(t)}function rme(t){return To(()=>sme(t))}const r7=(t,n,r)=>n.slots.default?typeof t=="string"||!t?n.slots.default(r()):{default:()=>{var u,f;return(f=(u=n.slots).default)===null||f===void 0?void 0:f.call(u,r())}}:n.slots.default;function EX(t){if(lae(t))return t._value}function lae(t){return"_value"in t}function vQ(t){if(!gQ(t))return t;const n=t.target;if(OA(n.type)&&lae(n))return EX(n);if(n.type==="file"&&n.files){const r=Array.from(n.files);return n.multiple?r:r[0]}if(Qhe(n))return Array.from(n.options).filter(r=>r.selected&&!r.disabled).map(EX);if(aae(n)){const r=Array.from(n.options).find(u=>u.selected);return r?EX(r):n.value}return n.value}function cae(t){const n={};return Object.defineProperty(n,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?ix(t)&&t._$$isNormalized?t:ix(t)?Object.keys(t).reduce((r,u)=>{const f=ame(t[u]);return t[u]!==!1&&(r[u]=roe(f)),r},n):typeof t!="string"?n:t.split("|").reduce((r,u)=>{const f=ime(u);return f.name&&(r[f.name]=roe(f.params)),r},n):n}function ame(t){return t===!0?[]:Array.isArray(t)||ix(t)?t:[t]}function roe(t){const n=r=>typeof r=="string"&&r[0]==="@"?lme(r.slice(1)):r;return Array.isArray(t)?t.map(n):t instanceof RegExp?[t]:Object.keys(t).reduce((r,u)=>(r[u]=n(t[u]),r),{})}const ime=t=>{let n=[];const r=t.split(":")[0];return t.includes(":")&&(n=t.split(":").slice(1).join(":").split(",")),{name:r,params:n}};function lme(t){const n=r=>hl(r,t)||r[t];return n.__locatorRef=t,n}function cme(t){return Array.isArray(t)?t.filter(lJ):ru(t).filter(n=>lJ(t[n])).map(n=>t[n])}const ume={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let dJ=Object.assign({},ume);const wQ=()=>dJ,dme=t=>{dJ=Object.assign(Object.assign({},dJ),t)},fme=dme;async function uae(t,n,r={}){const u=r==null?void 0:r.bails,f={name:(r==null?void 0:r.name)||"{field}",rules:n,label:r==null?void 0:r.label,bails:u!=null?u:!0,formData:(r==null?void 0:r.values)||{}},w=(await hme(f,t)).errors;return{errors:w,valid:!w.length}}async function hme(t,n){if(v0(t.rules)||EN(t.rules))return pme(n,t.rules);if(qy(t.rules)||Array.isArray(t.rules)){const w={field:t.label||t.name,name:t.name,label:t.label,form:t.formData,value:n},x=Array.isArray(t.rules)?t.rules:[t.rules],T=x.length,I=[];for(let $=0;$<T;$++){const F=x[$],H=await F(n,w);if(typeof H!="string"&&H)continue;const ke=typeof H=="string"?H:fae(w);if(I.push(ke),t.bails)return{errors:I}}return{errors:I}}const r=Object.assign(Object.assign({},t),{rules:cae(t.rules)}),u=[],f=Object.keys(r.rules),d=f.length;for(let w=0;w<d;w++){const x=f[w],T=await gme(r,n,{name:x,params:r.rules[x]});if(T.error&&(u.push(T.error),t.bails))return{errors:u}}return{errors:u}}function mme(t){return!!t&&t.name==="ValidationError"}function dae(t){return{__type:"VVTypedSchema",async parse(r){var u;try{return{output:await t.validate(r,{abortEarly:!1}),errors:[]}}catch(f){if(!mme(f))throw f;if(!(!((u=f.inner)===null||u===void 0)&&u.length)&&f.errors.length)return{errors:[{path:f.path,errors:f.errors}]};const d=f.inner.reduce((w,x)=>{const T=x.path||"";return w[T]||(w[T]={errors:[],path:T}),w[T].errors.push(...x.errors),w},{});return{errors:Object.values(d)}}}}}async function pme(t,n){const u=await(v0(n)?n:dae(n)).parse(t),f=[];for(const d of u.errors)d.errors.length&&f.push(...d.errors);return{errors:f}}async function gme(t,n,r){const u=qhe(r.name);if(!u)throw new Error(`No such validator '${r.name}' exists.`);const f=yme(r.params,t.formData),d={field:t.label||t.name,name:t.name,label:t.label,value:n,form:t.formData,rule:Object.assign(Object.assign({},r),{params:f})},w=await u(n,f,d);return typeof w=="string"?{error:w}:{error:w?void 0:fae(d)}}function fae(t){const n=wQ().generateMessage;return n?n(t):"Field is invalid"}function yme(t,n){const r=u=>lJ(u)?u(n):u;return Array.isArray(t)?t.map(r):Object.keys(t).reduce((u,f)=>(u[f]=r(t[f]),u),{})}async function bme(t,n){const u=await(v0(t)?t:dae(t)).parse(n),f={},d={};for(const w of u.errors){const x=w.errors,T=(w.path||"").replace(/\["(\d+)"\]/g,(I,$)=>`[${$}]`);f[T]={valid:!x.length,errors:x},x.length&&(d[T]=x[0])}return{valid:!u.errors.length,results:f,errors:d,values:u.value}}async function vme(t,n,r){const f=ru(t).map(async I=>{var $,F,H;const de=($=r==null?void 0:r.names)===null||$===void 0?void 0:$[I],ke=await uae(hl(n,I),t[I],{name:(de==null?void 0:de.name)||I,label:de==null?void 0:de.label,values:n,bails:(H=(F=r==null?void 0:r.bailsMap)===null||F===void 0?void 0:F[I])!==null&&H!==void 0?H:!0});return Object.assign(Object.assign({},ke),{path:I})});let d=!0;const w=await Promise.all(f),x={},T={};for(const I of w)x[I.path]={valid:I.valid,errors:I.errors},I.valid||(d=!1,T[I.path]=I.errors[0]);return{valid:d,results:x,errors:T}}let aoe=0;function wme(t,n){const{value:r,initialValue:u,setInitialValue:f}=hae(t,n.modelValue,n.form),{errorMessage:d,errors:w,setErrors:x}=Cme(t,n.form),T=kme(r,u,w),I=aoe>=Number.MAX_SAFE_INTEGER?0:++aoe;function $(F){var H;"value"in F&&(r.value=F.value),"errors"in F&&x(F.errors),"touched"in F&&(T.touched=(H=F.touched)!==null&&H!==void 0?H:T.touched),"initialValue"in F&&f(F.initialValue)}return{id:I,path:t,value:r,initialValue:u,meta:T,errors:w,errorMessage:d,setState:$}}function hae(t,n,r){const u=ws(Ot(n));function f(){return r?hl(r.meta.value.initialValues,Ot(t),Ot(u)):Ot(u)}function d(I){if(!r){u.value=I;return}r.stageInitialValue(Ot(t),I,!0)}const w=To(f);if(!r)return{value:ws(f()),initialValue:w,setInitialValue:d};const x=_me(n,r,w,t);return r.stageInitialValue(Ot(t),x,!0),{value:To({get(){return hl(r.values,Ot(t))},set(I){r.setFieldValue(Ot(t),I)}}),initialValue:w,setInitialValue:d}}function _me(t,n,r,u){return pr(t)?Ot(t):t!==void 0?t:hl(n.values,Ot(u),Ot(r))}function kme(t,n,r){const u=Gu({touched:!1,pending:!1,valid:!0,validated:!!Ot(r).length,initialValue:To(()=>Ot(n)),dirty:To(()=>!sc(Ot(t),Ot(n)))});return Ps(r,f=>{u.valid=!f.length},{immediate:!0,flush:"sync"}),u}function Cme(t,n){function r(f){return f?Array.isArray(f)?f:[f]:[]}if(!n){const f=ws([]);return{errors:f,errorMessage:To(()=>f.value[0]),setErrors:d=>{f.value=r(d)}}}const u=To(()=>n.errorBag.value[Ot(t)]||[]);return{errors:u,errorMessage:To(()=>u.value[0]),setErrors:f=>{n.setFieldErrorBag(Ot(t),r(f))}}}function Sme(t,n,r){return OA(r==null?void 0:r.type)?Tme(t,n,r):mae(t,n,r)}function mae(t,n,r){const{initialValue:u,validateOnMount:f,bails:d,type:w,checkedValue:x,label:T,validateOnValueUpdate:I,uncheckedValue:$,controlled:F,keepValueOnUnmount:H,modelPropName:de,syncVModel:ke,form:Ne}=xme(r),xe=F?bQ(s4):void 0,Fe=Ne||xe,rt=rme(t);let ne=!1;const{id:vt,value:Ue,initialValue:We,meta:J,setState:Te,errors:st,errorMessage:wt}=wme(rt,{modelValue:u,form:Fe});ke&&Rme({value:Ue,prop:de,handleChange:Ht});const je=()=>{J.touched=!0},ue=To(()=>{let me=Ot(n);const j=Ot(Fe==null?void 0:Fe.schema);return j&&!EN(j)&&!v0(j)&&(me=Eme(j,Ot(rt))||me),EN(me)||v0(me)||qy(me)||Array.isArray(me)?me:cae(me)});async function Rn(me){var j,lt;return Fe!=null&&Fe.validateSchema?(j=(await Fe.validateSchema(me)).results[Ot(rt)])!==null&&j!==void 0?j:{valid:!0,errors:[]}:uae(Ue.value,ue.value,{name:Ot(rt),label:Ot(T),values:(lt=Fe==null?void 0:Fe.values)!==null&&lt!==void 0?lt:{},bails:d})}const ln=uJ(async()=>(J.pending=!0,J.validated=!0,Rn("validated-only")),me=>(ne&&(me.valid=!0,me.errors=[]),Te({errors:me.errors}),J.pending=!1,me)),It=uJ(async()=>Rn("silent"),me=>(ne&&(me.valid=!0),J.valid=me.valid,me));function L(me){return(me==null?void 0:me.mode)==="silent"?It():ln()}function Ht(me,j=!0){const lt=vQ(me);Ue.value=lt,!I&&j&&ln()}yx(()=>{if(f)return ln();(!Fe||!Fe.validateSchema)&&It()});function ot(me){J.touched=me}let Nn,an=ra(Ue.value);function it(){Nn=Ps(Ue,(me,j)=>{if(sc(me,j)&&sc(me,an))return;(I?ln:It)(),an=ra(me)},{deep:!0})}it();function Zn(me){var j;Nn==null||Nn();const lt=me&&"value"in me?me.value:We.value;Te({value:ra(lt),initialValue:ra(lt),touched:(j=me==null?void 0:me.touched)!==null&&j!==void 0?j:!1,errors:(me==null?void 0:me.errors)||[]}),J.pending=!1,J.validated=!1,It(),$d(()=>{it()})}function io(me){Ue.value=me}function uo(me){Te({errors:Array.isArray(me)?me:[me]})}const Et={id:vt,name:rt,label:T,value:Ue,meta:J,errors:st,errorMessage:wt,type:w,checkedValue:x,uncheckedValue:$,bails:d,keepValueOnUnmount:H,resetField:Zn,handleReset:()=>Zn(),validate:L,handleChange:Ht,handleBlur:je,setState:Te,setTouched:ot,setErrors:uo,setValue:io};if(b0(Yhe,Et),pr(n)&&typeof Ot(n)!="function"&&Ps(n,(me,j)=>{sc(me,j)||(J.validated?ln():It())},{deep:!0}),!Fe)return Et;Fe.register(Et),bx(()=>{ne=!0,Fe.unregister(Et)});const Ee=To(()=>{const me=ue.value;return!me||qy(me)||EN(me)||v0(me)||Array.isArray(me)?{}:Object.keys(me).reduce((j,lt)=>{const Xe=cme(me[lt]).map(Tt=>Tt.__locatorRef).reduce((Tt,re)=>{const Re=hl(Fe.values,re)||Fe.values[re];return Re!==void 0&&(Tt[re]=Re),Tt},{});return Object.assign(j,Xe),j},{})});return Ps(Ee,(me,j)=>{if(!Object.keys(me).length)return;!sc(me,j)&&(J.validated?ln():It())}),Et}function xme(t){var n;const r=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),f=((n=t==null?void 0:t.syncVModel)!==null&&n!==void 0?n:!0)&&!("initialValue"in(t||{}))?fJ(_1(),(t==null?void 0:t.modelPropName)||"modelValue"):t==null?void 0:t.initialValue;if(!t)return Object.assign(Object.assign({},r()),{initialValue:f});const d="valueProp"in t?t.valueProp:t.checkedValue,w="standalone"in t?!t.standalone:t.controlled;return Object.assign(Object.assign(Object.assign({},r()),t||{}),{initialValue:f,controlled:w!=null?w:!0,checkedValue:d})}function Eme(t,n){if(!!t)return t[n]}function Tme(t,n,r){const u=r!=null&&r.standalone?void 0:bQ(s4),f=r==null?void 0:r.checkedValue,d=r==null?void 0:r.uncheckedValue;function w(x){const T=x.handleChange,I=To(()=>{const F=Ot(x.value),H=Ot(f);return Array.isArray(F)?F.findIndex(de=>sc(de,H))>=0:sc(H,F)});function $(F,H=!0){var de;if(I.value===((de=F==null?void 0:F.target)===null||de===void 0?void 0:de.checked)){H&&x.validate();return}let ke=vQ(F);u||(ke=cJ(Ot(x.value),Ot(f),Ot(d))),T(ke,H)}return Object.assign(Object.assign({},x),{checked:I,checkedValue:f,uncheckedValue:d,handleChange:$})}return w(mae(t,n,r))}function Rme({prop:t,value:n,handleChange:r}){const u=_1();if(!u)return;const f=t||"modelValue",d=`update:${f}`;f in u.props&&(Ps(n,w=>{sc(w,fJ(u,f))||u.emit(d,w)}),Ps(()=>fJ(u,f),w=>{if(w===vV&&n.value===void 0)return;const x=w===vV?void 0:w;sc(x,nme(n.value,u.props.modelModifiers))||r(x)}))}function fJ(t,n){if(!!t)return t.props[n]}const Ame=lg({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>wQ().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:vV},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(t,n){const r=Ol(t,"rules"),u=Ol(t,"name"),f=Ol(t,"label"),d=Ol(t,"uncheckedValue"),w=Ol(t,"keepValue"),{errors:x,value:T,errorMessage:I,validate:$,handleChange:F,handleBlur:H,setTouched:de,resetField:ke,handleReset:Ne,meta:xe,checked:Fe,setErrors:rt}=Sme(u,r,{validateOnMount:t.validateOnMount,bails:t.bails,standalone:t.standalone,type:n.attrs.type,initialValue:Ome(t,n),checkedValue:n.attrs.value,uncheckedValue:d,label:f,validateOnValueUpdate:!1,keepValueOnUnmount:w}),ne=function(st,wt=!0){F(st,wt),n.emit("update:modelValue",T.value)},vt=Te=>{OA(n.attrs.type)||(T.value=vQ(Te))},Ue=function(st){vt(st),n.emit("update:modelValue",T.value)},We=To(()=>{const{validateOnInput:Te,validateOnChange:st,validateOnBlur:wt,validateOnModelUpdate:je}=Ime(t),ue=[H,n.attrs.onBlur,wt?$:void 0].filter(Boolean),Rn=[Ht=>ne(Ht,Te),n.attrs.onInput].filter(Boolean),ln=[Ht=>ne(Ht,st),n.attrs.onChange].filter(Boolean),It={name:t.name,onBlur:ue,onInput:Rn,onChange:ln};It["onUpdate:modelValue"]=Ht=>ne(Ht,je),OA(n.attrs.type)&&Fe&&(It.checked=Fe.value);const L=ioe(t,n);return tme(L,n.attrs)&&(It.value=T.value),It});function J(){return{field:We.value,value:T.value,meta:xe,errors:x.value,errorMessage:I.value,validate:$,resetField:ke,handleChange:ne,handleInput:Ue,handleReset:Ne,handleBlur:H,setTouched:de,setErrors:rt}}return n.expose({setErrors:rt,setTouched:de,reset:ke,validate:$,handleChange:F}),()=>{const Te=Ha(ioe(t,n)),st=r7(Te,n,J);return Te?Dh(Te,Object.assign(Object.assign({},n.attrs),We.value),st):st}}});function ioe(t,n){let r=t.as||"";return!t.as&&!n.slots.default&&(r="input"),r}function Ime(t){var n,r,u,f;const{validateOnInput:d,validateOnChange:w,validateOnBlur:x,validateOnModelUpdate:T}=wQ();return{validateOnInput:(n=t.validateOnInput)!==null&&n!==void 0?n:d,validateOnChange:(r=t.validateOnChange)!==null&&r!==void 0?r:w,validateOnBlur:(u=t.validateOnBlur)!==null&&u!==void 0?u:x,validateOnModelUpdate:(f=t.validateOnModelUpdate)!==null&&f!==void 0?f:T}}function Ome(t,n){return OA(n.attrs.type)?toe(t,"modelValue")?t.modelValue:void 0:toe(t,"modelValue")?t.modelValue:n.attrs.value}const Dme=Ame;let Mme=0;function pae(t){const n=Ot(t==null?void 0:t.initialValues)||{},r=Ot(t==null?void 0:t.validationSchema);return r&&v0(r)&&qy(r.cast)?ra(r.cast(n)||{}):ra(n)}function Pme(t){var n;const r=Mme++,u=new Set;let f=!1;const d=ws({}),w=ws(!1),x=ws(0),T=[],I=Gu(pae(t)),{errorBag:$,setErrorBag:F,setFieldErrorBag:H}=Lme(t==null?void 0:t.initialErrors),de=To(()=>ru($.value).reduce((oe,ye)=>{const Ye=$.value[ye];return Ye&&Ye.length&&(oe[ye]=Ye[0]),oe},{}));function ke(oe){const ye=d.value[oe];return Array.isArray(ye)?ye[0]:ye}function Ne(oe){return!!d.value[oe]}const xe=To(()=>ru(d.value).reduce((oe,ye)=>{const Ye=ke(ye);return Ye&&(oe[ye]={name:Ot(Ye.name)||"",label:Ot(Ye.label)||""}),oe},{})),Fe=To(()=>ru(d.value).reduce((oe,ye)=>{var Ye;const ut=ke(ye);return ut&&(oe[ye]=(Ye=ut.bails)!==null&&Ye!==void 0?Ye:!0),oe},{})),rt=Object.assign({},(t==null?void 0:t.initialErrors)||{}),ne=(n=t==null?void 0:t.keepValuesOnUnmount)!==null&&n!==void 0?n:!1,{initialValues:vt,originalInitialValues:Ue,setInitialValues:We}=Nme(d,I,t),J=zme(d,I,Ue,de),Te=To(()=>[...u,...ru(d.value)].reduce((oe,ye)=>{const Ye=hl(I,ye);return a0(oe,ye,Ye),oe},{})),st=t==null?void 0:t.validationSchema,wt=soe(Qe,5),je=soe(Qe,5),ue=uJ(async oe=>await oe==="silent"?wt():je(),(oe,[ye])=>{const Ye=L.fieldsByPath.value||{},ut=ru(L.errorBag.value);return[...new Set([...ru(oe.results),...ru(Ye),...ut])].reduce((Dt,Vt)=>{const sn=Ye[Vt],_n=(oe.results[Vt]||{errors:[]}).errors,Un={errors:_n,valid:!_n.length};if(Dt.results[Vt]=Un,Un.valid||(Dt.errors[Vt]=Un.errors[0]),!sn)return an(Vt,_n),Dt;if(ot(sn,mo=>mo.meta.valid=Un.valid),ye==="silent")return Dt;const lo=Array.isArray(sn)?sn.some(mo=>mo.meta.validated):sn.meta.validated;return ye==="validated-only"&&!lo||ot(sn,mo=>mo.setState({errors:Un.errors})),Dt},{valid:oe.valid,results:{},errors:{}})});function Rn(oe){return function(Ye,ut){return function(Dt){return Dt instanceof Event&&(Dt.preventDefault(),Dt.stopPropagation()),me(ru(d.value).reduce((Vt,sn)=>(Vt[sn]=!0,Vt),{})),w.value=!0,x.value++,Oe().then(Vt=>{const sn=ra(I);if(Vt.valid&&typeof Ye=="function"){const _n=ra(Te.value);let Un=oe?_n:sn;return Vt.values&&(Un=Vt.values),Ye(Un,{evt:Dt,controlledValues:_n,setErrors:it,setFieldError:an,setTouched:me,setFieldTouched:Ee,setValues:io,setFieldValue:Zn,resetForm:lt,resetField:j})}!Vt.valid&&typeof ut=="function"&&ut({values:sn,evt:Dt,errors:Vt.errors,results:Vt.results})}).then(Vt=>(w.value=!1,Vt),Vt=>{throw w.value=!1,Vt})}}}const It=Rn(!1);It.withControlled=Rn(!0);const L={formId:r,fieldsByPath:d,values:I,controlledValues:Te,errorBag:$,errors:de,schema:st,submitCount:x,meta:J,isSubmitting:w,fieldArrays:T,keepValuesOnUnmount:ne,validateSchema:Ot(st)?ue:void 0,validate:Oe,register:re,unregister:Re,setFieldErrorBag:H,validateField:pt,setFieldValue:Zn,setValues:io,setErrors:it,setFieldError:an,setFieldTouched:Ee,setTouched:me,resetForm:lt,resetField:j,handleSubmit:It,stageInitialValue:le,unsetInitialValue:Ke,setFieldInitialValue:$e,useFieldModel:Et};function Ht(oe){return Array.isArray(oe)}function ot(oe,ye){return Array.isArray(oe)?oe.forEach(ye):ye(oe)}function Nn(oe){Object.values(d.value).forEach(ye=>{!ye||ot(ye,oe)})}function an(oe,ye){H(oe,ye)}function it(oe){F(oe)}function Zn(oe,ye,{force:Ye}={force:!1}){var ut;const zt=d.value[oe],Dt=ra(ye);if(!zt){a0(I,oe,Dt);return}if(Ht(zt)&&((ut=zt[0])===null||ut===void 0?void 0:ut.type)==="checkbox"&&!Array.isArray(ye)){const sn=ra(cJ(hl(I,oe)||[],ye,void 0));a0(I,oe,sn);return}let Vt=Dt;!Ht(zt)&&zt.type==="checkbox"&&!Ye&&!f&&(Vt=ra(cJ(hl(I,oe),ye,Ot(zt.uncheckedValue)))),a0(I,oe,Vt)}function io(oe){ru(I).forEach(ye=>{delete I[ye]}),ru(oe).forEach(ye=>{Zn(ye,oe[ye])}),T.forEach(ye=>ye&&ye.reset())}function uo(oe){const{value:ye}=hae(oe,void 0,L);return Ps(ye,()=>{Ne(Ot(oe))||Oe({mode:"validated-only"})},{deep:!0}),u.add(Ot(oe)),ye}function Et(oe){return Array.isArray(oe)?oe.map(uo):uo(oe)}function Ee(oe,ye){const Ye=d.value[oe];Ye&&ot(Ye,ut=>ut.setTouched(ye))}function me(oe){ru(oe).forEach(ye=>{Ee(ye,!!oe[ye])})}function j(oe,ye){const Ye=d.value[oe];Ye&&ot(Ye,ut=>ut.resetField(ye))}function lt(oe){f=!0,Nn(Ye=>Ye.resetField());const ye=oe!=null&&oe.values?oe.values:Ue.value;We(ye),io(ye),oe!=null&&oe.touched&&me(oe.touched),it((oe==null?void 0:oe.errors)||{}),x.value=(oe==null?void 0:oe.submitCount)||0,$d(()=>{f=!1})}function Xe(oe,ye){const Ye=T0(oe),ut=ye;if(!d.value[ut]){d.value[ut]=Ye;return}const zt=d.value[ut];zt&&!Array.isArray(zt)&&(d.value[ut]=[zt]),d.value[ut]=[...d.value[ut],Ye]}function Tt(oe,ye){const Ye=ye,ut=d.value[Ye];if(!!ut){if(!Ht(ut)&&oe.id===ut.id){delete d.value[Ye];return}if(Ht(ut)){const zt=ut.findIndex(Dt=>Dt.id===oe.id);if(zt===-1)return;ut.splice(zt,1),ut.length||delete d.value[Ye]}}}function re(oe){const ye=Ot(oe.name);Xe(oe,ye),pr(oe.name)&&Ps(oe.name,async(ut,zt)=>{await $d(),Tt(oe,zt),Xe(oe,ut),(de.value[zt]||de.value[ut])&&(an(zt,void 0),pt(ut)),await $d(),Ne(zt)||Y8(I,zt)});const Ye=Ot(oe.errorMessage);Ye&&(rt==null?void 0:rt[ye])!==Ye&&pt(ye),delete rt[ye]}function Re(oe){const ye=Ot(oe.name),Ye=d.value[ye],ut=!!Ye&&Ht(Ye);Tt(oe,ye),$d(()=>{var zt;const Dt=(zt=Ot(oe.keepValueOnUnmount))!==null&&zt!==void 0?zt:Ot(ne),Vt=hl(I,ye);if(ut&&(Ye===d.value[ye]||!d.value[ye])&&!Dt)if(Array.isArray(Vt)){const _n=Vt.findIndex(Un=>sc(Un,Ot(oe.checkedValue)));if(_n>-1){const Un=[...Vt];Un.splice(_n,1),Zn(ye,Un,{force:!0})}}else Vt===Ot(oe.checkedValue)&&Y8(I,ye);if(!Ne(ye)){if(an(ye,void 0),Dt||ut&&Array.isArray(Vt)&&!rae(Vt))return;Y8(I,ye)}})}async function Oe(oe){const ye=(oe==null?void 0:oe.mode)||"force";if(ye==="force"&&Nn(Dt=>Dt.meta.validated=!0),L.validateSchema)return L.validateSchema(ye);const Ye=await Promise.all(Object.values(d.value).map(Dt=>{const Vt=Array.isArray(Dt)?Dt[0]:Dt;return Vt?Vt.validate(oe).then(sn=>({key:Ot(Vt.name),valid:sn.valid,errors:sn.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),ut={},zt={};for(const Dt of Ye)ut[Dt.key]={valid:Dt.valid,errors:Dt.errors},Dt.errors.length&&(zt[Dt.key]=Dt.errors[0]);return{valid:Ye.every(Dt=>Dt.valid),results:ut,errors:zt}}async function pt(oe){const ye=d.value[oe];return ye?Array.isArray(ye)?ye.map(Ye=>Ye.validate())[0]:ye.validate():Promise.resolve({errors:[],valid:!0})}function Ke(oe){Y8(vt.value,oe)}function le(oe,ye,Ye=!1){a0(I,oe,ye),$e(oe,ye),Ye&&!(t!=null&&t.initialValues)&&a0(Ue.value,oe,ra(ye))}function $e(oe,ye){a0(vt.value,oe,ra(ye))}async function Qe(){const oe=Ot(st);return oe?EN(oe)||v0(oe)?await bme(oe,I):await vme(oe,I,{names:xe.value,bailsMap:Fe.value}):{valid:!0,results:{},errors:{}}}const Ve=It((oe,{evt:ye})=>{iae(ye)&&ye.target.submit()});return yx(()=>{if(t!=null&&t.initialErrors&&it(t.initialErrors),t!=null&&t.initialTouched&&me(t.initialTouched),t!=null&&t.validateOnMount){Oe();return}L.validateSchema&&L.validateSchema("silent")}),pr(st)&&Ps(st,()=>{var oe;(oe=L.validateSchema)===null||oe===void 0||oe.call(L,"validated-only")}),b0(s4,L),Object.assign(Object.assign({},L),{handleReset:()=>lt(),submitForm:Ve})}function zme(t,n,r,u){const f={touched:"some",pending:"some",valid:"every"},d=To(()=>!sc(n,Ot(r)));function w(){const T=Object.values(t.value).flat(1).filter(Boolean);return ru(f).reduce((I,$)=>{const F=f[$];return I[$]=T[F](H=>H.meta[$]),I},{})}const x=Gu(w());return rQ(()=>{const T=w();x.touched=T.touched,x.valid=T.valid,x.pending=T.pending}),To(()=>Object.assign(Object.assign({initialValues:Ot(r)},x),{valid:x.valid&&!ru(u.value).length,dirty:d.value}))}function Nme(t,n,r){const u=pae(r),f=r==null?void 0:r.initialValues,d=ws(u),w=ws(ra(u));function x(T,I=!1){d.value=ra(T),w.value=ra(T),I&&ru(t.value).forEach($=>{const F=t.value[$],H=Array.isArray(F)?F.some(ke=>ke.meta.touched):F==null?void 0:F.meta.touched;if(!F||H)return;const de=hl(d.value,$);a0(n,$,ra(de))})}return pr(f)&&Ps(f,T=>{x(T,!0)},{deep:!0}),{initialValues:d,originalInitialValues:w,setInitialValues:x}}function Lme(t){const n=ws({});function r(d){return Array.isArray(d)?d:d?[d]:[]}function u(d,w){if(!w){delete n.value[d];return}n.value[d]=r(w)}function f(d){n.value=ru(d).reduce((w,x)=>{const T=d[x];return T&&(w[x]=r(T)),w},{})}return t&&f(t),{errorBag:n,setErrorBag:f,setFieldErrorBag:u}}const Fme=lg({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(t,n){const r=Ol(t,"initialValues"),u=Ol(t,"validationSchema"),f=Ol(t,"keepValues"),{errors:d,errorBag:w,values:x,meta:T,isSubmitting:I,submitCount:$,controlledValues:F,validate:H,validateField:de,handleReset:ke,resetForm:Ne,handleSubmit:xe,setErrors:Fe,setFieldError:rt,setFieldValue:ne,setValues:vt,setFieldTouched:Ue,setTouched:We,resetField:J}=Pme({validationSchema:u.value?u:void 0,initialValues:r,initialErrors:t.initialErrors,initialTouched:t.initialTouched,validateOnMount:t.validateOnMount,keepValuesOnUnmount:f}),Te=xe((L,{evt:Ht})=>{iae(Ht)&&Ht.target.submit()},t.onInvalidSubmit),st=t.onSubmit?xe(t.onSubmit,t.onInvalidSubmit):Te;function wt(L){gQ(L)&&L.preventDefault(),ke(),typeof n.attrs.onReset=="function"&&n.attrs.onReset()}function je(L,Ht){return xe(typeof L=="function"&&!Ht?L:Ht,t.onInvalidSubmit)(L)}function ue(){return ra(x)}function Rn(){return ra(T.value)}function ln(){return ra(d.value)}function It(){return{meta:T.value,errors:d.value,errorBag:w.value,values:x,isSubmitting:I.value,submitCount:$.value,controlledValues:F.value,validate:H,validateField:de,handleSubmit:je,handleReset:ke,submitForm:Te,setErrors:Fe,setFieldError:rt,setFieldValue:ne,setValues:vt,setFieldTouched:Ue,setTouched:We,resetForm:Ne,resetField:J,getValues:ue,getMeta:Rn,getErrors:ln}}return n.expose({setFieldError:rt,setErrors:Fe,setFieldValue:ne,setValues:vt,setFieldTouched:Ue,setTouched:We,resetForm:Ne,validate:H,validateField:de,resetField:J,getValues:ue,getMeta:Rn,getErrors:ln}),function(){const Ht=t.as==="form"?t.as:Ha(t.as),ot=r7(Ht,n,It);if(!t.as)return ot;const Nn=t.as==="form"?{novalidate:!0}:{};return Dh(Ht,Object.assign(Object.assign(Object.assign({},Nn),n.attrs),{onSubmit:st,onReset:wt}),ot)}}}),Bme=Fme;function $me(t){const n=bQ(s4,void 0),r=ws([]),u=()=>{},f={fields:r,remove:u,push:u,swap:u,insert:u,update:u,replace:u,prepend:u,move:u};if(!n||!Ot(t))return f;const d=n.fieldArrays.find(Ue=>Ot(Ue.path)===Ot(t));if(d)return d;let w=0;function x(){return hl(n==null?void 0:n.values,Ot(t),[])||[]}function T(){const Ue=x();r.value=Ue.map($),I()}T();function I(){const Ue=r.value.length;for(let We=0;We<Ue;We++){const J=r.value[We];J.isFirst=We===0,J.isLast=We===Ue-1}}function $(Ue){const We=w++;return{key:We,value:ome({get(){const Te=hl(n==null?void 0:n.values,Ot(t),[])||[],st=r.value.findIndex(wt=>wt.key===We);return st===-1?Ue:Te[st]},set(Te){const st=r.value.findIndex(wt=>wt.key===We);st!==-1&&Fe(st,Te)}}),isFirst:!1,isLast:!1}}function F(){I(),n==null||n.validate({mode:"silent"})}function H(Ue){const We=Ot(t),J=hl(n==null?void 0:n.values,We);if(!J||!Array.isArray(J))return;const Te=[...J];Te.splice(Ue,1),n==null||n.unsetInitialValue(We+`[${Ue}]`),n==null||n.setFieldValue(We,Te),r.value.splice(Ue,1),F()}function de(Ue){const We=Ot(t),J=hl(n==null?void 0:n.values,We),Te=xN(J)?[]:J;if(!Array.isArray(Te))return;const st=[...Te];st.push(Ue),n==null||n.stageInitialValue(We+`[${st.length-1}]`,Ue),n==null||n.setFieldValue(We,st),r.value.push($(Ue)),F()}function ke(Ue,We){const J=Ot(t),Te=hl(n==null?void 0:n.values,J);if(!Array.isArray(Te)||!(Ue in Te)||!(We in Te))return;const st=[...Te],wt=[...r.value],je=st[Ue];st[Ue]=st[We],st[We]=je;const ue=wt[Ue];wt[Ue]=wt[We],wt[We]=ue,n==null||n.setFieldValue(J,st),r.value=wt,I()}function Ne(Ue,We){const J=Ot(t),Te=hl(n==null?void 0:n.values,J);if(!Array.isArray(Te)||Te.length<Ue)return;const st=[...Te],wt=[...r.value];st.splice(Ue,0,We),wt.splice(Ue,0,$(We)),n==null||n.setFieldValue(J,st),r.value=wt,F()}function xe(Ue){const We=Ot(t);n==null||n.setFieldValue(We,Ue),T(),F()}function Fe(Ue,We){const J=Ot(t),Te=hl(n==null?void 0:n.values,J);!Array.isArray(Te)||Te.length-1<Ue||(n==null||n.setFieldValue(`${J}[${Ue}]`,We),n==null||n.validate({mode:"validated-only"}))}function rt(Ue){const We=Ot(t),J=hl(n==null?void 0:n.values,We),Te=xN(J)?[]:J;if(!Array.isArray(Te))return;const st=[Ue,...Te];n==null||n.stageInitialValue(We+`[${st.length-1}]`,Ue),n==null||n.setFieldValue(We,st),r.value.unshift($(Ue)),F()}function ne(Ue,We){const J=Ot(t),Te=hl(n==null?void 0:n.values,J),st=xN(Te)?[]:[...Te];if(!Array.isArray(Te)||!(Ue in Te)||!(We in Te))return;const wt=[...r.value],je=wt[Ue];wt.splice(Ue,1),wt.splice(We,0,je);const ue=st[Ue];st.splice(Ue,1),st.splice(We,0,ue),n==null||n.setFieldValue(J,st),r.value=wt,F()}const vt={fields:r,remove:H,push:de,swap:ke,insert:Ne,update:Fe,replace:xe,prepend:rt,move:ne};return n.fieldArrays.push(Object.assign({path:t,reset:T},vt)),bx(()=>{const Ue=n.fieldArrays.findIndex(We=>Ot(We.path)===Ot(t));Ue>=0&&n.fieldArrays.splice(Ue,1)}),Ps(x,Ue=>{const We=r.value.map(J=>J.value);sc(Ue,We)||T()}),vt}lg({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(t,n){const{push:r,remove:u,swap:f,insert:d,replace:w,update:x,prepend:T,move:I,fields:$}=$me(Ol(t,"name"));function F(){return{fields:$.value,push:r,remove:u,swap:f,insert:d,update:x,replace:w,prepend:T,move:I}}return n.expose({push:r,remove:u,swap:f,insert:d,update:x,replace:w,prepend:T,move:I}),()=>r7(void 0,n,F)}});const Vme=lg({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,n){const r=cu(s4,void 0),u=To(()=>r==null?void 0:r.errors.value[t.name]);function f(){return{message:u.value}}return()=>{if(!u.value)return;const d=t.as?Ha(t.as):t.as,w=r7(d,n,f),x=Object.assign({role:"alert"},n.attrs);return!d&&(Array.isArray(w)||!w)&&(w==null?void 0:w.length)?w:(Array.isArray(w)||!w)&&!(w!=null&&w.length)?Dh(d||"span",x,u.value):Dh(d,x,w)}}}),Hme=Vme;/**
  * vee-validate v4.8.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const X8={en:/^[A-Z]*$/i,cs:/^[A-Z]*$/i,da:/^[A-Z]*$/i,de:/^[A-Z]*$/i,es:/^[A-Z]*$/i,fr:/^[A-Z]*$/i,it:/^[A-Z\xC0-\xFF]*$/i,lt:/^[A-Z]*$/i,nl:/^[A-Z]*$/i,hu:/^[A-Z]*$/i,pl:/^[A-Z]*$/i,pt:/^[A-Z]*$/i,ru:/^[-]*$/i,sk:/^[A-Z]*$/i,sr:/^[A-Z]*$/i,sv:/^[A-Z]*$/i,tr:/^[A-Z]*$/i,uk:/^[-]*$/i,ar:/^[]*$/,az:/^[A-Z]*$/i,ug:/^[A-Z]*$/i},J8={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},Q8={en:/^[0-9A-Z]*$/i,cs:/^[0-9A-Z]*$/i,da:/^[0-9A-Z]$/i,de:/^[0-9A-Z]*$/i,es:/^[0-9A-Z]*$/i,fr:/^[0-9A-Z]*$/i,it:/^[0-9A-Z\xC0-\xFF]*$/i,lt:/^[0-9A-Z]*$/i,hu:/^[0-9A-Z]*$/i,nl:/^[0-9A-Z]*$/i,pl:/^[0-9A-Z]*$/i,pt:/^[0-9A-Z]*$/i,ru:/^[0-9-]*$/i,sk:/^[0-9A-Z]*$/i,sr:/^[0-9A-Z]*$/i,sv:/^[0-9A-Z]*$/i,tr:/^[0-9A-Z]*$/i,uk:/^[0-9-]*$/i,ar:/^[0-9]*$/,az:/^[0-9A-Z]*$/i,ug:/^[0-9A-Z]*$/i},eV={en:/^[0-9A-Z_-]*$/i,cs:/^[0-9A-Z_-]*$/i,da:/^[0-9A-Z_-]*$/i,de:/^[0-9A-Z_-]*$/i,es:/^[0-9A-Z_-]*$/i,fr:/^[0-9A-Z_-]*$/i,it:/^[0-9A-Z\xC0-\xFF_-]*$/i,lt:/^[0-9A-Z_-]*$/i,nl:/^[0-9A-Z_-]*$/i,hu:/^[0-9A-Z_-]*$/i,pl:/^[0-9A-Z_-]*$/i,pt:/^[0-9A-Z_-]*$/i,ru:/^[0-9-_-]*$/i,sk:/^[0-9A-Z_-]*$/i,sr:/^[0-9A-Z_-]*$/i,sv:/^[0-9A-Z_-]*$/i,tr:/^[0-9A-Z_-]*$/i,uk:/^[0-9-_-]*$/i,ar:/^[0-9_-]*$/,az:/^[0-9A-Z_-]*$/i,ug:/^[0-9A-Z_-]*$/i},a7=t=>{if(!!t)return Array.isArray(t)?t[0]:t.locale};function Fm(t,n){return Array.isArray(t)?t[0]:t[n]}function Ji(t){return!!(t==null||t===""||Array.isArray(t)&&t.length===0)}const gae=(t,n)=>{if(Ji(t))return!0;const r=a7(n);if(Array.isArray(t))return t.every(f=>gae(f,{locale:r}));const u=String(t);return r?(X8[r]||X8.en).test(u):Object.keys(X8).some(f=>X8[f].test(u))},yae=(t,n)=>{if(Ji(t))return!0;const r=a7(n);if(Array.isArray(t))return t.every(f=>yae(f,{locale:r}));const u=String(t);return r?(eV[r]||eV.en).test(u):Object.keys(eV).some(f=>eV[f].test(u))},bae=(t,n)=>{if(Ji(t))return!0;const r=a7(n);if(Array.isArray(t))return t.every(f=>bae(f,{locale:r}));const u=String(t);return r?(Q8[r]||Q8.en).test(u):Object.keys(Q8).some(f=>Q8[f].test(u))},vae=(t,n)=>{if(Ji(t))return!0;const r=a7(n);if(Array.isArray(t))return t.every(f=>vae(f,{locale:r}));const u=String(t);return r?(J8[r]||J8.en).test(u):Object.keys(J8).some(f=>J8[f].test(u))};function Ume(t){return Array.isArray(t)?{min:t[0],max:t[1]}:t}const wae=(t,n)=>{if(Ji(t))return!0;const{min:r,max:u}=Ume(n);if(Array.isArray(t))return t.every(d=>wae(d,{min:r,max:u}));const f=Number(t);return Number(r)<=f&&Number(u)>=f},jme=(t,n)=>{const r=Fm(n,"target");return String(t)===String(r)},_ae=(t,n)=>{if(Ji(t))return!0;const r=Fm(n,"length");if(Array.isArray(t))return t.every(f=>_ae(f,{length:r}));const u=String(t);return/^[0-9]*$/.test(u)&&u.length===Number(r)},Wme=(t,n,r)=>{const u=window.URL||window.webkitURL;return new Promise(f=>{const d=new Image;d.onerror=()=>f(!1),d.onload=()=>f(d.width===n&&d.height===r),d.src=u.createObjectURL(t)})};function Zme(t){return t?Array.isArray(t)?{width:Number(t[0]),height:Number(t[1])}:{width:Number(t.width),height:Number(t.height)}:{width:0,height:0}}const Gme=(t,n)=>{if(Ji(t))return!0;const{width:r,height:u}=Zme(n),f=[],d=Array.isArray(t)?t:[t];for(let w=0;w<d.length;w++){if(!/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(d[w].name))return Promise.resolve(!1);f.push(d[w])}return Promise.all(f.map(w=>Wme(w,r,u))).then(w=>w.every(x=>x))},qme=t=>{if(Ji(t))return!0;const n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(t)?t.every(r=>n.test(String(r))):n.test(String(t))},Kme=(t,n)=>{if(Ji(t))return!0;const r=new RegExp(`\\.(${n.join("|")})$`,"i");return Array.isArray(t)?t.every(u=>r.test(u.name)):r.test(t.name)},Yme=t=>{if(Ji(t))return!0;const n=/\.(jpg|svg|jpeg|png|bmp|gif|webp)$/i;return Array.isArray(t)?t.every(r=>n.test(r.name)):n.test(t.name)},Xme=t=>Ji(t)?!0:Array.isArray(t)?t.every(n=>/^-?[0-9]+$/.test(String(n))):/^-?[0-9]+$/.test(String(t)),Jme=(t,n)=>{const r=Fm(n,"other");return t===r},Qme=(t,n)=>{const r=Fm(n,"other");return t!==r};function kae(t){return t==null}function epe(t){return Array.isArray(t)&&t.length===0}const tpe=(t,n)=>{const r=Fm(n,"length");return kae(t)?!1:(typeof t=="number"&&(t=String(t)),t.length||(t=Array.from(t)),t.length===Number(r))},Cae=(t,n)=>{if(Ji(t))return!0;const r=Fm(n,"length");return Array.isArray(t)?t.every(u=>Cae(u,{length:r})):String(t).length<=Number(r)},Sae=(t,n)=>{if(Ji(t))return!0;const r=Fm(n,"max");return Array.isArray(t)?t.length>0&&t.every(u=>Sae(u,{max:r})):Number(t)<=Number(r)},npe=(t,n)=>{if(Ji(t))return!0;n||(n=[]);const r=new RegExp(`${n.join("|").replace("*",".+")}$`,"i");return Array.isArray(t)?t.every(u=>r.test(u.type)):r.test(t.type)},xae=(t,n)=>{if(Ji(t))return!0;const r=Fm(n,"length");return Array.isArray(t)?t.every(u=>xae(u,{length:r})):String(t).length>=Number(r)},Eae=(t,n)=>{if(Ji(t))return!0;const r=Fm(n,"min");return Array.isArray(t)?t.length>0&&t.every(u=>Eae(u,{min:r})):Number(t)>=Number(r)},_Q=(t,n)=>Ji(t)?!0:Array.isArray(t)?t.every(r=>_Q(r,n)):Array.from(n).some(r=>r==t),ope=(t,n)=>Ji(t)?!0:!_Q(t,n),spe=/^[]+$/,rpe=/^[0-9]+$/,ape=t=>{if(Ji(t))return!0;const n=r=>{const u=String(r);return rpe.test(u)||spe.test(u)};return Array.isArray(t)?t.every(n):n(t)},Tae=(t,n)=>{if(Ji(t))return!0;let r=Fm(n,"regex");return typeof r=="string"&&(r=new RegExp(r)),Array.isArray(t)?t.every(u=>Tae(u,{regex:r})):r.test(String(t))},ipe=t=>kae(t)||epe(t)||t===!1?!1:!!String(t).trim().length,lpe=(t,n)=>{if(Ji(t))return!0;let r=Fm(n,"size");if(r=Number(r),isNaN(r))return!1;const u=r*1024;if(!Array.isArray(t))return t.size<=u;for(let f=0;f<t.length;f++)if(t[f].size>u)return!1;return!0},cpe=(t,n)=>{var r;if(Ji(t))return!0;let u=Fm(n,"pattern");typeof u=="string"&&(u=new RegExp(u));try{new URL(t)}catch{return!1}return(r=u==null?void 0:u.test(t))!==null&&r!==void 0?r:!0};/**
  * vee-validate v4.8.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function g1(t){return typeof t=="function"}function TN(t){return t==null}const lx=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function Rae(t){return Number(t)>=0}function upe(t){const n=parseFloat(t);return isNaN(n)?t:n}const dpe={};function fpe(t){return dpe[t]}const r4=Symbol("vee-validate-form"),hpe=Symbol("vee-validate-field-instance"),wV=Symbol("Default empty value"),mpe=typeof window<"u";function hJ(t){return g1(t)&&!!t.__locatorRef}function w0(t){return!!t&&g1(t.parse)&&t.__type==="VVTypedSchema"}function RN(t){return!!t&&g1(t.validate)}function DA(t){return t==="checkbox"||t==="radio"}function ppe(t){return lx(t)||Array.isArray(t)}function Aae(t){return Array.isArray(t)?t.length===0:lx(t)&&Object.keys(t).length===0}function i7(t){return/^\[.+\]$/i.test(t)}function gpe(t){return Iae(t)&&t.multiple}function Iae(t){return t.tagName==="SELECT"}function ype(t,n){const r=![!1,null,void 0,0].includes(n.multiple)&&!Number.isNaN(n.multiple);return t==="select"&&"multiple"in n&&r}function bpe(t,n){return!ype(t,n)&&n.type!=="file"&&!DA(n.type)}function Oae(t){return kQ(t)&&t.target&&"submit"in t.target}function kQ(t){return t?!!(typeof Event<"u"&&g1(Event)&&t instanceof Event||t&&t.srcElement):!1}function loe(t,n){return n in t&&t[n]!==wV}function rc(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,u,f;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(u=r;u--!==0;)if(!rc(t[u],n[u]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(u of t.entries())if(!n.has(u[0]))return!1;for(u of t.entries())if(!rc(u[1],n.get(u[0])))return!1;return!0}if(coe(t)&&coe(n))return!(t.size!==n.size||t.name!==n.name||t.lastModified!==n.lastModified||t.type!==n.type);if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(u of t.entries())if(!n.has(u[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(u=r;u--!==0;)if(t[u]!==n[u])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(f=Object.keys(t),r=f.length,r!==Object.keys(n).length)return!1;for(u=r;u--!==0;)if(!Object.prototype.hasOwnProperty.call(n,f[u]))return!1;for(u=r;u--!==0;){var d=f[u];if(!rc(t[d],n[d]))return!1}return!0}return t!==t&&n!==n}function coe(t){return mpe?t instanceof File:!1}function uoe(t,n,r){typeof r.value=="object"&&(r.value=aa(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||n==="__proto__"?Object.defineProperty(t,n,r):t[n]=r.value}function aa(t){if(typeof t!="object")return t;var n=0,r,u,f,d=Object.prototype.toString.call(t);if(d==="[object Object]"?f=Object.create(t.__proto__||null):d==="[object Array]"?f=Array(t.length):d==="[object Set]"?(f=new Set,t.forEach(function(w){f.add(aa(w))})):d==="[object Map]"?(f=new Map,t.forEach(function(w,x){f.set(aa(x),aa(w))})):d==="[object Date]"?f=new Date(+t):d==="[object RegExp]"?f=new RegExp(t.source,t.flags):d==="[object DataView]"?f=new t.constructor(aa(t.buffer)):d==="[object ArrayBuffer]"?f=t.slice(0):d.slice(-6)==="Array]"&&(f=new t.constructor(t)),f){for(u=Object.getOwnPropertySymbols(t);n<u.length;n++)uoe(f,u[n],Object.getOwnPropertyDescriptor(t,u[n]));for(n=0,u=Object.getOwnPropertyNames(t);n<u.length;n++)Object.hasOwnProperty.call(f,r=u[n])&&f[r]===t[r]||uoe(f,r,Object.getOwnPropertyDescriptor(t,r))}return f||t}function CQ(t){return i7(t)?t.replace(/\[|\]/gi,""):t}function ml(t,n,r){return t?i7(n)?t[CQ(n)]:(n||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((f,d)=>ppe(f)&&d in f?f[d]:r,t):r}function i0(t,n,r){if(i7(n)){t[CQ(n)]=r;return}const u=n.split(/\.|\[(\d+)\]/).filter(Boolean);let f=t;for(let d=0;d<u.length;d++){if(d===u.length-1){f[u[d]]=r;return}(!(u[d]in f)||TN(f[u[d]]))&&(f[u[d]]=Rae(u[d+1])?[]:{}),f=f[u[d]]}}function TX(t,n){if(Array.isArray(t)&&Rae(n)){t.splice(Number(n),1);return}lx(t)&&delete t[n]}function tV(t,n){if(i7(n)){delete t[CQ(n)];return}const r=n.split(/\.|\[(\d+)\]/).filter(Boolean);let u=t;for(let d=0;d<r.length;d++){if(d===r.length-1){TX(u,r[d]);break}if(!(r[d]in u)||TN(u[r[d]]))break;u=u[r[d]]}const f=r.map((d,w)=>ml(t,r.slice(0,w).join(".")));for(let d=f.length-1;d>=0;d--)if(!!Aae(f[d])){if(d===0){TX(t,r[0]);continue}TX(f[d-1],r[d-1])}}function au(t){return Object.keys(t)}function SQ(t,n=void 0){const r=_1();return(r==null?void 0:r.provides[t])||cu(t,n)}function mJ(t,n,r){if(Array.isArray(t)){const u=[...t],f=u.findIndex(d=>rc(d,n));return f>=0?u.splice(f,1):u.push(n),u}return rc(t,n)?r:n}function doe(t,n=0){let r=null,u=[];return function(...f){return r&&window.clearTimeout(r),r=window.setTimeout(()=>{const d=t(...f);u.forEach(w=>w(d)),u=[]},n),new Promise(d=>u.push(d))}}function vpe(t,n){return lx(n)&&n.number?upe(t):t}function pJ(t,n){let r;return async function(...f){const d=t(...f);r=d;const w=await d;return d!==r||(r=void 0,n(w,f)),w}}function wpe({get:t,set:n}){const r=ws(aa(t()));return Ps(t,u=>{rc(u,r.value)||(r.value=aa(u))},{deep:!0}),Ps(r,u=>{rc(u,t())||n(aa(u))},{deep:!0}),r}function _pe(t){return g1(t)?t():Ot(t)}function kpe(t){return To(()=>_pe(t))}const l7=(t,n,r)=>n.slots.default?typeof t=="string"||!t?n.slots.default(r()):{default:()=>{var u,f;return(f=(u=n.slots).default)===null||f===void 0?void 0:f.call(u,r())}}:n.slots.default;function RX(t){if(Dae(t))return t._value}function Dae(t){return"_value"in t}function xQ(t){if(!kQ(t))return t;const n=t.target;if(DA(n.type)&&Dae(n))return RX(n);if(n.type==="file"&&n.files){const r=Array.from(n.files);return n.multiple?r:r[0]}if(gpe(n))return Array.from(n.options).filter(r=>r.selected&&!r.disabled).map(RX);if(Iae(n)){const r=Array.from(n.options).find(u=>u.selected);return r?RX(r):n.value}return n.value}function Mae(t){const n={};return Object.defineProperty(n,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?lx(t)&&t._$$isNormalized?t:lx(t)?Object.keys(t).reduce((r,u)=>{const f=Cpe(t[u]);return t[u]!==!1&&(r[u]=foe(f)),r},n):typeof t!="string"?n:t.split("|").reduce((r,u)=>{const f=Spe(u);return f.name&&(r[f.name]=foe(f.params)),r},n):n}function Cpe(t){return t===!0?[]:Array.isArray(t)||lx(t)?t:[t]}function foe(t){const n=r=>typeof r=="string"&&r[0]==="@"?xpe(r.slice(1)):r;return Array.isArray(t)?t.map(n):t instanceof RegExp?[t]:Object.keys(t).reduce((r,u)=>(r[u]=n(t[u]),r),{})}const Spe=t=>{let n=[];const r=t.split(":")[0];return t.includes(":")&&(n=t.split(":").slice(1).join(":").split(",")),{name:r,params:n}};function xpe(t){const n=r=>ml(r,t)||r[t];return n.__locatorRef=t,n}function Epe(t){return Array.isArray(t)?t.filter(hJ):au(t).filter(n=>hJ(t[n])).map(n=>t[n])}const Tpe={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Rpe=Object.assign({},Tpe);const EQ=()=>Rpe;async function Pae(t,n,r={}){const u=r==null?void 0:r.bails,f={name:(r==null?void 0:r.name)||"{field}",rules:n,label:r==null?void 0:r.label,bails:u!=null?u:!0,formData:(r==null?void 0:r.values)||{}},w=(await Ape(f,t)).errors;return{errors:w,valid:!w.length}}async function Ape(t,n){if(w0(t.rules)||RN(t.rules))return Ope(n,t.rules);if(g1(t.rules)||Array.isArray(t.rules)){const w={field:t.label||t.name,name:t.name,label:t.label,form:t.formData,value:n},x=Array.isArray(t.rules)?t.rules:[t.rules],T=x.length,I=[];for(let $=0;$<T;$++){const F=x[$],H=await F(n,w);if(typeof H!="string"&&H)continue;const ke=typeof H=="string"?H:Nae(w);if(I.push(ke),t.bails)return{errors:I}}return{errors:I}}const r=Object.assign(Object.assign({},t),{rules:Mae(t.rules)}),u=[],f=Object.keys(r.rules),d=f.length;for(let w=0;w<d;w++){const x=f[w],T=await Dpe(r,n,{name:x,params:r.rules[x]});if(T.error&&(u.push(T.error),t.bails))return{errors:u}}return{errors:u}}function Ipe(t){return!!t&&t.name==="ValidationError"}function zae(t){return{__type:"VVTypedSchema",async parse(r){var u;try{return{output:await t.validate(r,{abortEarly:!1}),errors:[]}}catch(f){if(!Ipe(f))throw f;if(!(!((u=f.inner)===null||u===void 0)&&u.length)&&f.errors.length)return{errors:[{path:f.path,errors:f.errors}]};const d=f.inner.reduce((w,x)=>{const T=x.path||"";return w[T]||(w[T]={errors:[],path:T}),w[T].errors.push(...x.errors),w},{});return{errors:Object.values(d)}}}}}async function Ope(t,n){const u=await(w0(n)?n:zae(n)).parse(t),f=[];for(const d of u.errors)d.errors.length&&f.push(...d.errors);return{errors:f}}async function Dpe(t,n,r){const u=fpe(r.name);if(!u)throw new Error(`No such validator '${r.name}' exists.`);const f=Mpe(r.params,t.formData),d={field:t.label||t.name,name:t.name,label:t.label,value:n,form:t.formData,rule:Object.assign(Object.assign({},r),{params:f})},w=await u(n,f,d);return typeof w=="string"?{error:w}:{error:w?void 0:Nae(d)}}function Nae(t){const n=EQ().generateMessage;return n?n(t):"Field is invalid"}function Mpe(t,n){const r=u=>hJ(u)?u(n):u;return Array.isArray(t)?t.map(r):Object.keys(t).reduce((u,f)=>(u[f]=r(t[f]),u),{})}async function Ppe(t,n){const u=await(w0(t)?t:zae(t)).parse(n),f={},d={};for(const w of u.errors){const x=w.errors,T=(w.path||"").replace(/\["(\d+)"\]/g,(I,$)=>`[${$}]`);f[T]={valid:!x.length,errors:x},x.length&&(d[T]=x[0])}return{valid:!u.errors.length,results:f,errors:d,values:u.value}}async function zpe(t,n,r){const f=au(t).map(async I=>{var $,F,H;const de=($=r==null?void 0:r.names)===null||$===void 0?void 0:$[I],ke=await Pae(ml(n,I),t[I],{name:(de==null?void 0:de.name)||I,label:de==null?void 0:de.label,values:n,bails:(H=(F=r==null?void 0:r.bailsMap)===null||F===void 0?void 0:F[I])!==null&&H!==void 0?H:!0});return Object.assign(Object.assign({},ke),{path:I})});let d=!0;const w=await Promise.all(f),x={},T={};for(const I of w)x[I.path]={valid:I.valid,errors:I.errors},I.valid||(d=!1,T[I.path]=I.errors[0]);return{valid:d,results:x,errors:T}}let hoe=0;function Npe(t,n){const{value:r,initialValue:u,setInitialValue:f}=Lae(t,n.modelValue,n.form),{errorMessage:d,errors:w,setErrors:x}=Bpe(t,n.form),T=Fpe(r,u,w),I=hoe>=Number.MAX_SAFE_INTEGER?0:++hoe;function $(F){var H;"value"in F&&(r.value=F.value),"errors"in F&&x(F.errors),"touched"in F&&(T.touched=(H=F.touched)!==null&&H!==void 0?H:T.touched),"initialValue"in F&&f(F.initialValue)}return{id:I,path:t,value:r,initialValue:u,meta:T,errors:w,errorMessage:d,setState:$}}function Lae(t,n,r){const u=ws(Ot(n));function f(){return r?ml(r.meta.value.initialValues,Ot(t),Ot(u)):Ot(u)}function d(I){if(!r){u.value=I;return}r.stageInitialValue(Ot(t),I,!0)}const w=To(f);if(!r)return{value:ws(f()),initialValue:w,setInitialValue:d};const x=Lpe(n,r,w,t);return r.stageInitialValue(Ot(t),x,!0),{value:To({get(){return ml(r.values,Ot(t))},set(I){r.setFieldValue(Ot(t),I)}}),initialValue:w,setInitialValue:d}}function Lpe(t,n,r,u){return pr(t)?Ot(t):t!==void 0?t:ml(n.values,Ot(u),Ot(r))}function Fpe(t,n,r){const u=Gu({touched:!1,pending:!1,valid:!0,validated:!!Ot(r).length,initialValue:To(()=>Ot(n)),dirty:To(()=>!rc(Ot(t),Ot(n)))});return Ps(r,f=>{u.valid=!f.length},{immediate:!0,flush:"sync"}),u}function Bpe(t,n){function r(f){return f?Array.isArray(f)?f:[f]:[]}if(!n){const f=ws([]);return{errors:f,errorMessage:To(()=>f.value[0]),setErrors:d=>{f.value=r(d)}}}const u=To(()=>n.errorBag.value[Ot(t)]||[]);return{errors:u,errorMessage:To(()=>u.value[0]),setErrors:f=>{n.setFieldErrorBag(Ot(t),r(f))}}}function $pe(t,n,r){return DA(r==null?void 0:r.type)?Upe(t,n,r):Fae(t,n,r)}function Fae(t,n,r){const{initialValue:u,validateOnMount:f,bails:d,type:w,checkedValue:x,label:T,validateOnValueUpdate:I,uncheckedValue:$,controlled:F,keepValueOnUnmount:H,modelPropName:de,syncVModel:ke,form:Ne}=Vpe(r),xe=F?SQ(r4):void 0,Fe=Ne||xe,rt=kpe(t);let ne=!1;const{id:vt,value:Ue,initialValue:We,meta:J,setState:Te,errors:st,errorMessage:wt}=Npe(rt,{modelValue:u,form:Fe});ke&&jpe({value:Ue,prop:de,handleChange:Ht});const je=()=>{J.touched=!0},ue=To(()=>{let me=Ot(n);const j=Ot(Fe==null?void 0:Fe.schema);return j&&!RN(j)&&!w0(j)&&(me=Hpe(j,Ot(rt))||me),RN(me)||w0(me)||g1(me)||Array.isArray(me)?me:Mae(me)});async function Rn(me){var j,lt;return Fe!=null&&Fe.validateSchema?(j=(await Fe.validateSchema(me)).results[Ot(rt)])!==null&&j!==void 0?j:{valid:!0,errors:[]}:Pae(Ue.value,ue.value,{name:Ot(rt),label:Ot(T),values:(lt=Fe==null?void 0:Fe.values)!==null&&lt!==void 0?lt:{},bails:d})}const ln=pJ(async()=>(J.pending=!0,J.validated=!0,Rn("validated-only")),me=>(ne&&(me.valid=!0,me.errors=[]),Te({errors:me.errors}),J.pending=!1,me)),It=pJ(async()=>Rn("silent"),me=>(ne&&(me.valid=!0),J.valid=me.valid,me));function L(me){return(me==null?void 0:me.mode)==="silent"?It():ln()}function Ht(me,j=!0){const lt=xQ(me);Ue.value=lt,!I&&j&&ln()}yx(()=>{if(f)return ln();(!Fe||!Fe.validateSchema)&&It()});function ot(me){J.touched=me}let Nn,an=aa(Ue.value);function it(){Nn=Ps(Ue,(me,j)=>{if(rc(me,j)&&rc(me,an))return;(I?ln:It)(),an=aa(me)},{deep:!0})}it();function Zn(me){var j;Nn==null||Nn();const lt=me&&"value"in me?me.value:We.value;Te({value:aa(lt),initialValue:aa(lt),touched:(j=me==null?void 0:me.touched)!==null&&j!==void 0?j:!1,errors:(me==null?void 0:me.errors)||[]}),J.pending=!1,J.validated=!1,It(),$d(()=>{it()})}function io(me){Ue.value=me}function uo(me){Te({errors:Array.isArray(me)?me:[me]})}const Et={id:vt,name:rt,label:T,value:Ue,meta:J,errors:st,errorMessage:wt,type:w,checkedValue:x,uncheckedValue:$,bails:d,keepValueOnUnmount:H,resetField:Zn,handleReset:()=>Zn(),validate:L,handleChange:Ht,handleBlur:je,setState:Te,setTouched:ot,setErrors:uo,setValue:io};if(b0(hpe,Et),pr(n)&&typeof Ot(n)!="function"&&Ps(n,(me,j)=>{rc(me,j)||(J.validated?ln():It())},{deep:!0}),!Fe)return Et;Fe.register(Et),bx(()=>{ne=!0,Fe.unregister(Et)});const Ee=To(()=>{const me=ue.value;return!me||g1(me)||RN(me)||w0(me)||Array.isArray(me)?{}:Object.keys(me).reduce((j,lt)=>{const Xe=Epe(me[lt]).map(Tt=>Tt.__locatorRef).reduce((Tt,re)=>{const Re=ml(Fe.values,re)||Fe.values[re];return Re!==void 0&&(Tt[re]=Re),Tt},{});return Object.assign(j,Xe),j},{})});return Ps(Ee,(me,j)=>{if(!Object.keys(me).length)return;!rc(me,j)&&(J.validated?ln():It())}),Et}function Vpe(t){var n;const r=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),f=((n=t==null?void 0:t.syncVModel)!==null&&n!==void 0?n:!0)&&!("initialValue"in(t||{}))?gJ(_1(),(t==null?void 0:t.modelPropName)||"modelValue"):t==null?void 0:t.initialValue;if(!t)return Object.assign(Object.assign({},r()),{initialValue:f});const d="valueProp"in t?t.valueProp:t.checkedValue,w="standalone"in t?!t.standalone:t.controlled;return Object.assign(Object.assign(Object.assign({},r()),t||{}),{initialValue:f,controlled:w!=null?w:!0,checkedValue:d})}function Hpe(t,n){if(!!t)return t[n]}function Upe(t,n,r){const u=r!=null&&r.standalone?void 0:SQ(r4),f=r==null?void 0:r.checkedValue,d=r==null?void 0:r.uncheckedValue;function w(x){const T=x.handleChange,I=To(()=>{const F=Ot(x.value),H=Ot(f);return Array.isArray(F)?F.findIndex(de=>rc(de,H))>=0:rc(H,F)});function $(F,H=!0){var de;if(I.value===((de=F==null?void 0:F.target)===null||de===void 0?void 0:de.checked)){H&&x.validate();return}let ke=xQ(F);u||(ke=mJ(Ot(x.value),Ot(f),Ot(d))),T(ke,H)}return Object.assign(Object.assign({},x),{checked:I,checkedValue:f,uncheckedValue:d,handleChange:$})}return w(Fae(t,n,r))}function jpe({prop:t,value:n,handleChange:r}){const u=_1();if(!u)return;const f=t||"modelValue",d=`update:${f}`;f in u.props&&(Ps(n,w=>{rc(w,gJ(u,f))||u.emit(d,w)}),Ps(()=>gJ(u,f),w=>{if(w===wV&&n.value===void 0)return;const x=w===wV?void 0:w;rc(x,vpe(n.value,u.props.modelModifiers))||r(x)}))}function gJ(t,n){if(!!t)return t.props[n]}lg({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>EQ().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:wV},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(t,n){const r=Ol(t,"rules"),u=Ol(t,"name"),f=Ol(t,"label"),d=Ol(t,"uncheckedValue"),w=Ol(t,"keepValue"),{errors:x,value:T,errorMessage:I,validate:$,handleChange:F,handleBlur:H,setTouched:de,resetField:ke,handleReset:Ne,meta:xe,checked:Fe,setErrors:rt}=$pe(u,r,{validateOnMount:t.validateOnMount,bails:t.bails,standalone:t.standalone,type:n.attrs.type,initialValue:Zpe(t,n),checkedValue:n.attrs.value,uncheckedValue:d,label:f,validateOnValueUpdate:!1,keepValueOnUnmount:w}),ne=function(st,wt=!0){F(st,wt),n.emit("update:modelValue",T.value)},vt=Te=>{DA(n.attrs.type)||(T.value=xQ(Te))},Ue=function(st){vt(st),n.emit("update:modelValue",T.value)},We=To(()=>{const{validateOnInput:Te,validateOnChange:st,validateOnBlur:wt,validateOnModelUpdate:je}=Wpe(t),ue=[H,n.attrs.onBlur,wt?$:void 0].filter(Boolean),Rn=[Ht=>ne(Ht,Te),n.attrs.onInput].filter(Boolean),ln=[Ht=>ne(Ht,st),n.attrs.onChange].filter(Boolean),It={name:t.name,onBlur:ue,onInput:Rn,onChange:ln};It["onUpdate:modelValue"]=Ht=>ne(Ht,je),DA(n.attrs.type)&&Fe&&(It.checked=Fe.value);const L=moe(t,n);return bpe(L,n.attrs)&&(It.value=T.value),It});function J(){return{field:We.value,value:T.value,meta:xe,errors:x.value,errorMessage:I.value,validate:$,resetField:ke,handleChange:ne,handleInput:Ue,handleReset:Ne,handleBlur:H,setTouched:de,setErrors:rt}}return n.expose({setErrors:rt,setTouched:de,reset:ke,validate:$,handleChange:F}),()=>{const Te=Ha(moe(t,n)),st=l7(Te,n,J);return Te?Dh(Te,Object.assign(Object.assign({},n.attrs),We.value),st):st}}});function moe(t,n){let r=t.as||"";return!t.as&&!n.slots.default&&(r="input"),r}function Wpe(t){var n,r,u,f;const{validateOnInput:d,validateOnChange:w,validateOnBlur:x,validateOnModelUpdate:T}=EQ();return{validateOnInput:(n=t.validateOnInput)!==null&&n!==void 0?n:d,validateOnChange:(r=t.validateOnChange)!==null&&r!==void 0?r:w,validateOnBlur:(u=t.validateOnBlur)!==null&&u!==void 0?u:x,validateOnModelUpdate:(f=t.validateOnModelUpdate)!==null&&f!==void 0?f:T}}function Zpe(t,n){return DA(n.attrs.type)?loe(t,"modelValue")?t.modelValue:void 0:loe(t,"modelValue")?t.modelValue:n.attrs.value}let Gpe=0;function Bae(t){const n=Ot(t==null?void 0:t.initialValues)||{},r=Ot(t==null?void 0:t.validationSchema);return r&&w0(r)&&g1(r.cast)?aa(r.cast(n)||{}):aa(n)}function qpe(t){var n;const r=Gpe++,u=new Set;let f=!1;const d=ws({}),w=ws(!1),x=ws(0),T=[],I=Gu(Bae(t)),{errorBag:$,setErrorBag:F,setFieldErrorBag:H}=Xpe(t==null?void 0:t.initialErrors),de=To(()=>au($.value).reduce((oe,ye)=>{const Ye=$.value[ye];return Ye&&Ye.length&&(oe[ye]=Ye[0]),oe},{}));function ke(oe){const ye=d.value[oe];return Array.isArray(ye)?ye[0]:ye}function Ne(oe){return!!d.value[oe]}const xe=To(()=>au(d.value).reduce((oe,ye)=>{const Ye=ke(ye);return Ye&&(oe[ye]={name:Ot(Ye.name)||"",label:Ot(Ye.label)||""}),oe},{})),Fe=To(()=>au(d.value).reduce((oe,ye)=>{var Ye;const ut=ke(ye);return ut&&(oe[ye]=(Ye=ut.bails)!==null&&Ye!==void 0?Ye:!0),oe},{})),rt=Object.assign({},(t==null?void 0:t.initialErrors)||{}),ne=(n=t==null?void 0:t.keepValuesOnUnmount)!==null&&n!==void 0?n:!1,{initialValues:vt,originalInitialValues:Ue,setInitialValues:We}=Ype(d,I,t),J=Kpe(d,I,Ue,de),Te=To(()=>[...u,...au(d.value)].reduce((oe,ye)=>{const Ye=ml(I,ye);return i0(oe,ye,Ye),oe},{})),st=t==null?void 0:t.validationSchema,wt=doe(Qe,5),je=doe(Qe,5),ue=pJ(async oe=>await oe==="silent"?wt():je(),(oe,[ye])=>{const Ye=L.fieldsByPath.value||{},ut=au(L.errorBag.value);return[...new Set([...au(oe.results),...au(Ye),...ut])].reduce((Dt,Vt)=>{const sn=Ye[Vt],_n=(oe.results[Vt]||{errors:[]}).errors,Un={errors:_n,valid:!_n.length};if(Dt.results[Vt]=Un,Un.valid||(Dt.errors[Vt]=Un.errors[0]),!sn)return an(Vt,_n),Dt;if(ot(sn,mo=>mo.meta.valid=Un.valid),ye==="silent")return Dt;const lo=Array.isArray(sn)?sn.some(mo=>mo.meta.validated):sn.meta.validated;return ye==="validated-only"&&!lo||ot(sn,mo=>mo.setState({errors:Un.errors})),Dt},{valid:oe.valid,results:{},errors:{}})});function Rn(oe){return function(Ye,ut){return function(Dt){return Dt instanceof Event&&(Dt.preventDefault(),Dt.stopPropagation()),me(au(d.value).reduce((Vt,sn)=>(Vt[sn]=!0,Vt),{})),w.value=!0,x.value++,Oe().then(Vt=>{const sn=aa(I);if(Vt.valid&&typeof Ye=="function"){const _n=aa(Te.value);let Un=oe?_n:sn;return Vt.values&&(Un=Vt.values),Ye(Un,{evt:Dt,controlledValues:_n,setErrors:it,setFieldError:an,setTouched:me,setFieldTouched:Ee,setValues:io,setFieldValue:Zn,resetForm:lt,resetField:j})}!Vt.valid&&typeof ut=="function"&&ut({values:sn,evt:Dt,errors:Vt.errors,results:Vt.results})}).then(Vt=>(w.value=!1,Vt),Vt=>{throw w.value=!1,Vt})}}}const It=Rn(!1);It.withControlled=Rn(!0);const L={formId:r,fieldsByPath:d,values:I,controlledValues:Te,errorBag:$,errors:de,schema:st,submitCount:x,meta:J,isSubmitting:w,fieldArrays:T,keepValuesOnUnmount:ne,validateSchema:Ot(st)?ue:void 0,validate:Oe,register:re,unregister:Re,setFieldErrorBag:H,validateField:pt,setFieldValue:Zn,setValues:io,setErrors:it,setFieldError:an,setFieldTouched:Ee,setTouched:me,resetForm:lt,resetField:j,handleSubmit:It,stageInitialValue:le,unsetInitialValue:Ke,setFieldInitialValue:$e,useFieldModel:Et};function Ht(oe){return Array.isArray(oe)}function ot(oe,ye){return Array.isArray(oe)?oe.forEach(ye):ye(oe)}function Nn(oe){Object.values(d.value).forEach(ye=>{!ye||ot(ye,oe)})}function an(oe,ye){H(oe,ye)}function it(oe){F(oe)}function Zn(oe,ye,{force:Ye}={force:!1}){var ut;const zt=d.value[oe],Dt=aa(ye);if(!zt){i0(I,oe,Dt);return}if(Ht(zt)&&((ut=zt[0])===null||ut===void 0?void 0:ut.type)==="checkbox"&&!Array.isArray(ye)){const sn=aa(mJ(ml(I,oe)||[],ye,void 0));i0(I,oe,sn);return}let Vt=Dt;!Ht(zt)&&zt.type==="checkbox"&&!Ye&&!f&&(Vt=aa(mJ(ml(I,oe),ye,Ot(zt.uncheckedValue)))),i0(I,oe,Vt)}function io(oe){au(I).forEach(ye=>{delete I[ye]}),au(oe).forEach(ye=>{Zn(ye,oe[ye])}),T.forEach(ye=>ye&&ye.reset())}function uo(oe){const{value:ye}=Lae(oe,void 0,L);return Ps(ye,()=>{Ne(Ot(oe))||Oe({mode:"validated-only"})},{deep:!0}),u.add(Ot(oe)),ye}function Et(oe){return Array.isArray(oe)?oe.map(uo):uo(oe)}function Ee(oe,ye){const Ye=d.value[oe];Ye&&ot(Ye,ut=>ut.setTouched(ye))}function me(oe){au(oe).forEach(ye=>{Ee(ye,!!oe[ye])})}function j(oe,ye){const Ye=d.value[oe];Ye&&ot(Ye,ut=>ut.resetField(ye))}function lt(oe){f=!0,Nn(Ye=>Ye.resetField());const ye=oe!=null&&oe.values?oe.values:Ue.value;We(ye),io(ye),oe!=null&&oe.touched&&me(oe.touched),it((oe==null?void 0:oe.errors)||{}),x.value=(oe==null?void 0:oe.submitCount)||0,$d(()=>{f=!1})}function Xe(oe,ye){const Ye=T0(oe),ut=ye;if(!d.value[ut]){d.value[ut]=Ye;return}const zt=d.value[ut];zt&&!Array.isArray(zt)&&(d.value[ut]=[zt]),d.value[ut]=[...d.value[ut],Ye]}function Tt(oe,ye){const Ye=ye,ut=d.value[Ye];if(!!ut){if(!Ht(ut)&&oe.id===ut.id){delete d.value[Ye];return}if(Ht(ut)){const zt=ut.findIndex(Dt=>Dt.id===oe.id);if(zt===-1)return;ut.splice(zt,1),ut.length||delete d.value[Ye]}}}function re(oe){const ye=Ot(oe.name);Xe(oe,ye),pr(oe.name)&&Ps(oe.name,async(ut,zt)=>{await $d(),Tt(oe,zt),Xe(oe,ut),(de.value[zt]||de.value[ut])&&(an(zt,void 0),pt(ut)),await $d(),Ne(zt)||tV(I,zt)});const Ye=Ot(oe.errorMessage);Ye&&(rt==null?void 0:rt[ye])!==Ye&&pt(ye),delete rt[ye]}function Re(oe){const ye=Ot(oe.name),Ye=d.value[ye],ut=!!Ye&&Ht(Ye);Tt(oe,ye),$d(()=>{var zt;const Dt=(zt=Ot(oe.keepValueOnUnmount))!==null&&zt!==void 0?zt:Ot(ne),Vt=ml(I,ye);if(ut&&(Ye===d.value[ye]||!d.value[ye])&&!Dt)if(Array.isArray(Vt)){const _n=Vt.findIndex(Un=>rc(Un,Ot(oe.checkedValue)));if(_n>-1){const Un=[...Vt];Un.splice(_n,1),Zn(ye,Un,{force:!0})}}else Vt===Ot(oe.checkedValue)&&tV(I,ye);if(!Ne(ye)){if(an(ye,void 0),Dt||ut&&Array.isArray(Vt)&&!Aae(Vt))return;tV(I,ye)}})}async function Oe(oe){const ye=(oe==null?void 0:oe.mode)||"force";if(ye==="force"&&Nn(Dt=>Dt.meta.validated=!0),L.validateSchema)return L.validateSchema(ye);const Ye=await Promise.all(Object.values(d.value).map(Dt=>{const Vt=Array.isArray(Dt)?Dt[0]:Dt;return Vt?Vt.validate(oe).then(sn=>({key:Ot(Vt.name),valid:sn.valid,errors:sn.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),ut={},zt={};for(const Dt of Ye)ut[Dt.key]={valid:Dt.valid,errors:Dt.errors},Dt.errors.length&&(zt[Dt.key]=Dt.errors[0]);return{valid:Ye.every(Dt=>Dt.valid),results:ut,errors:zt}}async function pt(oe){const ye=d.value[oe];return ye?Array.isArray(ye)?ye.map(Ye=>Ye.validate())[0]:ye.validate():Promise.resolve({errors:[],valid:!0})}function Ke(oe){tV(vt.value,oe)}function le(oe,ye,Ye=!1){i0(I,oe,ye),$e(oe,ye),Ye&&!(t!=null&&t.initialValues)&&i0(Ue.value,oe,aa(ye))}function $e(oe,ye){i0(vt.value,oe,aa(ye))}async function Qe(){const oe=Ot(st);return oe?RN(oe)||w0(oe)?await Ppe(oe,I):await zpe(oe,I,{names:xe.value,bailsMap:Fe.value}):{valid:!0,results:{},errors:{}}}const Ve=It((oe,{evt:ye})=>{Oae(ye)&&ye.target.submit()});return yx(()=>{if(t!=null&&t.initialErrors&&it(t.initialErrors),t!=null&&t.initialTouched&&me(t.initialTouched),t!=null&&t.validateOnMount){Oe();return}L.validateSchema&&L.validateSchema("silent")}),pr(st)&&Ps(st,()=>{var oe;(oe=L.validateSchema)===null||oe===void 0||oe.call(L,"validated-only")}),b0(r4,L),Object.assign(Object.assign({},L),{handleReset:()=>lt(),submitForm:Ve})}function Kpe(t,n,r,u){const f={touched:"some",pending:"some",valid:"every"},d=To(()=>!rc(n,Ot(r)));function w(){const T=Object.values(t.value).flat(1).filter(Boolean);return au(f).reduce((I,$)=>{const F=f[$];return I[$]=T[F](H=>H.meta[$]),I},{})}const x=Gu(w());return rQ(()=>{const T=w();x.touched=T.touched,x.valid=T.valid,x.pending=T.pending}),To(()=>Object.assign(Object.assign({initialValues:Ot(r)},x),{valid:x.valid&&!au(u.value).length,dirty:d.value}))}function Ype(t,n,r){const u=Bae(r),f=r==null?void 0:r.initialValues,d=ws(u),w=ws(aa(u));function x(T,I=!1){d.value=aa(T),w.value=aa(T),I&&au(t.value).forEach($=>{const F=t.value[$],H=Array.isArray(F)?F.some(ke=>ke.meta.touched):F==null?void 0:F.meta.touched;if(!F||H)return;const de=ml(d.value,$);i0(n,$,aa(de))})}return pr(f)&&Ps(f,T=>{x(T,!0)},{deep:!0}),{initialValues:d,originalInitialValues:w,setInitialValues:x}}function Xpe(t){const n=ws({});function r(d){return Array.isArray(d)?d:d?[d]:[]}function u(d,w){if(!w){delete n.value[d];return}n.value[d]=r(w)}function f(d){n.value=au(d).reduce((w,x)=>{const T=d[x];return T&&(w[x]=r(T)),w},{})}return t&&f(t),{errorBag:n,setErrorBag:f,setFieldErrorBag:u}}lg({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(t,n){const r=Ol(t,"initialValues"),u=Ol(t,"validationSchema"),f=Ol(t,"keepValues"),{errors:d,errorBag:w,values:x,meta:T,isSubmitting:I,submitCount:$,controlledValues:F,validate:H,validateField:de,handleReset:ke,resetForm:Ne,handleSubmit:xe,setErrors:Fe,setFieldError:rt,setFieldValue:ne,setValues:vt,setFieldTouched:Ue,setTouched:We,resetField:J}=qpe({validationSchema:u.value?u:void 0,initialValues:r,initialErrors:t.initialErrors,initialTouched:t.initialTouched,validateOnMount:t.validateOnMount,keepValuesOnUnmount:f}),Te=xe((L,{evt:Ht})=>{Oae(Ht)&&Ht.target.submit()},t.onInvalidSubmit),st=t.onSubmit?xe(t.onSubmit,t.onInvalidSubmit):Te;function wt(L){kQ(L)&&L.preventDefault(),ke(),typeof n.attrs.onReset=="function"&&n.attrs.onReset()}function je(L,Ht){return xe(typeof L=="function"&&!Ht?L:Ht,t.onInvalidSubmit)(L)}function ue(){return aa(x)}function Rn(){return aa(T.value)}function ln(){return aa(d.value)}function It(){return{meta:T.value,errors:d.value,errorBag:w.value,values:x,isSubmitting:I.value,submitCount:$.value,controlledValues:F.value,validate:H,validateField:de,handleSubmit:je,handleReset:ke,submitForm:Te,setErrors:Fe,setFieldError:rt,setFieldValue:ne,setValues:vt,setFieldTouched:Ue,setTouched:We,resetForm:Ne,resetField:J,getValues:ue,getMeta:Rn,getErrors:ln}}return n.expose({setFieldError:rt,setErrors:Fe,setFieldValue:ne,setValues:vt,setFieldTouched:Ue,setTouched:We,resetForm:Ne,validate:H,validateField:de,resetField:J,getValues:ue,getMeta:Rn,getErrors:ln}),function(){const Ht=t.as==="form"?t.as:Ha(t.as),ot=l7(Ht,n,It);if(!t.as)return ot;const Nn=t.as==="form"?{novalidate:!0}:{};return Dh(Ht,Object.assign(Object.assign(Object.assign({},Nn),n.attrs),{onSubmit:st,onReset:wt}),ot)}}});function Jpe(t){const n=SQ(r4,void 0),r=ws([]),u=()=>{},f={fields:r,remove:u,push:u,swap:u,insert:u,update:u,replace:u,prepend:u,move:u};if(!n||!Ot(t))return f;const d=n.fieldArrays.find(Ue=>Ot(Ue.path)===Ot(t));if(d)return d;let w=0;function x(){return ml(n==null?void 0:n.values,Ot(t),[])||[]}function T(){const Ue=x();r.value=Ue.map($),I()}T();function I(){const Ue=r.value.length;for(let We=0;We<Ue;We++){const J=r.value[We];J.isFirst=We===0,J.isLast=We===Ue-1}}function $(Ue){const We=w++;return{key:We,value:wpe({get(){const Te=ml(n==null?void 0:n.values,Ot(t),[])||[],st=r.value.findIndex(wt=>wt.key===We);return st===-1?Ue:Te[st]},set(Te){const st=r.value.findIndex(wt=>wt.key===We);st!==-1&&Fe(st,Te)}}),isFirst:!1,isLast:!1}}function F(){I(),n==null||n.validate({mode:"silent"})}function H(Ue){const We=Ot(t),J=ml(n==null?void 0:n.values,We);if(!J||!Array.isArray(J))return;const Te=[...J];Te.splice(Ue,1),n==null||n.unsetInitialValue(We+`[${Ue}]`),n==null||n.setFieldValue(We,Te),r.value.splice(Ue,1),F()}function de(Ue){const We=Ot(t),J=ml(n==null?void 0:n.values,We),Te=TN(J)?[]:J;if(!Array.isArray(Te))return;const st=[...Te];st.push(Ue),n==null||n.stageInitialValue(We+`[${st.length-1}]`,Ue),n==null||n.setFieldValue(We,st),r.value.push($(Ue)),F()}function ke(Ue,We){const J=Ot(t),Te=ml(n==null?void 0:n.values,J);if(!Array.isArray(Te)||!(Ue in Te)||!(We in Te))return;const st=[...Te],wt=[...r.value],je=st[Ue];st[Ue]=st[We],st[We]=je;const ue=wt[Ue];wt[Ue]=wt[We],wt[We]=ue,n==null||n.setFieldValue(J,st),r.value=wt,I()}function Ne(Ue,We){const J=Ot(t),Te=ml(n==null?void 0:n.values,J);if(!Array.isArray(Te)||Te.length<Ue)return;const st=[...Te],wt=[...r.value];st.splice(Ue,0,We),wt.splice(Ue,0,$(We)),n==null||n.setFieldValue(J,st),r.value=wt,F()}function xe(Ue){const We=Ot(t);n==null||n.setFieldValue(We,Ue),T(),F()}function Fe(Ue,We){const J=Ot(t),Te=ml(n==null?void 0:n.values,J);!Array.isArray(Te)||Te.length-1<Ue||(n==null||n.setFieldValue(`${J}[${Ue}]`,We),n==null||n.validate({mode:"validated-only"}))}function rt(Ue){const We=Ot(t),J=ml(n==null?void 0:n.values,We),Te=TN(J)?[]:J;if(!Array.isArray(Te))return;const st=[Ue,...Te];n==null||n.stageInitialValue(We+`[${st.length-1}]`,Ue),n==null||n.setFieldValue(We,st),r.value.unshift($(Ue)),F()}function ne(Ue,We){const J=Ot(t),Te=ml(n==null?void 0:n.values,J),st=TN(Te)?[]:[...Te];if(!Array.isArray(Te)||!(Ue in Te)||!(We in Te))return;const wt=[...r.value],je=wt[Ue];wt.splice(Ue,1),wt.splice(We,0,je);const ue=st[Ue];st.splice(Ue,1),st.splice(We,0,ue),n==null||n.setFieldValue(J,st),r.value=wt,F()}const vt={fields:r,remove:H,push:de,swap:ke,insert:Ne,update:Fe,replace:xe,prepend:rt,move:ne};return n.fieldArrays.push(Object.assign({path:t,reset:T},vt)),bx(()=>{const Ue=n.fieldArrays.findIndex(We=>Ot(We.path)===Ot(t));Ue>=0&&n.fieldArrays.splice(Ue,1)}),Ps(x,Ue=>{const We=r.value.map(J=>J.value);rc(Ue,We)||T()}),vt}lg({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(t,n){const{push:r,remove:u,swap:f,insert:d,replace:w,update:x,prepend:T,move:I,fields:$}=Jpe(Ol(t,"name"));function F(){return{fields:$.value,push:r,remove:u,swap:f,insert:d,update:x,replace:w,prepend:T,move:I}}return n.expose({push:r,remove:u,swap:f,insert:d,update:x,replace:w,prepend:T,move:I}),()=>l7(void 0,n,F)}});lg({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,n){const r=cu(r4,void 0),u=To(()=>r==null?void 0:r.errors.value[t.name]);function f(){return{message:u.value}}return()=>{if(!u.value)return;const d=t.as?Ha(t.as):t.as,w=l7(d,n,f),x=Object.assign({role:"alert"},n.attrs);return!d&&(Array.isArray(w)||!w)&&(w==null?void 0:w.length)?w:(Array.isArray(w)||!w)&&!(w!=null&&w.length)?Dh(d||"span",x,u.value):Dh(d,x,w)}}});const poe={alpha_dash:yae,alpha_num:bae,alpha_spaces:vae,alpha:gae,between:wae,confirmed:jme,digits:_ae,dimensions:Gme,email:qme,ext:Kme,image:Yme,integer:Xme,is_not:Qme,is:Jme,length:tpe,max_value:Sae,max:Cae,mimes:npe,min_value:Eae,min:xae,not_one_of:ope,numeric:ape,one_of:_Q,regex:Tae,required:ipe,size:lpe,url:cpe};/**
  * vee-validate v4.8.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function goe(t){return typeof t=="function"}const Qpe=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function $ae(t,n){return Object.keys(n).forEach(r=>{if(Qpe(n[r])){t[r]||(t[r]={}),$ae(t[r],n[r]);return}t[r]=n[r]}),t}function yoe(t,n){return t.replace(/(\d:)?{([^}]+)}/g,function(r,u,f){if(!u||!n.params)return f in n?n[f]:n.params&&f in n.params?n.params[f]:`{${f}}`;if(!Array.isArray(n.params))return f in n.params?n.params[f]:`{${f}}`;const d=Number(u.replace(":",""));return d in n.params?n.params[d]:`${u}{${f}}`})}class ege{constructor(n,r){this.container={},this.locale=n,this.merge(r)}resolve(n){return this.format(this.locale,n)}getLocaleDefault(n,r){var u,f,d,w,x;return((d=(f=(u=this.container[n])===null||u===void 0?void 0:u.fields)===null||f===void 0?void 0:f[r])===null||d===void 0?void 0:d._default)||((x=(w=this.container[n])===null||w===void 0?void 0:w.messages)===null||x===void 0?void 0:x._default)}format(n,r){var u,f,d,w,x,T,I;let $;const{rule:F,form:H,label:de,name:ke}=r,Ne=de||((f=(u=this.container[n])===null||u===void 0?void 0:u.names)===null||f===void 0?void 0:f[ke])||ke;return F?($=((x=(w=(d=this.container[n])===null||d===void 0?void 0:d.fields)===null||w===void 0?void 0:w[ke])===null||x===void 0?void 0:x[F.name])||((I=(T=this.container[n])===null||T===void 0?void 0:T.messages)===null||I===void 0?void 0:I[F.name]),$||($=this.getLocaleDefault(n,ke)||`${Ne} is not valid`),goe($)?$(r):yoe($,Object.assign(Object.assign({},H),{field:Ne,params:F.params}))):($=this.getLocaleDefault(n,ke)||`${Ne} is not valid`,goe($)?$(r):yoe($,Object.assign(Object.assign({},H),{field:Ne})))}merge(n){$ae(this.container,n)}}let GS;function tge(t,n){GS||(GS=new ege("en",{}));const r=u=>GS.resolve(u);return typeof t=="string"?(GS.locale=t,n&&GS.merge({[t]:n}),r):(GS.merge(t),r)}function nge(t){GS.locale=t}const oge="zh_TW",sge={_default:"{field} \u7684\u503C\u7121\u6548",alpha:"{field} \u9808\u4EE5\u82F1\u6587\u7D44\u6210",alpha_dash:"{field} \u9808\u4EE5\u82F1\u6578\u3001\u7834\u6298\u865F\u53CA\u5E95\u7DDA\u7D44\u6210",alpha_num:"{field} \u9808\u4EE5\u82F1\u6578\u7D44\u6210",alpha_spaces:"{field} \u9808\u4EE5\u82F1\u6587\u53CA\u7A7A\u683C\u7D44\u6210",between:"{field} \u9808\u4ECB\u65BC 0:{min} \u81F3 1:{max}\u4E4B\u9593",confirmed:" {field} \u4E0D\u4E00\u81F4",digits:"{field} \u9808\u70BA 0:{length} \u4F4D\u6578\u5B57",dimensions:"{field} \u5716\u7247\u5C3A\u5BF8\u4E0D\u6B63\u78BA\u3002\u9808\u70BA 0:{width} x 1:{height} \u50CF\u7D20",email:"{field} \u9808\u70BA\u6709\u6548\u7684\u96FB\u5B50\u4FE1\u7BB1",not_one_of:"{field} \u7684\u9078\u9805\u7121\u6548",ext:"{field} \u9808\u70BA\u6709\u6548\u7684\u6A94\u6848",image:"{field} \u9808\u70BA\u5716\u7247",one_of:"{field} \u7684\u9078\u9805\u7121\u6548",integer:"{field} \u9808\u70BA\u6574\u6578",length:"{field} \u7684\u9577\u5EA6\u9808\u70BA 0:{length} \u5B57\u5143",max:"{field} \u4E0D\u80FD\u5927\u65BC 0:{length} \u500B\u5B57\u5143",max_value:"{field} \u4E0D\u5F97\u5927\u65BC 0:{max}",mimes:"{field} \u9808\u70BA\u6709\u6548\u7684\u6A94\u6848\u985E\u578B",min:"{field} \u4E0D\u80FD\u5C0F\u65BC 0:{length} \u500B\u5B57\u5143",min_value:"{field} \u4E0D\u5F97\u5C0F\u65BC 0:{min}",numeric:"{field} \u9808\u70BA\u6578\u5B57",regex:"{field} \u7684\u683C\u5F0F\u932F\u8AA4",required:"{field} \u70BA\u5FC5\u586B",required_if:"{field} \u70BA\u5FC5\u586B",size:"{field} \u7684\u6A94\u6848\u9808\u5C0F\u65BC 0:{size}KB",url:"{field} \u9808\u70BA\u6709\u6548\u7684URL"},rge={code:oge,messages:sge};const age={__name:"App",setup(t){const n=nae(),r=w=>{n.add({severity:"success",summary:"Success Message",detail:w,life:3e3})},u=w=>{n.add({severity:"info",summary:"Info Message",detail:w,life:3e3})},f=w=>{n.add({severity:"warn",summary:"Warn Message",detail:w,life:3e3})},d=w=>{console.log(w),n.add({severity:"error",summary:"Error Message",detail:w,life:3e3})};return(w,x)=>{const T=Vn("RouterView"),I=Vn("Toast");return be(),Le(Xn,null,[Gn(T,{onShowSuccess:r,onShowInfo:u,onShowWarn:f,onShowError:d}),Gn(I)],64)}}},ige="modulepreload",lge=function(t){return"/vite_base_dist/"+t},boe={},Il=function(n,r,u){if(!r||r.length===0)return n();const f=document.getElementsByTagName("link");return Promise.all(r.map(d=>{if(d=lge(d),d in boe)return;boe[d]=!0;const w=d.endsWith(".css"),x=w?'[rel="stylesheet"]':"";if(!!u)for(let $=f.length-1;$>=0;$--){const F=f[$];if(F.href===d&&(!w||F.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${x}`))return;const I=document.createElement("link");if(I.rel=w?"stylesheet":ige,w||(I.as="script",I.crossOrigin=""),I.href=d,document.head.appendChild(I),w)return new Promise(($,F)=>{I.addEventListener("load",$),I.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${d}`)))})})).then(()=>n())};/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const bA=typeof window<"u";function cge(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const qr=Object.assign;function AX(t,n){const r={};for(const u in n){const f=n[u];r[u]=ag(f)?f.map(t):t(f)}return r}const AN=()=>{},ag=Array.isArray,uge=/\/$/,dge=t=>t.replace(uge,"");function IX(t,n,r="/"){let u,f={},d="",w="";const x=n.indexOf("#");let T=n.indexOf("?");return x<T&&x>=0&&(T=-1),T>-1&&(u=n.slice(0,T),d=n.slice(T+1,x>-1?x:n.length),f=t(d)),x>-1&&(u=u||n.slice(0,x),w=n.slice(x,n.length)),u=pge(u!=null?u:n,r),{fullPath:u+(d&&"?")+d+w,path:u,query:f,hash:w}}function fge(t,n){const r=n.query?t(n.query):"";return n.path+(r&&"?")+r+(n.hash||"")}function voe(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function hge(t,n,r){const u=n.matched.length-1,f=r.matched.length-1;return u>-1&&u===f&&MA(n.matched[u],r.matched[f])&&Vae(n.params,r.params)&&t(n.query)===t(r.query)&&n.hash===r.hash}function MA(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function Vae(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(!mge(t[r],n[r]))return!1;return!0}function mge(t,n){return ag(t)?woe(t,n):ag(n)?woe(n,t):t===n}function woe(t,n){return ag(n)?t.length===n.length&&t.every((r,u)=>r===n[u]):t.length===1&&t[0]===n}function pge(t,n){if(t.startsWith("/"))return t;if(!t)return n;const r=n.split("/"),u=t.split("/");let f=r.length-1,d,w;for(d=0;d<u.length;d++)if(w=u[d],w!==".")if(w==="..")f>1&&f--;else break;return r.slice(0,f).join("/")+"/"+u.slice(d-(d===u.length?1:0)).join("/")}var WN;(function(t){t.pop="pop",t.push="push"})(WN||(WN={}));var IN;(function(t){t.back="back",t.forward="forward",t.unknown=""})(IN||(IN={}));function gge(t){if(!t)if(bA){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),dge(t)}const yge=/^[^#]+#/;function bge(t,n){return t.replace(yge,"#")+n}function vge(t,n){const r=document.documentElement.getBoundingClientRect(),u=t.getBoundingClientRect();return{behavior:n.behavior,left:u.left-r.left-(n.left||0),top:u.top-r.top-(n.top||0)}}const c7=()=>({left:window.pageXOffset,top:window.pageYOffset});function wge(t){let n;if("el"in t){const r=t.el,u=typeof r=="string"&&r.startsWith("#"),f=typeof r=="string"?u?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!f)return;n=vge(f,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function _oe(t,n){return(history.state?history.state.position-n:-1)+t}const yJ=new Map;function _ge(t,n){yJ.set(t,n)}function kge(t){const n=yJ.get(t);return yJ.delete(t),n}let Cge=()=>location.protocol+"//"+location.host;function Hae(t,n){const{pathname:r,search:u,hash:f}=n,d=t.indexOf("#");if(d>-1){let x=f.includes(t.slice(d))?t.slice(d).length:1,T=f.slice(x);return T[0]!=="/"&&(T="/"+T),voe(T,"")}return voe(r,t)+u+f}function Sge(t,n,r,u){let f=[],d=[],w=null;const x=({state:H})=>{const de=Hae(t,location),ke=r.value,Ne=n.value;let xe=0;if(H){if(r.value=de,n.value=H,w&&w===ke){w=null;return}xe=Ne?H.position-Ne.position:0}else u(de);f.forEach(Fe=>{Fe(r.value,ke,{delta:xe,type:WN.pop,direction:xe?xe>0?IN.forward:IN.back:IN.unknown})})};function T(){w=r.value}function I(H){f.push(H);const de=()=>{const ke=f.indexOf(H);ke>-1&&f.splice(ke,1)};return d.push(de),de}function $(){const{history:H}=window;!H.state||H.replaceState(qr({},H.state,{scroll:c7()}),"")}function F(){for(const H of d)H();d=[],window.removeEventListener("popstate",x),window.removeEventListener("beforeunload",$)}return window.addEventListener("popstate",x),window.addEventListener("beforeunload",$),{pauseListeners:T,listen:I,destroy:F}}function koe(t,n,r,u=!1,f=!1){return{back:t,current:n,forward:r,replaced:u,position:window.history.length,scroll:f?c7():null}}function xge(t){const{history:n,location:r}=window,u={value:Hae(t,r)},f={value:n.state};f.value||d(u.value,{back:null,current:u.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function d(T,I,$){const F=t.indexOf("#"),H=F>-1?(r.host&&document.querySelector("base")?t:t.slice(F))+T:Cge()+t+T;try{n[$?"replaceState":"pushState"](I,"",H),f.value=I}catch(de){console.error(de),r[$?"replace":"assign"](H)}}function w(T,I){const $=qr({},n.state,koe(f.value.back,T,f.value.forward,!0),I,{position:f.value.position});d(T,$,!0),u.value=T}function x(T,I){const $=qr({},f.value,n.state,{forward:T,scroll:c7()});d($.current,$,!0);const F=qr({},koe(u.value,T,null),{position:$.position+1},I);d(T,F,!1),u.value=T}return{location:u,state:f,push:x,replace:w}}function Ege(t){t=gge(t);const n=xge(t),r=Sge(t,n.state,n.location,n.replace);function u(d,w=!0){w||r.pauseListeners(),history.go(d)}const f=qr({location:"",base:t,go:u,createHref:bge.bind(null,t)},n,r);return Object.defineProperty(f,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(f,"state",{enumerable:!0,get:()=>n.state.value}),f}function Tge(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Ege(t)}function Rge(t){return typeof t=="string"||t&&typeof t=="object"}function Uae(t){return typeof t=="string"||typeof t=="symbol"}const o0={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},jae=Symbol("");var Coe;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Coe||(Coe={}));function PA(t,n){return qr(new Error,{type:t,[jae]:!0},n)}function r1(t,n){return t instanceof Error&&jae in t&&(n==null||!!(t.type&n))}const Soe="[^/]+?",Age={sensitive:!1,strict:!1,start:!0,end:!0},Ige=/[.+*?^${}()[\]/\\]/g;function Oge(t,n){const r=qr({},Age,n),u=[];let f=r.start?"^":"";const d=[];for(const I of t){const $=I.length?[]:[90];r.strict&&!I.length&&(f+="/");for(let F=0;F<I.length;F++){const H=I[F];let de=40+(r.sensitive?.25:0);if(H.type===0)F||(f+="/"),f+=H.value.replace(Ige,"\\$&"),de+=40;else if(H.type===1){const{value:ke,repeatable:Ne,optional:xe,regexp:Fe}=H;d.push({name:ke,repeatable:Ne,optional:xe});const rt=Fe||Soe;if(rt!==Soe){de+=10;try{new RegExp(`(${rt})`)}catch(vt){throw new Error(`Invalid custom RegExp for param "${ke}" (${rt}): `+vt.message)}}let ne=Ne?`((?:${rt})(?:/(?:${rt}))*)`:`(${rt})`;F||(ne=xe&&I.length<2?`(?:/${ne})`:"/"+ne),xe&&(ne+="?"),f+=ne,de+=20,xe&&(de+=-8),Ne&&(de+=-20),rt===".*"&&(de+=-50)}$.push(de)}u.push($)}if(r.strict&&r.end){const I=u.length-1;u[I][u[I].length-1]+=.7000000000000001}r.strict||(f+="/?"),r.end?f+="$":r.strict&&(f+="(?:/|$)");const w=new RegExp(f,r.sensitive?"":"i");function x(I){const $=I.match(w),F={};if(!$)return null;for(let H=1;H<$.length;H++){const de=$[H]||"",ke=d[H-1];F[ke.name]=de&&ke.repeatable?de.split("/"):de}return F}function T(I){let $="",F=!1;for(const H of t){(!F||!$.endsWith("/"))&&($+="/"),F=!1;for(const de of H)if(de.type===0)$+=de.value;else if(de.type===1){const{value:ke,repeatable:Ne,optional:xe}=de,Fe=ke in I?I[ke]:"";if(ag(Fe)&&!Ne)throw new Error(`Provided param "${ke}" is an array but it is not repeatable (* or + modifiers)`);const rt=ag(Fe)?Fe.join("/"):Fe;if(!rt)if(xe)H.length<2&&($.endsWith("/")?$=$.slice(0,-1):F=!0);else throw new Error(`Missing required param "${ke}"`);$+=rt}}return $||"/"}return{re:w,score:u,keys:d,parse:x,stringify:T}}function Dge(t,n){let r=0;for(;r<t.length&&r<n.length;){const u=n[r]-t[r];if(u)return u;r++}return t.length<n.length?t.length===1&&t[0]===40+40?-1:1:t.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function Mge(t,n){let r=0;const u=t.score,f=n.score;for(;r<u.length&&r<f.length;){const d=Dge(u[r],f[r]);if(d)return d;r++}if(Math.abs(f.length-u.length)===1){if(xoe(u))return 1;if(xoe(f))return-1}return f.length-u.length}function xoe(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const Pge={type:0,value:""},zge=/[a-zA-Z0-9_]/;function Nge(t){if(!t)return[[]];if(t==="/")return[[Pge]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function n(de){throw new Error(`ERR (${r})/"${I}": ${de}`)}let r=0,u=r;const f=[];let d;function w(){d&&f.push(d),d=[]}let x=0,T,I="",$="";function F(){!I||(r===0?d.push({type:0,value:I}):r===1||r===2||r===3?(d.length>1&&(T==="*"||T==="+")&&n(`A repeatable param (${I}) must be alone in its segment. eg: '/:ids+.`),d.push({type:1,value:I,regexp:$,repeatable:T==="*"||T==="+",optional:T==="*"||T==="?"})):n("Invalid state to consume buffer"),I="")}function H(){I+=T}for(;x<t.length;){if(T=t[x++],T==="\\"&&r!==2){u=r,r=4;continue}switch(r){case 0:T==="/"?(I&&F(),w()):T===":"?(F(),r=1):H();break;case 4:H(),r=u;break;case 1:T==="("?r=2:zge.test(T)?H():(F(),r=0,T!=="*"&&T!=="?"&&T!=="+"&&x--);break;case 2:T===")"?$[$.length-1]=="\\"?$=$.slice(0,-1)+T:r=3:$+=T;break;case 3:F(),r=0,T!=="*"&&T!=="?"&&T!=="+"&&x--,$="";break;default:n("Unknown state");break}}return r===2&&n(`Unfinished custom RegExp for param "${I}"`),F(),w(),f}function Lge(t,n,r){const u=Oge(Nge(t.path),r),f=qr(u,{record:t,parent:n,children:[],alias:[]});return n&&!f.record.aliasOf==!n.record.aliasOf&&n.children.push(f),f}function Fge(t,n){const r=[],u=new Map;n=Roe({strict:!1,end:!0,sensitive:!1},n);function f($){return u.get($)}function d($,F,H){const de=!H,ke=Bge($);ke.aliasOf=H&&H.record;const Ne=Roe(n,$),xe=[ke];if("alias"in $){const ne=typeof $.alias=="string"?[$.alias]:$.alias;for(const vt of ne)xe.push(qr({},ke,{components:H?H.record.components:ke.components,path:vt,aliasOf:H?H.record:ke}))}let Fe,rt;for(const ne of xe){const{path:vt}=ne;if(F&&vt[0]!=="/"){const Ue=F.record.path,We=Ue[Ue.length-1]==="/"?"":"/";ne.path=F.record.path+(vt&&We+vt)}if(Fe=Lge(ne,F,Ne),H?H.alias.push(Fe):(rt=rt||Fe,rt!==Fe&&rt.alias.push(Fe),de&&$.name&&!Toe(Fe)&&w($.name)),ke.children){const Ue=ke.children;for(let We=0;We<Ue.length;We++)d(Ue[We],Fe,H&&H.children[We])}H=H||Fe,(Fe.record.components&&Object.keys(Fe.record.components).length||Fe.record.name||Fe.record.redirect)&&T(Fe)}return rt?()=>{w(rt)}:AN}function w($){if(Uae($)){const F=u.get($);F&&(u.delete($),r.splice(r.indexOf(F),1),F.children.forEach(w),F.alias.forEach(w))}else{const F=r.indexOf($);F>-1&&(r.splice(F,1),$.record.name&&u.delete($.record.name),$.children.forEach(w),$.alias.forEach(w))}}function x(){return r}function T($){let F=0;for(;F<r.length&&Mge($,r[F])>=0&&($.record.path!==r[F].record.path||!Wae($,r[F]));)F++;r.splice(F,0,$),$.record.name&&!Toe($)&&u.set($.record.name,$)}function I($,F){let H,de={},ke,Ne;if("name"in $&&$.name){if(H=u.get($.name),!H)throw PA(1,{location:$});Ne=H.record.name,de=qr(Eoe(F.params,H.keys.filter(rt=>!rt.optional).map(rt=>rt.name)),$.params&&Eoe($.params,H.keys.map(rt=>rt.name))),ke=H.stringify(de)}else if("path"in $)ke=$.path,H=r.find(rt=>rt.re.test(ke)),H&&(de=H.parse(ke),Ne=H.record.name);else{if(H=F.name?u.get(F.name):r.find(rt=>rt.re.test(F.path)),!H)throw PA(1,{location:$,currentLocation:F});Ne=H.record.name,de=qr({},F.params,$.params),ke=H.stringify(de)}const xe=[];let Fe=H;for(;Fe;)xe.unshift(Fe.record),Fe=Fe.parent;return{name:Ne,path:ke,params:de,matched:xe,meta:Vge(xe)}}return t.forEach($=>d($)),{addRoute:d,resolve:I,removeRoute:w,getRoutes:x,getRecordMatcher:f}}function Eoe(t,n){const r={};for(const u of n)u in t&&(r[u]=t[u]);return r}function Bge(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:$ge(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function $ge(t){const n={},r=t.props||!1;if("component"in t)n.default=r;else for(const u in t.components)n[u]=typeof r=="boolean"?r:r[u];return n}function Toe(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Vge(t){return t.reduce((n,r)=>qr(n,r.meta),{})}function Roe(t,n){const r={};for(const u in t)r[u]=u in n?n[u]:t[u];return r}function Wae(t,n){return n.children.some(r=>r===t||Wae(t,r))}const Zae=/#/g,Hge=/&/g,Uge=/\//g,jge=/=/g,Wge=/\?/g,Gae=/\+/g,Zge=/%5B/g,Gge=/%5D/g,qae=/%5E/g,qge=/%60/g,Kae=/%7B/g,Kge=/%7C/g,Yae=/%7D/g,Yge=/%20/g;function TQ(t){return encodeURI(""+t).replace(Kge,"|").replace(Zge,"[").replace(Gge,"]")}function Xge(t){return TQ(t).replace(Kae,"{").replace(Yae,"}").replace(qae,"^")}function bJ(t){return TQ(t).replace(Gae,"%2B").replace(Yge,"+").replace(Zae,"%23").replace(Hge,"%26").replace(qge,"`").replace(Kae,"{").replace(Yae,"}").replace(qae,"^")}function Jge(t){return bJ(t).replace(jge,"%3D")}function Qge(t){return TQ(t).replace(Zae,"%23").replace(Wge,"%3F")}function eye(t){return t==null?"":Qge(t).replace(Uge,"%2F")}function _V(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function tye(t){const n={};if(t===""||t==="?")return n;const u=(t[0]==="?"?t.slice(1):t).split("&");for(let f=0;f<u.length;++f){const d=u[f].replace(Gae," "),w=d.indexOf("="),x=_V(w<0?d:d.slice(0,w)),T=w<0?null:_V(d.slice(w+1));if(x in n){let I=n[x];ag(I)||(I=n[x]=[I]),I.push(T)}else n[x]=T}return n}function Aoe(t){let n="";for(let r in t){const u=t[r];if(r=Jge(r),u==null){u!==void 0&&(n+=(n.length?"&":"")+r);continue}(ag(u)?u.map(d=>d&&bJ(d)):[u&&bJ(u)]).forEach(d=>{d!==void 0&&(n+=(n.length?"&":"")+r,d!=null&&(n+="="+d))})}return n}function nye(t){const n={};for(const r in t){const u=t[r];u!==void 0&&(n[r]=ag(u)?u.map(f=>f==null?null:""+f):u==null?u:""+u)}return n}const oye=Symbol(""),Ioe=Symbol(""),u7=Symbol(""),RQ=Symbol(""),vJ=Symbol("");function fN(){let t=[];function n(u){return t.push(u),()=>{const f=t.indexOf(u);f>-1&&t.splice(f,1)}}function r(){t=[]}return{add:n,list:()=>t,reset:r}}function u0(t,n,r,u,f){const d=u&&(u.enterCallbacks[f]=u.enterCallbacks[f]||[]);return()=>new Promise((w,x)=>{const T=F=>{F===!1?x(PA(4,{from:r,to:n})):F instanceof Error?x(F):Rge(F)?x(PA(2,{from:n,to:F})):(d&&u.enterCallbacks[f]===d&&typeof F=="function"&&d.push(F),w())},I=t.call(u&&u.instances[f],n,r,T);let $=Promise.resolve(I);t.length<3&&($=$.then(T)),$.catch(F=>x(F))})}function OX(t,n,r,u){const f=[];for(const d of t)for(const w in d.components){let x=d.components[w];if(!(n!=="beforeRouteEnter"&&!d.instances[w]))if(sye(x)){const I=(x.__vccOpts||x)[n];I&&f.push(u0(I,r,u,d,w))}else{let T=x();f.push(()=>T.then(I=>{if(!I)return Promise.reject(new Error(`Couldn't resolve component "${w}" at "${d.path}"`));const $=cge(I)?I.default:I;d.components[w]=$;const H=($.__vccOpts||$)[n];return H&&u0(H,r,u,d,w)()}))}}return f}function sye(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Ooe(t){const n=cu(u7),r=cu(RQ),u=To(()=>n.resolve(Ot(t.to))),f=To(()=>{const{matched:T}=u.value,{length:I}=T,$=T[I-1],F=r.matched;if(!$||!F.length)return-1;const H=F.findIndex(MA.bind(null,$));if(H>-1)return H;const de=Doe(T[I-2]);return I>1&&Doe($)===de&&F[F.length-1].path!==de?F.findIndex(MA.bind(null,T[I-2])):H}),d=To(()=>f.value>-1&&lye(r.params,u.value.params)),w=To(()=>f.value>-1&&f.value===r.matched.length-1&&Vae(r.params,u.value.params));function x(T={}){return iye(T)?n[Ot(t.replace)?"replace":"push"](Ot(t.to)).catch(AN):Promise.resolve()}return{route:u,href:To(()=>u.value.href),isActive:d,isExactActive:w,navigate:x}}const rye=lg({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ooe,setup(t,{slots:n}){const r=Gu(Ooe(t)),{options:u}=cu(u7),f=To(()=>({[Moe(t.activeClass,u.linkActiveClass,"router-link-active")]:r.isActive,[Moe(t.exactActiveClass,u.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const d=n.default&&n.default(r);return t.custom?d:Dh("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:f.value},d)}}}),aye=rye;function iye(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function lye(t,n){for(const r in n){const u=n[r],f=t[r];if(typeof u=="string"){if(u!==f)return!1}else if(!ag(f)||f.length!==u.length||u.some((d,w)=>d!==f[w]))return!1}return!0}function Doe(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Moe=(t,n,r)=>t!=null?t:n!=null?n:r,cye=lg({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:r}){const u=cu(vJ),f=To(()=>t.route||u.value),d=cu(Ioe,0),w=To(()=>{let I=Ot(d);const{matched:$}=f.value;let F;for(;(F=$[I])&&!F.components;)I++;return I}),x=To(()=>f.value.matched[w.value]);b0(Ioe,To(()=>w.value+1)),b0(oye,x),b0(vJ,f);const T=ws();return Ps(()=>[T.value,x.value,t.name],([I,$,F],[H,de,ke])=>{$&&($.instances[F]=I,de&&de!==$&&I&&I===H&&($.leaveGuards.size||($.leaveGuards=de.leaveGuards),$.updateGuards.size||($.updateGuards=de.updateGuards))),I&&$&&(!de||!MA($,de)||!H)&&($.enterCallbacks[F]||[]).forEach(Ne=>Ne(I))},{flush:"post"}),()=>{const I=f.value,$=t.name,F=x.value,H=F&&F.components[$];if(!H)return Poe(r.default,{Component:H,route:I});const de=F.props[$],ke=de?de===!0?I.params:typeof de=="function"?de(I):de:null,xe=Dh(H,qr({},ke,n,{onVnodeUnmounted:Fe=>{Fe.component.isUnmounted&&(F.instances[$]=null)},ref:T}));return Poe(r.default,{Component:xe,route:I})||xe}}});function Poe(t,n){if(!t)return null;const r=t(n);return r.length===1?r[0]:r}const uye=cye;function dye(t){const n=Fge(t.routes,t),r=t.parseQuery||tye,u=t.stringifyQuery||Aoe,f=t.history,d=fN(),w=fN(),x=fN(),T=Zde(o0);let I=o0;bA&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const $=AX.bind(null,Et=>""+Et),F=AX.bind(null,eye),H=AX.bind(null,_V);function de(Et,Ee){let me,j;return Uae(Et)?(me=n.getRecordMatcher(Et),j=Ee):j=Et,n.addRoute(j,me)}function ke(Et){const Ee=n.getRecordMatcher(Et);Ee&&n.removeRoute(Ee)}function Ne(){return n.getRoutes().map(Et=>Et.record)}function xe(Et){return!!n.getRecordMatcher(Et)}function Fe(Et,Ee){if(Ee=qr({},Ee||T.value),typeof Et=="string"){const re=IX(r,Et,Ee.path),Re=n.resolve({path:re.path},Ee),Oe=f.createHref(re.fullPath);return qr(re,Re,{params:H(Re.params),hash:_V(re.hash),redirectedFrom:void 0,href:Oe})}let me;if("path"in Et)me=qr({},Et,{path:IX(r,Et.path,Ee.path).path});else{const re=qr({},Et.params);for(const Re in re)re[Re]==null&&delete re[Re];me=qr({},Et,{params:F(Et.params)}),Ee.params=F(Ee.params)}const j=n.resolve(me,Ee),lt=Et.hash||"";j.params=$(H(j.params));const Xe=fge(u,qr({},Et,{hash:Xge(lt),path:j.path})),Tt=f.createHref(Xe);return qr({fullPath:Xe,hash:lt,query:u===Aoe?nye(Et.query):Et.query||{}},j,{redirectedFrom:void 0,href:Tt})}function rt(Et){return typeof Et=="string"?IX(r,Et,T.value.path):qr({},Et)}function ne(Et,Ee){if(I!==Et)return PA(8,{from:Ee,to:Et})}function vt(Et){return J(Et)}function Ue(Et){return vt(qr(rt(Et),{replace:!0}))}function We(Et){const Ee=Et.matched[Et.matched.length-1];if(Ee&&Ee.redirect){const{redirect:me}=Ee;let j=typeof me=="function"?me(Et):me;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=rt(j):{path:j},j.params={}),qr({query:Et.query,hash:Et.hash,params:"path"in j?{}:Et.params},j)}}function J(Et,Ee){const me=I=Fe(Et),j=T.value,lt=Et.state,Xe=Et.force,Tt=Et.replace===!0,re=We(me);if(re)return J(qr(rt(re),{state:typeof re=="object"?qr({},lt,re.state):lt,force:Xe,replace:Tt}),Ee||me);const Re=me;Re.redirectedFrom=Ee;let Oe;return!Xe&&hge(u,j,me)&&(Oe=PA(16,{to:Re,from:j}),an(j,j,!0,!1)),(Oe?Promise.resolve(Oe):st(Re,j)).catch(pt=>r1(pt)?r1(pt,2)?pt:Nn(pt):Ht(pt,Re,j)).then(pt=>{if(pt){if(r1(pt,2))return J(qr({replace:Tt},rt(pt.to),{state:typeof pt.to=="object"?qr({},lt,pt.to.state):lt,force:Xe}),Ee||Re)}else pt=je(Re,j,!0,Tt,lt);return wt(Re,j,pt),pt})}function Te(Et,Ee){const me=ne(Et,Ee);return me?Promise.reject(me):Promise.resolve()}function st(Et,Ee){let me;const[j,lt,Xe]=fye(Et,Ee);me=OX(j.reverse(),"beforeRouteLeave",Et,Ee);for(const re of j)re.leaveGuards.forEach(Re=>{me.push(u0(Re,Et,Ee))});const Tt=Te.bind(null,Et,Ee);return me.push(Tt),gA(me).then(()=>{me=[];for(const re of d.list())me.push(u0(re,Et,Ee));return me.push(Tt),gA(me)}).then(()=>{me=OX(lt,"beforeRouteUpdate",Et,Ee);for(const re of lt)re.updateGuards.forEach(Re=>{me.push(u0(Re,Et,Ee))});return me.push(Tt),gA(me)}).then(()=>{me=[];for(const re of Et.matched)if(re.beforeEnter&&!Ee.matched.includes(re))if(ag(re.beforeEnter))for(const Re of re.beforeEnter)me.push(u0(Re,Et,Ee));else me.push(u0(re.beforeEnter,Et,Ee));return me.push(Tt),gA(me)}).then(()=>(Et.matched.forEach(re=>re.enterCallbacks={}),me=OX(Xe,"beforeRouteEnter",Et,Ee),me.push(Tt),gA(me))).then(()=>{me=[];for(const re of w.list())me.push(u0(re,Et,Ee));return me.push(Tt),gA(me)}).catch(re=>r1(re,8)?re:Promise.reject(re))}function wt(Et,Ee,me){for(const j of x.list())j(Et,Ee,me)}function je(Et,Ee,me,j,lt){const Xe=ne(Et,Ee);if(Xe)return Xe;const Tt=Ee===o0,re=bA?history.state:{};me&&(j||Tt?f.replace(Et.fullPath,qr({scroll:Tt&&re&&re.scroll},lt)):f.push(Et.fullPath,lt)),T.value=Et,an(Et,Ee,me,Tt),Nn()}let ue;function Rn(){ue||(ue=f.listen((Et,Ee,me)=>{if(!uo.listening)return;const j=Fe(Et),lt=We(j);if(lt){J(qr(lt,{replace:!0}),j).catch(AN);return}I=j;const Xe=T.value;bA&&_ge(_oe(Xe.fullPath,me.delta),c7()),st(j,Xe).catch(Tt=>r1(Tt,12)?Tt:r1(Tt,2)?(J(Tt.to,j).then(re=>{r1(re,20)&&!me.delta&&me.type===WN.pop&&f.go(-1,!1)}).catch(AN),Promise.reject()):(me.delta&&f.go(-me.delta,!1),Ht(Tt,j,Xe))).then(Tt=>{Tt=Tt||je(j,Xe,!1),Tt&&(me.delta&&!r1(Tt,8)?f.go(-me.delta,!1):me.type===WN.pop&&r1(Tt,20)&&f.go(-1,!1)),wt(j,Xe,Tt)}).catch(AN)}))}let ln=fN(),It=fN(),L;function Ht(Et,Ee,me){Nn(Et);const j=It.list();return j.length?j.forEach(lt=>lt(Et,Ee,me)):console.error(Et),Promise.reject(Et)}function ot(){return L&&T.value!==o0?Promise.resolve():new Promise((Et,Ee)=>{ln.add([Et,Ee])})}function Nn(Et){return L||(L=!Et,Rn(),ln.list().forEach(([Ee,me])=>Et?me(Et):Ee()),ln.reset()),Et}function an(Et,Ee,me,j){const{scrollBehavior:lt}=t;if(!bA||!lt)return Promise.resolve();const Xe=!me&&kge(_oe(Et.fullPath,0))||(j||!me)&&history.state&&history.state.scroll||null;return $d().then(()=>lt(Et,Ee,Xe)).then(Tt=>Tt&&wge(Tt)).catch(Tt=>Ht(Tt,Et,Ee))}const it=Et=>f.go(Et);let Zn;const io=new Set,uo={currentRoute:T,listening:!0,addRoute:de,removeRoute:ke,hasRoute:xe,getRoutes:Ne,resolve:Fe,options:t,push:vt,replace:Ue,go:it,back:()=>it(-1),forward:()=>it(1),beforeEach:d.add,beforeResolve:w.add,afterEach:x.add,onError:It.add,isReady:ot,install(Et){const Ee=this;Et.component("RouterLink",aye),Et.component("RouterView",uye),Et.config.globalProperties.$router=Ee,Object.defineProperty(Et.config.globalProperties,"$route",{enumerable:!0,get:()=>Ot(T)}),bA&&!Zn&&T.value===o0&&(Zn=!0,vt(f.location).catch(lt=>{}));const me={};for(const lt in o0)me[lt]=To(()=>T.value[lt]);Et.provide(u7,Ee),Et.provide(RQ,Gu(me)),Et.provide(vJ,T);const j=Et.unmount;io.add(Et),Et.unmount=function(){io.delete(Et),io.size<1&&(I=o0,ue&&ue(),ue=null,T.value=o0,Zn=!1,L=!1),j()}}};return uo}function gA(t){return t.reduce((n,r)=>n.then(()=>r()),Promise.resolve())}function fye(t,n){const r=[],u=[],f=[],d=Math.max(n.matched.length,t.matched.length);for(let w=0;w<d;w++){const x=n.matched[w];x&&(t.matched.find(I=>MA(I,x))?u.push(x):r.push(x));const T=t.matched[w];T&&(n.matched.find(I=>MA(I,T))||f.push(T))}return[r,u,f]}function Xae(){return cu(u7)}function hye(){return cu(RQ)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jae={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=function(t,n){if(!t)throw ZA(n)},ZA=function(t){return new Error("Firebase Database ("+Jae.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qae=function(t){const n=[];let r=0;for(let u=0;u<t.length;u++){let f=t.charCodeAt(u);f<128?n[r++]=f:f<2048?(n[r++]=f>>6|192,n[r++]=f&63|128):(f&64512)===55296&&u+1<t.length&&(t.charCodeAt(u+1)&64512)===56320?(f=65536+((f&1023)<<10)+(t.charCodeAt(++u)&1023),n[r++]=f>>18|240,n[r++]=f>>12&63|128,n[r++]=f>>6&63|128,n[r++]=f&63|128):(n[r++]=f>>12|224,n[r++]=f>>6&63|128,n[r++]=f&63|128)}return n},mye=function(t){const n=[];let r=0,u=0;for(;r<t.length;){const f=t[r++];if(f<128)n[u++]=String.fromCharCode(f);else if(f>191&&f<224){const d=t[r++];n[u++]=String.fromCharCode((f&31)<<6|d&63)}else if(f>239&&f<365){const d=t[r++],w=t[r++],x=t[r++],T=((f&7)<<18|(d&63)<<12|(w&63)<<6|x&63)-65536;n[u++]=String.fromCharCode(55296+(T>>10)),n[u++]=String.fromCharCode(56320+(T&1023))}else{const d=t[r++],w=t[r++];n[u++]=String.fromCharCode((f&15)<<12|(d&63)<<6|w&63)}}return n.join("")},AQ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,n){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,u=[];for(let f=0;f<t.length;f+=3){const d=t[f],w=f+1<t.length,x=w?t[f+1]:0,T=f+2<t.length,I=T?t[f+2]:0,$=d>>2,F=(d&3)<<4|x>>4;let H=(x&15)<<2|I>>6,de=I&63;T||(de=64,w||(H=64)),u.push(r[$],r[F],r[H],r[de])}return u.join("")},encodeString(t,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(t):this.encodeByteArray(Qae(t),n)},decodeString(t,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(t):mye(this.decodeStringToByteArray(t,n))},decodeStringToByteArray(t,n){this.init_();const r=n?this.charToByteMapWebSafe_:this.charToByteMap_,u=[];for(let f=0;f<t.length;){const d=r[t.charAt(f++)],x=f<t.length?r[t.charAt(f)]:0;++f;const I=f<t.length?r[t.charAt(f)]:64;++f;const F=f<t.length?r[t.charAt(f)]:64;if(++f,d==null||x==null||I==null||F==null)throw Error();const H=d<<2|x>>4;if(u.push(H),I!==64){const de=x<<4&240|I>>2;if(u.push(de),F!==64){const ke=I<<6&192|F;u.push(ke)}}}return u},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},eie=function(t){const n=Qae(t);return AQ.encodeByteArray(n,!0)},kV=function(t){return eie(t).replace(/\./g,"")},CV=function(t){try{return AQ.decodeString(t,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pye(t){return tie(void 0,t)}function tie(t,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const r=n;return new Date(r.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return n}for(const r in n)!n.hasOwnProperty(r)||!gye(r)||(t[r]=tie(t[r],n[r]));return t}function gye(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zu())}function nRe(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yye(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nie(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bye(){const t=Zu();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oie(){return Jae.NODE_ADMIN===!0}function vye(){try{return typeof indexedDB=="object"}catch{return!1}}function wye(){return new Promise((t,n)=>{try{let r=!0;const u="validate-browser-context-for-indexeddb-analytics-module",f=self.indexedDB.open(u);f.onsuccess=()=>{f.result.close(),r||self.indexedDB.deleteDatabase(u),t(!0)},f.onupgradeneeded=()=>{r=!1},f.onerror=()=>{var d;n(((d=f.error)===null||d===void 0?void 0:d.message)||"")}}catch(r){n(r)}})}function _ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kye=()=>_ye().__FIREBASE_DEFAULTS__,Cye=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Sye=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=t&&CV(t[1]);return n&&JSON.parse(n)},OQ=()=>{try{return kye()||Cye()||Sye()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sie=t=>{var n,r;return(r=(n=OQ())===null||n===void 0?void 0:n.emulatorHosts)===null||r===void 0?void 0:r[t]},xye=t=>{const n=sie(t);if(!n)return;const r=n.lastIndexOf(":");if(r<=0||r+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const u=parseInt(n.substring(r+1),10);return n[0]==="["?[n.substring(1,r-1),u]:[n.substring(0,r),u]},Eye=()=>{var t;return(t=OQ())===null||t===void 0?void 0:t.config},rie=t=>{var n;return(n=OQ())===null||n===void 0?void 0:n[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}wrapCallback(n){return(r,u)=>{r?this.reject(r):this.resolve(u),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(r):n(r,u))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tye(t,n){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},u=n||"demo-project",f=t.iat||0,d=t.sub||t.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const w=Object.assign({iss:`https://securetoken.google.com/${u}`,aud:u,iat:f,exp:f+3600,auth_time:f,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}}},t),x="";return[kV(JSON.stringify(r)),kV(JSON.stringify(w)),x].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rye="FirebaseError";class D0 extends Error{constructor(n,r,u){super(r),this.code=n,this.customData=u,this.name=Rye,Object.setPrototypeOf(this,D0.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,i4.prototype.create)}}class i4{constructor(n,r,u){this.service=n,this.serviceName=r,this.errors=u}create(n,...r){const u=r[0]||{},f=`${this.service}/${n}`,d=this.errors[n],w=d?Aye(d,u):"Error",x=`${this.serviceName}: ${w} (${f}).`;return new D0(f,x,u)}}function Aye(t,n){return t.replace(Iye,(r,u)=>{const f=n[u];return f!=null?String(f):`<${u}?>`})}const Iye=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t){return JSON.parse(t)}function oc(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aie=function(t){let n={},r={},u={},f="";try{const d=t.split(".");n=ZN(CV(d[0])||""),r=ZN(CV(d[1])||""),f=d[2],u=r.d||{},delete r.d}catch{}return{header:n,claims:r,data:u,signature:f}},Oye=function(t){const n=aie(t),r=n.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},Dye=function(t){const n=aie(t).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function zA(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}function wJ(t){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}function SV(t,n,r){const u={};for(const f in t)Object.prototype.hasOwnProperty.call(t,f)&&(u[f]=n.call(r,t[f],f,t));return u}function xV(t,n){if(t===n)return!0;const r=Object.keys(t),u=Object.keys(n);for(const f of r){if(!u.includes(f))return!1;const d=t[f],w=n[f];if(zoe(d)&&zoe(w)){if(!xV(d,w))return!1}else if(d!==w)return!1}for(const f of u)if(!r.includes(f))return!1;return!0}function zoe(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){const n=[];for(const[r,u]of Object.entries(t))Array.isArray(u)?u.forEach(f=>{n.push(encodeURIComponent(r)+"="+encodeURIComponent(f))}):n.push(encodeURIComponent(r)+"="+encodeURIComponent(u));return n.length?"&"+n.join("&"):""}function bN(t){const n={};return t.replace(/^\?/,"").split("&").forEach(u=>{if(u){const[f,d]=u.split("=");n[decodeURIComponent(f)]=decodeURIComponent(d)}}),n}function vN(t){const n=t.indexOf("?");if(!n)return"";const r=t.indexOf("#",n);return t.substring(n,r>0?r:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mye{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,r){r||(r=0);const u=this.W_;if(typeof n=="string")for(let F=0;F<16;F++)u[F]=n.charCodeAt(r)<<24|n.charCodeAt(r+1)<<16|n.charCodeAt(r+2)<<8|n.charCodeAt(r+3),r+=4;else for(let F=0;F<16;F++)u[F]=n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3],r+=4;for(let F=16;F<80;F++){const H=u[F-3]^u[F-8]^u[F-14]^u[F-16];u[F]=(H<<1|H>>>31)&4294967295}let f=this.chain_[0],d=this.chain_[1],w=this.chain_[2],x=this.chain_[3],T=this.chain_[4],I,$;for(let F=0;F<80;F++){F<40?F<20?(I=x^d&(w^x),$=1518500249):(I=d^w^x,$=1859775393):F<60?(I=d&w|x&(d|w),$=2400959708):(I=d^w^x,$=3395469782);const H=(f<<5|f>>>27)+I+T+$+u[F]&4294967295;T=x,x=w,w=(d<<30|d>>>2)&4294967295,d=f,f=H}this.chain_[0]=this.chain_[0]+f&4294967295,this.chain_[1]=this.chain_[1]+d&4294967295,this.chain_[2]=this.chain_[2]+w&4294967295,this.chain_[3]=this.chain_[3]+x&4294967295,this.chain_[4]=this.chain_[4]+T&4294967295}update(n,r){if(n==null)return;r===void 0&&(r=n.length);const u=r-this.blockSize;let f=0;const d=this.buf_;let w=this.inbuf_;for(;f<r;){if(w===0)for(;f<=u;)this.compress_(n,f),f+=this.blockSize;if(typeof n=="string"){for(;f<r;)if(d[w]=n.charCodeAt(f),++w,++f,w===this.blockSize){this.compress_(d),w=0;break}}else for(;f<r;)if(d[w]=n[f],++w,++f,w===this.blockSize){this.compress_(d),w=0;break}}this.inbuf_=w,this.total_+=r}digest(){const n=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let f=this.blockSize-1;f>=56;f--)this.buf_[f]=r&255,r/=256;this.compress_(this.buf_);let u=0;for(let f=0;f<5;f++)for(let d=24;d>=0;d-=8)n[u]=this.chain_[f]>>d&255,++u;return n}}function Pye(t,n){const r=new zye(t,n);return r.subscribe.bind(r)}class zye{constructor(n,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{n(this)}).catch(u=>{this.error(u)})}next(n){this.forEachObserver(r=>{r.next(n)})}error(n){this.forEachObserver(r=>{r.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,r,u){let f;if(n===void 0&&r===void 0&&u===void 0)throw new Error("Missing Observer.");Nye(n,["next","error","complete"])?f=n:f={next:n,error:r,complete:u},f.next===void 0&&(f.next=DX),f.error===void 0&&(f.error=DX),f.complete===void 0&&(f.complete=DX);const d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?f.error(this.finalError):f.complete()}catch{}}),this.observers.push(f),d}unsubscribeOne(n){this.observers===void 0||this.observers[n]===void 0||(delete this.observers[n],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(n){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,n)}sendOne(n,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[n]!==void 0)try{r(this.observers[n])}catch(u){typeof console<"u"&&console.error&&console.error(u)}})}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nye(t,n){if(typeof t!="object"||t===null)return!1;for(const r of n)if(r in t&&typeof t[r]=="function")return!0;return!1}function DX(){}function d7(t,n){return`${t} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lye=function(t){const n=[];let r=0;for(let u=0;u<t.length;u++){let f=t.charCodeAt(u);if(f>=55296&&f<=56319){const d=f-55296;u++,kn(u<t.length,"Surrogate pair missing trail surrogate.");const w=t.charCodeAt(u)-56320;f=65536+(d<<10)+w}f<128?n[r++]=f:f<2048?(n[r++]=f>>6|192,n[r++]=f&63|128):f<65536?(n[r++]=f>>12|224,n[r++]=f>>6&63|128,n[r++]=f&63|128):(n[r++]=f>>18|240,n[r++]=f>>12&63|128,n[r++]=f>>6&63|128,n[r++]=f&63|128)}return n},f7=function(t){let n=0;for(let r=0;r<t.length;r++){const u=t.charCodeAt(r);u<128?n++:u<2048?n+=2:u>=55296&&u<=56319?(n+=4,r++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t){return t&&t._delegate?t._delegate:t}class cx{constructor(n,r,u){this.name=n,this.instanceFactory=r,this.type=u,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fye{constructor(n,r){this.name=n,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const r=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(r)){const u=new a4;if(this.instancesDeferred.set(r,u),this.isInitialized(r)||this.shouldAutoInitialize())try{const f=this.getOrInitializeService({instanceIdentifier:r});f&&u.resolve(f)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(n){var r;const u=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),f=(r=n==null?void 0:n.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(u)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:u})}catch(d){if(f)return null;throw d}else{if(f)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if($ye(n))try{this.getOrInitializeService({instanceIdentifier:qS})}catch{}for(const[r,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(r);try{const d=this.getOrInitializeService({instanceIdentifier:f});u.resolve(d)}catch{}}}}clearInstance(n=qS){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=qS){return this.instances.has(n)}getOptions(n=qS){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:r={}}=n,u=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(u))throw Error(`${this.name}(${u}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const f=this.getOrInitializeService({instanceIdentifier:u,options:r});for(const[d,w]of this.instancesDeferred.entries()){const x=this.normalizeInstanceIdentifier(d);u===x&&w.resolve(f)}return f}onInit(n,r){var u;const f=this.normalizeInstanceIdentifier(r),d=(u=this.onInitCallbacks.get(f))!==null&&u!==void 0?u:new Set;d.add(n),this.onInitCallbacks.set(f,d);const w=this.instances.get(f);return w&&n(w,f),()=>{d.delete(n)}}invokeOnInitCallbacks(n,r){const u=this.onInitCallbacks.get(r);if(!!u)for(const f of u)try{f(n,r)}catch{}}getOrInitializeService({instanceIdentifier:n,options:r={}}){let u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:Bye(n),options:r}),this.instances.set(n,u),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null}normalizeInstanceIdentifier(n=qS){return this.component?this.component.multipleInstances?n:qS:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bye(t){return t===qS?void 0:t}function $ye(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vye{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const r=this.getProvider(n.name);if(r.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);r.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const r=new Fye(n,this);return this.providers.set(n,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ka;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ka||(ka={}));const Hye={debug:ka.DEBUG,verbose:ka.VERBOSE,info:ka.INFO,warn:ka.WARN,error:ka.ERROR,silent:ka.SILENT},Uye=ka.INFO,jye={[ka.DEBUG]:"log",[ka.VERBOSE]:"log",[ka.INFO]:"info",[ka.WARN]:"warn",[ka.ERROR]:"error"},Wye=(t,n,...r)=>{if(n<t.logLevel)return;const u=new Date().toISOString(),f=jye[n];if(f)console[f](`[${u}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class DQ{constructor(n){this.name=n,this._logLevel=Uye,this._logHandler=Wye,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in ka))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?Hye[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,ka.DEBUG,...n),this._logHandler(this,ka.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,ka.VERBOSE,...n),this._logHandler(this,ka.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,ka.INFO,...n),this._logHandler(this,ka.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,ka.WARN,...n),this._logHandler(this,ka.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,ka.ERROR,...n),this._logHandler(this,ka.ERROR,...n)}}const Zye=(t,n)=>n.some(r=>t instanceof r);let Noe,Loe;function Gye(){return Noe||(Noe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qye(){return Loe||(Loe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iie=new WeakMap,_J=new WeakMap,lie=new WeakMap,MX=new WeakMap,MQ=new WeakMap;function Kye(t){const n=new Promise((r,u)=>{const f=()=>{t.removeEventListener("success",d),t.removeEventListener("error",w)},d=()=>{r(_0(t.result)),f()},w=()=>{u(t.error),f()};t.addEventListener("success",d),t.addEventListener("error",w)});return n.then(r=>{r instanceof IDBCursor&&iie.set(r,t)}).catch(()=>{}),MQ.set(n,t),n}function Yye(t){if(_J.has(t))return;const n=new Promise((r,u)=>{const f=()=>{t.removeEventListener("complete",d),t.removeEventListener("error",w),t.removeEventListener("abort",w)},d=()=>{r(),f()},w=()=>{u(t.error||new DOMException("AbortError","AbortError")),f()};t.addEventListener("complete",d),t.addEventListener("error",w),t.addEventListener("abort",w)});_J.set(t,n)}let kJ={get(t,n,r){if(t instanceof IDBTransaction){if(n==="done")return _J.get(t);if(n==="objectStoreNames")return t.objectStoreNames||lie.get(t);if(n==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return _0(t[n])},set(t,n,r){return t[n]=r,!0},has(t,n){return t instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in t}};function Xye(t){kJ=t(kJ)}function Jye(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...r){const u=t.call(PX(this),n,...r);return lie.set(u,n.sort?n.sort():[n]),_0(u)}:qye().includes(t)?function(...n){return t.apply(PX(this),n),_0(iie.get(this))}:function(...n){return _0(t.apply(PX(this),n))}}function Qye(t){return typeof t=="function"?Jye(t):(t instanceof IDBTransaction&&Yye(t),Zye(t,Gye())?new Proxy(t,kJ):t)}function _0(t){if(t instanceof IDBRequest)return Kye(t);if(MX.has(t))return MX.get(t);const n=Qye(t);return n!==t&&(MX.set(t,n),MQ.set(n,t)),n}const PX=t=>MQ.get(t);function ebe(t,n,{blocked:r,upgrade:u,blocking:f,terminated:d}={}){const w=indexedDB.open(t,n),x=_0(w);return u&&w.addEventListener("upgradeneeded",T=>{u(_0(w.result),T.oldVersion,T.newVersion,_0(w.transaction))}),r&&w.addEventListener("blocked",()=>r()),x.then(T=>{d&&T.addEventListener("close",()=>d()),f&&T.addEventListener("versionchange",()=>f())}).catch(()=>{}),x}const tbe=["get","getKey","getAll","getAllKeys","count"],nbe=["put","add","delete","clear"],zX=new Map;function Foe(t,n){if(!(t instanceof IDBDatabase&&!(n in t)&&typeof n=="string"))return;if(zX.get(n))return zX.get(n);const r=n.replace(/FromIndex$/,""),u=n!==r,f=nbe.includes(r);if(!(r in(u?IDBIndex:IDBObjectStore).prototype)||!(f||tbe.includes(r)))return;const d=async function(w,...x){const T=this.transaction(w,f?"readwrite":"readonly");let I=T.store;return u&&(I=I.index(x.shift())),(await Promise.all([I[r](...x),f&&T.done]))[0]};return zX.set(n,d),d}Xye(t=>({...t,get:(n,r,u)=>Foe(n,r)||t.get(n,r,u),has:(n,r)=>!!Foe(n,r)||t.has(n,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class obe{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(sbe(r)){const u=r.getImmediate();return`${u.library}/${u.version}`}else return null}).filter(r=>r).join(" ")}}function sbe(t){const n=t.getComponent();return(n==null?void 0:n.type)==="VERSION"}const CJ="@firebase/app",Boe="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=new DQ("@firebase/app"),rbe="@firebase/app-compat",abe="@firebase/analytics-compat",ibe="@firebase/analytics",lbe="@firebase/app-check-compat",cbe="@firebase/app-check",ube="@firebase/auth",dbe="@firebase/auth-compat",fbe="@firebase/database",hbe="@firebase/database-compat",mbe="@firebase/functions",pbe="@firebase/functions-compat",gbe="@firebase/installations",ybe="@firebase/installations-compat",bbe="@firebase/messaging",vbe="@firebase/messaging-compat",wbe="@firebase/performance",_be="@firebase/performance-compat",kbe="@firebase/remote-config",Cbe="@firebase/remote-config-compat",Sbe="@firebase/storage",xbe="@firebase/storage-compat",Ebe="@firebase/firestore",Tbe="@firebase/firestore-compat",Rbe="firebase",Abe="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SJ="[DEFAULT]",Ibe={[CJ]:"fire-core",[rbe]:"fire-core-compat",[ibe]:"fire-analytics",[abe]:"fire-analytics-compat",[cbe]:"fire-app-check",[lbe]:"fire-app-check-compat",[ube]:"fire-auth",[dbe]:"fire-auth-compat",[fbe]:"fire-rtdb",[hbe]:"fire-rtdb-compat",[mbe]:"fire-fn",[pbe]:"fire-fn-compat",[gbe]:"fire-iid",[ybe]:"fire-iid-compat",[bbe]:"fire-fcm",[vbe]:"fire-fcm-compat",[wbe]:"fire-perf",[_be]:"fire-perf-compat",[kbe]:"fire-rc",[Cbe]:"fire-rc-compat",[Sbe]:"fire-gcs",[xbe]:"fire-gcs-compat",[Ebe]:"fire-fst",[Tbe]:"fire-fst-compat","fire-js":"fire-js",[Rbe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=new Map,xJ=new Map;function Obe(t,n){try{t.container.addComponent(n)}catch(r){ux.debug(`Component ${n.name} failed to register with FirebaseApp ${t.name}`,r)}}function NA(t){const n=t.name;if(xJ.has(n))return ux.debug(`There were multiple attempts to register component ${n}.`),!1;xJ.set(n,t);for(const r of EV.values())Obe(r,t);return!0}function PQ(t,n){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dbe={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},k0=new i4("app","Firebase",Dbe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mbe{constructor(n,r,u){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=u,this.container.addComponent(new cx("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw k0.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=Abe;function cie(t,n={}){let r=t;typeof n!="object"&&(n={name:n});const u=Object.assign({name:SJ,automaticDataCollectionEnabled:!1},n),f=u.name;if(typeof f!="string"||!f)throw k0.create("bad-app-name",{appName:String(f)});if(r||(r=Eye()),!r)throw k0.create("no-options");const d=EV.get(f);if(d){if(xV(r,d.options)&&xV(u,d.config))return d;throw k0.create("duplicate-app",{appName:f})}const w=new Vye(f);for(const T of xJ.values())w.addComponent(T);const x=new Mbe(r,u,w);return EV.set(f,x),x}function uie(t=SJ){const n=EV.get(t);if(!n&&t===SJ)return cie();if(!n)throw k0.create("no-app",{appName:t});return n}function C0(t,n,r){var u;let f=(u=Ibe[t])!==null&&u!==void 0?u:t;r&&(f+=`-${r}`);const d=f.match(/\s|\//),w=n.match(/\s|\//);if(d||w){const x=[`Unable to register library "${f}" with version "${n}":`];d&&x.push(`library name "${f}" contains illegal characters (whitespace or "/")`),d&&w&&x.push("and"),w&&x.push(`version name "${n}" contains illegal characters (whitespace or "/")`),ux.warn(x.join(" "));return}NA(new cx(`${f}-version`,()=>({library:f,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pbe="firebase-heartbeat-database",zbe=1,GN="firebase-heartbeat-store";let NX=null;function die(){return NX||(NX=ebe(Pbe,zbe,{upgrade:(t,n)=>{switch(n){case 0:t.createObjectStore(GN)}}}).catch(t=>{throw k0.create("idb-open",{originalErrorMessage:t.message})})),NX}async function Nbe(t){try{return(await die()).transaction(GN).objectStore(GN).get(fie(t))}catch(n){if(n instanceof D0)ux.warn(n.message);else{const r=k0.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});ux.warn(r.message)}}}async function $oe(t,n){try{const u=(await die()).transaction(GN,"readwrite");return await u.objectStore(GN).put(n,fie(t)),u.done}catch(r){if(r instanceof D0)ux.warn(r.message);else{const u=k0.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ux.warn(u.message)}}}function fie(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lbe=1024,Fbe=30*24*60*60*1e3;class Bbe{constructor(n){this.container=n,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Vbe(r),this._heartbeatsCachePromise=this._storage.read().then(u=>(this._heartbeatsCache=u,u))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Voe();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u)))return this._heartbeatsCache.heartbeats.push({date:u,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const d=new Date(f.date).valueOf();return Date.now()-d<=Fbe}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Voe(),{heartbeatsToSend:r,unsentEntries:u}=$be(this._heartbeatsCache.heartbeats),f=kV(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}}function Voe(){return new Date().toISOString().substring(0,10)}function $be(t,n=Lbe){const r=[];let u=t.slice();for(const f of t){const d=r.find(w=>w.agent===f.agent);if(d){if(d.dates.push(f.date),Hoe(r)>n){d.dates.pop();break}}else if(r.push({agent:f.agent,dates:[f.date]}),Hoe(r)>n){r.pop();break}u=u.slice(1)}return{heartbeatsToSend:r,unsentEntries:u}}class Vbe{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vye()?wye().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Nbe(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(n){var r;if(await this._canUseIndexedDBPromise){const f=await this.read();return $oe(this.app,{lastSentHeartbeatDate:(r=n.lastSentHeartbeatDate)!==null&&r!==void 0?r:f.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var r;if(await this._canUseIndexedDBPromise){const f=await this.read();return $oe(this.app,{lastSentHeartbeatDate:(r=n.lastSentHeartbeatDate)!==null&&r!==void 0?r:f.lastSentHeartbeatDate,heartbeats:[...f.heartbeats,...n.heartbeats]})}else return}}function Hoe(t){return kV(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hbe(t){NA(new cx("platform-logger",n=>new obe(n),"PRIVATE")),NA(new cx("heartbeat",n=>new Bbe(n),"PRIVATE")),C0(CJ,Boe,t),C0(CJ,Boe,"esm2017"),C0("fire-js","")}Hbe("");var Ube="firebase",jbe="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */C0(Ube,jbe,"app");function zQ(t,n){var r={};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&n.indexOf(u)<0&&(r[u]=t[u]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,u=Object.getOwnPropertySymbols(t);f<u.length;f++)n.indexOf(u[f])<0&&Object.prototype.propertyIsEnumerable.call(t,u[f])&&(r[u[f]]=t[u[f]]);return r}function hie(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Wbe=hie,mie=new i4("auth","Firebase",hie());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uoe=new DQ("@firebase/auth");function cV(t,...n){Uoe.logLevel<=ka.ERROR&&Uoe.error(`Auth (${l4}): ${t}`,...n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t,...n){throw NQ(t,...n)}function Wy(t,...n){return NQ(t,...n)}function Zbe(t,n,r){const u=Object.assign(Object.assign({},Wbe()),{[n]:r});return new i4("auth","Firebase",u).create(n,{appName:t.name})}function NQ(t,...n){if(typeof t!="string"){const r=n[0],u=[...n.slice(1)];return u[0]&&(u[0].appName=t.name),t._errorFactory.create(r,...u)}return mie.create(t,...n)}function Do(t,n,...r){if(!t)throw NQ(n,...r)}function u1(t){const n="INTERNAL ASSERTION FAILED: "+t;throw cV(n),new Error(n)}function y1(t,n){t||u1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const joe=new Map;function d1(t){y1(t instanceof Function,"Expected a class definition");let n=joe.get(t);return n?(y1(n instanceof t,"Instance stored in cache mismatched with class"),n):(n=new t,joe.set(t,n),n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gbe(t,n){const r=PQ(t,"auth");if(r.isInitialized()){const f=r.getImmediate(),d=r.getOptions();if(xV(d,n!=null?n:{}))return f;ig(f,"already-initialized")}return r.initialize({options:n})}function qbe(t,n){const r=(n==null?void 0:n.persistence)||[],u=(Array.isArray(r)?r:[r]).map(d1);n!=null&&n.errorMap&&t._updateErrorMap(n.errorMap),t._initializeWithPersistence(u,n==null?void 0:n.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EJ(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Kbe(){return Woe()==="http:"||Woe()==="https:"}function Woe(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ybe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kbe()||yye()||"connection"in navigator)?navigator.onLine:!0}function Xbe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(n,r){this.shortDelay=n,this.longDelay=r,y1(r>n,"Short delay should be less than long delay!"),this.isMobile=IQ()||nie()}get(){return Ybe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LQ(t,n){y1(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return n?`${r}${n.startsWith("/")?n.slice(1):n}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pie{static initialize(n,r,u){this.fetchImpl=n,r&&(this.headersImpl=r),u&&(this.responseImpl=u)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;u1("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;u1("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;u1("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jbe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qbe=new c4(3e4,6e4);function qA(t,n){return t.tenantId&&!n.tenantId?Object.assign(Object.assign({},n),{tenantId:t.tenantId}):n}async function vx(t,n,r,u,f={}){return gie(t,f,async()=>{let d={},w={};u&&(n==="GET"?w=u:d={body:JSON.stringify(u)});const x=GA(Object.assign({key:t.config.apiKey},w)).slice(1),T=await t._getAdditionalHeaders();return T["Content-Type"]="application/json",t.languageCode&&(T["X-Firebase-Locale"]=t.languageCode),pie.fetch()(yie(t,t.config.apiHost,r,x),Object.assign({method:n,headers:T,referrerPolicy:"no-referrer"},d))})}async function gie(t,n,r){t._canInitEmulator=!1;const u=Object.assign(Object.assign({},Jbe),n);try{const f=new eve(t),d=await Promise.race([r(),f.promise]);f.clearNetworkTimeout();const w=await d.json();if("needConfirmation"in w)throw nV(t,"account-exists-with-different-credential",w);if(d.ok&&!("errorMessage"in w))return w;{const x=d.ok?w.errorMessage:w.error.message,[T,I]=x.split(" : ");if(T==="FEDERATED_USER_ID_ALREADY_LINKED")throw nV(t,"credential-already-in-use",w);if(T==="EMAIL_EXISTS")throw nV(t,"email-already-in-use",w);if(T==="USER_DISABLED")throw nV(t,"user-disabled",w);const $=u[T]||T.toLowerCase().replace(/[_\s]+/g,"-");if(I)throw Zbe(t,$,I);ig(t,$)}}catch(f){if(f instanceof D0)throw f;ig(t,"network-request-failed")}}async function u4(t,n,r,u,f={}){const d=await vx(t,n,r,u,f);return"mfaPendingCredential"in d&&ig(t,"multi-factor-auth-required",{_serverResponse:d}),d}function yie(t,n,r,u){const f=`${n}${r}?${u}`;return t.config.emulator?LQ(t.config,f):`${t.config.apiScheme}://${f}`}class eve{constructor(n){this.auth=n,this.timer=null,this.promise=new Promise((r,u)=>{this.timer=setTimeout(()=>u(Wy(this.auth,"network-request-failed")),Qbe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nV(t,n,r){const u={appName:t.name};r.email&&(u.email=r.email),r.phoneNumber&&(u.phoneNumber=r.phoneNumber);const f=Wy(t,n,u);return f.customData._tokenResponse=r,f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tve(t,n){return vx(t,"POST","/v1/accounts:delete",n)}async function nve(t,n){return vx(t,"POST","/v1/accounts:lookup",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t){if(!!t)try{const n=new Date(Number(t));if(!isNaN(n.getTime()))return n.toUTCString()}catch{}}async function ove(t,n=!1){const r=Ai(t),u=await r.getIdToken(n),f=FQ(u);Do(f&&f.exp&&f.auth_time&&f.iat,r.auth,"internal-error");const d=typeof f.firebase=="object"?f.firebase:void 0,w=d==null?void 0:d.sign_in_provider;return{claims:f,token:u,authTime:ON(LX(f.auth_time)),issuedAtTime:ON(LX(f.iat)),expirationTime:ON(LX(f.exp)),signInProvider:w||null,signInSecondFactor:(d==null?void 0:d.sign_in_second_factor)||null}}function LX(t){return Number(t)*1e3}function FQ(t){const[n,r,u]=t.split(".");if(n===void 0||r===void 0||u===void 0)return cV("JWT malformed, contained fewer than 3 sections"),null;try{const f=CV(r);return f?JSON.parse(f):(cV("Failed to decode base64 JWT payload"),null)}catch(f){return cV("Caught error parsing JWT payload as JSON",f==null?void 0:f.toString()),null}}function sve(t){const n=FQ(t);return Do(n,"internal-error"),Do(typeof n.exp<"u","internal-error"),Do(typeof n.iat<"u","internal-error"),Number(n.exp)-Number(n.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(t,n,r=!1){if(r)return n;try{return await n}catch(u){throw u instanceof D0&&rve(u)&&t.auth.currentUser===t&&await t.auth.signOut(),u}}function rve({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ave{constructor(n){this.user=n,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(n){var r;if(n){const u=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),u}else{this.errorBackoff=3e4;const f=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,f)}}schedule(n=!1){if(!this.isRunning)return;const r=this.getInterval(n);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(n){(n==null?void 0:n.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bie{constructor(n,r){this.createdAt=n,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ON(this.lastLoginAt),this.creationTime=ON(this.createdAt)}_copy(n){this.createdAt=n.createdAt,this.lastLoginAt=n.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(t){var n;const r=t.auth,u=await t.getIdToken(),f=await dx(t,nve(r,{idToken:u}));Do(f==null?void 0:f.users.length,r,"internal-error");const d=f.users[0];t._notifyReloadListener(d);const w=!((n=d.providerUserInfo)===null||n===void 0)&&n.length?cve(d.providerUserInfo):[],x=lve(t.providerData,w),T=t.isAnonymous,I=!(t.email&&d.passwordHash)&&!(x!=null&&x.length),$=T?I:!1,F={uid:d.localId,displayName:d.displayName||null,photoURL:d.photoUrl||null,email:d.email||null,emailVerified:d.emailVerified||!1,phoneNumber:d.phoneNumber||null,tenantId:d.tenantId||null,providerData:x,metadata:new bie(d.createdAt,d.lastLoginAt),isAnonymous:$};Object.assign(t,F)}async function ive(t){const n=Ai(t);await qN(n),await n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)}function lve(t,n){return[...t.filter(u=>!n.some(f=>f.providerId===u.providerId)),...n]}function cve(t){return t.map(n=>{var{providerId:r}=n,u=zQ(n,["providerId"]);return{providerId:r,uid:u.rawId||"",displayName:u.displayName||null,email:u.email||null,phoneNumber:u.phoneNumber||null,photoURL:u.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uve(t,n){const r=await gie(t,{},async()=>{const u=GA({grant_type:"refresh_token",refresh_token:n}).slice(1),{tokenApiHost:f,apiKey:d}=t.config,w=yie(t,f,"/v1/token",`key=${d}`),x=await t._getAdditionalHeaders();return x["Content-Type"]="application/x-www-form-urlencoded",pie.fetch()(w,{method:"POST",headers:x,body:u})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(n){Do(n.idToken,"internal-error"),Do(typeof n.idToken<"u","internal-error"),Do(typeof n.refreshToken<"u","internal-error");const r="expiresIn"in n&&typeof n.expiresIn<"u"?Number(n.expiresIn):sve(n.idToken);this.updateTokensAndExpiration(n.idToken,n.refreshToken,r)}async getToken(n,r=!1){return Do(!this.accessToken||this.refreshToken,n,"user-token-expired"),!r&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(n,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(n,r){const{accessToken:u,refreshToken:f,expiresIn:d}=await uve(n,r);this.updateTokensAndExpiration(u,f,Number(d))}updateTokensAndExpiration(n,r,u){this.refreshToken=r||null,this.accessToken=n||null,this.expirationTime=Date.now()+u*1e3}static fromJSON(n,r){const{refreshToken:u,accessToken:f,expirationTime:d}=r,w=new KN;return u&&(Do(typeof u=="string","internal-error",{appName:n}),w.refreshToken=u),f&&(Do(typeof f=="string","internal-error",{appName:n}),w.accessToken=f),d&&(Do(typeof d=="number","internal-error",{appName:n}),w.expirationTime=d),w}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(n){this.accessToken=n.accessToken,this.refreshToken=n.refreshToken,this.expirationTime=n.expirationTime}_clone(){return Object.assign(new KN,this.toJSON())}_performRefresh(){return u1("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t,n){Do(typeof t=="string"||typeof t>"u","internal-error",{appName:n})}class rx{constructor(n){var{uid:r,auth:u,stsTokenManager:f}=n,d=zQ(n,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ave(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=u,this.stsTokenManager=f,this.accessToken=f.accessToken,this.displayName=d.displayName||null,this.email=d.email||null,this.emailVerified=d.emailVerified||!1,this.phoneNumber=d.phoneNumber||null,this.photoURL=d.photoURL||null,this.isAnonymous=d.isAnonymous||!1,this.tenantId=d.tenantId||null,this.providerData=d.providerData?[...d.providerData]:[],this.metadata=new bie(d.createdAt||void 0,d.lastLoginAt||void 0)}async getIdToken(n){const r=await dx(this,this.stsTokenManager.getToken(this.auth,n));return Do(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(n){return ove(this,n)}reload(){return ive(this)}_assign(n){this!==n&&(Do(this.uid===n.uid,this.auth,"internal-error"),this.displayName=n.displayName,this.photoURL=n.photoURL,this.email=n.email,this.emailVerified=n.emailVerified,this.phoneNumber=n.phoneNumber,this.isAnonymous=n.isAnonymous,this.tenantId=n.tenantId,this.providerData=n.providerData.map(r=>Object.assign({},r)),this.metadata._copy(n.metadata),this.stsTokenManager._assign(n.stsTokenManager))}_clone(n){return new rx(Object.assign(Object.assign({},this),{auth:n,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(n){Do(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=n,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(n){this.reloadListener?this.reloadListener(n):this.reloadUserInfo=n}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(n,r=!1){let u=!1;n.idToken&&n.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(n),u=!0),r&&await qN(this),await this.auth._persistUserIfCurrent(this),u&&this.auth._notifyListenersIfCurrent(this)}async delete(){const n=await this.getIdToken();return await dx(this,tve(this.auth,{idToken:n})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(n=>Object.assign({},n)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(n,r){var u,f,d,w,x,T,I,$;const F=(u=r.displayName)!==null&&u!==void 0?u:void 0,H=(f=r.email)!==null&&f!==void 0?f:void 0,de=(d=r.phoneNumber)!==null&&d!==void 0?d:void 0,ke=(w=r.photoURL)!==null&&w!==void 0?w:void 0,Ne=(x=r.tenantId)!==null&&x!==void 0?x:void 0,xe=(T=r._redirectEventId)!==null&&T!==void 0?T:void 0,Fe=(I=r.createdAt)!==null&&I!==void 0?I:void 0,rt=($=r.lastLoginAt)!==null&&$!==void 0?$:void 0,{uid:ne,emailVerified:vt,isAnonymous:Ue,providerData:We,stsTokenManager:J}=r;Do(ne&&J,n,"internal-error");const Te=KN.fromJSON(this.name,J);Do(typeof ne=="string",n,"internal-error"),s0(F,n.name),s0(H,n.name),Do(typeof vt=="boolean",n,"internal-error"),Do(typeof Ue=="boolean",n,"internal-error"),s0(de,n.name),s0(ke,n.name),s0(Ne,n.name),s0(xe,n.name),s0(Fe,n.name),s0(rt,n.name);const st=new rx({uid:ne,auth:n,email:H,emailVerified:vt,displayName:F,isAnonymous:Ue,photoURL:ke,phoneNumber:de,tenantId:Ne,stsTokenManager:Te,createdAt:Fe,lastLoginAt:rt});return We&&Array.isArray(We)&&(st.providerData=We.map(wt=>Object.assign({},wt))),xe&&(st._redirectEventId=xe),st}static async _fromIdTokenResponse(n,r,u=!1){const f=new KN;f.updateFromServerResponse(r);const d=new rx({uid:r.localId,auth:n,stsTokenManager:f,isAnonymous:u});return await qN(d),d}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vie{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){const r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}vie.type="NONE";const Zoe=vie;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t,n,r){return`firebase:${t}:${n}:${r}`}class SA{constructor(n,r,u){this.persistence=n,this.auth=r,this.userKey=u;const{config:f,name:d}=this.auth;this.fullUserKey=uV(this.userKey,f.apiKey,d),this.fullPersistenceKey=uV("persistence",f.apiKey,d),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(n){return this.persistence._set(this.fullUserKey,n.toJSON())}async getCurrentUser(){const n=await this.persistence._get(this.fullUserKey);return n?rx._fromJSON(this.auth,n):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(n){if(this.persistence===n)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=n,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(n,r,u="authUser"){if(!r.length)return new SA(d1(Zoe),n,u);const f=(await Promise.all(r.map(async I=>{if(await I._isAvailable())return I}))).filter(I=>I);let d=f[0]||d1(Zoe);const w=uV(u,n.config.apiKey,n.name);let x=null;for(const I of r)try{const $=await I._get(w);if($){const F=rx._fromJSON(n,$);I!==d&&(x=F),d=I;break}}catch{}const T=f.filter(I=>I._shouldAllowMigration);return!d._shouldAllowMigration||!T.length?new SA(d,n,u):(d=T[0],x&&await d._set(w,x.toJSON()),await Promise.all(r.map(async I=>{if(I!==d)try{await I._remove(w)}catch{}})),new SA(d,n,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Goe(t){const n=t.toLowerCase();if(n.includes("opera/")||n.includes("opr/")||n.includes("opios/"))return"Opera";if(kie(n))return"IEMobile";if(n.includes("msie")||n.includes("trident/"))return"IE";if(n.includes("edge/"))return"Edge";if(wie(n))return"Firefox";if(n.includes("silk/"))return"Silk";if(Sie(n))return"Blackberry";if(xie(n))return"Webos";if(BQ(n))return"Safari";if((n.includes("chrome/")||_ie(n))&&!n.includes("edge/"))return"Chrome";if(Cie(n))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,u=t.match(r);if((u==null?void 0:u.length)===2)return u[1]}return"Other"}function wie(t=Zu()){return/firefox\//i.test(t)}function BQ(t=Zu()){const n=t.toLowerCase();return n.includes("safari/")&&!n.includes("chrome/")&&!n.includes("crios/")&&!n.includes("android")}function _ie(t=Zu()){return/crios\//i.test(t)}function kie(t=Zu()){return/iemobile/i.test(t)}function Cie(t=Zu()){return/android/i.test(t)}function Sie(t=Zu()){return/blackberry/i.test(t)}function xie(t=Zu()){return/webos/i.test(t)}function h7(t=Zu()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dve(t=Zu()){var n;return h7(t)&&!!(!((n=window.navigator)===null||n===void 0)&&n.standalone)}function fve(){return bye()&&document.documentMode===10}function Eie(t=Zu()){return h7(t)||Cie(t)||xie(t)||Sie(t)||/windows phone/i.test(t)||kie(t)}function hve(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tie(t,n=[]){let r;switch(t){case"Browser":r=Goe(Zu());break;case"Worker":r=`${Goe(Zu())}-${t}`;break;default:r=t}const u=n.length?n.join(","):"FirebaseCore-web";return`${r}/JsCore/${l4}/${u}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mve{constructor(n){this.auth=n,this.queue=[]}pushCallback(n,r){const u=d=>new Promise((w,x)=>{try{const T=n(d);w(T)}catch(T){x(T)}});u.onAbort=r,this.queue.push(u);const f=this.queue.length-1;return()=>{this.queue[f]=()=>Promise.resolve()}}async runMiddleware(n){if(this.auth.currentUser===n)return;const r=[];try{for(const u of this.queue)await u(n),u.onAbort&&r.push(u.onAbort)}catch(u){r.reverse();for(const f of r)try{f()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:u==null?void 0:u.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pve{constructor(n,r,u){this.app=n,this.heartbeatServiceProvider=r,this.config=u,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qoe(this),this.idTokenSubscription=new qoe(this),this.beforeStateQueue=new mve(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mie,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=n.name,this.clientVersion=u.sdkClientVersion}_initializeWithPersistence(n,r){return r&&(this._popupRedirectResolver=d1(r)),this._initializationPromise=this.queue(async()=>{var u,f;if(!this._deleted&&(this.persistenceManager=await SA.create(this,n),!this._deleted)){if(!((u=this._popupRedirectResolver)===null||u===void 0)&&u._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((f=this.currentUser)===null||f===void 0?void 0:f.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const n=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!n)){if(this.currentUser&&n&&this.currentUser.uid===n.uid){this._currentUser._assign(n),await this.currentUser.getIdToken();return}await this._updateCurrentUser(n,!0)}}async initializeCurrentUser(n){var r;const u=await this.assertedPersistence.getCurrentUser();let f=u,d=!1;if(n&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const w=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,x=f==null?void 0:f._redirectEventId,T=await this.tryRedirectSignIn(n);(!w||w===x)&&(T==null?void 0:T.user)&&(f=T.user,d=!0)}if(!f)return this.directlySetCurrentUser(null);if(!f._redirectEventId){if(d)try{await this.beforeStateQueue.runMiddleware(f)}catch(w){f=u,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(w))}return f?this.reloadAndSetCurrentUserOrClear(f):this.directlySetCurrentUser(null)}return Do(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===f._redirectEventId?this.directlySetCurrentUser(f):this.reloadAndSetCurrentUserOrClear(f)}async tryRedirectSignIn(n){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,n,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(n){try{await qN(n)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(n)}useDeviceLanguage(){this.languageCode=Xbe()}async _delete(){this._deleted=!0}async updateCurrentUser(n){const r=n?Ai(n):null;return r&&Do(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(n,r=!1){if(!this._deleted)return n&&Do(this.tenantId===n.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(n),this.queue(async()=>{await this.directlySetCurrentUser(n),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(n){return this.queue(async()=>{await this.assertedPersistence.setPersistence(d1(n))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(n){this._errorFactory=new i4("auth","Firebase",n())}onAuthStateChanged(n,r,u){return this.registerStateListener(this.authStateSubscription,n,r,u)}beforeAuthStateChanged(n,r){return this.beforeStateQueue.pushCallback(n,r)}onIdTokenChanged(n,r,u){return this.registerStateListener(this.idTokenSubscription,n,r,u)}toJSON(){var n;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(n=this._currentUser)===null||n===void 0?void 0:n.toJSON()}}async _setRedirectUser(n,r){const u=await this.getOrInitRedirectPersistenceManager(r);return n===null?u.removeCurrentUser():u.setCurrentUser(n)}async getOrInitRedirectPersistenceManager(n){if(!this.redirectPersistenceManager){const r=n&&d1(n)||this._popupRedirectResolver;Do(r,this,"argument-error"),this.redirectPersistenceManager=await SA.create(this,[d1(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(n){var r,u;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===n?this._currentUser:((u=this.redirectUser)===null||u===void 0?void 0:u._redirectEventId)===n?this.redirectUser:null}async _persistUserIfCurrent(n){if(n===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(n))}_notifyListenersIfCurrent(n){n===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const u=(r=(n=this.currentUser)===null||n===void 0?void 0:n.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==u&&(this.lastNotifiedUid=u,this.authStateSubscription.next(this.currentUser))}registerStateListener(n,r,u,f){if(this._deleted)return()=>{};const d=typeof r=="function"?r:r.next.bind(r),w=this._isInitialized?Promise.resolve():this._initializationPromise;return Do(w,this,"internal-error"),w.then(()=>d(this.currentUser)),typeof r=="function"?n.addObserver(r,u,f):n.addObserver(r)}async directlySetCurrentUser(n){this.currentUser&&this.currentUser!==n&&this._currentUser._stopProactiveRefresh(),n&&this.isProactiveRefreshEnabled&&n._startProactiveRefresh(),this.currentUser=n,n?await this.assertedPersistence.setCurrentUser(n):await this.assertedPersistence.removeCurrentUser()}queue(n){return this.operations=this.operations.then(n,n),this.operations}get assertedPersistence(){return Do(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(n){!n||this.frameworks.includes(n)||(this.frameworks.push(n),this.frameworks.sort(),this.clientVersion=Tie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var n;const r={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const u=await((n=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||n===void 0?void 0:n.getHeartbeatsHeader());return u&&(r["X-Firebase-Client"]=u),r}}function KA(t){return Ai(t)}class qoe{constructor(n){this.auth=n,this.observer=null,this.addObserver=Pye(r=>this.observer=r)}get next(){return Do(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gve(t,n,r){const u=KA(t);Do(u._canInitEmulator,u,"emulator-config-failed"),Do(/^https?:\/\//.test(n),u,"invalid-emulator-scheme");const f=!!(r!=null&&r.disableWarnings),d=Rie(n),{host:w,port:x}=yve(n),T=x===null?"":`:${x}`;u.config.emulator={url:`${d}//${w}${T}/`},u.settings.appVerificationDisabledForTesting=!0,u.emulatorConfig=Object.freeze({host:w,port:x,protocol:d.replace(":",""),options:Object.freeze({disableWarnings:f})}),f||bve()}function Rie(t){const n=t.indexOf(":");return n<0?"":t.substr(0,n+1)}function yve(t){const n=Rie(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(n.length));if(!r)return{host:"",port:null};const u=r[2].split("@").pop()||"",f=/^(\[[^\]]+\])(:|$)/.exec(u);if(f){const d=f[1];return{host:d,port:Koe(u.substr(d.length+1))}}else{const[d,w]=u.split(":");return{host:d,port:Koe(w)}}}function Koe(t){if(!t)return null;const n=Number(t);return isNaN(n)?null:n}function bve(){function t(){const n=document.createElement("p"),r=n.style;n.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",n.classList.add("firebase-emulator-warning"),document.body.appendChild(n)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(n,r){this.providerId=n,this.signInMethod=r}toJSON(){return u1("not implemented")}_getIdTokenResponse(n){return u1("not implemented")}_linkToIdToken(n,r){return u1("not implemented")}_getReauthenticationResolver(n){return u1("not implemented")}}async function Aie(t,n){return vx(t,"POST","/v1/accounts:update",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vve(t,n){return u4(t,"POST","/v1/accounts:signInWithPassword",qA(t,n))}async function Iie(t,n){return vx(t,"POST","/v1/accounts:sendOobCode",qA(t,n))}async function wve(t,n){return Iie(t,n)}async function _ve(t,n){return Iie(t,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kve(t,n){return u4(t,"POST","/v1/accounts:signInWithEmailLink",qA(t,n))}async function Cve(t,n){return u4(t,"POST","/v1/accounts:signInWithEmailLink",qA(t,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN extends $Q{constructor(n,r,u,f=null){super("password",u),this._email=n,this._password=r,this._tenantId=f}static _fromEmailAndPassword(n,r){return new YN(n,r,"password")}static _fromEmailAndCode(n,r,u=null){return new YN(n,r,"emailLink",u)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(n){const r=typeof n=="string"?JSON.parse(n):n;if((r==null?void 0:r.email)&&(r==null?void 0:r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(n){switch(this.signInMethod){case"password":return vve(n,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return kve(n,{email:this._email,oobCode:this._password});default:ig(n,"internal-error")}}async _linkToIdToken(n,r){switch(this.signInMethod){case"password":return Aie(n,{idToken:r,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Cve(n,{idToken:r,email:this._email,oobCode:this._password});default:ig(n,"internal-error")}}_getReauthenticationResolver(n){return this._getIdTokenResponse(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xA(t,n){return u4(t,"POST","/v1/accounts:signInWithIdp",qA(t,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sve="http://localhost";class fx extends $Q{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(n){const r=new fx(n.providerId,n.signInMethod);return n.idToken||n.accessToken?(n.idToken&&(r.idToken=n.idToken),n.accessToken&&(r.accessToken=n.accessToken),n.nonce&&!n.pendingToken&&(r.nonce=n.nonce),n.pendingToken&&(r.pendingToken=n.pendingToken)):n.oauthToken&&n.oauthTokenSecret?(r.accessToken=n.oauthToken,r.secret=n.oauthTokenSecret):ig("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(n){const r=typeof n=="string"?JSON.parse(n):n,{providerId:u,signInMethod:f}=r,d=zQ(r,["providerId","signInMethod"]);if(!u||!f)return null;const w=new fx(u,f);return w.idToken=d.idToken||void 0,w.accessToken=d.accessToken||void 0,w.secret=d.secret,w.nonce=d.nonce,w.pendingToken=d.pendingToken||null,w}_getIdTokenResponse(n){const r=this.buildRequest();return xA(n,r)}_linkToIdToken(n,r){const u=this.buildRequest();return u.idToken=r,xA(n,u)}_getReauthenticationResolver(n){const r=this.buildRequest();return r.autoCreate=!1,xA(n,r)}buildRequest(){const n={requestUri:Sve,returnSecureToken:!0};if(this.pendingToken)n.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),n.postBody=GA(r)}return n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xve(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Eve(t){const n=bN(vN(t)).link,r=n?bN(vN(n)).deep_link_id:null,u=bN(vN(t)).deep_link_id;return(u?bN(vN(u)).link:null)||u||r||n||t}class VQ{constructor(n){var r,u,f,d,w,x;const T=bN(vN(n)),I=(r=T.apiKey)!==null&&r!==void 0?r:null,$=(u=T.oobCode)!==null&&u!==void 0?u:null,F=xve((f=T.mode)!==null&&f!==void 0?f:null);Do(I&&$&&F,"argument-error"),this.apiKey=I,this.operation=F,this.code=$,this.continueUrl=(d=T.continueUrl)!==null&&d!==void 0?d:null,this.languageCode=(w=T.languageCode)!==null&&w!==void 0?w:null,this.tenantId=(x=T.tenantId)!==null&&x!==void 0?x:null}static parseLink(n){const r=Eve(n);try{return new VQ(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.providerId=YA.PROVIDER_ID}static credential(n,r){return YN._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const u=VQ.parseLink(r);return Do(u,"argument-error"),YN._fromEmailAndCode(n,u.code,u.tenantId)}}YA.PROVIDER_ID="password";YA.EMAIL_PASSWORD_SIGN_IN_METHOD="password";YA.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oie{constructor(n){this.providerId=n,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(n){this.defaultLanguageCode=n}setCustomParameters(n){return this.customParameters=n,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4 extends Oie{constructor(){super(...arguments),this.scopes=[]}addScope(n){return this.scopes.includes(n)||this.scopes.push(n),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0 extends d4{constructor(){super("facebook.com")}static credential(n){return fx._fromParams({providerId:d0.PROVIDER_ID,signInMethod:d0.FACEBOOK_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return d0.credentialFromTaggedObject(n)}static credentialFromError(n){return d0.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return d0.credential(n.oauthAccessToken)}catch{return null}}}d0.FACEBOOK_SIGN_IN_METHOD="facebook.com";d0.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends d4{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return fx._fromParams({providerId:f0.PROVIDER_ID,signInMethod:f0.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return f0.credentialFromTaggedObject(n)}static credentialFromError(n){return f0.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:u}=n;if(!r&&!u)return null;try{return f0.credential(r,u)}catch{return null}}}f0.GOOGLE_SIGN_IN_METHOD="google.com";f0.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends d4{constructor(){super("github.com")}static credential(n){return fx._fromParams({providerId:h0.PROVIDER_ID,signInMethod:h0.GITHUB_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return h0.credentialFromTaggedObject(n)}static credentialFromError(n){return h0.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return h0.credential(n.oauthAccessToken)}catch{return null}}}h0.GITHUB_SIGN_IN_METHOD="github.com";h0.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends d4{constructor(){super("twitter.com")}static credential(n,r){return fx._fromParams({providerId:m0.PROVIDER_ID,signInMethod:m0.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:r})}static credentialFromResult(n){return m0.credentialFromTaggedObject(n)}static credentialFromError(n){return m0.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthAccessToken:r,oauthTokenSecret:u}=n;if(!r||!u)return null;try{return m0.credential(r,u)}catch{return null}}}m0.TWITTER_SIGN_IN_METHOD="twitter.com";m0.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Die(t,n){return u4(t,"POST","/v1/accounts:signUp",qA(t,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(n){this.user=n.user,this.providerId=n.providerId,this._tokenResponse=n._tokenResponse,this.operationType=n.operationType}static async _fromIdTokenResponse(n,r,u,f=!1){const d=await rx._fromIdTokenResponse(n,u,f),w=Yoe(u);return new b1({user:d,providerId:w,_tokenResponse:u,operationType:r})}static async _forOperation(n,r,u){await n._updateTokensIfNecessary(u,!0);const f=Yoe(u);return new b1({user:n,providerId:f,_tokenResponse:u,operationType:r})}}function Yoe(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oRe(t){var n;const r=KA(t);if(await r._initializationPromise,!((n=r.currentUser)===null||n===void 0)&&n.isAnonymous)return new b1({user:r.currentUser,providerId:null,operationType:"signIn"});const u=await Die(r,{returnSecureToken:!0}),f=await b1._fromIdTokenResponse(r,"signIn",u,!0);return await r._updateCurrentUser(f.user),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV extends D0{constructor(n,r,u,f){var d;super(r.code,r.message),this.operationType=u,this.user=f,Object.setPrototypeOf(this,TV.prototype),this.customData={appName:n.name,tenantId:(d=n.tenantId)!==null&&d!==void 0?d:void 0,_serverResponse:r.customData._serverResponse,operationType:u}}static _fromErrorAndOperation(n,r,u,f){return new TV(n,r,u,f)}}function Mie(t,n,r,u){return(n==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(d=>{throw d.code==="auth/multi-factor-auth-required"?TV._fromErrorAndOperation(t,d,n,u):d})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tve(t){return new Set(t.map(({providerId:n})=>n).filter(n=>!!n))}async function Pie(t,n,r=!1){const u=await dx(t,n._linkToIdToken(t.auth,await t.getIdToken()),r);return b1._forOperation(t,"link",u)}async function Rve(t,n,r){await qN(n);const u=Tve(n.providerData),f=t===!1?"provider-already-linked":"no-such-provider";Do(u.has(r)===t,n.auth,f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zie(t,n,r=!1){const{auth:u}=t,f="reauthenticate";try{const d=await dx(t,Mie(u,f,n,t),r);Do(d.idToken,u,"internal-error");const w=FQ(d.idToken);Do(w,u,"internal-error");const{sub:x}=w;return Do(t.uid===x,u,"user-mismatch"),b1._forOperation(t,f,d)}catch(d){throw(d==null?void 0:d.code)==="auth/user-not-found"&&ig(u,"user-mismatch"),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nie(t,n,r=!1){const u="signIn",f=await Mie(t,u,n),d=await b1._fromIdTokenResponse(t,u,f);return r||await t._updateCurrentUser(d.user),d}async function Ave(t,n){return Nie(KA(t),n)}async function sRe(t,n){const r=Ai(t);return await Rve(!1,r,n.providerId),Pie(r,n)}async function rRe(t,n){return zie(Ai(t),n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lie(t,n,r){var u;Do(((u=r.url)===null||u===void 0?void 0:u.length)>0,t,"invalid-continue-uri"),Do(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),n.continueUrl=r.url,n.dynamicLinkDomain=r.dynamicLinkDomain,n.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(Do(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),n.iOSBundleId=r.iOS.bundleId),r.android&&(Do(r.android.packageName.length>0,t,"missing-android-pkg-name"),n.androidInstallApp=r.android.installApp,n.androidMinimumVersionCode=r.android.minimumVersion,n.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aRe(t,n,r){const u=Ai(t),f={requestType:"PASSWORD_RESET",email:n};r&&Lie(u,f,r),await _ve(u,f)}async function iRe(t,n,r){const u=KA(t),f=await Die(u,{returnSecureToken:!0,email:n,password:r}),d=await b1._fromIdTokenResponse(u,"signIn",f);return await u._updateCurrentUser(d.user),d}function lRe(t,n,r){return Ave(Ai(t),YA.credential(n,r))}async function cRe(t,n){const r=Ai(t),f={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};n&&Lie(r.auth,f,n);const{email:d}=await wve(r.auth,f);d!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ive(t,n){return vx(t,"POST","/v1/accounts:update",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uRe(t,{displayName:n,photoURL:r}){if(n===void 0&&r===void 0)return;const u=Ai(t),d={idToken:await u.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},w=await dx(u,Ive(u.auth,d));u.displayName=w.displayName||null,u.photoURL=w.photoUrl||null;const x=u.providerData.find(({providerId:T})=>T==="password");x&&(x.displayName=u.displayName,x.photoURL=u.photoURL),await u._updateTokensIfNecessary(w)}function dRe(t,n){return Ove(Ai(t),null,n)}async function Ove(t,n,r){const{auth:u}=t,d={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(d.email=n),r&&(d.password=r);const w=await dx(t,Aie(u,d));await t._updateTokensIfNecessary(w,!0)}function Dve(t,n,r,u){return Ai(t).onIdTokenChanged(n,r,u)}function Mve(t,n,r){return Ai(t).beforeAuthStateChanged(n,r)}function Pve(t,n,r,u){return Ai(t).onAuthStateChanged(n,r,u)}function zve(t){return Ai(t).signOut()}async function fRe(t){return Ai(t).delete()}const RV="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fie{constructor(n,r){this.storageRetriever=n,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(RV,"1"),this.storage.removeItem(RV),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(n,r){return this.storage.setItem(n,JSON.stringify(r)),Promise.resolve()}_get(n){const r=this.storage.getItem(n);return Promise.resolve(r?JSON.parse(r):null)}_remove(n){return this.storage.removeItem(n),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nve(){const t=Zu();return BQ(t)||h7(t)}const Lve=1e3,Fve=10;class Bie extends Fie{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Nve()&&hve(),this.fallbackToPolling=Eie(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const u=this.storage.getItem(r),f=this.localCache[r];u!==f&&n(r,f,u)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((w,x,T)=>{this.notifyListeners(w,T)});return}const u=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const w=this.storage.getItem(u);if(n.newValue!==w)n.newValue!==null?this.storage.setItem(u,n.newValue):this.storage.removeItem(u);else if(this.localCache[u]===n.newValue&&!r)return}const f=()=>{const w=this.storage.getItem(u);!r&&this.localCache[u]===w||this.notifyListeners(u,w)},d=this.storage.getItem(u);fve()&&d!==n.newValue&&n.newValue!==n.oldValue?setTimeout(f,Fve):f()}notifyListeners(n,r){this.localCache[n]=r;const u=this.listeners[n];if(u)for(const f of Array.from(u))f(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,u)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:u}),!0)})},Lve)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){const r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}Bie.type="LOCAL";const Bve=Bie;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ie extends Fie{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}$ie.type="SESSION";const Vie=$ie;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ve(t){return Promise.all(t.map(async n=>{try{return{fulfilled:!0,value:await n}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(f=>f.isListeningto(n));if(r)return r;const u=new m7(n);return this.receivers.push(u),u}isListeningto(n){return this.eventTarget===n}async handleEvent(n){const r=n,{eventId:u,eventType:f,data:d}=r.data,w=this.handlersMap[f];if(!(w!=null&&w.size))return;r.ports[0].postMessage({status:"ack",eventId:u,eventType:f});const x=Array.from(w).map(async I=>I(r.origin,d)),T=await $ve(x);r.ports[0].postMessage({status:"done",eventId:u,eventType:f,response:T})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}m7.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HQ(t="",n=10){let r="";for(let u=0;u<n;u++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vve{constructor(n){this.target=n,this.handlers=new Set}removeMessageHandler(n){n.messageChannel&&(n.messageChannel.port1.removeEventListener("message",n.onMessage),n.messageChannel.port1.close()),this.handlers.delete(n)}async _send(n,r,u=50){const f=typeof MessageChannel<"u"?new MessageChannel:null;if(!f)throw new Error("connection_unavailable");let d,w;return new Promise((x,T)=>{const I=HQ("",20);f.port1.start();const $=setTimeout(()=>{T(new Error("unsupported_event"))},u);w={messageChannel:f,onMessage(F){const H=F;if(H.data.eventId===I)switch(H.data.status){case"ack":clearTimeout($),d=setTimeout(()=>{T(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),x(H.data.response);break;default:clearTimeout($),clearTimeout(d),T(new Error("invalid_response"));break}}},this.handlers.add(w),f.port1.addEventListener("message",w.onMessage),this.target.postMessage({eventType:n,eventId:I,data:r},[f.port2])}).finally(()=>{w&&this.removeMessageHandler(w)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(){return window}function Hve(t){Zy().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hie(){return typeof Zy().WorkerGlobalScope<"u"&&typeof Zy().importScripts=="function"}async function Uve(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jve(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Wve(){return Hie()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uie="firebaseLocalStorageDb",Zve=1,AV="firebaseLocalStorage",jie="fbase_key";class f4{constructor(n){this.request=n}toPromise(){return new Promise((n,r)=>{this.request.addEventListener("success",()=>{n(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function p7(t,n){return t.transaction([AV],n?"readwrite":"readonly").objectStore(AV)}function Gve(){const t=indexedDB.deleteDatabase(Uie);return new f4(t).toPromise()}function TJ(){const t=indexedDB.open(Uie,Zve);return new Promise((n,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const u=t.result;try{u.createObjectStore(AV,{keyPath:jie})}catch(f){r(f)}}),t.addEventListener("success",async()=>{const u=t.result;u.objectStoreNames.contains(AV)?n(u):(u.close(),await Gve(),n(await TJ()))})})}async function Xoe(t,n,r){const u=p7(t,!0).put({[jie]:n,value:r});return new f4(u).toPromise()}async function qve(t,n){const r=p7(t,!1).get(n),u=await new f4(r).toPromise();return u===void 0?null:u.value}function Joe(t,n){const r=p7(t,!0).delete(n);return new f4(r).toPromise()}const Kve=800,Yve=3;class Wie{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await TJ(),this.db)}async _withRetries(n){let r=0;for(;;)try{const u=await this._openDb();return await n(u)}catch(u){if(r++>Yve)throw u;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hie()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=m7._getInstance(Wve()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Uve(),!this.activeServiceWorker)return;this.sender=new Vve(this.activeServiceWorker);const u=await this.sender._send("ping",{},800);!u||((n=u[0])===null||n===void 0?void 0:n.fulfilled)&&((r=u[0])===null||r===void 0?void 0:r.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||jve()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const n=await TJ();return await Xoe(n,RV,"1"),await Joe(n,RV),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(u=>Xoe(u,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){const r=await this._withRetries(u=>qve(u,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Joe(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){const n=await this._withRetries(f=>{const d=p7(f,!1).getAll();return new f4(d).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];const r=[],u=new Set;for(const{fbase_key:f,value:d}of n)u.add(f),JSON.stringify(this.localCache[f])!==JSON.stringify(d)&&(this.notifyListeners(f,d),r.push(f));for(const f of Object.keys(this.localCache))this.localCache[f]&&!u.has(f)&&(this.notifyListeners(f,null),r.push(f));return r}notifyListeners(n,r){this.localCache[n]=r;const u=this.listeners[n];if(u)for(const f of Array.from(u))f(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kve)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wie.type="LOCAL";const Xve=Wie;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jve(){var t,n;return(n=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&n!==void 0?n:document}function Qve(t){return new Promise((n,r)=>{const u=document.createElement("script");u.setAttribute("src",t),u.onload=n,u.onerror=f=>{const d=Wy("internal-error");d.customData=f,r(d)},u.type="text/javascript",u.charset="UTF-8",Jve().appendChild(u)})}function e1e(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new c4(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1e(t,n){return n?d1(n):(Do(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ extends $Q{constructor(n){super("custom","custom"),this.params=n}_getIdTokenResponse(n){return xA(n,this._buildIdpRequest())}_linkToIdToken(n,r){return xA(n,this._buildIdpRequest(r))}_getReauthenticationResolver(n){return xA(n,this._buildIdpRequest())}_buildIdpRequest(n){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return n&&(r.idToken=n),r}}function n1e(t){return Nie(t.auth,new UQ(t),t.bypassAuthState)}function o1e(t){const{auth:n,user:r}=t;return Do(r,n,"internal-error"),zie(r,new UQ(t),t.bypassAuthState)}async function s1e(t){const{auth:n,user:r}=t;return Do(r,n,"internal-error"),Pie(r,new UQ(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zie{constructor(n,r,u,f,d=!1){this.auth=n,this.resolver=u,this.user=f,this.bypassAuthState=d,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(n,r)=>{this.pendingPromise={resolve:n,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(u){this.reject(u)}})}async onAuthEvent(n){const{urlResponse:r,sessionId:u,postBody:f,tenantId:d,error:w,type:x}=n;if(w){this.reject(w);return}const T={auth:this.auth,requestUri:r,sessionId:u,tenantId:d||void 0,postBody:f||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(x)(T))}catch(I){this.reject(I)}}onError(n){this.reject(n)}getIdpTask(n){switch(n){case"signInViaPopup":case"signInViaRedirect":return n1e;case"linkViaPopup":case"linkViaRedirect":return s1e;case"reauthViaPopup":case"reauthViaRedirect":return o1e;default:ig(this.auth,"internal-error")}}resolve(n){y1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(n),this.unregisterAndCleanUp()}reject(n){y1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(n),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1e=new c4(2e3,1e4);class vA extends Zie{constructor(n,r,u,f,d){super(n,r,f,d),this.provider=u,this.authWindow=null,this.pollId=null,vA.currentPopupAction&&vA.currentPopupAction.cancel(),vA.currentPopupAction=this}async executeNotNull(){const n=await this.execute();return Do(n,this.auth,"internal-error"),n}async onExecution(){y1(this.filter.length===1,"Popup operations only handle one event");const n=HQ();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Wy(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Wy(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vA.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,u;if(!((u=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||u===void 0)&&u.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wy(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(n,r1e.get())};n()}}vA.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1e="pendingRedirect",dV=new Map;class i1e extends Zie{constructor(n,r,u=!1){super(n,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,u),this.eventId=null}async execute(){let n=dV.get(this.auth._key());if(!n){try{const u=await l1e(this.resolver,this.auth)?await super.execute():null;n=()=>Promise.resolve(u)}catch(r){n=()=>Promise.reject(r)}dV.set(this.auth._key(),n)}return this.bypassAuthState||dV.set(this.auth._key(),()=>Promise.resolve(null)),n()}async onAuthEvent(n){if(n.type==="signInViaRedirect")return super.onAuthEvent(n);if(n.type==="unknown"){this.resolve(null);return}if(n.eventId){const r=await this.auth._redirectUserForId(n.eventId);if(r)return this.user=r,super.onAuthEvent(n);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l1e(t,n){const r=d1e(n),u=u1e(t);if(!await u._isAvailable())return!1;const f=await u._get(r)==="true";return await u._remove(r),f}function c1e(t,n){dV.set(t._key(),n)}function u1e(t){return d1(t._redirectPersistence)}function d1e(t){return uV(a1e,t.config.apiKey,t.name)}async function f1e(t,n,r=!1){const u=KA(t),f=t1e(u,n),w=await new i1e(u,f,r).execute();return w&&!r&&(delete w.user._redirectEventId,await u._persistUserIfCurrent(w.user),await u._setRedirectUser(null,n)),w}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1e=10*60*1e3;class m1e{constructor(n){this.auth=n,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(n){this.consumers.add(n),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,n)&&(this.sendToConsumer(this.queuedRedirectEvent,n),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(n){this.consumers.delete(n)}onEvent(n){if(this.hasEventBeenHandled(n))return!1;let r=!1;return this.consumers.forEach(u=>{this.isEventForConsumer(n,u)&&(r=!0,this.sendToConsumer(n,u),this.saveEventToCache(n))}),this.hasHandledPotentialRedirect||!p1e(n)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=n,r=!0)),r}sendToConsumer(n,r){var u;if(n.error&&!Gie(n)){const f=((u=n.error.code)===null||u===void 0?void 0:u.split("auth/")[1])||"internal-error";r.onError(Wy(this.auth,f))}else r.onAuthEvent(n)}isEventForConsumer(n,r){const u=r.eventId===null||!!n.eventId&&n.eventId===r.eventId;return r.filter.includes(n.type)&&u}hasEventBeenHandled(n){return Date.now()-this.lastProcessedEventTime>=h1e&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qoe(n))}saveEventToCache(n){this.cachedEventUids.add(Qoe(n)),this.lastProcessedEventTime=Date.now()}}function Qoe(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(n=>n).join("-")}function Gie({type:t,error:n}){return t==="unknown"&&(n==null?void 0:n.code)==="auth/no-auth-event"}function p1e(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gie(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1e(t,n={}){return vx(t,"GET","/v1/projects",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,b1e=/^https?/;async function v1e(t){if(t.config.emulator)return;const{authorizedDomains:n}=await g1e(t);for(const r of n)try{if(w1e(r))return}catch{}ig(t,"unauthorized-domain")}function w1e(t){const n=EJ(),{protocol:r,hostname:u}=new URL(n);if(t.startsWith("chrome-extension://")){const w=new URL(t);return w.hostname===""&&u===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===n.replace("chrome-extension://",""):r==="chrome-extension:"&&w.hostname===u}if(!b1e.test(r))return!1;if(y1e.test(t))return u===t;const f=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+f+"|"+f+")$","i").test(u)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1e=new c4(3e4,6e4);function ese(){const t=Zy().___jsl;if(t!=null&&t.H){for(const n of Object.keys(t.H))if(t.H[n].r=t.H[n].r||[],t.H[n].L=t.H[n].L||[],t.H[n].r=[...t.H[n].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function k1e(t){return new Promise((n,r)=>{var u,f,d;function w(){ese(),gapi.load("gapi.iframes",{callback:()=>{n(gapi.iframes.getContext())},ontimeout:()=>{ese(),r(Wy(t,"network-request-failed"))},timeout:_1e.get()})}if(!((f=(u=Zy().gapi)===null||u===void 0?void 0:u.iframes)===null||f===void 0)&&f.Iframe)n(gapi.iframes.getContext());else if(!((d=Zy().gapi)===null||d===void 0)&&d.load)w();else{const x=e1e("iframefcb");return Zy()[x]=()=>{gapi.load?w():r(Wy(t,"network-request-failed"))},Qve(`https://apis.google.com/js/api.js?onload=${x}`).catch(T=>r(T))}}).catch(n=>{throw fV=null,n})}let fV=null;function C1e(t){return fV=fV||k1e(t),fV}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1e=new c4(5e3,15e3),x1e="__/auth/iframe",E1e="emulator/auth/iframe",T1e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R1e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A1e(t){const n=t.config;Do(n.authDomain,t,"auth-domain-config-required");const r=n.emulator?LQ(n,E1e):`https://${t.config.authDomain}/${x1e}`,u={apiKey:n.apiKey,appName:t.name,v:l4},f=R1e.get(t.config.apiHost);f&&(u.eid=f);const d=t._getFrameworks();return d.length&&(u.fw=d.join(",")),`${r}?${GA(u).slice(1)}`}async function I1e(t){const n=await C1e(t),r=Zy().gapi;return Do(r,t,"internal-error"),n.open({where:document.body,url:A1e(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T1e,dontclear:!0},u=>new Promise(async(f,d)=>{await u.restyle({setHideOnLeave:!1});const w=Wy(t,"network-request-failed"),x=Zy().setTimeout(()=>{d(w)},S1e.get());function T(){Zy().clearTimeout(x),f(u)}u.ping(T).then(T,()=>{d(w)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D1e=500,M1e=600,P1e="_blank",z1e="http://localhost";class tse{constructor(n){this.window=n,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N1e(t,n,r,u=D1e,f=M1e){const d=Math.max((window.screen.availHeight-f)/2,0).toString(),w=Math.max((window.screen.availWidth-u)/2,0).toString();let x="";const T=Object.assign(Object.assign({},O1e),{width:u.toString(),height:f.toString(),top:d,left:w}),I=Zu().toLowerCase();r&&(x=_ie(I)?P1e:r),wie(I)&&(n=n||z1e,T.scrollbars="yes");const $=Object.entries(T).reduce((H,[de,ke])=>`${H}${de}=${ke},`,"");if(dve(I)&&x!=="_self")return L1e(n||"",x),new tse(null);const F=window.open(n||"",x,$);Do(F,t,"popup-blocked");try{F.focus()}catch{}return new tse(F)}function L1e(t,n){const r=document.createElement("a");r.href=t,r.target=n;const u=document.createEvent("MouseEvent");u.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1e="__/auth/handler",B1e="emulator/auth/handler";function nse(t,n,r,u,f,d){Do(t.config.authDomain,t,"auth-domain-config-required"),Do(t.config.apiKey,t,"invalid-api-key");const w={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:u,v:l4,eventId:f};if(n instanceof Oie){n.setDefaultLanguage(t.languageCode),w.providerId=n.providerId||"",wJ(n.getCustomParameters())||(w.customParameters=JSON.stringify(n.getCustomParameters()));for(const[T,I]of Object.entries(d||{}))w[T]=I}if(n instanceof d4){const T=n.getScopes().filter(I=>I!=="");T.length>0&&(w.scopes=T.join(","))}t.tenantId&&(w.tid=t.tenantId);const x=w;for(const T of Object.keys(x))x[T]===void 0&&delete x[T];return`${$1e(t)}?${GA(x).slice(1)}`}function $1e({config:t}){return t.emulator?LQ(t,B1e):`https://${t.authDomain}/${F1e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FX="webStorageSupport";class V1e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vie,this._completeRedirectFn=f1e,this._overrideRedirectResult=c1e}async _openPopup(n,r,u,f){var d;y1((d=this.eventManagers[n._key()])===null||d===void 0?void 0:d.manager,"_initialize() not called before _openPopup()");const w=nse(n,r,u,EJ(),f);return N1e(n,w,HQ())}async _openRedirect(n,r,u,f){return await this._originValidation(n),Hve(nse(n,r,u,EJ(),f)),new Promise(()=>{})}_initialize(n){const r=n._key();if(this.eventManagers[r]){const{manager:f,promise:d}=this.eventManagers[r];return f?Promise.resolve(f):(y1(d,"If manager is not set, promise should be"),d)}const u=this.initAndGetManager(n);return this.eventManagers[r]={promise:u},u.catch(()=>{delete this.eventManagers[r]}),u}async initAndGetManager(n){const r=await I1e(n),u=new m1e(n);return r.register("authEvent",f=>(Do(f==null?void 0:f.authEvent,n,"invalid-auth-event"),{status:u.onEvent(f.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[n._key()]={manager:u},this.iframes[n._key()]=r,u}_isIframeWebStorageSupported(n,r){this.iframes[n._key()].send(FX,{type:FX},f=>{var d;const w=(d=f==null?void 0:f[0])===null||d===void 0?void 0:d[FX];w!==void 0&&r(!!w),ig(n,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(n){const r=n._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=v1e(n)),this.originValidationPromises[r]}get _shouldInitProactively(){return Eie()||BQ()||h7()}}const H1e=V1e;var ose="@firebase/auth",sse="0.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1e{constructor(n){this.auth=n,this.internalListeners=new Map}getUid(){var n;return this.assertAuthConfigured(),((n=this.auth.currentUser)===null||n===void 0?void 0:n.uid)||null}async getToken(n){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(n)}:null}addAuthTokenListener(n){if(this.assertAuthConfigured(),this.internalListeners.has(n))return;const r=this.auth.onIdTokenChanged(u=>{n((u==null?void 0:u.stsTokenManager.accessToken)||null)});this.internalListeners.set(n,r),this.updateProactiveRefresh()}removeAuthTokenListener(n){this.assertAuthConfigured();const r=this.internalListeners.get(n);!r||(this.internalListeners.delete(n),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Do(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function W1e(t){NA(new cx("auth",(n,{options:r})=>{const u=n.getProvider("app").getImmediate(),f=n.getProvider("heartbeat"),{apiKey:d,authDomain:w}=u.options;return((x,T)=>{Do(d&&!d.includes(":"),"invalid-api-key",{appName:x.name}),Do(!(w!=null&&w.includes(":")),"argument-error",{appName:x.name});const I={apiKey:d,authDomain:w,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tie(t)},$=new pve(x,T,I);return qbe($,r),$})(u,f)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,r,u)=>{n.getProvider("auth-internal").initialize()})),NA(new cx("auth-internal",n=>{const r=KA(n.getProvider("auth").getImmediate());return(u=>new U1e(u))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),C0(ose,sse,j1e(t)),C0(ose,sse,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1e=5*60,G1e=rie("authIdTokenMaxAge")||Z1e;let rse=null;const q1e=t=>async n=>{const r=n&&await n.getIdTokenResult(),u=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(u&&u>G1e)return;const f=r==null?void 0:r.token;rse!==f&&(rse=f,await fetch(t,{method:f?"POST":"DELETE",headers:f?{Authorization:`Bearer ${f}`}:{}}))};function qie(t=uie()){const n=PQ(t,"auth");if(n.isInitialized())return n.getImmediate();const r=Gbe(t,{popupRedirectResolver:H1e,persistence:[Xve,Bve,Vie]}),u=rie("authTokenSyncURL");if(u){const d=q1e(u);Mve(r,d,()=>d(r.currentUser)),Dve(r,w=>d(w))}const f=sie("auth");return f&&gve(r,`http://${f}`),r}W1e("Browser");cie({apiKey:"AIzaSyBZbHSiAQrJktVbyRoJ8i6EwCLns-TMmfk",authDomain:"mygame-xian.firebaseapp.com",projectId:"mygame-xian",storageBucket:"mygame-xian.appspot.com",messagingSenderId:"496921879585",appId:"1:496921879585:web:34ead29c0601e5c592af60"});const K1e=qie(),Y1e=()=>{zve(K1e)},Kie=Bhe("counter",()=>{const t=ws(null),n=ws(!1),r=ws(!1);return{user:t,authOn:n,signOutFun:Y1e,messageOnValue:r}}),Yie="/vite_base_dist/assets/logo.da9b9095.svg",ase="@firebase/database",ise="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xie="";function X1e(t){Xie=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1e{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,r){r==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),oc(r))}get(n){const r=this.domStorage_.getItem(this.prefixedName_(n));return r==null?null:ZN(r)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1e{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,r){r==null?delete this.cache_[n]:this.cache_[n]=r}get(n){return Ky(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jie=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new J1e(n)}}catch{}return new Q1e},tx=Jie("localStorage"),RJ=Jie("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new DQ("@firebase/database"),ewe=function(){let t=1;return function(){return t++}}(),Qie=function(t){const n=Lye(t),r=new Mye;r.update(n);const u=r.digest();return AQ.encodeByteArray(u)},h4=function(...t){let n="";for(let r=0;r<t.length;r++){const u=t[r];Array.isArray(u)||u&&typeof u=="object"&&typeof u.length=="number"?n+=h4.apply(null,u):typeof u=="object"?n+=oc(u):n+=u,n+=" "}return n};let ax=null,lse=!0;const twe=function(t,n){kn(!n||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(EA.logLevel=ka.VERBOSE,ax=EA.log.bind(EA),n&&RJ.set("logging_enabled",!0)):typeof t=="function"?ax=t:(ax=null,RJ.remove("logging_enabled"))},iu=function(...t){if(lse===!0&&(lse=!1,ax===null&&RJ.get("logging_enabled")===!0&&twe(!0)),ax){const n=h4.apply(null,t);ax(n)}},m4=function(t){return function(...n){iu(t,...n)}},AJ=function(...t){const n="FIREBASE INTERNAL ERROR: "+h4(...t);EA.error(n)},v1=function(...t){const n=`FIREBASE FATAL ERROR: ${h4(...t)}`;throw EA.error(n),new Error(n)},Hd=function(...t){const n="FIREBASE WARNING: "+h4(...t);EA.warn(n)},nwe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Hd("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},jQ=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},owe=function(t){if(document.readyState==="complete")t();else{let n=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}n||(n=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},LA="[MIN_NAME]",hx="[MAX_NAME]",wx=function(t,n){if(t===n)return 0;if(t===LA||n===hx)return-1;if(n===LA||t===hx)return 1;{const r=cse(t),u=cse(n);return r!==null?u!==null?r-u===0?t.length-n.length:r-u:-1:u!==null?1:t<n?-1:1}},swe=function(t,n){return t===n?0:t<n?-1:1},hN=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+oc(n))},WQ=function(t){if(typeof t!="object"||t===null)return oc(t);const n=[];for(const u in t)n.push(u);n.sort();let r="{";for(let u=0;u<n.length;u++)u!==0&&(r+=","),r+=oc(n[u]),r+=":",r+=WQ(t[n[u]]);return r+="}",r},ele=function(t,n){const r=t.length;if(r<=n)return[t];const u=[];for(let f=0;f<r;f+=n)f+n>r?u.push(t.substring(f,r)):u.push(t.substring(f,f+n));return u};function uu(t,n){for(const r in t)t.hasOwnProperty(r)&&n(r,t[r])}const tle=function(t){kn(!jQ(t),"Invalid JSON number");const n=11,r=52,u=(1<<n-1)-1;let f,d,w,x,T;t===0?(d=0,w=0,f=1/t===-1/0?1:0):(f=t<0,t=Math.abs(t),t>=Math.pow(2,1-u)?(x=Math.min(Math.floor(Math.log(t)/Math.LN2),u),d=x+u,w=Math.round(t*Math.pow(2,r-x)-Math.pow(2,r))):(d=0,w=Math.round(t/Math.pow(2,1-u-r))));const I=[];for(T=r;T;T-=1)I.push(w%2?1:0),w=Math.floor(w/2);for(T=n;T;T-=1)I.push(d%2?1:0),d=Math.floor(d/2);I.push(f?1:0),I.reverse();const $=I.join("");let F="";for(T=0;T<64;T+=8){let H=parseInt($.substr(T,8),2).toString(16);H.length===1&&(H="0"+H),F=F+H}return F.toLowerCase()},rwe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},awe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function iwe(t,n){let r="Unknown Error";t==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?r="Client doesn't have permission to access the desired data.":t==="unavailable"&&(r="The service is unavailable");const u=new Error(t+" at "+n._path.toString()+": "+r);return u.code=t.toUpperCase(),u}const lwe=new RegExp("^-?(0*)\\d{1,10}$"),cwe=-2147483648,uwe=2147483647,cse=function(t){if(lwe.test(t)){const n=Number(t);if(n>=cwe&&n<=uwe)return n}return null},XA=function(t){try{t()}catch(n){setTimeout(()=>{const r=n.stack||"";throw Hd("Exception was thrown by user callback.",r),n},Math.floor(0))}},dwe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},DN=function(t,n){const r=setTimeout(t,n);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fwe{constructor(n,r){this.appName_=n,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(u=>this.appCheck=u)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((r,u)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(r,u):r(null)},0)})}addTokenChangeListener(n){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(u=>u.addTokenListener(n))}notifyForInvalidToken(){Hd(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hwe{constructor(n,r,u){this.appName_=n,this.firebaseOptions_=r,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(f=>this.auth_=f)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(r=>r&&r.code==="auth/token-not-initialized"?(iu("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,u)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(r,u):r(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(r=>r.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(r=>r.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Hd(n)}}class TA{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}TA.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZQ="5",nle="v",ole="s",sle="r",rle="f",ale=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ile="ls",lle="p",IJ="ac",cle="websocket",ule="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dle{constructor(n,r,u,f,d=!1,w="",x=!1){this.secure=r,this.namespace=u,this.webSocketOnly=f,this.nodeAdmin=d,this.persistenceKey=w,this.includeNamespaceInQueryParams=x,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=tx.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&tx.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${r}`}}function mwe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function fle(t,n,r){kn(typeof n=="string","typeof type must == string"),kn(typeof r=="object","typeof params must == object");let u;if(n===cle)u=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(n===ule)u=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);mwe(t)&&(r.ns=t.namespace);const f=[];return uu(r,(d,w)=>{f.push(d+"="+w)}),u+f.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pwe{constructor(){this.counters_={}}incrementCounter(n,r=1){Ky(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=r}get(){return pye(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BX={},$X={};function GQ(t){const n=t.toString();return BX[n]||(BX[n]=new pwe),BX[n]}function gwe(t,n){const r=t.toString();return $X[r]||($X[r]=n()),$X[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ywe{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,r){this.closeAfterResponse=n,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,r){for(this.pendingResponses[n]=r;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let f=0;f<u.length;++f)u[f]&&XA(()=>{this.onMessage_(u[f])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const use="start",bwe="close",vwe="pLPCommand",wwe="pRTLPCB",hle="id",mle="pw",ple="ser",_we="cb",kwe="seg",Cwe="ts",Swe="d",xwe="dframe",gle=1870,yle=30,Ewe=gle-yle,Twe=25e3,Rwe=3e4;class wA{constructor(n,r,u,f,d,w,x){this.connId=n,this.repoInfo=r,this.applicationId=u,this.appCheckToken=f,this.authToken=d,this.transportSessionId=w,this.lastSessionId=x,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=m4(n),this.stats_=GQ(r),this.urlFn=T=>(this.appCheckToken&&(T[IJ]=this.appCheckToken),fle(r,ule,T))}open(n,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new ywe(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Rwe)),owe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qQ((...d)=>{const[w,x,T,I,$]=d;if(this.incrementIncomingBytes_(d),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,w===use)this.id=x,this.password=T;else if(w===bwe)x?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(x,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+w)},(...d)=>{const[w,x]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(w,x)},()=>{this.onClosed_()},this.urlFn);const u={};u[use]="t",u[ple]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(u[_we]=this.scriptTagHolder.uniqueCallbackIdentifier),u[nle]=ZQ,this.transportSessionId&&(u[ole]=this.transportSessionId),this.lastSessionId&&(u[ile]=this.lastSessionId),this.applicationId&&(u[lle]=this.applicationId),this.appCheckToken&&(u[IJ]=this.appCheckToken),typeof location<"u"&&location.hostname&&ale.test(location.hostname)&&(u[sle]=rle);const f=this.urlFn(u);this.log_("Connecting via long-poll to "+f),this.scriptTagHolder.addTag(f,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wA.forceAllow_=!0}static forceDisallow(){wA.forceDisallow_=!0}static isAvailable(){return wA.forceAllow_?!0:!wA.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!rwe()&&!awe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const r=oc(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const u=eie(r),f=ele(u,Ewe);for(let d=0;d<f.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,f.length,f[d]),this.curSegmentNum++}addDisconnectPingFrame(n,r){this.myDisconnFrame=document.createElement("iframe");const u={};u[xwe]="t",u[hle]=n,u[mle]=r,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const r=oc(n).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class qQ{constructor(n,r,u,f){this.onDisconnect=u,this.urlFn=f,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ewe(),window[vwe+this.uniqueCallbackIdentifier]=n,window[wwe+this.uniqueCallbackIdentifier]=r,this.myIFrame=qQ.createIFrame_();let d="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(d='<script>document.domain="'+document.domain+'";<\/script>');const w="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(w),this.myIFrame.doc.close()}catch(x){iu("frame writing exception"),x.stack&&iu(x.stack),iu(x)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||iu("No IE domain setting required")}catch{const u=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,r){for(this.myID=n,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[hle]=this.myID,n[mle]=this.myPW,n[ple]=this.currentSerial;let r=this.urlFn(n),u="",f=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+yle+u.length<=gle;){const w=this.pendingSegs.shift();u=u+"&"+kwe+f+"="+w.seg+"&"+Cwe+f+"="+w.ts+"&"+Swe+f+"="+w.d,f++}return r=r+u,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(n,r,u){this.pendingSegs.push({seg:n,ts:r,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(n,r){this.outstandingRequests.add(r);const u=()=>{this.outstandingRequests.delete(r),this.newRequest_()},f=setTimeout(u,Math.floor(Twe)),d=()=>{clearTimeout(f),u()};this.addTag(n,d)}addTag(n,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=n,u.onload=u.onreadystatechange=function(){const f=u.readyState;(!f||f==="loaded"||f==="complete")&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),r())},u.onerror=()=>{iu("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Awe=16384,Iwe=45e3;let IV=null;typeof MozWebSocket<"u"?IV=MozWebSocket:typeof WebSocket<"u"&&(IV=WebSocket);class tg{constructor(n,r,u,f,d,w,x){this.connId=n,this.applicationId=u,this.appCheckToken=f,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=m4(this.connId),this.stats_=GQ(r),this.connURL=tg.connectionURL_(r,w,x,f,u),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,u,f,d){const w={};return w[nle]=ZQ,typeof location<"u"&&location.hostname&&ale.test(location.hostname)&&(w[sle]=rle),r&&(w[ole]=r),u&&(w[ile]=u),f&&(w[IJ]=f),d&&(w[lle]=d),fle(n,cle,w)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,tx.set("previous_websocket_failure",!0);try{let u;oie(),this.mySock=new IV(this.connURL,[],u)}catch(u){this.log_("Error instantiating WebSocket.");const f=u.message||u.data;f&&this.log_(f),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const f=u.message||u.data;f&&this.log_(f),this.onClosed_()}}start(){}static forceDisallow(){tg.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,u=navigator.userAgent.match(r);u&&u.length>1&&parseFloat(u[1])<4.4&&(n=!0)}return!n&&IV!==null&&!tg.forceDisallow_}static previouslyFailed(){return tx.isInMemoryStorage||tx.get("previous_websocket_failure")===!0}markConnectionHealthy(){tx.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const u=ZN(r);this.onMessage(u)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(kn(this.frames===null,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const u=this.extractFrameCount_(r);u!==null&&this.appendFrame_(u)}}send(n){this.resetKeepAlive();const r=oc(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const u=ele(r,Awe);u.length>1&&this.sendString_(String(u.length));for(let f=0;f<u.length;f++)this.sendString_(u[f])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Iwe))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tg.responsesRequiredToBeHealthy=2;tg.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[wA,tg]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=tg&&tg.isAvailable();let u=r&&!tg.previouslyFailed();if(n.webSocketOnly&&(r||Hd("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),u=!0),u)this.transports_=[tg];else{const f=this.transports_=[];for(const d of XN.ALL_TRANSPORTS)d&&d.isAvailable()&&f.push(d);XN.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}XN.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Owe=6e4,Dwe=5e3,Mwe=10*1024,Pwe=100*1024,VX="t",dse="d",zwe="s",fse="r",Nwe="e",hse="o",mse="a",pse="n",gse="p",Lwe="h";class Fwe{constructor(n,r,u,f,d,w,x,T,I,$){this.id=n,this.repoInfo_=r,this.applicationId_=u,this.appCheckToken_=f,this.authToken_=d,this.onMessage_=w,this.onReady_=x,this.onDisconnect_=T,this.onKill_=I,this.lastSessionId=$,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=m4("c:"+this.id+":"),this.transportManager_=new XN(r),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,u)},Math.floor(0));const f=n.healthyTimeout||0;f>0&&(this.healthyTimeout_=DN(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Pwe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Mwe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(f)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return r=>{n===this.conn_?this.onConnectionLost_(r):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return r=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(r):n===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(n){const r={t:"d",d:n};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(VX in n){const r=n[VX];r===mse?this.upgradeIfSecondaryHealthy_():r===fse?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===hse&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const r=hN("t",n),u=hN("d",n);if(r==="c")this.onSecondaryControl_(u);else if(r==="d")this.pendingDataMessages.push(u);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:gse,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:mse,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:pse,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const r=hN("t",n),u=hN("d",n);r==="c"?this.onControl_(u):r==="d"&&this.onDataMessage_(u)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const r=hN(VX,n);if(dse in n){const u=n[dse];if(r===Lwe)this.onHandshake_(u);else if(r===pse){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let f=0;f<this.pendingDataMessages.length;++f)this.onDataMessage_(this.pendingDataMessages[f]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===zwe?this.onConnectionShutdown_(u):r===fse?this.onReset_(u):r===Nwe?AJ("Server Error: "+u):r===hse?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):AJ("Unknown control packet command: "+r)}}onHandshake_(n){const r=n.ts,u=n.v,f=n.h;this.sessionId=n.s,this.repoInfo_.host=f,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),ZQ!==u&&Hd("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,u),DN(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Owe))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,r){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):DN(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Dwe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:gse,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(tx.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ble{put(n,r,u,f){}merge(n,r,u,f){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,r,u){}onDisconnectMerge(n,r,u){}onDisconnectCancel(n,r){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vle{constructor(n){this.allowedEvents_=n,this.listeners_={},kn(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...r){if(Array.isArray(this.listeners_[n])){const u=[...this.listeners_[n]];for(let f=0;f<u.length;f++)u[f].callback.apply(u[f].context,r)}}on(n,r,u){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:r,context:u});const f=this.getInitialEvent(n);f&&r.apply(u,f)}off(n,r,u){this.validateEventType_(n);const f=this.listeners_[n]||[];for(let d=0;d<f.length;d++)if(f[d].callback===r&&(!u||u===f[d].context)){f.splice(d,1);return}}validateEventType_(n){kn(this.allowedEvents_.find(r=>r===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV extends vle{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!IQ()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new OV}getInitialEvent(n){return kn(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yse=32,bse=768;class ia{constructor(n,r){if(r===void 0){this.pieces_=n.split("/");let u=0;for(let f=0;f<this.pieces_.length;f++)this.pieces_[f].length>0&&(this.pieces_[u]=this.pieces_[f],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=r}toString(){let n="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(n+="/"+this.pieces_[r]);return n||"/"}}function mr(){return new ia("")}function Os(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function A0(t){return t.pieces_.length-t.pieceNum_}function Va(t){let n=t.pieceNum_;return n<t.pieces_.length&&n++,new ia(t.pieces_,n)}function KQ(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Bwe(t){let n="";for(let r=t.pieceNum_;r<t.pieces_.length;r++)t.pieces_[r]!==""&&(n+="/"+encodeURIComponent(String(t.pieces_[r])));return n||"/"}function JN(t,n=0){return t.pieces_.slice(t.pieceNum_+n)}function wle(t){if(t.pieceNum_>=t.pieces_.length)return null;const n=[];for(let r=t.pieceNum_;r<t.pieces_.length-1;r++)n.push(t.pieces_[r]);return new ia(n,0)}function Yi(t,n){const r=[];for(let u=t.pieceNum_;u<t.pieces_.length;u++)r.push(t.pieces_[u]);if(n instanceof ia)for(let u=n.pieceNum_;u<n.pieces_.length;u++)r.push(n.pieces_[u]);else{const u=n.split("/");for(let f=0;f<u.length;f++)u[f].length>0&&r.push(u[f])}return new ia(r,0)}function $s(t){return t.pieceNum_>=t.pieces_.length}function Vd(t,n){const r=Os(t),u=Os(n);if(r===null)return n;if(r===u)return Vd(Va(t),Va(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")}function $we(t,n){const r=JN(t,0),u=JN(n,0);for(let f=0;f<r.length&&f<u.length;f++){const d=wx(r[f],u[f]);if(d!==0)return d}return r.length===u.length?0:r.length<u.length?-1:1}function YQ(t,n){if(A0(t)!==A0(n))return!1;for(let r=t.pieceNum_,u=n.pieceNum_;r<=t.pieces_.length;r++,u++)if(t.pieces_[r]!==n.pieces_[u])return!1;return!0}function Mm(t,n){let r=t.pieceNum_,u=n.pieceNum_;if(A0(t)>A0(n))return!1;for(;r<t.pieces_.length;){if(t.pieces_[r]!==n.pieces_[u])return!1;++r,++u}return!0}class Vwe{constructor(n,r){this.errorPrefix_=r,this.parts_=JN(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=f7(this.parts_[u]);_le(this)}}function Hwe(t,n){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(n),t.byteLength_+=f7(n),_le(t)}function Uwe(t){const n=t.parts_.pop();t.byteLength_-=f7(n),t.parts_.length>0&&(t.byteLength_-=1)}function _le(t){if(t.byteLength_>bse)throw new Error(t.errorPrefix_+"has a key path longer than "+bse+" bytes ("+t.byteLength_+").");if(t.parts_.length>yse)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yse+") or object contains a cycle "+KS(t))}function KS(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ extends vle{constructor(){super(["visible"]);let n,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const u=!document[n];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}static getInstance(){return new XQ}getInitialEvent(n){return kn(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=1e3,jwe=60*5*1e3,vse=30*1e3,Wwe=1.3,Zwe=3e4,Gwe="server_kill",wse=3;class m1 extends ble{constructor(n,r,u,f,d,w,x,T){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=u,this.onConnectStatus_=f,this.onServerInfoUpdate_=d,this.authTokenProvider_=w,this.appCheckTokenProvider_=x,this.authOverride_=T,this.id=m1.nextPersistentConnectionId_++,this.log_=m4("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mN,this.maxReconnectDelay_=jwe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,T&&!oie())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");XQ.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&OV.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,u){const f=++this.requestNumber_,d={r:f,a:n,b:r};this.log_(oc(d)),kn(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),u&&(this.requestCBHash_[f]=u)}get(n){this.initConnection_();const r=new a4,f={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:w=>{const x=w.d;w.s==="ok"?r.resolve(x):r.reject(x)}};this.outstandingGets_.push(f),this.outstandingGetCount_++;const d=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(d),r.promise}listen(n,r,u,f){this.initConnection_();const d=n._queryIdentifier,w=n._path.toString();this.log_("Listen called for "+w+" "+d),this.listens.has(w)||this.listens.set(w,new Map),kn(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),kn(!this.listens.get(w).has(d),"listen() called twice for same path/queryId.");const x={onComplete:f,hashFn:r,query:n,tag:u};this.listens.get(w).set(d,x),this.connected_&&this.sendListen_(x)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,u=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(u)})}sendListen_(n){const r=n.query,u=r._path.toString(),f=r._queryIdentifier;this.log_("Listen on "+u+" for "+f);const d={p:u},w="q";n.tag&&(d.q=r._queryObject,d.t=n.tag),d.h=n.hashFn(),this.sendRequest(w,d,x=>{const T=x.d,I=x.s;m1.warnOnListenWarnings_(T,r),(this.listens.get(u)&&this.listens.get(u).get(f))===n&&(this.log_("listen response",x),I!=="ok"&&this.removeListen_(u,f),n.onComplete&&n.onComplete(I,T))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Ky(n,"w")){const u=zA(n,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const f='".indexOn": "'+r._queryParams.getIndex().toString()+'"',d=r._path.toString();Hd(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${f} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Dye(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=vse)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=Oye(n)?"auth":"gauth",u={cred:n};this.authOverride_===null?u.noauth=!0:typeof this.authOverride_=="object"&&(u.authvar=this.authOverride_),this.sendRequest(r,u,f=>{const d=f.s,w=f.d||"error";this.authToken_===n&&(d==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,w))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,u=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,u)})}unlisten(n,r){const u=n._path.toString(),f=n._queryIdentifier;this.log_("Unlisten called for "+u+" "+f),kn(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,f)&&this.connected_&&this.sendUnlisten_(u,f,n._queryObject,r)}sendUnlisten_(n,r,u,f){this.log_("Unlisten on "+n+" for "+r);const d={p:n},w="n";f&&(d.q=u,d.t=f),this.sendRequest(w,d)}onDisconnectPut(n,r,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,u):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:u})}onDisconnectMerge(n,r,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,u):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:u})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,u,f){const d={p:r,d:u};this.log_("onDisconnect "+n,d),this.sendRequest(n,d,w=>{f&&setTimeout(()=>{f(w.s,w.d)},Math.floor(0))})}put(n,r,u,f){this.putInternal("p",n,r,u,f)}merge(n,r,u,f){this.putInternal("m",n,r,u,f)}putInternal(n,r,u,f,d){this.initConnection_();const w={p:r,d:u};d!==void 0&&(w.h=d),this.outstandingPuts_.push({action:n,request:w,onComplete:f}),this.outstandingPutCount_++;const x=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(x):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,u=this.outstandingPuts_[n].request,f=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,u,d=>{this.log_(r+" response",d),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),f&&f(d.s,d.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,u=>{if(u.s!=="ok"){const d=u.d;this.log_("reportStats","Error sending stats: "+d)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+oc(n));const r=n.r,u=this.requestCBHash_[r];u&&(delete this.requestCBHash_[r],u(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):AJ("Unrecognized action received from server: "+oc(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){kn(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mN,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=mN,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Zwe&&(this.reconnectDelay_=mN),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Wwe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),u=this.onRealtimeDisconnect_.bind(this),f=this.id+":"+m1.nextConnectionId_++,d=this.lastSessionId;let w=!1,x=null;const T=function(){x?x.close():(w=!0,u())},I=function(F){kn(x,"sendRequest call when we're not connected not allowed."),x.sendRequest(F)};this.realtime_={close:T,sendRequest:I};const $=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[F,H]=await Promise.all([this.authTokenProvider_.getToken($),this.appCheckTokenProvider_.getToken($)]);w?iu("getToken() completed but was canceled"):(iu("getToken() completed. Creating connection."),this.authToken_=F&&F.accessToken,this.appCheckToken_=H&&H.token,x=new Fwe(f,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,u,de=>{Hd(de+" ("+this.repoInfo_.toString()+")"),this.interrupt(Gwe)},d))}catch(F){this.log_("Failed to get token: "+F),w||(this.repoInfo_.nodeAdmin&&Hd(F),T())}}}interrupt(n){iu("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){iu("Resuming connection for reason: "+n),delete this.interruptReasons_[n],wJ(this.interruptReasons_)&&(this.reconnectDelay_=mN,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let u;r?u=r.map(d=>WQ(d)).join("$"):u="default";const f=this.removeListen_(n,u);f&&f.onComplete&&f.onComplete("permission_denied")}removeListen_(n,r){const u=new ia(n).toString();let f;if(this.listens.has(u)){const d=this.listens.get(u);f=d.get(r),d.delete(r),d.size===0&&this.listens.delete(u)}else f=void 0;return f}onAuthRevoked_(n,r){iu("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=wse&&(this.reconnectDelay_=vse,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){iu("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=wse&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+Xie.replace(/\./g,"-")]=1,IQ()?n["framework.cordova"]=1:nie()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=OV.getInstance().currentlyOnline();return wJ(this.interruptReasons_)&&n}}m1.nextPersistentConnectionId_=0;m1.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(n,r){this.name=n,this.node=r}static Wrap(n,r){return new Ds(n,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,r){const u=new Ds(LA,n),f=new Ds(LA,r);return this.compare(u,f)!==0}minPost(){return Ds.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oV;class kle extends g7{static get __EMPTY_NODE(){return oV}static set __EMPTY_NODE(n){oV=n}compare(n,r){return wx(n.name,r.name)}isDefinedOn(n){throw ZA("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,r){return!1}minPost(){return Ds.MIN}maxPost(){return new Ds(hx,oV)}makePost(n,r){return kn(typeof n=="string","KeyIndex indexValue must always be a string."),new Ds(n,oV)}toString(){return".key"}}const RA=new kle;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(n,r,u,f,d=null){this.isReverse_=f,this.resultGenerator_=d,this.nodeStack_=[];let w=1;for(;!n.isEmpty();)if(n=n,w=r?u(n.key,r):1,f&&(w*=-1),w<0)this.isReverse_?n=n.left:n=n.right;else if(w===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(n.key,n.value):r={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class Rc{constructor(n,r,u,f,d){this.key=n,this.value=r,this.color=u!=null?u:Rc.RED,this.left=f!=null?f:Df.EMPTY_NODE,this.right=d!=null?d:Df.EMPTY_NODE}copy(n,r,u,f,d){return new Rc(n!=null?n:this.key,r!=null?r:this.value,u!=null?u:this.color,f!=null?f:this.left,d!=null?d:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,u){let f=this;const d=u(n,f.key);return d<0?f=f.copy(null,null,null,f.left.insert(n,r,u),null):d===0?f=f.copy(null,r,null,null,null):f=f.copy(null,null,null,null,f.right.insert(n,r,u)),f.fixUp_()}removeMin_(){if(this.left.isEmpty())return Df.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let u,f;if(u=this,r(n,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(n,r),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),r(n,u.key)===0){if(u.right.isEmpty())return Df.EMPTY_NODE;f=u.right.min_(),u=u.copy(f.key,f.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(n,r))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,Rc.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,Rc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}Rc.RED=!0;Rc.BLACK=!1;class qwe{copy(n,r,u,f,d){return this}insert(n,r,u){return new Rc(n,r,null)}remove(n,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Df{constructor(n,r=Df.EMPTY_NODE){this.comparator_=n,this.root_=r}insert(n,r){return new Df(this.comparator_,this.root_.insert(n,r,this.comparator_).copy(null,null,Rc.BLACK,null,null))}remove(n){return new Df(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Rc.BLACK,null,null))}get(n){let r,u=this.root_;for(;!u.isEmpty();){if(r=this.comparator_(n,u.key),r===0)return u.value;r<0?u=u.left:r>0&&(u=u.right)}return null}getPredecessorKey(n){let r,u=this.root_,f=null;for(;!u.isEmpty();)if(r=this.comparator_(n,u.key),r===0){if(u.left.isEmpty())return f?f.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}else r<0?u=u.left:r>0&&(f=u,u=u.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new sV(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,r){return new sV(this.root_,n,this.comparator_,!1,r)}getReverseIteratorFrom(n,r){return new sV(this.root_,n,this.comparator_,!0,r)}getReverseIterator(n){return new sV(this.root_,null,this.comparator_,!0,n)}}Df.EMPTY_NODE=new qwe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kwe(t,n){return wx(t.name,n.name)}function JQ(t,n){return wx(t,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OJ;function Ywe(t){OJ=t}const Cle=function(t){return typeof t=="number"?"number:"+tle(t):"string:"+t},Sle=function(t){if(t.isLeafNode()){const n=t.val();kn(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Ky(n,".sv"),"Priority must be a string or number.")}else kn(t===OJ||t.isEmpty(),"priority of unexpected type.");kn(t===OJ||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _se;class Tc{constructor(n,r=Tc.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,kn(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Sle(this.priorityNode_)}static set __childrenNodeConstructor(n){_se=n}static get __childrenNodeConstructor(){return _se}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new Tc(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:Tc.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return $s(n)?this:Os(n)===".priority"?this.priorityNode_:Tc.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:Tc.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const u=Os(n);return u===null?r:r.isEmpty()&&u!==".priority"?this:(kn(u!==".priority"||A0(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(u,Tc.__childrenNodeConstructor.EMPTY_NODE.updateChild(Va(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Cle(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",r==="number"?n+=tle(this.value_):n+=this.value_,this.lazyHash_=Qie(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===Tc.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof Tc.__childrenNodeConstructor?-1:(kn(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,u=typeof this.value_,f=Tc.VALUE_TYPE_ORDER.indexOf(r),d=Tc.VALUE_TYPE_ORDER.indexOf(u);return kn(f>=0,"Unknown leaf type: "+r),kn(d>=0,"Unknown leaf type: "+u),f===d?u==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:d-f}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Tc.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xle,Ele;function Xwe(t){xle=t}function Jwe(t){Ele=t}class Qwe extends g7{compare(n,r){const u=n.node.getPriority(),f=r.node.getPriority(),d=u.compareTo(f);return d===0?wx(n.name,r.name):d}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,r){return!n.getPriority().equals(r.getPriority())}minPost(){return Ds.MIN}maxPost(){return new Ds(hx,new Tc("[PRIORITY-POST]",Ele))}makePost(n,r){const u=xle(n);return new Ds(r,new Tc("[PRIORITY-POST]",u))}toString(){return".priority"}}const Xi=new Qwe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_e=Math.log(2);class t_e{constructor(n){const r=d=>parseInt(Math.log(d)/e_e,10),u=d=>parseInt(Array(d+1).join("1"),2);this.count=r(n+1),this.current_=this.count-1;const f=u(this.count);this.bits_=n+1&f}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const DV=function(t,n,r,u){t.sort(n);const f=function(T,I){const $=I-T;let F,H;if($===0)return null;if($===1)return F=t[T],H=r?r(F):F,new Rc(H,F.node,Rc.BLACK,null,null);{const de=parseInt($/2,10)+T,ke=f(T,de),Ne=f(de+1,I);return F=t[de],H=r?r(F):F,new Rc(H,F.node,Rc.BLACK,ke,Ne)}},d=function(T){let I=null,$=null,F=t.length;const H=function(ke,Ne){const xe=F-ke,Fe=F;F-=ke;const rt=f(xe+1,Fe),ne=t[xe],vt=r?r(ne):ne;de(new Rc(vt,ne.node,Ne,null,rt))},de=function(ke){I?(I.left=ke,I=ke):($=ke,I=ke)};for(let ke=0;ke<T.count;++ke){const Ne=T.nextBitIsOne(),xe=Math.pow(2,T.count-(ke+1));Ne?H(xe,Rc.BLACK):(H(xe,Rc.BLACK),H(xe,Rc.RED))}return $},w=new t_e(t.length),x=d(w);return new Df(u||n,x)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HX;const yA={};class f1{constructor(n,r){this.indexes_=n,this.indexSet_=r}static get Default(){return kn(yA&&Xi,"ChildrenNode.ts has not been loaded"),HX=HX||new f1({".priority":yA},{".priority":Xi}),HX}get(n){const r=zA(this.indexes_,n);if(!r)throw new Error("No index defined for "+n);return r instanceof Df?r:null}hasIndex(n){return Ky(this.indexSet_,n.toString())}addIndex(n,r){kn(n!==RA,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let f=!1;const d=r.getIterator(Ds.Wrap);let w=d.getNext();for(;w;)f=f||n.isDefinedOn(w.node),u.push(w),w=d.getNext();let x;f?x=DV(u,n.getCompare()):x=yA;const T=n.toString(),I=Object.assign({},this.indexSet_);I[T]=n;const $=Object.assign({},this.indexes_);return $[T]=x,new f1($,I)}addToIndexes(n,r){const u=SV(this.indexes_,(f,d)=>{const w=zA(this.indexSet_,d);if(kn(w,"Missing index implementation for "+d),f===yA)if(w.isDefinedOn(n.node)){const x=[],T=r.getIterator(Ds.Wrap);let I=T.getNext();for(;I;)I.name!==n.name&&x.push(I),I=T.getNext();return x.push(n),DV(x,w.getCompare())}else return yA;else{const x=r.get(n.name);let T=f;return x&&(T=T.remove(new Ds(n.name,x))),T.insert(n,n.node)}});return new f1(u,this.indexSet_)}removeFromIndexes(n,r){const u=SV(this.indexes_,f=>{if(f===yA)return f;{const d=r.get(n.name);return d?f.remove(new Ds(n.name,d)):f}});return new f1(u,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pN;class Ho{constructor(n,r,u){this.children_=n,this.priorityNode_=r,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&Sle(this.priorityNode_),this.children_.isEmpty()&&kn(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return pN||(pN=new Ho(new Df(JQ),null,f1.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||pN}updatePriority(n){return this.children_.isEmpty()?this:new Ho(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const r=this.children_.get(n);return r===null?pN:r}}getChild(n){const r=Os(n);return r===null?this:this.getImmediateChild(r).getChild(Va(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(kn(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{const u=new Ds(n,r);let f,d;r.isEmpty()?(f=this.children_.remove(n),d=this.indexMap_.removeFromIndexes(u,this.children_)):(f=this.children_.insert(n,r),d=this.indexMap_.addToIndexes(u,this.children_));const w=f.isEmpty()?pN:this.priorityNode_;return new Ho(f,w,d)}}updateChild(n,r){const u=Os(n);if(u===null)return r;{kn(Os(n)!==".priority"||A0(n)===1,".priority must be the last token in a path");const f=this.getImmediateChild(u).updateChild(Va(n),r);return this.updateImmediateChild(u,f)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let u=0,f=0,d=!0;if(this.forEachChild(Xi,(w,x)=>{r[w]=x.val(n),u++,d&&Ho.INTEGER_REGEXP_.test(w)?f=Math.max(f,Number(w)):d=!1}),!n&&d&&f<2*u){const w=[];for(const x in r)w[x]=r[x];return w}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Cle(this.getPriority().val())+":"),this.forEachChild(Xi,(r,u)=>{const f=u.hash();f!==""&&(n+=":"+r+":"+f)}),this.lazyHash_=n===""?"":Qie(n)}return this.lazyHash_}getPredecessorChildName(n,r,u){const f=this.resolveIndex_(u);if(f){const d=f.getPredecessorKey(new Ds(n,r));return d?d.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const u=r.minKey();return u&&u.name}else return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new Ds(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const u=r.maxKey();return u&&u.name}else return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new Ds(r,this.children_.get(r)):null}forEachChild(n,r){const u=this.resolveIndex_(n);return u?u.inorderTraversal(f=>r(f.name,f.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const u=this.resolveIndex_(r);if(u)return u.getIteratorFrom(n,f=>f);{const f=this.children_.getIteratorFrom(n.name,Ds.Wrap);let d=f.peek();for(;d!=null&&r.compare(d,n)<0;)f.getNext(),d=f.peek();return f}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const u=this.resolveIndex_(r);if(u)return u.getReverseIteratorFrom(n,f=>f);{const f=this.children_.getReverseIteratorFrom(n.name,Ds.Wrap);let d=f.peek();for(;d!=null&&r.compare(d,n)>0;)f.getNext(),d=f.peek();return f}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===p4?-1:0}withIndex(n){if(n===RA||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new Ho(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===RA||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const u=this.getIterator(Xi),f=r.getIterator(Xi);let d=u.getNext(),w=f.getNext();for(;d&&w;){if(d.name!==w.name||!d.node.equals(w.node))return!1;d=u.getNext(),w=f.getNext()}return d===null&&w===null}else return!1;else return!1}}resolveIndex_(n){return n===RA?null:this.indexMap_.get(n.toString())}}Ho.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class n_e extends Ho{constructor(){super(new Df(JQ),Ho.EMPTY_NODE,f1.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Ho.EMPTY_NODE}isEmpty(){return!1}}const p4=new n_e;Object.defineProperties(Ds,{MIN:{value:new Ds(LA,Ho.EMPTY_NODE)},MAX:{value:new Ds(hx,p4)}});kle.__EMPTY_NODE=Ho.EMPTY_NODE;Tc.__childrenNodeConstructor=Ho;Ywe(p4);Jwe(p4);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_e=!0;function nc(t,n=null){if(t===null)return Ho.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(n=t[".priority"]),kn(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const r=t;return new Tc(r,nc(n))}if(!(t instanceof Array)&&o_e){const r=[];let u=!1;if(uu(t,(w,x)=>{if(w.substring(0,1)!=="."){const T=nc(x);T.isEmpty()||(u=u||!T.getPriority().isEmpty(),r.push(new Ds(w,T)))}}),r.length===0)return Ho.EMPTY_NODE;const d=DV(r,Kwe,w=>w.name,JQ);if(u){const w=DV(r,Xi.getCompare());return new Ho(d,nc(n),new f1({".priority":w},{".priority":Xi}))}else return new Ho(d,nc(n),f1.Default)}else{let r=Ho.EMPTY_NODE;return uu(t,(u,f)=>{if(Ky(t,u)&&u.substring(0,1)!=="."){const d=nc(f);(d.isLeafNode()||!d.isEmpty())&&(r=r.updateImmediateChild(u,d))}}),r.updatePriority(nc(n))}}Xwe(nc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_e extends g7{constructor(n){super(),this.indexPath_=n,kn(!$s(n)&&Os(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,r){const u=this.extractChild(n.node),f=this.extractChild(r.node),d=u.compareTo(f);return d===0?wx(n.name,r.name):d}makePost(n,r){const u=nc(n),f=Ho.EMPTY_NODE.updateChild(this.indexPath_,u);return new Ds(r,f)}maxPost(){const n=Ho.EMPTY_NODE.updateChild(this.indexPath_,p4);return new Ds(hx,n)}toString(){return JN(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_e extends g7{compare(n,r){const u=n.node.compareTo(r.node);return u===0?wx(n.name,r.name):u}isDefinedOn(n){return!0}indexedValueChanged(n,r){return!n.equals(r)}minPost(){return Ds.MIN}maxPost(){return Ds.MAX}makePost(n,r){const u=nc(n);return new Ds(r,u)}toString(){return".value"}}const a_e=new r_e;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tle(t){return{type:"value",snapshotNode:t}}function FA(t,n){return{type:"child_added",snapshotNode:n,childName:t}}function QN(t,n){return{type:"child_removed",snapshotNode:n,childName:t}}function e4(t,n,r){return{type:"child_changed",snapshotNode:n,childName:t,oldSnap:r}}function i_e(t,n){return{type:"child_moved",snapshotNode:n,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(n){this.index_=n}updateChild(n,r,u,f,d,w){kn(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const x=n.getImmediateChild(r);return x.getChild(f).equals(u.getChild(f))&&x.isEmpty()===u.isEmpty()||(w!=null&&(u.isEmpty()?n.hasChild(r)?w.trackChildChange(QN(r,x)):kn(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):x.isEmpty()?w.trackChildChange(FA(r,u)):w.trackChildChange(e4(r,u,x))),n.isLeafNode()&&u.isEmpty())?n:n.updateImmediateChild(r,u).withIndex(this.index_)}updateFullNode(n,r,u){return u!=null&&(n.isLeafNode()||n.forEachChild(Xi,(f,d)=>{r.hasChild(f)||u.trackChildChange(QN(f,d))}),r.isLeafNode()||r.forEachChild(Xi,(f,d)=>{if(n.hasChild(f)){const w=n.getImmediateChild(f);w.equals(d)||u.trackChildChange(e4(f,d,w))}else u.trackChildChange(FA(f,d))})),r.withIndex(this.index_)}updatePriority(n,r){return n.isEmpty()?Ho.EMPTY_NODE:n.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(n){this.indexedFilter_=new QQ(n.getIndex()),this.index_=n.getIndex(),this.startPost_=t4.getStartPost_(n),this.endPost_=t4.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,u=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return r&&u}updateChild(n,r,u,f,d,w){return this.matches(new Ds(r,u))||(u=Ho.EMPTY_NODE),this.indexedFilter_.updateChild(n,r,u,f,d,w)}updateFullNode(n,r,u){r.isLeafNode()&&(r=Ho.EMPTY_NODE);let f=r.withIndex(this.index_);f=f.updatePriority(Ho.EMPTY_NODE);const d=this;return r.forEachChild(Xi,(w,x)=>{d.matches(new Ds(w,x))||(f=f.updateImmediateChild(w,Ho.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,f,u)}updatePriority(n,r){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const r=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),r)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const r=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),r)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_e{constructor(n){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const u=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?u<=0:u<0},this.withinEndPost=r=>{const u=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?u<=0:u<0},this.rangedFilter_=new t4(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,r,u,f,d,w){return this.rangedFilter_.matches(new Ds(r,u))||(u=Ho.EMPTY_NODE),n.getImmediateChild(r).equals(u)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,r,u,f,d,w):this.fullLimitUpdateChild_(n,r,u,d,w)}updateFullNode(n,r,u){let f;if(r.isLeafNode()||r.isEmpty())f=Ho.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){f=Ho.EMPTY_NODE.withIndex(this.index_);let d;this.reverse_?d=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let w=0;for(;d.hasNext()&&w<this.limit_;){const x=d.getNext();if(this.withinDirectionalStart(x))if(this.withinDirectionalEnd(x))f=f.updateImmediateChild(x.name,x.node),w++;else break;else continue}}else{f=r.withIndex(this.index_),f=f.updatePriority(Ho.EMPTY_NODE);let d;this.reverse_?d=f.getReverseIterator(this.index_):d=f.getIterator(this.index_);let w=0;for(;d.hasNext();){const x=d.getNext();w<this.limit_&&this.withinDirectionalStart(x)&&this.withinDirectionalEnd(x)?w++:f=f.updateImmediateChild(x.name,Ho.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,f,u)}updatePriority(n,r){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,r,u,f,d){let w;if(this.reverse_){const F=this.index_.getCompare();w=(H,de)=>F(de,H)}else w=this.index_.getCompare();const x=n;kn(x.numChildren()===this.limit_,"");const T=new Ds(r,u),I=this.reverse_?x.getFirstChild(this.index_):x.getLastChild(this.index_),$=this.rangedFilter_.matches(T);if(x.hasChild(r)){const F=x.getImmediateChild(r);let H=f.getChildAfterChild(this.index_,I,this.reverse_);for(;H!=null&&(H.name===r||x.hasChild(H.name));)H=f.getChildAfterChild(this.index_,H,this.reverse_);const de=H==null?1:w(H,T);if($&&!u.isEmpty()&&de>=0)return d!=null&&d.trackChildChange(e4(r,u,F)),x.updateImmediateChild(r,u);{d!=null&&d.trackChildChange(QN(r,F));const Ne=x.updateImmediateChild(r,Ho.EMPTY_NODE);return H!=null&&this.rangedFilter_.matches(H)?(d!=null&&d.trackChildChange(FA(H.name,H.node)),Ne.updateImmediateChild(H.name,H.node)):Ne}}else return u.isEmpty()?n:$&&w(I,T)>=0?(d!=null&&(d.trackChildChange(QN(I.name,I.node)),d.trackChildChange(FA(r,u))),x.updateImmediateChild(r,u).updateImmediateChild(I.name,Ho.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eee{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xi}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return kn(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return kn(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:LA}hasEnd(){return this.endSet_}getIndexEndValue(){return kn(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return kn(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hx}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return kn(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xi}copy(){const n=new eee;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function c_e(t){return t.loadsAllData()?new QQ(t.getIndex()):t.hasLimit()?new l_e(t):new t4(t)}function kse(t){const n={};if(t.isDefault())return n;let r;if(t.index_===Xi?r="$priority":t.index_===a_e?r="$value":t.index_===RA?r="$key":(kn(t.index_ instanceof s_e,"Unrecognized index type!"),r=t.index_.toString()),n.orderBy=oc(r),t.startSet_){const u=t.startAfterSet_?"startAfter":"startAt";n[u]=oc(t.indexStartValue_),t.startNameSet_&&(n[u]+=","+oc(t.indexStartName_))}if(t.endSet_){const u=t.endBeforeSet_?"endBefore":"endAt";n[u]=oc(t.indexEndValue_),t.endNameSet_&&(n[u]+=","+oc(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n}function Cse(t){const n={};if(t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_),n.sin=!t.startAfterSet_),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_),n.ein=!t.endBeforeSet_),t.limitSet_){n.l=t.limit_;let r=t.viewFrom_;r===""&&(t.isViewFromLeft()?r="l":r="r"),n.vf=r}return t.index_!==Xi&&(n.i=t.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV extends ble{constructor(n,r,u,f){super(),this.repoInfo_=n,this.onDataUpdate_=r,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.log_=m4("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,r){return r!==void 0?"tag$"+r:(kn(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,r,u,f){const d=n._path.toString();this.log_("Listen called for "+d+" "+n._queryIdentifier);const w=MV.getListenId_(n,u),x={};this.listens_[w]=x;const T=kse(n._queryParams);this.restRequest_(d+".json",T,(I,$)=>{let F=$;if(I===404&&(F=null,I=null),I===null&&this.onDataUpdate_(d,F,!1,u),zA(this.listens_,w)===x){let H;I?I===401?H="permission_denied":H="rest_error:"+I:H="ok",f(H,null)}})}unlisten(n,r){const u=MV.getListenId_(n,r);delete this.listens_[u]}get(n){const r=kse(n._queryParams),u=n._path.toString(),f=new a4;return this.restRequest_(u+".json",r,(d,w)=>{let x=w;d===404&&(x=null,d=null),d===null?(this.onDataUpdate_(u,x,!1,null),f.resolve(x)):f.reject(new Error(x))}),f.promise}refreshAuthToken(n){}restRequest_(n,r={},u){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([f,d])=>{f&&f.accessToken&&(r.auth=f.accessToken),d&&d.token&&(r.ac=d.token);const w=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+GA(r);this.log_("Sending REST request for "+w);const x=new XMLHttpRequest;x.onreadystatechange=()=>{if(u&&x.readyState===4){this.log_("REST Response for "+w+" received. status:",x.status,"response:",x.responseText);let T=null;if(x.status>=200&&x.status<300){try{T=ZN(x.responseText)}catch{Hd("Failed to parse JSON response for "+w+": "+x.responseText)}u(null,T)}else x.status!==401&&x.status!==404&&Hd("Got unsuccessful REST response for "+w+" Status: "+x.status),u(x.status);u=null}},x.open("GET",w,!0),x.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_e{constructor(){this.rootNode_=Ho.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,r){this.rootNode_=this.rootNode_.updateChild(n,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(){return{value:null,children:new Map}}function Rle(t,n,r){if($s(n))t.value=r,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(n,r);else{const u=Os(n);t.children.has(u)||t.children.set(u,PV());const f=t.children.get(u);n=Va(n),Rle(f,n,r)}}function DJ(t,n,r){t.value!==null?r(n,t.value):d_e(t,(u,f)=>{const d=new ia(n.toString()+"/"+u);DJ(f,d,r)})}function d_e(t,n){t.children.forEach((r,u)=>{n(u,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_e{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),r=Object.assign({},n);return this.last_&&uu(this.last_,(u,f)=>{r[u]=r[u]-f}),this.last_=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sse=10*1e3,h_e=30*1e3,m_e=5*60*1e3;class p_e{constructor(n,r){this.server_=r,this.statsToReport_={},this.statsListener_=new f_e(n);const u=Sse+(h_e-Sse)*Math.random();DN(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const n=this.statsListener_.get(),r={};let u=!1;uu(n,(f,d)=>{d>0&&Ky(this.statsToReport_,f)&&(r[f]=d,u=!0)}),u&&this.server_.reportStats(r),DN(this.reportStats_.bind(this),Math.floor(Math.random()*2*m_e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var og;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(og||(og={}));function tee(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function nee(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function oee(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(n,r,u){this.path=n,this.affectedTree=r,this.revert=u,this.type=og.ACK_USER_WRITE,this.source=tee()}operationForChild(n){if($s(this.path)){if(this.affectedTree.value!=null)return kn(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ia(n));return new zV(mr(),r,this.revert)}}else return kn(Os(this.path)===n,"operationForChild called for unrelated child."),new zV(Va(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(n,r){this.source=n,this.path=r,this.type=og.LISTEN_COMPLETE}operationForChild(n){return $s(this.path)?new n4(this.source,mr()):new n4(this.source,Va(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(n,r,u){this.source=n,this.path=r,this.snap=u,this.type=og.OVERWRITE}operationForChild(n){return $s(this.path)?new mx(this.source,mr(),this.snap.getImmediateChild(n)):new mx(this.source,Va(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(n,r,u){this.source=n,this.path=r,this.children=u,this.type=og.MERGE}operationForChild(n){if($s(this.path)){const r=this.children.subtree(new ia(n));return r.isEmpty()?null:r.value?new mx(this.source,mr(),r.value):new BA(this.source,mr(),r)}else return kn(Os(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new BA(this.source,Va(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(n,r,u){this.node_=n,this.fullyInitialized_=r,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if($s(n))return this.isFullyInitialized()&&!this.filtered_;const r=Os(n);return this.isCompleteForChild(r)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_e{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function y_e(t,n,r,u){const f=[],d=[];return n.forEach(w=>{w.type==="child_changed"&&t.index_.indexedValueChanged(w.oldSnap,w.snapshotNode)&&d.push(i_e(w.childName,w.snapshotNode))}),gN(t,f,"child_removed",n,u,r),gN(t,f,"child_added",n,u,r),gN(t,f,"child_moved",d,u,r),gN(t,f,"child_changed",n,u,r),gN(t,f,"value",n,u,r),f}function gN(t,n,r,u,f,d){const w=u.filter(x=>x.type===r);w.sort((x,T)=>v_e(t,x,T)),w.forEach(x=>{const T=b_e(t,x,d);f.forEach(I=>{I.respondsTo(x.type)&&n.push(I.createEvent(T,t.query_))})})}function b_e(t,n,r){return n.type==="value"||n.type==="child_removed"||(n.prevName=r.getPredecessorChildName(n.childName,n.snapshotNode,t.index_)),n}function v_e(t,n,r){if(n.childName==null||r.childName==null)throw ZA("Should only compare child_ events.");const u=new Ds(n.childName,n.snapshotNode),f=new Ds(r.childName,r.snapshotNode);return t.index_.compare(u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(t,n){return{eventCache:t,serverCache:n}}function MN(t,n,r,u){return y7(new I0(n,r,u),t.serverCache)}function Ale(t,n,r,u){return y7(t.eventCache,new I0(n,r,u))}function NV(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function px(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UX;const w_e=()=>(UX||(UX=new Df(swe)),UX);class $a{constructor(n,r=w_e()){this.value=n,this.children=r}static fromObject(n){let r=new $a(null);return uu(n,(u,f)=>{r=r.set(new ia(u),f)}),r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,r){if(this.value!=null&&r(this.value))return{path:mr(),value:this.value};if($s(n))return null;{const u=Os(n),f=this.children.get(u);if(f!==null){const d=f.findRootMostMatchingPathAndValue(Va(n),r);return d!=null?{path:Yi(new ia(u),d.path),value:d.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if($s(n))return this;{const r=Os(n),u=this.children.get(r);return u!==null?u.subtree(Va(n)):new $a(null)}}set(n,r){if($s(n))return new $a(r,this.children);{const u=Os(n),d=(this.children.get(u)||new $a(null)).set(Va(n),r),w=this.children.insert(u,d);return new $a(this.value,w)}}remove(n){if($s(n))return this.children.isEmpty()?new $a(null):new $a(null,this.children);{const r=Os(n),u=this.children.get(r);if(u){const f=u.remove(Va(n));let d;return f.isEmpty()?d=this.children.remove(r):d=this.children.insert(r,f),this.value===null&&d.isEmpty()?new $a(null):new $a(this.value,d)}else return this}}get(n){if($s(n))return this.value;{const r=Os(n),u=this.children.get(r);return u?u.get(Va(n)):null}}setTree(n,r){if($s(n))return r;{const u=Os(n),d=(this.children.get(u)||new $a(null)).setTree(Va(n),r);let w;return d.isEmpty()?w=this.children.remove(u):w=this.children.insert(u,d),new $a(this.value,w)}}fold(n){return this.fold_(mr(),n)}fold_(n,r){const u={};return this.children.inorderTraversal((f,d)=>{u[f]=d.fold_(Yi(n,f),r)}),r(n,this.value,u)}findOnPath(n,r){return this.findOnPath_(n,mr(),r)}findOnPath_(n,r,u){const f=this.value?u(r,this.value):!1;if(f)return f;if($s(n))return null;{const d=Os(n),w=this.children.get(d);return w?w.findOnPath_(Va(n),Yi(r,d),u):null}}foreachOnPath(n,r){return this.foreachOnPath_(n,mr(),r)}foreachOnPath_(n,r,u){if($s(n))return this;{this.value&&u(r,this.value);const f=Os(n),d=this.children.get(f);return d?d.foreachOnPath_(Va(n),Yi(r,f),u):new $a(null)}}foreach(n){this.foreach_(mr(),n)}foreach_(n,r){this.children.inorderTraversal((u,f)=>{f.foreach_(Yi(n,u),r)}),this.value&&r(n,this.value)}foreachChild(n){this.children.inorderTraversal((r,u)=>{u.value&&n(r,u.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(n){this.writeTree_=n}static empty(){return new rg(new $a(null))}}function PN(t,n,r){if($s(n))return new rg(new $a(r));{const u=t.writeTree_.findRootMostValueAndPath(n);if(u!=null){const f=u.path;let d=u.value;const w=Vd(f,n);return d=d.updateChild(w,r),new rg(t.writeTree_.set(f,d))}else{const f=new $a(r),d=t.writeTree_.setTree(n,f);return new rg(d)}}}function MJ(t,n,r){let u=t;return uu(r,(f,d)=>{u=PN(u,Yi(n,f),d)}),u}function xse(t,n){if($s(n))return rg.empty();{const r=t.writeTree_.setTree(n,new $a(null));return new rg(r)}}function PJ(t,n){return _x(t,n)!=null}function _x(t,n){const r=t.writeTree_.findRootMostValueAndPath(n);return r!=null?t.writeTree_.get(r.path).getChild(Vd(r.path,n)):null}function Ese(t){const n=[],r=t.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Xi,(u,f)=>{n.push(new Ds(u,f))}):t.writeTree_.children.inorderTraversal((u,f)=>{f.value!=null&&n.push(new Ds(u,f.value))}),n}function S0(t,n){if($s(n))return t;{const r=_x(t,n);return r!=null?new rg(new $a(r)):new rg(t.writeTree_.subtree(n))}}function zJ(t){return t.writeTree_.isEmpty()}function $A(t,n){return Ile(mr(),t.writeTree_,n)}function Ile(t,n,r){if(n.value!=null)return r.updateChild(t,n.value);{let u=null;return n.children.inorderTraversal((f,d)=>{f===".priority"?(kn(d.value!==null,"Priority writes must always be leaf nodes"),u=d.value):r=Ile(Yi(t,f),d,r)}),!r.getChild(t).isEmpty()&&u!==null&&(r=r.updateChild(Yi(t,".priority"),u)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t,n){return Ple(n,t)}function __e(t,n,r,u,f){kn(u>t.lastWriteId,"Stacking an older write on top of newer ones"),f===void 0&&(f=!0),t.allWrites.push({path:n,snap:r,writeId:u,visible:f}),f&&(t.visibleWrites=PN(t.visibleWrites,n,r)),t.lastWriteId=u}function k_e(t,n,r,u){kn(u>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:n,children:r,writeId:u,visible:!0}),t.visibleWrites=MJ(t.visibleWrites,n,r),t.lastWriteId=u}function C_e(t,n){for(let r=0;r<t.allWrites.length;r++){const u=t.allWrites[r];if(u.writeId===n)return u}return null}function S_e(t,n){const r=t.allWrites.findIndex(x=>x.writeId===n);kn(r>=0,"removeWrite called with nonexistent writeId.");const u=t.allWrites[r];t.allWrites.splice(r,1);let f=u.visible,d=!1,w=t.allWrites.length-1;for(;f&&w>=0;){const x=t.allWrites[w];x.visible&&(w>=r&&x_e(x,u.path)?f=!1:Mm(u.path,x.path)&&(d=!0)),w--}if(f){if(d)return E_e(t),!0;if(u.snap)t.visibleWrites=xse(t.visibleWrites,u.path);else{const x=u.children;uu(x,T=>{t.visibleWrites=xse(t.visibleWrites,Yi(u.path,T))})}return!0}else return!1}function x_e(t,n){if(t.snap)return Mm(t.path,n);for(const r in t.children)if(t.children.hasOwnProperty(r)&&Mm(Yi(t.path,r),n))return!0;return!1}function E_e(t){t.visibleWrites=Ole(t.allWrites,T_e,mr()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function T_e(t){return t.visible}function Ole(t,n,r){let u=rg.empty();for(let f=0;f<t.length;++f){const d=t[f];if(n(d)){const w=d.path;let x;if(d.snap)Mm(r,w)?(x=Vd(r,w),u=PN(u,x,d.snap)):Mm(w,r)&&(x=Vd(w,r),u=PN(u,mr(),d.snap.getChild(x)));else if(d.children){if(Mm(r,w))x=Vd(r,w),u=MJ(u,x,d.children);else if(Mm(w,r))if(x=Vd(w,r),$s(x))u=MJ(u,mr(),d.children);else{const T=zA(d.children,Os(x));if(T){const I=T.getChild(Va(x));u=PN(u,mr(),I)}}}else throw ZA("WriteRecord should have .snap or .children")}}return u}function Dle(t,n,r,u,f){if(!u&&!f){const d=_x(t.visibleWrites,n);if(d!=null)return d;{const w=S0(t.visibleWrites,n);if(zJ(w))return r;if(r==null&&!PJ(w,mr()))return null;{const x=r||Ho.EMPTY_NODE;return $A(w,x)}}}else{const d=S0(t.visibleWrites,n);if(!f&&zJ(d))return r;if(!f&&r==null&&!PJ(d,mr()))return null;{const w=function(I){return(I.visible||f)&&(!u||!~u.indexOf(I.writeId))&&(Mm(I.path,n)||Mm(n,I.path))},x=Ole(t.allWrites,w,n),T=r||Ho.EMPTY_NODE;return $A(x,T)}}}function R_e(t,n,r){let u=Ho.EMPTY_NODE;const f=_x(t.visibleWrites,n);if(f)return f.isLeafNode()||f.forEachChild(Xi,(d,w)=>{u=u.updateImmediateChild(d,w)}),u;if(r){const d=S0(t.visibleWrites,n);return r.forEachChild(Xi,(w,x)=>{const T=$A(S0(d,new ia(w)),x);u=u.updateImmediateChild(w,T)}),Ese(d).forEach(w=>{u=u.updateImmediateChild(w.name,w.node)}),u}else{const d=S0(t.visibleWrites,n);return Ese(d).forEach(w=>{u=u.updateImmediateChild(w.name,w.node)}),u}}function A_e(t,n,r,u,f){kn(u||f,"Either existingEventSnap or existingServerSnap must exist");const d=Yi(n,r);if(PJ(t.visibleWrites,d))return null;{const w=S0(t.visibleWrites,d);return zJ(w)?f.getChild(r):$A(w,f.getChild(r))}}function I_e(t,n,r,u){const f=Yi(n,r),d=_x(t.visibleWrites,f);if(d!=null)return d;if(u.isCompleteForChild(r)){const w=S0(t.visibleWrites,f);return $A(w,u.getNode().getImmediateChild(r))}else return null}function O_e(t,n){return _x(t.visibleWrites,n)}function D_e(t,n,r,u,f,d,w){let x;const T=S0(t.visibleWrites,n),I=_x(T,mr());if(I!=null)x=I;else if(r!=null)x=$A(T,r);else return[];if(x=x.withIndex(w),!x.isEmpty()&&!x.isLeafNode()){const $=[],F=w.getCompare(),H=d?x.getReverseIteratorFrom(u,w):x.getIteratorFrom(u,w);let de=H.getNext();for(;de&&$.length<f;)F(de,u)!==0&&$.push(de),de=H.getNext();return $}else return[]}function M_e(){return{visibleWrites:rg.empty(),allWrites:[],lastWriteId:-1}}function LV(t,n,r,u){return Dle(t.writeTree,t.treePath,n,r,u)}function see(t,n){return R_e(t.writeTree,t.treePath,n)}function Tse(t,n,r,u){return A_e(t.writeTree,t.treePath,n,r,u)}function FV(t,n){return O_e(t.writeTree,Yi(t.treePath,n))}function P_e(t,n,r,u,f,d){return D_e(t.writeTree,t.treePath,n,r,u,f,d)}function ree(t,n,r){return I_e(t.writeTree,t.treePath,n,r)}function Mle(t,n){return Ple(Yi(t.treePath,n),t.writeTree)}function Ple(t,n){return{treePath:t,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_e{constructor(){this.changeMap=new Map}trackChildChange(n){const r=n.type,u=n.childName;kn(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),kn(u!==".priority","Only non-priority child changes can be tracked.");const f=this.changeMap.get(u);if(f){const d=f.type;if(r==="child_added"&&d==="child_removed")this.changeMap.set(u,e4(u,n.snapshotNode,f.snapshotNode));else if(r==="child_removed"&&d==="child_added")this.changeMap.delete(u);else if(r==="child_removed"&&d==="child_changed")this.changeMap.set(u,QN(u,f.oldSnap));else if(r==="child_changed"&&d==="child_added")this.changeMap.set(u,FA(u,n.snapshotNode));else if(r==="child_changed"&&d==="child_changed")this.changeMap.set(u,e4(u,n.snapshotNode,f.oldSnap));else throw ZA("Illegal combination of changes: "+n+" occurred after "+f)}else this.changeMap.set(u,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_e{getCompleteChild(n){return null}getChildAfterChild(n,r,u){return null}}const zle=new N_e;class aee{constructor(n,r,u=null){this.writes_=n,this.viewCache_=r,this.optCompleteServerCache_=u}getCompleteChild(n){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(n))return r.getNode().getImmediateChild(n);{const u=this.optCompleteServerCache_!=null?new I0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ree(this.writes_,n,u)}}getChildAfterChild(n,r,u){const f=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:px(this.viewCache_),d=P_e(this.writes_,f,r,1,u,n);return d.length===0?null:d[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_e(t){return{filter:t}}function F_e(t,n){kn(n.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),kn(n.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function B_e(t,n,r,u,f){const d=new z_e;let w,x;if(r.type===og.OVERWRITE){const I=r;I.source.fromUser?w=NJ(t,n,I.path,I.snap,u,f,d):(kn(I.source.fromServer,"Unknown source."),x=I.source.tagged||n.serverCache.isFiltered()&&!$s(I.path),w=BV(t,n,I.path,I.snap,u,f,x,d))}else if(r.type===og.MERGE){const I=r;I.source.fromUser?w=V_e(t,n,I.path,I.children,u,f,d):(kn(I.source.fromServer,"Unknown source."),x=I.source.tagged||n.serverCache.isFiltered(),w=LJ(t,n,I.path,I.children,u,f,x,d))}else if(r.type===og.ACK_USER_WRITE){const I=r;I.revert?w=j_e(t,n,I.path,u,f,d):w=H_e(t,n,I.path,I.affectedTree,u,f,d)}else if(r.type===og.LISTEN_COMPLETE)w=U_e(t,n,r.path,u,d);else throw ZA("Unknown operation type: "+r.type);const T=d.getChanges();return $_e(n,w,T),{viewCache:w,changes:T}}function $_e(t,n,r){const u=n.eventCache;if(u.isFullyInitialized()){const f=u.getNode().isLeafNode()||u.getNode().isEmpty(),d=NV(t);(r.length>0||!t.eventCache.isFullyInitialized()||f&&!u.getNode().equals(d)||!u.getNode().getPriority().equals(d.getPriority()))&&r.push(Tle(NV(n)))}}function Nle(t,n,r,u,f,d){const w=n.eventCache;if(FV(u,r)!=null)return n;{let x,T;if($s(r))if(kn(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const I=px(n),$=I instanceof Ho?I:Ho.EMPTY_NODE,F=see(u,$);x=t.filter.updateFullNode(n.eventCache.getNode(),F,d)}else{const I=LV(u,px(n));x=t.filter.updateFullNode(n.eventCache.getNode(),I,d)}else{const I=Os(r);if(I===".priority"){kn(A0(r)===1,"Can't have a priority with additional path components");const $=w.getNode();T=n.serverCache.getNode();const F=Tse(u,r,$,T);F!=null?x=t.filter.updatePriority($,F):x=w.getNode()}else{const $=Va(r);let F;if(w.isCompleteForChild(I)){T=n.serverCache.getNode();const H=Tse(u,r,w.getNode(),T);H!=null?F=w.getNode().getImmediateChild(I).updateChild($,H):F=w.getNode().getImmediateChild(I)}else F=ree(u,I,n.serverCache);F!=null?x=t.filter.updateChild(w.getNode(),I,F,$,f,d):x=w.getNode()}}return MN(n,x,w.isFullyInitialized()||$s(r),t.filter.filtersNodes())}}function BV(t,n,r,u,f,d,w,x){const T=n.serverCache;let I;const $=w?t.filter:t.filter.getIndexedFilter();if($s(r))I=$.updateFullNode(T.getNode(),u,null);else if($.filtersNodes()&&!T.isFiltered()){const de=T.getNode().updateChild(r,u);I=$.updateFullNode(T.getNode(),de,null)}else{const de=Os(r);if(!T.isCompleteForPath(r)&&A0(r)>1)return n;const ke=Va(r),xe=T.getNode().getImmediateChild(de).updateChild(ke,u);de===".priority"?I=$.updatePriority(T.getNode(),xe):I=$.updateChild(T.getNode(),de,xe,ke,zle,null)}const F=Ale(n,I,T.isFullyInitialized()||$s(r),$.filtersNodes()),H=new aee(f,F,d);return Nle(t,F,r,f,H,x)}function NJ(t,n,r,u,f,d,w){const x=n.eventCache;let T,I;const $=new aee(f,n,d);if($s(r))I=t.filter.updateFullNode(n.eventCache.getNode(),u,w),T=MN(n,I,!0,t.filter.filtersNodes());else{const F=Os(r);if(F===".priority")I=t.filter.updatePriority(n.eventCache.getNode(),u),T=MN(n,I,x.isFullyInitialized(),x.isFiltered());else{const H=Va(r),de=x.getNode().getImmediateChild(F);let ke;if($s(H))ke=u;else{const Ne=$.getCompleteChild(F);Ne!=null?KQ(H)===".priority"&&Ne.getChild(wle(H)).isEmpty()?ke=Ne:ke=Ne.updateChild(H,u):ke=Ho.EMPTY_NODE}if(de.equals(ke))T=n;else{const Ne=t.filter.updateChild(x.getNode(),F,ke,H,$,w);T=MN(n,Ne,x.isFullyInitialized(),t.filter.filtersNodes())}}}return T}function Rse(t,n){return t.eventCache.isCompleteForChild(n)}function V_e(t,n,r,u,f,d,w){let x=n;return u.foreach((T,I)=>{const $=Yi(r,T);Rse(n,Os($))&&(x=NJ(t,x,$,I,f,d,w))}),u.foreach((T,I)=>{const $=Yi(r,T);Rse(n,Os($))||(x=NJ(t,x,$,I,f,d,w))}),x}function Ase(t,n,r){return r.foreach((u,f)=>{n=n.updateChild(u,f)}),n}function LJ(t,n,r,u,f,d,w,x){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let T=n,I;$s(r)?I=u:I=new $a(null).setTree(r,u);const $=n.serverCache.getNode();return I.children.inorderTraversal((F,H)=>{if($.hasChild(F)){const de=n.serverCache.getNode().getImmediateChild(F),ke=Ase(t,de,H);T=BV(t,T,new ia(F),ke,f,d,w,x)}}),I.children.inorderTraversal((F,H)=>{const de=!n.serverCache.isCompleteForChild(F)&&H.value===null;if(!$.hasChild(F)&&!de){const ke=n.serverCache.getNode().getImmediateChild(F),Ne=Ase(t,ke,H);T=BV(t,T,new ia(F),Ne,f,d,w,x)}}),T}function H_e(t,n,r,u,f,d,w){if(FV(f,r)!=null)return n;const x=n.serverCache.isFiltered(),T=n.serverCache;if(u.value!=null){if($s(r)&&T.isFullyInitialized()||T.isCompleteForPath(r))return BV(t,n,r,T.getNode().getChild(r),f,d,x,w);if($s(r)){let I=new $a(null);return T.getNode().forEachChild(RA,($,F)=>{I=I.set(new ia($),F)}),LJ(t,n,r,I,f,d,x,w)}else return n}else{let I=new $a(null);return u.foreach(($,F)=>{const H=Yi(r,$);T.isCompleteForPath(H)&&(I=I.set($,T.getNode().getChild(H)))}),LJ(t,n,r,I,f,d,x,w)}}function U_e(t,n,r,u,f){const d=n.serverCache,w=Ale(n,d.getNode(),d.isFullyInitialized()||$s(r),d.isFiltered());return Nle(t,w,r,u,zle,f)}function j_e(t,n,r,u,f,d){let w;if(FV(u,r)!=null)return n;{const x=new aee(u,n,f),T=n.eventCache.getNode();let I;if($s(r)||Os(r)===".priority"){let $;if(n.serverCache.isFullyInitialized())$=LV(u,px(n));else{const F=n.serverCache.getNode();kn(F instanceof Ho,"serverChildren would be complete if leaf node"),$=see(u,F)}$=$,I=t.filter.updateFullNode(T,$,d)}else{const $=Os(r);let F=ree(u,$,n.serverCache);F==null&&n.serverCache.isCompleteForChild($)&&(F=T.getImmediateChild($)),F!=null?I=t.filter.updateChild(T,$,F,Va(r),x,d):n.eventCache.getNode().hasChild($)?I=t.filter.updateChild(T,$,Ho.EMPTY_NODE,Va(r),x,d):I=T,I.isEmpty()&&n.serverCache.isFullyInitialized()&&(w=LV(u,px(n)),w.isLeafNode()&&(I=t.filter.updateFullNode(I,w,d)))}return w=n.serverCache.isFullyInitialized()||FV(u,mr())!=null,MN(n,I,w,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_e{constructor(n,r){this.query_=n,this.eventRegistrations_=[];const u=this.query_._queryParams,f=new QQ(u.getIndex()),d=c_e(u);this.processor_=L_e(d);const w=r.serverCache,x=r.eventCache,T=f.updateFullNode(Ho.EMPTY_NODE,w.getNode(),null),I=d.updateFullNode(Ho.EMPTY_NODE,x.getNode(),null),$=new I0(T,w.isFullyInitialized(),f.filtersNodes()),F=new I0(I,x.isFullyInitialized(),d.filtersNodes());this.viewCache_=y7(F,$),this.eventGenerator_=new g_e(this.query_)}get query(){return this.query_}}function Z_e(t){return t.viewCache_.serverCache.getNode()}function G_e(t){return NV(t.viewCache_)}function q_e(t,n){const r=px(t.viewCache_);return r&&(t.query._queryParams.loadsAllData()||!$s(n)&&!r.getImmediateChild(Os(n)).isEmpty())?r.getChild(n):null}function Ise(t){return t.eventRegistrations_.length===0}function K_e(t,n){t.eventRegistrations_.push(n)}function Ose(t,n,r){const u=[];if(r){kn(n==null,"A cancel should cancel all event registrations.");const f=t.query._path;t.eventRegistrations_.forEach(d=>{const w=d.createCancelEvent(r,f);w&&u.push(w)})}if(n){let f=[];for(let d=0;d<t.eventRegistrations_.length;++d){const w=t.eventRegistrations_[d];if(!w.matches(n))f.push(w);else if(n.hasAnyCallback()){f=f.concat(t.eventRegistrations_.slice(d+1));break}}t.eventRegistrations_=f}else t.eventRegistrations_=[];return u}function Dse(t,n,r,u){n.type===og.MERGE&&n.source.queryId!==null&&(kn(px(t.viewCache_),"We should always have a full cache before handling merges"),kn(NV(t.viewCache_),"Missing event cache, even though we have a server cache"));const f=t.viewCache_,d=B_e(t.processor_,f,n,r,u);return F_e(t.processor_,d.viewCache),kn(d.viewCache.serverCache.isFullyInitialized()||!f.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=d.viewCache,Lle(t,d.changes,d.viewCache.eventCache.getNode(),null)}function Y_e(t,n){const r=t.viewCache_.eventCache,u=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Xi,(d,w)=>{u.push(FA(d,w))}),r.isFullyInitialized()&&u.push(Tle(r.getNode())),Lle(t,u,r.getNode(),n)}function Lle(t,n,r,u){const f=u?[u]:t.eventRegistrations_;return y_e(t.eventGenerator_,n,r,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $V;class Fle{constructor(){this.views=new Map}}function X_e(t){kn(!$V,"__referenceConstructor has already been defined"),$V=t}function J_e(){return kn($V,"Reference.ts has not been loaded"),$V}function Q_e(t){return t.views.size===0}function iee(t,n,r,u){const f=n.source.queryId;if(f!==null){const d=t.views.get(f);return kn(d!=null,"SyncTree gave us an op for an invalid query."),Dse(d,n,r,u)}else{let d=[];for(const w of t.views.values())d=d.concat(Dse(w,n,r,u));return d}}function Ble(t,n,r,u,f){const d=n._queryIdentifier,w=t.views.get(d);if(!w){let x=LV(r,f?u:null),T=!1;x?T=!0:u instanceof Ho?(x=see(r,u),T=!1):(x=Ho.EMPTY_NODE,T=!1);const I=y7(new I0(x,T,!1),new I0(u,f,!1));return new W_e(n,I)}return w}function e0e(t,n,r,u,f,d){const w=Ble(t,n,u,f,d);return t.views.has(n._queryIdentifier)||t.views.set(n._queryIdentifier,w),K_e(w,r),Y_e(w,r)}function t0e(t,n,r,u){const f=n._queryIdentifier,d=[];let w=[];const x=O0(t);if(f==="default")for(const[T,I]of t.views.entries())w=w.concat(Ose(I,r,u)),Ise(I)&&(t.views.delete(T),I.query._queryParams.loadsAllData()||d.push(I.query));else{const T=t.views.get(f);T&&(w=w.concat(Ose(T,r,u)),Ise(T)&&(t.views.delete(f),T.query._queryParams.loadsAllData()||d.push(T.query)))}return x&&!O0(t)&&d.push(new(J_e())(n._repo,n._path)),{removed:d,events:w}}function $le(t){const n=[];for(const r of t.views.values())r.query._queryParams.loadsAllData()||n.push(r);return n}function x0(t,n){let r=null;for(const u of t.views.values())r=r||q_e(u,n);return r}function Vle(t,n){if(n._queryParams.loadsAllData())return v7(t);{const u=n._queryIdentifier;return t.views.get(u)}}function Hle(t,n){return Vle(t,n)!=null}function O0(t){return v7(t)!=null}function v7(t){for(const n of t.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VV;function n0e(t){kn(!VV,"__referenceConstructor has already been defined"),VV=t}function o0e(){return kn(VV,"Reference.ts has not been loaded"),VV}let s0e=1;class Mse{constructor(n){this.listenProvider_=n,this.syncPointTree_=new $a(null),this.pendingWriteTree_=M_e(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ule(t,n,r,u,f){return __e(t.pendingWriteTree_,n,r,u,f),f?JA(t,new mx(tee(),n,r)):[]}function r0e(t,n,r,u){k_e(t.pendingWriteTree_,n,r,u);const f=$a.fromObject(r);return JA(t,new BA(tee(),n,f))}function p0(t,n,r=!1){const u=C_e(t.pendingWriteTree_,n);if(S_e(t.pendingWriteTree_,n)){let d=new $a(null);return u.snap!=null?d=d.set(mr(),!0):uu(u.children,w=>{d=d.set(new ia(w),!0)}),JA(t,new zV(u.path,d,r))}else return[]}function g4(t,n,r){return JA(t,new mx(nee(),n,r))}function a0e(t,n,r){const u=$a.fromObject(r);return JA(t,new BA(nee(),n,u))}function i0e(t,n){return JA(t,new n4(nee(),n))}function l0e(t,n,r){const u=cee(t,r);if(u){const f=uee(u),d=f.path,w=f.queryId,x=Vd(d,n),T=new n4(oee(w),x);return dee(t,d,T)}else return[]}function HV(t,n,r,u,f=!1){const d=n._path,w=t.syncPointTree_.get(d);let x=[];if(w&&(n._queryIdentifier==="default"||Hle(w,n))){const T=t0e(w,n,r,u);Q_e(w)&&(t.syncPointTree_=t.syncPointTree_.remove(d));const I=T.removed;if(x=T.events,!f){const $=I.findIndex(H=>H._queryParams.loadsAllData())!==-1,F=t.syncPointTree_.findOnPath(d,(H,de)=>O0(de));if($&&!F){const H=t.syncPointTree_.subtree(d);if(!H.isEmpty()){const de=d0e(H);for(let ke=0;ke<de.length;++ke){const Ne=de[ke],xe=Ne.query,Fe=Gle(t,Ne);t.listenProvider_.startListening(zN(xe),o4(t,xe),Fe.hashFn,Fe.onComplete)}}}!F&&I.length>0&&!u&&($?t.listenProvider_.stopListening(zN(n),null):I.forEach(H=>{const de=t.queryToTagMap.get(w7(H));t.listenProvider_.stopListening(zN(H),de)}))}f0e(t,I)}return x}function jle(t,n,r,u){const f=cee(t,u);if(f!=null){const d=uee(f),w=d.path,x=d.queryId,T=Vd(w,n),I=new mx(oee(x),T,r);return dee(t,w,I)}else return[]}function c0e(t,n,r,u){const f=cee(t,u);if(f){const d=uee(f),w=d.path,x=d.queryId,T=Vd(w,n),I=$a.fromObject(r),$=new BA(oee(x),T,I);return dee(t,w,$)}else return[]}function FJ(t,n,r,u=!1){const f=n._path;let d=null,w=!1;t.syncPointTree_.foreachOnPath(f,(H,de)=>{const ke=Vd(H,f);d=d||x0(de,ke),w=w||O0(de)});let x=t.syncPointTree_.get(f);x?(w=w||O0(x),d=d||x0(x,mr())):(x=new Fle,t.syncPointTree_=t.syncPointTree_.set(f,x));let T;d!=null?T=!0:(T=!1,d=Ho.EMPTY_NODE,t.syncPointTree_.subtree(f).foreachChild((de,ke)=>{const Ne=x0(ke,mr());Ne&&(d=d.updateImmediateChild(de,Ne))}));const I=Hle(x,n);if(!I&&!n._queryParams.loadsAllData()){const H=w7(n);kn(!t.queryToTagMap.has(H),"View does not exist, but we have a tag");const de=h0e();t.queryToTagMap.set(H,de),t.tagToQueryMap.set(de,H)}const $=b7(t.pendingWriteTree_,f);let F=e0e(x,n,r,$,d,T);if(!I&&!w&&!u){const H=Vle(x,n);F=F.concat(m0e(t,n,H))}return F}function lee(t,n,r){const f=t.pendingWriteTree_,d=t.syncPointTree_.findOnPath(n,(w,x)=>{const T=Vd(w,n),I=x0(x,T);if(I)return I});return Dle(f,n,d,r,!0)}function u0e(t,n){const r=n._path;let u=null;t.syncPointTree_.foreachOnPath(r,(I,$)=>{const F=Vd(I,r);u=u||x0($,F)});let f=t.syncPointTree_.get(r);f?u=u||x0(f,mr()):(f=new Fle,t.syncPointTree_=t.syncPointTree_.set(r,f));const d=u!=null,w=d?new I0(u,!0,!1):null,x=b7(t.pendingWriteTree_,n._path),T=Ble(f,n,x,d?w.getNode():Ho.EMPTY_NODE,d);return G_e(T)}function JA(t,n){return Wle(n,t.syncPointTree_,null,b7(t.pendingWriteTree_,mr()))}function Wle(t,n,r,u){if($s(t.path))return Zle(t,n,r,u);{const f=n.get(mr());r==null&&f!=null&&(r=x0(f,mr()));let d=[];const w=Os(t.path),x=t.operationForChild(w),T=n.children.get(w);if(T&&x){const I=r?r.getImmediateChild(w):null,$=Mle(u,w);d=d.concat(Wle(x,T,I,$))}return f&&(d=d.concat(iee(f,t,u,r))),d}}function Zle(t,n,r,u){const f=n.get(mr());r==null&&f!=null&&(r=x0(f,mr()));let d=[];return n.children.inorderTraversal((w,x)=>{const T=r?r.getImmediateChild(w):null,I=Mle(u,w),$=t.operationForChild(w);$&&(d=d.concat(Zle($,x,T,I)))}),f&&(d=d.concat(iee(f,t,u,r))),d}function Gle(t,n){const r=n.query,u=o4(t,r);return{hashFn:()=>(Z_e(n)||Ho.EMPTY_NODE).hash(),onComplete:f=>{if(f==="ok")return u?l0e(t,r._path,u):i0e(t,r._path);{const d=iwe(f,r);return HV(t,r,null,d)}}}}function o4(t,n){const r=w7(n);return t.queryToTagMap.get(r)}function w7(t){return t._path.toString()+"$"+t._queryIdentifier}function cee(t,n){return t.tagToQueryMap.get(n)}function uee(t){const n=t.indexOf("$");return kn(n!==-1&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new ia(t.substr(0,n))}}function dee(t,n,r){const u=t.syncPointTree_.get(n);kn(u,"Missing sync point for query tag that we're tracking");const f=b7(t.pendingWriteTree_,n);return iee(u,r,f,null)}function d0e(t){return t.fold((n,r,u)=>{if(r&&O0(r))return[v7(r)];{let f=[];return r&&(f=$le(r)),uu(u,(d,w)=>{f=f.concat(w)}),f}})}function zN(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(o0e())(t._repo,t._path):t}function f0e(t,n){for(let r=0;r<n.length;++r){const u=n[r];if(!u._queryParams.loadsAllData()){const f=w7(u),d=t.queryToTagMap.get(f);t.queryToTagMap.delete(f),t.tagToQueryMap.delete(d)}}}function h0e(){return s0e++}function m0e(t,n,r){const u=n._path,f=o4(t,n),d=Gle(t,r),w=t.listenProvider_.startListening(zN(n),f,d.hashFn,d.onComplete),x=t.syncPointTree_.subtree(u);if(f)kn(!O0(x.value),"If we're adding a query, it shouldn't be shadowed");else{const T=x.fold((I,$,F)=>{if(!$s(I)&&$&&O0($))return[v7($).query];{let H=[];return $&&(H=H.concat($le($).map(de=>de.query))),uu(F,(de,ke)=>{H=H.concat(ke)}),H}});for(let I=0;I<T.length;++I){const $=T[I];t.listenProvider_.stopListening(zN($),o4(t,$))}}return w}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(n){this.node_=n}getImmediateChild(n){const r=this.node_.getImmediateChild(n);return new fee(r)}node(){return this.node_}}class hee{constructor(n,r){this.syncTree_=n,this.path_=r}getImmediateChild(n){const r=Yi(this.path_,n);return new hee(this.syncTree_,r)}node(){return lee(this.syncTree_,this.path_)}}const p0e=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Pse=function(t,n,r){if(!t||typeof t!="object")return t;if(kn(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return g0e(t[".sv"],n,r);if(typeof t[".sv"]=="object")return y0e(t[".sv"],n);kn(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},g0e=function(t,n,r){switch(t){case"timestamp":return r.timestamp;default:kn(!1,"Unexpected server value: "+t)}},y0e=function(t,n,r){t.hasOwnProperty("increment")||kn(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const u=t.increment;typeof u!="number"&&kn(!1,"Unexpected increment value: "+u);const f=n.node();if(kn(f!==null&&typeof f<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!f.isLeafNode())return u;const w=f.getValue();return typeof w!="number"?u:w+u},qle=function(t,n,r,u){return mee(n,new hee(r,t),u)},Kle=function(t,n,r){return mee(t,new fee(n),r)};function mee(t,n,r){const u=t.getPriority().val(),f=Pse(u,n.getImmediateChild(".priority"),r);let d;if(t.isLeafNode()){const w=t,x=Pse(w.getValue(),n,r);return x!==w.getValue()||f!==w.getPriority().val()?new Tc(x,nc(f)):t}else{const w=t;return d=w,f!==w.getPriority().val()&&(d=d.updatePriority(new Tc(f))),w.forEachChild(Xi,(x,T)=>{const I=mee(T,n.getImmediateChild(x),r);I!==T&&(d=d.updateImmediateChild(x,I))}),d}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(n="",r=null,u={children:{},childCount:0}){this.name=n,this.parent=r,this.node=u}}function gee(t,n){let r=n instanceof ia?n:new ia(n),u=t,f=Os(r);for(;f!==null;){const d=zA(u.node.children,f)||{children:{},childCount:0};u=new pee(f,u,d),r=Va(r),f=Os(r)}return u}function QA(t){return t.node.value}function Yle(t,n){t.node.value=n,BJ(t)}function Xle(t){return t.node.childCount>0}function b0e(t){return QA(t)===void 0&&!Xle(t)}function _7(t,n){uu(t.node.children,(r,u)=>{n(new pee(r,t,u))})}function Jle(t,n,r,u){r&&!u&&n(t),_7(t,f=>{Jle(f,n,!0,u)}),r&&u&&n(t)}function v0e(t,n,r){let u=r?t:t.parent;for(;u!==null;){if(n(u))return!0;u=u.parent}return!1}function y4(t){return new ia(t.parent===null?t.name:y4(t.parent)+"/"+t.name)}function BJ(t){t.parent!==null&&w0e(t.parent,t.name,t)}function w0e(t,n,r){const u=b0e(r),f=Ky(t.node.children,n);u&&f?(delete t.node.children[n],t.node.childCount--,BJ(t)):!u&&!f&&(t.node.children[n]=r.node,t.node.childCount++,BJ(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0e=/[\[\].#$\/\u0000-\u001F\u007F]/,k0e=/[\[\].#$\u0000-\u001F\u007F]/,jX=10*1024*1024,yee=function(t){return typeof t=="string"&&t.length!==0&&!_0e.test(t)},Qle=function(t){return typeof t=="string"&&t.length!==0&&!k0e.test(t)},C0e=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Qle(t)},S0e=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!jQ(t)||t&&typeof t=="object"&&Ky(t,".sv")},ece=function(t,n,r,u){u&&n===void 0||k7(d7(t,"value"),n,r)},k7=function(t,n,r){const u=r instanceof ia?new Vwe(r,t):r;if(n===void 0)throw new Error(t+"contains undefined "+KS(u));if(typeof n=="function")throw new Error(t+"contains a function "+KS(u)+" with contents = "+n.toString());if(jQ(n))throw new Error(t+"contains "+n.toString()+" "+KS(u));if(typeof n=="string"&&n.length>jX/3&&f7(n)>jX)throw new Error(t+"contains a string greater than "+jX+" utf8 bytes "+KS(u)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let f=!1,d=!1;if(uu(n,(w,x)=>{if(w===".value")f=!0;else if(w!==".priority"&&w!==".sv"&&(d=!0,!yee(w)))throw new Error(t+" contains an invalid key ("+w+") "+KS(u)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Hwe(u,w),k7(t,x,u),Uwe(u)}),f&&d)throw new Error(t+' contains ".value" child '+KS(u)+" in addition to actual children.")}},x0e=function(t,n){let r,u;for(r=0;r<n.length;r++){u=n[r];const d=JN(u);for(let w=0;w<d.length;w++)if(!(d[w]===".priority"&&w===d.length-1)){if(!yee(d[w]))throw new Error(t+"contains an invalid key ("+d[w]+") in path "+u.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort($we);let f=null;for(r=0;r<n.length;r++){if(u=n[r],f!==null&&Mm(f,u))throw new Error(t+"contains a path "+f.toString()+" that is ancestor of another path "+u.toString());f=u}},E0e=function(t,n,r,u){if(u&&n===void 0)return;const f=d7(t,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(f+" must be an object containing the children to replace.");const d=[];uu(n,(w,x)=>{const T=new ia(w);if(k7(f,x,Yi(r,T)),KQ(T)===".priority"&&!S0e(x))throw new Error(f+"contains an invalid value for '"+T.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(T)}),x0e(f,d)},tce=function(t,n,r,u){if(!(u&&r===void 0)&&!Qle(r))throw new Error(d7(t,n)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},T0e=function(t,n,r,u){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),tce(t,n,r,u)},bee=function(t,n){if(Os(n)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},R0e=function(t,n){const r=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!yee(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!C0e(r))throw new Error(d7(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0e{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function C7(t,n){let r=null;for(let u=0;u<n.length;u++){const f=n[u],d=f.getPath();r!==null&&!YQ(d,r.path)&&(t.eventLists_.push(r),r=null),r===null&&(r={events:[],path:d}),r.events.push(f)}r&&t.eventLists_.push(r)}function nce(t,n,r){C7(t,r),oce(t,u=>YQ(u,n))}function Nm(t,n,r){C7(t,r),oce(t,u=>Mm(u,n)||Mm(n,u))}function oce(t,n){t.recursionDepth_++;let r=!0;for(let u=0;u<t.eventLists_.length;u++){const f=t.eventLists_[u];if(f){const d=f.path;n(d)?(I0e(t.eventLists_[u]),t.eventLists_[u]=null):r=!1}}r&&(t.eventLists_=[]),t.recursionDepth_--}function I0e(t){for(let n=0;n<t.events.length;n++){const r=t.events[n];if(r!==null){t.events[n]=null;const u=r.getEventRunner();ax&&iu("event: "+r.toString()),XA(u)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0e="repo_interrupt",D0e=25;class M0e{constructor(n,r,u,f){this.repoInfo_=n,this.forceRestClient_=r,this.authTokenProvider_=u,this.appCheckProvider_=f,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new A0e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=PV(),this.transactionQueueTree_=new pee,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function P0e(t,n,r){if(t.stats_=GQ(t.repoInfo_),t.forceRestClient_||dwe())t.server_=new MV(t.repoInfo_,(u,f,d,w)=>{zse(t,u,f,d,w)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Nse(t,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{oc(r)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}t.persistentConnection_=new m1(t.repoInfo_,n,(u,f,d,w)=>{zse(t,u,f,d,w)},u=>{Nse(t,u)},u=>{z0e(t,u)},t.authTokenProvider_,t.appCheckProvider_,r),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(u=>{t.server_.refreshAuthToken(u)}),t.appCheckProvider_.addTokenChangeListener(u=>{t.server_.refreshAppCheckToken(u.token)}),t.statsReporter_=gwe(t.repoInfo_,()=>new p_e(t.stats_,t.server_)),t.infoData_=new u_e,t.infoSyncTree_=new Mse({startListening:(u,f,d,w)=>{let x=[];const T=t.infoData_.getNode(u._path);return T.isEmpty()||(x=g4(t.infoSyncTree_,u._path,T),setTimeout(()=>{w("ok")},0)),x},stopListening:()=>{}}),vee(t,"connected",!1),t.serverSyncTree_=new Mse({startListening:(u,f,d,w)=>(t.server_.listen(u,d,f,(x,T)=>{const I=w(x,T);Nm(t.eventQueue_,u._path,I)}),[]),stopListening:(u,f)=>{t.server_.unlisten(u,f)}})}function sce(t){const r=t.infoData_.getNode(new ia(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function S7(t){return p0e({timestamp:sce(t)})}function zse(t,n,r,u,f){t.dataUpdateCount++;const d=new ia(n);r=t.interceptServerDataCallback_?t.interceptServerDataCallback_(n,r):r;let w=[];if(f)if(u){const T=SV(r,I=>nc(I));w=c0e(t.serverSyncTree_,d,T,f)}else{const T=nc(r);w=jle(t.serverSyncTree_,d,T,f)}else if(u){const T=SV(r,I=>nc(I));w=a0e(t.serverSyncTree_,d,T)}else{const T=nc(r);w=g4(t.serverSyncTree_,d,T)}let x=d;w.length>0&&(x=VA(t,d)),Nm(t.eventQueue_,x,w)}function Nse(t,n){vee(t,"connected",n),n===!1&&B0e(t)}function z0e(t,n){uu(n,(r,u)=>{vee(t,r,u)})}function vee(t,n,r){const u=new ia("/.info/"+n),f=nc(r);t.infoData_.updateSnapshot(u,f);const d=g4(t.infoSyncTree_,u,f);Nm(t.eventQueue_,u,d)}function wee(t){return t.nextWriteId_++}function N0e(t,n,r){const u=u0e(t.serverSyncTree_,n);return u!=null?Promise.resolve(u):t.server_.get(n).then(f=>{const d=nc(f).withIndex(n._queryParams.getIndex());FJ(t.serverSyncTree_,n,r,!0);let w;if(n._queryParams.loadsAllData())w=g4(t.serverSyncTree_,n._path,d);else{const x=o4(t.serverSyncTree_,n);w=jle(t.serverSyncTree_,n._path,d,x)}return Nm(t.eventQueue_,n._path,w),HV(t.serverSyncTree_,n,r,null,!0),d},f=>(b4(t,"get for query "+oc(n)+" failed: "+f),Promise.reject(new Error(f))))}function L0e(t,n,r,u,f){b4(t,"set",{path:n.toString(),value:r,priority:u});const d=S7(t),w=nc(r,u),x=lee(t.serverSyncTree_,n),T=Kle(w,x,d),I=wee(t),$=Ule(t.serverSyncTree_,n,T,I,!0);C7(t.eventQueue_,$),t.server_.put(n.toString(),w.val(!0),(H,de)=>{const ke=H==="ok";ke||Hd("set at "+n+" failed: "+H);const Ne=p0(t.serverSyncTree_,I,!ke);Nm(t.eventQueue_,n,Ne),$J(t,f,H,de)});const F=kee(t,n);VA(t,F),Nm(t.eventQueue_,F,[])}function F0e(t,n,r,u){b4(t,"update",{path:n.toString(),value:r});let f=!0;const d=S7(t),w={};if(uu(r,(x,T)=>{f=!1,w[x]=qle(Yi(n,x),nc(T),t.serverSyncTree_,d)}),f)iu("update() called with empty data.  Don't do anything."),$J(t,u,"ok",void 0);else{const x=wee(t),T=r0e(t.serverSyncTree_,n,w,x);C7(t.eventQueue_,T),t.server_.merge(n.toString(),r,(I,$)=>{const F=I==="ok";F||Hd("update at "+n+" failed: "+I);const H=p0(t.serverSyncTree_,x,!F),de=H.length>0?VA(t,n):n;Nm(t.eventQueue_,de,H),$J(t,u,I,$)}),uu(r,I=>{const $=kee(t,Yi(n,I));VA(t,$)}),Nm(t.eventQueue_,n,[])}}function B0e(t){b4(t,"onDisconnectEvents");const n=S7(t),r=PV();DJ(t.onDisconnect_,mr(),(f,d)=>{const w=qle(f,d,t.serverSyncTree_,n);Rle(r,f,w)});let u=[];DJ(r,mr(),(f,d)=>{u=u.concat(g4(t.serverSyncTree_,f,d));const w=kee(t,f);VA(t,w)}),t.onDisconnect_=PV(),Nm(t.eventQueue_,mr(),u)}function $0e(t,n,r){let u;Os(n._path)===".info"?u=FJ(t.infoSyncTree_,n,r):u=FJ(t.serverSyncTree_,n,r),nce(t.eventQueue_,n._path,u)}function Lse(t,n,r){let u;Os(n._path)===".info"?u=HV(t.infoSyncTree_,n,r):u=HV(t.serverSyncTree_,n,r),nce(t.eventQueue_,n._path,u)}function V0e(t){t.persistentConnection_&&t.persistentConnection_.interrupt(O0e)}function b4(t,...n){let r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),iu(r,...n)}function $J(t,n,r,u){n&&XA(()=>{if(r==="ok")n(null);else{const f=(r||"error").toUpperCase();let d=f;u&&(d+=": "+u);const w=new Error(d);w.code=f,n(w)}})}function rce(t,n,r){return lee(t.serverSyncTree_,n,r)||Ho.EMPTY_NODE}function _ee(t,n=t.transactionQueueTree_){if(n||x7(t,n),QA(n)){const r=ice(t,n);kn(r.length>0,"Sending zero length transaction queue"),r.every(f=>f.status===0)&&H0e(t,y4(n),r)}else Xle(n)&&_7(n,r=>{_ee(t,r)})}function H0e(t,n,r){const u=r.map(I=>I.currentWriteId),f=rce(t,n,u);let d=f;const w=f.hash();for(let I=0;I<r.length;I++){const $=r[I];kn($.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),$.status=1,$.retryCount++;const F=Vd(n,$.path);d=d.updateChild(F,$.currentOutputSnapshotRaw)}const x=d.val(!0),T=n;t.server_.put(T.toString(),x,I=>{b4(t,"transaction put response",{path:T.toString(),status:I});let $=[];if(I==="ok"){const F=[];for(let H=0;H<r.length;H++)r[H].status=2,$=$.concat(p0(t.serverSyncTree_,r[H].currentWriteId)),r[H].onComplete&&F.push(()=>r[H].onComplete(null,!0,r[H].currentOutputSnapshotResolved)),r[H].unwatcher();x7(t,gee(t.transactionQueueTree_,n)),_ee(t,t.transactionQueueTree_),Nm(t.eventQueue_,n,$);for(let H=0;H<F.length;H++)XA(F[H])}else{if(I==="datastale")for(let F=0;F<r.length;F++)r[F].status===3?r[F].status=4:r[F].status=0;else{Hd("transaction at "+T.toString()+" failed: "+I);for(let F=0;F<r.length;F++)r[F].status=4,r[F].abortReason=I}VA(t,n)}},w)}function VA(t,n){const r=ace(t,n),u=y4(r),f=ice(t,r);return U0e(t,f,u),u}function U0e(t,n,r){if(n.length===0)return;const u=[];let f=[];const w=n.filter(x=>x.status===0).map(x=>x.currentWriteId);for(let x=0;x<n.length;x++){const T=n[x],I=Vd(r,T.path);let $=!1,F;if(kn(I!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),T.status===4)$=!0,F=T.abortReason,f=f.concat(p0(t.serverSyncTree_,T.currentWriteId,!0));else if(T.status===0)if(T.retryCount>=D0e)$=!0,F="maxretry",f=f.concat(p0(t.serverSyncTree_,T.currentWriteId,!0));else{const H=rce(t,T.path,w);T.currentInputSnapshot=H;const de=n[x].update(H.val());if(de!==void 0){k7("transaction failed: Data returned ",de,T.path);let ke=nc(de);typeof de=="object"&&de!=null&&Ky(de,".priority")||(ke=ke.updatePriority(H.getPriority()));const xe=T.currentWriteId,Fe=S7(t),rt=Kle(ke,H,Fe);T.currentOutputSnapshotRaw=ke,T.currentOutputSnapshotResolved=rt,T.currentWriteId=wee(t),w.splice(w.indexOf(xe),1),f=f.concat(Ule(t.serverSyncTree_,T.path,rt,T.currentWriteId,T.applyLocally)),f=f.concat(p0(t.serverSyncTree_,xe,!0))}else $=!0,F="nodata",f=f.concat(p0(t.serverSyncTree_,T.currentWriteId,!0))}Nm(t.eventQueue_,r,f),f=[],$&&(n[x].status=2,function(H){setTimeout(H,Math.floor(0))}(n[x].unwatcher),n[x].onComplete&&(F==="nodata"?u.push(()=>n[x].onComplete(null,!1,n[x].currentInputSnapshot)):u.push(()=>n[x].onComplete(new Error(F),!1,null))))}x7(t,t.transactionQueueTree_);for(let x=0;x<u.length;x++)XA(u[x]);_ee(t,t.transactionQueueTree_)}function ace(t,n){let r,u=t.transactionQueueTree_;for(r=Os(n);r!==null&&QA(u)===void 0;)u=gee(u,r),n=Va(n),r=Os(n);return u}function ice(t,n){const r=[];return lce(t,n,r),r.sort((u,f)=>u.order-f.order),r}function lce(t,n,r){const u=QA(n);if(u)for(let f=0;f<u.length;f++)r.push(u[f]);_7(n,f=>{lce(t,f,r)})}function x7(t,n){const r=QA(n);if(r){let u=0;for(let f=0;f<r.length;f++)r[f].status!==2&&(r[u]=r[f],u++);r.length=u,Yle(n,r.length>0?r:void 0)}_7(n,u=>{x7(t,u)})}function kee(t,n){const r=y4(ace(t,n)),u=gee(t.transactionQueueTree_,n);return v0e(u,f=>{WX(t,f)}),WX(t,u),Jle(u,f=>{WX(t,f)}),r}function WX(t,n){const r=QA(n);if(r){const u=[];let f=[],d=-1;for(let w=0;w<r.length;w++)r[w].status===3||(r[w].status===1?(kn(d===w-1,"All SENT items should be at beginning of queue."),d=w,r[w].status=3,r[w].abortReason="set"):(kn(r[w].status===0,"Unexpected transaction status in abort"),r[w].unwatcher(),f=f.concat(p0(t.serverSyncTree_,r[w].currentWriteId,!0)),r[w].onComplete&&u.push(r[w].onComplete.bind(null,new Error("set"),!1,null))));d===-1?Yle(n,void 0):r.length=d+1,Nm(t.eventQueue_,y4(n),f);for(let w=0;w<u.length;w++)XA(u[w])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0e(t){let n="";const r=t.split("/");for(let u=0;u<r.length;u++)if(r[u].length>0){let f=r[u];try{f=decodeURIComponent(f.replace(/\+/g," "))}catch{}n+="/"+f}return n}function W0e(t){const n={};t.charAt(0)==="?"&&(t=t.substring(1));for(const r of t.split("&")){if(r.length===0)continue;const u=r.split("=");u.length===2?n[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Hd(`Invalid query segment '${r}' in query '${t}'`)}return n}const Fse=function(t,n){const r=Z0e(t),u=r.namespace;r.domain==="firebase.com"&&v1(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||u==="undefined")&&r.domain!=="localhost"&&v1("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||nwe();const f=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new dle(r.host,r.secure,u,f,n,"",u!==r.subdomain),path:new ia(r.pathString)}},Z0e=function(t){let n="",r="",u="",f="",d="",w=!0,x="https",T=443;if(typeof t=="string"){let I=t.indexOf("//");I>=0&&(x=t.substring(0,I-1),t=t.substring(I+2));let $=t.indexOf("/");$===-1&&($=t.length);let F=t.indexOf("?");F===-1&&(F=t.length),n=t.substring(0,Math.min($,F)),$<F&&(f=j0e(t.substring($,F)));const H=W0e(t.substring(Math.min(t.length,F)));I=n.indexOf(":"),I>=0?(w=x==="https"||x==="wss",T=parseInt(n.substring(I+1),10)):I=n.length;const de=n.slice(0,I);if(de.toLowerCase()==="localhost")r="localhost";else if(de.split(".").length<=2)r=de;else{const ke=n.indexOf(".");u=n.substring(0,ke).toLowerCase(),r=n.substring(ke+1),d=u}"ns"in H&&(d=H.ns)}return{host:n,port:T,domain:r,subdomain:u,secure:w,scheme:x,pathString:f,namespace:d}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bse="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",G0e=function(){let t=0;const n=[];return function(r){const u=r===t;t=r;let f;const d=new Array(8);for(f=7;f>=0;f--)d[f]=Bse.charAt(r%64),r=Math.floor(r/64);kn(r===0,"Cannot push at time == 0");let w=d.join("");if(u){for(f=11;f>=0&&n[f]===63;f--)n[f]=0;n[f]++}else for(f=0;f<12;f++)n[f]=Math.floor(Math.random()*64);for(f=0;f<12;f++)w+=Bse.charAt(n[f]);return kn(w.length===20,"nextPushId: Length should be 20."),w}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cce{constructor(n,r,u,f){this.eventType=n,this.eventRegistration=r,this.snapshot=u,this.prevName=f}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+oc(this.snapshot.exportVal())}}class uce{constructor(n,r,u){this.eventRegistration=n,this.error=r,this.path=u}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dce{constructor(n,r){this.snapshotCallback=n,this.cancelCallback=r}onValue(n,r){this.snapshotCallback.call(null,n,r)}onCancel(n){return kn(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cee{constructor(n,r,u,f){this._repo=n,this._path=r,this._queryParams=u,this._orderByCalled=f}get key(){return $s(this._path)?null:KQ(this._path)}get ref(){return new Yy(this._repo,this._path)}get _queryIdentifier(){const n=Cse(this._queryParams),r=WQ(n);return r==="{}"?"default":r}get _queryObject(){return Cse(this._queryParams)}isEqual(n){if(n=Ai(n),!(n instanceof Cee))return!1;const r=this._repo===n._repo,u=YQ(this._path,n._path),f=this._queryIdentifier===n._queryIdentifier;return r&&u&&f}toJSON(){return this.toString()}toString(){return this._repo.toString()+Bwe(this._path)}}class Yy extends Cee{constructor(n,r){super(n,r,new eee,!1)}get parent(){const n=wle(this._path);return n===null?null:new Yy(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class HA{constructor(n,r,u){this._node=n,this.ref=r,this._index=u}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const r=new ia(n),u=UA(this.ref,n);return new HA(this._node.getChild(r),u,Xi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(u,f)=>n(new HA(f,UA(this.ref,u),Xi)))}hasChild(n){const r=new ia(n);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function q0e(t,n){return t=Ai(t),t._checkNotDeleted("ref"),n!==void 0?UA(t._root,n):t._root}function UA(t,n){return t=Ai(t),Os(t._path)===null?T0e("child","path",n,!1):tce("child","path",n,!1),new Yy(t._repo,Yi(t._path,n))}function hRe(t,n){t=Ai(t),bee("push",t._path),ece("push",n,t._path,!0);const r=sce(t._repo),u=G0e(r),f=UA(t,u),d=UA(t,u);let w;return n!=null?w=fce(d,n).then(()=>d):w=Promise.resolve(d),f.then=w.then.bind(w),f.catch=w.then.bind(w,void 0),f}function mRe(t){return bee("remove",t._path),fce(t,null)}function fce(t,n){t=Ai(t),bee("set",t._path),ece("set",n,t._path,!1);const r=new a4;return L0e(t._repo,t._path,n,null,r.wrapCallback(()=>{})),r.promise}function pRe(t,n){E0e("update",n,t._path,!1);const r=new a4;return F0e(t._repo,t._path,n,r.wrapCallback(()=>{})),r.promise}function gRe(t){t=Ai(t);const n=new dce(()=>{}),r=new E7(n);return N0e(t._repo,t,r).then(u=>new HA(u,new Yy(t._repo,t._path),t._queryParams.getIndex()))}class E7{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,r){const u=r._queryParams.getIndex();return new cce("value",this,new HA(n.snapshotNode,new Yy(r._repo,r._path),u))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,r){return this.callbackContext.hasCancelCallback?new uce(this,n,r):null}matches(n){return n instanceof E7?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class See{constructor(n,r){this.eventType=n,this.callbackContext=r}respondsTo(n){let r=n==="children_added"?"child_added":n;return r=r==="children_removed"?"child_removed":r,this.eventType===r}createCancelEvent(n,r){return this.callbackContext.hasCancelCallback?new uce(this,n,r):null}createEvent(n,r){kn(n.childName!=null,"Child events should have a childName.");const u=UA(new Yy(r._repo,r._path),n.childName),f=r._queryParams.getIndex();return new cce(n.type,this,new HA(n.snapshotNode,u,f),n.prevName)}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof See?this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function K0e(t,n,r,u,f){let d;if(typeof u=="object"&&(d=void 0,f=u),typeof u=="function"&&(d=u),f&&f.onlyOnce){const T=r,I=($,F)=>{Lse(t._repo,t,x),T($,F)};I.userCallback=r.userCallback,I.context=r.context,r=I}const w=new dce(r,d||void 0),x=n==="value"?new E7(w):new See(n,w);return $0e(t._repo,t,x),()=>Lse(t._repo,t,x)}function Y0e(t,n,r,u){return K0e(t,"value",n,r,u)}X_e(Yy);n0e(Yy);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0e="FIREBASE_DATABASE_EMULATOR_HOST",VJ={};let J0e=!1;function Q0e(t,n,r,u){t.repoInfo_=new dle(`${n}:${r}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),u&&(t.authTokenProvider_=u)}function eke(t,n,r,u,f){let d=u||t.options.databaseURL;d===void 0&&(t.options.projectId||v1("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),iu("Using default host for project ",t.options.projectId),d=`${t.options.projectId}-default-rtdb.firebaseio.com`);let w=Fse(d,f),x=w.repoInfo,T,I;typeof process<"u"&&process.env&&(I=process.env[X0e]),I?(T=!0,d=`http://${I}?ns=${x.namespace}`,w=Fse(d,f),x=w.repoInfo):T=!w.repoInfo.secure;const $=f&&T?new TA(TA.OWNER):new hwe(t.name,t.options,n);R0e("Invalid Firebase Database URL",w),$s(w.path)||v1("Database URL must point to the root of a Firebase Database (not including a child path).");const F=nke(x,t,$,new fwe(t.name,r));return new oke(F,t)}function tke(t,n){const r=VJ[n];(!r||r[t.key]!==t)&&v1(`Database ${n}(${t.repoInfo_}) has already been deleted.`),V0e(t),delete r[t.key]}function nke(t,n,r,u){let f=VJ[n.name];f||(f={},VJ[n.name]=f);let d=f[t.toURLString()];return d&&v1("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new M0e(t,J0e,r,u),f[t.toURLString()]=d,d}class oke{constructor(n,r){this._repoInternal=n,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(P0e(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yy(this._repo,mr())),this._rootInternal}_delete(){return this._rootInternal!==null&&(tke(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&v1("Cannot call "+n+" on a deleted database.")}}function ske(t=uie(),n){const r=PQ(t,"database").getImmediate({identifier:n}),u=xye("database");return u&&rke(r,...u),r}function rke(t,n,r,u={}){t=Ai(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&v1("Cannot call useEmulator() after instance has already been initialized.");const f=t._repoInternal;let d;if(f.repoInfo_.nodeAdmin)u.mockUserToken&&v1('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new TA(TA.OWNER);else if(u.mockUserToken){const w=typeof u.mockUserToken=="string"?u.mockUserToken:Tye(u.mockUserToken,t.app.options.projectId);d=new TA(w)}Q0e(f,n,r,d)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ake(t){X1e(l4),NA(new cx("database",(n,{instanceIdentifier:r})=>{const u=n.getProvider("app").getImmediate(),f=n.getProvider("auth-internal"),d=n.getProvider("app-check-internal");return eke(u,f,d,r)},"PUBLIC").setMultipleInstances(!0)),C0(ase,ise,t),C0(ase,ise,"esm2017")}m1.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)};m1.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)};ake();const ike={class:"layout-topbar"},lke=yt("img",{src:Yie,alt:"logo"},null,-1),cke=yt("span",null,"One Bird WEB",-1),uke={class:"layout-topbar-menu"},dke=yt("i",{class:"pi pi-calendar"},null,-1),fke=yt("span",null,"Calendar",-1),hke=[dke,fke],mke=yt("i",{class:"pi pi-question"},null,-1),pke=yt("span",null,"Q&A",-1),gke=[mke,pke],yke={class:"pi pi-bell",style:{"font-size":"1.5rem"}},bke=yt("div",{class:"flex align-items-center justify-content-center"},[yt("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}}),yt("span",null,"\u662F\u5426\u767B\u51FA\uFF1F")],-1),vke=yt("h2",null,"\u7591\u96E3\u96DC\u75C7",-1),wke=yt("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",-1),_ke=yt("h2",null,"Bottom Sidebar",-1),kke=yt("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",-1),Cke=yt("h2",null,"Bottom Sidebar",-1),Ske=yt("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",-1),xke=yt("h2",null,"Bottom Sidebar",-1),Eke=yt("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",-1),Tke=yt("h2",null,"Bottom Sidebar",-1),Rke=yt("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",-1),Ake=yt("h2",null,"Bottom Sidebar",-1),Ike=yt("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",-1),Oke=yt("h2",null,"Bottom Sidebar",-1),Dke=yt("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",-1),Mke={__name:"AppTopbar",setup(t){const n=Xae(),r=ske(),u=Kie(),{user:f}=$he(u),d=()=>{u.signOutFun(),w.value=!1,n.push("/")},w=ws(!1),x=ws(!1),T=ws(0),I=ws([{label:"\u767B\u5165",icon:"pi pi-sign-in",to:"/auth/login"},{label:"\u8A3B\u518A",icon:"pi pi-user-edit",to:"/auth/register"}]),$=ws(null),F=()=>{w.value=!0},H=()=>{w.value=!1},de=Fe=>{$.value.toggle(Fe)};function ke(Fe){T.value=(Fe.private?Object.keys(Fe.private).length:0)+(Fe.system?Object.keys(Fe.system).length:0)}let Ne;const xe=()=>{n.push("/user/usercommunity")};return rQ(()=>{f.value!==null?u.messageOnValue||(console.log(`database onValue: ${f.value.uid}/notCheckedMessage start`),Ne=Y0e(q0e(r,`user/${f.value.uid}/notCheckedMessage/`),Fe=>{console.log(`database onValue: ${f.value.uid}/notCheckedMessage update`),u.messageOnValue=!0,Fe.exists()?ke(Fe.val()):T.value=0})):u.messageOnValue&&(T.value=0,u.messageOnValue=!1,Ne())}),(Fe,rt)=>{const ne=Vn("router-link"),vt=Vn("Avatar"),Ue=Vn("Menu"),We=Vn("Button"),J=Vn("Dialog"),Te=Vn("Sidebar"),st=gl("badge");return be(),Le("div",ike,[Gn(ne,{to:"/",class:"layout-topbar-logo"},{default:Ms(()=>[lke,cke]),_:1}),yt("div",uke,[yt("button",{onClick:rt[0]||(rt[0]=wt=>Fe.onTopBarMenuButton()),class:"p-link layout-topbar-button"},hke),yt("button",{onClick:rt[1]||(rt[1]=wt=>x.value=!0),class:"p-link layout-topbar-button"},gke),yt("div",{class:"ml-3 layout-topbar-icon",onClick:xe},[Er(yt("i",yke,null,512),[[st,T.value]])]),yt("button",{onClick:de,class:"layout-topbar-button"},[Gn(vt,{image:Ot(f)!==null?Ot(f).photoURL:"src/assets/logo.svg",size:"large",shape:"circle"},null,8,["image"]),Gn(Ue,{ref_key:"menu",ref:$,model:Ot(f)!==null?[{label:Ot(f).displayName,to:"/user/userprofile"},{separator:!0},{label:"\u767B\u51FA",icon:"pi pi-sign-out",command:()=>{F()}}]:I.value,popup:!0},null,8,["model"])]),Gn(J,{header:"\u78BA\u8A8D",visible:w.value,"onUpdate:visible":rt[3]||(rt[3]=wt=>w.value=wt),style:{width:"350px"},modal:!0},{footer:Ms(()=>[Gn(We,{label:"No",icon:"pi pi-times",onClick:H,class:"p-button-text",autofocus:""}),Gn(We,{label:"Yes",icon:"pi pi-check",onClick:rt[2]||(rt[2]=wt=>d()),class:"p-button-text"})]),default:Ms(()=>[bke]),_:1},8,["visible"]),Gn(Te,{visible:x.value,"onUpdate:visible":rt[4]||(rt[4]=wt=>x.value=wt),position:"bottom"},{default:Ms(()=>[vke,wke,_ke,kke,Cke,Ske,xke,Eke,Tke,Rke,Ake,Ike,Oke,Dke]),_:1},8,["visible"])])])}}},Pke=(t,n)=>{const r=t.__vccOpts||t;for(const[u,f]of n)r[u]=f;return r},zke={},Nke={class:"layout-footer"},Lke=yt("img",{src:Yie,alt:"Logo",height:"20",class:"mr-2"},null,-1),Fke=yt("span",{class:"font-medium ml-2"},"One Bird WEB",-1);function Bke(t,n){return be(),Le("div",Nke,[Lke,Wu(" by "),Fke])}const $ke=Pke(zke,[["render",Bke]]),jS=Gu({ripple:!1,darkTheme:!1,inputStyle:"outlined",menuMode:"static",theme:"lara-light-indigo",scale:14,activeMenuItem:null}),a1=Gu({staticMenuDesktopInactive:!1,overlayMenuActive:!1,profileSidebarVisible:!1,configSidebarVisible:!1,staticMenuMobileActive:!1,menuHoverActive:!1});function xee(){const t=(w,x)=>{jS.darkTheme=x,jS.theme=w},n=w=>{jS.scale=w},r=w=>{jS.activeMenuItem=w.value||w},u=()=>{jS.menuMode==="overlay"&&(a1.overlayMenuActive=!a1.overlayMenuActive),window.innerWidth>991?a1.staticMenuDesktopInactive=!a1.staticMenuDesktopInactive:a1.staticMenuMobileActive=!a1.staticMenuMobileActive},f=To(()=>a1.overlayMenuActive||a1.staticMenuMobileActive),d=To(()=>jS.darkTheme);return{layoutConfig:FN(jS),layoutState:FN(a1),changeThemeSettings:t,setScale:n,onMenuToggle:u,isSidebarActive:f,isDarkTheme:d,setActiveMenuItem:r}}const Vke={key:0,class:"layout-menuitem-root-text"},Hke=["href","target"],Uke={class:"layout-menuitem-text"},jke={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},Wke={class:"layout-menuitem-text"},Zke={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},Gke={class:"layout-submenu"},qke={__name:"AppMenuItem",props:{item:{type:Object,default:()=>({})},index:{type:Number,default:0},root:{type:Boolean,default:!0},parentItemKey:{type:String,default:null}},setup(t){const n=t,r=hye(),{layoutConfig:u,layoutState:f,setActiveMenuItem:d,onMenuToggle:w}=xee(),x=ws(!1),T=ws(null);Tre(()=>{T.value=n.parentItemKey?n.parentItemKey+"-"+n.index:String(n.index);const F=f.activeMenuItem;x.value=F===T.value||F?F.startsWith(T.value+"-"):!1}),Ps(()=>u.activeMenuItem.value,F=>{x.value=F===T.value||F.startsWith(T.value+"-")});const I=(F,H)=>{if(H.disabled){F.preventDefault();return}const{overlayMenuActive:de,staticMenuMobileActive:ke}=f;(H.to||H.url)&&(ke.value||de.value)&&w(),H.command&&H.command({originalEvent:F,item:H});const Ne=H.items?x.value?n.parentItemKey:T:T.value;d(Ne)},$=F=>F.to=="/"?r.path==F.to:r.path.indexOf(F.to)>=0;return(F,H)=>{const de=Vn("router-link"),ke=Vn("app-menu-item",!0);return be(),Le("li",{class:cn({"layout-root-menuitem":t.root,"active-menuitem":x.value})},[t.root&&t.item.visible!==!1?(be(),Le("div",Vke,Xo(t.item.label),1)):Wt("",!0),(!t.item.to||t.item.items)&&t.item.visible!==!1?(be(),Le("a",{key:1,href:t.item.url,onClick:H[0]||(H[0]=Ne=>I(Ne,t.item,t.index)),class:cn(t.item.class),target:t.item.target,tabindex:"0"},[yt("i",{class:cn([t.item.icon,"layout-menuitem-icon"])},null,2),yt("span",Uke,Xo(t.item.label),1),t.item.items?(be(),Le("i",jke)):Wt("",!0)],10,Hke)):Wt("",!0),t.item.to&&!t.item.items&&t.item.visible!==!1?(be(),Mn(de,{key:2,onClick:H[1]||(H[1]=Ne=>I(Ne,t.item,t.index)),class:cn([t.item.class,{"active-route":$(t.item)}]),tabindex:"0",to:t.item.to},{default:Ms(()=>[yt("i",{class:cn([t.item.icon,"layout-menuitem-icon"])},null,2),yt("span",Wke,Xo(t.item.label),1),t.item.items?(be(),Le("i",Zke)):Wt("",!0)]),_:1},8,["class","to"])):Wt("",!0),t.item.items&&t.item.visible!==!1?(be(),Mn(Lm,{key:3,name:"layout-submenu"},{default:Ms(()=>[Er(yt("ul",Gke,[(be(!0),Le(Xn,null,Ua(t.item.items,(Ne,xe)=>(be(),Mn(ke,{key:Ne,index:xe,item:Ne,parentItemKey:T.value,root:!1},null,8,["index","item","parentItemKey"]))),128))],512),[[pQ,t.root?!0:x.value]])]),_:1})):Wt("",!0)],2)}}},Kke={class:"layout-menu"},Yke={key:1,class:"menu-separator"},Xke={__name:"AppMenu",setup(t){const n=ws([{label:"\u4E3B\u9801",items:[{label:"\u9996\u9801",icon:"pi pi-fw pi-home",to:"/"}]},{label:"\u793E\u7FA4",icon:"pi pi-fw pi-briefcase",to:"/pages",items:[{label:"\u8A0E\u8AD6\u5340",icon:"pi pi-fw pi-window-maximize",to:"/forum"},{label:"\u597D\u53CB",icon:"pi pi-fw pi-users",to:"/user/usercommunity"}]},{label:"\u8A2D\u5B9A",icon:"pi pi-fw pi-briefcase",to:"/pages",items:[{label:"\u5E33\u6236",icon:"pi pi-fw pi-user",items:[{label:"\u500B\u4EBA\u8CC7\u6599",icon:"pi pi-fw pi-id-card",to:"/user/userprofile"}]}]}]);return(r,u)=>(be(),Le("ul",Kke,[(be(!0),Le(Xn,null,Ua(n.value,(f,d)=>(be(),Le(Xn,{key:f},[f.separator?Wt("",!0):(be(),Mn(qke,{key:0,item:f,index:d},null,8,["item","index"])),f.separator?(be(),Le("li",Yke)):Wt("",!0)],64))),128))]))}},Jke={__name:"AppSidebar",setup(t){return(n,r)=>(be(),Mn(Xke))}},Qke=yt("i",{class:"pi pi-bars"},null,-1),eCe=[Qke],tCe={__name:"AppMenuToggle",setup(t){const{onMenuToggle:n}=xee();return(r,u)=>(be(),Le("button",{class:"layout-menu-toggle p-link",onClick:u[0]||(u[0]=f=>Ot(n)())},eCe))}},nCe={class:"layout-sidebar"},oCe={class:"layout-main-container"},sCe={class:"layout-main"},rCe=yt("div",{class:"layout-mask"},null,-1),aCe={__name:"AppLayout",setup(t){const n=nae(),r=ke=>{n.add({severity:"success",summary:"Success Message",detail:ke,life:3e3})},u=ke=>{n.add({severity:"info",summary:"Info Message",detail:ke,life:3e3})},f=ke=>{n.add({severity:"warn",summary:"Warn Message",detail:ke,life:3e3})},d=ke=>{n.add({severity:"error",summary:"Error Message",detail:ke,life:3e3})},{layoutConfig:w,layoutState:x,isSidebarActive:T}=xee(),I=ws(null);Ps(T,ke=>{ke?F():H()});const $=To(()=>({"layout-theme-light":w.darkTheme.value==="light","layout-theme-dark":w.darkTheme.value==="dark","layout-overlay":w.menuMode.value==="overlay","layout-static":w.menuMode.value==="static","layout-static-inactive":x.staticMenuDesktopInactive.value&&w.menuMode.value==="static","layout-overlay-active":x.overlayMenuActive.value,"layout-mobile-active":x.staticMenuMobileActive.value,"p-input-filled":w.inputStyle.value==="filled","p-ripple-disabled":!w.ripple.value})),F=()=>{I.value||(I.value=ke=>{de(ke)&&(x.overlayMenuActive.value=!1,x.staticMenuMobileActive.value=!1,x.menuHoverActive.value=!1)},document.addEventListener("click",I.value))},H=()=>{I.value&&(document.removeEventListener("click",I),I.value=null)},de=ke=>{const Ne=document.querySelector(".layout-sidebar"),xe=document.querySelector(".layout-menu-toggle");return!(Ne.isSameNode(ke.target)||Ne.contains(ke.target)||xe.isSameNode(ke.target)||xe.contains(ke.target))};return(ke,Ne)=>{const xe=Vn("router-view");return be(),Le("div",{class:cn(["layout-wrapper",Ot($)])},[Gn(Mke),yt("div",nCe,[Gn(Jke)]),yt("div",oCe,[yt("div",sCe,[Gn(xe,{onShowSuccess:r,onShowInfo:u,onShowWarn:f,onShowError:d})]),Gn($ke)]),Gn(tCe),rCe],2)}}},iCe={path:"/auth/",redirect:{name:"Auth"},children:[{path:"login",name:"Login",component:()=>Il(()=>import("./AuthLogin.eb96ed6a.js"),["assets/AuthLogin.eb96ed6a.js","assets/useForum.4634959d.js"])},{path:"register",name:"Register",component:()=>Il(()=>import("./AuthRegister.a42178e8.js"),["assets/AuthRegister.a42178e8.js","assets/useForum.4634959d.js"])},{path:"forget",name:"Forget",component:()=>Il(()=>import("./AuthForget.a9c137df.js"),["assets/AuthForget.a9c137df.js","assets/useForum.4634959d.js"])}]},lCe={path:"/user/",children:[{path:"userprofile",name:"UserProfile",component:()=>Il(()=>import("./UserProfile.08430c79.js"),["assets/UserProfile.08430c79.js","assets/useForum.4634959d.js"])},{path:"usercommunity",name:"UserCommunity",component:()=>Il(()=>import("./UserCommunity.a70da1af.js"),[]),children:[{path:"system",name:"UserMessageSystem",component:()=>Il(()=>import("./UserMessageSystem.3f852f46.js"),["assets/UserMessageSystem.3f852f46.js","assets/useForum.4634959d.js","assets/useDate.08bd623a.js"])},{path:"private",name:"UserMessagePrivate",component:()=>Il(()=>import("./UserMessagePrivate.7ec6f2a3.js"),["assets/UserMessagePrivate.7ec6f2a3.js","assets/useForum.4634959d.js","assets/useDate.08bd623a.js"])},{path:"send",name:"UserMessageSend",component:()=>Il(()=>import("./UserMessageSend.a03cdb43.js"),["assets/UserMessageSend.a03cdb43.js","assets/useForum.4634959d.js"])},{path:"manage",name:"UserFriendsManage",component:()=>Il(()=>import("./UserFriendsManage.ae302af7.js"),["assets/UserFriendsManage.ae302af7.js","assets/useForum.4634959d.js","assets/useDate.08bd623a.js","assets/UserFriendsManage.080ac3f3.css"])},{path:"add",name:"UserFriendsAdd",component:()=>Il(()=>import("./UserFriendsAdd.73125343.js"),["assets/UserFriendsAdd.73125343.js","assets/useForum.4634959d.js"])},{path:"request",name:"UserFriendsRequest",component:()=>Il(()=>import("./UserFriendsRequest.28c0e11c.js"),["assets/UserFriendsRequest.28c0e11c.js","assets/useForum.4634959d.js","assets/useDate.08bd623a.js"])}]}]},cCe={path:"/forum",redirect:"/forum/forumhome",children:[{path:"forumhome",name:"ForumHome",component:()=>Il(()=>import("./ForumHome.31e8ff17.js"),["assets/ForumHome.31e8ff17.js","assets/ForumHome.ae142bab.css"])},{path:":id(\\S+)",name:"ForumArticle",component:()=>Il(()=>import("./ForumArticle.6b28e72d.js"),["assets/ForumArticle.6b28e72d.js","assets/useForum.4634959d.js","assets/useDate.08bd623a.js"])},{path:"reply/:id(\\S+)",name:"ForumReply",component:()=>Il(()=>import("./ForumReply.faaa1fa9.js"),["assets/ForumReply.faaa1fa9.js","assets/useForum.4634959d.js"])},{path:"forumcomprehensive",name:"ForumComprehensive",component:()=>Il(()=>import("./ForumComprehensive.a69e8e60.js"),["assets/ForumComprehensive.a69e8e60.js","assets/useForum.4634959d.js","assets/useDate.08bd623a.js","assets/ForumComprehensive.fc545e5d.css"])},{path:"forumgame",name:"ForumGame",component:()=>Il(()=>import("./ForumGame.5130a18a.js"),["assets/ForumGame.5130a18a.js","assets/useForum.4634959d.js","assets/useDate.08bd623a.js","assets/ForumGame.588456b8.css"])},{path:"forumpublished",name:"ForumPublished",component:()=>Il(()=>import("./ForumPublished.513b6071.js"),["assets/ForumPublished.513b6071.js","assets/useForum.4634959d.js"])}]},uCe=qie(),HJ=dye({history:Tge("/vite_base_dist/"),routes:[{path:"/",component:aCe,children:[{path:"/",name:"Dashboard",component:()=>Il(()=>import("./Dashboard.4c386c09.js"),[])},lCe,cCe]},iCe,{path:"/:404(.*)*",name:"404",component:()=>Il(()=>import("./NotFound.d827b675.js"),[])}]});HJ.beforeEach(t=>{const n=Kie();if(!n.authOn)Pve(uCe,r=>{r?(n.user=r,console.log(`${r.email} sign in`),n.authOn=!0,r.email===null&&r.displayName===null?n.user.displayName="\u8A2A\u5BA2":r.email!==null&&r.displayName===null&&(n.user.displayName=r.email)):(n.user=null,console.log("sign out"),n.authOn=!0,t.name!=="Login"&&t.name!=="Dashboard"&&t.name!=="Register"&&t.name!=="Forget"&&n.user===null&&(console.log("please log in"),HJ.push("/auth/login")))});else if(t.name!=="Login"&&t.name!=="Dashboard"&&t.name!=="Register"&&t.name!=="Forget"&&n.user===null)return console.log("please log in"),{name:"Login"}});var T7={name:"InputText",emits:["update:modelValue"],props:{modelValue:null},methods:{onInput(t){this.$emit("update:modelValue",t.target.value)}},computed:{filled(){return this.modelValue!=null&&this.modelValue.toString().length>0}}};const dCe=["value"];function fCe(t,n,r,u,f,d){return be(),Le("input",{class:cn(["p-inputtext p-component",{"p-filled":d.filled}]),value:r.modelValue,onInput:n[0]||(n[0]=(...w)=>d.onInput&&d.onInput(...w))},null,42,dCe)}T7.render=fCe;var hce={name:"Checkbox",emits:["click","update:modelValue","change","input","focus","blur"],props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{focused:!1}},methods:{onClick(t){if(!this.disabled&&!this.readonly){let n;this.binary?n=this.checked?this.falseValue:this.trueValue:this.checked?n=this.modelValue.filter(r=>!In.equals(r,this.value)):n=this.modelValue?[...this.modelValue,this.value]:[this.value],this.$emit("click",t),this.$emit("update:modelValue",n),this.$emit("change",t),this.$emit("input",n),this.$refs.input.focus()}},onFocus(t){this.focused=!0,this.$emit("focus",t)},onBlur(t){this.focused=!1,this.$emit("blur",t)}},computed:{checked(){return this.binary?this.modelValue===this.trueValue:In.contains(this.value,this.modelValue)},containerClass(){return["p-checkbox p-component",{"p-checkbox-checked":this.checked,"p-checkbox-disabled":this.disabled,"p-checkbox-focused":this.focused}]}}};const hCe={class:"p-hidden-accessible"},mCe=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label"];function pCe(t,n,r,u,f,d){return be(),Le("div",{class:cn(d.containerClass),onClick:n[2]||(n[2]=w=>d.onClick(w))},[yt("div",hCe,[yt("input",hr({ref:"input",id:r.inputId,type:"checkbox",value:r.value,name:r.name,checked:d.checked,tabindex:r.tabindex,disabled:r.disabled,readonly:r.readonly,required:r.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,onFocus:n[0]||(n[0]=w=>d.onFocus(w)),onBlur:n[1]||(n[1]=w=>d.onBlur(w))},r.inputProps),null,16,mCe)]),yt("div",{ref:"box",class:cn(["p-checkbox-box",r.inputClass,{"p-highlight":d.checked,"p-disabled":r.disabled,"p-focus":f.focused}]),style:xr(r.inputStyle)},[yt("span",{class:cn(["p-checkbox-icon",{"pi pi-check":d.checked}])},null,2)],6)],2)}hce.render=pCe;let UJ;function gCe(t){t.addEventListener("mousedown",mce)}function yCe(t){t.removeEventListener("mousedown",mce)}function bCe(t){let n=document.createElement("span");n.className="p-ink",n.setAttribute("role","presentation"),n.setAttribute("aria-hidden","true"),t.appendChild(n),n.addEventListener("animationend",pce)}function vCe(t){let n=gce(t);n&&(yCe(t),n.removeEventListener("animationend",pce),n.remove())}function mce(t){let n=t.currentTarget,r=gce(n);if(!r||getComputedStyle(r,null).display==="none")return;if(tt.removeClass(r,"p-ink-active"),!tt.getHeight(r)&&!tt.getWidth(r)){let w=Math.max(tt.getOuterWidth(n),tt.getOuterHeight(n));r.style.height=w+"px",r.style.width=w+"px"}let u=tt.getOffset(n),f=t.pageX-u.left+document.body.scrollTop-tt.getWidth(r)/2,d=t.pageY-u.top+document.body.scrollLeft-tt.getHeight(r)/2;r.style.top=d+"px",r.style.left=f+"px",tt.addClass(r,"p-ink-active"),UJ=setTimeout(()=>{r&&tt.removeClass(r,"p-ink-active")},401)}function pce(t){UJ&&clearTimeout(UJ),tt.removeClass(t.currentTarget,"p-ink-active")}function gce(t){for(let n=0;n<t.children.length;n++)if(typeof t.children[n].className=="string"&&t.children[n].className.indexOf("p-ink")!==-1)return t.children[n];return null}const qu={mounted(t,n){n.instance.$primevue&&n.instance.$primevue.config&&n.instance.$primevue.config.ripple&&(bCe(t),gCe(t))},unmounted(t){vCe(t)}};var eI={name:"Button",props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:String,default:null},badge:{type:String,default:null},badgeClass:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},plain:{type:Boolean,default:!1}},computed:{buttonClass(){return["p-button p-component",{"p-button-icon-only":this.icon&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-disabled":this.$attrs.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label,"p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain}]},iconStyleClass(){return[this.loading?"p-button-loading-icon "+this.loadingIcon:this.icon,"p-button-icon",this.iconClass,{"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label}]},badgeStyleClass(){return["p-badge p-component",this.badgeClass,{"p-badge-no-gutter":this.badge&&String(this.badge).length===1}]},disabled(){return this.$attrs.disabled||this.loading},defaultAriaLabel(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs["aria-label"]}},directives:{ripple:qu}};const wCe=["aria-label","disabled"],_Ce={class:"p-button-label"};function kCe(t,n,r,u,f,d){const w=gl("ripple");return Er((be(),Le("button",{class:cn(d.buttonClass),type:"button","aria-label":d.defaultAriaLabel,disabled:d.disabled},[Eo(t.$slots,"default",{},()=>[r.loading&&!r.icon?(be(),Le("span",{key:0,class:cn(d.iconStyleClass)},null,2)):Wt("",!0),r.icon?(be(),Le("span",{key:1,class:cn(d.iconStyleClass)},null,2)):Wt("",!0),yt("span",_Ce,Xo(r.label||"\xA0"),1),r.badge?(be(),Le("span",{key:2,class:cn(d.badgeStyleClass)},Xo(r.badge),3)):Wt("",!0)])],10,wCe)),[[w]])}eI.render=kCe;var jy=eae(),k1={name:"Portal",props:{appendTo:{type:String,default:"body"},disabled:{type:Boolean,default:!1}},data(){return{mounted:!1}},mounted(){this.mounted=tt.isClient()},computed:{inline(){return this.disabled||this.appendTo==="self"}}};function CCe(t,n,r,u,f,d){return d.inline?Eo(t.$slots,"default",{key:0}):f.mounted?(be(),Mn(Ffe,{key:1,to:r.appendTo},[Eo(t.$slots,"default")],8,["to"])):Wt("",!0)}k1.render=CCe;var yce={name:"Password",emits:["update:modelValue","change","focus","blur","invalid"],props:{modelValue:String,promptLabel:{type:String,default:null},mediumRegex:{type:String,default:"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"},strongRegex:{type:String,default:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})"},weakLabel:{type:String,default:null},mediumLabel:{type:String,default:null},strongLabel:{type:String,default:null},feedback:{type:Boolean,default:!0},appendTo:{type:String,default:"body"},toggleMask:{type:Boolean,default:!1},hideIcon:{type:String,default:"pi pi-eye-slash"},showIcon:{type:String,default:"pi pi-eye"},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelId:{type:String,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{overlayVisible:!1,meter:null,infoText:null,focused:!1,unmasked:!1}},mediumCheckRegExp:null,strongCheckRegExp:null,resizeListener:null,scrollHandler:null,overlay:null,mounted(){this.infoText=this.promptText,this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex)},beforeUnmount(){this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(mi.clear(this.overlay),this.overlay=null)},methods:{onOverlayEnter(t){mi.set("overlay",t,this.$primevue.config.zIndex.overlay),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener()},onOverlayLeave(){this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null},onOverlayAfterLeave(t){mi.clear(t)},alignOverlay(){this.appendTo==="self"?tt.relativePosition(this.overlay,this.$refs.input.$el):(this.overlay.style.minWidth=tt.getOuterWidth(this.$refs.input.$el)+"px",tt.absolutePosition(this.overlay,this.$refs.input.$el))},testStrength(t){let n=0;return this.strongCheckRegExp.test(t)?n=3:this.mediumCheckRegExp.test(t)?n=2:t.length&&(n=1),n},onInput(t){this.$emit("update:modelValue",t.target.value)},onFocus(t){this.focused=!0,this.feedback&&(this.setPasswordMeter(this.modelValue),this.overlayVisible=!0),this.$emit("focus",t)},onBlur(t){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.$emit("blur",t)},onKeyUp(t){if(this.feedback){const n=t.target.value,{meter:r,label:u}=this.checkPasswordStrength(n);if(this.meter=r,this.infoText=u,t.code==="Escape"){this.overlayVisible&&(this.overlayVisible=!1);return}this.overlayVisible||(this.overlayVisible=!0)}},setPasswordMeter(){if(!this.modelValue)return;const{meter:t,label:n}=this.checkPasswordStrength(this.modelValue);this.meter=t,this.infoText=n,this.overlayVisible||(this.overlayVisible=!0)},checkPasswordStrength(t){let n=null,r=null;switch(this.testStrength(t)){case 1:n=this.weakText,r={strength:"weak",width:"33.33%"};break;case 2:n=this.mediumText,r={strength:"medium",width:"66.66%"};break;case 3:n=this.strongText,r={strength:"strong",width:"100%"};break;default:n=this.promptText,r=null;break}return{label:n,meter:r}},onInvalid(t){this.$emit("invalid",t)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new o7(this.$refs.input.$el,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!tt.isTouchDevice()&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},overlayRef(t){this.overlay=t},onMaskToggle(){this.unmasked=!this.unmasked},onOverlayClick(t){jy.emit("overlay-click",{originalEvent:t,target:this.$el})}},computed:{containerClass(){return["p-password p-component p-inputwrapper",{"p-inputwrapper-filled":this.filled,"p-inputwrapper-focus":this.focused,"p-input-icon-right":this.toggleMask}]},inputFieldClass(){return["p-password-input",this.inputClass,{"p-disabled":this.disabled}]},panelStyleClass(){return["p-password-panel p-component",this.panelClass,{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},toggleIconClass(){return this.unmasked?this.hideIcon:this.showIcon},strengthClass(){return`p-password-strength ${this.meter?this.meter.strength:""}`},inputType(){return this.unmasked?"text":"password"},filled(){return this.modelValue!=null&&this.modelValue.toString().length>0},weakText(){return this.weakLabel||this.$primevue.config.locale.weak},mediumText(){return this.mediumLabel||this.$primevue.config.locale.medium},strongText(){return this.strongLabel||this.$primevue.config.locale.strong},promptText(){return this.promptLabel||this.$primevue.config.locale.passwordPrompt},panelUniqueId(){return Ud()+"_panel"}},components:{PInputText:T7,Portal:k1}};const SCe={class:"p-hidden-accessible","aria-live":"polite"},xCe=["id"],ECe={class:"p-password-meter"},TCe={class:"p-password-info"};function RCe(t,n,r,u,f,d){const w=Vn("PInputText"),x=Vn("Portal");return be(),Le("div",{class:cn(d.containerClass)},[Gn(w,hr({ref:"input",id:r.inputId,type:d.inputType,class:d.inputFieldClass,style:r.inputStyle,value:r.modelValue,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-controls":r.panelProps&&r.panelProps.id||r.panelId||d.panelUniqueId,"aria-expanded":f.overlayVisible,"aria-haspopup":!0,placeholder:r.placeholder,required:r.required,onInput:d.onInput,onFocus:d.onFocus,onBlur:d.onBlur,onKeyup:d.onKeyUp,onInvalid:d.onInvalid},r.inputProps),null,16,["id","type","class","style","value","aria-labelledby","aria-label","aria-controls","aria-expanded","placeholder","required","onInput","onFocus","onBlur","onKeyup","onInvalid"]),r.toggleMask?(be(),Le("i",{key:0,class:cn(d.toggleIconClass),onClick:n[0]||(n[0]=(...T)=>d.onMaskToggle&&d.onMaskToggle(...T))},null,2)):Wt("",!0),yt("span",SCe,Xo(f.infoText),1),Gn(x,{appendTo:r.appendTo},{default:Ms(()=>[Gn(Lm,{name:"p-connected-overlay",onEnter:d.onOverlayEnter,onLeave:d.onOverlayLeave,onAfterLeave:d.onOverlayAfterLeave},{default:Ms(()=>[f.overlayVisible?(be(),Le("div",hr({key:0,ref:d.overlayRef,id:r.panelId||d.panelUniqueId,class:d.panelStyleClass,style:r.panelStyle,onClick:n[1]||(n[1]=(...T)=>d.onOverlayClick&&d.onOverlayClick(...T))},r.panelProps),[Eo(t.$slots,"header"),Eo(t.$slots,"content",{},()=>[yt("div",ECe,[yt("div",{class:cn(d.strengthClass),style:xr({width:f.meter?f.meter.width:""})},null,6)]),yt("div",TCe,Xo(f.infoText),1)]),Eo(t.$slots,"footer")],16,xCe)):Wt("",!0)]),_:3},8,["onEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo"])],2)}function ACe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var ICe=`
.p-password {
    position: relative;
    display: inline-flex;
}
.p-password-panel {
    position: absolute;
    top: 0;
    left: 0;
}
.p-password .p-password-panel {
    min-width: 100%;
}
.p-password-meter {
    height: 10px;
}
.p-password-strength {
    height: 100%;
    width: 0;
    transition: width 1s ease-in-out;
}
.p-fluid .p-password {
    display: flex;
}
.p-password-input::-ms-reveal,
.p-password-input::-ms-clear {
    display: none;
}
`;ACe(ICe);yce.render=RCe;var bce={name:"Avatar",emits:["error"],props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},size:{type:String,default:"normal"},shape:{type:String,default:"square"},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},methods:{onError(){this.$emit("error")}},computed:{containerClass(){return["p-avatar p-component",{"p-avatar-image":this.image!=null,"p-avatar-circle":this.shape==="circle","p-avatar-lg":this.size==="large","p-avatar-xl":this.size==="xlarge"}]},iconClass(){return["p-avatar-icon",this.icon]}}};const OCe=["aria-labelledby","aria-label"],DCe={key:0,class:"p-avatar-text"},MCe=["src","alt"];function PCe(t,n,r,u,f,d){return be(),Le("div",{class:cn(d.containerClass),"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel},[Eo(t.$slots,"default",{},()=>[r.label?(be(),Le("span",DCe,Xo(r.label),1)):r.icon?(be(),Le("span",{key:1,class:cn(d.iconClass)},null,2)):r.image?(be(),Le("img",{key:2,src:r.image,alt:t.ariaLabel,onError:n[0]||(n[0]=(...w)=>d.onError&&d.onError(...w))},null,40,MCe)):Wt("",!0)])],10,OCe)}function zCe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var NCe=`
.p-avatar {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2rem;
    height: 2rem;
    font-size: 1rem;
}
.p-avatar.p-avatar-image {
    background-color: transparent;
}
.p-avatar.p-avatar-circle {
    border-radius: 50%;
}
.p-avatar-circle img {
    border-radius: 50%;
}
.p-avatar .p-avatar-icon {
    font-size: 1rem;
}
.p-avatar img {
    width: 100%;
    height: 100%;
}
`;zCe(NCe);bce.render=PCe;var vce={name:"Menuitem",inheritAttrs:!1,emits:["item-click"],props:{item:null,template:null,exact:null,id:null,focusedOptionId:null},methods:{getItemProp(t,n){return t&&t.item?In.getItemValue(t.item[n]):void 0},onItemActionClick(t,n){n&&n(t)},onItemClick(t){const n=this.getItemProp(this.item,"command");n&&n({originalEvent:t,item:this.item.item}),this.$emit("item-click",{originalEvent:t,item:this.item,id:this.id})},containerClass(){return["p-menuitem",this.item.class,{"p-focus":this.id===this.focusedOptionId,"p-disabled":this.disabled()}]},linkClass(t){return["p-menuitem-link",{"router-link-active":t&&t.isActive,"router-link-active-exact":this.exact&&t&&t.isExactActive}]},visible(){return typeof this.item.visible=="function"?this.item.visible():this.item.visible!==!1},disabled(){return typeof this.item.disabled=="function"?this.item.disabled():this.item.disabled},label(){return typeof this.item.label=="function"?this.item.label():this.item.label}},directives:{ripple:qu}};const LCe=["id","aria-label","aria-disabled"],FCe=["href","onClick"],BCe={class:"p-menuitem-text"},$Ce=["href","target"],VCe={class:"p-menuitem-text"};function HCe(t,n,r,u,f,d){const w=Vn("router-link"),x=gl("ripple");return d.visible()?(be(),Le("li",{key:0,id:r.id,class:cn(d.containerClass()),role:"menuitem",style:xr(r.item.style),"aria-label":d.label(),"aria-disabled":d.disabled()},[yt("div",{class:"p-menuitem-content",onClick:n[0]||(n[0]=T=>d.onItemClick(T))},[r.template?(be(),Mn(Ha(r.template),{key:1,item:r.item},null,8,["item"])):(be(),Le(Xn,{key:0},[r.item.to&&!d.disabled()?(be(),Mn(w,{key:0,to:r.item.to,custom:""},{default:Ms(({navigate:T,href:I,isActive:$,isExactActive:F})=>[Er((be(),Le("a",{href:I,class:cn(d.linkClass({isActive:$,isExactActive:F})),tabindex:"-1","aria-hidden":"true",onClick:H=>d.onItemActionClick(H,T)},[r.item.icon?(be(),Le("span",{key:0,class:cn(["p-menuitem-icon",r.item.icon])},null,2)):Wt("",!0),yt("span",BCe,Xo(d.label()),1)],10,FCe)),[[x]])]),_:1},8,["to"])):Er((be(),Le("a",{key:1,href:r.item.url,class:cn(d.linkClass()),target:r.item.target,tabindex:"-1","aria-hidden":"true"},[r.item.icon?(be(),Le("span",{key:0,class:cn(["p-menuitem-icon",r.item.icon])},null,2)):Wt("",!0),yt("span",VCe,Xo(d.label()),1)],10,$Ce)),[[x]])],64))])],14,LCe)):Wt("",!0)}vce.render=HCe;var wce={name:"Menu",inheritAttrs:!1,emits:["show","hide","focus","blur"],props:{popup:{type:Boolean,default:!1},model:{type:Array,default:null},appendTo:{type:String,default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},exact:{type:Boolean,default:!0},tabindex:{type:Number,default:0},"aria-label":{type:String,default:null},"aria-labelledby":{type:String,default:null}},data(){return{id:this.$attrs.id,overlayVisible:!1,focused:!1,focusedOptionIndex:-1,selectedOptionIndex:-1}},watch:{"$attrs.id":function(t){this.id=t||Ud()}},target:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,list:null,mounted(){this.id=this.id||Ud(),this.popup||(this.bindResizeListener(),this.bindOutsideClickListener())},beforeUnmount(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.target=null,this.container&&this.autoZIndex&&mi.clear(this.container),this.container=null},methods:{itemClick(t){const n=t.item;this.disabled(n)||(n.command&&n.command(t),n.to&&t.navigate&&t.navigate(t.originalEvent),this.overlayVisible&&this.hide(),!this.popup&&this.focusedOptionIndex!==t.id&&(this.focusedOptionIndex=t.id))},onListFocus(t){this.focused=!0,this.popup||(this.selectedOptionIndex!==-1?(this.changeFocusedOptionIndex(this.selectedOptionIndex),this.selectedOptionIndex=-1):this.changeFocusedOptionIndex(0)),this.$emit("focus",t)},onListBlur(t){this.focused=!1,this.focusedOptionIndex=-1,this.$emit("blur",t)},onListKeyDown(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Enter":this.onEnterKey(t);break;case"Space":this.onSpaceKey(t);break;case"Escape":this.popup&&(tt.focus(this.target),this.hide());case"Tab":this.overlayVisible&&this.hide();break}},onArrowDownKey(t){const n=this.findNextOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(n),t.preventDefault()},onArrowUpKey(t){if(t.altKey&&this.popup)tt.focus(this.target),this.hide(),t.preventDefault();else{const n=this.findPrevOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(n),t.preventDefault()}},onHomeKey(t){this.changeFocusedOptionIndex(0),t.preventDefault()},onEndKey(t){this.changeFocusedOptionIndex(tt.find(this.container,"li.p-menuitem:not(.p-disabled)").length-1),t.preventDefault()},onEnterKey(t){const n=tt.findSingle(this.list,`li[id="${`${this.focusedOptionIndex}`}"]`),r=n&&tt.findSingle(n,".p-menuitem-link");this.popup&&tt.focus(this.target),r?r.click():n&&n.click(),t.preventDefault()},onSpaceKey(t){this.onEnterKey(t)},findNextOptionIndex(t){const r=[...tt.find(this.container,"li.p-menuitem:not(.p-disabled)")].findIndex(u=>u.id===t);return r>-1?r+1:0},findPrevOptionIndex(t){const r=[...tt.find(this.container,"li.p-menuitem:not(.p-disabled)")].findIndex(u=>u.id===t);return r>-1?r-1:0},changeFocusedOptionIndex(t){const n=tt.find(this.container,"li.p-menuitem:not(.p-disabled)");let r=t>=n.length?n.length-1:t<0?0:t;r>-1&&(this.focusedOptionIndex=n[r].getAttribute("id"))},toggle(t){this.overlayVisible?this.hide():this.show(t)},show(t){this.overlayVisible=!0,this.target=t.currentTarget},hide(){this.overlayVisible=!1,this.target=null},onEnter(t){this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),this.autoZIndex&&mi.set("menu",t,this.baseZIndex+this.$primevue.config.zIndex.menu),this.popup&&(tt.focus(this.list),this.changeFocusedOptionIndex(0)),this.$emit("show")},onLeave(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.$emit("hide")},onAfterLeave(t){this.autoZIndex&&mi.clear(t)},alignOverlay(){tt.absolutePosition(this.container,this.target),this.container.style.minWidth=tt.getOuterWidth(this.target)+"px"},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=t=>{const n=this.container&&!this.container.contains(t.target),r=!(this.target&&(this.target===t.target||this.target.contains(t.target)));this.overlayVisible&&n&&r?this.hide():!this.popup&&n&&r&&(this.focusedOptionIndex=-1)},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new o7(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!tt.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},visible(t){return typeof t.visible=="function"?t.visible():t.visible!==!1},disabled(t){return typeof t.disabled=="function"?t.disabled():t.disabled},label(t){return typeof t.label=="function"?t.label():t.label},separatorClass(t){return["p-menuitem-separator",t.class]},onOverlayClick(t){jy.emit("overlay-click",{originalEvent:t,target:this.target})},containerRef(t){this.container=t},listRef(t){this.list=t}},computed:{containerClass(){return["p-menu p-component",{"p-menu-overlay":this.popup,"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},focusedOptionId(){return this.focusedOptionIndex!==-1?this.focusedOptionIndex:null}},components:{PVMenuitem:vce,Portal:k1}};const UCe=["id"],jCe={key:0,class:"p-menu-start"},WCe=["id","tabindex","aria-activedescendant","aria-label","aria-labelledby"],ZCe=["id"],GCe={key:1,class:"p-menu-end"};function qCe(t,n,r,u,f,d){const w=Vn("PVMenuitem"),x=Vn("Portal");return be(),Mn(x,{appendTo:r.appendTo,disabled:!r.popup},{default:Ms(()=>[Gn(Lm,{name:"p-connected-overlay",onEnter:d.onEnter,onLeave:d.onLeave,onAfterLeave:d.onAfterLeave},{default:Ms(()=>[!r.popup||f.overlayVisible?(be(),Le("div",hr({key:0,ref:d.containerRef,id:f.id,class:d.containerClass},t.$attrs,{onClick:n[3]||(n[3]=(...T)=>d.onOverlayClick&&d.onOverlayClick(...T))}),[t.$slots.start?(be(),Le("div",jCe,[Eo(t.$slots,"start")])):Wt("",!0),yt("ul",{ref:d.listRef,id:f.id+"_list",class:"p-menu-list p-reset",role:"menu",tabindex:r.tabindex,"aria-activedescendant":f.focused?d.focusedOptionId:void 0,"aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,onFocus:n[0]||(n[0]=(...T)=>d.onListFocus&&d.onListFocus(...T)),onBlur:n[1]||(n[1]=(...T)=>d.onListBlur&&d.onListBlur(...T)),onKeydown:n[2]||(n[2]=(...T)=>d.onListKeyDown&&d.onListKeyDown(...T))},[(be(!0),Le(Xn,null,Ua(r.model,(T,I)=>(be(),Le(Xn,{key:d.label(T)+I.toString()},[T.items&&d.visible(T)&&!T.separator?(be(),Le(Xn,{key:0},[T.items?(be(),Le("li",{key:0,id:f.id+"_"+I,class:"p-submenu-header",role:"none"},[Eo(t.$slots,"item",{item:T},()=>[Wu(Xo(d.label(T)),1)])],8,ZCe)):Wt("",!0),(be(!0),Le(Xn,null,Ua(T.items,($,F)=>(be(),Le(Xn,{key:$.label+I+"_"+F},[d.visible($)&&!$.separator?(be(),Mn(w,{key:0,id:f.id+"_"+I+"_"+F,item:$,template:t.$slots.item,exact:r.exact,focusedOptionId:d.focusedOptionId,onItemClick:d.itemClick},null,8,["id","item","template","exact","focusedOptionId","onItemClick"])):d.visible($)&&$.separator?(be(),Le("li",{key:"separator"+I+F,class:cn(d.separatorClass(T)),style:xr($.style),role:"separator"},null,6)):Wt("",!0)],64))),128))],64)):d.visible(T)&&T.separator?(be(),Le("li",{key:"separator"+I.toString(),class:cn(d.separatorClass(T)),style:xr(T.style),role:"separator"},null,6)):(be(),Mn(w,{key:d.label(T)+I.toString(),id:f.id+"_"+I,item:T,template:t.$slots.item,exact:r.exact,focusedOptionId:d.focusedOptionId,onItemClick:d.itemClick},null,8,["id","item","template","exact","focusedOptionId","onItemClick"]))],64))),128))],40,WCe),t.$slots.end?(be(),Le("div",GCe,[Eo(t.$slots,"end")])):Wt("",!0)],16,UCe)):Wt("",!0)]),_:3},8,["onEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo","disabled"])}function KCe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var YCe=`
.p-menu-overlay {
    position: absolute;
    top: 0;
    left: 0;
}
.p-menu ul {
    margin: 0;
    padding: 0;
    list-style: none;
}
.p-menu .p-menuitem-link {
    cursor: pointer;
    display: flex;
    align-items: center;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
.p-menu .p-menuitem-text {
    line-height: 1;
}
`;KCe(YCe);wce.render=qCe;var _ce={name:"Message",emits:["close"],props:{severity:{type:String,default:"info"},closable:{type:Boolean,default:!0},sticky:{type:Boolean,default:!0},life:{type:Number,default:3e3},icon:{type:String,default:null},closeIcon:{type:String,default:"pi pi-times"},closeButtonProps:{type:null,default:null}},timeout:null,data(){return{visible:!0}},mounted(){this.sticky||this.x()},methods:{close(t){this.visible=!1,this.$emit("close",t)},x(){setTimeout(()=>{this.visible=!1},this.life)}},computed:{containerClass(){return"p-message p-component p-message-"+this.severity},iconClass(){return["p-message-icon pi",this.icon?this.icon:{"pi-info-circle":this.severity==="info","pi-check":this.severity==="success","pi-exclamation-triangle":this.severity==="warn","pi-times-circle":this.severity==="error"}]},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{ripple:qu}};const XCe={class:"p-message-wrapper"},JCe={class:"p-message-text"},QCe=["aria-label"];function eSe(t,n,r,u,f,d){const w=gl("ripple");return be(),Mn(Lm,{name:"p-message",appear:""},{default:Ms(()=>[Er(yt("div",{class:cn(d.containerClass),role:"alert","aria-live":"assertive","aria-atomic":"true"},[yt("div",XCe,[yt("span",{class:cn(d.iconClass)},null,2),yt("div",JCe,[Eo(t.$slots,"default")]),r.closable?Er((be(),Le("button",hr({key:0,class:"p-message-close p-link","aria-label":d.closeAriaLabel,type:"button",onClick:n[0]||(n[0]=x=>d.close(x))},r.closeButtonProps),[yt("i",{class:cn(["p-message-close-icon",r.closeIcon])},null,2)],16,QCe)),[[w]]):Wt("",!0)])],2),[[pQ,f.visible]])]),_:3})}function tSe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var nSe=`
.p-message-wrapper {
    display: flex;
    align-items: center;
}
.p-message-close {
    display: flex;
    align-items: center;
    justify-content: center;
}
.p-message-close.p-link {
    margin-left: auto;
    overflow: hidden;
    position: relative;
}
.p-message-enter-from {
    opacity: 0;
}
.p-message-enter-active {
    transition: opacity 0.3s;
}
.p-message.p-message-leave-from {
    max-height: 1000px;
}
.p-message.p-message-leave-to {
    max-height: 0;
    opacity: 0;
    margin: 0 !important;
}
.p-message-leave-active {
    overflow: hidden;
    transition: max-height 0.3s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin 0.15s;
}
.p-message-leave-active .p-message-close {
    display: none;
}
`;tSe(nSe);_ce.render=eSe;var kce={name:"ProgressBar",props:{value:{type:Number,default:null},mode:{type:String,default:"determinate"},showValue:{type:Boolean,default:!0}},computed:{containerClass(){return["p-progressbar p-component",{"p-progressbar-determinate":this.determinate,"p-progressbar-indeterminate":this.indeterminate}]},progressStyle(){return{width:this.value+"%",display:"flex"}},indeterminate(){return this.mode==="indeterminate"},determinate(){return this.mode==="determinate"}}};const oSe=["aria-valuenow"],sSe={key:0,class:"p-progressbar-label"},rSe={key:1,class:"p-progressbar-indeterminate-container"},aSe=yt("div",{class:"p-progressbar-value p-progressbar-value-animate"},null,-1),iSe=[aSe];function lSe(t,n,r,u,f,d){return be(),Le("div",{role:"progressbar",class:cn(d.containerClass),"aria-valuemin":"0","aria-valuenow":r.value,"aria-valuemax":"100"},[d.determinate?(be(),Le("div",{key:0,class:"p-progressbar-value p-progressbar-value-animate",style:xr(d.progressStyle)},[r.value!=null&&r.value!==0&&r.showValue?(be(),Le("div",sSe,[Eo(t.$slots,"default",{},()=>[Wu(Xo(r.value+"%"),1)])])):Wt("",!0)],4)):Wt("",!0),d.indeterminate?(be(),Le("div",rSe,iSe)):Wt("",!0)],10,oSe)}function cSe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var uSe=`
.p-progressbar {
    position: relative;
    overflow: hidden;
}
.p-progressbar-determinate .p-progressbar-value {
    height: 100%;
    width: 0%;
    position: absolute;
    display: none;
    border: 0 none;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}
.p-progressbar-determinate .p-progressbar-label {
    display: inline-flex;
}
.p-progressbar-determinate .p-progressbar-value-animate {
    transition: width 1s ease-in-out;
}
.p-progressbar-indeterminate .p-progressbar-value::before {
    content: '';
    position: absolute;
    background-color: inherit;
    top: 0;
    left: 0;
    bottom: 0;
    will-change: left, right;
    -webkit-animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
}
.p-progressbar-indeterminate .p-progressbar-value::after {
    content: '';
    position: absolute;
    background-color: inherit;
    top: 0;
    left: 0;
    bottom: 0;
    will-change: left, right;
    -webkit-animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
    animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
    -webkit-animation-delay: 1.15s;
    animation-delay: 1.15s;
}
@-webkit-keyframes p-progressbar-indeterminate-anim {
0% {
        left: -35%;
        right: 100%;
}
60% {
        left: 100%;
        right: -90%;
}
100% {
        left: 100%;
        right: -90%;
}
}
@keyframes p-progressbar-indeterminate-anim {
0% {
        left: -35%;
        right: 100%;
}
60% {
        left: 100%;
        right: -90%;
}
100% {
        left: 100%;
        right: -90%;
}
}
@-webkit-keyframes p-progressbar-indeterminate-anim-short {
0% {
        left: -200%;
        right: 100%;
}
60% {
        left: 107%;
        right: -8%;
}
100% {
        left: 107%;
        right: -8%;
}
}
@keyframes p-progressbar-indeterminate-anim-short {
0% {
        left: -200%;
        right: 100%;
}
60% {
        left: 107%;
        right: -8%;
}
100% {
        left: 107%;
        right: -8%;
}
}
`;cSe(uSe);kce.render=lSe;var Eee={name:"Badge",props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},computed:{containerClass(){return this.$slots.default?"p-overlay-badge":this.badgeClass},badgeClass(){return["p-badge p-component",{"p-badge-no-gutter":In.isNotEmpty(this.value)&&String(this.value).length===1,"p-badge-dot":In.isEmpty(this.value)&&!this.$slots.default,"p-badge-lg":this.size==="large","p-badge-xl":this.size==="xlarge","p-badge-info":this.severity==="info","p-badge-success":this.severity==="success","p-badge-warning":this.severity==="warning","p-badge-danger":this.severity==="danger"}]}}};function dSe(t,n,r,u,f,d){return be(),Le("span",{class:cn(d.badgeClass)},[Eo(t.$slots,"default",{},()=>[Wu(Xo(r.value),1)])],2)}Eee.render=dSe;var Cce={emits:["remove"],props:{files:{type:Array,default:()=>[]},badgeSeverity:{type:String,default:"warning"},badgeValue:{type:String,default:null},previewWidth:{type:Number,default:50}},methods:{formatSize(t){if(t===0)return"0 B";let n=1e3,r=3,u=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],f=Math.floor(Math.log(t)/Math.log(n));return parseFloat((t/Math.pow(n,f)).toFixed(r))+" "+u[f]}},components:{FileUploadButton:eI,FileUploadBadge:Eee}};const fSe=["alt","src","width"],hSe={class:"p-fileupload-file-details"},mSe={class:"p-fileupload-file-name"},pSe={class:"p-fileupload-file-size"},gSe={class:"p-fileupload-file-actions"};function ySe(t,n,r,u,f,d){const w=Vn("FileUploadBadge"),x=Vn("FileUploadButton");return be(!0),Le(Xn,null,Ua(r.files,(T,I)=>(be(),Le("div",{key:T.name+T.type+T.size,class:"p-fileupload-file"},[yt("img",{role:"presentation",class:"p-fileupload-file-thumbnail",alt:T.name,src:T.objectURL,width:r.previewWidth},null,8,fSe),yt("div",hSe,[yt("div",mSe,Xo(T.name),1),yt("span",pSe,Xo(d.formatSize(T.size)),1),Gn(w,{value:r.badgeValue,class:"p-fileupload-file-badge",severity:r.badgeSeverity},null,8,["value","severity"])]),yt("div",gSe,[Gn(x,{icon:"pi pi-times",onClick:$=>t.$emit("remove",I),class:"p-fileupload-file-remove p-button-text p-button-danger p-button-rounded"},null,8,["onClick"])])]))),128)}Cce.render=ySe;var Sce={name:"FileUpload",emits:["select","uploader","before-upload","progress","upload","error","before-send","clear","remove","remove-uploaded-file"],props:{name:{type:String,default:null},url:{type:String,default:null},mode:{type:String,default:"advanced"},multiple:{type:Boolean,default:!1},accept:{type:String,default:null},disabled:{type:Boolean,default:!1},auto:{type:Boolean,default:!1},maxFileSize:{type:Number,default:null},invalidFileSizeMessage:{type:String,default:"{0}: Invalid file size, file size should be smaller than {1}."},invalidFileTypeMessage:{type:String,default:"{0}: Invalid file type, allowed file types: {1}."},fileLimit:{type:Number,default:null},invalidFileLimitMessage:{type:String,default:"Maximum number of files exceeded, limit is {0} at most."},withCredentials:{type:Boolean,default:!1},previewWidth:{type:Number,default:50},chooseLabel:{type:String,default:null},uploadLabel:{type:String,default:null},cancelLabel:{type:String,default:null},customUpload:{type:Boolean,default:!1},showUploadButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!0},chooseIcon:{type:String,default:"pi pi-plus"},uploadIcon:{type:String,default:"pi pi-upload"},cancelIcon:{type:String,default:"pi pi-times"},style:null,class:null},duplicateIEEvent:!1,data(){return{uploadedFileCount:0,files:[],messages:[],focused:!1,progress:null,uploadedFiles:[]}},methods:{onFileSelect(t){if(t.type!=="drop"&&this.isIE11()&&this.duplicateIEEvent){this.duplicateIEEvent=!1;return}this.messages=[],this.files=this.files||[];let n=t.dataTransfer?t.dataTransfer.files:t.target.files;for(let r of n)this.isFileSelected(r)||this.validate(r)&&(this.isImage(r)&&(r.objectURL=window.URL.createObjectURL(r)),this.files.push(r));this.$emit("select",{originalEvent:t,files:this.files}),this.fileLimit&&this.checkFileLimit(),this.auto&&this.hasFiles&&!this.isFileLimitExceeded()&&this.upload(),t.type!=="drop"&&this.isIE11()?this.clearIEInput():this.clearInputElement()},choose(){this.$refs.fileInput.click()},upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.$emit("uploader",{files:this.files}),this.clear();else{let t=new XMLHttpRequest,n=new FormData;this.$emit("before-upload",{xhr:t,formData:n});for(let r of this.files)n.append(this.name,r,r.name);t.upload.addEventListener("progress",r=>{r.lengthComputable&&(this.progress=Math.round(r.loaded*100/r.total)),this.$emit("progress",{originalEvent:r,progress:this.progress})}),t.onreadystatechange=()=>{t.readyState===4&&(this.progress=0,t.status>=200&&t.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.$emit("upload",{xhr:t,files:this.files})):this.$emit("error",{xhr:t,files:this.files}),this.uploadedFiles.push(...this.files),this.clear())},t.open("POST",this.url,!0),this.$emit("before-send",{xhr:t,formData:n}),t.withCredentials=this.withCredentials,t.send(n)}},clear(){this.files=[],this.messages=null,this.$emit("clear"),this.isAdvanced&&this.clearInputElement()},onFocus(){this.focused=!0},onBlur(){this.focused=!1},isFileSelected(t){if(this.files&&this.files.length){for(let n of this.files)if(n.name+n.type+n.size===t.name+t.type+t.size)return!0}return!1},isIE11(){return!!window.MSInputMethodContext&&!!document.documentMode},validate(t){return this.accept&&!this.isFileTypeValid(t)?(this.messages.push(this.invalidFileTypeMessage.replace("{0}",t.name).replace("{1}",this.accept)),!1):this.maxFileSize&&t.size>this.maxFileSize?(this.messages.push(this.invalidFileSizeMessage.replace("{0}",t.name).replace("{1}",this.formatSize(this.maxFileSize))),!1):!0},isFileTypeValid(t){let n=this.accept.split(",").map(r=>r.trim());for(let r of n)if(this.isWildcard(r)?this.getTypeClass(t.type)===this.getTypeClass(r):t.type==r||this.getFileExtension(t).toLowerCase()===r.toLowerCase())return!0;return!1},getTypeClass(t){return t.substring(0,t.indexOf("/"))},isWildcard(t){return t.indexOf("*")!==-1},getFileExtension(t){return"."+t.name.split(".").pop()},isImage(t){return/^image\//.test(t.type)},onDragEnter(t){this.disabled||(t.stopPropagation(),t.preventDefault())},onDragOver(t){this.disabled||(tt.addClass(this.$refs.content,"p-fileupload-highlight"),t.stopPropagation(),t.preventDefault())},onDragLeave(){this.disabled||tt.removeClass(this.$refs.content,"p-fileupload-highlight")},onDrop(t){if(!this.disabled){tt.removeClass(this.$refs.content,"p-fileupload-highlight"),t.stopPropagation(),t.preventDefault();const n=t.dataTransfer?t.dataTransfer.files:t.target.files;(this.multiple||n&&n.length===1)&&this.onFileSelect(t)}},onBasicUploaderClick(){this.hasFiles?this.upload():this.$refs.fileInput.click()},remove(t){this.clearInputElement();let n=this.files.splice(t,1)[0];this.files=[...this.files],this.$emit("remove",{file:n,files:this.files})},removeUploadedFile(t){let n=this.uploadedFiles.splice(t,1)[0];this.uploadedFiles=[...this.uploadedFiles],this.$emit("remove-uploaded-file",{file:n,files:this.uploadedFiles})},clearInputElement(){this.$refs.fileInput.value=""},clearIEInput(){this.$refs.fileInput&&(this.duplicateIEEvent=!0,this.$refs.fileInput.value="")},formatSize(t){if(t===0)return"0 B";let n=1e3,r=3,u=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],f=Math.floor(Math.log(t)/Math.log(n));return parseFloat((t/Math.pow(n,f)).toFixed(r))+" "+u[f]},isFileLimitExceeded(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount&&this.focused&&(this.focused=!1),this.fileLimit&&this.fileLimit<this.files.length+this.uploadedFileCount},checkFileLimit(){this.isFileLimitExceeded()&&this.messages.push(this.invalidFileLimitMessage.replace("{0}",this.fileLimit.toString()))},onMessageClose(){this.messages=null}},computed:{isAdvanced(){return this.mode==="advanced"},isBasic(){return this.mode==="basic"},advancedChooseButtonClass(){return["p-button p-component p-fileupload-choose",this.class,{"p-disabled":this.disabled,"p-focus":this.focused}]},basicChooseButtonClass(){return["p-button p-component p-fileupload-choose",this.class,{"p-fileupload-choose-selected":this.hasFiles,"p-disabled":this.disabled,"p-focus":this.focused}]},advancedChooseIconClass(){return["p-button-icon p-button-icon-left pi-fw",this.chooseIcon]},basicChooseButtonIconClass(){return["p-button-icon p-button-icon-left",!this.hasFiles||this.auto?this.uploadIcon:this.chooseIcon]},basicChooseButtonLabel(){return this.auto?this.chooseButtonLabel:this.hasFiles?this.files.map(t=>t.name).join(", "):this.chooseButtonLabel},hasFiles(){return this.files&&this.files.length>0},hasUploadedFiles(){return this.uploadedFiles&&this.uploadedFiles.length>0},chooseDisabled(){return this.disabled||this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount},uploadDisabled(){return this.disabled||!this.hasFiles||this.fileLimit&&this.fileLimit<this.files.length},cancelDisabled(){return this.disabled||!this.hasFiles},chooseButtonLabel(){return this.chooseLabel||this.$primevue.config.locale.choose},uploadButtonLabel(){return this.uploadLabel||this.$primevue.config.locale.upload},cancelButtonLabel(){return this.cancelLabel||this.$primevue.config.locale.cancel},completedLabel(){return this.$primevue.config.locale.completed},pendingLabel(){return this.$primevue.config.locale.pending}},components:{FileUploadButton:eI,FileUploadProgressBar:kce,FileUploadMessage:_ce,FileContent:Cce},directives:{ripple:qu}};const bSe={key:0,class:"p-fileupload p-fileupload-advanced p-component"},vSe=["multiple","accept","disabled"],wSe={class:"p-fileupload-buttonbar"},_Se={class:"p-button-label"},kSe={key:0,class:"p-fileupload-empty"},CSe={key:1,class:"p-fileupload p-fileupload-basic p-component"},SSe={class:"p-button-label"},xSe=["accept","disabled","multiple"];function ESe(t,n,r,u,f,d){const w=Vn("FileUploadButton"),x=Vn("FileUploadProgressBar"),T=Vn("FileUploadMessage"),I=Vn("FileContent"),$=gl("ripple");return d.isAdvanced?(be(),Le("div",bSe,[yt("input",{ref:"fileInput",type:"file",onChange:n[0]||(n[0]=(...F)=>d.onFileSelect&&d.onFileSelect(...F)),multiple:r.multiple,accept:r.accept,disabled:d.chooseDisabled},null,40,vSe),yt("div",wSe,[Eo(t.$slots,"header",{files:f.files,uploadedFiles:f.uploadedFiles,chooseCallback:d.choose,uploadCallback:d.upload,clearCallback:d.clear},()=>[Er((be(),Le("span",{class:cn(d.advancedChooseButtonClass),style:xr(r.style),onClick:n[1]||(n[1]=(...F)=>d.choose&&d.choose(...F)),onKeydown:n[2]||(n[2]=sx((...F)=>d.choose&&d.choose(...F),["enter"])),onFocus:n[3]||(n[3]=(...F)=>d.onFocus&&d.onFocus(...F)),onBlur:n[4]||(n[4]=(...F)=>d.onBlur&&d.onBlur(...F)),tabindex:"0"},[yt("span",{class:cn(d.advancedChooseIconClass)},null,2),yt("span",_Se,Xo(d.chooseButtonLabel),1)],38)),[[$]]),r.showUploadButton?(be(),Mn(w,{key:0,label:d.uploadButtonLabel,icon:r.uploadIcon,onClick:d.upload,disabled:d.uploadDisabled},null,8,["label","icon","onClick","disabled"])):Wt("",!0),r.showCancelButton?(be(),Mn(w,{key:1,label:d.cancelButtonLabel,icon:r.cancelIcon,onClick:d.clear,disabled:d.cancelDisabled},null,8,["label","icon","onClick","disabled"])):Wt("",!0)])]),yt("div",{ref:"content",class:"p-fileupload-content",onDragenter:n[5]||(n[5]=(...F)=>d.onDragEnter&&d.onDragEnter(...F)),onDragover:n[6]||(n[6]=(...F)=>d.onDragOver&&d.onDragOver(...F)),onDragleave:n[7]||(n[7]=(...F)=>d.onDragLeave&&d.onDragLeave(...F)),onDrop:n[8]||(n[8]=(...F)=>d.onDrop&&d.onDrop(...F))},[Eo(t.$slots,"content",{files:f.files,uploadedFiles:f.uploadedFiles,removeUploadedFileCallback:d.removeUploadedFile,removeFileCallback:d.remove,progress:f.progress,messages:f.messages},()=>[d.hasFiles?(be(),Mn(x,{key:0,value:f.progress,showValue:!1},null,8,["value"])):Wt("",!0),(be(!0),Le(Xn,null,Ua(f.messages,F=>(be(),Mn(T,{key:F,severity:"error",onClose:d.onMessageClose},{default:Ms(()=>[Wu(Xo(F),1)]),_:2},1032,["onClose"]))),128)),d.hasFiles?(be(),Mn(I,{key:1,files:f.files,onRemove:d.remove,badgeValue:d.pendingLabel,previewWidth:r.previewWidth},null,8,["files","onRemove","badgeValue","previewWidth"])):Wt("",!0),Gn(I,{files:f.uploadedFiles,onRemove:d.removeUploadedFile,badgeValue:d.completedLabel,badgeSeverity:"success",previewWidth:r.previewWidth},null,8,["files","onRemove","badgeValue","previewWidth"])]),t.$slots.empty&&!d.hasFiles&&!d.hasUploadedFiles?(be(),Le("div",kSe,[Eo(t.$slots,"empty")])):Wt("",!0)],544)])):d.isBasic?(be(),Le("div",CSe,[(be(!0),Le(Xn,null,Ua(f.messages,F=>(be(),Mn(T,{key:F,severity:"error",onClose:d.onMessageClose},{default:Ms(()=>[Wu(Xo(F),1)]),_:2},1032,["onClose"]))),128)),Er((be(),Le("span",{class:cn(d.basicChooseButtonClass),style:xr(r.style),onMouseup:n[12]||(n[12]=(...F)=>d.onBasicUploaderClick&&d.onBasicUploaderClick(...F)),onKeydown:n[13]||(n[13]=sx((...F)=>d.choose&&d.choose(...F),["enter"])),onFocus:n[14]||(n[14]=(...F)=>d.onFocus&&d.onFocus(...F)),onBlur:n[15]||(n[15]=(...F)=>d.onBlur&&d.onBlur(...F)),tabindex:"0"},[yt("span",{class:cn(d.basicChooseButtonIconClass)},null,2),yt("span",SSe,Xo(d.basicChooseButtonLabel),1),d.hasFiles?Wt("",!0):(be(),Le("input",{key:0,ref:"fileInput",type:"file",accept:r.accept,disabled:r.disabled,multiple:r.multiple,onChange:n[9]||(n[9]=(...F)=>d.onFileSelect&&d.onFileSelect(...F)),onFocus:n[10]||(n[10]=(...F)=>d.onFocus&&d.onFocus(...F)),onBlur:n[11]||(n[11]=(...F)=>d.onBlur&&d.onBlur(...F))},null,40,xSe))],38)),[[$]])])):Wt("",!0)}function TSe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var RSe=`
.p-fileupload-content {
    position: relative;
}
.p-fileupload-content .p-progressbar {
    width: 100%;
    position: absolute;
    top: 0;
    left: 0;
}
.p-button.p-fileupload-choose {
    position: relative;
    overflow: hidden;
}
.p-fileupload-buttonbar {
    display: flex;
    flex-wrap: wrap;
}
.p-fileupload > input[type='file'],
.p-fileupload-basic input[type='file'] {
    display: none;
}
.p-fluid .p-fileupload .p-button {
    width: auto;
}
.p-fileupload-file {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
}
.p-fileupload-file-thumbnail {
    flex-shrink: 0;
}
.p-fileupload-file-actions {
    margin-left: auto;
}
`;TSe(RSe);Sce.render=ESe;var xce={name:"ToastMessage",emits:["close"],props:{message:{type:null,default:null},template:{type:null,default:null},closeIcon:{type:String,default:null},infoIcon:{type:String,default:null},warnIcon:{type:String,default:null},errorIcon:{type:String,default:null},successIcon:{type:String,default:null},closeButtonProps:{type:null,default:null}},closeTimeout:null,mounted(){this.message.life&&(this.closeTimeout=setTimeout(()=>{this.close({message:this.message,type:"life-end"})},this.message.life))},beforeUnmount(){this.clearCloseTimeout()},methods:{close(t){this.$emit("close",t)},onCloseClick(){this.clearCloseTimeout(),this.close({message:this.message,type:"close"})},clearCloseTimeout(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)}},computed:{containerClass(){return["p-toast-message",this.message.styleClass,{"p-toast-message-info":this.message.severity==="info","p-toast-message-warn":this.message.severity==="warn","p-toast-message-error":this.message.severity==="error","p-toast-message-success":this.message.severity==="success"}]},iconClass(){return["p-toast-message-icon",{[this.infoIcon]:this.message.severity==="info",[this.warnIcon]:this.message.severity==="warn",[this.errorIcon]:this.message.severity==="error",[this.successIcon]:this.message.severity==="success"}]},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{ripple:qu}};const ASe={class:"p-toast-message-text"},ISe={class:"p-toast-summary"},OSe={class:"p-toast-detail"},DSe={key:2},MSe=["aria-label"];function PSe(t,n,r,u,f,d){const w=gl("ripple");return be(),Le("div",{class:cn(d.containerClass),role:"alert","aria-live":"assertive","aria-atomic":"true"},[yt("div",{class:cn(["p-toast-message-content",r.message.contentStyleClass])},[r.template?(be(),Mn(Ha(r.template),{key:1,message:r.message},null,8,["message"])):(be(),Le(Xn,{key:0},[yt("span",{class:cn(d.iconClass)},null,2),yt("div",ASe,[yt("span",ISe,Xo(r.message.summary),1),yt("div",OSe,Xo(r.message.detail),1)])],64)),r.message.closable!==!1?(be(),Le("div",DSe,[Er((be(),Le("button",hr({class:"p-toast-icon-close p-link",type:"button","aria-label":d.closeAriaLabel,onClick:n[0]||(n[0]=(...x)=>d.onCloseClick&&d.onCloseClick(...x)),autofocus:""},r.closeButtonProps),[yt("span",{class:cn(["p-toast-icon-close-icon",r.closeIcon])},null,2)],16,MSe)),[[w]])])):Wt("",!0)],2)],2)}xce.render=PSe;var zSe=0,Ece={name:"Toast",inheritAttrs:!1,emits:["close","life-end"],props:{group:{type:String,default:null},position:{type:String,default:"top-right"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},breakpoints:{type:Object,default:null},closeIcon:{type:String,default:"pi pi-times"},infoIcon:{type:String,default:"pi pi-info-circle"},warnIcon:{type:String,default:"pi pi-exclamation-triangle"},errorIcon:{type:String,default:"pi pi-times"},successIcon:{type:String,default:"pi pi-check"},closeButtonProps:{type:null,default:null}},data(){return{messages:[]}},styleElement:null,mounted(){c1.on("add",this.onAdd),c1.on("remove-group",this.onRemoveGroup),c1.on("remove-all-groups",this.onRemoveAllGroups),this.breakpoints&&this.createStyle()},beforeUnmount(){this.destroyStyle(),this.$refs.container&&this.autoZIndex&&mi.clear(this.$refs.container),c1.off("add",this.onAdd),c1.off("remove-group",this.onRemoveGroup),c1.off("remove-all-groups",this.onRemoveAllGroups)},methods:{add(t){t.id==null&&(t.id=zSe++),this.messages=[...this.messages,t]},remove(t){let n=-1;for(let r=0;r<this.messages.length;r++)if(this.messages[r]===t.message){n=r;break}this.messages.splice(n,1),this.$emit(t.type,{message:t.message})},onAdd(t){this.group==t.group&&this.add(t)},onRemoveGroup(t){this.group===t&&(this.messages=[])},onRemoveAllGroups(){this.messages=[]},onEnter(){this.$refs.container.setAttribute(this.attributeSelector,""),this.autoZIndex&&mi.set("modal",this.$refs.container,this.baseZIndex||this.$primevue.config.zIndex.modal)},onLeave(){this.$refs.container&&this.autoZIndex&&In.isEmpty(this.messages)&&setTimeout(()=>{mi.clear(this.$refs.container)},200)},createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let n in this.breakpoints){let r="";for(let u in this.breakpoints[n])r+=u+":"+this.breakpoints[n][u]+"!important;";t+=`
                        @media screen and (max-width: ${n}) {
                            .p-toast[${this.attributeSelector}] {
                                ${r}
                            }
                        }
                    `}this.styleElement.innerHTML=t}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}},computed:{containerClass(){return["p-toast p-component p-toast-"+this.position,{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},attributeSelector(){return Ud()}},components:{ToastMessage:xce,Portal:k1}};function NSe(t,n,r,u,f,d){const w=Vn("ToastMessage"),x=Vn("Portal");return be(),Mn(x,null,{default:Ms(()=>[yt("div",hr({ref:"container",class:d.containerClass},t.$attrs),[Gn(_he,{name:"p-toast-message",tag:"div",onEnter:d.onEnter,onLeave:d.onLeave},{default:Ms(()=>[(be(!0),Le(Xn,null,Ua(f.messages,T=>(be(),Mn(w,{key:T.id,message:T,template:t.$slots.message,closeIcon:r.closeIcon,infoIcon:r.infoIcon,warnIcon:r.warnIcon,errorIcon:r.errorIcon,successIcon:r.successIcon,closeButtonProps:r.closeButtonProps,onClose:n[0]||(n[0]=I=>d.remove(I))},null,8,["message","template","closeIcon","infoIcon","warnIcon","errorIcon","successIcon","closeButtonProps"]))),128))]),_:1},8,["onEnter","onLeave"])],16)]),_:1})}function LSe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var FSe=`
.p-toast {
    position: fixed;
    width: 25rem;
}
.p-toast-message-content {
    display: flex;
    align-items: flex-start;
}
.p-toast-message-text {
    flex: 1 1 auto;
}
.p-toast-top-right {
    top: 20px;
    right: 20px;
}
.p-toast-top-left {
    top: 20px;
    left: 20px;
}
.p-toast-bottom-left {
    bottom: 20px;
    left: 20px;
}
.p-toast-bottom-right {
    bottom: 20px;
    right: 20px;
}
.p-toast-top-center {
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
}
.p-toast-bottom-center {
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
}
.p-toast-center {
    left: 50%;
    top: 50%;
    min-width: 20vw;
    transform: translate(-50%, -50%);
}
.p-toast-icon-close {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}
.p-toast-icon-close.p-link {
    cursor: pointer;
}

/* Animations */
.p-toast-message-enter-from {
    opacity: 0;
    -webkit-transform: translateY(50%);
    -ms-transform: translateY(50%);
    transform: translateY(50%);
}
.p-toast-message-leave-from {
    max-height: 1000px;
}
.p-toast .p-toast-message.p-toast-message-leave-to {
    max-height: 0;
    opacity: 0;
    margin-bottom: 0;
    overflow: hidden;
}
.p-toast-message-enter-active {
    -webkit-transition: transform 0.3s, opacity 0.3s;
    transition: transform 0.3s, opacity 0.3s;
}
.p-toast-message-leave-active {
    -webkit-transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin-bottom 0.3s;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin-bottom 0.3s;
}
`;LSe(FSe);Ece.render=NSe;function BSe(t,n){const{onFocusIn:r,onFocusOut:u}=n.value||{};t.$_pfocustrap_mutationobserver=new MutationObserver(f=>{f.forEach(d=>{if(d.type==="childList"&&!t.contains(document.activeElement)){const w=x=>{const T=tt.isFocusableElement(x)?x:tt.getFirstFocusableElement(x);return In.isNotEmpty(T)?T:w(x.nextSibling)};tt.focus(w(d.nextSibling))}})}),t.$_pfocustrap_mutationobserver.disconnect(),t.$_pfocustrap_mutationobserver.observe(t,{childList:!0}),t.$_pfocustrap_focusinlistener=f=>r&&r(f),t.$_pfocustrap_focusoutlistener=f=>u&&u(f),t.addEventListener("focusin",t.$_pfocustrap_focusinlistener),t.addEventListener("focusout",t.$_pfocustrap_focusoutlistener)}function $se(t){t.$_pfocustrap_mutationobserver&&t.$_pfocustrap_mutationobserver.disconnect(),t.$_pfocustrap_focusinlistener&&t.removeEventListener("focusin",t.$_pfocustrap_focusinlistener)&&(t.$_pfocustrap_focusinlistener=null),t.$_pfocustrap_focusoutlistener&&t.removeEventListener("focusout",t.$_pfocustrap_focusoutlistener)&&(t.$_pfocustrap_focusoutlistener=null)}function $Se(t,n){const{autoFocusSelector:r="",firstFocusableSelector:u="",autoFocus:f=!1}=n.value||{};let d=tt.getFirstFocusableElement(t,`[autofocus]:not(.p-hidden-focusable)${r}`);f&&!d&&(d=tt.getFirstFocusableElement(t,`:not(.p-hidden-focusable)${u}`)),tt.focus(d)}function VSe(t){const{currentTarget:n,relatedTarget:r}=t,u=r===n.$_pfocustrap_lasthiddenfocusableelement?tt.getFirstFocusableElement(n.parentElement,`:not(.p-hidden-focusable)${n.$_pfocustrap_focusableselector}`):n.$_pfocustrap_lasthiddenfocusableelement;tt.focus(u)}function HSe(t){const{currentTarget:n,relatedTarget:r}=t,u=r===n.$_pfocustrap_firsthiddenfocusableelement?tt.getLastFocusableElement(n.parentElement,`:not(.p-hidden-focusable)${n.$_pfocustrap_focusableselector}`):n.$_pfocustrap_firsthiddenfocusableelement;tt.focus(u)}function USe(t,n){const{tabIndex:r=0,firstFocusableSelector:u="",lastFocusableSelector:f=""}=n.value||{},d=T=>{const I=document.createElement("span");return I.classList="p-hidden-accessible p-hidden-focusable",I.tabIndex=r,I.setAttribute("aria-hidden","true"),I.setAttribute("role","presentation"),I.addEventListener("focus",T),I},w=d(VSe),x=d(HSe);w.$_pfocustrap_lasthiddenfocusableelement=x,w.$_pfocustrap_focusableselector=u,x.$_pfocustrap_firsthiddenfocusableelement=w,x.$_pfocustrap_focusableselector=f,t.prepend(w),t.append(x)}const R7={mounted(t,n){const{disabled:r}=n.value||{};r||(USe(t,n),BSe(t,n),$Se(t,n))},updated(t,n){const{disabled:r}=n.value||{};r&&$se(t)},unmounted(t){$se(t)}};var Tce={name:"Dialog",inheritAttrs:!1,emits:["update:visible","show","hide","after-hide","maximize","unmaximize","dragend"],props:{header:{type:null,default:null},footer:{type:null,default:null},visible:{type:Boolean,default:!1},modal:{type:Boolean,default:null},contentStyle:{type:null,default:null},contentClass:{type:String,default:null},contentProps:{type:null,default:null},rtl:{type:Boolean,default:null},maximizable:{type:Boolean,default:!1},dismissableMask:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},closeOnEscape:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},position:{type:String,default:"center"},breakpoints:{type:Object,default:null},draggable:{type:Boolean,default:!0},keepInViewport:{type:Boolean,default:!0},minX:{type:Number,default:0},minY:{type:Number,default:0},appendTo:{type:String,default:"body"},closeIcon:{type:String,default:"pi pi-times"},maximizeIcon:{type:String,default:"pi pi-window-maximize"},minimizeIcon:{type:String,default:"pi pi-window-minimize"},closeButtonProps:{type:null,default:null},_instance:null},provide(){return{dialogRef:To(()=>this._instance)}},data(){return{containerVisible:this.visible,maximized:!1,focusableMax:null,focusableClose:null}},documentKeydownListener:null,container:null,mask:null,content:null,headerContainer:null,footerContainer:null,maximizableButton:null,closeButton:null,styleElement:null,dragging:null,documentDragListener:null,documentDragEndListener:null,lastPageX:null,lastPageY:null,updated(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount(){this.unbindDocumentState(),this.unbindGlobalListeners(),this.destroyStyle(),this.mask&&this.autoZIndex&&mi.clear(this.mask),this.container=null,this.mask=null},mounted(){this.breakpoints&&this.createStyle()},methods:{close(){this.$emit("update:visible",!1)},onBeforeEnter(t){t.setAttribute(this.attributeSelector,"")},onEnter(){this.$emit("show"),this.focus(),this.enableDocumentSettings(),this.bindGlobalListeners(),this.autoZIndex&&mi.set("modal",this.mask,this.baseZIndex+this.$primevue.config.zIndex.modal)},onBeforeLeave(){this.modal&&tt.addClass(this.mask,"p-component-overlay-leave")},onLeave(){this.$emit("hide"),this.focusableClose=null,this.focusableMax=null},onAfterLeave(){this.autoZIndex&&mi.clear(this.mask),this.containerVisible=!1,this.unbindDocumentState(),this.unbindGlobalListeners(),this.$emit("after-hide")},onMaskClick(t){this.dismissableMask&&this.modal&&this.mask===t.target&&this.close()},focus(){const t=r=>r.querySelector("[autofocus]");let n=this.$slots.footer&&t(this.footerContainer);n||(n=this.$slots.header&&t(this.headerContainer),n||(n=this.$slots.default&&t(this.content),n||(this.maximizable?(this.focusableMax=!0,n=this.maximizableButton):(this.focusableClose=!0,n=this.closeButton)))),n&&tt.focus(n)},maximize(t){this.maximized?(this.maximized=!1,this.$emit("unmaximize",t)):(this.maximized=!0,this.$emit("maximize",t)),this.modal||(this.maximized?tt.addClass(document.body,"p-overflow-hidden"):tt.removeClass(document.body,"p-overflow-hidden"))},enableDocumentSettings(){(this.modal||this.maximizable&&this.maximized)&&tt.addClass(document.body,"p-overflow-hidden")},unbindDocumentState(){(this.modal||this.maximizable&&this.maximized)&&tt.removeClass(document.body,"p-overflow-hidden")},onKeyDown(t){t.code==="Escape"&&this.closeOnEscape&&this.close()},bindDocumentKeyDownListener(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},getPositionClass(){const n=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find(r=>r===this.position);return n?`p-dialog-${n}`:""},containerRef(t){this.container=t},maskRef(t){this.mask=t},contentRef(t){this.content=t},headerContainerRef(t){this.headerContainer=t},footerContainerRef(t){this.footerContainer=t},maximizableRef(t){this.maximizableButton=t},closeButtonRef(t){this.closeButton=t},createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let n in this.breakpoints)t+=`
                        @media screen and (max-width: ${n}) {
                            .p-dialog[${this.attributeSelector}] {
                                width: ${this.breakpoints[n]} !important;
                            }
                        }
                    `;this.styleElement.innerHTML=t}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},initDrag(t){tt.hasClass(t.target,"p-dialog-header-icon")||tt.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",tt.addClass(document.body,"p-unselectable-text"))},bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.closeOnEscape&&this.closable&&this.bindDocumentKeyDownListener()},unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentKeyDownListener()},bindDocumentDragListener(){this.documentDragListener=t=>{if(this.dragging){let n=tt.getOuterWidth(this.container),r=tt.getOuterHeight(this.container),u=t.pageX-this.lastPageX,f=t.pageY-this.lastPageY,d=this.container.getBoundingClientRect(),w=d.left+u,x=d.top+f,T=tt.getViewport();this.container.style.position="fixed",this.keepInViewport?(w>=this.minX&&w+n<T.width&&(this.lastPageX=t.pageX,this.container.style.left=w+"px"),x>=this.minY&&x+r<T.height&&(this.lastPageY=t.pageY,this.container.style.top=x+"px")):(this.lastPageX=t.pageX,this.container.style.left=w+"px",this.lastPageY=t.pageY,this.container.style.top=x+"px")}},window.document.addEventListener("mousemove",this.documentDragListener)},unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)},bindDocumentDragEndListener(){this.documentDragEndListener=t=>{this.dragging&&(this.dragging=!1,tt.removeClass(document.body,"p-unselectable-text"),this.$emit("dragend",t))},window.document.addEventListener("mouseup",this.documentDragEndListener)},unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}},computed:{maskClass(){return["p-dialog-mask",{"p-component-overlay p-component-overlay-enter":this.modal},this.getPositionClass()]},dialogClass(){return["p-dialog p-component",{"p-dialog-rtl":this.rtl,"p-dialog-maximized":this.maximizable&&this.maximized,"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},maximizeIconClass(){return["p-dialog-header-maximize-icon",{[this.maximizeIcon]:!this.maximized,[this.minimizeIcon]:this.maximized}]},ariaId(){return Ud()},ariaLabelledById(){return this.header!=null||this.$attrs["aria-labelledby"]!==null?this.ariaId+"_header":null},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},attributeSelector(){return Ud()},contentStyleClass(){return["p-dialog-content",this.contentClass]}},directives:{ripple:qu,focustrap:R7},components:{Portal:k1}};const jSe=["aria-labelledby","aria-modal"],WSe=["id"],ZSe={class:"p-dialog-header-icons"},GSe=["autofocus","tabindex"],qSe=["autofocus","aria-label"];function KSe(t,n,r,u,f,d){const w=Vn("Portal"),x=gl("ripple"),T=gl("focustrap");return be(),Mn(w,{appendTo:r.appendTo},{default:Ms(()=>[f.containerVisible?(be(),Le("div",{key:0,ref:d.maskRef,class:cn(d.maskClass),onClick:n[3]||(n[3]=(...I)=>d.onMaskClick&&d.onMaskClick(...I))},[Gn(Lm,{name:"p-dialog",onBeforeEnter:d.onBeforeEnter,onEnter:d.onEnter,onBeforeLeave:d.onBeforeLeave,onLeave:d.onLeave,onAfterLeave:d.onAfterLeave,appear:""},{default:Ms(()=>[r.visible?Er((be(),Le("div",hr({key:0,ref:d.containerRef,class:d.dialogClass,role:"dialog","aria-labelledby":d.ariaLabelledById,"aria-modal":r.modal},t.$attrs),[r.showHeader?(be(),Le("div",{key:0,ref:d.headerContainerRef,class:"p-dialog-header",onMousedown:n[2]||(n[2]=(...I)=>d.initDrag&&d.initDrag(...I))},[Eo(t.$slots,"header",{},()=>[r.header?(be(),Le("span",{key:0,id:d.ariaLabelledById,class:"p-dialog-title"},Xo(r.header),9,WSe)):Wt("",!0)]),yt("div",ZSe,[r.maximizable?Er((be(),Le("button",{key:0,ref:d.maximizableRef,autofocus:f.focusableMax,class:"p-dialog-header-icon p-dialog-header-maximize p-link",onClick:n[0]||(n[0]=(...I)=>d.maximize&&d.maximize(...I)),type:"button",tabindex:r.maximizable?"0":"-1"},[yt("span",{class:cn(d.maximizeIconClass)},null,2)],8,GSe)),[[x]]):Wt("",!0),r.closable?Er((be(),Le("button",hr({key:1,ref:d.closeButtonRef,autofocus:f.focusableClose,class:"p-dialog-header-icon p-dialog-header-close p-link",onClick:n[1]||(n[1]=(...I)=>d.close&&d.close(...I)),"aria-label":d.closeAriaLabel,type:"button"},r.closeButtonProps),[yt("span",{class:cn(["p-dialog-header-close-icon",r.closeIcon])},null,2)],16,qSe)),[[x]]):Wt("",!0)])],544)):Wt("",!0),yt("div",hr({ref:d.contentRef,class:d.contentStyleClass,style:r.contentStyle},r.contentProps),[Eo(t.$slots,"default")],16),r.footer||t.$slots.footer?(be(),Le("div",{key:1,ref:d.footerContainerRef,class:"p-dialog-footer"},[Eo(t.$slots,"footer",{},()=>[Wu(Xo(r.footer),1)])],512)):Wt("",!0)],16,jSe)),[[T,{disabled:!r.modal}]]):Wt("",!0)]),_:3},8,["onBeforeEnter","onEnter","onBeforeLeave","onLeave","onAfterLeave"])],2)):Wt("",!0)]),_:3},8,["appendTo"])}function YSe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var XSe=`
.p-dialog-mask {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    pointer-events: none;
}
.p-dialog-mask.p-component-overlay {
    pointer-events: auto;
}
.p-dialog {
    display: flex;
    flex-direction: column;
    pointer-events: auto;
    max-height: 90%;
    transform: scale(1);
}
.p-dialog-content {
    overflow-y: auto;
}
.p-dialog-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0;
}
.p-dialog-footer {
    flex-shrink: 0;
}
.p-dialog .p-dialog-header-icons {
    display: flex;
    align-items: center;
}
.p-dialog .p-dialog-header-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

/* Fluid */
.p-fluid .p-dialog-footer .p-button {
    width: auto;
}

/* Animation */
/* Center */
.p-dialog-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}
.p-dialog-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}
.p-dialog-enter-from,
.p-dialog-leave-to {
    opacity: 0;
    transform: scale(0.7);
}

/* Top, Bottom, Left, Right, Top* and Bottom* */
.p-dialog-top .p-dialog,
.p-dialog-bottom .p-dialog,
.p-dialog-left .p-dialog,
.p-dialog-right .p-dialog,
.p-dialog-topleft .p-dialog,
.p-dialog-topright .p-dialog,
.p-dialog-bottomleft .p-dialog,
.p-dialog-bottomright .p-dialog {
    margin: 0.75rem;
    transform: translate3d(0px, 0px, 0px);
}
.p-dialog-top .p-dialog-enter-active,
.p-dialog-top .p-dialog-leave-active,
.p-dialog-bottom .p-dialog-enter-active,
.p-dialog-bottom .p-dialog-leave-active,
.p-dialog-left .p-dialog-enter-active,
.p-dialog-left .p-dialog-leave-active,
.p-dialog-right .p-dialog-enter-active,
.p-dialog-right .p-dialog-leave-active,
.p-dialog-topleft .p-dialog-enter-active,
.p-dialog-topleft .p-dialog-leave-active,
.p-dialog-topright .p-dialog-enter-active,
.p-dialog-topright .p-dialog-leave-active,
.p-dialog-bottomleft .p-dialog-enter-active,
.p-dialog-bottomleft .p-dialog-leave-active,
.p-dialog-bottomright .p-dialog-enter-active,
.p-dialog-bottomright .p-dialog-leave-active {
    transition: all 0.3s ease-out;
}
.p-dialog-top .p-dialog-enter-from,
.p-dialog-top .p-dialog-leave-to {
    transform: translate3d(0px, -100%, 0px);
}
.p-dialog-bottom .p-dialog-enter-from,
.p-dialog-bottom .p-dialog-leave-to {
    transform: translate3d(0px, 100%, 0px);
}
.p-dialog-left .p-dialog-enter-from,
.p-dialog-left .p-dialog-leave-to,
.p-dialog-topleft .p-dialog-enter-from,
.p-dialog-topleft .p-dialog-leave-to,
.p-dialog-bottomleft .p-dialog-enter-from,
.p-dialog-bottomleft .p-dialog-leave-to {
    transform: translate3d(-100%, 0px, 0px);
}
.p-dialog-right .p-dialog-enter-from,
.p-dialog-right .p-dialog-leave-to,
.p-dialog-topright .p-dialog-enter-from,
.p-dialog-topright .p-dialog-leave-to,
.p-dialog-bottomright .p-dialog-enter-from,
.p-dialog-bottomright .p-dialog-leave-to {
    transform: translate3d(100%, 0px, 0px);
}

/* Maximize */
.p-dialog-maximized {
    -webkit-transition: none;
    transition: none;
    transform: none;
    width: 100vw !important;
    height: 100vh !important;
    top: 0px !important;
    left: 0px !important;
    max-height: 100%;
    height: 100%;
}
.p-dialog-maximized .p-dialog-content {
    flex-grow: 1;
}

/* Position */
.p-dialog-left {
    justify-content: flex-start;
}
.p-dialog-right {
    justify-content: flex-end;
}
.p-dialog-top {
    align-items: flex-start;
}
.p-dialog-topleft {
    justify-content: flex-start;
    align-items: flex-start;
}
.p-dialog-topright {
    justify-content: flex-end;
    align-items: flex-start;
}
.p-dialog-bottom {
    align-items: flex-end;
}
.p-dialog-bottomleft {
    justify-content: flex-start;
    align-items: flex-end;
}
.p-dialog-bottomright {
    justify-content: flex-end;
    align-items: flex-end;
}
.p-confirm-dialog .p-dialog-content {
    display: flex;
    align-items: center;
}
`;YSe(XSe);Tce.render=KSe;var Rce={name:"Image",inheritAttrs:!1,emits:["show","hide","error"],props:{preview:{type:Boolean,default:!1},class:{type:null,default:null},style:{type:null,default:null},imageStyle:{type:null,default:null},imageClass:{type:null,default:null},previewButtonProps:{type:null,default:null},indicatorIcon:{type:String,default:"pi pi-eye"}},mask:null,data(){return{maskVisible:!1,previewVisible:!1,rotate:0,scale:1}},beforeUnmount(){this.mask&&mi.clear(this.container)},methods:{maskRef(t){this.mask=t},toolbarRef(t){this.toolbarRef=t},onImageClick(){this.preview&&(this.maskVisible=!0,setTimeout(()=>{this.previewVisible=!0},25))},onPreviewImageClick(){this.previewClick=!0},onMaskClick(){this.previewClick||(this.previewVisible=!1,this.rotate=0,this.scale=1),this.previewClick=!1},onMaskKeydown(t){switch(t.code){case"Escape":this.onMaskClick(),setTimeout(()=>{tt.focus(this.$refs.previewButton)},25),t.preventDefault();break}},onError(){this.$emit("error")},rotateRight(){this.rotate+=90,this.previewClick=!0},rotateLeft(){this.rotate-=90,this.previewClick=!0},zoomIn(){this.scale=this.scale+.1,this.previewClick=!0},zoomOut(){this.scale=this.scale-.1,this.previewClick=!0},onBeforeEnter(){mi.set("modal",this.mask,this.$primevue.config.zIndex.modal)},onEnter(){this.focus(),this.$emit("show")},onBeforeLeave(){tt.addClass(this.mask,"p-component-overlay-leave")},onLeave(){this.$emit("hide")},onAfterLeave(t){mi.clear(t),this.maskVisible=!1},focus(){let t=this.mask.querySelector("[autofocus]");t&&t.focus()}},computed:{containerClass(){return["p-image p-component",this.class,{"p-image-preview-container":this.preview}]},maskClass(){return["p-image-mask p-component-overlay p-component-overlay-enter"]},rotateClass(){return"p-image-preview-rotate-"+this.rotate},imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}},zoomDisabled(){return this.scale<=.5||this.scale>=1.5},rightAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateRight:void 0},leftAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateLeft:void 0},zoomInAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomIn:void 0},zoomOutAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomOut:void 0},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},components:{Portal:k1},directives:{focustrap:R7}};const JSe=["aria-modal"],QSe={class:"p-image-toolbar"},exe=["aria-label"],txe=yt("i",{class:"pi pi-refresh"},null,-1),nxe=["aria-label"],oxe=yt("i",{class:"pi pi-undo"},null,-1),sxe=["disabled","aria-label"],rxe=yt("i",{class:"pi pi-search-minus"},null,-1),axe=["disabled","aria-label"],ixe=yt("i",{class:"pi pi-search-plus"},null,-1),lxe=["aria-label"],cxe=yt("i",{class:"pi pi-times"},null,-1),uxe={key:0},dxe=["src"];function fxe(t,n,r,u,f,d){const w=Vn("Portal"),x=gl("focustrap");return be(),Le("span",{class:cn(d.containerClass),style:xr(r.style)},[yt("img",hr(t.$attrs,{style:r.imageStyle,class:r.imageClass,onError:n[0]||(n[0]=(...T)=>d.onError&&d.onError(...T))}),null,16),r.preview?(be(),Le("button",hr({key:0,ref:"previewButton",class:"p-image-preview-indicator",onClick:n[1]||(n[1]=(...T)=>d.onImageClick&&d.onImageClick(...T))},r.previewButtonProps),[Eo(t.$slots,"indicator",{},()=>[yt("i",{class:cn(["p-image-preview-icon",r.indicatorIcon])},null,2)])],16)):Wt("",!0),Gn(w,null,{default:Ms(()=>[f.maskVisible?Er((be(),Le("div",{key:0,ref:d.maskRef,role:"dialog",class:cn(d.maskClass),"aria-modal":f.maskVisible,onClick:n[8]||(n[8]=(...T)=>d.onMaskClick&&d.onMaskClick(...T)),onKeydown:n[9]||(n[9]=(...T)=>d.onMaskKeydown&&d.onMaskKeydown(...T))},[yt("div",QSe,[yt("button",{class:"p-image-action p-link",onClick:n[2]||(n[2]=(...T)=>d.rotateRight&&d.rotateRight(...T)),type:"button","aria-label":d.rightAriaLabel},[Eo(t.$slots,"refresh",{},()=>[txe])],8,exe),yt("button",{class:"p-image-action p-link",onClick:n[3]||(n[3]=(...T)=>d.rotateLeft&&d.rotateLeft(...T)),type:"button","aria-label":d.leftAriaLabel},[Eo(t.$slots,"undo",{},()=>[oxe])],8,nxe),yt("button",{class:"p-image-action p-link",onClick:n[4]||(n[4]=(...T)=>d.zoomOut&&d.zoomOut(...T)),type:"button",disabled:d.zoomDisabled,"aria-label":d.zoomOutAriaLabel},[Eo(t.$slots,"zoomout",{},()=>[rxe])],8,sxe),yt("button",{class:"p-image-action p-link",onClick:n[5]||(n[5]=(...T)=>d.zoomIn&&d.zoomIn(...T)),type:"button",disabled:d.zoomDisabled,"aria-label":d.zoomInAriaLabel},[Eo(t.$slots,"zoomin",{},()=>[ixe])],8,axe),yt("button",{class:"p-image-action p-link",type:"button",onClick:n[6]||(n[6]=(...T)=>t.hidePreview&&t.hidePreview(...T)),"aria-label":d.closeAriaLabel,autofocus:""},[Eo(t.$slots,"close",{},()=>[cxe])],8,lxe)]),Gn(Lm,{name:"p-image-preview",onBeforeEnter:d.onBeforeEnter,onEnter:d.onEnter,onLeave:d.onLeave,onBeforeLeave:d.onBeforeLeave,onAfterLeave:d.onAfterLeave},{default:Ms(()=>[f.previewVisible?(be(),Le("div",uxe,[yt("img",{src:t.$attrs.src,class:"p-image-preview",style:xr(d.imagePreviewStyle),onClick:n[7]||(n[7]=(...T)=>d.onPreviewImageClick&&d.onPreviewImageClick(...T))},null,12,dxe)])):Wt("",!0)]),_:1},8,["onBeforeEnter","onEnter","onLeave","onBeforeLeave","onAfterLeave"])],42,JSe)),[[x]]):Wt("",!0)]),_:3})],6)}function hxe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var mxe=`
.p-image-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}
.p-image-preview-container {
    position: relative;
    display: inline-block;
}
.p-image-preview-indicator {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s;
}
.p-image-preview-icon {
    font-size: 1.5rem;
}
.p-image-preview-container:hover > .p-image-preview-indicator {
    opacity: 1;
    cursor: pointer;
}
.p-image-preview-container > img {
    cursor: pointer;
}
.p-image-toolbar {
    position: absolute;
    top: 0;
    right: 0;
    display: flex;
}
.p-image-action.p-link {
    display: flex;
    justify-content: center;
    align-items: center;
}
.p-image-preview {
    transition: transform 0.15s;
    max-width: 100vw;
    max-height: 100vh;
}
.p-image-preview-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}
.p-image-preview-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}
.p-image-preview-enter-from,
.p-image-preview-leave-to {
    opacity: 0;
    transform: scale(0.7);
}
`;hxe(mxe);Rce.render=fxe;var Tee={name:"VirtualScroller",emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},data(){return{first:this.isBoth()?{rows:0,cols:0}:0,last:this.isBoth()?{rows:0,cols:0}:0,page:this.isBoth()?{rows:0,cols:0}:0,numItemsInViewport:this.isBoth()?{rows:0,cols:0}:0,lastScrollPos:this.isBoth()?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems(t){this.d_numToleratedItems=t},loading(t){this.d_loading=t},items(t,n){(!n||n.length!==(t||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize(){this.init(),this.calculateAutoSize()},orientation(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight(){this.init(),this.calculateAutoSize()},scrollWidth(){this.init(),this.calculateAutoSize()}},mounted(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated(){!this.initialized&&this.viewInit()},unmounted(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit(){tt.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.bindResizeListener(),this.defaultWidth=tt.getWidth(this.element),this.defaultHeight=tt.getHeight(this.element),this.defaultContentWidth=tt.getWidth(this.content),this.defaultContentHeight=tt.getHeight(this.content),this.initialized=!0)},init(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical(){return this.orientation==="vertical"},isHorizontal(){return this.orientation==="horizontal"},isBoth(){return this.orientation==="both"},scrollTo(t){this.lastScrollPos=this.both?{top:0,left:0}:0,this.element&&this.element.scrollTo(t)},scrollToIndex(t,n="auto"){const r=this.isBoth(),u=this.isHorizontal(),f=this.first,{numToleratedItems:d}=this.calculateNumItems(),w=this.getContentPosition(),x=this.itemSize,T=(de=0,ke)=>de<=ke?0:de,I=(de,ke,Ne)=>de*ke+Ne,$=(de=0,ke=0)=>this.scrollTo({left:de,top:ke,behavior:n});let F=r?{rows:0,cols:0}:0,H=!1;r?(F={rows:T(t[0],d[0]),cols:T(t[1],d[1])},$(I(F.cols,x[1],w.left),I(F.rows,x[0],w.top)),H=F.rows!==f.rows||F.cols!==f.cols):(F=T(t,d),u?$(I(F,x,w.left),0):$(0,I(F,x,w.top)),H=F!==f),this.isRangeChanged=H,this.first=F},scrollInView(t,n,r="auto"){if(n){const u=this.isBoth(),f=this.isHorizontal(),{first:d,viewport:w}=this.getRenderedRange(),x=($=0,F=0)=>this.scrollTo({left:$,top:F,behavior:r}),T=n==="to-start",I=n==="to-end";if(T){if(u)w.first.rows-d.rows>t[0]?x(w.first.cols*this.itemSize[1],(w.first.rows-1)*this.itemSize[0]):w.first.cols-d.cols>t[1]&&x((w.first.cols-1)*this.itemSize[1],w.first.rows*this.itemSize[0]);else if(w.first-d>t){const $=(w.first-1)*this.itemSize;f?x($,0):x(0,$)}}else if(I){if(u)w.last.rows-d.rows<=t[0]+1?x(w.first.cols*this.itemSize[1],(w.first.rows+1)*this.itemSize[0]):w.last.cols-d.cols<=t[1]+1&&x((w.first.cols+1)*this.itemSize[1],w.first.rows*this.itemSize[0]);else if(w.last-d<=t+1){const $=(w.first+1)*this.itemSize;f?x($,0):x(0,$)}}}else this.scrollToIndex(t,r)},getRenderedRange(){const t=(u,f)=>Math.floor(u/(f||u));let n=this.first,r=0;if(this.element){const u=this.isBoth(),f=this.isHorizontal(),{scrollTop:d,scrollLeft:w}=this.element.scrollTop;u?(n={rows:t(d,this.itemSize[0]),cols:t(w,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols}):(n=t(f?w:d,this.itemSize),r=n+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems(){const t=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,u=this.getContentPosition(),f=this.element?this.element.offsetWidth-u.left:0,d=this.element?this.element.offsetHeight-u.top:0,w=($,F)=>Math.ceil($/(F||$)),x=$=>Math.ceil($/2),T=t?{rows:w(d,r[0]),cols:w(f,r[1])}:w(n?f:d,r),I=this.d_numToleratedItems||(t?[x(T.rows),x(T.cols)]:x(T));return{numItemsInViewport:T,numToleratedItems:I}},calculateOptions(){const t=this.isBoth(),n=this.first,{numItemsInViewport:r,numToleratedItems:u}=this.calculateNumItems(),f=(w,x,T,I=!1)=>this.getLast(w+x+(w<T?2:3)*T,I),d=t?{rows:f(n.rows,r.rows,u[0]),cols:f(n.cols,r.cols,u[1],!0)}:f(n,r,u);this.last=d,this.numItemsInViewport=r,this.d_numToleratedItems=u,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=t?Array.from({length:r.rows}).map(()=>Array.from({length:r.cols})):Array.from({length:r})),this.lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this.step?t?{rows:0,cols:n.cols}:0:n,last:Math.min(this.step?this.step:d,this.items.length)},this.$emit("lazy-load",this.lazyLoadState)})},calculateAutoSize(){this.autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.content){const t=this.isBoth(),n=this.isHorizontal(),r=this.isVertical();this.content.style.minHeight=this.content.style.minWidth="auto",this.content.style.position="relative",this.element.style.contain="none";const[u,f]=[tt.getWidth(this.content),tt.getHeight(this.content)];u!==this.defaultContentWidth&&(this.element.style.width=""),f!==this.defaultContentHeight&&(this.element.style.height="");const[d,w]=[tt.getWidth(this.element),tt.getHeight(this.element)];(t||n)&&(this.element.style.width=d<this.defaultWidth?d+"px":this.scrollWidth||this.defaultWidth+"px"),(t||r)&&(this.element.style.height=w<this.defaultHeight?w+"px":this.scrollHeight||this.defaultHeight+"px"),this.content.style.minHeight=this.content.style.minWidth="",this.content.style.position="",this.element.style.contain=""}})},getLast(t=0,n){return this.items?Math.min(n?(this.columns||this.items[0]).length:this.items.length,t):0},getContentPosition(){if(this.content){const t=getComputedStyle(this.content),n=parseFloat(t.paddingLeft)+Math.max(parseFloat(t.left)||0,0),r=parseFloat(t.paddingRight)+Math.max(parseFloat(t.right)||0,0),u=parseFloat(t.paddingTop)+Math.max(parseFloat(t.top)||0,0),f=parseFloat(t.paddingBottom)+Math.max(parseFloat(t.bottom)||0,0);return{left:n,right:r,top:u,bottom:f,x:n+r,y:u+f}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize(){if(this.element){const t=this.isBoth(),n=this.isHorizontal(),r=this.element.parentElement,u=this.scrollWidth||`${this.element.offsetWidth||r.offsetWidth}px`,f=this.scrollHeight||`${this.element.offsetHeight||r.offsetHeight}px`,d=(w,x)=>this.element.style[w]=x;t||n?(d("height",f),d("width",u)):d("height",f)}},setSpacerSize(){const t=this.items;if(t){const n=this.isBoth(),r=this.isHorizontal(),u=this.getContentPosition(),f=(d,w,x,T=0)=>this.spacerStyle={...this.spacerStyle,[`${d}`]:(w||[]).length*x+T+"px"};n?(f("height",t,this.itemSize[0],u.y),f("width",this.columns||t[1],this.itemSize[1],u.x)):r?f("width",this.columns||t,this.itemSize,u.x):f("height",t,this.itemSize,u.y)}},setContentPosition(t){if(this.content&&!this.appendOnly){const n=this.isBoth(),r=this.isHorizontal(),u=t?t.first:this.first,f=(w,x)=>w*x,d=(w=0,x=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${w}px, ${x}px, 0)`};if(n)d(f(u.cols,this.itemSize[1]),f(u.rows,this.itemSize[0]));else{const w=f(u,this.itemSize);r?d(w,0):d(0,w)}}},onScrollPositionChange(t){const n=t.target,r=this.isBoth(),u=this.isHorizontal(),f=this.getContentPosition(),d=(xe,Fe)=>xe?xe>Fe?xe-Fe:xe:0,w=(xe,Fe)=>Math.floor(xe/(Fe||xe)),x=(xe,Fe,rt,ne,vt,Ue)=>xe<=vt?vt:Ue?rt-ne-vt:Fe+vt-1,T=(xe,Fe,rt,ne,vt,Ue,We)=>xe<=Ue?0:Math.max(0,We?xe<Fe?rt:xe-Ue:xe>Fe?rt:xe-2*Ue),I=(xe,Fe,rt,ne,vt,Ue)=>{let We=Fe+ne+2*vt;return xe>=vt&&(We+=vt+1),this.getLast(We,Ue)},$=d(n.scrollTop,f.top),F=d(n.scrollLeft,f.left);let H=r?{rows:0,cols:0}:0,de=this.last,ke=!1,Ne=this.lastScrollPos;if(r){const xe=this.lastScrollPos.top<=$,Fe=this.lastScrollPos.left<=F;if(!this.appendOnly||this.appendOnly&&(xe||Fe)){const rt={rows:w($,this.itemSize[0]),cols:w(F,this.itemSize[1])},ne={rows:x(rt.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],xe),cols:x(rt.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],Fe)};H={rows:T(rt.rows,ne.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],xe),cols:T(rt.cols,ne.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],Fe)},de={rows:I(rt.rows,H.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:I(rt.cols,H.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},ke=H.rows!==this.first.rows||de.rows!==this.last.rows||H.cols!==this.first.cols||de.cols!==this.last.cols||this.isRangeChanged,Ne={top:$,left:F}}}else{const xe=u?F:$,Fe=this.lastScrollPos<=xe;if(!this.appendOnly||this.appendOnly&&Fe){const rt=w(xe,this.itemSize),ne=x(rt,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,Fe);H=T(rt,ne,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,Fe),de=I(rt,H,this.last,this.numItemsInViewport,this.d_numToleratedItems),ke=H!==this.first||de!==this.last||this.isRangeChanged,Ne=xe}}return{first:H,last:de,isRangeChanged:ke,scrollPos:Ne}},onScrollChange(t){const{first:n,last:r,isRangeChanged:u,scrollPos:f}=this.onScrollPositionChange(t);if(u){const d={first:n,last:r};if(this.setContentPosition(d),this.first=n,this.last=r,this.lastScrollPos=f,this.$emit("scroll-index-change",d),this.lazy&&this.isPageChanged(n)){const w={first:this.step?Math.min(this.getPageByFirst(n)*this.step,this.items.length-this.step):n,last:Math.min(this.step?(this.getPageByFirst(n)+1)*this.step:r,this.items.length)};(this.lazyLoadState.first!==w.first||this.lazyLoadState.last!==w.last)&&this.$emit("lazy-load",w),this.lazyLoadState=w}}},onScroll(t){if(this.$emit("scroll",t),this.delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:n}=this.onScrollPositionChange(t);(n||(this.step?this.isPageChanged():!1))&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(t),this.d_loading&&this.showLoader&&(!this.lazy||this.loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst())},this.delay)}else this.onScrollChange(t)},onResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(tt.isVisible(this.element)){const t=this.isBoth(),n=this.isVertical(),r=this.isHorizontal(),[u,f]=[tt.getWidth(this.element),tt.getHeight(this.element)],[d,w]=[u!==this.defaultWidth,f!==this.defaultHeight];(t?d||w:r?d:n?w:!1)&&(this.d_numToleratedItems=this.numToleratedItems,this.defaultWidth=u,this.defaultHeight=f,this.defaultContentWidth=tt.getWidth(this.content),this.defaultContentHeight=tt.getHeight(this.content),this.init())}},this.resizeDelay)},bindResizeListener(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions(t){const n=(this.items||[]).length,r=this.isBoth()?this.first.rows+t:this.first+t;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions(t,n){let r=this.loaderArr.length;return{index:t,count:r,first:t===0,last:t===r-1,even:t%2===0,odd:t%2!==0,...n}},getPageByFirst(t){return Math.floor(((t!=null?t:this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged(t){return this.step?this.page!==this.getPageByFirst(t!=null?t:this.first):!0},setContentEl(t){this.content=t||this.content||tt.findSingle(this.element,".p-virtualscroller-content")},elementRef(t){this.element=t},contentRef(t){this.content=t}},computed:{containerClass(){return["p-virtualscroller",{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()},this.class]},contentClass(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems(){return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(t=>this.columns?t:t.slice(this.appendOnly?0:this.first.cols,this.last.cols)):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns(){if(this.columns){const t=this.isBoth(),n=this.isHorizontal();if(t||n)return this.d_loading&&this.loaderDisabled?t?this.loaderArr[0]:this.loaderArr:this.columns.slice(t?this.first.cols:this.first,t?this.last.cols:this.last)}return this.columns}}};const pxe=["tabindex"],gxe={key:1,class:"p-virtualscroller-loading-icon pi pi-spinner pi-spin"};function yxe(t,n,r,u,f,d){return r.disabled?(be(),Le(Xn,{key:1},[Eo(t.$slots,"default"),Eo(t.$slots,"content",{items:r.items,rows:r.items,columns:d.loadedColumns})],64)):(be(),Le("div",{key:0,ref:d.elementRef,class:cn(d.containerClass),tabindex:r.tabindex,style:xr(r.style),onScroll:n[0]||(n[0]=(...w)=>d.onScroll&&d.onScroll(...w))},[Eo(t.$slots,"content",{styleClass:d.contentClass,items:d.loadedItems,getItemOptions:d.getOptions,loading:f.d_loading,getLoaderOptions:d.getLoaderOptions,itemSize:r.itemSize,rows:d.loadedRows,columns:d.loadedColumns,contentRef:d.contentRef,spacerStyle:f.spacerStyle,contentStyle:f.contentStyle,vertical:d.isVertical(),horizontal:d.isHorizontal(),both:d.isBoth()},()=>[yt("div",{ref:d.contentRef,class:cn(d.contentClass),style:xr(f.contentStyle)},[(be(!0),Le(Xn,null,Ua(d.loadedItems,(w,x)=>Eo(t.$slots,"item",{key:x,item:w,options:d.getOptions(x)})),128))],6)]),r.showSpacer?(be(),Le("div",{key:0,class:"p-virtualscroller-spacer",style:xr(f.spacerStyle)},null,4)):Wt("",!0),!r.loaderDisabled&&r.showLoader&&f.d_loading?(be(),Le("div",{key:1,class:cn(d.loaderClass)},[t.$slots&&t.$slots.loader?(be(!0),Le(Xn,{key:0},Ua(f.loaderArr,(w,x)=>Eo(t.$slots,"loader",{key:x,options:d.getLoaderOptions(x,d.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})),128)):(be(),Le("i",gxe))],2)):Wt("",!0)],46,pxe))}function bxe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var vxe=`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}
.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    /* contain: content; */
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}
.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}
.p-virtualscroller .p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}
.p-virtualscroller-loader.p-component-overlay {
    display: flex;
    align-items: center;
    justify-content: center;
}
.p-virtualscroller-loading-icon {
    font-size: 2rem;
}
.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

/* Inline */
.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`;bxe(vxe);Tee.render=yxe;var v4={name:"Dropdown",emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:String,default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:"pi pi-times"},dropdownIcon:{type:String,default:"pi pi-chevron-down"},filterIcon:{type:String,default:"pi pi-search"},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!0},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},"aria-label":{type:String,default:null},"aria-labelledby":{type:String,default:null}},outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,focusOnHover:!1,data(){return{id:this.$attrs.id,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(t){this.id=t||Ud()},modelValue(){this.isModelValueChanged=!0},options(){this.autoUpdateModel()}},mounted(){this.id=this.id||Ud(),this.autoUpdateModel()},updated(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(mi.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex(t,n){return this.virtualScrollerDisabled?t:n&&n(t).index},getOptionLabel(t){return this.optionLabel?In.resolveFieldData(t,this.optionLabel):t},getOptionValue(t){return this.optionValue?In.resolveFieldData(t,this.optionValue):t},getOptionRenderKey(t,n){return(this.dataKey?In.resolveFieldData(t,this.dataKey):this.getOptionLabel(t))+"_"+n},isOptionDisabled(t){return this.optionDisabled?In.resolveFieldData(t,this.optionDisabled):!1},isOptionGroup(t){return this.optionGroupLabel&&t.optionGroup&&t.group},getOptionGroupLabel(t){return In.resolveFieldData(t,this.optionGroupLabel)},getOptionGroupChildren(t){return In.resolveFieldData(t,this.optionGroupChildren)},getAriaPosInset(t){return(this.optionGroupLabel?t-this.visibleOptions.slice(0,t).filter(n=>this.isOptionGroup(n)).length:t)+1},show(t){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,t&&tt.focus(this.$refs.focusInput)},hide(t){const n=()=>{this.$emit("before-hide"),this.overlayVisible=!1,this.focusedOptionIndex=-1,this.searchValue="",this.resetFilterOnHide&&(this.filterValue=null),t&&tt.focus(this.$refs.focusInput)};setTimeout(()=>{n()},0)},onFocus(t){this.disabled||(this.focused=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,this.overlayVisible&&this.scrollInView(this.focusedOptionIndex),this.$emit("focus",t))},onBlur(t){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",t)},onKeyDown(t){if(this.disabled){t.preventDefault();return}const n=t.metaKey||t.ctrlKey;switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,this.editable);break;case"Home":this.onHomeKey(t,this.editable);break;case"End":this.onEndKey(t,this.editable);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Space":this.onSpaceKey(t,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"Backspace":this.onBackspaceKey(t,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&In.isPrintableCharacter(t.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(t,t.key));break}},onEditableInput(t){const n=t.target.value;this.searchValue="",!this.searchOptions(t,n)&&(this.focusedOptionIndex=-1),this.updateModel(t,n)},onContainerClick(t){this.disabled||this.loading||tt.hasClass(t.target,"p-dropdown-clear-icon")||t.target.tagName==="INPUT"||(!this.overlay||!this.overlay.contains(t.target))&&(this.overlayVisible?this.hide(!0):this.show(!0))},onClearClick(t){this.updateModel(t,null)},onFirstHiddenFocus(t){const n=t.relatedTarget===this.$refs.focusInput?tt.getFirstFocusableElement(this.overlay,":not(.p-hidden-focusable)"):this.$refs.focusInput;tt.focus(n)},onLastHiddenFocus(t){const n=t.relatedTarget===this.$refs.focusInput?tt.getLastFocusableElement(this.overlay,":not(.p-hidden-focusable)"):this.$refs.focusInput;tt.focus(n)},onOptionSelect(t,n,r=!0){const u=this.getOptionValue(n);this.updateModel(t,u),r&&this.hide(!0)},onOptionMouseMove(t,n){this.focusOnHover&&this.changeFocusedOptionIndex(t,n)},onFilterChange(t){const n=t.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:t,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,!0);break;case"Home":this.onHomeKey(t,!0);break;case"End":this.onEndKey(t,!0);break;case"Enter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t,!0);break}},onFilterBlur(){this.focusedOptionIndex=-1},onFilterUpdated(){this.overlayVisible&&this.alignOverlay()},onOverlayClick(t){jy.emit("overlay-click",{originalEvent:t,target:this.$el})},onOverlayKeyDown(t){switch(t.code){case"Escape":this.onEscapeKey(t);break}},onArrowDownKey(t){const n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(t,n),!this.overlayVisible&&this.show(),t.preventDefault()},onArrowUpKey(t,n=!1){if(t.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(t,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),t.preventDefault();else{const r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(t,r),!this.overlayVisible&&this.show(),t.preventDefault()}},onArrowLeftKey(t,n=!1){n&&(this.focusedOptionIndex=-1)},onHomeKey(t,n=!1){n?(t.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex=-1):(this.changeFocusedOptionIndex(t,this.findFirstOptionIndex()),!this.overlayVisible&&this.show()),t.preventDefault()},onEndKey(t,n=!1){if(n){const r=t.currentTarget,u=r.value.length;r.setSelectionRange(u,u),this.focusedOptionIndex=-1}else this.changeFocusedOptionIndex(t,this.findLastOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()},onPageUpKey(t){this.scrollInView(0),t.preventDefault()},onPageDownKey(t){this.scrollInView(this.visibleOptions.length-1),t.preventDefault()},onEnterKey(t){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(t,this.visibleOptions[this.focusedOptionIndex]),this.hide()):this.onArrowDownKey(t),t.preventDefault()},onSpaceKey(t,n=!1){!n&&this.onEnterKey(t)},onEscapeKey(t){this.overlayVisible&&this.hide(!0),t.preventDefault()},onTabKey(t,n=!1){n||(this.overlayVisible&&this.hasFocusableElements()?(tt.focus(this.$refs.firstHiddenFocusableElementOnOverlay),t.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(t,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey(t,n=!1){n&&!this.overlayVisible&&this.show()},onOverlayEnter(t){mi.set("overlay",t,this.$primevue.config.zIndex.overlay),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&tt.focus(this.$refs.filterInput)},onOverlayAfterEnter(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave(t){mi.clear(t)},alignOverlay(){this.appendTo==="self"?tt.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=tt.getOuterWidth(this.$el)+"px",tt.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=t=>{this.overlayVisible&&this.overlay&&!this.$el.contains(t.target)&&!this.overlay.contains(t.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new o7(this.$refs.container,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!tt.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},hasFocusableElements(){return tt.getFocusableElements(this.overlay,":not(.p-hidden-focusable)").length>0},isOptionMatched(t){return this.isValidOption(t)&&this.getOptionLabel(t).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))},isValidOption(t){return t&&!(this.isOptionDisabled(t)||this.isOptionGroup(t))},isValidSelectedOption(t){return this.isValidOption(t)&&this.isSelected(t)},isSelected(t){return this.isValidOption(t)&&In.equals(this.modelValue,this.getOptionValue(t),this.equalityKey)},findFirstOptionIndex(){return this.visibleOptions.findIndex(t=>this.isValidOption(t))},findLastOptionIndex(){return In.findLastIndex(this.visibleOptions,t=>this.isValidOption(t))},findNextOptionIndex(t){const n=t<this.visibleOptions.length-1?this.visibleOptions.slice(t+1).findIndex(r=>this.isValidOption(r)):-1;return n>-1?n+t+1:t},findPrevOptionIndex(t){const n=t>0?In.findLastIndex(this.visibleOptions.slice(0,t),r=>this.isValidOption(r)):-1;return n>-1?n:t},findSelectedOptionIndex(){return this.hasSelectedOption?this.visibleOptions.findIndex(t=>this.isValidSelectedOption(t)):-1},findFirstFocusedOptionIndex(){const t=this.findSelectedOptionIndex();return t<0?this.findFirstOptionIndex():t},findLastFocusedOptionIndex(){const t=this.findSelectedOptionIndex();return t<0?this.findLastOptionIndex():t},searchOptions(t,n){this.searchValue=(this.searchValue||"")+n;let r=-1,u=!1;return this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(f=>this.isOptionMatched(f)),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(f=>this.isOptionMatched(f)):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(f=>this.isOptionMatched(f)),r!==-1&&(u=!0),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(t,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),u},changeFocusedOptionIndex(t,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(t,this.visibleOptions[n],!1))},scrollInView(t=-1){const n=t!==-1?`${this.id}_${t}`:this.focusedOptionId,r=tt.findSingle(this.list,`li[id="${n}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"start"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroller&&this.virtualScroller.scrollToIndex(t!==-1?t:this.focusedOptionIndex)},0)},autoUpdateModel(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel(t,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:t,value:n})},flatOptions(t){return(t||[]).reduce((n,r,u)=>{n.push({optionGroup:r,group:!0,index:u});const f=this.getOptionGroupChildren(r);return f&&f.forEach(d=>n.push(d)),n},[])},overlayRef(t){this.overlay=t},listRef(t,n){this.list=t,n&&n(t)},virtualScrollerRef(t){this.virtualScroller=t}},computed:{containerClass(){return["p-dropdown p-component p-inputwrapper",{"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-overlay-open":this.overlayVisible}]},inputStyleClass(){return["p-dropdown-label p-inputtext",this.inputClass,{"p-placeholder":!this.editable&&this.label===this.placeholder,"p-dropdown-label-empty":!this.editable&&!this.$slots.value&&(this.label==="p-emptylabel"||this.label.length===0)}]},panelStyleClass(){return["p-dropdown-panel p-component",this.panelClass,{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},dropdownIconClass(){return["p-dropdown-trigger-icon",this.loading?this.loadingIcon:this.dropdownIcon]},visibleOptions(){const t=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){const n=iJ.filter(t,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){const r=this.options||[],u=[];return r.forEach(f=>{const w=this.getOptionGroupChildren(f).filter(x=>n.includes(x));w.length>0&&u.push({...f,[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...w]})}),this.flatOptions(u)}return n}return t},hasSelectedOption(){return In.isNotEmpty(this.modelValue)},label(){const t=this.findSelectedOptionIndex();return t!==-1?this.getOptionLabel(this.visibleOptions[t]):this.placeholder||"p-emptylabel"},editableInputValue(){const t=this.findSelectedOptionIndex();return t!==-1?this.getOptionLabel(this.visibleOptions[t]):this.modelValue||""},equalityKey(){return this.optionValue?null:this.dataKey},searchFields(){return this.filterFields||[this.optionLabel]},filterResultMessageText(){return In.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},focusedOptionId(){return this.focusedOptionIndex!==-1?`${this.id}_${this.focusedOptionIndex}`:null},ariaSetSize(){return this.visibleOptions.filter(t=>!this.isOptionGroup(t)).length},virtualScrollerDisabled(){return!this.virtualScrollerOptions}},directives:{ripple:qu},components:{VirtualScroller:Tee,Portal:k1}};const wxe=["id"],_xe=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant"],kxe=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],Cxe={class:"p-dropdown-trigger"},Sxe={key:0,class:"p-dropdown-header"},xxe={class:"p-dropdown-filter-container"},Exe=["value","placeholder","aria-owns","aria-activedescendant"],Txe={role:"status","aria-live":"polite",class:"p-hidden-accessible"},Rxe=["id"],Axe=["id"],Ixe=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove"],Oxe={key:0,class:"p-dropdown-empty-message",role:"option"},Dxe={key:1,class:"p-dropdown-empty-message",role:"option"},Mxe={key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},Pxe={role:"status","aria-live":"polite",class:"p-hidden-accessible"};function zxe(t,n,r,u,f,d){const w=Vn("VirtualScroller"),x=Vn("Portal"),T=gl("ripple");return be(),Le("div",{ref:"container",id:f.id,class:cn(d.containerClass),onClick:n[16]||(n[16]=(...I)=>d.onContainerClick&&d.onContainerClick(...I))},[r.editable?(be(),Le("input",hr({key:0,ref:"focusInput",id:r.inputId,type:"text",style:r.inputStyle,class:d.inputStyleClass,value:d.editableInputValue,placeholder:r.placeholder,tabindex:r.disabled?-1:r.tabindex,disabled:r.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":f.overlayVisible,"aria-controls":f.id+"_list","aria-activedescendant":f.focused?d.focusedOptionId:void 0,onFocus:n[0]||(n[0]=(...I)=>d.onFocus&&d.onFocus(...I)),onBlur:n[1]||(n[1]=(...I)=>d.onBlur&&d.onBlur(...I)),onKeydown:n[2]||(n[2]=(...I)=>d.onKeyDown&&d.onKeyDown(...I)),onInput:n[3]||(n[3]=(...I)=>d.onEditableInput&&d.onEditableInput(...I))},r.inputProps),null,16,_xe)):(be(),Le("span",hr({key:1,ref:"focusInput",id:r.inputId,style:r.inputStyle,class:d.inputStyleClass,tabindex:r.disabled?-1:r.tabindex,role:"combobox","aria-label":t.ariaLabel||(d.label==="p-emptylabel"?void 0:d.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":f.overlayVisible,"aria-controls":f.id+"_list","aria-activedescendant":f.focused?d.focusedOptionId:void 0,"aria-disabled":r.disabled,onFocus:n[4]||(n[4]=(...I)=>d.onFocus&&d.onFocus(...I)),onBlur:n[5]||(n[5]=(...I)=>d.onBlur&&d.onBlur(...I)),onKeydown:n[6]||(n[6]=(...I)=>d.onKeyDown&&d.onKeyDown(...I))},r.inputProps),[Eo(t.$slots,"value",{value:r.modelValue,placeholder:r.placeholder},()=>[Wu(Xo(d.label==="p-emptylabel"?"\xA0":d.label||"empty"),1)])],16,kxe)),r.showClear&&r.modelValue!=null?(be(),Le("i",hr({key:2,class:["p-dropdown-clear-icon",r.clearIcon],onClick:n[7]||(n[7]=(...I)=>d.onClearClick&&d.onClearClick(...I))},r.clearIconProps),null,16)):Wt("",!0),yt("div",Cxe,[Eo(t.$slots,"indicator",{},()=>[yt("span",{class:cn(d.dropdownIconClass),"aria-hidden":"true"},null,2)])]),Gn(x,{appendTo:r.appendTo},{default:Ms(()=>[Gn(Lm,{name:"p-connected-overlay",onEnter:d.onOverlayEnter,onAfterEnter:d.onOverlayAfterEnter,onLeave:d.onOverlayLeave,onAfterLeave:d.onOverlayAfterLeave},{default:Ms(()=>[f.overlayVisible?(be(),Le("div",hr({key:0,ref:d.overlayRef,style:r.panelStyle,class:d.panelStyleClass,onClick:n[14]||(n[14]=(...I)=>d.onOverlayClick&&d.onOverlayClick(...I)),onKeydown:n[15]||(n[15]=(...I)=>d.onOverlayKeyDown&&d.onOverlayKeyDown(...I))},r.panelProps),[yt("span",{ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:n[8]||(n[8]=(...I)=>d.onFirstHiddenFocus&&d.onFirstHiddenFocus(...I))},null,544),Eo(t.$slots,"header",{value:r.modelValue,options:d.visibleOptions}),r.filter?(be(),Le("div",Sxe,[yt("div",xxe,[yt("input",hr({ref:"filterInput",type:"text",value:f.filterValue,onVnodeUpdated:n[9]||(n[9]=(...I)=>d.onFilterUpdated&&d.onFilterUpdated(...I)),class:"p-dropdown-filter p-inputtext p-component",placeholder:r.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":f.id+"_list","aria-activedescendant":d.focusedOptionId,onKeydown:n[10]||(n[10]=(...I)=>d.onFilterKeyDown&&d.onFilterKeyDown(...I)),onBlur:n[11]||(n[11]=(...I)=>d.onFilterBlur&&d.onFilterBlur(...I)),onInput:n[12]||(n[12]=(...I)=>d.onFilterChange&&d.onFilterChange(...I))},r.filterInputProps),null,16,Exe),yt("span",{class:cn(["p-dropdown-filter-icon",r.filterIcon])},null,2)]),yt("span",Txe,Xo(d.filterResultMessageText),1)])):Wt("",!0),yt("div",{class:"p-dropdown-items-wrapper",style:xr({"max-height":d.virtualScrollerDisabled?r.scrollHeight:""})},[Gn(w,hr({ref:d.virtualScrollerRef},r.virtualScrollerOptions,{items:d.visibleOptions,style:{height:r.scrollHeight},tabindex:-1,disabled:d.virtualScrollerDisabled}),XX({content:Ms(({styleClass:I,contentRef:$,items:F,getItemOptions:H,contentStyle:de,itemSize:ke})=>[yt("ul",{ref:Ne=>d.listRef(Ne,$),id:f.id+"_list",class:cn(["p-dropdown-items",I]),style:xr(de),role:"listbox"},[(be(!0),Le(Xn,null,Ua(F,(Ne,xe)=>(be(),Le(Xn,{key:d.getOptionRenderKey(Ne,d.getOptionIndex(xe,H))},[d.isOptionGroup(Ne)?(be(),Le("li",{key:0,id:f.id+"_"+d.getOptionIndex(xe,H),style:xr({height:ke?ke+"px":void 0}),class:"p-dropdown-item-group",role:"option"},[Eo(t.$slots,"optiongroup",{option:Ne.optionGroup,index:d.getOptionIndex(xe,H)},()=>[Wu(Xo(d.getOptionGroupLabel(Ne.optionGroup)),1)])],12,Axe)):Er((be(),Le("li",{key:1,id:f.id+"_"+d.getOptionIndex(xe,H),style:xr({height:ke?ke+"px":void 0}),class:cn(["p-dropdown-item",{"p-highlight":d.isSelected(Ne),"p-focus":f.focusedOptionIndex===d.getOptionIndex(xe,H),"p-disabled":d.isOptionDisabled(Ne)}]),role:"option","aria-label":d.getOptionLabel(Ne),"aria-selected":d.isSelected(Ne),"aria-disabled":d.isOptionDisabled(Ne),"aria-setsize":d.ariaSetSize,"aria-posinset":d.getAriaPosInset(d.getOptionIndex(xe,H)),onClick:Fe=>d.onOptionSelect(Fe,Ne),onMousemove:Fe=>d.onOptionMouseMove(Fe,d.getOptionIndex(xe,H))},[Eo(t.$slots,"option",{option:Ne,index:d.getOptionIndex(xe,H)},()=>[Wu(Xo(d.getOptionLabel(Ne)),1)])],46,Ixe)),[[T]])],64))),128)),f.filterValue&&(!F||F&&F.length===0)?(be(),Le("li",Oxe,[Eo(t.$slots,"emptyfilter",{},()=>[Wu(Xo(d.emptyFilterMessageText),1)])])):!r.options||r.options&&r.options.length===0?(be(),Le("li",Dxe,[Eo(t.$slots,"empty",{},()=>[Wu(Xo(d.emptyMessageText),1)])])):Wt("",!0)],14,Rxe)]),_:2},[t.$slots.loader?{name:"loader",fn:Ms(({options:I})=>[Eo(t.$slots,"loader",{options:I})]),key:"0"}:void 0]),1040,["items","style","disabled"])],4),Eo(t.$slots,"footer",{value:r.modelValue,options:d.visibleOptions}),!r.options||r.options&&r.options.length===0?(be(),Le("span",Mxe,Xo(d.emptyMessageText),1)):Wt("",!0),yt("span",Pxe,Xo(d.selectedMessageText),1),yt("span",{ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:n[13]||(n[13]=(...I)=>d.onLastHiddenFocus&&d.onLastHiddenFocus(...I))},null,544)],16)):Wt("",!0)]),_:3},8,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo"])],10,wxe)}function Nxe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var Lxe=`
.p-dropdown {
    display: inline-flex;
    cursor: pointer;
    position: relative;
    user-select: none;
}
.p-dropdown-clear-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}
.p-dropdown-trigger {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}
.p-dropdown-label {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    flex: 1 1 auto;
    width: 1%;
    text-overflow: ellipsis;
    cursor: pointer;
}
.p-dropdown-label-empty {
    overflow: hidden;
    opacity: 0;
}
input.p-dropdown-label {
    cursor: default;
}
.p-dropdown .p-dropdown-panel {
    min-width: 100%;
}
.p-dropdown-panel {
    position: absolute;
    top: 0;
    left: 0;
}
.p-dropdown-items-wrapper {
    overflow: auto;
}
.p-dropdown-item {
    cursor: pointer;
    font-weight: normal;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
}
.p-dropdown-item-group {
    cursor: auto;
}
.p-dropdown-items {
    margin: 0;
    padding: 0;
    list-style-type: none;
}
.p-dropdown-filter {
    width: 100%;
}
.p-dropdown-filter-container {
    position: relative;
}
.p-dropdown-filter-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}
.p-fluid .p-dropdown {
    display: flex;
}
.p-fluid .p-dropdown .p-dropdown-label {
    width: 1%;
}
`;Nxe(Lxe);v4.render=zxe;var Ace={name:"InputNumber",emits:["update:modelValue","input","focus","blur"],props:{modelValue:{type:Number,default:null},format:{type:Boolean,default:!0},showButtons:{type:Boolean,default:!1},buttonLayout:{type:String,default:"stacked"},incrementButtonClass:{type:String,default:null},decrementButtonClass:{type:String,default:null},incrementButtonIcon:{type:String,default:"pi pi-angle-up"},decrementButtonIcon:{type:String,default:"pi pi-angle-down"},locale:{type:String,default:void 0},localeMatcher:{type:String,default:void 0},mode:{type:String,default:"decimal"},prefix:{type:String,default:null},suffix:{type:String,default:null},currency:{type:String,default:void 0},currencyDisplay:{type:String,default:void 0},useGrouping:{type:Boolean,default:!0},minFractionDigits:{type:Number,default:void 0},maxFractionDigits:{type:Number,default:void 0},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:1},allowEmpty:{type:Boolean,default:!0},highlightOnFocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},incrementButtonProps:{type:null,default:null},decrementButtonProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},numberFormat:null,_numeral:null,_decimal:null,_group:null,_minusSign:null,_currency:null,_suffix:null,_prefix:null,_index:null,groupChar:"",isSpecialChar:null,prefixChar:null,suffixChar:null,timer:null,data(){return{d_modelValue:this.modelValue,focused:!1}},watch:{modelValue(t){this.d_modelValue=t},locale(t,n){this.updateConstructParser(t,n)},localeMatcher(t,n){this.updateConstructParser(t,n)},mode(t,n){this.updateConstructParser(t,n)},currency(t,n){this.updateConstructParser(t,n)},currencyDisplay(t,n){this.updateConstructParser(t,n)},useGrouping(t,n){this.updateConstructParser(t,n)},minFractionDigits(t,n){this.updateConstructParser(t,n)},maxFractionDigits(t,n){this.updateConstructParser(t,n)},suffix(t,n){this.updateConstructParser(t,n)},prefix(t,n){this.updateConstructParser(t,n)}},created(){this.constructParser()},methods:{getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}},constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const t=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),n=new Map(t.map((r,u)=>[r,u]));this._numeral=new RegExp(`[${t.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>n.get(r)},updateConstructParser(t,n){t!==n&&this.constructParser()},escapeRegExp(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},getDecimalExpression(){const t=new Intl.NumberFormat(this.locale,{...this.getOptions(),useGrouping:!1});return new RegExp(`[${t.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")},getGroupingExpression(){const t=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=t.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")},getMinusSignExpression(){const t=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${t.format(-1).trim().replace(this._numeral,"")}]`,"g")},getCurrencyExpression(){if(this.currency){const t=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${t.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")},getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=t.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")},getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=t.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")},formatValue(t){if(t!=null){if(t==="-")return t;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(t);return this.prefix&&(r=this.prefix+r),this.suffix&&(r=r+this.suffix),r}return t.toString()}return""},parseValue(t){let n=t.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(n){if(n==="-")return n;let r=+n;return isNaN(r)?null:r}return null},repeat(t,n,r){if(this.readonly)return;let u=n||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(t,40,r)},u),this.spin(t,r)},spin(t,n){if(this.$refs.input){let r=this.step*n,u=this.parseValue(this.$refs.input.$el.value)||0,f=this.validateValue(u+r);this.updateInput(f,null,"spin"),this.updateModel(t,f),this.handleOnInput(t,u,f)}},onUpButtonMouseDown(t){this.disabled||(this.$refs.input.$el.focus(),this.repeat(t,null,1),t.preventDefault())},onUpButtonMouseUp(){this.disabled||this.clearTimer()},onUpButtonMouseLeave(){this.disabled||this.clearTimer()},onUpButtonKeyUp(){this.disabled||this.clearTimer()},onUpButtonKeyDown(t){(t.keyCode===32||t.keyCode===13)&&this.repeat(t,null,1)},onDownButtonMouseDown(t){this.disabled||(this.$refs.input.$el.focus(),this.repeat(t,null,-1),t.preventDefault())},onDownButtonMouseUp(){this.disabled||this.clearTimer()},onDownButtonMouseLeave(){this.disabled||this.clearTimer()},onDownButtonKeyUp(){this.disabled||this.clearTimer()},onDownButtonKeyDown(t){(t.keyCode===32||t.keyCode===13)&&this.repeat(t,null,-1)},onUserInput(){this.isSpecialChar&&(this.$refs.input.$el.value=this.lastValue),this.isSpecialChar=!1},onInputKeyDown(t){if(this.readonly)return;if(this.lastValue=t.target.value,t.shiftKey||t.altKey){this.isSpecialChar=!0;return}let n=t.target.selectionStart,r=t.target.selectionEnd,u=t.target.value,f=null;switch(t.altKey&&t.preventDefault(),t.code){case"ArrowUp":this.spin(t,1),t.preventDefault();break;case"ArrowDown":this.spin(t,-1),t.preventDefault();break;case"ArrowLeft":this.isNumeralChar(u.charAt(n-1))||t.preventDefault();break;case"ArrowRight":this.isNumeralChar(u.charAt(n))||t.preventDefault();break;case"Tab":case"Enter":f=this.validateValue(this.parseValue(u)),this.$refs.input.$el.value=this.formatValue(f),this.$refs.input.$el.setAttribute("aria-valuenow",f),this.updateModel(t,f);break;case"Backspace":{if(t.preventDefault(),n===r){const d=u.charAt(n-1),{decimalCharIndex:w,decimalCharIndexWithoutPrefix:x}=this.getDecimalCharIndexes(u);if(this.isNumeralChar(d)){const T=this.getDecimalLength(u);if(this._group.test(d))this._group.lastIndex=0,f=u.slice(0,n-2)+u.slice(n-1);else if(this._decimal.test(d))this._decimal.lastIndex=0,T?this.$refs.input.$el.setSelectionRange(n-1,n-1):f=u.slice(0,n-1)+u.slice(n);else if(w>0&&n>w){const I=this.isDecimalMode()&&(this.minFractionDigits||0)<T?"":"0";f=u.slice(0,n-1)+I+u.slice(n)}else x===1?(f=u.slice(0,n-1)+"0"+u.slice(n),f=this.parseValue(f)>0?f:""):f=u.slice(0,n-1)+u.slice(n)}this.updateValue(t,f,null,"delete-single")}else f=this.deleteRange(u,n,r),this.updateValue(t,f,null,"delete-range");break}case"Delete":if(t.preventDefault(),n===r){const d=u.charAt(n),{decimalCharIndex:w,decimalCharIndexWithoutPrefix:x}=this.getDecimalCharIndexes(u);if(this.isNumeralChar(d)){const T=this.getDecimalLength(u);if(this._group.test(d))this._group.lastIndex=0,f=u.slice(0,n)+u.slice(n+2);else if(this._decimal.test(d))this._decimal.lastIndex=0,T?this.$refs.input.$el.setSelectionRange(n+1,n+1):f=u.slice(0,n)+u.slice(n+1);else if(w>0&&n>w){const I=this.isDecimalMode()&&(this.minFractionDigits||0)<T?"":"0";f=u.slice(0,n)+I+u.slice(n+1)}else x===1?(f=u.slice(0,n)+"0"+u.slice(n+1),f=this.parseValue(f)>0?f:""):f=u.slice(0,n)+u.slice(n+1)}this.updateValue(t,f,null,"delete-back-single")}else f=this.deleteRange(u,n,r),this.updateValue(t,f,null,"delete-range");break;case"Home":this.min&&(this.updateModel(t,this.min),t.preventDefault());break;case"End":this.max&&(this.updateModel(t,this.max),t.preventDefault());break}},onInputKeyPress(t){if(this.readonly)return;t.preventDefault();let n=t.which||t.keyCode,r=String.fromCharCode(n);const u=this.isDecimalSign(r),f=this.isMinusSign(r);(48<=n&&n<=57||f||u)&&this.insert(t,r,{isDecimalSign:u,isMinusSign:f})},onPaste(t){t.preventDefault();let n=(t.clipboardData||window.clipboardData).getData("Text");if(n){let r=this.parseValue(n);r!=null&&this.insert(t,r.toString())}},allowMinusSign(){return this.min===null||this.min<0},isMinusSign(t){return this._minusSign.test(t)||t==="-"?(this._minusSign.lastIndex=0,!0):!1},isDecimalSign(t){return this._decimal.test(t)?(this._decimal.lastIndex=0,!0):!1},isDecimalMode(){return this.mode==="decimal"},getDecimalCharIndexes(t){let n=t.search(this._decimal);this._decimal.lastIndex=0;const u=t.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:n,decimalCharIndexWithoutPrefix:u}},getCharIndexes(t){const n=t.search(this._decimal);this._decimal.lastIndex=0;const r=t.search(this._minusSign);this._minusSign.lastIndex=0;const u=t.search(this._suffix);this._suffix.lastIndex=0;const f=t.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:n,minusCharIndex:r,suffixCharIndex:u,currencyCharIndex:f}},insert(t,n,r={isDecimalSign:!1,isMinusSign:!1}){const u=n.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&u!==-1)return;const f=this.$refs.input.$el.selectionStart,d=this.$refs.input.$el.selectionEnd;let w=this.$refs.input.$el.value.trim();const{decimalCharIndex:x,minusCharIndex:T,suffixCharIndex:I,currencyCharIndex:$}=this.getCharIndexes(w);let F;if(r.isMinusSign)f===0&&(F=w,(T===-1||d!==0)&&(F=this.insertText(w,n,0,d)),this.updateValue(t,F,n,"insert"));else if(r.isDecimalSign)x>0&&f===x?this.updateValue(t,w,n,"insert"):x>f&&x<d?(F=this.insertText(w,n,f,d),this.updateValue(t,F,n,"insert")):x===-1&&this.maxFractionDigits&&(F=this.insertText(w,n,f,d),this.updateValue(t,F,n,"insert"));else{const H=this.numberFormat.resolvedOptions().maximumFractionDigits,de=f!==d?"range-insert":"insert";if(x>0&&f>x){if(f+n.length-(x+1)<=H){const ke=$>=f?$-1:I>=f?I:w.length;F=w.slice(0,f)+n+w.slice(f+n.length,ke)+w.slice(ke),this.updateValue(t,F,n,de)}}else F=this.insertText(w,n,f,d),this.updateValue(t,F,n,de)}},insertText(t,n,r,u){if((n==="."?n:n.split(".")).length===2){const d=t.slice(r,u).search(this._decimal);return this._decimal.lastIndex=0,d>0?t.slice(0,r)+this.formatValue(n)+t.slice(u):t||this.formatValue(n)}else return u-r===t.length?this.formatValue(n):r===0?n+t.slice(u):u===t.length?t.slice(0,r)+n:t.slice(0,r)+n+t.slice(u)},deleteRange(t,n,r){let u;return r-n===t.length?u="":n===0?u=t.slice(r):r===t.length?u=t.slice(0,n):u=t.slice(0,n)+t.slice(r),u},initCursor(){let t=this.$refs.input.$el.selectionStart,n=this.$refs.input.$el.value,r=n.length,u=null,f=(this.prefixChar||"").length;n=n.replace(this._prefix,""),t=t-f;let d=n.charAt(t);if(this.isNumeralChar(d))return t+f;let w=t-1;for(;w>=0;)if(d=n.charAt(w),this.isNumeralChar(d)){u=w+f;break}else w--;if(u!==null)this.$refs.input.$el.setSelectionRange(u+1,u+1);else{for(w=t;w<r;)if(d=n.charAt(w),this.isNumeralChar(d)){u=w+f;break}else w++;u!==null&&this.$refs.input.$el.setSelectionRange(u,u)}return u||0},onInputClick(){const t=this.$refs.input.$el.value;!this.readonly&&t!==tt.getSelection()&&this.initCursor()},isNumeralChar(t){return t.length===1&&(this._numeral.test(t)||this._decimal.test(t)||this._group.test(t)||this._minusSign.test(t))?(this.resetRegex(),!0):!1},resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0},updateValue(t,n,r,u){let f=this.$refs.input.$el.value,d=null;n!=null&&(d=this.parseValue(n),d=!d&&!this.allowEmpty?0:d,this.updateInput(d,r,u,n),this.handleOnInput(t,f,d))},handleOnInput(t,n,r){this.isValueChanged(n,r)&&this.$emit("input",{originalEvent:t,value:r,formattedValue:n})},isValueChanged(t,n){if(n===null&&t!==null)return!0;if(n!=null){let r=typeof t=="string"?this.parseValue(t):t;return n!==r}return!1},validateValue(t){return t==="-"||t==null?null:this.min!=null&&t<this.min?this.min:this.max!=null&&t>this.max?this.max:t},updateInput(t,n,r,u){n=n||"";let f=this.$refs.input.$el.value,d=this.formatValue(t),w=f.length;if(d!==u&&(d=this.concatValues(d,u)),w===0){this.$refs.input.$el.value=d,this.$refs.input.$el.setSelectionRange(0,0);const T=this.initCursor()+n.length;this.$refs.input.$el.setSelectionRange(T,T)}else{let x=this.$refs.input.$el.selectionStart,T=this.$refs.input.$el.selectionEnd;this.$refs.input.$el.value=d;let I=d.length;if(r==="range-insert"){const $=this.parseValue((f||"").slice(0,x)),H=($!==null?$.toString():"").split("").join(`(${this.groupChar})?`),de=new RegExp(H,"g");de.test(d);const ke=n.split("").join(`(${this.groupChar})?`),Ne=new RegExp(ke,"g");Ne.test(d.slice(de.lastIndex)),T=de.lastIndex+Ne.lastIndex,this.$refs.input.$el.setSelectionRange(T,T)}else if(I===w)r==="insert"||r==="delete-back-single"?this.$refs.input.$el.setSelectionRange(T+1,T+1):r==="delete-single"?this.$refs.input.$el.setSelectionRange(T-1,T-1):(r==="delete-range"||r==="spin")&&this.$refs.input.$el.setSelectionRange(T,T);else if(r==="delete-back-single"){let $=f.charAt(T-1),F=f.charAt(T),H=w-I,de=this._group.test(F);de&&H===1?T+=1:!de&&this.isNumeralChar($)&&(T+=-1*H+1),this._group.lastIndex=0,this.$refs.input.$el.setSelectionRange(T,T)}else if(f==="-"&&r==="insert"){this.$refs.input.$el.setSelectionRange(0,0);const F=this.initCursor()+n.length+1;this.$refs.input.$el.setSelectionRange(F,F)}else T=T+(I-w),this.$refs.input.$el.setSelectionRange(T,T)}this.$refs.input.$el.setAttribute("aria-valuenow",t)},concatValues(t,n){if(t&&n){let r=n.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?t.replace(this.suffixChar,"").split(this._decimal)[0]+n.replace(this.suffixChar,"").slice(r)+this.suffixChar:r!==-1?t.split(this._decimal)[0]+n.slice(r):t}return t},getDecimalLength(t){if(t){const n=t.split(this._decimal);if(n.length===2)return n[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0},updateModel(t,n){this.d_modelValue=n,this.$emit("update:modelValue",n)},onInputFocus(t){this.focused=!0,!this.disabled&&!this.readonly&&this.$refs.input.$el.value!==tt.getSelection()&&this.highlightOnFocus&&t.target.select(),this.$emit("focus",t)},onInputBlur(t){this.focused=!1;let n=t.target,r=this.validateValue(this.parseValue(n.value));this.$emit("blur",{originalEvent:t,value:n.value}),n.value=this.formatValue(r),n.setAttribute("aria-valuenow",r),this.updateModel(t,r)},clearTimer(){this.timer&&clearInterval(this.timer)},maxBoundry(){return this.d_modelValue>=this.max},minBoundry(){return this.d_modelValue<=this.min}},computed:{containerClass(){return["p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":this.filled,"p-inputwrapper-focus":this.focused,"p-inputnumber-buttons-stacked":this.showButtons&&this.buttonLayout==="stacked","p-inputnumber-buttons-horizontal":this.showButtons&&this.buttonLayout==="horizontal","p-inputnumber-buttons-vertical":this.showButtons&&this.buttonLayout==="vertical"}]},upButtonClass(){return["p-inputnumber-button p-inputnumber-button-up",this.incrementButtonClass,{"p-disabled":this.showButtons&&this.max!==null&&this.maxBoundry()}]},downButtonClass(){return["p-inputnumber-button p-inputnumber-button-down",this.decrementButtonClass,{"p-disabled":this.showButtons&&this.min!==null&&this.minBoundry()}]},filled(){return this.modelValue!=null&&this.modelValue.toString().length>0},upButtonListeners(){return{mousedown:t=>this.onUpButtonMouseDown(t),mouseup:t=>this.onUpButtonMouseUp(t),mouseleave:t=>this.onUpButtonMouseLeave(t),keydown:t=>this.onUpButtonKeyDown(t),keyup:t=>this.onUpButtonKeyUp(t)}},downButtonListeners(){return{mousedown:t=>this.onDownButtonMouseDown(t),mouseup:t=>this.onDownButtonMouseUp(t),mouseleave:t=>this.onDownButtonMouseLeave(t),keydown:t=>this.onDownButtonKeyDown(t),keyup:t=>this.onDownButtonKeyUp(t)}},formattedValue(){const t=!this.modelValue&&!this.allowEmpty?0:this.modelValue;return this.formatValue(t)},getFormatter(){return this.numberFormat}},components:{INInputText:T7,INButton:eI}};const Fxe={key:0,class:"p-inputnumber-button-group"};function Bxe(t,n,r,u,f,d){const w=Vn("INInputText"),x=Vn("INButton");return be(),Le("span",{class:cn(d.containerClass)},[Gn(w,hr({ref:"input",id:r.inputId,class:["p-inputnumber-input",r.inputClass],role:"spinbutton",style:r.inputStyle,value:d.formattedValue,"aria-valuemin":r.min,"aria-valuemax":r.max,"aria-valuenow":r.modelValue,disabled:r.disabled,readonly:r.readonly,placeholder:r.placeholder,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,onInput:d.onUserInput,onKeydown:d.onInputKeyDown,onKeypress:d.onInputKeyPress,onPaste:d.onPaste,onClick:d.onInputClick,onFocus:d.onInputFocus,onBlur:d.onInputBlur},r.inputProps),null,16,["id","class","style","value","aria-valuemin","aria-valuemax","aria-valuenow","disabled","readonly","placeholder","aria-labelledby","aria-label","onInput","onKeydown","onKeypress","onPaste","onClick","onFocus","onBlur"]),r.showButtons&&r.buttonLayout==="stacked"?(be(),Le("span",Fxe,[Gn(x,hr({class:d.upButtonClass,icon:r.incrementButtonIcon},q8(d.upButtonListeners),{disabled:r.disabled,tabindex:-1,"aria-hidden":"true"},r.incrementButtonProps),null,16,["class","icon","disabled"]),Gn(x,hr({class:d.downButtonClass,icon:r.decrementButtonIcon},q8(d.downButtonListeners),{disabled:r.disabled,tabindex:-1,"aria-hidden":"true"},r.decrementButtonProps),null,16,["class","icon","disabled"])])):Wt("",!0),r.showButtons&&r.buttonLayout!=="stacked"?(be(),Mn(x,hr({key:1,class:d.upButtonClass,icon:r.incrementButtonIcon},q8(d.upButtonListeners),{disabled:r.disabled,tabindex:-1,"aria-hidden":"true"},r.incrementButtonProps),null,16,["class","icon","disabled"])):Wt("",!0),r.showButtons&&r.buttonLayout!=="stacked"?(be(),Mn(x,hr({key:2,class:d.downButtonClass,icon:r.decrementButtonIcon},q8(d.downButtonListeners),{disabled:r.disabled,tabindex:-1,"aria-hidden":"true"},r.decrementButtonProps),null,16,["class","icon","disabled"])):Wt("",!0)],2)}function $xe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var Vxe=`
.p-inputnumber {
    display: inline-flex;
}
.p-inputnumber-button {
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 0 0 auto;
}
.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,
.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label {
    display: none;
}
.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
    padding: 0;
}
.p-inputnumber-buttons-stacked .p-inputnumber-input {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}
.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down {
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    border-bottom-left-radius: 0;
    padding: 0;
}
.p-inputnumber-buttons-stacked .p-inputnumber-button-group {
    display: flex;
    flex-direction: column;
}
.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button {
    flex: 1 1 auto;
}
.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up {
    order: 3;
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}
.p-inputnumber-buttons-horizontal .p-inputnumber-input {
    order: 2;
    border-radius: 0;
}
.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down {
    order: 1;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}
.p-inputnumber-buttons-vertical {
    flex-direction: column;
}
.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up {
    order: 1;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
    width: 100%;
}
.p-inputnumber-buttons-vertical .p-inputnumber-input {
    order: 2;
    border-radius: 0;
    text-align: center;
}
.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down {
    order: 3;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    width: 100%;
}
.p-inputnumber-input {
    flex: 1 1 auto;
}
.p-fluid .p-inputnumber {
    width: 100%;
}
.p-fluid .p-inputnumber .p-inputnumber-input {
    width: 1%;
}
.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input {
    width: 100%;
}
`;$xe(Vxe);Ace.render=Bxe;var Ice={name:"CurrentPageReport",props:{pageCount:{type:Number,default:0},currentPage:{type:Number,default:0},page:{type:Number,default:0},first:{type:Number,default:0},rows:{type:Number,default:0},totalRecords:{type:Number,default:0},template:{type:String,default:"({currentPage} of {totalPages})"}},computed:{text(){return this.template.replace("{currentPage}",this.currentPage).replace("{totalPages}",this.pageCount).replace("{first}",this.pageCount>0?this.first+1:0).replace("{last}",Math.min(this.first+this.rows,this.totalRecords)).replace("{rows}",this.rows).replace("{totalRecords}",this.totalRecords)}}};const Hxe={class:"p-paginator-current"};function Uxe(t,n,r,u,f,d){return be(),Le("span",Hxe,Xo(d.text),1)}Ice.render=Uxe;var Oce={name:"FirstPageLink",computed:{containerClass(){return["p-paginator-first p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:qu}};const jxe=yt("span",{class:"p-paginator-icon pi pi-angle-double-left"},null,-1),Wxe=[jxe];function Zxe(t,n,r,u,f,d){const w=gl("ripple");return Er((be(),Le("button",{class:cn(d.containerClass),type:"button"},Wxe,2)),[[w]])}Oce.render=Zxe;var Dce={name:"JumpToPageDropdown",emits:["page-change"],props:{page:Number,pageCount:Number,disabled:Boolean},methods:{onChange(t){this.$emit("page-change",t)}},computed:{pageOptions(){let t=[];for(let n=0;n<this.pageCount;n++)t.push({label:String(n+1),value:n});return t}},components:{JTPDropdown:v4}};function Gxe(t,n,r,u,f,d){const w=Vn("JTPDropdown");return be(),Mn(w,{modelValue:r.page,options:d.pageOptions,optionLabel:"label",optionValue:"value","onUpdate:modelValue":n[0]||(n[0]=x=>d.onChange(x)),class:"p-paginator-page-options",disabled:r.disabled},null,8,["modelValue","options","disabled"])}Dce.render=Gxe;var Mce={name:"JumpToPageInput",inheritAttrs:!1,emits:["page-change"],props:{page:Number,pageCount:Number,disabled:Boolean},data(){return{d_page:this.page}},watch:{page(t){this.d_page=t}},methods:{onChange(t){t!==this.page&&(this.d_page=t,this.$emit("page-change",t-1))}},computed:{inputArialabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.jumpToPageInputLabel:void 0}},components:{JTPInput:Ace}};function qxe(t,n,r,u,f,d){const w=Vn("JTPInput");return be(),Mn(w,{ref:"jtpInput",modelValue:f.d_page,class:"p-paginator-page-input","aria-label":d.inputArialabel,disabled:r.disabled,"onUpdate:modelValue":d.onChange},null,8,["modelValue","aria-label","disabled","onUpdate:modelValue"])}Mce.render=qxe;var Pce={name:"LastPageLink",computed:{containerClass(){return["p-paginator-last p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:qu}};const Kxe=yt("span",{class:"p-paginator-icon pi pi-angle-double-right"},null,-1),Yxe=[Kxe];function Xxe(t,n,r,u,f,d){const w=gl("ripple");return Er((be(),Le("button",{class:cn(d.containerClass),type:"button"},Yxe,2)),[[w]])}Pce.render=Xxe;var zce={name:"NextPageLink",computed:{containerClass(){return["p-paginator-next p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:qu}};const Jxe=yt("span",{class:"p-paginator-icon pi pi-angle-right"},null,-1),Qxe=[Jxe];function eEe(t,n,r,u,f,d){const w=gl("ripple");return Er((be(),Le("button",{class:cn(d.containerClass),type:"button"},Qxe,2)),[[w]])}zce.render=eEe;var Nce={name:"PageLinks",inheritAttrs:!1,emits:["click"],props:{value:Array,page:Number},methods:{onPageLinkClick(t,n){this.$emit("click",{originalEvent:t,value:n})},ariaPageLabel(t){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.pageLabel.replace(/{page}/g,t):void 0}},computed:{},directives:{ripple:qu}};const tEe={class:"p-paginator-pages"},nEe=["aria-label","aria-current","onClick"];function oEe(t,n,r,u,f,d){const w=gl("ripple");return be(),Le("span",tEe,[(be(!0),Le(Xn,null,Ua(r.value,x=>Er((be(),Le("button",{key:x,class:cn(["p-paginator-page p-paginator-element p-link",{"p-highlight":x-1===r.page}]),type:"button","aria-label":d.ariaPageLabel(x),"aria-current":x-1===r.page?"page":void 0,onClick:T=>d.onPageLinkClick(T,x)},[Wu(Xo(x),1)],10,nEe)),[[w]])),128))])}Nce.render=oEe;var Lce={name:"PrevPageLink",computed:{containerClass(){return["p-paginator-prev p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:qu}};const sEe=yt("span",{class:"p-paginator-icon pi pi-angle-left"},null,-1),rEe=[sEe];function aEe(t,n,r,u,f,d){const w=gl("ripple");return Er((be(),Le("button",{class:cn(d.containerClass),type:"button"},rEe,2)),[[w]])}Lce.render=aEe;var Fce={name:"RowsPerPageDropdown",emits:["rows-change"],props:{options:Array,rows:Number,disabled:Boolean},methods:{onChange(t){this.$emit("rows-change",t)}},computed:{rowsOptions(){let t=[];if(this.options)for(let n=0;n<this.options.length;n++)t.push({label:String(this.options[n]),value:this.options[n]});return t}},components:{RPPDropdown:v4}};function iEe(t,n,r,u,f,d){const w=Vn("RPPDropdown");return be(),Mn(w,{modelValue:r.rows,options:d.rowsOptions,optionLabel:"label",optionValue:"value","onUpdate:modelValue":n[0]||(n[0]=x=>d.onChange(x)),class:"p-paginator-rpp-options",disabled:r.disabled},null,8,["modelValue","options","disabled"])}Fce.render=iEe;var Bce={name:"Paginator",emits:["update:first","update:rows","page"],props:{totalRecords:{type:Number,default:0},rows:{type:Number,default:0},first:{type:Number,default:0},pageLinkSize:{type:Number,default:5},rowsPerPageOptions:{type:Array,default:null},template:{type:[Object,String],default:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},currentPageReportTemplate:{type:null,default:"({currentPage} of {totalPages})"},alwaysShow:{type:Boolean,default:!0}},data(){return{d_first:this.first,d_rows:this.rows}},watch:{first(t){this.d_first=t},rows(t){this.d_rows=t},totalRecords(t){this.page>0&&t&&this.d_first>=t&&this.changePage(this.pageCount-1)}},mounted(){this.setPaginatorAttribute(),this.createStyle()},methods:{changePage(t){const n=this.pageCount;if(t>=0&&t<n){this.d_first=this.d_rows*t;const r={page:t,first:this.d_first,rows:this.d_rows,pageCount:n};this.$emit("update:first",this.d_first),this.$emit("update:rows",this.d_rows),this.$emit("page",r)}},changePageToFirst(t){this.isFirstPage||this.changePage(0),t.preventDefault()},changePageToPrev(t){this.changePage(this.page-1),t.preventDefault()},changePageLink(t){this.changePage(t.value-1),t.originalEvent.preventDefault()},changePageToNext(t){this.changePage(this.page+1),t.preventDefault()},changePageToLast(t){this.isLastPage||this.changePage(this.pageCount-1),t.preventDefault()},onRowChange(t){this.d_rows=t,this.changePage(this.page)},createStyle(){if(this.hasBreakpoints()){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";const n=Object.keys(this.template),r={};n.sort((u,f)=>parseInt(u)-parseInt(f)).forEach(u=>{r[u]=this.template[u]});for(const[u,[f]]of Object.entries(Object.entries(r))){const d=Object.entries(r)[u-1]?`and (min-width:${Object.keys(r)[u-1]})`:"";f==="default"?t+=`
                            @media screen ${d} {
                                .paginator[${this.attributeSelector}],
                                .p-paginator-default{
                                    display: flex !important;
                                }
                            }
                        `:t+=`
                        .paginator[${this.attributeSelector}], .p-paginator-${f} {
                                display: none !important;
                            }
                        @media screen ${d} and (max-width: ${f}) {
                            .paginator[${this.attributeSelector}], .p-paginator-${f} {
                                display: flex !important;
                            }
                            .paginator[${this.attributeSelector}],
                            .p-paginator-default{
                                display: none !important;
                            }
                        }
                    `}this.styleElement.innerHTML=t}},hasBreakpoints(){return typeof this.template=="object"},getPaginatorClasses(t){return[{"p-paginator-default":!this.hasBreakpoints(),[`p-paginator-${t}`]:this.hasBreakpoints()}]},setPaginatorAttribute(){this.$refs.paginator&&this.$refs.paginator.length>=0&&[...this.$refs.paginator].forEach(t=>{t.setAttribute(this.attributeSelector,"")})},getAriaLabel(t){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[t]:void 0}},computed:{templateItems(){let t={};if(this.hasBreakpoints()){t=this.template,t.default||(t.default="FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown");for(const n in t)t[n]=this.template[n].split(" ").map(r=>r.trim());return t}return t.default=this.template.split(" ").map(n=>n.trim()),t},page(){return Math.floor(this.d_first/this.d_rows)},pageCount(){return Math.ceil(this.totalRecords/this.d_rows)},isFirstPage(){return this.page===0},isLastPage(){return this.page===this.pageCount-1},calculatePageLinkBoundaries(){const t=this.pageCount,n=Math.min(this.pageLinkSize,t);let r=Math.max(0,Math.ceil(this.page-n/2)),u=Math.min(t-1,r+n-1);const f=this.pageLinkSize-(u-r+1);return r=Math.max(0,r-f),[r,u]},pageLinks(){let t=[],n=this.calculatePageLinkBoundaries,r=n[0],u=n[1];for(var f=r;f<=u;f++)t.push(f+1);return t},currentState(){return{page:this.page,first:this.d_first,rows:this.d_rows}},empty(){return this.pageCount===0},currentPage(){return this.pageCount>0?this.page+1:0},attributeSelector(){return Ud()}},components:{CurrentPageReport:Ice,FirstPageLink:Oce,LastPageLink:Pce,NextPageLink:zce,PageLinks:Nce,PrevPageLink:Lce,RowsPerPageDropdown:Fce,JumpToPageDropdown:Dce,JumpToPageInput:Mce}};const lEe={key:0},cEe={key:0,class:"p-paginator-left-content"},uEe={key:1,class:"p-paginator-right-content"};function dEe(t,n,r,u,f,d){const w=Vn("FirstPageLink"),x=Vn("PrevPageLink"),T=Vn("NextPageLink"),I=Vn("LastPageLink"),$=Vn("PageLinks"),F=Vn("CurrentPageReport"),H=Vn("RowsPerPageDropdown"),de=Vn("JumpToPageDropdown"),ke=Vn("JumpToPageInput");return r.alwaysShow||d.pageLinks&&d.pageLinks.length>1?(be(),Le("nav",lEe,[(be(!0),Le(Xn,null,Ua(d.templateItems,(Ne,xe)=>(be(),Le("div",{key:xe,ref_for:!0,ref:"paginator",class:cn(["p-paginator p-component",d.getPaginatorClasses(xe)])},[t.$slots.start?(be(),Le("div",cEe,[Eo(t.$slots,"start",{state:d.currentState})])):Wt("",!0),(be(!0),Le(Xn,null,Ua(Ne,Fe=>(be(),Le(Xn,{key:Fe},[Fe==="FirstPageLink"?(be(),Mn(w,{key:0,"aria-label":d.getAriaLabel("firstPageLabel"),onClick:n[0]||(n[0]=rt=>d.changePageToFirst(rt)),disabled:d.isFirstPage||d.empty},null,8,["aria-label","disabled"])):Fe==="PrevPageLink"?(be(),Mn(x,{key:1,"aria-label":d.getAriaLabel("prevPageLabel"),onClick:n[1]||(n[1]=rt=>d.changePageToPrev(rt)),disabled:d.isFirstPage||d.empty},null,8,["aria-label","disabled"])):Fe==="NextPageLink"?(be(),Mn(T,{key:2,"aria-label":d.getAriaLabel("nextPageLabel"),onClick:n[2]||(n[2]=rt=>d.changePageToNext(rt)),disabled:d.isLastPage||d.empty},null,8,["aria-label","disabled"])):Fe==="LastPageLink"?(be(),Mn(I,{key:3,"aria-label":d.getAriaLabel("lastPageLabel"),onClick:n[3]||(n[3]=rt=>d.changePageToLast(rt)),disabled:d.isLastPage||d.empty},null,8,["aria-label","disabled"])):Fe==="PageLinks"?(be(),Mn($,{key:4,"aria-label":d.getAriaLabel("pageLabel"),value:d.pageLinks,page:d.page,onClick:n[4]||(n[4]=rt=>d.changePageLink(rt))},null,8,["aria-label","value","page"])):Fe==="CurrentPageReport"?(be(),Mn(F,{key:5,"aria-live":"polite",template:r.currentPageReportTemplate,currentPage:d.currentPage,page:d.page,pageCount:d.pageCount,first:f.d_first,rows:f.d_rows,totalRecords:r.totalRecords},null,8,["template","currentPage","page","pageCount","first","rows","totalRecords"])):Fe==="RowsPerPageDropdown"&&r.rowsPerPageOptions?(be(),Mn(H,{key:6,"aria-label":d.getAriaLabel("rowsPerPageLabel"),rows:f.d_rows,options:r.rowsPerPageOptions,onRowsChange:n[5]||(n[5]=rt=>d.onRowChange(rt)),disabled:d.empty},null,8,["aria-label","rows","options","disabled"])):Fe==="JumpToPageDropdown"?(be(),Mn(de,{key:7,"aria-label":d.getAriaLabel("jumpToPageDropdownLabel"),page:d.page,pageCount:d.pageCount,onPageChange:n[6]||(n[6]=rt=>d.changePage(rt)),disabled:d.empty},null,8,["aria-label","page","pageCount","disabled"])):Fe==="JumpToPageInput"?(be(),Mn(ke,{key:8,page:d.currentPage,onPageChange:n[7]||(n[7]=rt=>d.changePage(rt)),disabled:d.empty},null,8,["page","disabled"])):Wt("",!0)],64))),128)),t.$slots.end?(be(),Le("div",uEe,[Eo(t.$slots,"end",{state:d.currentState})])):Wt("",!0)],2))),128))])):Wt("",!0)}function fEe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var hEe=`
.p-paginator-default {
    display: flex;
}
.p-paginator {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
}
.p-paginator-left-content {
    margin-right: auto;
}
.p-paginator-right-content {
    margin-left: auto;
}
.p-paginator-page,
.p-paginator-next,
.p-paginator-last,
.p-paginator-first,
.p-paginator-prev,
.p-paginator-current {
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    user-select: none;
    overflow: hidden;
    position: relative;
}
.p-paginator-element:focus {
    z-index: 1;
    position: relative;
}
`;fEe(hEe);Bce.render=dEe;var $ce={name:"RowCheckbox",emits:["change"],props:{value:null,checked:null},data(){return{focused:!1}},methods:{onClick(t){this.$attrs.disabled||(this.$emit("change",{originalEvent:t,data:this.value}),tt.focus(this.$refs.input)),t.preventDefault()},onFocus(){this.focused=!0},onBlur(){this.focused=!1},onKeydown(t){switch(t.code){case"Space":{this.onClick(t);break}}}},computed:{checkboxAriaLabel(){return this.$primevue.config.locale.aria?this.checked?this.$primevue.config.locale.aria.selectRow:this.$primevue.config.locale.aria.unselectRow:void 0}}};const mEe={class:"p-hidden-accessible"},pEe=["checked","disabled","tabindex","aria-label"];function gEe(t,n,r,u,f,d){return be(),Le("div",{class:cn(["p-checkbox p-component",{"p-checkbox-focused":f.focused}]),onClick:n[3]||(n[3]=(...w)=>d.onClick&&d.onClick(...w))},[yt("div",mEe,[yt("input",{ref:"input",type:"checkbox",checked:r.checked,disabled:t.$attrs.disabled,tabindex:t.$attrs.disabled?null:"0","aria-label":d.checkboxAriaLabel,onFocus:n[0]||(n[0]=w=>d.onFocus(w)),onBlur:n[1]||(n[1]=w=>d.onBlur(w)),onKeydown:n[2]||(n[2]=(...w)=>d.onKeydown&&d.onKeydown(...w))},null,40,pEe)]),yt("div",{ref:"box",class:cn(["p-checkbox-box p-component",{"p-highlight":r.checked,"p-disabled":t.$attrs.disabled,"p-focus":f.focused}])},[yt("span",{class:cn(["p-checkbox-icon",{"pi pi-check":r.checked}])},null,2)],2)],2)}$ce.render=gEe;var Vce={name:"RowRadioButton",inheritAttrs:!1,emits:["change"],props:{value:null,checked:null,name:null},data(){return{focused:!1}},methods:{onClick(t){this.disabled||this.checked||(this.$emit("change",{originalEvent:t,data:this.value}),tt.focus(this.$refs.input))},onFocus(){this.focused=!0},onBlur(){this.focused=!1}}};const yEe={class:"p-hidden-accessible"},bEe=["checked","disabled","name"],vEe=yt("div",{class:"p-radiobutton-icon"},null,-1),wEe=[vEe];function _Ee(t,n,r,u,f,d){return be(),Le("div",{class:cn(["p-radiobutton p-component",{"p-radiobutton-focused":f.focused}]),onClick:n[3]||(n[3]=(...w)=>d.onClick&&d.onClick(...w))},[yt("div",yEe,[yt("input",{ref:"input",type:"radio",checked:r.checked,disabled:t.$attrs.disabled,name:r.name,tabindex:"0",onFocus:n[0]||(n[0]=w=>d.onFocus(w)),onBlur:n[1]||(n[1]=w=>d.onBlur(w)),onKeydown:n[2]||(n[2]=sx(mQ((...w)=>d.onClick&&d.onClick(...w),["prevent"]),["space"]))},null,40,bEe)]),yt("div",{ref:"box",class:cn(["p-radiobutton-box p-component",{"p-highlight":r.checked,"p-disabled":t.$attrs.disabled,"p-focus":f.focused}])},wEe,2)],2)}Vce.render=_Ee;var Hce={name:"BodyCell",emits:["cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","row-toggle","radio-change","checkbox-change","editing-meta-change"],props:{rowData:{type:Object,default:null},column:{type:Object,default:null},frozenRow:{type:Boolean,default:!1},rowIndex:{type:Number,default:null},index:{type:Number,default:null},rowTogglerIcon:{type:Array,default:null},selected:{type:Boolean,default:!1},editing:{type:Boolean,default:!1},editingMeta:{type:Object,default:null},editMode:{type:String,default:null},responsiveLayout:{type:String,default:"stack"},virtualScrollerContentProps:{type:Object,default:null},ariaControls:{type:String,default:null},name:{type:String,default:null}},documentEditListener:null,selfClick:!1,overlayEventListener:null,data(){return{d_editing:this.editing,styleObject:{},isRowExpanded:!1}},watch:{editing(t){this.d_editing=t},"$data.d_editing":function(t){this.$emit("editing-meta-change",{data:this.rowData,field:this.field||`field_${this.index}`,index:this.rowIndex,editing:t})}},mounted(){this.columnProp("frozen")&&this.updateStickyPosition()},updated(){this.columnProp("frozen")&&this.updateStickyPosition(),this.d_editing&&(this.editMode==="cell"||this.editMode==="row"&&this.columnProp("rowEditor"))&&setTimeout(()=>{const t=tt.getFirstFocusableElement(this.$el);t&&t.focus()},1)},beforeUnmount(){this.overlayEventListener&&(jy.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null)},methods:{columnProp(t){return In.getVNodeProp(this.column,t)},resolveFieldData(){return In.resolveFieldData(this.rowData,this.field)},toggleRow(t){this.isRowExpanded=!this.isRowExpanded,this.$emit("row-toggle",{originalEvent:t,data:this.rowData})},toggleRowWithRadio(t,n){this.$emit("radio-change",{originalEvent:t.originalEvent,index:n,data:t.data})},toggleRowWithCheckbox(t,n){this.$emit("checkbox-change",{originalEvent:t.originalEvent,index:n,data:t.data})},isEditable(){return this.column.children&&this.column.children.editor!=null},bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=t=>{this.selfClick||this.completeEdit(t,"outside"),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))},unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null,this.selfClick=!1)},switchCellToViewMode(){this.d_editing=!1,this.unbindDocumentEditListener(),jy.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null},onClick(t){this.editMode==="cell"&&this.isEditable()&&(this.selfClick=!0,this.d_editing||(this.d_editing=!0,this.bindDocumentEditListener(),this.$emit("cell-edit-init",{originalEvent:t,data:this.rowData,field:this.field,index:this.rowIndex}),this.overlayEventListener=n=>{this.$el&&this.$el.contains(n.target)&&(this.selfClick=!0)},jy.on("overlay-click",this.overlayEventListener)))},completeEdit(t,n){const r={originalEvent:t,data:this.rowData,newData:this.editingRowData,value:this.rowData[this.field],newValue:this.editingRowData[this.field],field:this.field,index:this.rowIndex,type:n,defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0}};this.$emit("cell-edit-complete",r),r.defaultPrevented||this.switchCellToViewMode()},onKeyDown(t){if(this.editMode==="cell")switch(t.code){case"Enter":this.completeEdit(t,"enter");break;case"Escape":this.switchCellToViewMode(),this.$emit("cell-edit-cancel",{originalEvent:t,data:this.rowData,field:this.field,index:this.rowIndex});break;case"Tab":this.completeEdit(t,"tab"),t.shiftKey?this.moveToPreviousCell(t):this.moveToNextCell(t);break}},moveToPreviousCell(t){let n=this.findCell(t.target),r=this.findPreviousEditableColumn(n);r&&(tt.invokeElementMethod(r,"click"),t.preventDefault())},moveToNextCell(t){let n=this.findCell(t.target),r=this.findNextEditableColumn(n);r&&(tt.invokeElementMethod(r,"click"),t.preventDefault())},findCell(t){if(t){let n=t;for(;n&&!tt.hasClass(n,"p-cell-editing");)n=n.parentElement;return n}else return null},findPreviousEditableColumn(t){let n=t.previousElementSibling;if(!n){let r=t.parentElement.previousElementSibling;r&&(n=r.lastElementChild)}return n?tt.hasClass(n,"p-editable-column")?n:this.findPreviousEditableColumn(n):null},findNextEditableColumn(t){let n=t.nextElementSibling;if(!n){let r=t.parentElement.nextElementSibling;r&&(n=r.firstElementChild)}return n?tt.hasClass(n,"p-editable-column")?n:this.findNextEditableColumn(n):null},isEditingCellValid(){return tt.find(this.$el,".p-invalid").length===0},onRowEditInit(t){this.$emit("row-edit-init",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},onRowEditSave(t){this.$emit("row-edit-save",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},onRowEditCancel(t){this.$emit("row-edit-cancel",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},editorInitCallback(t){this.$emit("row-edit-init",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},editorSaveCallback(t){this.editMode==="row"?this.$emit("row-edit-save",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex}):this.completeEdit(t,"enter")},editorCancelCallback(t){this.editMode==="row"?this.$emit("row-edit-cancel",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex}):(this.switchCellToViewMode(),this.$emit("cell-edit-cancel",{originalEvent:t,data:this.rowData,field:this.field,index:this.rowIndex}))},updateStickyPosition(){if(this.columnProp("frozen"))if(this.columnProp("alignFrozen")==="right"){let n=0,r=this.$el.nextElementSibling;r&&(n=tt.getOuterWidth(r)+parseFloat(r.style.right||0)),this.styleObject.right=n+"px"}else{let n=0,r=this.$el.previousElementSibling;r&&(n=tt.getOuterWidth(r)+parseFloat(r.style.left||0)),this.styleObject.left=n+"px"}},getVirtualScrollerProp(t){return this.virtualScrollerContentProps?this.virtualScrollerContentProps[t]:null}},computed:{editingRowData(){return this.editingMeta[this.rowIndex]?this.editingMeta[this.rowIndex].data:this.rowData},field(){return this.columnProp("field")},containerClass(){return[this.columnProp("bodyClass"),this.columnProp("class"),{"p-selection-column":this.columnProp("selectionMode")!=null,"p-editable-column":this.isEditable(),"p-cell-editing":this.d_editing,"p-frozen-column":this.columnProp("frozen")}]},containerStyle(){let t=this.columnProp("bodyStyle"),n=this.columnProp("style");return this.columnProp("frozen")?[n,t,this.styleObject]:[n,t]},loading(){return this.getVirtualScrollerProp("loading")},loadingOptions(){const t=this.getVirtualScrollerProp("getLoaderOptions");return t&&t(this.rowIndex,{cellIndex:this.index,cellFirst:this.index===0,cellLast:this.index===this.getVirtualScrollerProp("columns").length-1,cellEven:this.index%2===0,cellOdd:this.index%2!==0,column:this.column,field:this.field})},expandButtonAriaLabel(){return this.$primevue.config.locale.aria?this.isRowExpanded?this.$primevue.config.locale.aria.expandRow:this.$primevue.config.locale.aria.collapseRow:void 0},initButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.editRow:void 0},saveButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.saveEdit:void 0},cancelButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.cancelEdit:void 0}},components:{DTRadioButton:Vce,DTCheckbox:$ce},directives:{ripple:qu}};const kEe={key:0,class:"p-column-title"},CEe=["aria-expanded","aria-controls","aria-label"],SEe=["aria-label"],xEe=yt("span",{class:"p-row-editor-init-icon pi pi-fw pi-pencil"},null,-1),EEe=[xEe],TEe=["aria-label"],REe=yt("span",{class:"p-row-editor-save-icon pi pi-fw pi-check"},null,-1),AEe=[REe],IEe=["aria-label"],OEe=yt("span",{class:"p-row-editor-cancel-icon pi pi-fw pi-times"},null,-1),DEe=[OEe];function MEe(t,n,r,u,f,d){const w=Vn("DTRadioButton"),x=Vn("DTCheckbox"),T=gl("ripple");return d.loading?(be(),Le("td",{key:0,style:xr(d.containerStyle),class:cn(d.containerClass)},[(be(),Mn(Ha(r.column.children.loading),{data:r.rowData,column:r.column,field:d.field,index:r.rowIndex,frozenRow:r.frozenRow,loadingOptions:d.loadingOptions},null,8,["data","column","field","index","frozenRow","loadingOptions"]))],6)):(be(),Le("td",{key:1,style:xr(d.containerStyle),class:cn(d.containerClass),onClick:n[6]||(n[6]=(...I)=>d.onClick&&d.onClick(...I)),onKeydown:n[7]||(n[7]=(...I)=>d.onKeyDown&&d.onKeyDown(...I)),role:"cell"},[r.responsiveLayout==="stack"?(be(),Le("span",kEe,Xo(d.columnProp("header")),1)):Wt("",!0),r.column.children&&r.column.children.body&&!f.d_editing?(be(),Mn(Ha(r.column.children.body),{key:1,data:r.rowData,column:r.column,field:d.field,index:r.rowIndex,frozenRow:r.frozenRow,editorInitCallback:d.editorInitCallback},null,8,["data","column","field","index","frozenRow","editorInitCallback"])):r.column.children&&r.column.children.editor&&f.d_editing?(be(),Mn(Ha(r.column.children.editor),{key:2,data:d.editingRowData,column:r.column,field:d.field,index:r.rowIndex,frozenRow:r.frozenRow,editorSaveCallback:d.editorSaveCallback,editorCancelCallback:d.editorCancelCallback},null,8,["data","column","field","index","frozenRow","editorSaveCallback","editorCancelCallback"])):r.column.children&&r.column.children.body&&!r.column.children.editor&&f.d_editing?(be(),Mn(Ha(r.column.children.body),{key:3,data:d.editingRowData,column:r.column,field:d.field,index:r.rowIndex,frozenRow:r.frozenRow},null,8,["data","column","field","index","frozenRow"])):d.columnProp("selectionMode")?(be(),Le(Xn,{key:4},[d.columnProp("selectionMode")==="single"?(be(),Mn(w,{key:0,value:r.rowData,name:r.name,checked:r.selected,onChange:n[0]||(n[0]=I=>d.toggleRowWithRadio(I,r.rowIndex))},null,8,["value","name","checked"])):d.columnProp("selectionMode")==="multiple"?(be(),Mn(x,{key:1,value:r.rowData,checked:r.selected,"aria-selected":r.selected?!0:void 0,onChange:n[1]||(n[1]=I=>d.toggleRowWithCheckbox(I,r.rowIndex))},null,8,["value","checked","aria-selected"])):Wt("",!0)],64)):d.columnProp("rowReorder")?(be(),Le("i",{key:5,class:cn(["p-datatable-reorderablerow-handle",d.columnProp("rowReorderIcon")||"pi pi-bars"])},null,2)):d.columnProp("expander")?Er((be(),Le("button",{key:6,class:"p-row-toggler p-link",type:"button","aria-expanded":f.isRowExpanded,"aria-controls":r.ariaControls,"aria-label":d.expandButtonAriaLabel,onClick:n[2]||(n[2]=(...I)=>d.toggleRow&&d.toggleRow(...I))},[yt("span",{class:cn(r.rowTogglerIcon)},null,2)],8,CEe)),[[T]]):r.editMode==="row"&&d.columnProp("rowEditor")?(be(),Le(Xn,{key:7},[f.d_editing?Wt("",!0):Er((be(),Le("button",{key:0,class:"p-row-editor-init p-link",type:"button","aria-label":d.initButtonAriaLabel,onClick:n[3]||(n[3]=(...I)=>d.onRowEditInit&&d.onRowEditInit(...I))},EEe,8,SEe)),[[T]]),f.d_editing?Er((be(),Le("button",{key:1,class:"p-row-editor-save p-link",type:"button","aria-label":d.saveButtonAriaLabel,onClick:n[4]||(n[4]=(...I)=>d.onRowEditSave&&d.onRowEditSave(...I))},AEe,8,TEe)),[[T]]):Wt("",!0),f.d_editing?Er((be(),Le("button",{key:2,class:"p-row-editor-cancel p-link",type:"button","aria-label":d.cancelButtonAriaLabel,onClick:n[5]||(n[5]=(...I)=>d.onRowEditCancel&&d.onRowEditCancel(...I))},DEe,8,IEe)),[[T]]):Wt("",!0)],64)):(be(),Le(Xn,{key:8},[Wu(Xo(d.resolveFieldData()),1)],64))],38))}Hce.render=MEe;var Uce={name:"TableBody",emits:["rowgroup-toggle","row-click","row-dblclick","row-rightclick","row-touchend","row-keydown","row-mousedown","row-dragstart","row-dragover","row-dragleave","row-dragend","row-drop","row-toggle","radio-change","checkbox-change","cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","editing-meta-change"],props:{value:{type:Array,default:null},columns:{type:null,default:null},frozenRow:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},first:{type:Number,default:0},dataKey:{type:String,default:null},expandedRowIcon:{type:String,default:null},collapsedRowIcon:{type:String,default:null},expandedRows:{type:Array,default:null},expandedRowKeys:{type:null,default:null},selection:{type:[Array,Object],default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},rowClass:{type:null,default:null},rowStyle:{type:null,default:null},editMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},editingRows:{type:Array,default:null},editingRowKeys:{type:null,default:null},editingMeta:{type:Object,default:null},templates:{type:null,default:null},scrollable:{type:Boolean,default:!1},responsiveLayout:{type:String,default:"stack"},virtualScrollerContentProps:{type:Object,default:null},isVirtualScrollerDisabled:{type:Boolean,default:!1}},data(){return{rowGroupHeaderStyleObject:{},tabindexArray:[],isARowSelected:!1}},mounted(){this.frozenRow&&this.updateFrozenRowStickyPosition(),this.scrollable&&this.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()},updated(){this.frozenRow&&this.updateFrozenRowStickyPosition(),this.scrollable&&this.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()},methods:{columnProp(t,n){return In.getVNodeProp(t,n)},shouldRenderRowGroupHeader(t,n,r){let u=In.resolveFieldData(n,this.groupRowsBy),f=t[r-1];if(f){let d=In.resolveFieldData(f,this.groupRowsBy);return u!==d}else return!0},getRowKey(t,n){return this.dataKey?In.resolveFieldData(t,this.dataKey):this.getRowIndex(n)},getRowIndex(t){const n=this.getVirtualScrollerProp("getItemOptions");return n?n(t).index:this.first+t},getRowStyle(t){if(this.rowStyle)return this.rowStyle(t)},getRowClass(t){let n=[];if(this.selectionMode&&n.push("p-selectable-row"),this.selection&&n.push({"p-highlight":this.isSelected(t)}),this.contextMenuSelection&&n.push({"p-highlight-contextmenu":this.isSelectedWithContextMenu(t)}),this.rowClass){let r=this.rowClass(t);r&&n.push(r)}return n},shouldRenderRowGroupFooter(t,n,r){if(this.expandableRowGroups&&!this.isRowGroupExpanded(n))return!1;{let u=In.resolveFieldData(n,this.groupRowsBy),f=t[r+1];if(f){let d=In.resolveFieldData(f,this.groupRowsBy);return u!==d}else return!0}},shouldRenderBodyCell(t,n,r){if(this.rowGroupMode){if(this.rowGroupMode==="subheader")return this.groupRowsBy!==this.columnProp(n,"field");if(this.rowGroupMode==="rowspan")if(this.isGrouped(n)){let u=t[r-1];if(u){let f=In.resolveFieldData(t[r],this.columnProp(n,"field")),d=In.resolveFieldData(u,this.columnProp(n,"field"));return f!==d}else return!0}else return!0}else return!this.columnProp(n,"hidden")},calculateRowGroupSize(t,n,r){if(this.isGrouped(n)){let u=In.resolveFieldData(t[r],this.columnProp(n,"field")),f=u,d=0;for(;u===f;){d++;let w=t[++r];if(w)f=In.resolveFieldData(w,this.columnProp(n,"field"));else break}return d===1?null:d}else return null},rowTogglerIcon(t){return["p-row-toggler-icon pi",this.isRowExpanded(t)?this.expandedRowIcon:this.collapsedRowIcon]},rowGroupTogglerIcon(t){return["p-row-toggler-icon pi",this.isRowGroupExpanded(t)?this.expandedRowIcon:this.collapsedRowIcon]},isGrouped(t){return this.groupRowsBy&&this.columnProp(t,"field")?Array.isArray(this.groupRowsBy)?this.groupRowsBy.indexOf(t.props.field)>-1:this.groupRowsBy===t.props.field:!1},isRowEditing(t){return t&&this.editingRows?this.dataKey?this.editingRowKeys?this.editingRowKeys[In.resolveFieldData(t,this.dataKey)]!==void 0:!1:this.findIndex(t,this.editingRows)>-1:!1},isRowExpanded(t){return t&&this.expandedRows?this.dataKey?this.expandedRowKeys?this.expandedRowKeys[In.resolveFieldData(t,this.dataKey)]!==void 0:!1:this.findIndex(t,this.expandedRows)>-1:!1},isRowGroupExpanded(t){if(this.expandableRowGroups&&this.expandedRowGroups){let n=In.resolveFieldData(t,this.groupRowsBy);return this.expandedRowGroups.indexOf(n)>-1}return!1},isSelected(t){return t&&this.selection?this.dataKey?this.selectionKeys?this.selectionKeys[In.resolveFieldData(t,this.dataKey)]!==void 0:!1:this.selection instanceof Array?this.findIndexInSelection(t)>-1:this.equals(t,this.selection):!1},isSelectedWithContextMenu(t){return t&&this.contextMenuSelection?this.equals(t,this.contextMenuSelection,this.dataKey):!1},findIndexInSelection(t){return this.findIndex(t,this.selection)},findIndex(t,n){let r=-1;if(n&&n.length){for(let u=0;u<n.length;u++)if(this.equals(t,n[u])){r=u;break}}return r},equals(t,n){return this.compareSelectionBy==="equals"?t===n:In.equals(t,n,this.dataKey)},onRowGroupToggle(t,n){this.$emit("rowgroup-toggle",{originalEvent:t,data:n})},onRowClick(t,n,r){this.$emit("row-click",{originalEvent:t,data:n,index:r})},onRowDblClick(t,n,r){this.$emit("row-dblclick",{originalEvent:t,data:n,index:r})},onRowRightClick(t,n,r){this.$emit("row-rightclick",{originalEvent:t,data:n,index:r})},onRowTouchEnd(t){this.$emit("row-touchend",t)},onRowKeyDown(t,n,r){this.$emit("row-keydown",{originalEvent:t,data:n,index:r})},onRowMouseDown(t){this.$emit("row-mousedown",t)},onRowDragStart(t,n){this.$emit("row-dragstart",{originalEvent:t,index:n})},onRowDragOver(t,n){this.$emit("row-dragover",{originalEvent:t,index:n})},onRowDragLeave(t){this.$emit("row-dragleave",t)},onRowDragEnd(t){this.$emit("row-dragend",t)},onRowDrop(t){this.$emit("row-drop",t)},onRowToggle(t){this.$emit("row-toggle",t)},onRadioChange(t){this.$emit("radio-change",t)},onCheckboxChange(t){this.$emit("checkbox-change",t)},onCellEditInit(t){this.$emit("cell-edit-init",t)},onCellEditComplete(t){this.$emit("cell-edit-complete",t)},onCellEditCancel(t){this.$emit("cell-edit-cancel",t)},onRowEditInit(t){this.$emit("row-edit-init",t)},onRowEditSave(t){this.$emit("row-edit-save",t)},onRowEditCancel(t){this.$emit("row-edit-cancel",t)},onEditingMetaChange(t){this.$emit("editing-meta-change",t)},updateFrozenRowStickyPosition(){this.$el.style.top=tt.getOuterHeight(this.$el.previousElementSibling)+"px"},updateFrozenRowGroupHeaderStickyPosition(){let t=tt.getOuterHeight(this.$el.previousElementSibling);this.rowGroupHeaderStyleObject.top=t+"px"},getVirtualScrollerProp(t,n){return n=n||this.virtualScrollerContentProps,n?n[t]:null},bodyRef(t){const n=this.getVirtualScrollerProp("contentRef");n&&n(t)},setRowTabindex(t){return this.selection===null&&(this.selectionMode==="single"||this.selectionMode==="multiple")&&t===0?0:-1}},computed:{columnsLength(){let t=0;return this.columns.forEach(n=>{this.columnProp(n,"selectionMode")==="single"&&t--,this.columnProp(n,"hidden")&&t++}),this.columns?this.columns.length-t:0},rowGroupHeaderStyle(){return this.scrollable?{top:this.rowGroupHeaderStyleObject.top}:null},bodyStyle(){return this.getVirtualScrollerProp("contentStyle")},expandedRowId(){return Ud()},nameAttributeSelector(){return Ud()}},components:{DTBodyCell:Hce}};const PEe=["colspan"],zEe=["onClick"],NEe=["tabindex","aria-selected","onClick","onDblclick","onContextmenu","onKeydown","onDragstart","onDragover"],LEe=["id"],FEe=["colspan"],BEe=["colspan"],$Ee={key:1,class:"p-datatable-emptymessage",role:"row"},VEe=["colspan"];function HEe(t,n,r,u,f,d){const w=Vn("DTBodyCell");return be(),Le("tbody",{ref:d.bodyRef,class:"p-datatable-tbody",role:"rowgroup",style:xr(d.bodyStyle)},[r.empty?(be(),Le("tr",$Ee,[yt("td",{colspan:d.columnsLength},[r.templates.empty?(be(),Mn(Ha(r.templates.empty),{key:0})):Wt("",!0)],8,VEe)])):(be(!0),Le(Xn,{key:0},Ua(r.value,(x,T)=>(be(),Le(Xn,null,[r.templates.groupheader&&r.rowGroupMode==="subheader"&&d.shouldRenderRowGroupHeader(r.value,x,d.getRowIndex(T))?(be(),Le("tr",{key:d.getRowKey(x,d.getRowIndex(T))+"_subheader",class:"p-rowgroup-header",style:xr(d.rowGroupHeaderStyle),role:"row"},[yt("td",{colspan:d.columnsLength-1},[r.expandableRowGroups?(be(),Le("button",{key:0,class:"p-row-toggler p-link",onClick:I=>d.onRowGroupToggle(I,x),type:"button"},[yt("span",{class:cn(d.rowGroupTogglerIcon(x))},null,2)],8,zEe)):Wt("",!0),(be(),Mn(Ha(r.templates.groupheader),{data:x,index:d.getRowIndex(T)},null,8,["data","index"]))],8,PEe)],4)):Wt("",!0),!r.expandableRowGroups||d.isRowGroupExpanded(x)?(be(),Le("tr",{key:d.getRowKey(x,d.getRowIndex(T)),class:cn(d.getRowClass(x)),style:xr(d.getRowStyle(x)),tabindex:d.setRowTabindex(T),role:"row","aria-selected":r.selectionMode?d.isSelected(x):null,onClick:I=>d.onRowClick(I,x,d.getRowIndex(T)),onDblclick:I=>d.onRowDblClick(I,x,d.getRowIndex(T)),onContextmenu:I=>d.onRowRightClick(I,x,d.getRowIndex(T)),onTouchend:n[9]||(n[9]=I=>d.onRowTouchEnd(I)),onKeydown:I=>d.onRowKeyDown(I,x,d.getRowIndex(T)),onMousedown:n[10]||(n[10]=I=>d.onRowMouseDown(I)),onDragstart:I=>d.onRowDragStart(I,d.getRowIndex(T)),onDragover:I=>d.onRowDragOver(I,d.getRowIndex(T)),onDragleave:n[11]||(n[11]=I=>d.onRowDragLeave(I)),onDragend:n[12]||(n[12]=I=>d.onRowDragEnd(I)),onDrop:n[13]||(n[13]=I=>d.onRowDrop(I))},[(be(!0),Le(Xn,null,Ua(r.columns,(I,$)=>(be(),Le(Xn,null,[d.shouldRenderBodyCell(r.value,I,d.getRowIndex(T))?(be(),Mn(w,{key:d.columnProp(I,"columnKey")||d.columnProp(I,"field")||$,rowData:x,column:I,rowIndex:d.getRowIndex(T),index:$,selected:d.isSelected(x),rowTogglerIcon:d.columnProp(I,"expander")?d.rowTogglerIcon(x):null,frozenRow:r.frozenRow,rowspan:r.rowGroupMode==="rowspan"?d.calculateRowGroupSize(r.value,I,d.getRowIndex(T)):null,editMode:r.editMode,editing:r.editMode==="row"&&d.isRowEditing(x),editingMeta:r.editingMeta,responsiveLayout:r.responsiveLayout,virtualScrollerContentProps:r.virtualScrollerContentProps,ariaControls:d.expandedRowId+"_"+T+"_expansion",name:d.nameAttributeSelector,onRadioChange:n[0]||(n[0]=F=>d.onRadioChange(F)),onCheckboxChange:n[1]||(n[1]=F=>d.onCheckboxChange(F)),onRowToggle:n[2]||(n[2]=F=>d.onRowToggle(F)),onCellEditInit:n[3]||(n[3]=F=>d.onCellEditInit(F)),onCellEditComplete:n[4]||(n[4]=F=>d.onCellEditComplete(F)),onCellEditCancel:n[5]||(n[5]=F=>d.onCellEditCancel(F)),onRowEditInit:n[6]||(n[6]=F=>d.onRowEditInit(F)),onRowEditSave:n[7]||(n[7]=F=>d.onRowEditSave(F)),onRowEditCancel:n[8]||(n[8]=F=>d.onRowEditCancel(F)),onEditingMetaChange:d.onEditingMetaChange},null,8,["rowData","column","rowIndex","index","selected","rowTogglerIcon","frozenRow","rowspan","editMode","editing","editingMeta","responsiveLayout","virtualScrollerContentProps","ariaControls","name","onEditingMetaChange"])):Wt("",!0)],64))),256))],46,NEe)):Wt("",!0),r.templates.expansion&&r.expandedRows&&d.isRowExpanded(x)?(be(),Le("tr",{key:d.getRowKey(x,d.getRowIndex(T))+"_expansion",id:d.expandedRowId+"_"+T+"_expansion",class:"p-datatable-row-expansion",role:"row"},[yt("td",{colspan:d.columnsLength},[(be(),Mn(Ha(r.templates.expansion),{data:x,index:d.getRowIndex(T)},null,8,["data","index"]))],8,FEe)],8,LEe)):Wt("",!0),r.templates.groupfooter&&r.rowGroupMode==="subheader"&&d.shouldRenderRowGroupFooter(r.value,x,d.getRowIndex(T))?(be(),Le("tr",{key:d.getRowKey(x,d.getRowIndex(T))+"_subfooter",class:"p-rowgroup-footer",role:"row"},[yt("td",{colspan:d.columnsLength-1},[(be(),Mn(Ha(r.templates.groupfooter),{data:x,index:d.getRowIndex(T)},null,8,["data","index"]))],8,BEe)])):Wt("",!0)],64))),256))],4)}Uce.render=HEe;var jce={name:"FooterCell",props:{column:{type:null,default:null}},data(){return{styleObject:{}}},mounted(){this.columnProp("frozen")&&this.updateStickyPosition()},updated(){this.columnProp("frozen")&&this.updateStickyPosition()},methods:{columnProp(t){return In.getVNodeProp(this.column,t)},updateStickyPosition(){if(this.columnProp("frozen"))if(this.columnProp("alignFrozen")==="right"){let n=0,r=this.$el.nextElementSibling;r&&(n=tt.getOuterWidth(r)+parseFloat(r.style.right||0)),this.styleObject.right=n+"px"}else{let n=0,r=this.$el.previousElementSibling;r&&(n=tt.getOuterWidth(r)+parseFloat(r.style.left||0)),this.styleObject.left=n+"px"}}},computed:{containerClass(){return[this.columnProp("footerClass"),this.columnProp("class"),{"p-frozen-column":this.columnProp("frozen")}]},containerStyle(){let t=this.columnProp("footerStyle"),n=this.columnProp("style");return this.columnProp("frozen")?[n,t,this.styleObject]:[n,t]}}};const UEe=["colspan","rowspan"];function jEe(t,n,r,u,f,d){return be(),Le("td",{style:xr(d.containerStyle),class:cn(d.containerClass),role:"cell",colspan:d.columnProp("colspan"),rowspan:d.columnProp("rowspan")},[r.column.children&&r.column.children.footer?(be(),Mn(Ha(r.column.children.footer),{key:0,column:r.column},null,8,["column"])):Wt("",!0),Wu(" "+Xo(d.columnProp("footer")),1)],14,UEe)}jce.render=jEe;var Wce={name:"TableFooter",props:{columnGroup:{type:null,default:null},columns:{type:null,default:null}},methods:{columnProp(t,n){return In.getVNodeProp(t,n)},getFooterRows(){let t=[],n=this.columnGroup;if(n.children&&n.children.default){for(let r of n.children.default())r.type.name==="Row"?t.push(r):r.children&&r.children instanceof Array&&(t=r.children);return t}},getFooterColumns(t){let n=[];if(t.children&&t.children.default)return t.children.default().forEach(r=>{r.children&&r.children instanceof Array?n=[...n,...r.children]:r.type.name==="Column"&&n.push(r)}),n}},computed:{hasFooter(){let t=!1;if(this.columnGroup)t=!0;else if(this.columns){for(let n of this.columns)if(this.columnProp(n,"footer")||n.children&&n.children.footer){t=!0;break}}return t}},components:{DTFooterCell:jce}};const WEe={key:0,class:"p-datatable-tfoot",role:"rowgroup"},ZEe={key:0,role:"row"};function GEe(t,n,r,u,f,d){const w=Vn("DTFooterCell");return d.hasFooter?(be(),Le("tfoot",WEe,[r.columnGroup?(be(!0),Le(Xn,{key:1},Ua(d.getFooterRows(),(x,T)=>(be(),Le("tr",{key:T,role:"row"},[(be(!0),Le(Xn,null,Ua(d.getFooterColumns(x),(I,$)=>(be(),Le(Xn,{key:d.columnProp(I,"columnKey")||d.columnProp(I,"field")||$},[d.columnProp(I,"hidden")?Wt("",!0):(be(),Mn(w,{key:0,column:I},null,8,["column"]))],64))),128))]))),128)):(be(),Le("tr",ZEe,[(be(!0),Le(Xn,null,Ua(r.columns,(x,T)=>(be(),Le(Xn,{key:d.columnProp(x,"columnKey")||d.columnProp(x,"field")||T},[d.columnProp(x,"hidden")?Wt("",!0):(be(),Mn(w,{key:0,column:x},null,8,["column"]))],64))),128))]))])):Wt("",!0)}Wce.render=GEe;var Ree={name:"ColumnFilter",emits:["filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{field:{type:String,default:null},type:{type:String,default:"text"},display:{type:String,default:null},showMenu:{type:Boolean,default:!0},matchMode:{type:String,default:null},showOperator:{type:Boolean,default:!0},showClearButton:{type:Boolean,default:!0},showApplyButton:{type:Boolean,default:!0},showMatchModes:{type:Boolean,default:!0},showAddButton:{type:Boolean,default:!0},matchModeOptions:{type:Array,default:null},maxConstraints:{type:Number,default:2},filterElement:null,filterHeaderTemplate:null,filterFooterTemplate:null,filterClearTemplate:null,filterApplyTemplate:null,filters:{type:Object,default:null},filtersStore:{type:Object,default:null},filterMenuClass:{type:String,default:null},filterMenuStyle:{type:null,default:null},filterInputProps:{type:null,default:null}},data(){return{overlayVisible:!1,defaultMatchMode:null,defaultOperator:null}},overlay:null,selfClick:!1,overlayEventListener:null,beforeUnmount(){this.overlayEventListener&&(jy.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.overlay&&(mi.clear(this.overlay),this.onOverlayHide())},mounted(){if(this.filters&&this.filters[this.field]){let t=this.filters[this.field];t.operator?(this.defaultMatchMode=t.constraints[0].matchMode,this.defaultOperator=t.operator):this.defaultMatchMode=this.filters[this.field].matchMode}},methods:{clearFilter(){let t={...this.filters};t[this.field].operator?(t[this.field].constraints.splice(1),t[this.field].operator=this.defaultOperator,t[this.field].constraints[0]={value:null,matchMode:this.defaultMatchMode}):(t[this.field].value=null,t[this.field].matchMode=this.defaultMatchMode),this.$emit("filter-clear"),this.$emit("filter-change",t),this.$emit("filter-apply"),this.hide()},applyFilter(){this.$emit("apply-click",{field:this.field,constraints:this.filters[this.field]}),this.$emit("filter-apply"),this.hide()},hasFilter(){if(this.filtersStore){let t=this.filtersStore[this.field];if(t)return t.operator?!this.isFilterBlank(t.constraints[0].value):!this.isFilterBlank(t.value)}return!1},hasRowFilter(){return this.filters[this.field]&&!this.isFilterBlank(this.filters[this.field].value)},isFilterBlank(t){return t!=null?typeof t=="string"&&t.trim().length==0||t instanceof Array&&t.length==0:!0},toggleMenu(){this.overlayVisible=!this.overlayVisible},onToggleButtonKeyDown(t){switch(t.code){case"Enter":case"Space":this.toggleMenu(),t.preventDefault();break;case"Escape":this.overlayVisible=!1;break}},onRowMatchModeChange(t){let n={...this.filters};n[this.field].matchMode=t,this.$emit("matchmode-change",{field:this.field,matchMode:t}),this.$emit("filter-change",n),this.$emit("filter-apply"),this.hide()},onRowMatchModeKeyDown(t){let n=t.target;switch(t.code){case"ArrowDown":var r=this.findNextItem(n);r&&(n.removeAttribute("tabindex"),r.tabIndex="0",r.focus()),t.preventDefault();break;case"ArrowUp":var u=this.findPrevItem(n);u&&(n.removeAttribute("tabindex"),u.tabIndex="0",u.focus()),t.preventDefault();break}},isRowMatchModeSelected(t){return this.filters[this.field].matchMode===t},onOperatorChange(t){let n={...this.filters};n[this.field].operator=t,this.$emit("filter-change",n),this.$emit("operator-change",{field:this.field,operator:t}),this.showApplyButton||this.$emit("filter-apply")},onMenuMatchModeChange(t,n){let r={...this.filters};r[this.field].constraints[n].matchMode=t,this.$emit("matchmode-change",{field:this.field,matchMode:t,index:n}),this.showApplyButton||this.$emit("filter-apply")},addConstraint(){let t={...this.filters},n={value:null,matchMode:this.defaultMatchMode};t[this.field].constraints.push(n),this.$emit("constraint-add",{field:this.field,constraing:n}),this.$emit("filter-change",t),this.showApplyButton||this.$emit("filter-apply")},removeConstraint(t){let n={...this.filters},r=n[this.field].constraints.splice(t,1);this.$emit("constraint-remove",{field:this.field,constraing:r}),this.$emit("filter-change",n),this.showApplyButton||this.$emit("filter-apply")},filterCallback(){this.$emit("filter-apply")},findNextItem(t){let n=t.nextElementSibling;return n?tt.hasClass(n,"p-column-filter-separator")?this.findNextItem(n):n:t.parentElement.firstElementChild},findPrevItem(t){let n=t.previousElementSibling;return n?tt.hasClass(n,"p-column-filter-separator")?this.findPrevItem(n):n:t.parentElement.lastElementChild},hide(){this.overlayVisible=!1,tt.focus(this.$refs.icon)},onContentClick(t){this.selfClick=!0,jy.emit("overlay-click",{originalEvent:t,target:this.overlay})},onContentMouseDown(){this.selfClick=!0},onOverlayEnter(t){this.filterMenuStyle&&tt.applyStyle(this.overlay,this.filterMenuStyle),mi.set("overlay",t,this.$primevue.config.zIndex.overlay),tt.absolutePosition(this.overlay,this.$refs.icon),this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.overlayEventListener=n=>{this.isOutsideClicked(n.target)||(this.selfClick=!0)},jy.on("overlay-click",this.overlayEventListener)},onOverlayLeave(){this.onOverlayHide()},onOverlayAfterLeave(t){mi.clear(t)},onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.overlay=null,jy.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null},overlayRef(t){this.overlay=t},isOutsideClicked(t){return!this.isTargetClicked(t)&&this.overlay&&!(this.overlay.isSameNode(t)||this.overlay.contains(t))},isTargetClicked(t){return this.$refs.icon&&(this.$refs.icon.isSameNode(t)||this.$refs.icon.contains(t))},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=t=>{this.overlayVisible&&!this.selfClick&&this.isOutsideClicked(t.target)&&(this.overlayVisible=!1),this.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new o7(this.$refs.icon,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!tt.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}},computed:{containerClass(){return["p-column-filter p-fluid",{"p-column-filter-row":this.display==="row","p-column-filter-menu":this.display==="menu"}]},overlayClass(){return[this.filterMenuClass,{"p-column-filter-overlay p-component p-fluid":!0,"p-column-filter-overlay-menu":this.display==="menu","p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},showMenuButton(){return this.showMenu&&(this.display==="row"?this.type!=="boolean":!0)},overlayId(){return Ud()},matchModes(){return this.matchModeOptions||this.$primevue.config.filterMatchModeOptions[this.type].map(t=>({label:this.$primevue.config.locale[t],value:t}))},isShowMatchModes(){return this.type!=="boolean"&&this.showMatchModes&&this.matchModes},operatorOptions(){return[{label:this.$primevue.config.locale.matchAll,value:bV.AND},{label:this.$primevue.config.locale.matchAny,value:bV.OR}]},noFilterLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.noFilter:void 0},isShowOperator(){return this.showOperator&&this.filters[this.field].operator},operator(){return this.filters[this.field].operator},fieldConstraints(){return this.filters[this.field].constraints||[this.filters[this.field]]},showRemoveIcon(){return this.fieldConstraints.length>1},removeRuleButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.removeRule:void 0},addRuleButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.addRule:void 0},isShowAddConstraint(){return this.showAddButton&&this.filters[this.field].operator&&this.fieldConstraints&&this.fieldConstraints.length<this.maxConstraints},clearButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.clear:void 0},applyButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.apply:void 0},filterMenuButtonAriaLabel(){return this.$primevue.config.locale?this.overlayVisible?this.$primevue.config.locale.showFilterMenu:this.$primevue.config.locale.hideFilterMenu:void 0},filterOperatorAriaLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.filterOperator:void 0},filterConstraintAriaLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.filterConstraint:void 0}},components:{CFDropdown:v4,CFButton:eI,Portal:k1},directives:{focustrap:R7}};const qEe=["aria-label","aria-expanded","aria-controls"],KEe=yt("span",{class:"pi pi-filter-icon pi-filter"},null,-1),YEe=[KEe],XEe=yt("span",{class:"pi pi-filter-slash"},null,-1),JEe=[XEe],QEe=["id","aria-modal"],e2e={key:0,class:"p-column-filter-row-items"},t2e=["onClick","onKeydown","tabindex"],n2e=yt("li",{class:"p-column-filter-separator"},null,-1),o2e={key:0,class:"p-column-filter-operator"},s2e={class:"p-column-filter-constraints"},r2e={key:1,class:"p-column-filter-add-rule"},a2e={class:"p-column-filter-buttonbar"};function i2e(t,n,r,u,f,d){const w=Vn("CFDropdown"),x=Vn("CFButton"),T=Vn("Portal"),I=gl("focustrap");return be(),Le("div",{class:cn(d.containerClass)},[r.display==="row"?(be(),Le("div",hr({key:0,class:"p-fluid p-column-filter-element"},r.filterInputProps),[(be(),Mn(Ha(r.filterElement),{field:r.field,filterModel:r.filters[r.field],filterCallback:d.filterCallback},null,8,["field","filterModel","filterCallback"]))],16)):Wt("",!0),d.showMenuButton?(be(),Le("button",{key:1,ref:"icon",type:"button",class:cn(["p-column-filter-menu-button p-link",{"p-column-filter-menu-button-open":f.overlayVisible,"p-column-filter-menu-button-active":d.hasFilter()}]),"aria-label":d.filterMenuButtonAriaLabel,"aria-haspopup":"true","aria-expanded":f.overlayVisible,"aria-controls":d.overlayId,onClick:n[0]||(n[0]=$=>d.toggleMenu()),onKeydown:n[1]||(n[1]=$=>d.onToggleButtonKeyDown($))},YEe,42,qEe)):Wt("",!0),r.showClearButton&&r.display==="row"?(be(),Le("button",{key:2,class:cn([{"p-hidden-space":!d.hasRowFilter()},"p-column-filter-clear-button p-link"]),type:"button",onClick:n[2]||(n[2]=$=>d.clearFilter())},JEe,2)):Wt("",!0),Gn(T,null,{default:Ms(()=>[Gn(Lm,{name:"p-connected-overlay",onEnter:d.onOverlayEnter,onLeave:d.onOverlayLeave,onAfterLeave:d.onOverlayAfterLeave},{default:Ms(()=>[f.overlayVisible?Er((be(),Le("div",{key:0,ref:d.overlayRef,id:d.overlayId,"aria-modal":f.overlayVisible,role:"dialog",class:cn(d.overlayClass),onKeydown:n[10]||(n[10]=sx((...$)=>d.hide&&d.hide(...$),["escape"])),onClick:n[11]||(n[11]=(...$)=>d.onContentClick&&d.onContentClick(...$)),onMousedown:n[12]||(n[12]=(...$)=>d.onContentMouseDown&&d.onContentMouseDown(...$))},[(be(),Mn(Ha(r.filterHeaderTemplate),{field:r.field,filterModel:r.filters[r.field],filterCallback:d.filterCallback},null,8,["field","filterModel","filterCallback"])),r.display==="row"?(be(),Le("ul",e2e,[(be(!0),Le(Xn,null,Ua(d.matchModes,($,F)=>(be(),Le("li",{key:$.label,class:cn(["p-column-filter-row-item",{"p-highlight":d.isRowMatchModeSelected($.value)}]),onClick:H=>d.onRowMatchModeChange($.value),onKeydown:[n[3]||(n[3]=H=>d.onRowMatchModeKeyDown(H)),sx(mQ(H=>d.onRowMatchModeChange($.value),["prevent"]),["enter"])],tabindex:F===0?"0":null},Xo($.label),43,t2e))),128)),n2e,yt("li",{class:"p-column-filter-row-item",onClick:n[4]||(n[4]=$=>d.clearFilter()),onKeydown:[n[5]||(n[5]=$=>d.onRowMatchModeKeyDown($)),n[6]||(n[6]=sx($=>t.onRowClearItemClick(),["enter"]))]},Xo(d.noFilterLabel),33)])):(be(),Le(Xn,{key:1},[d.isShowOperator?(be(),Le("div",o2e,[Gn(w,{options:d.operatorOptions,modelValue:d.operator,"aria-label":d.filterOperatorAriaLabel,class:"p-column-filter-operator-dropdown",optionLabel:"label",optionValue:"value","onUpdate:modelValue":n[7]||(n[7]=$=>d.onOperatorChange($))},null,8,["options","modelValue","aria-label"])])):Wt("",!0),yt("div",s2e,[(be(!0),Le(Xn,null,Ua(d.fieldConstraints,($,F)=>(be(),Le("div",{key:F,class:"p-column-filter-constraint"},[d.isShowMatchModes?(be(),Mn(w,{key:0,options:d.matchModes,modelValue:$.matchMode,class:"p-column-filter-matchmode-dropdown",optionLabel:"label",optionValue:"value","aria-label":d.filterConstraintAriaLabel,"onUpdate:modelValue":H=>d.onMenuMatchModeChange(H,F)},null,8,["options","modelValue","aria-label","onUpdate:modelValue"])):Wt("",!0),r.display==="menu"?(be(),Mn(Ha(r.filterElement),{key:1,field:r.field,filterModel:$,filterCallback:d.filterCallback},null,8,["field","filterModel","filterCallback"])):Wt("",!0),yt("div",null,[d.showRemoveIcon?(be(),Mn(x,{key:0,type:"button",icon:"pi pi-trash",class:"p-column-filter-remove-button p-button-text p-button-danger p-button-sm",onClick:H=>d.removeConstraint(F),label:d.removeRuleButtonLabel},null,8,["onClick","label"])):Wt("",!0)])]))),128))]),d.isShowAddConstraint?(be(),Le("div",r2e,[Gn(x,{type:"button",label:d.addRuleButtonLabel,icon:"pi pi-plus",class:"p-column-filter-add-button p-button-text p-button-sm",onClick:n[8]||(n[8]=$=>d.addConstraint())},null,8,["label"])])):Wt("",!0),yt("div",a2e,[!r.filterClearTemplate&&r.showClearButton?(be(),Mn(x,{key:0,type:"button",class:"p-button-outlined p-button-sm",label:d.clearButtonLabel,onClick:d.clearFilter},null,8,["label","onClick"])):(be(),Mn(Ha(r.filterClearTemplate),{key:1,field:r.field,filterModel:r.filters[r.field],filterCallback:d.clearFilter},null,8,["field","filterModel","filterCallback"])),r.showApplyButton?(be(),Le(Xn,{key:2},[r.filterApplyTemplate?(be(),Mn(Ha(r.filterApplyTemplate),{key:1,field:r.field,filterModel:r.filters[r.field],filterCallback:d.applyFilter},null,8,["field","filterModel","filterCallback"])):(be(),Mn(x,{key:0,type:"button",class:"p-button-sm",label:d.applyButtonLabel,onClick:n[9]||(n[9]=$=>d.applyFilter())},null,8,["label"]))],64)):Wt("",!0)])],64)),(be(),Mn(Ha(r.filterFooterTemplate),{field:r.field,filterModel:r.filters[r.field],filterCallback:d.filterCallback},null,8,["field","filterModel","filterCallback"]))],42,QEe)),[[I,{autoFocus:!0}]]):Wt("",!0)]),_:1},8,["onEnter","onLeave","onAfterLeave"])]),_:1})],2)}Ree.render=i2e;var Aee={name:"HeaderCheckbox",emits:["change"],props:{checked:null,disabled:null},data(){return{focused:!1}},methods:{onClick(t){this.disabled||(this.$emit("change",{originalEvent:t,checked:!this.checked}),tt.focus(this.$refs.input))},onFocus(){this.focused=!0},onBlur(){this.focused=!1}},computed:{headerCheckboxAriaLabel(){return this.$primevue.config.locale.aria?this.checked?this.$primevue.config.locale.aria.selectAll:this.$primevue.config.locale.aria.unselectAll:void 0}}};const l2e={class:"p-hidden-accessible"},c2e=["checked","disabled","tabindex","aria-label"];function u2e(t,n,r,u,f,d){return be(),Le("div",{class:cn(["p-checkbox p-component",{"p-checkbox-focused":f.focused,"p-disabled":r.disabled}]),onClick:n[2]||(n[2]=(...w)=>d.onClick&&d.onClick(...w)),onKeydown:n[3]||(n[3]=sx(mQ((...w)=>d.onClick&&d.onClick(...w),["prevent"]),["space"]))},[yt("div",l2e,[yt("input",{ref:"input",type:"checkbox",checked:r.checked,disabled:r.disabled,tabindex:r.disabled?null:"0","aria-label":d.headerCheckboxAriaLabel,onFocus:n[0]||(n[0]=w=>d.onFocus(w)),onBlur:n[1]||(n[1]=w=>d.onBlur(w))},null,40,c2e)]),yt("div",{ref:"box",class:cn(["p-checkbox-box p-component",{"p-highlight":r.checked,"p-disabled":r.disabled,"p-focus":f.focused}])},[yt("span",{class:cn(["p-checkbox-icon",{"pi pi-check":r.checked}])},null,2)],2)],34)}Aee.render=u2e;var Zce={name:"HeaderCell",emits:["column-click","column-mousedown","column-dragstart","column-dragover","column-dragleave","column-drop","column-resizestart","checkbox-change","filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{column:{type:Object,default:null},resizableColumns:{type:Boolean,default:!1},groupRowsBy:{type:[Array,String,Function],default:null},sortMode:{type:String,default:"single"},groupRowSortField:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},multiSortMeta:{type:Array,default:null},allRowsSelected:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},filterDisplay:{type:String,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},filterColumn:{type:Boolean,default:!1},reorderableColumns:{type:Boolean,default:!1},filterInputProps:{type:null,default:null}},data(){return{styleObject:{}}},mounted(){this.columnProp("frozen")&&this.updateStickyPosition()},updated(){this.columnProp("frozen")&&this.updateStickyPosition()},methods:{columnProp(t){return In.getVNodeProp(this.column,t)},onClick(t){this.$emit("column-click",{originalEvent:t,column:this.column})},onKeyDown(t){(t.code==="Enter"||t.code==="Space")&&t.currentTarget.nodeName==="TH"&&tt.hasClass(t.currentTarget,"p-sortable-column")&&(this.$emit("column-click",{originalEvent:t,column:this.column}),t.preventDefault())},onMouseDown(t){this.$emit("column-mousedown",{originalEvent:t,column:this.column})},onDragStart(t){this.$emit("column-dragstart",t)},onDragOver(t){this.$emit("column-dragover",t)},onDragLeave(t){this.$emit("column-dragleave",t)},onDrop(t){this.$emit("column-drop",t)},onResizeStart(t){this.$emit("column-resizestart",t)},getMultiSortMetaIndex(){return this.multiSortMeta.findIndex(t=>t.field===this.columnProp("field")||t.field===this.columnProp("sortField"))},getBadgeValue(){let t=this.getMultiSortMetaIndex();return this.groupRowsBy&&this.groupRowsBy===this.groupRowSortField&&t>-1?t:t+1},isMultiSorted(){return this.sortMode==="multiple"&&this.columnProp("sortable")&&this.getMultiSortMetaIndex()>-1},isColumnSorted(){return this.sortMode==="single"?this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")):this.isMultiSorted()},updateStickyPosition(){if(this.columnProp("frozen")){if(this.columnProp("alignFrozen")==="right"){let r=0,u=this.$el.nextElementSibling;u&&(r=tt.getOuterWidth(u)+parseFloat(u.style.right||0)),this.styleObject.right=r+"px"}else{let r=0,u=this.$el.previousElementSibling;u&&(r=tt.getOuterWidth(u)+parseFloat(u.style.left||0)),this.styleObject.left=r+"px"}let n=this.$el.parentElement.nextElementSibling;if(n){let r=tt.index(this.$el);n.children[r].style.left=this.styleObject.left,n.children[r].style.right=this.styleObject.right}}},onHeaderCheckboxChange(t){this.$emit("checkbox-change",t)}},computed:{containerClass(){return[this.filterColumn?this.columnProp("filterHeaderClass"):this.columnProp("headerClass"),this.columnProp("class"),{"p-sortable-column":this.columnProp("sortable"),"p-resizable-column":this.resizableColumns,"p-highlight":this.isColumnSorted(),"p-filter-column":this.filterColumn,"p-frozen-column":this.columnProp("frozen"),"p-reorderable-column":this.reorderableColumns}]},containerStyle(){let t=this.filterColumn?this.columnProp("filterHeaderStyle"):this.columnProp("headerStyle"),n=this.columnProp("style");return this.columnProp("frozen")?[n,t,this.styleObject]:[n,t]},sortableColumnIcon(){let t=!1,n=null;if(this.sortMode==="single")t=this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")),n=t?this.sortOrder:0;else if(this.sortMode==="multiple"){let r=this.getMultiSortMetaIndex();r>-1&&(t=!0,n=this.multiSortMeta[r].order)}return["p-sortable-column-icon pi pi-fw",{"pi-sort-alt":!t,"pi-sort-amount-up-alt":t&&n>0,"pi-sort-amount-down":t&&n<0}]},ariaSort(){if(this.columnProp("sortable")){const t=this.sortableColumnIcon;return t[1]["pi-sort-amount-down"]?"descending":t[1]["pi-sort-amount-up-alt"]?"ascending":"none"}else return null}},components:{DTHeaderCheckbox:Aee,DTColumnFilter:Ree}};const d2e=["tabindex","colspan","rowspan","aria-sort"],f2e={class:"p-column-header-content"},h2e={key:1,class:"p-column-title"},m2e={key:3,class:"p-sortable-column-badge"};function p2e(t,n,r,u,f,d){const w=Vn("DTHeaderCheckbox"),x=Vn("DTColumnFilter");return be(),Le("th",{style:xr(d.containerStyle),class:cn(d.containerClass),tabindex:d.columnProp("sortable")?"0":null,role:"columnheader",colspan:d.columnProp("colspan"),rowspan:d.columnProp("rowspan"),"aria-sort":d.ariaSort,onClick:n[8]||(n[8]=(...T)=>d.onClick&&d.onClick(...T)),onKeydown:n[9]||(n[9]=(...T)=>d.onKeyDown&&d.onKeyDown(...T)),onMousedown:n[10]||(n[10]=(...T)=>d.onMouseDown&&d.onMouseDown(...T)),onDragstart:n[11]||(n[11]=(...T)=>d.onDragStart&&d.onDragStart(...T)),onDragover:n[12]||(n[12]=(...T)=>d.onDragOver&&d.onDragOver(...T)),onDragleave:n[13]||(n[13]=(...T)=>d.onDragLeave&&d.onDragLeave(...T)),onDrop:n[14]||(n[14]=(...T)=>d.onDrop&&d.onDrop(...T))},[r.resizableColumns&&!d.columnProp("frozen")?(be(),Le("span",{key:0,class:"p-column-resizer",onMousedown:n[0]||(n[0]=(...T)=>d.onResizeStart&&d.onResizeStart(...T))},null,32)):Wt("",!0),yt("div",f2e,[r.column.children&&r.column.children.header?(be(),Mn(Ha(r.column.children.header),{key:0,column:r.column},null,8,["column"])):Wt("",!0),d.columnProp("header")?(be(),Le("span",h2e,Xo(d.columnProp("header")),1)):Wt("",!0),d.columnProp("sortable")?(be(),Le("span",{key:2,class:cn(d.sortableColumnIcon)},null,2)):Wt("",!0),d.isMultiSorted()?(be(),Le("span",m2e,Xo(d.getBadgeValue()),1)):Wt("",!0),d.columnProp("selectionMode")==="multiple"&&r.filterDisplay!=="row"?(be(),Mn(w,{key:4,checked:r.allRowsSelected,onChange:d.onHeaderCheckboxChange,disabled:r.empty},null,8,["checked","onChange","disabled"])):Wt("",!0),r.filterDisplay==="menu"&&r.column.children&&r.column.children.filter?(be(),Mn(x,{key:5,field:d.columnProp("filterField")||d.columnProp("field"),type:d.columnProp("dataType"),display:"menu",showMenu:d.columnProp("showFilterMenu"),filterElement:r.column.children&&r.column.children.filter,filterHeaderTemplate:r.column.children&&r.column.children.filterheader,filterFooterTemplate:r.column.children&&r.column.children.filterfooter,filterClearTemplate:r.column.children&&r.column.children.filterclear,filterApplyTemplate:r.column.children&&r.column.children.filterapply,filters:r.filters,filtersStore:r.filtersStore,filterInputProps:r.filterInputProps,onFilterChange:n[1]||(n[1]=T=>t.$emit("filter-change",T)),onFilterApply:n[2]||(n[2]=T=>t.$emit("filter-apply")),filterMenuStyle:d.columnProp("filterMenuStyle"),filterMenuClass:d.columnProp("filterMenuClass"),showOperator:d.columnProp("showFilterOperator"),showClearButton:d.columnProp("showClearButton"),showApplyButton:d.columnProp("showApplyButton"),showMatchModes:d.columnProp("showFilterMatchModes"),showAddButton:d.columnProp("showAddButton"),matchModeOptions:d.columnProp("filterMatchModeOptions"),maxConstraints:d.columnProp("maxConstraints"),onOperatorChange:n[3]||(n[3]=T=>t.$emit("operator-change",T)),onMatchmodeChange:n[4]||(n[4]=T=>t.$emit("matchmode-change",T)),onConstraintAdd:n[5]||(n[5]=T=>t.$emit("constraint-add",T)),onConstraintRemove:n[6]||(n[6]=T=>t.$emit("constraint-remove",T)),onApplyClick:n[7]||(n[7]=T=>t.$emit("apply-click",T))},null,8,["field","type","showMenu","filterElement","filterHeaderTemplate","filterFooterTemplate","filterClearTemplate","filterApplyTemplate","filters","filtersStore","filterInputProps","filterMenuStyle","filterMenuClass","showOperator","showClearButton","showApplyButton","showMatchModes","showAddButton","matchModeOptions","maxConstraints"])):Wt("",!0)])],46,d2e)}Zce.render=p2e;var Gce={name:"TableHeader",emits:["column-click","column-mousedown","column-dragstart","column-dragover","column-dragleave","column-drop","column-resizestart","checkbox-change","filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{columnGroup:{type:null,default:null},columns:{type:null,default:null},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},resizableColumns:{type:Boolean,default:!1},allRowsSelected:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},sortMode:{type:String,default:"single"},groupRowSortField:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},multiSortMeta:{type:Array,default:null},filterDisplay:{type:String,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},reorderableColumns:{type:Boolean,default:!1},filterInputProps:{type:null,default:null}},methods:{columnProp(t,n){return In.getVNodeProp(t,n)},getFilterColumnHeaderClass(t){return["p-filter-column",this.columnProp(t,"filterHeaderClass"),this.columnProp(t,"class"),{"p-frozen-column":this.columnProp(t,"frozen")}]},getFilterColumnHeaderStyle(t){return[this.columnProp(t,"filterHeaderStyle"),this.columnProp(t,"style")]},getHeaderRows(){let t=[],n=this.columnGroup;if(n.children&&n.children.default){for(let r of n.children.default())r.type.name==="Row"?t.push(r):r.children&&r.children instanceof Array&&(t=r.children);return t}},getHeaderColumns(t){let n=[];if(t.children&&t.children.default)return t.children.default().forEach(r=>{r.children&&r.children instanceof Array?n=[...n,...r.children]:r.type.name==="Column"&&n.push(r)}),n}},components:{DTHeaderCell:Zce,DTHeaderCheckbox:Aee,DTColumnFilter:Ree}};const g2e={class:"p-datatable-thead",role:"rowgroup"},y2e={role:"row"},b2e={key:0,role:"row"};function v2e(t,n,r,u,f,d){const w=Vn("DTHeaderCell"),x=Vn("DTHeaderCheckbox"),T=Vn("DTColumnFilter");return be(),Le("thead",g2e,[r.columnGroup?(be(!0),Le(Xn,{key:1},Ua(d.getHeaderRows(),(I,$)=>(be(),Le("tr",{key:$,role:"row"},[(be(!0),Le(Xn,null,Ua(d.getHeaderColumns(I),(F,H)=>(be(),Le(Xn,{key:d.columnProp(F,"columnKey")||d.columnProp(F,"field")||H},[!d.columnProp(F,"hidden")&&(r.rowGroupMode!=="subheader"||r.groupRowsBy!==d.columnProp(F,"field"))&&typeof F.children!="string"?(be(),Mn(w,{key:0,column:F,onColumnClick:n[23]||(n[23]=de=>t.$emit("column-click",de)),onColumnMousedown:n[24]||(n[24]=de=>t.$emit("column-mousedown",de)),groupRowsBy:r.groupRowsBy,groupRowSortField:r.groupRowSortField,sortMode:r.sortMode,sortField:r.sortField,sortOrder:r.sortOrder,multiSortMeta:r.multiSortMeta,allRowsSelected:r.allRowsSelected,empty:r.empty,onCheckboxChange:n[25]||(n[25]=de=>t.$emit("checkbox-change",de)),filters:r.filters,filterDisplay:r.filterDisplay,filtersStore:r.filtersStore,onFilterChange:n[26]||(n[26]=de=>t.$emit("filter-change",de)),onFilterApply:n[27]||(n[27]=de=>t.$emit("filter-apply")),onOperatorChange:n[28]||(n[28]=de=>t.$emit("operator-change",de)),onMatchmodeChange:n[29]||(n[29]=de=>t.$emit("matchmode-change",de)),onConstraintAdd:n[30]||(n[30]=de=>t.$emit("constraint-add",de)),onConstraintRemove:n[31]||(n[31]=de=>t.$emit("constraint-remove",de)),onApplyClick:n[32]||(n[32]=de=>t.$emit("apply-click",de))},null,8,["column","groupRowsBy","groupRowSortField","sortMode","sortField","sortOrder","multiSortMeta","allRowsSelected","empty","filters","filterDisplay","filtersStore"])):Wt("",!0)],64))),128))]))),128)):(be(),Le(Xn,{key:0},[yt("tr",y2e,[(be(!0),Le(Xn,null,Ua(r.columns,(I,$)=>(be(),Le(Xn,{key:d.columnProp(I,"columnKey")||d.columnProp(I,"field")||$},[!d.columnProp(I,"hidden")&&(r.rowGroupMode!=="subheader"||r.groupRowsBy!==d.columnProp(I,"field"))?(be(),Mn(w,{key:0,column:I,onColumnClick:n[0]||(n[0]=F=>t.$emit("column-click",F)),onColumnMousedown:n[1]||(n[1]=F=>t.$emit("column-mousedown",F)),onColumnDragstart:n[2]||(n[2]=F=>t.$emit("column-dragstart",F)),onColumnDragover:n[3]||(n[3]=F=>t.$emit("column-dragover",F)),onColumnDragleave:n[4]||(n[4]=F=>t.$emit("column-dragleave",F)),onColumnDrop:n[5]||(n[5]=F=>t.$emit("column-drop",F)),groupRowsBy:r.groupRowsBy,groupRowSortField:r.groupRowSortField,reorderableColumns:r.reorderableColumns,resizableColumns:r.resizableColumns,onColumnResizestart:n[6]||(n[6]=F=>t.$emit("column-resizestart",F)),sortMode:r.sortMode,sortField:r.sortField,sortOrder:r.sortOrder,multiSortMeta:r.multiSortMeta,allRowsSelected:r.allRowsSelected,empty:r.empty,onCheckboxChange:n[7]||(n[7]=F=>t.$emit("checkbox-change",F)),filters:r.filters,filterDisplay:r.filterDisplay,filtersStore:r.filtersStore,filterInputProps:r.filterInputProps,onFilterChange:n[8]||(n[8]=F=>t.$emit("filter-change",F)),onFilterApply:n[9]||(n[9]=F=>t.$emit("filter-apply")),onOperatorChange:n[10]||(n[10]=F=>t.$emit("operator-change",F)),onMatchmodeChange:n[11]||(n[11]=F=>t.$emit("matchmode-change",F)),onConstraintAdd:n[12]||(n[12]=F=>t.$emit("constraint-add",F)),onConstraintRemove:n[13]||(n[13]=F=>t.$emit("constraint-remove",F)),onApplyClick:n[14]||(n[14]=F=>t.$emit("apply-click",F))},null,8,["column","groupRowsBy","groupRowSortField","reorderableColumns","resizableColumns","sortMode","sortField","sortOrder","multiSortMeta","allRowsSelected","empty","filters","filterDisplay","filtersStore","filterInputProps"])):Wt("",!0)],64))),128))]),r.filterDisplay==="row"?(be(),Le("tr",b2e,[(be(!0),Le(Xn,null,Ua(r.columns,(I,$)=>(be(),Le(Xn,{key:d.columnProp(I,"columnKey")||d.columnProp(I,"field")||$},[!d.columnProp(I,"hidden")&&(r.rowGroupMode!=="subheader"||r.groupRowsBy!==d.columnProp(I,"field"))?(be(),Le("th",{key:0,style:xr(d.getFilterColumnHeaderStyle(I)),class:cn(d.getFilterColumnHeaderClass(I))},[d.columnProp(I,"selectionMode")==="multiple"?(be(),Mn(x,{key:0,checked:r.allRowsSelected,disabled:r.empty,onChange:n[15]||(n[15]=F=>t.$emit("checkbox-change",F))},null,8,["checked","disabled"])):Wt("",!0),I.children&&I.children.filter?(be(),Mn(T,{key:1,field:d.columnProp(I,"filterField")||d.columnProp(I,"field"),type:d.columnProp(I,"dataType"),display:"row",showMenu:d.columnProp(I,"showFilterMenu"),filterElement:I.children&&I.children.filter,filterHeaderTemplate:I.children&&I.children.filterheader,filterFooterTemplate:I.children&&I.children.filterfooter,filterClearTemplate:I.children&&I.children.filterclear,filterApplyTemplate:I.children&&I.children.filterapply,filters:r.filters,filtersStore:r.filtersStore,filterInputProps:r.filterInputProps,onFilterChange:n[16]||(n[16]=F=>t.$emit("filter-change",F)),onFilterApply:n[17]||(n[17]=F=>t.$emit("filter-apply")),filterMenuStyle:d.columnProp(I,"filterMenuStyle"),filterMenuClass:d.columnProp(I,"filterMenuClass"),showOperator:d.columnProp(I,"showFilterOperator"),showClearButton:d.columnProp(I,"showClearButton"),showApplyButton:d.columnProp(I,"showApplyButton"),showMatchModes:d.columnProp(I,"showFilterMatchModes"),showAddButton:d.columnProp(I,"showAddButton"),matchModeOptions:d.columnProp(I,"filterMatchModeOptions"),maxConstraints:d.columnProp(I,"maxConstraints"),onOperatorChange:n[18]||(n[18]=F=>t.$emit("operator-change",F)),onMatchmodeChange:n[19]||(n[19]=F=>t.$emit("matchmode-change",F)),onConstraintAdd:n[20]||(n[20]=F=>t.$emit("constraint-add",F)),onConstraintRemove:n[21]||(n[21]=F=>t.$emit("constraint-remove",F)),onApplyClick:n[22]||(n[22]=F=>t.$emit("apply-click",F))},null,8,["field","type","showMenu","filterElement","filterHeaderTemplate","filterFooterTemplate","filterClearTemplate","filterApplyTemplate","filters","filtersStore","filterInputProps","filterMenuStyle","filterMenuClass","showOperator","showClearButton","showApplyButton","showMatchModes","showAddButton","matchModeOptions","maxConstraints"])):Wt("",!0)],6)):Wt("",!0)],64))),128))])):Wt("",!0)],64))])}Gce.render=v2e;var qce={name:"DataTable",emits:["value-change","update:first","update:rows","page","update:sortField","update:sortOrder","update:multiSortMeta","sort","filter","row-click","row-dblclick","update:selection","row-select","row-unselect","update:contextMenuSelection","row-contextmenu","row-unselect-all","row-select-all","select-all-change","column-resize-end","column-reorder","row-reorder","update:expandedRows","row-collapse","row-expand","update:expandedRowGroups","rowgroup-collapse","rowgroup-expand","update:filters","state-restore","state-save","cell-edit-init","cell-edit-complete","cell-edit-cancel","update:editingRows","row-edit-init","row-edit-save","row-edit-cancel"],props:{value:{type:Array,default:null},dataKey:{type:[String,Function],default:null},rows:{type:Number,default:0},first:{type:Number,default:0},totalRecords:{type:Number,default:0},paginator:{type:Boolean,default:!1},paginatorPosition:{type:String,default:"bottom"},alwaysShowPaginator:{type:Boolean,default:!0},paginatorTemplate:{type:[Object,String],default:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},pageLinkSize:{type:Number,default:5},rowsPerPageOptions:{type:Array,default:null},currentPageReportTemplate:{type:String,default:"({currentPage} of {totalPages})"},lazy:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner"},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},defaultSortOrder:{type:Number,default:1},multiSortMeta:{type:Array,default:null},sortMode:{type:String,default:"single"},removableSort:{type:Boolean,default:!1},filters:{type:Object,default:null},filterDisplay:{type:String,default:null},globalFilterFields:{type:Array,default:null},filterLocale:{type:String,default:void 0},selection:{type:[Array,Object],default:null},selectionMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},metaKeySelection:{type:Boolean,default:!0},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},selectAll:{type:Boolean,default:null},rowHover:{type:Boolean,default:!1},csvSeparator:{type:String,default:","},exportFilename:{type:String,default:"download"},exportFunction:{type:Function,default:null},resizableColumns:{type:Boolean,default:!1},columnResizeMode:{type:String,default:"fit"},reorderableColumns:{type:Boolean,default:!1},expandedRows:{type:Array,default:null},expandedRowIcon:{type:String,default:"pi-chevron-down"},collapsedRowIcon:{type:String,default:"pi-chevron-right"},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},stateStorage:{type:String,default:"session"},stateKey:{type:String,default:null},editMode:{type:String,default:null},editingRows:{type:Array,default:null},rowClass:{type:null,default:null},rowStyle:{type:null,default:null},scrollable:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},scrollHeight:{type:String,default:null},frozenValue:{type:Array,default:null},responsiveLayout:{type:String,default:"scroll"},breakpoint:{type:String,default:"960px"},showGridlines:{type:Boolean,default:!1},stripedRows:{type:Boolean,default:!1},tableStyle:{type:null,default:null},tableClass:{type:String,default:null},tableProps:{type:null,default:null},filterInputProps:{type:null,default:null}},data(){return{d_first:this.first,d_rows:this.rows,d_sortField:this.sortField,d_sortOrder:this.sortOrder,d_multiSortMeta:this.multiSortMeta?[...this.multiSortMeta]:[],d_groupRowsSortMeta:null,d_selectionKeys:null,d_expandedRowKeys:null,d_columnOrder:null,d_editingRowKeys:null,d_editingMeta:{},d_filters:this.cloneFilters(this.filters)}},rowTouched:!1,anchorRowIndex:null,rangeRowIndex:null,documentColumnResizeListener:null,documentColumnResizeEndListener:null,lastResizeHelperX:null,resizeColumnElement:null,columnResizing:!1,colReorderIconWidth:null,colReorderIconHeight:null,draggedColumn:null,draggedRowIndex:null,droppedRowIndex:null,rowDragging:null,columnWidthsState:null,tableWidthState:null,columnWidthsRestored:!1,watch:{first(t){this.d_first=t},rows(t){this.d_rows=t},sortField(t){this.d_sortField=t},sortOrder(t){this.d_sortOrder=t},multiSortMeta(t){this.d_multiSortMeta=t},selection:{immediate:!0,handler(t){this.dataKey&&this.updateSelectionKeys(t)}},expandedRows(t){this.dataKey&&this.updateExpandedRowKeys(t)},editingRows(t){this.dataKey&&this.updateEditingRowKeys(t)},filters:{deep:!0,handler:function(t){this.d_filters=this.cloneFilters(t)}}},beforeMount(){this.isStateful()&&this.restoreState()},mounted(){this.$el.setAttribute(this.attributeSelector,""),this.responsiveLayout==="stack"&&!this.scrollable&&this.createResponsiveStyle(),this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.editMode==="row"&&this.dataKey&&!this.d_editingRowKeys&&this.updateEditingRowKeys(this.editingRows)},beforeUnmount(){this.unbindColumnResizeEvents(),this.destroyStyleElement(),this.destroyResponsiveStyle()},updated(){this.isStateful()&&this.saveState(),this.editMode==="row"&&this.dataKey&&!this.d_editingRowKeys&&this.updateEditingRowKeys(this.editingRows)},methods:{columnProp(t,n){return In.getVNodeProp(t,n)},onPage(t){this.clearEditingMetaData(),this.d_first=t.first,this.d_rows=t.rows;let n=this.createLazyLoadEvent(t);n.pageCount=t.pageCount,n.page=t.page,this.$emit("update:first",this.d_first),this.$emit("update:rows",this.d_rows),this.$emit("page",n),this.$emit("value-change",this.processedData)},onColumnHeaderClick(t){const n=t.originalEvent,r=t.column;if(this.columnProp(r,"sortable")){const u=n.target,f=this.columnProp(r,"sortField")||this.columnProp(r,"field");(tt.hasClass(u,"p-sortable-column")||tt.hasClass(u,"p-column-title")||tt.hasClass(u,"p-column-header-content")||tt.hasClass(u,"p-sortable-column-icon")||tt.hasClass(u.parentElement,"p-sortable-column-icon"))&&(tt.clearSelection(),this.sortMode==="single"?(this.d_sortField===f?this.removableSort&&this.d_sortOrder*-1===this.defaultSortOrder?(this.d_sortOrder=null,this.d_sortField=null):this.d_sortOrder=this.d_sortOrder*-1:(this.d_sortOrder=this.defaultSortOrder,this.d_sortField=f),this.$emit("update:sortField",this.d_sortField),this.$emit("update:sortOrder",this.d_sortOrder),this.resetPage()):this.sortMode==="multiple"&&(n.metaKey||n.ctrlKey||(this.d_multiSortMeta=this.d_multiSortMeta.filter(w=>w.field===f)),this.addMultiSortField(f),this.$emit("update:multiSortMeta",this.d_multiSortMeta)),this.$emit("sort",this.createLazyLoadEvent(n)),this.$emit("value-change",this.processedData))}},sortSingle(t){if(this.clearEditingMetaData(),this.groupRowsBy&&this.groupRowsBy===this.sortField)return this.d_multiSortMeta=[{field:this.sortField,order:this.sortOrder||this.defaultSortOrder},{field:this.d_sortField,order:this.d_sortOrder}],this.sortMultiple(t);let n=[...t];return n.sort((r,u)=>{let f=In.resolveFieldData(r,this.d_sortField),d=In.resolveFieldData(u,this.d_sortField),w=null;return f==null&&d!=null?w=-1:f!=null&&d==null?w=1:f==null&&d==null?w=0:typeof f=="string"&&typeof d=="string"?w=f.localeCompare(d,void 0,{numeric:!0}):w=f<d?-1:f>d?1:0,this.d_sortOrder*w}),n},sortMultiple(t){if(this.clearEditingMetaData(),this.groupRowsBy&&(this.d_groupRowsSortMeta||this.d_multiSortMeta.length&&this.groupRowsBy===this.d_multiSortMeta[0].field)){const r=this.d_multiSortMeta[0];!this.d_groupRowsSortMeta&&(this.d_groupRowsSortMeta=r),r.field!==this.d_groupRowsSortMeta.field&&(this.d_multiSortMeta=[this.d_groupRowsSortMeta,...this.d_multiSortMeta])}let n=[...t];return n.sort((r,u)=>this.multisortField(r,u,0)),n},multisortField(t,n,r){const u=In.resolveFieldData(t,this.d_multiSortMeta[r].field),f=In.resolveFieldData(n,this.d_multiSortMeta[r].field);let d=null;if(typeof u=="string"||u instanceof String){if(u.localeCompare&&u!==f)return this.d_multiSortMeta[r].order*u.localeCompare(f,void 0,{numeric:!0})}else d=u<f?-1:1;return u===f?this.d_multiSortMeta.length-1>r?this.multisortField(t,n,r+1):0:this.d_multiSortMeta[r].order*d},addMultiSortField(t){let n=this.d_multiSortMeta.findIndex(r=>r.field===t);n>=0?this.removableSort&&this.d_multiSortMeta[n].order*-1===this.defaultSortOrder?this.d_multiSortMeta.splice(n,1):this.d_multiSortMeta[n]={field:t,order:this.d_multiSortMeta[n].order*-1}:this.d_multiSortMeta.push({field:t,order:this.defaultSortOrder}),this.d_multiSortMeta=[...this.d_multiSortMeta]},filter(t){if(!t)return;this.clearEditingMetaData();let n;this.filters.global&&(n=this.globalFilterFields||this.columns.map(f=>this.columnProp(f,"filterField")||this.columnProp(f,"field")));let r=[];for(let f=0;f<t.length;f++){let d=!0,w=!1,x=!1;for(let I in this.filters)if(Object.prototype.hasOwnProperty.call(this.filters,I)&&I!=="global"){x=!0;let $=I,F=this.filters[$];if(F.operator){for(let H of F.constraints)if(d=this.executeLocalFilter($,t[f],H),F.operator===bV.OR&&d||F.operator===bV.AND&&!d)break}else d=this.executeLocalFilter($,t[f],F);if(!d)break}if(this.filters.global&&!w&&n)for(let I=0;I<n.length;I++){let $=n[I];if(w=iJ.filters[this.filters.global.matchMode||Ec.CONTAINS](In.resolveFieldData(t[f],$),this.filters.global.value,this.filterLocale),w)break}let T;this.filters.global?T=x?x&&d&&w:w:T=x&&d,T&&r.push(t[f])}r.length===this.value.length&&(r=t);let u=this.createLazyLoadEvent();return u.filteredValue=r,this.$emit("filter",u),this.$emit("value-change",r),r},executeLocalFilter(t,n,r){let u=r.value,f=r.matchMode||Ec.STARTS_WITH,d=In.resolveFieldData(n,t),w=iJ.filters[f];return w(d,u,this.filterLocale)},onRowClick(t){const n=t.originalEvent,r=t.index,u=this.$refs.bodyRef&&this.$refs.bodyRef.$el,f=tt.findSingle(u,'tr.p-selectable-row[tabindex="0"]');if(!tt.isClickable(n.target)){if(this.$emit("row-click",t),this.selectionMode){const d=t.data,w=this.d_first+t.index;if(this.isMultipleSelectionMode()&&n.shiftKey&&this.anchorRowIndex!=null)tt.clearSelection(),this.rangeRowIndex=w,this.selectRange(n);else{const x=this.isSelected(d),T=this.rowTouched?!1:this.metaKeySelection;if(this.anchorRowIndex=w,this.rangeRowIndex=w,T){let I=n.metaKey||n.ctrlKey;if(x&&I){if(this.isSingleSelectionMode())this.$emit("update:selection",null);else{const $=this.findIndexInSelection(d),F=this.selection.filter((H,de)=>de!=$);this.$emit("update:selection",F)}this.$emit("row-unselect",{originalEvent:n,data:d,index:w,type:"row"})}else{if(this.isSingleSelectionMode())this.$emit("update:selection",d);else if(this.isMultipleSelectionMode()){let $=I?this.selection||[]:[];$=[...$,d],this.$emit("update:selection",$)}this.$emit("row-select",{originalEvent:n,data:d,index:w,type:"row"})}}else if(this.selectionMode==="single")x?(this.$emit("update:selection",null),this.$emit("row-unselect",{originalEvent:n,data:d,index:w,type:"row"})):(this.$emit("update:selection",d),this.$emit("row-select",{originalEvent:n,data:d,index:w,type:"row"}));else if(this.selectionMode==="multiple")if(x){const I=this.findIndexInSelection(d),$=this.selection.filter((F,H)=>H!=I);this.$emit("update:selection",$),this.$emit("row-unselect",{originalEvent:n,data:d,index:w,type:"row"})}else{const I=this.selection?[...this.selection,d]:[d];this.$emit("update:selection",I),this.$emit("row-select",{originalEvent:n,data:d,index:w,type:"row"})}}}this.rowTouched=!1,f&&(f.tabIndex="-1",tt.find(u,"tr.p-selectable-row")[r].tabIndex="0")}},onRowDblClick(t){const n=t.originalEvent;tt.isClickable(n.target)||this.$emit("row-dblclick",t)},onRowRightClick(t){tt.clearSelection(),t.originalEvent.target.focus(),this.$emit("update:contextMenuSelection",t.data),this.$emit("row-contextmenu",t)},onRowTouchEnd(){this.rowTouched=!0},onRowKeyDown(t,n){const r=t.originalEvent,u=t.data,f=t.index,d=r.metaKey||r.ctrlKey;if(this.selectionMode){const w=r.target;switch(r.code){case"ArrowDown":this.onArrowDownKey(r,w,f,n);break;case"ArrowUp":this.onArrowUpKey(r,w,f,n);break;case"Home":this.onHomeKey(r,w,f,n);break;case"End":this.onEndKey(r,w,f,n);break;case"Enter":this.onEnterKey(r,u,f);break;case"Space":this.onSpaceKey(r,u,f,n);break;case"Tab":this.onTabKey(r,f);break;default:if(r.code==="KeyA"&&d){const x=this.dataToRender(n.rows);this.$emit("update:selection",x)}break}}},onArrowDownKey(t,n,r,u){const f=this.findNextSelectableRow(n);if(f&&this.focusRowChange(n,f),t.shiftKey){const d=this.dataToRender(u.rows),w=r+1>=d.length?d.length-1:r+1;this.onRowClick({originalEvent:t,data:d[w],index:w})}t.preventDefault()},onArrowUpKey(t,n,r,u){const f=this.findPrevSelectableRow(n);if(f&&this.focusRowChange(n,f),t.shiftKey){const d=this.dataToRender(u.rows),w=r-1<=0?0:r-1;this.onRowClick({originalEvent:t,data:d[w],index:w})}t.preventDefault()},onHomeKey(t,n,r,u){const f=this.findFirstSelectableRow();if(f&&this.focusRowChange(n,f),t.ctrlKey&&t.shiftKey){const d=this.dataToRender(u.rows);this.$emit("update:selection",d.slice(0,r+1))}t.preventDefault()},onEndKey(t,n,r,u){const f=this.findLastSelectableRow();if(f&&this.focusRowChange(n,f),t.ctrlKey&&t.shiftKey){const d=this.dataToRender(u.rows);this.$emit("update:selection",d.slice(r,d.length))}t.preventDefault()},onEnterKey(t,n,r){this.onRowClick({originalEvent:t,data:n,index:r}),t.preventDefault()},onSpaceKey(t,n,r,u){if(this.onEnterKey(t,n,r),t.shiftKey&&this.selection!==null){const f=this.dataToRender(u.rows);let d;if(this.selection.length>0){let x,T;x=In.findIndexInList(this.selection[0],f),T=In.findIndexInList(this.selection[this.selection.length-1],f),d=r<=x?T:x}else d=In.findIndexInList(this.selection,f);const w=d!==r?f.slice(Math.min(d,r),Math.max(d,r)+1):n;this.$emit("update:selection",w)}},onTabKey(t,n){const r=this.$refs.bodyRef&&this.$refs.bodyRef.$el,u=tt.find(r,"tr.p-selectable-row");if(t.code==="Tab"&&u&&u.length>0){const f=tt.findSingle(r,"tr.p-highlight"),d=tt.findSingle(r,'tr.p-selectable-row[tabindex="0"]');f?(f.tabIndex="0",d&&d!==f&&(d.tabIndex="-1")):(u[0].tabIndex="0",d!==u[0]&&(u[n].tabIndex="-1"))}},findNextSelectableRow(t){let n=t.nextElementSibling;return n?tt.hasClass(n,"p-selectable-row")?n:this.findNextSelectableRow(n):null},findPrevSelectableRow(t){let n=t.previousElementSibling;return n?tt.hasClass(n,"p-selectable-row")?n:this.findPrevSelectableRow(n):null},findFirstSelectableRow(){return tt.findSingle(this.$refs.table,".p-selectable-row")},findLastSelectableRow(){const t=tt.find(this.$refs.table,".p-selectable-row");return t?t[t.length-1]:null},focusRowChange(t,n){t.tabIndex="-1",n.tabIndex="0",tt.focus(n)},toggleRowWithRadio(t){const n=t.data;this.isSelected(n)?(this.$emit("update:selection",null),this.$emit("row-unselect",{originalEvent:t.originalEvent,data:n,index:t.index,type:"radiobutton"})):(this.$emit("update:selection",n),this.$emit("row-select",{originalEvent:t.originalEvent,data:n,index:t.index,type:"radiobutton"}))},toggleRowWithCheckbox(t){const n=t.data;if(this.isSelected(n)){const r=this.findIndexInSelection(n),u=this.selection.filter((f,d)=>d!=r);this.$emit("update:selection",u),this.$emit("row-unselect",{originalEvent:t.originalEvent,data:n,index:t.index,type:"checkbox"})}else{let r=this.selection?[...this.selection]:[];r=[...r,n],this.$emit("update:selection",r),this.$emit("row-select",{originalEvent:t.originalEvent,data:n,index:t.index,type:"checkbox"})}},toggleRowsWithCheckbox(t){if(this.selectAll!==null)this.$emit("select-all-change",t);else{const{originalEvent:n,checked:r}=t;let u=[];r?(u=this.frozenValue?[...this.frozenValue,...this.processedData]:this.processedData,this.$emit("row-select-all",{originalEvent:n,data:u})):this.$emit("row-unselect-all",{originalEvent:n}),this.$emit("update:selection",u)}},isSingleSelectionMode(){return this.selectionMode==="single"},isMultipleSelectionMode(){return this.selectionMode==="multiple"},isSelected(t){return t&&this.selection?this.dataKey?this.d_selectionKeys?this.d_selectionKeys[In.resolveFieldData(t,this.dataKey)]!==void 0:!1:this.selection instanceof Array?this.findIndexInSelection(t)>-1:this.equals(t,this.selection):!1},findIndexInSelection(t){return this.findIndex(t,this.selection)},findIndex(t,n){let r=-1;if(n&&n.length){for(let u=0;u<n.length;u++)if(this.equals(t,n[u])){r=u;break}}return r},updateSelectionKeys(t){if(this.d_selectionKeys={},Array.isArray(t))for(let n of t)this.d_selectionKeys[String(In.resolveFieldData(n,this.dataKey))]=1;else this.d_selectionKeys[String(In.resolveFieldData(t,this.dataKey))]=1},updateExpandedRowKeys(t){if(t&&t.length){this.d_expandedRowKeys={};for(let n of t)this.d_expandedRowKeys[String(In.resolveFieldData(n,this.dataKey))]=1}else this.d_expandedRowKeys=null},updateEditingRowKeys(t){if(t&&t.length){this.d_editingRowKeys={};for(let n of t)this.d_editingRowKeys[String(In.resolveFieldData(n,this.dataKey))]=1}else this.d_editingRowKeys=null},equals(t,n){return this.compareSelectionBy==="equals"?t===n:In.equals(t,n,this.dataKey)},selectRange(t){let n,r;this.rangeRowIndex>this.anchorRowIndex?(n=this.anchorRowIndex,r=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(n=this.rangeRowIndex,r=this.anchorRowIndex):(n=this.rangeRowIndex,r=this.rangeRowIndex),this.lazy&&this.paginator&&(n-=this.first,r-=this.first);const u=this.processedData;let f=[];for(let d=n;d<=r;d++){let w=u[d];f.push(w),this.$emit("row-select",{originalEvent:t,data:w,type:"row"})}this.$emit("update:selection",f)},exportCSV(t,n){let r="\uFEFF";n||(n=this.processedData,t&&t.selectionOnly?n=this.selection||[]:this.frozenValue&&(n=n?[...this.frozenValue,...n]:this.frozenValue));let u=!1;for(let d=0;d<this.columns.length;d++){let w=this.columns[d];this.columnProp(w,"exportable")!==!1&&this.columnProp(w,"field")&&(u?r+=this.csvSeparator:u=!0,r+='"'+(this.columnProp(w,"exportHeader")||this.columnProp(w,"header")||this.columnProp(w,"field"))+'"')}n&&n.forEach(d=>{r+=`
`;let w=!1;for(let x=0;x<this.columns.length;x++){let T=this.columns[x];if(this.columnProp(T,"exportable")!==!1&&this.columnProp(T,"field")){w?r+=this.csvSeparator:w=!0;let I=In.resolveFieldData(d,this.columnProp(T,"field"));I!=null?this.exportFunction?I=this.exportFunction({data:I,field:this.columnProp(T,"field")}):I=String(I).replace(/"/g,'""'):I="",r+='"'+I+'"'}}});let f=!1;for(let d=0;d<this.columns.length;d++){let w=this.columns[d];d===0&&(r+=`
`),this.columnProp(w,"exportable")!==!1&&this.columnProp(w,"exportFooter")&&(f?r+=this.csvSeparator:f=!0,r+='"'+(this.columnProp(w,"exportFooter")||this.columnProp(w,"footer")||this.columnProp(w,"field"))+'"')}tt.exportCSV(r,this.exportFilename)},resetPage(){this.d_first=0,this.$emit("update:first",this.d_first)},onColumnResizeStart(t){let n=tt.getOffset(this.$el).left;this.resizeColumnElement=t.target.parentElement,this.columnResizing=!0,this.lastResizeHelperX=t.pageX-n+this.$el.scrollLeft,this.bindColumnResizeEvents()},onColumnResize(t){let n=tt.getOffset(this.$el).left;tt.addClass(this.$el,"p-unselectable-text"),this.$refs.resizeHelper.style.height=this.$el.offsetHeight+"px",this.$refs.resizeHelper.style.top=0+"px",this.$refs.resizeHelper.style.left=t.pageX-n+this.$el.scrollLeft+"px",this.$refs.resizeHelper.style.display="block"},onColumnResizeEnd(){let t=this.$refs.resizeHelper.offsetLeft-this.lastResizeHelperX,n=this.resizeColumnElement.offsetWidth,r=n+t,u=this.resizeColumnElement.style.minWidth||15;if(n+t>parseInt(u,10)){if(this.columnResizeMode==="fit"){let d=this.resizeColumnElement.nextElementSibling.offsetWidth-t;r>15&&d>15&&this.resizeTableCells(r,d)}else if(this.columnResizeMode==="expand"){const f=this.$refs.table.offsetWidth+t+"px",d=w=>{w&&(w.style.width=w.style.minWidth=f)};if(d(this.$refs.table),!this.virtualScrollerDisabled){const w=this.$refs.bodyRef&&this.$refs.bodyRef.$el,x=this.$refs.frozenBodyRef&&this.$refs.frozenBodyRef.$el;d(w),d(x)}this.resizeTableCells(r)}this.$emit("column-resize-end",{element:this.resizeColumnElement,delta:t})}this.$refs.resizeHelper.style.display="none",this.resizeColumn=null,tt.removeClass(this.$el,"p-unselectable-text"),this.unbindColumnResizeEvents(),this.isStateful()&&this.saveState()},resizeTableCells(t,n){let r=tt.index(this.resizeColumnElement),u=[];tt.find(this.$refs.table,".p-datatable-thead > tr > th").forEach(x=>u.push(tt.getOuterWidth(x))),this.destroyStyleElement(),this.createStyleElement();let d="",w=`.p-datatable[${this.attributeSelector}] > .p-datatable-wrapper ${this.virtualScrollerDisabled?"":"> .p-virtualscroller"} > .p-datatable-table`;u.forEach((x,T)=>{let I=T===r?t:n&&T===r+1?n:x,$=`width: ${I}px !important; max-width: ${I}px !important`;d+=`
                    ${w} > .p-datatable-thead > tr > th:nth-child(${T+1}),
                    ${w} > .p-datatable-tbody > tr > td:nth-child(${T+1}),
                    ${w} > .p-datatable-tfoot > tr > td:nth-child(${T+1}) {
                        ${$}
                    }
                `}),this.styleElement.innerHTML=d},bindColumnResizeEvents(){this.documentColumnResizeListener||(this.documentColumnResizeListener=document.addEventListener("mousemove",()=>{this.columnResizing&&this.onColumnResize(event)})),this.documentColumnResizeEndListener||(this.documentColumnResizeEndListener=document.addEventListener("mouseup",()=>{this.columnResizing&&(this.columnResizing=!1,this.onColumnResizeEnd())}))},unbindColumnResizeEvents(){this.documentColumnResizeListener&&(document.removeEventListener("document",this.documentColumnResizeListener),this.documentColumnResizeListener=null),this.documentColumnResizeEndListener&&(document.removeEventListener("document",this.documentColumnResizeEndListener),this.documentColumnResizeEndListener=null)},onColumnHeaderMouseDown(t){const n=t.originalEvent,r=t.column;this.reorderableColumns&&this.columnProp(r,"reorderableColumn")!==!1&&(n.target.nodeName==="INPUT"||n.target.nodeName==="TEXTAREA"||tt.hasClass(n.target,"p-column-resizer")?n.currentTarget.draggable=!1:n.currentTarget.draggable=!0)},onColumnHeaderDragStart(t){if(this.columnResizing){t.preventDefault();return}this.colReorderIconWidth=tt.getHiddenElementOuterWidth(this.$refs.reorderIndicatorUp),this.colReorderIconHeight=tt.getHiddenElementOuterHeight(this.$refs.reorderIndicatorUp),this.draggedColumn=this.findParentHeader(t.target),t.dataTransfer.setData("text","b")},onColumnHeaderDragOver(t){let n=this.findParentHeader(t.target);if(this.reorderableColumns&&this.draggedColumn&&n){t.preventDefault();let r=tt.getOffset(this.$el),u=tt.getOffset(n);if(this.draggedColumn!==n){let f=u.left-r.left,d=u.left+n.offsetWidth/2;this.$refs.reorderIndicatorUp.style.top=u.top-r.top-(this.colReorderIconHeight-1)+"px",this.$refs.reorderIndicatorDown.style.top=u.top-r.top+n.offsetHeight+"px",t.pageX>d?(this.$refs.reorderIndicatorUp.style.left=f+n.offsetWidth-Math.ceil(this.colReorderIconWidth/2)+"px",this.$refs.reorderIndicatorDown.style.left=f+n.offsetWidth-Math.ceil(this.colReorderIconWidth/2)+"px",this.dropPosition=1):(this.$refs.reorderIndicatorUp.style.left=f-Math.ceil(this.colReorderIconWidth/2)+"px",this.$refs.reorderIndicatorDown.style.left=f-Math.ceil(this.colReorderIconWidth/2)+"px",this.dropPosition=-1),this.$refs.reorderIndicatorUp.style.display="block",this.$refs.reorderIndicatorDown.style.display="block"}}},onColumnHeaderDragLeave(t){this.reorderableColumns&&this.draggedColumn&&(t.preventDefault(),this.$refs.reorderIndicatorUp.style.display="none",this.$refs.reorderIndicatorDown.style.display="none")},onColumnHeaderDrop(t){if(t.preventDefault(),this.draggedColumn){let n=tt.index(this.draggedColumn),r=tt.index(this.findParentHeader(t.target)),u=n!==r;u&&(r-n===1&&this.dropPosition===-1||r-n===-1&&this.dropPosition===1)&&(u=!1),u&&(In.reorderArray(this.columns,n,r),this.updateReorderableColumns(),this.$emit("column-reorder",{originalEvent:t,dragIndex:n,dropIndex:r})),this.$refs.reorderIndicatorUp.style.display="none",this.$refs.reorderIndicatorDown.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}},findParentHeader(t){if(t.nodeName==="TH")return t;{let n=t.parentElement;for(;n.nodeName!=="TH"&&(n=n.parentElement,!!n););return n}},findColumnByKey(t,n){if(t&&t.length)for(let r=0;r<t.length;r++){let u=t[r];if(this.columnProp(u,"columnKey")===n||this.columnProp(u,"field")===n)return u}return null},onRowMouseDown(t){tt.hasClass(t.target,"p-datatable-reorderablerow-handle")?t.currentTarget.draggable=!0:t.currentTarget.draggable=!1},onRowDragStart(t){const n=t.originalEvent,r=t.index;this.rowDragging=!0,this.draggedRowIndex=r,n.dataTransfer.setData("text","b")},onRowDragOver(t){const n=t.originalEvent,r=t.index;if(this.rowDragging&&this.draggedRowIndex!==r){let u=n.currentTarget,f=tt.getOffset(u).top+tt.getWindowScrollTop(),d=n.pageY,w=f+tt.getOuterHeight(u)/2,x=u.previousElementSibling;d<w?(tt.removeClass(u,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=r,x?tt.addClass(x,"p-datatable-dragpoint-bottom"):tt.addClass(u,"p-datatable-dragpoint-top")):(x?tt.removeClass(x,"p-datatable-dragpoint-bottom"):tt.addClass(u,"p-datatable-dragpoint-top"),this.droppedRowIndex=r+1,tt.addClass(u,"p-datatable-dragpoint-bottom")),n.preventDefault()}},onRowDragLeave(t){let n=t.currentTarget,r=n.previousElementSibling;r&&tt.removeClass(r,"p-datatable-dragpoint-bottom"),tt.removeClass(n,"p-datatable-dragpoint-bottom"),tt.removeClass(n,"p-datatable-dragpoint-top")},onRowDragEnd(t){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null,t.currentTarget.draggable=!1},onRowDrop(t){if(this.droppedRowIndex!=null){let n=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:this.droppedRowIndex===0?0:this.droppedRowIndex-1,r=[...this.processedData];In.reorderArray(r,this.draggedRowIndex+this.d_first,n+this.d_first),this.$emit("row-reorder",{originalEvent:t,dragIndex:this.draggedRowIndex,dropIndex:n,value:r})}this.onRowDragLeave(t),this.onRowDragEnd(t),t.preventDefault()},toggleRow(t){let n=t.data,r,u,f=this.expandedRows?[...this.expandedRows]:[];this.dataKey?r=this.d_expandedRowKeys?this.d_expandedRowKeys[In.resolveFieldData(n,this.dataKey)]!==void 0:!1:(u=this.findIndex(n,this.expandedRows),r=u>-1),r?(u==null&&(u=this.findIndex(n,this.expandedRows)),f.splice(u,1),this.$emit("update:expandedRows",f),this.$emit("row-collapse",t)):(f.push(n),this.$emit("update:expandedRows",f),this.$emit("row-expand",t))},toggleRowGroup(t){const n=t.originalEvent,r=t.data,u=In.resolveFieldData(r,this.groupRowsBy);let f=this.expandedRowGroups?[...this.expandedRowGroups]:[];this.isRowGroupExpanded(r)?(f=f.filter(d=>d!==u),this.$emit("update:expandedRowGroups",f),this.$emit("rowgroup-collapse",{originalEvent:n,data:u})):(f.push(u),this.$emit("update:expandedRowGroups",f),this.$emit("rowgroup-expand",{originalEvent:n,data:u}))},isRowGroupExpanded(t){if(this.expandableRowGroups&&this.expandedRowGroups){let n=In.resolveFieldData(t,this.groupRowsBy);return this.expandedRowGroups.indexOf(n)>-1}return!1},isStateful(){return this.stateKey!=null},getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}},saveState(){const t=this.getStorage();let n={};this.paginator&&(n.first=this.d_first,n.rows=this.d_rows),this.d_sortField&&(n.sortField=this.d_sortField,n.sortOrder=this.d_sortOrder),this.d_multiSortMeta&&(n.multiSortMeta=this.d_multiSortMeta),this.hasFilters&&(n.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(n),this.reorderableColumns&&(n.columnOrder=this.d_columnOrder),this.expandedRows&&(n.expandedRows=this.expandedRows,n.expandedRowKeys=this.d_expandedRowKeys),this.expandedRowGroups&&(n.expandedRowGroups=this.expandedRowGroups),this.selection&&(n.selection=this.selection,n.selectionKeys=this.d_selectionKeys),Object.keys(n).length&&t.setItem(this.stateKey,JSON.stringify(n)),this.$emit("state-save",n)},restoreState(){const n=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,u=function(f,d){return typeof d=="string"&&r.test(d)?new Date(d):d};if(n){let f=JSON.parse(n,u);this.paginator&&(this.d_first=f.first,this.d_rows=f.rows),f.sortField&&(this.d_sortField=f.sortField,this.d_sortOrder=f.sortOrder),f.multiSortMeta&&(this.d_multiSortMeta=f.multiSortMeta),f.filters&&this.$emit("update:filters",f.filters),this.resizableColumns&&(this.columnWidthsState=f.columnWidths,this.tableWidthState=f.tableWidth),this.reorderableColumns&&(this.d_columnOrder=f.columnOrder),f.expandedRows&&(this.d_expandedRowKeys=f.expandedRowKeys,this.$emit("update:expandedRows",f.expandedRows)),f.expandedRowGroups&&this.$emit("update:expandedRowGroups",f.expandedRowGroups),f.selection&&(this.d_selectionKeys=f.d_selectionKeys,this.$emit("update:selection",f.selection)),this.$emit("state-restore",f)}},saveColumnWidths(t){let n=[];tt.find(this.$el,".p-datatable-thead > tr > th").forEach(u=>n.push(tt.getOuterWidth(u))),t.columnWidths=n.join(","),this.columnResizeMode==="expand"&&(t.tableWidth=tt.getOuterWidth(this.$refs.table)+"px")},restoreColumnWidths(){if(this.columnWidthsState){let t=this.columnWidthsState.split(",");if(this.columnResizeMode==="expand"&&this.tableWidthState&&(this.$refs.table.style.width=this.tableWidthState,this.$refs.table.style.minWidth=this.tableWidthState,this.$el.style.width=this.tableWidthState),In.isNotEmpty(t)){this.createStyleElement();let n="",r=`.p-datatable[${this.attributeSelector}] > .p-datatable-wrapper ${this.virtualScrollerDisabled?"":"> .p-virtualscroller"} > .p-datatable-table`;t.forEach((u,f)=>{let d=`width: ${u}px !important; max-width: ${u}px !important`;n+=`
                            ${r} > .p-datatable-thead > tr > th:nth-child(${f+1}),
                            ${r} > .p-datatable-tbody > tr > td:nth-child(${f+1}),
                            ${r} > .p-datatable-tfoot > tr > td:nth-child(${f+1}) {
                                ${d}
                            }
                        `}),this.styleElement.innerHTML=n}}},onCellEditInit(t){this.$emit("cell-edit-init",t)},onCellEditComplete(t){this.$emit("cell-edit-complete",t)},onCellEditCancel(t){this.$emit("cell-edit-cancel",t)},onRowEditInit(t){let n=this.editingRows?[...this.editingRows]:[];n.push(t.data),this.$emit("update:editingRows",n),this.$emit("row-edit-init",t)},onRowEditSave(t){let n=[...this.editingRows];n.splice(this.findIndex(t.data,n),1),this.$emit("update:editingRows",n),this.$emit("row-edit-save",t)},onRowEditCancel(t){let n=[...this.editingRows];n.splice(this.findIndex(t.data,n),1),this.$emit("update:editingRows",n),this.$emit("row-edit-cancel",t)},onEditingMetaChange(t){let{data:n,field:r,index:u,editing:f}=t,d={...this.d_editingMeta},w=d[u];if(f)!w&&(w=d[u]={data:{...n},fields:[]}),w.fields.push(r);else if(w){const x=w.fields.filter(T=>T!==r);x.length?w.fields=x:delete d[u]}this.d_editingMeta=d},clearEditingMetaData(){this.editMode&&(this.d_editingMeta={})},createLazyLoadEvent(t){return{originalEvent:t,first:this.d_first,rows:this.d_rows,sortField:this.d_sortField,sortOrder:this.d_sortOrder,multiSortMeta:this.d_multiSortMeta,filters:this.d_filters}},hasGlobalFilter(){return this.filters&&Object.prototype.hasOwnProperty.call(this.filters,"global")},getChildren(){return this.$slots.default?this.$slots.default():null},onFilterChange(t){this.d_filters=t},onFilterApply(){this.d_first=0,this.$emit("update:first",this.d_first),this.$emit("update:filters",this.d_filters),this.lazy&&this.$emit("filter",this.createLazyLoadEvent())},cloneFilters(){let t={};return this.filters&&Object.entries(this.filters).forEach(([n,r])=>{t[n]=r.operator?{operator:r.operator,constraints:r.constraints.map(u=>({...u}))}:{...r}}),t},updateReorderableColumns(){let t=[];this.columns.forEach(n=>t.push(this.columnProp(n,"columnKey")||this.columnProp(n,"field"))),this.d_columnOrder=t},createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)},createResponsiveStyle(){if(!this.responsiveStyleElement){this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement);let t=`.p-datatable-wrapper ${this.virtualScrollerDisabled?"":"> .p-virtualscroller"} > .p-datatable-table`,n=`.p-datatable[${this.attributeSelector}] > ${t}`,r=`.p-datatable[${this.attributeSelector}].p-datatable-gridlines > ${t}`,u=`
@media screen and (max-width: ${this.breakpoint}) {
    ${n} > .p-datatable-thead > tr > th,
    ${n} > .p-datatable-tfoot > tr > td {
        display: none !important;
    }

    ${n} > .p-datatable-tbody > tr > td {
        display: flex;
        width: 100% !important;
        align-items: center;
        justify-content: space-between;
    }

    ${n} > .p-datatable-tbody > tr > td:not(:last-child) {
        border: 0 none;
    }

    ${r} > .p-datatable-tbody > tr > td:last-child {
        border-top: 0;
        border-right: 0;
        border-left: 0;
    }

    ${n} > .p-datatable-tbody > tr > td > .p-column-title {
        display: block;
    }
}
`;this.responsiveStyleElement.innerHTML=u}},destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)},destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},recursiveGetChildren(t,n){return n||(n=[]),t&&t.length&&t.forEach(r=>{r.children instanceof Array?n.concat(this.recursiveGetChildren(r.children,n)):r.type.name=="Column"&&n.push(r)}),n},dataToRender(t){const n=t||this.processedData;if(n&&this.paginator){const r=this.lazy?0:this.d_first;return n.slice(r,r+this.d_rows)}return n},getVirtualScrollerRef(){return this.$refs.virtualScroller},hasSpacerStyle(t){return In.isNotEmpty(t)}},computed:{containerClass(){return["p-datatable p-component",{"p-datatable-hoverable-rows":this.rowHover||this.selectionMode,"p-datatable-resizable":this.resizableColumns,"p-datatable-resizable-fit":this.resizableColumns&&this.columnResizeMode==="fit","p-datatable-scrollable":this.scrollable,"p-datatable-flex-scrollable":this.scrollable&&this.scrollHeight==="flex","p-datatable-responsive-stack":this.responsiveLayout==="stack","p-datatable-responsive-scroll":this.responsiveLayout==="scroll","p-datatable-striped":this.stripedRows,"p-datatable-gridlines":this.showGridlines,"p-datatable-grouped-header":this.headerColumnGroup!=null,"p-datatable-grouped-footer":this.footerColumnGroup!=null}]},tableStyleClass(){return["p-datatable-table",{"p-datatable-scrollable-table":this.scrollable,"p-datatable-resizable-table":this.resizableColumns,"p-datatable-resizable-table-fit":this.resizableColumns&&this.columnResizeMode==="fit"},this.tableClass]},columns(){let t=this.getChildren();if(!t)return;const n=this.recursiveGetChildren(t,[]);if(this.reorderableColumns&&this.d_columnOrder){let r=[];for(let u of this.d_columnOrder){let f=this.findColumnByKey(n,u);f&&!this.columnProp(f,"hidden")&&r.push(f)}return[...r,...n.filter(u=>r.indexOf(u)<0)]}return n},headerColumnGroup(){const t=this.getChildren();if(t){for(let n of t)if(n.type.name==="ColumnGroup"&&this.columnProp(n,"type")==="header")return n}return null},footerColumnGroup(){const t=this.getChildren();if(t){for(let n of t)if(n.type.name==="ColumnGroup"&&this.columnProp(n,"type")==="footer")return n}return null},hasFilters(){return this.filters&&Object.keys(this.filters).length>0&&this.filters.constructor===Object},processedData(){let t=this.value||[];return this.lazy||t&&t.length&&(this.hasFilters&&(t=this.filter(t)),this.sorted&&(this.sortMode==="single"?t=this.sortSingle(t):this.sortMode==="multiple"&&(t=this.sortMultiple(t)))),t},totalRecordsLength(){if(this.lazy)return this.totalRecords;{const t=this.processedData;return t?t.length:0}},empty(){const t=this.processedData;return!t||t.length===0},paginatorTop(){return this.paginator&&(this.paginatorPosition!=="bottom"||this.paginatorPosition==="both")},paginatorBottom(){return this.paginator&&(this.paginatorPosition!=="top"||this.paginatorPosition==="both")},sorted(){return this.d_sortField||this.d_multiSortMeta&&this.d_multiSortMeta.length>0},loadingIconClass(){return["p-datatable-loading-icon pi-spin",this.loadingIcon]},allRowsSelected(){if(this.selectAll!==null)return this.selectAll;{const t=this.frozenValue?[...this.frozenValue,...this.processedData]:this.processedData;return In.isNotEmpty(t)&&this.selection&&Array.isArray(this.selection)&&t.every(n=>this.selection.some(r=>this.equals(r,n)))}},attributeSelector(){return Ud()},groupRowSortField(){return this.sortMode==="single"?this.sortField:this.d_groupRowsSortMeta?this.d_groupRowsSortMeta.field:null},virtualScrollerDisabled(){return In.isEmpty(this.virtualScrollerOptions)||!this.scrollable}},components:{DTPaginator:Bce,DTTableHeader:Gce,DTTableBody:Uce,DTTableFooter:Wce,DTVirtualScroller:Tee}};const w2e={key:0,class:"p-datatable-loading-overlay p-component-overlay"},_2e={key:1,class:"p-datatable-header"},k2e={key:3,class:"p-datatable-footer"},C2e={ref:"resizeHelper",class:"p-column-resizer-helper",style:{display:"none"}},S2e={key:5,ref:"reorderIndicatorUp",class:"pi pi-arrow-down p-datatable-reorder-indicator-up",style:{position:"absolute",display:"none"}},x2e={key:6,ref:"reorderIndicatorDown",class:"pi pi-arrow-up p-datatable-reorder-indicator-down",style:{position:"absolute",display:"none"}};function E2e(t,n,r,u,f,d){const w=Vn("DTPaginator"),x=Vn("DTTableHeader"),T=Vn("DTTableBody"),I=Vn("DTTableFooter"),$=Vn("DTVirtualScroller");return be(),Le("div",{class:cn(d.containerClass),"data-scrollselectors":".p-datatable-wrapper"},[Eo(t.$slots,"default"),r.loading?(be(),Le("div",w2e,[t.$slots.loading?Eo(t.$slots,"loading",{key:0}):(be(),Le("i",{key:1,class:cn(d.loadingIconClass)},null,2))])):Wt("",!0),t.$slots.header?(be(),Le("div",_2e,[Eo(t.$slots,"header")])):Wt("",!0),d.paginatorTop?(be(),Mn(w,{key:2,rows:f.d_rows,first:f.d_first,totalRecords:d.totalRecordsLength,pageLinkSize:r.pageLinkSize,template:r.paginatorTemplate,rowsPerPageOptions:r.rowsPerPageOptions,currentPageReportTemplate:r.currentPageReportTemplate,class:"p-paginator-top",onPage:n[0]||(n[0]=F=>d.onPage(F)),alwaysShow:r.alwaysShowPaginator},XX({_:2},[t.$slots.paginatorstart?{name:"start",fn:Ms(()=>[Eo(t.$slots,"paginatorstart")]),key:"0"}:void 0,t.$slots.paginatorend?{name:"end",fn:Ms(()=>[Eo(t.$slots,"paginatorend")]),key:"1"}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","alwaysShow"])):Wt("",!0),yt("div",{class:"p-datatable-wrapper",style:xr({maxHeight:d.virtualScrollerDisabled?r.scrollHeight:""})},[Gn($,hr({ref:"virtualScroller"},r.virtualScrollerOptions,{items:d.processedData,columns:d.columns,style:r.scrollHeight!=="flex"?{height:r.scrollHeight}:void 0,scrollHeight:r.scrollHeight!=="flex"?void 0:"100%",disabled:d.virtualScrollerDisabled,loaderDisabled:"",inline:"",autoSize:"",showSpacer:!1}),{content:Ms(F=>[yt("table",hr({ref:"table",role:"table",class:d.tableStyleClass,style:[r.tableStyle,F.spacerStyle]},r.tableProps),[Gn(x,{columnGroup:d.headerColumnGroup,columns:F.columns,rowGroupMode:r.rowGroupMode,groupRowsBy:r.groupRowsBy,groupRowSortField:d.groupRowSortField,reorderableColumns:r.reorderableColumns,resizableColumns:r.resizableColumns,allRowsSelected:d.allRowsSelected,empty:d.empty,sortMode:r.sortMode,sortField:f.d_sortField,sortOrder:f.d_sortOrder,multiSortMeta:f.d_multiSortMeta,filters:f.d_filters,filtersStore:r.filters,filterDisplay:r.filterDisplay,filterInputProps:r.filterInputProps,onColumnClick:n[1]||(n[1]=H=>d.onColumnHeaderClick(H)),onColumnMousedown:n[2]||(n[2]=H=>d.onColumnHeaderMouseDown(H)),onFilterChange:d.onFilterChange,onFilterApply:d.onFilterApply,onColumnDragstart:n[3]||(n[3]=H=>d.onColumnHeaderDragStart(H)),onColumnDragover:n[4]||(n[4]=H=>d.onColumnHeaderDragOver(H)),onColumnDragleave:n[5]||(n[5]=H=>d.onColumnHeaderDragLeave(H)),onColumnDrop:n[6]||(n[6]=H=>d.onColumnHeaderDrop(H)),onColumnResizestart:n[7]||(n[7]=H=>d.onColumnResizeStart(H)),onCheckboxChange:n[8]||(n[8]=H=>d.toggleRowsWithCheckbox(H))},null,8,["columnGroup","columns","rowGroupMode","groupRowsBy","groupRowSortField","reorderableColumns","resizableColumns","allRowsSelected","empty","sortMode","sortField","sortOrder","multiSortMeta","filters","filtersStore","filterDisplay","filterInputProps","onFilterChange","onFilterApply"]),r.frozenValue?(be(),Mn(T,{key:0,ref:"frozenBodyRef",value:r.frozenValue,frozenRow:!0,class:"p-datatable-frozen-tbody",columns:F.columns,first:f.d_first,dataKey:r.dataKey,selection:r.selection,selectionKeys:f.d_selectionKeys,selectionMode:r.selectionMode,contextMenu:r.contextMenu,contextMenuSelection:r.contextMenuSelection,rowGroupMode:r.rowGroupMode,groupRowsBy:r.groupRowsBy,expandableRowGroups:r.expandableRowGroups,rowClass:r.rowClass,rowStyle:r.rowStyle,editMode:r.editMode,compareSelectionBy:r.compareSelectionBy,scrollable:r.scrollable,expandedRowIcon:r.expandedRowIcon,collapsedRowIcon:r.collapsedRowIcon,expandedRows:r.expandedRows,expandedRowKeys:f.d_expandedRowKeys,expandedRowGroups:r.expandedRowGroups,editingRows:r.editingRows,editingRowKeys:f.d_editingRowKeys,templates:t.$slots,responsiveLayout:r.responsiveLayout,isVirtualScrollerDisabled:!0,onRowgroupToggle:d.toggleRowGroup,onRowClick:n[9]||(n[9]=H=>d.onRowClick(H)),onRowDblclick:n[10]||(n[10]=H=>d.onRowDblClick(H)),onRowRightclick:n[11]||(n[11]=H=>d.onRowRightClick(H)),onRowTouchend:d.onRowTouchEnd,onRowKeydown:d.onRowKeyDown,onRowMousedown:d.onRowMouseDown,onRowDragstart:n[12]||(n[12]=H=>d.onRowDragStart(H)),onRowDragover:n[13]||(n[13]=H=>d.onRowDragOver(H)),onRowDragleave:n[14]||(n[14]=H=>d.onRowDragLeave(H)),onRowDragend:n[15]||(n[15]=H=>d.onRowDragEnd(H)),onRowDrop:n[16]||(n[16]=H=>d.onRowDrop(H)),onRowToggle:n[17]||(n[17]=H=>d.toggleRow(H)),onRadioChange:n[18]||(n[18]=H=>d.toggleRowWithRadio(H)),onCheckboxChange:n[19]||(n[19]=H=>d.toggleRowWithCheckbox(H)),onCellEditInit:n[20]||(n[20]=H=>d.onCellEditInit(H)),onCellEditComplete:n[21]||(n[21]=H=>d.onCellEditComplete(H)),onCellEditCancel:n[22]||(n[22]=H=>d.onCellEditCancel(H)),onRowEditInit:n[23]||(n[23]=H=>d.onRowEditInit(H)),onRowEditSave:n[24]||(n[24]=H=>d.onRowEditSave(H)),onRowEditCancel:n[25]||(n[25]=H=>d.onRowEditCancel(H)),editingMeta:f.d_editingMeta,onEditingMetaChange:d.onEditingMetaChange},null,8,["value","columns","first","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowKeys","expandedRowGroups","editingRows","editingRowKeys","templates","responsiveLayout","onRowgroupToggle","onRowTouchend","onRowKeydown","onRowMousedown","editingMeta","onEditingMetaChange"])):Wt("",!0),Gn(T,{ref:"bodyRef",value:d.dataToRender(F.rows),class:cn(F.styleClass),columns:F.columns,empty:d.empty,first:f.d_first,dataKey:r.dataKey,selection:r.selection,selectionKeys:f.d_selectionKeys,selectionMode:r.selectionMode,contextMenu:r.contextMenu,contextMenuSelection:r.contextMenuSelection,rowGroupMode:r.rowGroupMode,groupRowsBy:r.groupRowsBy,expandableRowGroups:r.expandableRowGroups,rowClass:r.rowClass,rowStyle:r.rowStyle,editMode:r.editMode,compareSelectionBy:r.compareSelectionBy,scrollable:r.scrollable,expandedRowIcon:r.expandedRowIcon,collapsedRowIcon:r.collapsedRowIcon,expandedRows:r.expandedRows,expandedRowKeys:f.d_expandedRowKeys,expandedRowGroups:r.expandedRowGroups,editingRows:r.editingRows,editingRowKeys:f.d_editingRowKeys,templates:t.$slots,responsiveLayout:r.responsiveLayout,virtualScrollerContentProps:F,isVirtualScrollerDisabled:d.virtualScrollerDisabled,onRowgroupToggle:d.toggleRowGroup,onRowClick:n[26]||(n[26]=H=>d.onRowClick(H)),onRowDblclick:n[27]||(n[27]=H=>d.onRowDblClick(H)),onRowRightclick:n[28]||(n[28]=H=>d.onRowRightClick(H)),onRowTouchend:d.onRowTouchEnd,onRowKeydown:H=>d.onRowKeyDown(H,F),onRowMousedown:d.onRowMouseDown,onRowDragstart:n[29]||(n[29]=H=>d.onRowDragStart(H)),onRowDragover:n[30]||(n[30]=H=>d.onRowDragOver(H)),onRowDragleave:n[31]||(n[31]=H=>d.onRowDragLeave(H)),onRowDragend:n[32]||(n[32]=H=>d.onRowDragEnd(H)),onRowDrop:n[33]||(n[33]=H=>d.onRowDrop(H)),onRowToggle:n[34]||(n[34]=H=>d.toggleRow(H)),onRadioChange:n[35]||(n[35]=H=>d.toggleRowWithRadio(H)),onCheckboxChange:n[36]||(n[36]=H=>d.toggleRowWithCheckbox(H)),onCellEditInit:n[37]||(n[37]=H=>d.onCellEditInit(H)),onCellEditComplete:n[38]||(n[38]=H=>d.onCellEditComplete(H)),onCellEditCancel:n[39]||(n[39]=H=>d.onCellEditCancel(H)),onRowEditInit:n[40]||(n[40]=H=>d.onRowEditInit(H)),onRowEditSave:n[41]||(n[41]=H=>d.onRowEditSave(H)),onRowEditCancel:n[42]||(n[42]=H=>d.onRowEditCancel(H)),editingMeta:f.d_editingMeta,onEditingMetaChange:d.onEditingMetaChange},null,8,["value","class","columns","empty","first","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowKeys","expandedRowGroups","editingRows","editingRowKeys","templates","responsiveLayout","virtualScrollerContentProps","isVirtualScrollerDisabled","onRowgroupToggle","onRowTouchend","onRowKeydown","onRowMousedown","editingMeta","onEditingMetaChange"]),d.hasSpacerStyle(F.spacerStyle)?(be(),Le("tbody",{key:1,style:xr({height:`calc(${F.spacerStyle.height} - ${F.rows.length*F.itemSize}px)`}),class:"p-datatable-virtualscroller-spacer"},null,4)):Wt("",!0),Gn(I,{columnGroup:d.footerColumnGroup,columns:F.columns},null,8,["columnGroup","columns"])],16)]),_:1},16,["items","columns","style","scrollHeight","disabled"])],4),t.$slots.footer?(be(),Le("div",k2e,[Eo(t.$slots,"footer")])):Wt("",!0),d.paginatorBottom?(be(),Mn(w,{key:4,rows:f.d_rows,first:f.d_first,totalRecords:d.totalRecordsLength,pageLinkSize:r.pageLinkSize,template:r.paginatorTemplate,rowsPerPageOptions:r.rowsPerPageOptions,currentPageReportTemplate:r.currentPageReportTemplate,class:"p-paginator-bottom",onPage:n[43]||(n[43]=F=>d.onPage(F)),alwaysShow:r.alwaysShowPaginator},XX({_:2},[t.$slots.paginatorstart?{name:"start",fn:Ms(()=>[Eo(t.$slots,"paginatorstart")]),key:"0"}:void 0,t.$slots.paginatorend?{name:"end",fn:Ms(()=>[Eo(t.$slots,"paginatorend")]),key:"1"}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","alwaysShow"])):Wt("",!0),yt("div",C2e,null,512),r.reorderableColumns?(be(),Le("span",S2e,null,512)):Wt("",!0),r.reorderableColumns?(be(),Le("span",x2e,null,512)):Wt("",!0)],2)}function T2e(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var R2e=`
.p-datatable {
    position: relative;
}
.p-datatable > .p-datatable-wrapper {
    overflow: auto;
}
.p-datatable-table {
    border-spacing: 0px;
    width: 100%;
}
.p-datatable .p-sortable-column {
    cursor: pointer;
    user-select: none;
}
.p-datatable .p-sortable-column .p-column-title,
.p-datatable .p-sortable-column .p-sortable-column-icon,
.p-datatable .p-sortable-column .p-sortable-column-badge {
    vertical-align: middle;
}
.p-datatable .p-sortable-column .p-sortable-column-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}
.p-datatable-hoverable-rows .p-selectable-row {
    cursor: pointer;
}

/* Scrollable */
.p-datatable-scrollable > .p-datatable-wrapper {
    position: relative;
}
.p-datatable-scrollable-table > .p-datatable-thead {
    position: sticky;
    top: 0;
    z-index: 1;
}
.p-datatable-scrollable-table > .p-datatable-frozen-tbody {
    position: sticky;
    z-index: 1;
}
.p-datatable-scrollable-table > .p-datatable-tfoot {
    position: sticky;
    bottom: 0;
    z-index: 1;
}
.p-datatable-scrollable .p-frozen-column {
    position: sticky;
    background: inherit;
}
.p-datatable-scrollable th.p-frozen-column {
    z-index: 1;
}
.p-datatable-flex-scrollable {
    display: flex;
    flex-direction: column;
    height: 100%;
}
.p-datatable-flex-scrollable > .p-datatable-wrapper {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}
.p-datatable-scrollable-table > .p-datatable-tbody > .p-rowgroup-header {
    position: sticky;
    z-index: 1;
}

/* Resizable */
.p-datatable-resizable-table > .p-datatable-thead > tr > th,
.p-datatable-resizable-table > .p-datatable-tfoot > tr > td,
.p-datatable-resizable-table > .p-datatable-tbody > tr > td {
    overflow: hidden;
    white-space: nowrap;
}
.p-datatable-resizable-table > .p-datatable-thead > tr > th.p-resizable-column:not(.p-frozen-column) {
    background-clip: padding-box;
    position: relative;
}
.p-datatable-resizable-table-fit > .p-datatable-thead > tr > th.p-resizable-column:last-child .p-column-resizer {
    display: none;
}
.p-datatable .p-column-resizer {
    display: block;
    position: absolute !important;
    top: 0;
    right: 0;
    margin: 0;
    width: 0.5rem;
    height: 100%;
    padding: 0px;
    cursor: col-resize;
    border: 1px solid transparent;
}
.p-datatable .p-column-header-content {
    display: flex;
    align-items: center;
}
.p-datatable .p-column-resizer-helper {
    width: 1px;
    position: absolute;
    z-index: 10;
    display: none;
}
.p-datatable .p-row-editor-init,
.p-datatable .p-row-editor-save,
.p-datatable .p-row-editor-cancel {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

/* Expand */
.p-datatable .p-row-toggler {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

/* Reorder */
.p-datatable-reorder-indicator-up,
.p-datatable-reorder-indicator-down {
    position: absolute;
    display: none;
}
.p-reorderable-column,
.p-datatable-reorderablerow-handle {
    cursor: move;
}

/* Loader */
.p-datatable .p-datatable-loading-overlay {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

/* Filter */
.p-column-filter-row {
    display: flex;
    align-items: center;
    width: 100%;
}
.p-column-filter-menu {
    display: inline-flex;
    margin-left: auto;
}
.p-column-filter-row .p-column-filter-element {
    flex: 1 1 auto;
    width: 1%;
}
.p-column-filter-menu-button,
.p-column-filter-clear-button {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
.p-column-filter-overlay {
    position: absolute;
    top: 0;
    left: 0;
}
.p-column-filter-row-items {
    margin: 0;
    padding: 0;
    list-style: none;
}
.p-column-filter-row-item {
    cursor: pointer;
}
.p-column-filter-add-button,
.p-column-filter-remove-button {
    justify-content: center;
}
.p-column-filter-add-button .p-button-label,
.p-column-filter-remove-button .p-button-label {
    flex-grow: 0;
}
.p-column-filter-buttonbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.p-column-filter-buttonbar .p-button:not(.p-button-icon-only) {
    width: auto;
}

/* Responsive */
.p-datatable .p-datatable-tbody > tr > td > .p-column-title {
    display: none;
}

/* VirtualScroller */
.p-datatable-virtualscroller-spacer {
    display: flex;
}
.p-datatable .p-virtualscroller .p-virtualscroller-loading {
    transform: none !important;
    min-height: 0;
    position: sticky;
    top: 0;
    left: 0;
}
`;T2e(R2e);qce.render=E2e;var A2e={name:"Column",props:{columnKey:{type:null,default:null},field:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},filterField:{type:[String,Function],default:null},dataType:{type:String,default:"text"},sortable:{type:Boolean,default:!1},header:{type:null,default:null},footer:{type:null,default:null},style:{type:null,default:null},class:{type:String,default:null},headerStyle:{type:null,default:null},headerClass:{type:String,default:null},bodyStyle:{type:null,default:null},bodyClass:{type:String,default:null},footerStyle:{type:null,default:null},footerClass:{type:String,default:null},showFilterMenu:{type:Boolean,default:!0},showFilterOperator:{type:Boolean,default:!0},showClearButton:{type:Boolean,default:!0},showApplyButton:{type:Boolean,default:!0},showFilterMatchModes:{type:Boolean,default:!0},showAddButton:{type:Boolean,default:!0},filterMatchModeOptions:{type:Array,default:null},maxConstraints:{type:Number,default:2},excludeGlobalFilter:{type:Boolean,default:!1},filterHeaderClass:{type:String,default:null},filterHeaderStyle:{type:null,default:null},filterMenuClass:{type:String,default:null},filterMenuStyle:{type:null,default:null},selectionMode:{type:String,default:null},expander:{type:Boolean,default:!1},colspan:{type:Number,default:null},rowspan:{type:Number,default:null},rowReorder:{type:Boolean,default:!1},rowReorderIcon:{type:String,default:"pi pi-bars"},reorderableColumn:{type:Boolean,default:!0},rowEditor:{type:Boolean,default:!1},frozen:{type:Boolean,default:!1},alignFrozen:{type:String,default:"left"},exportable:{type:Boolean,default:!0},exportHeader:{type:String,default:null},exportFooter:{type:String,default:null},filterMatchMode:{type:String,default:null},hidden:{type:Boolean,default:!1}},render(){return null}},Kce={name:"Chart",emits:["select","loaded"],props:{type:String,data:null,options:null,plugins:null,width:{type:Number,default:300},height:{type:Number,default:150},canvasProps:{type:null,default:null}},chart:null,watch:{data:{handler(){this.reinit()},deep:!0},type(){this.reinit()},options(){this.reinit()}},mounted(){this.initChart()},beforeUnmount(){this.chart&&(this.chart.destroy(),this.chart=null)},methods:{initChart(){Il(()=>import("./auto.519f8e56.js"),[]).then(t=>{this.chart&&(this.chart.destroy(),this.chart=null),t&&t.default&&(this.chart=new t.default(this.$refs.canvas,{type:this.type,data:this.data,options:this.options,plugins:this.plugins})),this.$emit("loaded",this.chart)})},getCanvas(){return this.$canvas},getChart(){return this.chart},getBase64Image(){return this.chart.toBase64Image()},refresh(){this.chart&&this.chart.update()},reinit(){this.initChart()},onCanvasClick(t){if(this.chart){const n=this.chart.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1),r=this.chart.getElementsAtEventForMode(t,"dataset",{intersect:!0},!1);n&&n[0]&&r&&this.$emit("select",{originalEvent:t,element:n[0],dataset:r})}},generateLegend(){if(this.chart)return this.chart.generateLegend()}}};const I2e={class:"p-chart"},O2e=["width","height"];function D2e(t,n,r,u,f,d){return be(),Le("div",I2e,[yt("canvas",hr({ref:"canvas",width:r.width,height:r.height,onClick:n[0]||(n[0]=w=>d.onCanvasClick(w))},r.canvasProps),null,16,O2e)])}function M2e(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var P2e=`
.p-chart {
    position: relative;
}
`;M2e(P2e);Kce.render=D2e;var Yce={name:"Tag",props:{value:null,severity:null,rounded:Boolean,icon:String},computed:{containerClass(){return["p-tag p-component",{"p-tag-info":this.severity==="info","p-tag-success":this.severity==="success","p-tag-warning":this.severity==="warning","p-tag-danger":this.severity==="danger","p-tag-rounded":this.rounded}]},iconClass(){return["p-tag-icon",this.icon]}}};const z2e={class:"p-tag-value"};function N2e(t,n,r,u,f,d){return be(),Le("span",{class:cn(d.containerClass)},[r.icon?(be(),Le("span",{key:0,class:cn(d.iconClass)},null,2)):Wt("",!0),Eo(t.$slots,"default",{},()=>[yt("span",z2e,Xo(r.value),1)])],2)}function L2e(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var F2e=`
.p-tag {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}
.p-tag-icon,
.p-tag-value,
.p-tag-icon.pi {
    line-height: 1.5;
}
.p-tag.p-tag-rounded {
    border-radius: 10rem;
}
`;L2e(F2e);Yce.render=N2e;var Xce={name:"Textarea",emits:["update:modelValue"],props:{modelValue:null,autoResize:Boolean},mounted(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize(){const t=window.getComputedStyle(this.$el);this.$el.style.height="auto",this.$el.style.height=`calc(${t.borderTopWidth} + ${t.borderBottomWidth} + ${this.$el.scrollHeight}px)`,parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput(t){this.autoResize&&this.resize(),this.$emit("update:modelValue",t.target.value)}},computed:{filled(){return this.modelValue!=null&&this.modelValue.toString().length>0}}};const B2e=["value"];function $2e(t,n,r,u,f,d){return be(),Le("textarea",{class:cn(["p-inputtextarea p-inputtext p-component",{"p-filled":d.filled,"p-inputtextarea-resizable ":r.autoResize}]),value:r.modelValue,onInput:n[0]||(n[0]=(...w)=>d.onInput&&d.onInput(...w))},null,42,B2e)}function V2e(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var H2e=`
.p-inputtextarea-resizable {
    overflow: hidden;
    resize: none;
}
.p-fluid .p-inputtextarea {
    width: 100%;
}
`;V2e(H2e);Xce.render=$2e;var Jce={name:"Knob",emits:["update:modelValue","change"],props:{modelValue:{type:Number,default:null},size:{type:Number,default:100},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},step:{type:Number,default:1},min:{type:Number,default:0},max:{type:Number,default:100},valueColor:{type:String,default:"var(--primary-color, Black)"},rangeColor:{type:String,default:"var(--surface-border, LightGray)"},textColor:{type:String,default:"var(--text-color-secondary, Black)"},strokeWidth:{type:Number,default:14},showValue:{type:Boolean,default:!0},valueTemplate:{type:String,default:"{value}"},tabindex:{type:Number,default:0},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{radius:40,midX:50,midY:50,minRadians:4*Math.PI/3,maxRadians:-Math.PI/3}},methods:{updateValue(t,n){let r=t-this.size/2,u=this.size/2-n,f=Math.atan2(u,r),d=-Math.PI/2-Math.PI/6;this.updateModel(f,d)},updateModel(t,n){let r;if(t>this.maxRadians)r=this.mapRange(t,this.minRadians,this.maxRadians,this.min,this.max);else if(t<n)r=this.mapRange(t+2*Math.PI,this.minRadians,this.maxRadians,this.min,this.max);else return;let u=Math.round((r-this.min)/this.step)*this.step+this.min;this.$emit("update:modelValue",u),this.$emit("change",u)},updateModelValue(t){t>this.max?this.$emit("update:modelValue",this.max):t<this.min?this.$emit("update:modelValue",this.min):this.$emit("update:modelValue",t)},mapRange(t,n,r,u,f){return(t-n)*(f-u)/(r-n)+u},onClick(t){!this.disabled&&!this.readonly&&this.updateValue(t.offsetX,t.offsetY)},onMouseDown(t){!this.disabled&&!this.readonly&&(window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),t.preventDefault())},onMouseUp(t){!this.disabled&&!this.readonly&&(window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),t.preventDefault())},onTouchStart(t){!this.disabled&&!this.readonly&&(window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),t.preventDefault())},onTouchEnd(t){!this.disabled&&!this.readonly&&(window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),t.preventDefault())},onMouseMove(t){!this.disabled&&!this.readonly&&(this.updateValue(t.offsetX,t.offsetY),t.preventDefault())},onTouchMove(t){if(!this.disabled&&!this.readonly&&t.touches.length==1){const n=this.$el.getBoundingClientRect(),r=t.targetTouches.item(0),u=r.clientX-n.left,f=r.clientY-n.top;this.updateValue(u,f)}},onKeyDown(t){if(!this.disabled&&!this.readonly)switch(t.code){case"ArrowRight":case"ArrowUp":{t.preventDefault(),this.updateModelValue(this.modelValue+1);break}case"ArrowLeft":case"ArrowDown":{t.preventDefault(),this.updateModelValue(this.modelValue-1);break}case"Home":{t.preventDefault(),this.$emit("update:modelValue",this.min);break}case"End":{t.preventDefault(),this.$emit("update:modelValue",this.max);break}case"PageUp":{t.preventDefault(),this.updateModelValue(this.modelValue+10);break}case"PageDown":{t.preventDefault(),this.updateModelValue(this.modelValue-10);break}}}},computed:{containerClass(){return["p-knob p-component",{"p-disabled":this.disabled}]},rangePath(){return`M ${this.minX} ${this.minY} A ${this.radius} ${this.radius} 0 1 1 ${this.maxX} ${this.maxY}`},valuePath(){return`M ${this.zeroX} ${this.zeroY} A ${this.radius} ${this.radius} 0 ${this.largeArc} ${this.sweep} ${this.valueX} ${this.valueY}`},zeroRadians(){return this.min>0&&this.max>0?this.mapRange(this.min,this.min,this.max,this.minRadians,this.maxRadians):this.mapRange(0,this.min,this.max,this.minRadians,this.maxRadians)},valueRadians(){return this.mapRange(this.modelValue,this.min,this.max,this.minRadians,this.maxRadians)},minX(){return this.midX+Math.cos(this.minRadians)*this.radius},minY(){return this.midY-Math.sin(this.minRadians)*this.radius},maxX(){return this.midX+Math.cos(this.maxRadians)*this.radius},maxY(){return this.midY-Math.sin(this.maxRadians)*this.radius},zeroX(){return this.midX+Math.cos(this.zeroRadians)*this.radius},zeroY(){return this.midY-Math.sin(this.zeroRadians)*this.radius},valueX(){return this.midX+Math.cos(this.valueRadians)*this.radius},valueY(){return this.midY-Math.sin(this.valueRadians)*this.radius},largeArc(){return Math.abs(this.zeroRadians-this.valueRadians)<Math.PI?0:1},sweep(){return this.valueRadians>this.zeroRadians?0:1},valueToDisplay(){return this.valueTemplate.replace(/{value}/g,this.modelValue)}}};const U2e=["width","height","tabindex","aria-valuemin","aria-valuemax","aria-valuenow","aria-labelledby","aria-label"],j2e=["d","stroke-width","stroke"],W2e=["d","stroke-width","stroke"],Z2e=["fill"];function G2e(t,n,r,u,f,d){return be(),Le("div",{class:cn(d.containerClass)},[(be(),Le("svg",{viewBox:"0 0 100 100",role:"slider",width:r.size,height:r.size,tabindex:r.readonly||r.disabled?-1:r.tabindex,"aria-valuemin":r.min,"aria-valuemax":r.max,"aria-valuenow":r.modelValue,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,onClick:n[0]||(n[0]=(...w)=>d.onClick&&d.onClick(...w)),onKeydown:n[1]||(n[1]=(...w)=>d.onKeyDown&&d.onKeyDown(...w)),onMousedown:n[2]||(n[2]=(...w)=>d.onMouseDown&&d.onMouseDown(...w)),onMouseup:n[3]||(n[3]=(...w)=>d.onMouseUp&&d.onMouseUp(...w)),onTouchstart:n[4]||(n[4]=(...w)=>d.onTouchStart&&d.onTouchStart(...w)),onTouchend:n[5]||(n[5]=(...w)=>d.onTouchEnd&&d.onTouchEnd(...w))},[yt("path",{d:d.rangePath,"stroke-width":r.strokeWidth,stroke:r.rangeColor,class:"p-knob-range"},null,8,j2e),yt("path",{d:d.valuePath,"stroke-width":r.strokeWidth,stroke:r.valueColor,class:"p-knob-value"},null,8,W2e),r.showValue?(be(),Le("text",{key:0,x:50,y:57,"text-anchor":"middle",fill:r.textColor,class:"p-knob-text"},Xo(d.valueToDisplay),9,Z2e)):Wt("",!0)],40,U2e))],2)}function q2e(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var K2e=`
@keyframes dash-frame {
100% {
        stroke-dashoffset: 0;
}
}
.p-knob-range {
    fill: none;
    transition: stroke 0.1s ease-in;
}
.p-knob-value {
    animation-name: dash-frame;
    animation-fill-mode: forwards;
    fill: none;
}
.p-knob-text {
    font-size: 1.3rem;
    text-align: center;
}
`;q2e(K2e);Jce.render=G2e;var Qce={name:"Sidebar",inheritAttrs:!1,emits:["update:visible","show","hide","after-hide"],props:{visible:{type:Boolean,default:!1},position:{type:String,default:"left"},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},dismissable:{type:Boolean,default:!0},showCloseIcon:{type:Boolean,default:!0},closeIcon:{type:String,default:"pi pi-times"},modal:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!1}},data(){return{containerVisible:this.visible}},container:null,mask:null,content:null,headerContainer:null,closeButton:null,outsideClickListener:null,updated(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount(){this.disableDocumentSettings(),this.mask&&this.autoZIndex&&mi.clear(this.mask),this.container=null,this.mask=null},methods:{hide(){this.$emit("update:visible",!1)},onEnter(){this.$emit("show"),this.focus(),this.autoZIndex&&mi.set("modal",this.mask,this.baseZIndex||this.$primevue.config.zIndex.modal)},onAfterEnter(){this.enableDocumentSettings()},onBeforeLeave(){this.modal&&tt.addClass(this.mask,"p-component-overlay-leave")},onLeave(){this.$emit("hide")},onAfterLeave(){this.autoZIndex&&mi.clear(this.mask),this.containerVisible=!1,this.disableDocumentSettings(),this.$emit("after-hide")},onMaskClick(t){this.dismissable&&this.modal&&this.mask===t.target&&this.hide()},focus(){const t=r=>r.querySelector("[autofocus]");let n=this.$slots.default&&t(this.content);n||(n=this.$slots.header&&t(this.headerContainer),n||(n=t(this.container))),n&&n.focus()},enableDocumentSettings(){this.dismissable&&!this.modal&&this.bindOutsideClickListener(),this.blockScroll&&tt.addClass(document.body,"p-overflow-hidden")},disableDocumentSettings(){this.unbindOutsideClickListener(),this.blockScroll&&tt.removeClass(document.body,"p-overflow-hidden")},onKeydown(t){t.code==="Escape"&&this.hide()},containerRef(t){this.container=t},maskRef(t){this.mask=t},contentRef(t){this.content=t},headerContainerRef(t){this.headerContainer=t},closeButtonRef(t){this.closeButton=t},getPositionClass(){const n=["left","right","top","bottom"].find(r=>r===this.position);return n?`p-sidebar-${n}`:""},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=t=>{this.isOutsideClicked(t)&&this.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},isOutsideClicked(t){return this.container&&!this.container.contains(t.target)}},computed:{containerClass(){return["p-sidebar p-component",{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1,"p-sidebar-full":this.fullScreen}]},fullScreen(){return this.position==="full"},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},maskClass(){return["p-sidebar-mask",this.getPositionClass(),{"p-component-overlay p-component-overlay-enter":this.modal,"p-sidebar-mask-scrollblocker":this.blockScroll,"p-sidebar-visible":this.containerVisible,"p-sidebar-full":this.fullScreen}]}},directives:{focustrap:R7,ripple:qu},components:{Portal:k1}};const Y2e=["aria-modal"],X2e={key:0,class:"p-sidebar-header-content"},J2e=["aria-label"];function Q2e(t,n,r,u,f,d){const w=Vn("Portal"),x=gl("ripple"),T=gl("focustrap");return be(),Mn(w,null,{default:Ms(()=>[f.containerVisible?(be(),Le("div",{key:0,ref:d.maskRef,class:cn(d.maskClass),onMousedown:n[2]||(n[2]=(...I)=>d.onMaskClick&&d.onMaskClick(...I))},[Gn(Lm,{name:"p-sidebar",onEnter:d.onEnter,onAfterEnter:d.onAfterEnter,onBeforeLeave:d.onBeforeLeave,onLeave:d.onLeave,onAfterLeave:d.onAfterLeave,appear:""},{default:Ms(()=>[r.visible?Er((be(),Le("div",hr({key:0,ref:d.containerRef,class:d.containerClass,role:"complementary","aria-modal":r.modal,onKeydown:n[1]||(n[1]=(...I)=>d.onKeydown&&d.onKeydown(...I))},t.$attrs),[yt("div",{ref:d.headerContainerRef,class:"p-sidebar-header"},[t.$slots.header?(be(),Le("div",X2e,[Eo(t.$slots,"header")])):Wt("",!0),r.showCloseIcon?Er((be(),Le("button",{key:1,ref:d.closeButtonRef,autofocus:"",type:"button",class:"p-sidebar-close p-sidebar-icon p-link","aria-label":d.closeAriaLabel,onClick:n[0]||(n[0]=(...I)=>d.hide&&d.hide(...I))},[yt("span",{class:cn(["p-sidebar-close-icon",r.closeIcon])},null,2)],8,J2e)),[[x]]):Wt("",!0)],512),yt("div",{ref:d.contentRef,class:"p-sidebar-content"},[Eo(t.$slots,"default")],512)],16,Y2e)),[[T]]):Wt("",!0)]),_:3},8,["onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])],34)):Wt("",!0)]),_:3})}function eTe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var tTe=`
.p-sidebar-mask {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: none;
    justify-content: center;
    align-items: center;
    pointer-events: none;
    background-color: transparent;
    transition-property: background-color;
}
.p-sidebar-mask.p-component-overlay {
    pointer-events: auto;
}
.p-sidebar-visible {
    display: flex;
}
.p-sidebar {
    display: flex;
    flex-direction: column;
    pointer-events: auto;
    transform: translate3d(0px, 0px, 0px);
    position: relative;
    transition: transform 0.3s;
}
.p-sidebar-content {
    overflow-y: auto;
    flex-grow: 1;
}
.p-sidebar-header {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    flex-shrink: 0;
}
.p-sidebar-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}
.p-sidebar-full .p-sidebar {
    transition: none;
    transform: none;
    width: 100vw !important;
    height: 100vh !important;
    max-height: 100%;
    top: 0px !important;
    left: 0px !important;
}

/* Animation */
/* Center */
.p-sidebar-left .p-sidebar-enter-from,
.p-sidebar-left .p-sidebar-leave-to {
    transform: translateX(-100%);
}
.p-sidebar-right .p-sidebar-enter-from,
.p-sidebar-right .p-sidebar-leave-to {
    transform: translateX(100%);
}
.p-sidebar-top .p-sidebar-enter-from,
.p-sidebar-top .p-sidebar-leave-to {
    transform: translateY(-100%);
}
.p-sidebar-bottom .p-sidebar-enter-from,
.p-sidebar-bottom .p-sidebar-leave-to {
    transform: translateY(100%);
}
.p-sidebar-full .p-sidebar-enter-from,
.p-sidebar-full .p-sidebar-leave-to {
    opacity: 0;
}
.p-sidebar-full .p-sidebar-enter-active,
.p-sidebar-full .p-sidebar-leave-active {
    transition: opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* Position */
.p-sidebar-left {
    justify-content: flex-start;
}
.p-sidebar-right {
    justify-content: flex-end;
}
.p-sidebar-top {
    align-items: flex-start;
}
.p-sidebar-bottom {
    align-items: flex-end;
}

/* Size */
.p-sidebar-left .p-sidebar {
    width: 20rem;
    height: 100%;
}
.p-sidebar-right .p-sidebar {
    width: 20rem;
    height: 100%;
}
.p-sidebar-top .p-sidebar {
    height: 10rem;
    width: 100%;
}
.p-sidebar-bottom .p-sidebar {
    height: 10rem;
    width: 100%;
}
.p-sidebar-left .p-sidebar-sm,
.p-sidebar-right .p-sidebar-sm {
    width: 20rem;
}
.p-sidebar-left .p-sidebar-md,
.p-sidebar-right .p-sidebar-md {
    width: 40rem;
}
.p-sidebar-left .p-sidebar-lg,
.p-sidebar-right .p-sidebar-lg {
    width: 60rem;
}
.p-sidebar-top .p-sidebar-sm,
.p-sidebar-bottom .p-sidebar-sm {
    height: 10rem;
}
.p-sidebar-top .p-sidebar-md,
.p-sidebar-bottom .p-sidebar-md {
    height: 20rem;
}
.p-sidebar-top .p-sidebar-lg,
.p-sidebar-bottom .p-sidebar-lg {
    height: 30rem;
}
.p-sidebar-left .p-sidebar-content,
.p-sidebar-right .p-sidebar-content,
.p-sidebar-top .p-sidebar-content,
.p-sidebar-bottom .p-sidebar-content {
    width: 100%;
    height: 100%;
}
@media screen and (max-width: 64em) {
.p-sidebar-left .p-sidebar-lg,
    .p-sidebar-left .p-sidebar-md,
    .p-sidebar-right .p-sidebar-lg,
    .p-sidebar-right .p-sidebar-md {
        width: 20rem;
}
}
`;eTe(tTe);Qce.render=Q2e;var eue={name:"Fieldset",emits:["update:collapsed","toggle"],props:{legend:String,toggleable:Boolean,collapsed:Boolean,toggleButtonProps:{type:null,default:null}},data(){return{d_collapsed:this.collapsed}},watch:{collapsed(t){this.d_collapsed=t}},methods:{toggle(t){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:t,value:this.d_collapsed})},onKeyDown(t){(t.code==="Enter"||t.code==="Space")&&(this.toggle(t),t.preventDefault())}},computed:{iconClass(){return["p-fieldset-toggler pi ",{"pi-minus":!this.d_collapsed,"pi-plus":this.d_collapsed}]},ariaId(){return Ud()},buttonAriaLabel(){return this.toggleButtonProps&&this.toggleButtonProps["aria-label"]?this.toggleButtonProps["aria-label"]:this.legend}},directives:{ripple:qu}};const nTe={class:"p-fieldset-legend"},oTe=["id"],sTe=["id","aria-controls","aria-expanded","aria-label"],rTe={class:"p-fieldset-legend-text"},aTe=["id","aria-labelledby"],iTe={class:"p-fieldset-content"};function lTe(t,n,r,u,f,d){const w=gl("ripple");return be(),Le("fieldset",{class:cn(["p-fieldset p-component",{"p-fieldset-toggleable":r.toggleable}])},[yt("legend",nTe,[r.toggleable?Wt("",!0):Eo(t.$slots,"legend",{key:0},()=>[yt("span",{id:d.ariaId+"_header",class:"p-fieldset-legend-text"},Xo(r.legend),9,oTe)]),r.toggleable?Er((be(),Le("a",hr({key:1,id:d.ariaId+"_header",tabindex:"0",role:"button","aria-controls":d.ariaId+"_content","aria-expanded":!f.d_collapsed,"aria-label":d.buttonAriaLabel,onClick:n[0]||(n[0]=(...x)=>d.toggle&&d.toggle(...x)),onKeydown:n[1]||(n[1]=(...x)=>d.onKeyDown&&d.onKeyDown(...x))},r.toggleButtonProps),[yt("span",{class:cn(d.iconClass)},null,2),Eo(t.$slots,"legend",{},()=>[yt("span",rTe,Xo(r.legend),1)])],16,sTe)),[[w]]):Wt("",!0)]),Gn(Lm,{name:"p-toggleable-content"},{default:Ms(()=>[Er(yt("div",{id:d.ariaId+"_content",class:"p-toggleable-content",role:"region","aria-labelledby":d.ariaId+"_header"},[yt("div",iTe,[Eo(t.$slots,"default")])],8,aTe),[[pQ,!f.d_collapsed]])]),_:3})],2)}function cTe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var uTe=`
.p-fieldset-legend > a,
.p-fieldset-legend > span {
    display: flex;
    align-items: center;
    justify-content: center;
}
.p-fieldset-toggleable .p-fieldset-legend a {
    cursor: pointer;
    user-select: none;
    overflow: hidden;
    position: relative;
    text-decoration: none;
}
.p-fieldset-legend-text {
    line-height: 1;
}
`;cTe(uTe);eue.render=lTe;var tue={name:"TabMenu",emits:["update:activeIndex","tab-change"],props:{model:{type:Array,default:null},exact:{type:Boolean,default:!0},activeIndex:{type:Number,default:0},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},timeout:null,data(){return{d_activeIndex:this.activeIndex}},watch:{$route(){this.timeout=setTimeout(()=>this.updateInkBar(),50)},activeIndex(t){this.d_activeIndex=t}},mounted(){this.updateInkBar()},updated(){this.updateInkBar()},beforeUnmount(){clearTimeout(this.timeout)},methods:{onItemClick(t,n,r,u){if(this.disabled(n)){t.preventDefault();return}n.command&&n.command({originalEvent:t,item:n}),n.to&&u&&u(t),r!==this.d_activeIndex&&(this.d_activeIndex=r,this.$emit("update:activeIndex",this.d_activeIndex)),this.$emit("tab-change",{originalEvent:t,index:r})},onKeydownItem(t,n,r){let u=r,f={};const d=this.$refs.tabLink;switch(t.code){case"ArrowRight":{f=this.findNextItem(this.$refs.tab,u),u=f.i;break}case"ArrowLeft":{f=this.findPrevItem(this.$refs.tab,u),u=f.i;break}case"End":{f=this.findPrevItem(this.$refs.tab,this.model.length),u=f.i,t.preventDefault();break}case"Home":{f=this.findNextItem(this.$refs.tab,-1),u=f.i,t.preventDefault();break}case"Space":case"Enter":{t.currentTarget&&t.currentTarget.click(),t.preventDefault();break}case"Tab":{this.setDefaultTabIndexes(d);break}}d[u]&&d[r]&&(d[r].tabIndex="-1",d[u].tabIndex="0",d[u].focus())},findNextItem(t,n){let r=n+1;if(r>=t.length)return{nextItem:t[t.length],i:t.length};let u=t[r];return u?tt.hasClass(u,"p-disabled")?this.findNextItem(t,r):{nextItem:u,i:r}:null},findPrevItem(t,n){let r=n-1;if(r<0)return{nextItem:t[0],i:0};let u=t[r];return u?tt.hasClass(u,"p-disabled")?this.findPrevItem(t,r):{prevItem:u,i:r}:null},getItemClass(t,n){return["p-tabmenuitem",t.class,{"p-highlight":this.d_activeIndex===n,"p-disabled":this.disabled(t)}]},getRouteItemClass(t,n,r){return["p-tabmenuitem",t.class,{"p-highlight":this.exact?r:n,"p-disabled":this.disabled(t)}]},getItemIcon(t){return["p-menuitem-icon",t.icon]},visible(t){return typeof t.visible=="function"?t.visible():t.visible!==!1},disabled(t){return typeof t.disabled=="function"?t.disabled():t.disabled},label(t){return typeof t.label=="function"?t.label():t.label},setDefaultTabIndexes(t){setTimeout(()=>{t.forEach(n=>{n.tabIndex=tt.hasClass(n.parentElement,"p-highlight")?"0":"-1"})},300)},setTabIndex(t){return this.d_activeIndex===t?"0":"-1"},updateInkBar(){let t=this.$refs.nav.children,n=!1;for(let r=0;r<t.length;r++){let u=t[r];tt.hasClass(u,"p-highlight")&&(this.$refs.inkbar.style.width=tt.getWidth(u)+"px",this.$refs.inkbar.style.left=tt.getOffset(u).left-tt.getOffset(this.$refs.nav).left+"px",n=!0)}n||(this.$refs.inkbar.style.width="0px",this.$refs.inkbar.style.left="0px")}},directives:{ripple:qu}};const dTe={class:"p-tabmenu p-component"},fTe=["aria-labelledby","aria-label"],hTe=["href","aria-label","aria-disabled","tabindex","onClick","onKeydown"],mTe={class:"p-menuitem-text"},pTe=["onClick","onKeydown"],gTe=["href","target","aria-label","aria-disabled","tabindex"],yTe={class:"p-menuitem-text"},bTe={ref:"inkbar",role:"none",class:"p-tabmenu-ink-bar"};function vTe(t,n,r,u,f,d){const w=Vn("router-link"),x=gl("ripple");return be(),Le("div",dTe,[yt("ul",{ref:"nav",class:"p-tabmenu-nav p-reset",role:"menubar","aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel},[(be(!0),Le(Xn,null,Ua(r.model,(T,I)=>(be(),Le(Xn,{key:d.label(T)+"_"+I.toString()},[T.to&&!d.disabled(T)?(be(),Mn(w,{key:0,to:T.to,custom:""},{default:Ms(({navigate:$,href:F,isActive:H,isExactActive:de})=>[d.visible(T)?(be(),Le("li",{key:0,ref_for:!0,ref:"tab",class:cn(d.getRouteItemClass(T,H,de)),style:xr(T.style),role:"presentation"},[t.$slots.item?(be(),Mn(Ha(t.$slots.item),{key:1,item:T,index:I},null,8,["item","index"])):Er((be(),Le("a",{key:0,ref_for:!0,ref:"tabLink",role:"menuitem",href:F,class:"p-menuitem-link","aria-label":d.label(T),"aria-disabled":d.disabled(T),tabindex:de?"0":"-1",onClick:ke=>d.onItemClick(ke,T,I,$),onKeydown:ke=>d.onKeydownItem(ke,T,I,$)},[T.icon?(be(),Le("span",{key:0,class:cn(d.getItemIcon(T))},null,2)):Wt("",!0),yt("span",mTe,Xo(d.label(T)),1)],40,hTe)),[[x]])],6)):Wt("",!0)]),_:2},1032,["to"])):d.visible(T)?(be(),Le("li",{key:1,ref_for:!0,ref:"tab",class:cn(d.getItemClass(T,I)),role:"presentation",onClick:$=>d.onItemClick($,T,I),onKeydown:$=>d.onKeydownItem($,T,I)},[t.$slots.item?(be(),Mn(Ha(t.$slots.item),{key:1,item:T,index:I},null,8,["item","index"])):Er((be(),Le("a",{key:0,ref_for:!0,ref:"tabLink",role:"menuitem",href:T.url,class:"p-menuitem-link",target:T.target,"aria-label":d.label(T),"aria-disabled":d.disabled(T),tabindex:d.setTabIndex(I)},[T.icon?(be(),Le("span",{key:0,class:cn(d.getItemIcon(T))},null,2)):Wt("",!0),yt("span",yTe,Xo(d.label(T)),1)],8,gTe)),[[x]])],42,pTe)):Wt("",!0)],64))),128)),yt("li",bTe,null,512)],8,fTe)])}function wTe(t,n){n===void 0&&(n={});var r=n.insertAt;if(!(!t||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t))}}var _Te=`
.p-tabmenu {
    overflow-x: auto;
}
.p-tabmenu-nav {
    display: flex;
    margin: 0;
    padding: 0;
    list-style-type: none;
    flex-wrap: nowrap;
}
.p-tabmenu-nav a {
    cursor: pointer;
    user-select: none;
    display: flex;
    align-items: center;
    position: relative;
    text-decoration: none;
    text-decoration: none;
    overflow: hidden;
}
.p-tabmenu-nav a:focus {
    z-index: 1;
}
.p-tabmenu-nav .p-menuitem-text {
    line-height: 1;
}
.p-tabmenu-ink-bar {
    display: none;
    z-index: 1;
}
.p-tabmenu::-webkit-scrollbar {
    display: none;
}
`;wTe(_Te);tue.render=vTe;const kTe={mounted(t,n){const r=Ud()+"_badge";t.$_pbadgeId=r;let u=document.createElement("span");u.id=r,u.className="p-badge p-component";for(let f in n.modifiers)tt.addClass(u,"p-badge-"+f);n.value!=null?(u.appendChild(document.createTextNode(n.value)),String(n.value).length===1&&tt.addClass(u,"p-badge-no-gutter")):tt.addClass(u,"p-badge-dot"),tt.addClass(t,"p-overlay-badge"),t.appendChild(u)},updated(t,n){if(tt.addClass(t,"p-overlay-badge"),n.oldValue!==n.value){let r=document.getElementById(t.$_pbadgeId);n.value?(tt.hasClass(r,"p-badge-dot")&&tt.removeClass(r,"p-badge-dot"),String(n.value).length===1?tt.addClass(r,"p-badge-no-gutter"):tt.removeClass(r,"p-badge-no-gutter")):!n.value&&!tt.hasClass(r,"p-badge-dot")&&tt.addClass(r,"p-badge-dot"),r.innerHTML="",r.appendChild(document.createTextNode(n.value))}}},CTe={class:"col-12 p-0 mb-4"},STe={__name:"BackButton",setup(t){const n=Xae(),r=()=>{n.back()};return(u,f)=>{const d=Vn("Button");return be(),Le("div",CTe,[Gn(d,{label:"\u8FD4\u56DE",icon:"pi pi-angle-double-left",outlined:"",raised:"",onClick:r})])}}};var xTe={exports:{}};(function(t){(function(){var n=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var s=typeof e;return s==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":s==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":s},r=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},u=function(e,s){var a=Array.prototype.slice.call(e);return a.sort(s)},f=function(e,s){return d(function(a,l){return e.eq(s(a),s(l))})},d=function(e){return{eq:e}},w=d(function(e,s){return e===s}),x=w,T=function(e){return d(function(s,a){if(s.length!==a.length)return!1;for(var l=s.length,h=0;h<l;h++)if(!e.eq(s[h],a[h]))return!1;return!0})},I=function(e,s){return f(T(e),function(a){return u(a,s)})},$=function(e){return d(function(s,a){var l=Object.keys(s),h=Object.keys(a);if(!I(x).eq(l,h))return!1;for(var g=l.length,v=0;v<g;v++){var S=l[v];if(!e.eq(s[S],a[S]))return!1}return!0})},F=d(function(e,s){if(e===s)return!0;var a=n(e),l=n(s);return a!==l?!1:r(a)?e===s:a==="array"?T(F).eq(e,s):a==="object"?$(F).eq(e,s):!1});const H=Object.getPrototypeOf,de=(e,s,a)=>{var l;return a(e,s.prototype)?!0:((l=e.constructor)===null||l===void 0?void 0:l.name)===s.name},ke=e=>{const s=typeof e;return e===null?"null":s==="object"&&Array.isArray(e)?"array":s==="object"&&de(e,String,(a,l)=>l.isPrototypeOf(a))?"string":s},Ne=e=>s=>ke(s)===e,xe=e=>s=>typeof s===e,Fe=e=>s=>e===s,rt=(e,s)=>vt(e)&&de(e,s,(a,l)=>H(a)===l),ne=Ne("string"),vt=Ne("object"),Ue=e=>rt(e,Object),We=Ne("array"),J=Fe(null),Te=xe("boolean"),st=Fe(void 0),wt=e=>e==null,je=e=>!wt(e),ue=xe("function"),Rn=xe("number"),ln=(e,s)=>{if(We(e)){for(let a=0,l=e.length;a<l;++a)if(!s(e[a]))return!1;return!0}return!1},It=()=>{},L=(e,s)=>(...a)=>e(s.apply(null,a)),Ht=(e,s)=>a=>e(s(a)),ot=e=>()=>e,Nn=e=>e,an=(e,s)=>e===s;function it(e,...s){return(...a)=>{const l=s.concat(a);return e.apply(null,l)}}const Zn=e=>s=>!e(s),io=e=>()=>{throw new Error(e)},uo=e=>e(),Et=e=>{e()},Ee=ot(!1),me=ot(!0);class j{constructor(s,a){this.tag=s,this.value=a}static some(s){return new j(!0,s)}static none(){return j.singletonNone}fold(s,a){return this.tag?a(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?j.some(s(this.value)):j.none()}bind(s){return this.tag?s(this.value):j.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:j.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s!=null?s:"Called getOrDie on None")}static from(s){return je(s)?j.some(s):j.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}j.singletonNone=new j(!1);const lt=Array.prototype.slice,Xe=Array.prototype.indexOf,Tt=Array.prototype.push,re=(e,s)=>Xe.call(e,s),Re=(e,s)=>{const a=re(e,s);return a===-1?j.none():j.some(a)},Oe=(e,s)=>re(e,s)>-1,pt=(e,s)=>{for(let a=0,l=e.length;a<l;a++){const h=e[a];if(s(h,a))return!0}return!1},Ke=(e,s)=>{const a=e.length,l=new Array(a);for(let h=0;h<a;h++){const g=e[h];l[h]=s(g,h)}return l},le=(e,s)=>{for(let a=0,l=e.length;a<l;a++){const h=e[a];s(h,a)}},$e=(e,s)=>{for(let a=e.length-1;a>=0;a--){const l=e[a];s(l,a)}},Qe=(e,s)=>{const a=[],l=[];for(let h=0,g=e.length;h<g;h++){const v=e[h];(s(v,h)?a:l).push(v)}return{pass:a,fail:l}},Ve=(e,s)=>{const a=[];for(let l=0,h=e.length;l<h;l++){const g=e[l];s(g,l)&&a.push(g)}return a},oe=(e,s,a)=>($e(e,(l,h)=>{a=s(a,l,h)}),a),ye=(e,s,a)=>(le(e,(l,h)=>{a=s(a,l,h)}),a),Ye=(e,s,a)=>{for(let l=0,h=e.length;l<h;l++){const g=e[l];if(s(g,l))return j.some(g);if(a(g,l))break}return j.none()},ut=(e,s)=>Ye(e,s,Ee),zt=(e,s)=>{for(let a=0,l=e.length;a<l;a++){const h=e[a];if(s(h,a))return j.some(a)}return j.none()},Dt=e=>{const s=[];for(let a=0,l=e.length;a<l;++a){if(!We(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);Tt.apply(s,e[a])}return s},Vt=(e,s)=>Dt(Ke(e,s)),sn=(e,s)=>{for(let a=0,l=e.length;a<l;++a){const h=e[a];if(s(h,a)!==!0)return!1}return!0},_n=e=>{const s=lt.call(e,0);return s.reverse(),s},Un=(e,s)=>Ve(e,a=>!Oe(s,a)),lo=(e,s)=>{const a={};for(let l=0,h=e.length;l<h;l++){const g=e[l];a[String(g)]=s(g,l)}return a},mo=(e,s)=>{const a=lt.call(e,0);return a.sort(s),a},Io=(e,s)=>s>=0&&s<e.length?j.some(e[s]):j.none(),_s=e=>Io(e,0),Uo=e=>Io(e,e.length-1),zs=ue(Array.from)?Array.from:e=>lt.call(e),Dl=(e,s)=>{for(let a=0;a<e.length;a++){const l=s(e[a],a);if(l.isSome())return l}return j.none()},Ii=(e,s)=>{const a=[],l=ue(s)?h=>pt(a,g=>s(g,h)):h=>Oe(a,h);for(let h=0,g=e.length;h<g;h++){const v=e[h];l(v)||a.push(v)}return a},Fr=Object.keys,pi=Object.hasOwnProperty,Gt=(e,s)=>{const a=Fr(e);for(let l=0,h=a.length;l<h;l++){const g=a[l],v=e[g];s(v,g)}},Mo=(e,s)=>Qi(e,(a,l)=>({k:l,v:s(a,l)})),Qi=(e,s)=>{const a={};return Gt(e,(l,h)=>{const g=s(l,h);a[g.k]=g.v}),a},la=e=>(s,a)=>{e[a]=s},Ku=(e,s,a,l)=>{Gt(e,(h,g)=>{(s(h,g)?a:l)(h,g)})},du=(e,s)=>{const a={},l={};return Ku(e,s,la(a),la(l)),{t:a,f:l}},bs=(e,s)=>{const a={};return Ku(e,s,la(a),It),a},ac=(e,s)=>{const a=[];return Gt(e,(l,h)=>{a.push(s(l,h))}),a},Yu=e=>ac(e,Nn),us=(e,s)=>Ln(e,s)?j.from(e[s]):j.none(),Ln=(e,s)=>pi.call(e,s),oi=(e,s)=>Ln(e,s)&&e[s]!==void 0&&e[s]!==null,Oc=(e,s,a=F)=>$(a).eq(e,s),Mf=e=>{const s={};return le(e,a=>{s[a]={}}),Fr(s)},fu=e=>e.length!==void 0,gi=Array.isArray,ca=e=>{if(gi(e))return e;{const s=[];for(let a=0,l=e.length;a<l;a++)s[a]=e[a];return s}},gr=(e,s,a)=>{if(!e)return!1;if(a=a||e,fu(e)){for(let l=0,h=e.length;l<h;l++)if(s.call(a,e[l],l,e)===!1)return!1}else for(const l in e)if(Ln(e,l)&&s.call(a,e[l],l,e)===!1)return!1;return!0},Dc=(e,s)=>{const a=[];return gr(e,(l,h)=>{a.push(s(l,h,e))}),a},jd=(e,s)=>{const a=[];return gr(e,(l,h)=>{(!s||s(l,h,e))&&a.push(l)}),a},Ca=(e,s)=>{if(e){for(let a=0,l=e.length;a<l;a++)if(e[a]===s)return a}return-1},Oi=(e,s,a,l)=>{let h=st(a)?e[0]:a;for(let g=0;g<e.length;g++)h=s.call(l,h,e[g],g);return h},Zs=(e,s,a)=>{for(let l=0,h=e.length;l<h;l++)if(s.call(a,e[l],l,e))return l;return-1},ja=e=>e[e.length-1],ic=e=>{let s=!1,a;return(...l)=>(s||(s=!0,a=e.apply(null,l)),a)},Pf=(e,s,a,l)=>{const h=e.isiOS()&&/ipad/i.test(a)===!0,g=e.isiOS()&&!h,v=e.isiOS()||e.isAndroid(),S=v||l("(pointer:coarse)"),A=h||!g&&v&&l("(min-device-width:768px)"),z=g||v&&!A,W=s.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,U=!z&&!A&&!W;return{isiPad:ot(h),isiPhone:ot(g),isTablet:ot(A),isPhone:ot(z),isTouch:ot(S),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ot(W),isDesktop:ot(U)}},Mh=(e,s)=>{for(let a=0;a<e.length;a++){const l=e[a];if(l.test(s))return l}},yi=(e,s)=>{const a=Mh(e,s);if(!a)return{major:0,minor:0};const l=h=>Number(s.replace(a,"$"+h));return Sa(l(1),l(2))},M0=(e,s)=>{const a=String(s).toLowerCase();return e.length===0?ze():yi(e,a)},ze=()=>Sa(0,0),Sa=(e,s)=>({major:e,minor:s}),Wd={nu:Sa,detect:M0,unknown:ze},cg=(e,s)=>Dl(s.brands,a=>{const l=a.brand.toLowerCase();return ut(e,h=>{var g;return l===((g=h.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(h=>({current:h.name,version:Wd.nu(parseInt(a.version,10),0)}))}),Bm=(e,s)=>{const a=String(s).toLowerCase();return ut(e,l=>l.search(a))},vs=(e,s)=>Bm(e,s).map(a=>{const l=Wd.detect(a.versionRegexes,s);return{current:a.name,version:l}}),ug=(e,s)=>Bm(e,s).map(a=>{const l=Wd.detect(a.versionRegexes,s);return{current:a.name,version:l}}),Ph=(e,s)=>e.substring(s),Xu=(e,s,a)=>s===""||e.length>=s.length&&e.substr(a,a+s.length)===s,bi=(e,s)=>Rr(e,s)?Ph(e,s.length):e,yr=(e,s,a=0,l)=>{const h=e.indexOf(s,a);return h!==-1?st(l)?!0:h+s.length<=l:!1},Rr=(e,s)=>Xu(e,s,0),hu=(e,s)=>Xu(e,s,e.length-s.length),el=e=>s=>s.replace(e,""),Mc=el(/^\s+|\s+$/g),Ju=el(/^\s+/g),Qu=el(/\s+$/g),Jo=e=>e.length>0,tl=e=>!Jo(e),Zd=(e,s)=>s<=0?"":new Array(s+1).join(e),Pc=(e,s=10)=>{const a=parseInt(e,s);return isNaN(a)?j.none():j.some(a)},yl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Di=e=>s=>yr(s,e),Gs=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>yr(e,"edge/")&&yr(e,"chrome")&&yr(e,"safari")&&yr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,yl],search:e=>yr(e,"chrome")&&!yr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>yr(e,"msie")||yr(e,"trident")},{name:"Opera",versionRegexes:[yl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Di("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Di("firefox")},{name:"Safari",versionRegexes:[yl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(yr(e,"safari")||yr(e,"mobile/"))&&yr(e,"applewebkit")}],Xy=[{name:"Windows",search:Di("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>yr(e,"iphone")||yr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Di("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Di("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Di("linux"),versionRegexes:[]},{name:"Solaris",search:Di("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Di("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Di("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],$m={browsers:ot(Gs),oses:ot(Xy)},as="Edge",nl="Chromium",Mi="IE",Kr="Opera",zf="Firefox",ed="Safari",bl=()=>Ml({current:void 0,version:Wd.unknown()}),Ml=e=>{const s=e.current,a=e.version,l=h=>()=>s===h;return{current:s,version:a,isEdge:l(as),isChromium:l(nl),isIE:l(Mi),isOpera:l(Kr),isFirefox:l(zf),isSafari:l(ed)}},Vm={unknown:bl,nu:Ml,edge:ot(as),chromium:ot(nl),ie:ot(Mi),opera:ot(Kr),firefox:ot(zf),safari:ot(ed)},zh="Windows",dg="iOS",Pi="Android",mu="Linux",Nf="macOS",Hm="Solaris",Nh="FreeBSD",Lh="ChromeOS",Um=()=>Lf({current:void 0,version:Wd.unknown()}),Lf=e=>{const s=e.current,a=e.version,l=h=>()=>s===h;return{current:s,version:a,isWindows:l(zh),isiOS:l(dg),isAndroid:l(Pi),isMacOS:l(Nf),isLinux:l(mu),isSolaris:l(Hm),isFreeBSD:l(Nh),isChromeOS:l(Lh)}},Br={unknown:Um,nu:Lf,windows:ot(zh),ios:ot(dg),android:ot(Pi),linux:ot(mu),macos:ot(Nf),solaris:ot(Hm),freebsd:ot(Nh),chromeos:ot(Lh)},zc={detect:(e,s,a)=>{const l=$m.browsers(),h=$m.oses(),g=s.bind(A=>cg(l,A)).orThunk(()=>vs(l,e)).fold(Vm.unknown,Vm.nu),v=ug(h,e).fold(Br.unknown,Br.nu),S=Pf(v,g,e,a);return{browser:g,os:v,deviceType:S}}},jm=e=>window.matchMedia(e).matches;let fg=ic(()=>zc.detect(navigator.userAgent,j.from(navigator.userAgentData),jm));const pu=()=>fg(),Jy=navigator.userAgent,Za=pu(),Yr=Za.browser,lc=Za.os,Pl=Za.deviceType,Jn=Jy.indexOf("Windows Phone")!==-1,Bo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Yr.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Yr.isIE(),windowsPhone:Jn,browser:{current:Yr.current,version:Yr.version,isChromium:Yr.isChromium,isEdge:Yr.isEdge,isFirefox:Yr.isFirefox,isIE:Yr.isIE,isOpera:Yr.isOpera,isSafari:Yr.isSafari},os:{current:lc.current,version:lc.version,isAndroid:lc.isAndroid,isChromeOS:lc.isChromeOS,isFreeBSD:lc.isFreeBSD,isiOS:lc.isiOS,isLinux:lc.isLinux,isMacOS:lc.isMacOS,isSolaris:lc.isSolaris,isWindows:lc.isWindows},deviceType:{isDesktop:Pl.isDesktop,isiPad:Pl.isiPad,isiPhone:Pl.isiPhone,isPhone:Pl.isPhone,isTablet:Pl.isTablet,isTouch:Pl.isTouch,isWebView:Pl.isWebView}},ua=/^\s*|\s*$/g,G=e=>wt(e)?"":(""+e).replace(ua,""),ae=(e,s)=>s?s==="array"&&gi(e)?!0:typeof e===s:e!==void 0,ge=(e,s,a={})=>{const l=ne(e)?e.split(s||","):e||[];let h=l.length;for(;h--;)a[l[h]]={};return a},Je=Ln,en=(e,...s)=>{for(let a=0;a<s.length;a++){const l=s[a];for(const h in l)if(Ln(l,h)){const g=l[h];g!==void 0&&(e[h]=g)}}return e},co=function(e,s,a,l){l=l||this,e&&(a&&(e=e[a]),gr(e,(h,g)=>s.call(l,h,g,a)===!1?!1:(co(h,s,a,l),!0)))},xt={trim:G,isArray:gi,is:ae,toArray:ca,makeMap:ge,each:gr,map:Dc,grep:jd,inArray:Ca,hasOwn:Je,extend:en,walk:co,resolve:(e,s=window)=>{const a=e.split(".");for(let l=0,h=a.length;l<h&&(s=s[a[l]],!!s);l++);return s},explode:(e,s)=>We(e)?e:e===""?[]:Dc(e.split(s||","),G),_addCacheSuffix:e=>{const s=Bo.cacheSuffix;return s&&(e+=(e.indexOf("?")===-1?"?":"&")+s),e}},$r=(e,s,a=an)=>e.exists(l=>a(l,s)),er=e=>{const s=[],a=l=>{s.push(l)};for(let l=0;l<e.length;l++)e[l].each(a);return s},fa=(e,s,a)=>e.isSome()&&s.isSome()?j.some(a(e.getOrDie(),s.getOrDie())):j.none(),hg=(e,s,a,l)=>e.isSome()&&s.isSome()&&a.isSome()?j.some(l(e.getOrDie(),s.getOrDie(),a.getOrDie())):j.none(),Ro=(e,s)=>e?j.some(s):j.none(),gu=typeof window<"u"?window:Function("return this;")(),zi=(e,s)=>{let a=s!=null?s:gu;for(let l=0;l<e.length&&a!==void 0&&a!==null;++l)a=a[e[l]];return a},br=(e,s)=>{const a=e.split(".");return zi(a,s)},Vr=(e,s)=>br(e,s),Ff=(e,s)=>{const a=Vr(e,s);if(a==null)throw new Error(e+" not available on this browser");return a},kx=Object.getPrototypeOf,Qy=e=>Ff("HTMLElement",e),qs=e=>{const s=br("ownerDocument.defaultView",e);return vt(e)&&(Qy(s).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(kx(e).constructor.name))},Hr=8,Bf=9,si=11,Gd=1,Wm=3,ks=e=>e.dom.nodeName.toLowerCase(),vi=e=>e.dom.nodeType,ri=e=>s=>vi(s)===e,C1=e=>vi(e)===Hr||ks(e)==="#comment",qd=e=>Cs(e)&&qs(e.dom),Cs=ri(Gd),wi=ri(Wm),$f=ri(Bf),S1=ri(si),Fh=e=>s=>Cs(s)&&ks(s)===e,Nc=(e,s,a)=>{if(ne(a)||Te(a)||Rn(a))e.setAttribute(s,a+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},vr=(e,s,a)=>{Nc(e.dom,s,a)},_i=(e,s)=>{const a=e.dom;Gt(s,(l,h)=>{Nc(a,h,l)})},Ni=(e,s)=>{const a=e.dom.getAttribute(s);return a===null?void 0:a},Lc=(e,s)=>j.from(Ni(e,s)),Ga=(e,s)=>{const a=e.dom;return a&&a.hasAttribute?a.hasAttribute(s):!1},Ir=(e,s)=>{e.dom.removeAttribute(s)},vl=e=>{const s=e.dom.attributes;return s==null||s.length===0},Zm=e=>ye(e.dom.attributes,(s,a)=>(s[a.name]=a.value,s),{}),Kd=(e,s)=>{const a=Ni(e,s);return a===void 0||a===""?[]:a.split(" ")},Bh=(e,s,a)=>{const h=Kd(e,s).concat([a]);return vr(e,s,h.join(" ")),!0},mg=(e,s,a)=>{const l=Ve(Kd(e,s),h=>h!==a);return l.length>0?vr(e,s,l.join(" ")):Ir(e,s),!1},zl=e=>e.dom.classList!==void 0,Yd=e=>Kd(e,"class"),Gm=(e,s)=>Bh(e,"class",s),Or=(e,s)=>mg(e,"class",s),qm=(e,s)=>Oe(Yd(e),s)?Or(e,s):Gm(e,s),Vf=(e,s)=>{zl(e)?e.dom.classList.add(s):Gm(e,s)},$h=e=>{(zl(e)?e.dom.classList:Yd(e)).length===0&&Ir(e,"class")},Vh=(e,s)=>{zl(e)?e.dom.classList.remove(s):Or(e,s),$h(e)},pg=(e,s)=>{const a=zl(e)?e.dom.classList.toggle(s):qm(e,s);return $h(e),a},Km=(e,s)=>zl(e)&&e.dom.classList.contains(s),Hf=(e,s)=>{const l=(s||document).createElement("div");if(l.innerHTML=e,!l.hasChildNodes()||l.childNodes.length>1){const h="HTML does not have a single root node";throw console.error(h,e),new Error(h)}return Uf(l.childNodes[0])},eb=(e,s)=>{const l=(s||document).createElement(e);return Uf(l)},tb=(e,s)=>{const l=(s||document).createTextNode(e);return Uf(l)},Uf=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},ve={fromHtml:Hf,fromTag:eb,fromText:tb,fromDom:Uf,fromPoint:(e,s,a)=>j.from(e.dom.elementFromPoint(s,a)).map(Uf)},gg=(e,s)=>{const a=[],l=g=>(a.push(g),s(g));let h=s(e);do h=h.bind(l);while(h.isSome());return a},Li=(e,s)=>{const a=e.dom;if(a.nodeType!==Gd)return!1;{const l=a;if(l.matches!==void 0)return l.matches(s);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(s);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(s);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},nb=e=>e.nodeType!==Gd&&e.nodeType!==Bf&&e.nodeType!==si||e.childElementCount===0,z0=(e,s)=>{const a=s===void 0?document:s.dom;return nb(a)?[]:Ke(a.querySelectorAll(e),ve.fromDom)},N0=(e,s)=>{const a=s===void 0?document:s.dom;return nb(a)?j.none():j.from(a.querySelector(e)).map(ve.fromDom)},Yo=(e,s)=>e.dom===s.dom,cc=(e,s)=>{const a=e.dom,l=s.dom;return a===l?!1:a.contains(l)},ki=e=>ve.fromDom(e.dom.ownerDocument),Nl=e=>$f(e)?e:ki(e),x1=e=>ve.fromDom(Nl(e).dom.documentElement),jf=e=>ve.fromDom(Nl(e).dom.defaultView),Ll=e=>j.from(e.dom.parentNode).map(ve.fromDom),Ym=e=>j.from(e.dom.parentElement).map(ve.fromDom),ob=(e,s)=>{const a=ue(s)?s:Ee;let l=e.dom;const h=[];for(;l.parentNode!==null&&l.parentNode!==void 0;){const g=l.parentNode,v=ve.fromDom(g);if(h.push(v),a(v)===!0)break;l=g}return h},L0=e=>{const s=a=>Ve(a,l=>!Yo(e,l));return Ll(e).map(xa).map(s).getOr([])},Fl=e=>j.from(e.dom.previousSibling).map(ve.fromDom),Hh=e=>j.from(e.dom.nextSibling).map(ve.fromDom),E1=e=>_n(gg(e,Fl)),wl=e=>gg(e,Hh),xa=e=>Ke(e.dom.childNodes,ve.fromDom),Uh=(e,s)=>{const a=e.dom.childNodes;return j.from(a[s]).map(ve.fromDom)},jh=e=>Uh(e,0),uc=e=>Uh(e,e.dom.childNodes.length-1),_l=e=>e.dom.childNodes.length,sb=e=>{const s=e.dom.head;if(s==null)throw new Error("Head is not available yet");return ve.fromDom(s)},yg=e=>S1(e)&&je(e.dom.host),bg=ue(Element.prototype.attachShadow)&&ue(Node.prototype.getRootNode),rb=ot(bg),yu=bg?e=>ve.fromDom(e.dom.getRootNode()):Nl,Xm=e=>yg(e)?e:sb(Nl(e)),T1=e=>yg(e)?e:ve.fromDom(Nl(e).dom.body),tI=e=>{const s=yu(e);return yg(s)?j.some(s):j.none()},R1=e=>ve.fromDom(e.dom.host),vg=e=>{if(rb()&&je(e.target)){const s=ve.fromDom(e.target);if(Cs(s)&&ab(s)&&e.composed&&e.composedPath){const a=e.composedPath();if(a)return _s(a)}}return j.from(e.target)},ab=e=>je(e.dom.shadowRoot),td=e=>{const s=wi(e)?e.dom.parentNode:e.dom;if(s==null||s.ownerDocument===null)return!1;const a=s.ownerDocument;return tI(ve.fromDom(s)).fold(()=>a.body.contains(s),Ht(td,R1))};var ib=(e,s,a,l,h)=>e(a,l)?j.some(a):ue(h)&&h(a)?j.none():s(a,l,h);const Ns=(e,s,a)=>{let l=e.dom;const h=ue(a)?a:Ee;for(;l.parentNode;){l=l.parentNode;const g=ve.fromDom(l);if(s(g))return j.some(g);if(h(g))break}return j.none()},tr=(e,s,a)=>ib((h,g)=>g(h),Ns,e,s,a),nd=(e,s)=>{const a=e.dom;return a.parentNode?A1(ve.fromDom(a.parentNode),l=>!Yo(e,l)&&s(l)):j.none()},A1=(e,s)=>{const a=h=>s(ve.fromDom(h));return ut(e.dom.childNodes,a).map(ve.fromDom)},I1=(e,s)=>{const a=l=>{for(let h=0;h<l.childNodes.length;h++){const g=ve.fromDom(l.childNodes[h]);if(s(g))return j.some(g);const v=a(l.childNodes[h]);if(v.isSome())return v}return j.none()};return a(e.dom)},Ea=(e,s,a)=>Ns(e,l=>Li(l,s),a),Wh=(e,s)=>N0(s,e),Fc=(e,s,a)=>ib((h,g)=>Li(h,g),Ea,e,s,a),bu=e=>Fc(e,"[contenteditable]"),Wf=(e,s=!1)=>td(e)?e.dom.isContentEditable:bu(e).fold(ot(s),a=>to(a)==="true"),to=e=>e.dom.contentEditable,Ci=e=>e.style!==void 0&&ue(e.style.getPropertyValue),Zh=(e,s,a)=>{if(!ne(a))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);Ci(e)&&e.style.setProperty(s,a)},O1=(e,s)=>{Ci(e)&&e.style.removeProperty(s)},Zf=(e,s,a)=>{const l=e.dom;Zh(l,s,a)},Jm=(e,s)=>{const a=e.dom;Gt(s,(l,h)=>{Zh(a,h,l)})},dc=(e,s)=>{const a=e.dom,h=window.getComputedStyle(a).getPropertyValue(s);return h===""&&!td(e)?ol(a,s):h},ol=(e,s)=>Ci(e)?e.style.getPropertyValue(s):"",ai=(e,s)=>{const a=e.dom,l=ol(a,s);return j.from(l).filter(h=>h.length>0)},kl=e=>{const s={},a=e.dom;if(Ci(a))for(let l=0;l<a.style.length;l++){const h=a.style.item(l);s[h]=a.style[h]}return s},ha=(e,s)=>{const a=e.dom;O1(a,s),$r(Lc(e,"style").map(Mc),"")&&Ir(e,"style")},D1=e=>e.dom.offsetWidth,Zo=(e,s)=>{Ll(e).each(l=>{l.dom.insertBefore(s.dom,e.dom)})},od=(e,s)=>{Hh(e).fold(()=>{Ll(e).each(h=>{nr(h,s)})},l=>{Zo(l,s)})},Xd=(e,s)=>{jh(e).fold(()=>{nr(e,s)},l=>{e.dom.insertBefore(s.dom,l.dom)})},nr=(e,s)=>{e.dom.appendChild(s.dom)},M1=(e,s)=>{Zo(e,s),nr(s,e)},F0=(e,s)=>{le(s,(a,l)=>{const h=l===0?e:s[l-1];od(h,a)})},sd=(e,s)=>{le(s,a=>{nr(e,a)})},ds=e=>{e.dom.textContent="",le(xa(e),s=>{hs(s)})},hs=e=>{const s=e.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Dr=e=>{const s=xa(e);s.length>0&&F0(e,s),hs(e)},Jd=(e,s)=>{const l=(s||document).createElement("div");return l.innerHTML=e,xa(ve.fromDom(l))},Qd=e=>Ke(e,ve.fromDom),Gf=e=>e.dom.innerHTML,ef=(e,s)=>{const l=ki(e).dom,h=ve.fromDom(l.createDocumentFragment()),g=Jd(s,l);sd(h,g),ds(e),nr(e,h)},go=e=>{const s=ve.fromTag("div"),a=ve.fromDom(e.dom.cloneNode(!0));return nr(s,a),Gf(s)},wg=(e,s,a,l,h,g,v)=>({target:e,x:s,y:a,stop:l,prevent:h,kill:g,raw:v}),lb=e=>{const s=ve.fromDom(vg(e).getOr(e.target)),a=()=>e.stopPropagation(),l=()=>e.preventDefault(),h=L(l,a);return wg(s,e.clientX,e.clientY,a,l,h,e)},B0=(e,s)=>a=>{e(a)&&s(lb(a))},$0=(e,s,a,l,h)=>{const g=B0(a,l);return e.dom.addEventListener(s,g,h),{unbind:it(P1,e,s,g,h)}},Qm=(e,s,a,l)=>$0(e,s,a,l,!1),P1=(e,s,a,l)=>{e.dom.removeEventListener(s,a,l)},ep=(e,s)=>({left:e,top:s,translate:(l,h)=>ep(e+l,s+h)}),fc=ep,z1=e=>{const s=e.getBoundingClientRect();return fc(s.left,s.top)},_g=(e,s)=>e!==void 0?e:s!==void 0?s:0,N1=e=>{const s=e.dom.ownerDocument,a=s.body,l=s.defaultView,h=s.documentElement;if(a===e.dom)return fc(a.offsetLeft,a.offsetTop);const g=_g(l==null?void 0:l.pageYOffset,h.scrollTop),v=_g(l==null?void 0:l.pageXOffset,h.scrollLeft),S=_g(h.clientTop,a.clientTop),A=_g(h.clientLeft,a.clientLeft);return Bc(e).translate(v-A,g-S)},Bc=e=>{const s=e.dom,l=s.ownerDocument.body;return l===s?fc(l.offsetLeft,l.offsetTop):td(e)?z1(s):fc(0,0)},cb=e=>{const s=e!==void 0?e.dom:document,a=s.body.scrollLeft||s.documentElement.scrollLeft,l=s.body.scrollTop||s.documentElement.scrollTop;return fc(a,l)},$c=(e,s)=>{pu().browser.isSafari()&&ue(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(s)},Gh=e=>{const s=e===void 0?window:e;return pu().browser.isFirefox()?j.none():j.from(s.visualViewport)},L1=(e,s,a,l)=>({x:e,y:s,width:a,height:l,right:e+a,bottom:s+l}),kg=e=>{const s=e===void 0?window:e,a=s.document,l=cb(ve.fromDom(a));return Gh(s).fold(()=>{const h=s.document.documentElement,g=h.clientWidth,v=h.clientHeight;return L1(l.left,l.top,g,v)},h=>L1(Math.max(h.pageLeft,l.left),Math.max(h.pageTop,l.top),h.width,h.height))},ub=(e,s)=>Ve(xa(e),s),db=(e,s)=>{let a=[];return le(xa(e),l=>{s(l)&&(a=a.concat([l])),a=a.concat(db(l,s))}),a},Ta=(e,s)=>z0(s,e),fb=(e,s,a)=>Ea(e,s,a).isSome();class Mr{constructor(s,a){this.node=s,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(s){return this.node=this.findSibling(this.node,"firstChild","nextSibling",s),this.node}prev(s){return this.node=this.findSibling(this.node,"lastChild","previousSibling",s),this.node}prev2(s){return this.node=this.findPreviousNode(this.node,s),this.node}findSibling(s,a,l,h){if(s){if(!h&&s[a])return s[a];if(s!==this.rootNode){let g=s[l];if(g)return g;for(let v=s.parentNode;v&&v!==this.rootNode;v=v.parentNode)if(g=v[l],g)return g}}}findPreviousNode(s,a){if(s){const l=s.previousSibling;if(this.rootNode&&l===this.rootNode)return;if(l){if(!a){for(let g=l.lastChild;g;g=g.lastChild)if(!g.lastChild)return g}return l}const h=s.parentNode;if(h&&h!==this.rootNode)return h}}}const tf=e=>s=>!!s&&s.nodeType===e,Fi=e=>!!e&&!Object.getPrototypeOf(e),ht=tf(1),Vc=e=>{const s=e.toLowerCase();return a=>je(a)&&a.nodeName.toLowerCase()===s},Bl=e=>{const s=e.map(a=>a.toLowerCase());return a=>{if(a&&a.nodeName){const l=a.nodeName.toLowerCase();return Oe(s,l)}return!1}},rd=(e,s)=>{const a=s.toLowerCase().split(" ");return l=>{if(ht(l)){const h=l.ownerDocument.defaultView;if(h)for(let g=0;g<a.length;g++){const v=h.getComputedStyle(l,null);if((v?v.getPropertyValue(e):null)===a[g])return!0}}return!1}},hb=e=>s=>ht(s)&&s.hasAttribute(e),mb=(e,s)=>a=>ht(a)&&a.getAttribute(e)===s,Ra=e=>ht(e)&&e.hasAttribute("data-mce-bogus"),ad=e=>ht(e)&&e.getAttribute("data-mce-bogus")==="all",hc=e=>ht(e)&&e.tagName==="TABLE",ma=e=>s=>!!(ht(s)&&(s.contentEditable===e||s.getAttribute("data-mce-contenteditable")===e)),qf=Bl(["textarea","input"]),Pt=tf(3),pb=tf(4),V0=tf(7),id=tf(8),Hc=tf(9),Cg=tf(11),Vs=Vc("br"),qh=Vc("img"),Uc=ma("true"),eo=ma("false"),Cl=Bl(["td","th"]),Bi=Bl(["td","th","caption"]),sl=Bl(["video","audio","object","embed"]),$i=Vc("li"),$l="\uFEFF",Qo="\xA0",ii=e=>e===$l,Sg=e=>e.replace(/\uFEFF/g,""),Vi=((e,s)=>{const a=g=>{if(!e(g))throw new Error("Can only get "+s+" value of a "+s+" node");return l(g).getOr("")},l=g=>e(g)?j.from(g.dom.nodeValue):j.none();return{get:a,getOption:l,set:(g,v)=>{if(!e(g))throw new Error("Can only set raw "+s+" value of a "+s+" node");g.dom.nodeValue=v}}})(wi,"text"),tp=e=>Vi.get(e),wr=e=>Vi.getOption(e),vu=(e,s)=>Vi.set(e,s),gb=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],mc=["td","th"],H0=["thead","tbody","tfoot"],ld=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],F1=["h1","h2","h3","h4","h5","h6"],rl=["li","dd","dt"],jo=["ul","ol","dl"],wu=["pre","script","textarea","style"],np=["pre"].concat(F1),_r=e=>{let s;return a=>(s=s||lo(e,me),Ln(s,ks(a)))},Hi=_r(gb),Kf=e=>ks(e)==="table",op=e=>Cs(e)&&!Hi(e),pa=e=>Cs(e)&&ks(e)==="br",xg=_r(ld),Be=_r(jo),li=_r(rl),Kh=_r(H0),qa=_r(mc),Vl=_r(wu),ci=_r(np),Ur=e=>ci(e)||op(e),U0=e=>{const s=[];let a=e.dom;for(;a;)s.push(ve.fromDom(a)),a=a.lastChild;return s},Eg=e=>{const s=Ta(e,"br"),a=Ve(U0(e).slice(-1),pa);s.length===a.length&&le(a,hs)},O=()=>{const e=ve.fromTag("br");return vr(e,"data-mce-bogus","1"),e},D=e=>{ds(e),nr(e,O())},Y=e=>{uc(e).each(s=>{Fl(s).each(a=>{Hi(e)&&pa(s)&&Hi(a)&&hs(s)})})},te=$l,Ce=ii,at=Sg,Nt=ht,rn=Pt,jn=e=>(rn(e)&&(e=e.parentNode),Nt(e)&&e.hasAttribute("data-mce-caret")),Wn=e=>rn(e)&&Ce(e.data),$o=e=>jn(e)||Wn(e),ss=e=>e.firstChild!==e.lastChild||!Vs(e.firstChild),Ls=(e,s)=>{var a;const h=((a=e.ownerDocument)!==null&&a!==void 0?a:document).createTextNode(te),g=e.parentNode;if(s){const v=e.previousSibling;if(rn(v)){if($o(v))return v;if(Yf(v))return v.splitText(v.data.length-1)}g==null||g.insertBefore(h,e)}else{const v=e.nextSibling;if(rn(v)){if($o(v))return v;if(Hl(v))return v.splitText(1),v}e.nextSibling?g==null||g.insertBefore(h,e.nextSibling):g==null||g.appendChild(h)}return h},Ui=e=>{const s=e.container();return Pt(s)?s.data.charAt(e.offset())===te||e.isAtStart()&&Wn(s.previousSibling):!1},Aa=e=>{const s=e.container();return Pt(s)?s.data.charAt(e.offset()-1)===te||e.isAtEnd()&&Wn(s.nextSibling):!1},cd=(e,s,a)=>{var l;const g=((l=s.ownerDocument)!==null&&l!==void 0?l:document).createElement(e);g.setAttribute("data-mce-caret",a?"before":"after"),g.setAttribute("data-mce-bogus","all"),g.appendChild(O().dom);const v=s.parentNode;return a?v==null||v.insertBefore(g,s):s.nextSibling?v==null||v.insertBefore(g,s.nextSibling):v==null||v.appendChild(g),g},Hl=e=>rn(e)&&e.data[0]===te,Yf=e=>rn(e)&&e.data[e.data.length-1]===te,sp=e=>{var s;const a=e.getElementsByTagName("br"),l=a[a.length-1];Ra(l)&&((s=l.parentNode)===null||s===void 0||s.removeChild(l))},Ul=e=>e&&e.hasAttribute("data-mce-caret")?(sp(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Xf=e=>jn(e.startContainer),Tg=Uc,Rg=eo,Yh=Vs,Xr=Pt,_u=Bl(["script","style","textarea"]),_o=Bl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),ms=Bl(["table"]),Si=$o,is=e=>Si(e)?!1:Xr(e)?!_u(e.parentNode):_o(e)||Yh(e)||ms(e)||Jf(e),Ag=e=>ht(e)&&e.getAttribute("unselectable")==="true",Jf=e=>!Ag(e)&&Rg(e),Qf=(e,s)=>{for(let a=e.parentNode;a&&a!==s;a=a.parentNode){if(Jf(a))return!1;if(Tg(a))return!0}return!0},pc=e=>Jf(e)?!ye(zs(e.getElementsByTagName("*")),(s,a)=>s||Tg(a),!1):!1,Xh=e=>_o(e)||pc(e),B1=(e,s)=>is(e)&&Qf(e,s),jl=/^[ \t\r\n]*$/,Jh=e=>jl.test(e),nf=e=>" \f	\v".indexOf(e)!==-1,ku=e=>e===`
`||e==="\r",jc=(e,s)=>s<e.length&&s>=0?ku(e[s]):!1,yb=(e,s=4,a=!0,l=!0)=>{const h=Zd(" ",s),g=e.replace(/\t/g,h);return ye(g,(S,A)=>nf(A)||A===Qo?S.pcIsSpace||S.str===""&&a||S.str.length===g.length-1&&l||jc(g,S.str.length+1)?{pcIsSpace:!1,str:S.str+Qo}:{pcIsSpace:!0,str:S.str+" "}:{pcIsSpace:ku(A),str:S.str+A},{pcIsSpace:!1,str:""}).str},Ig=(e,s)=>{const a=ve.fromDom(s),l=ve.fromDom(e);return fb(l,"pre,code",it(Yo,a))},Cx=(e,s)=>Pt(e)&&Jh(e.data)&&!Ig(e,s),nI=e=>ht(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),ar=(e,s)=>is(e)&&!Cx(e,s)||nI(e)||oI(e),oI=hb("data-mce-bookmark"),of=hb("data-mce-bogus"),j0=mb("data-mce-bogus","all"),W0=(e,s)=>{let a=0;if(ar(e,e))return!1;{let l=e.firstChild;if(!l)return!0;const h=new Mr(l,e);do{if(s){if(j0(l)){l=h.next(!0);continue}if(of(l)){l=h.next();continue}}if(Vs(l)){a++,l=h.next();continue}if(ar(l,e))return!1;l=h.next()}while(l);return a<=1}},or=(e,s=!0)=>W0(e.dom,s),ji="data-mce-block",Og=e=>Ve(Fr(e),s=>!/[A-Z]/.test(s)),rp=e=>Og(e).join(","),Sx=(e,s)=>je(s.querySelector(e))?(s.setAttribute(ji,"true"),s.getAttribute("data-mce-selected")==="inline-boundary"&&s.removeAttribute("data-mce-selected"),!0):(s.removeAttribute(ji),!1),Dg=(e,s)=>{const a=rp(e.getTransparentElements()),l=rp(e.getBlockElements());return Ve(s.querySelectorAll(a),h=>Sx(l,h))},bb=(e,s)=>{var a;const l=s?"lastChild":"firstChild";for(let h=e[l];h;h=h[l])if(or(ve.fromDom(h))){(a=h.parentNode)===null||a===void 0||a.removeChild(h);return}},$1=(e,s)=>{const a=document.createRange(),l=e.parentNode;if(l){a.setStartBefore(e),a.setEndBefore(s);const h=a.extractContents();bb(h,!0),a.setStartAfter(s),a.setEndAfter(e);const g=a.extractContents();bb(g,!1),or(ve.fromDom(h))||l.insertBefore(h,e),or(ve.fromDom(s))||l.insertBefore(s,e),or(ve.fromDom(g))||l.insertBefore(g,e),l.removeChild(e)}},sI=(e,s,a)=>{const l=e.getBlockElements(),h=ve.fromDom(s),g=S=>ks(S)in l,v=S=>Yo(S,h);le(Qd(a),S=>{Ns(S,g,v).each(A=>{const z=ub(S,W=>g(W)&&!e.isValidChild(ks(A),ks(W)));if(z.length>0){const W=Ym(A);le(z,U=>{Ns(U,g,v).each(X=>{$1(X.dom,U.dom)})}),W.each(U=>Dg(e,U.dom))}})})},Z0=(e,s,a)=>{le([...a,...Qh(e,s)?[s]:[]],l=>le(Ta(ve.fromDom(l),l.nodeName.toLowerCase()),h=>{G0(e,h.dom)&&Dr(h)}))},vb=(e,s)=>{const a=Dg(e,s);sI(e,s,a),Z0(e,s,a)},ap=(e,s)=>{if(V1(e,s)){const a=rp(e.getBlockElements());Sx(a,s)}},sf=(e,s,a)=>{const l=g=>Yo(g,ve.fromDom(s)),h=ob(ve.fromDom(a),l);Io(h,h.length-2).filter(Cs).fold(()=>vb(e,s),g=>vb(e,g.dom))},ud=e=>e.hasAttribute(ji),eh=(e,s)=>Ln(e.getTransparentElements(),s),V1=(e,s)=>ht(s)&&eh(e,s.nodeName),Qh=(e,s)=>V1(e,s)&&ud(s),G0=(e,s)=>V1(e,s)&&!ud(s),xx=(e,s)=>s.type===1&&eh(e,s.name)&&ne(s.attr(ji)),q0=(e,s)=>s.type===1&&eh(e,s.name)&&st(s.attr(ji)),Ex=pu().browser,K0=e=>ut(e,Cs),H1=e=>Ex.isFirefox()&&ks(e)==="table"?K0(xa(e)).filter(s=>ks(s)==="caption").bind(s=>K0(wl(s)).map(a=>{const l=a.dom.offsetTop,h=s.dom.offsetTop,g=s.dom.offsetHeight;return l<=h?-g:0})).getOr(0):0,zo=(e,s)=>e.children&&Oe(e.children,s),xn=(e,s,a)=>{let l=0,h=0;const g=e.ownerDocument;if(a=a||e,s){if(a===e&&s.getBoundingClientRect&&dc(ve.fromDom(e),"position")==="static"){const S=s.getBoundingClientRect();return l=S.left+(g.documentElement.scrollLeft||e.scrollLeft)-g.documentElement.clientLeft,h=S.top+(g.documentElement.scrollTop||e.scrollTop)-g.documentElement.clientTop,{x:l,y:h}}let v=s;for(;v&&v!==a&&v.nodeType&&!zo(v,a);){const S=v;l+=S.offsetLeft||0,h+=S.offsetTop||0,v=S.offsetParent}for(v=s.parentNode;v&&v!==a&&v.nodeType&&!zo(v,a);)l-=v.scrollLeft||0,h-=v.scrollTop||0,v=v.parentNode;h+=H1(ve.fromDom(s))}return{x:l,y:h}},rf=(e,s={})=>{let a=0;const l={},h=ve.fromDom(e),g=Nl(h),v=se=>{s.referrerPolicy=se},S=se=>{s.contentCssCors=se},A=se=>{nr(Xm(h),se)},z=se=>{const he=Xm(h);Wh(he,"#"+se).each(hs)},W=se=>us(l,se).getOrThunk(()=>({id:"mce-u"+a++,passed:[],failed:[],count:0})),U=se=>new Promise((he,Ie)=>{let Se;const Me=xt._addCacheSuffix(se),Ze=W(Me);l[Me]=Ze,Ze.count++;const kt=(nt,nn)=>{le(nt,Et),Ze.status=nn,Ze.passed=[],Ze.failed=[],Se&&(Se.onload=null,Se.onerror=null,Se=null)},Zt=()=>kt(Ze.passed,2),Ft=()=>kt(Ze.failed,3);if(he&&Ze.passed.push(he),Ie&&Ze.failed.push(Ie),Ze.status===1)return;if(Ze.status===2){Zt();return}if(Ze.status===3){Ft();return}Ze.status=1;const et=ve.fromTag("link",g.dom);_i(et,{rel:"stylesheet",type:"text/css",id:Ze.id}),s.contentCssCors&&vr(et,"crossOrigin","anonymous"),s.referrerPolicy&&vr(et,"referrerpolicy",s.referrerPolicy),Se=et.dom,Se.onload=Zt,Se.onerror=Ft,A(et),vr(et,"href",Me)}),X=se=>Promise.allSettled(Ke(se,Ie=>U(Ie).then(ot(Ie)))).then(Ie=>{const Se=Qe(Ie,Me=>Me.status==="fulfilled");return Se.fail.length>0?Promise.reject(Ke(Se.fail,Me=>Me.reason)):Ke(Se.pass,Me=>Me.value)}),fe=se=>{const he=xt._addCacheSuffix(se);us(l,he).each(Ie=>{--Ie.count===0&&(delete l[he],z(Ie.id))})};return{load:U,loadAll:X,unload:fe,unloadAll:se=>{le(se,he=>{fe(he)})},_setReferrerPolicy:v,_setContentCssCors:S}},Mg=(()=>{const e=new WeakMap;return{forElement:(a,l)=>{const g=yu(a).dom;return j.from(e.get(g)).getOrThunk(()=>{const v=rf(g,l);return e.set(g,v),v})}}})(),rI=e=>e.nodeName.toLowerCase()==="span",U1=(e,s)=>je(e)&&(ar(e,s)||op(ve.fromDom(e))),Ss=(e,s)=>{const a=new Mr(e,s).prev(!1),l=new Mr(e,s).next(!1),h=st(a)||U1(a,s),g=st(l)||U1(l,s);return h&&g},Y0=e=>rI(e)&&e.getAttribute("data-mce-type")==="bookmark",Tx=(e,s)=>Pt(e)&&e.data.length>0&&Ss(e,s),Rx=e=>ht(e)?e.childNodes.length>0:!1,St=e=>Cg(e)||Hc(e),_b=(e,s,a)=>{var l;const h=a||s;if(ht(s)&&Y0(s))return s;const g=s.childNodes;for(let v=g.length-1;v>=0;v--)_b(e,g[v],h);if(ht(s)){const v=s.childNodes;v.length===1&&Y0(v[0])&&((l=s.parentNode)===null||l===void 0||l.insertBefore(v[0],s))}return!St(s)&&!ar(s,h)&&!Rx(s)&&!Tx(s,h)&&e.remove(s),s},aI=xt.makeMap,af=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j1=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pg=/[<>&\"\']/g,kb=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ip={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},th={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},zg={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},sr=e=>{const s=ve.fromTag("div").dom;return s.innerHTML=e,s.textContent||s.innerText||e},al=(e,s)=>{const a={};if(e){const l=e.split(",");s=s||10;for(let h=0;h<l.length;h+=2){const g=String.fromCharCode(parseInt(l[h],s));if(!th[g]){const v="&"+l[h+1]+";";a[g]=v,a[v]=g}}return a}else return},Ng=al("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),lf=(e,s)=>e.replace(s?af:j1,a=>th[a]||a),iI=e=>(""+e).replace(Pg,s=>th[s]||s),W1=(e,s)=>e.replace(s?af:j1,a=>a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":th[a]||"&#"+a.charCodeAt(0)+";"),nh=(e,s,a)=>{const l=a||Ng;return e.replace(s?af:j1,h=>th[h]||l[h]||h)},il={encodeRaw:lf,encodeAllRaw:iI,encodeNumeric:W1,encodeNamed:nh,getEncodeFunc:(e,s)=>{const a=al(s)||Ng,l=(v,S)=>v.replace(S?af:j1,A=>th[A]!==void 0?th[A]:a[A]!==void 0?a[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),h=(v,S)=>nh(v,S,a),g=aI(e.replace(/\+/g,","));return g.named&&g.numeric?l:g.named?s?h:nh:g.numeric?W1:lf},decode:e=>e.replace(kb,(s,a)=>a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):ip[a]||String.fromCharCode(a)):zg[s]||Ng[s]||sr(s))},Z1={},dd={},lI={},Lg=xt.makeMap,Wi=xt.each,em=xt.extend,dn=xt.explode,Ix=xt.inArray,ui=(e,s)=>(e=xt.trim(e),e?e.split(s||" "):[]),Ox=(e,s={})=>{const a=Lg(e," ",Lg(e.toUpperCase()," "));return em(a,s)},X0=e=>Ox("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),cI=e=>{const s={};let a,l,h,g;const v=(A,z="",W="")=>{const U=ui(W),X=ui(A);let fe=X.length;for(;fe--;){const pe=ui([a,z].join(" "));s[X[fe]]={attributes:lo(pe,()=>({})),attributesOrder:pe,children:lo(U,ot(lI))}}},S=(A,z)=>{const W=ui(A),U=ui(z);let X=W.length;for(;X--;){const fe=s[W[X]];for(let pe=0,se=U.length;pe<se;pe++)fe.attributes[U[pe]]={},fe.attributesOrder.push(U[pe])}};if(Z1[e])return Z1[e];if(a="id accesskey class dir lang style tabindex title role",l="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",h="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const A="a ins del canvas map";a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",l+=" article aside details dialog figure main header footer hgroup section nav "+A,h+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if(e!=="html5-strict"){a+=" xml:lang";const A="acronym applet basefont big font strike tt";h=[h,A].join(" "),Wi(ui(A),W=>{v(W,"",h)});const z="center dir isindex noframes";l=[l,z].join(" "),g=[l,h].join(" "),Wi(ui(z),W=>{v(W,"",g)})}return g=g||[l,h].join(" "),v("html","manifest","head body"),v("head","","base command link meta noscript script style title"),v("title hr noscript br"),v("base","href target"),v("link","href rel media hreflang type sizes hreflang"),v("meta","name http-equiv content charset"),v("style","media type scoped"),v("script","src async defer type charset"),v("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",g),v("address dt dd div caption","",g),v("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",h),v("blockquote","cite",g),v("ol","reversed start type","li"),v("ul","","li"),v("li","value",g),v("dl","","dt dd"),v("a","href target rel media hreflang type",g),v("q","cite",h),v("ins del","cite datetime",g),v("img","src sizes srcset alt usemap ismap width height"),v("iframe","src name width height",g),v("embed","src type width height"),v("object","data type typemustmatch name usemap form width height",[g,"param"].join(" ")),v("param","name value"),v("map","name",[g,"area"].join(" ")),v("area","alt coords shape href target rel media hreflang type"),v("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),v("colgroup","span","col"),v("col","span"),v("tbody thead tfoot","","tr"),v("tr","","td th"),v("td","colspan rowspan headers",g),v("th","colspan rowspan headers scope abbr",g),v("form","accept-charset action autocomplete enctype method name novalidate target",g),v("fieldset","disabled form name",[g,"legend"].join(" ")),v("label","form for",h),v("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),v("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?g:h),v("select","disabled form multiple name required size","option optgroup"),v("optgroup","disabled label","option"),v("option","disabled label selected value"),v("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),v("menu","type label",[g,"li"].join(" ")),v("noscript","",g),e!=="html4"&&(v("wbr"),v("ruby","",[h,"rt rp"].join(" ")),v("figcaption","",g),v("mark rt rp summary bdi","",h),v("canvas","width height",g),v("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[g,"track source"].join(" ")),v("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[g,"track source"].join(" ")),v("picture","","img source"),v("source","src srcset type media sizes"),v("track","kind src srclang label default"),v("datalist","",[h,"option"].join(" ")),v("article section nav aside main header footer","",g),v("hgroup","","h1 h2 h3 h4 h5 h6"),v("figure","",[g,"figcaption"].join(" ")),v("time","datetime",h),v("dialog","open",g),v("command","type label icon disabled checked radiogroup command"),v("output","for form name",h),v("progress","value max",h),v("meter","value min max low high optimum",h),v("details","open",[g,"summary"].join(" ")),v("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(S("script","language xml:space"),S("style","xml:space"),S("object","declare classid code codebase codetype archive standby align border hspace vspace"),S("embed","align name hspace vspace"),S("param","valuetype type"),S("a","charset name rev shape coords"),S("br","clear"),S("applet","codebase archive code object alt name width height align hspace vspace"),S("img","name longdesc align border hspace vspace"),S("iframe","longdesc frameborder marginwidth marginheight scrolling align"),S("font basefont","size color face"),S("input","usemap align"),S("select"),S("textarea"),S("h1 h2 h3 h4 h5 h6 div p legend caption","align"),S("ul","type compact"),S("li","type"),S("ol dl menu dir","compact"),S("pre","width xml:space"),S("hr","align noshade size width"),S("isindex","prompt"),S("table","summary width frame rules cellspacing cellpadding align bgcolor"),S("col","width align char charoff valign"),S("colgroup","width align char charoff valign"),S("thead","align char charoff valign"),S("tr","align char charoff valign bgcolor"),S("th","axis align char charoff valign nowrap bgcolor width height"),S("form","accept"),S("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),S("tfoot","align char charoff valign"),S("tbody","align char charoff valign"),S("area","nohref"),S("body","background bgcolor text link vlink alink")),e!=="html4"&&(S("input button select textarea","autofocus"),S("input textarea","placeholder"),S("a","download"),S("link script img","crossorigin"),S("img","loading"),S("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&le([s.video,s.audio],A=>{delete A.children.audio,delete A.children.video}),Wi(ui("a form meter progress dfn"),A=>{s[A]&&delete s[A].children[A]}),delete s.caption.children.table,delete s.script,Z1[e]=s,s},Cb=(e,s)=>{if(e){const a={};return ne(e)&&(e={"*":e}),Wi(e,(l,h)=>{a[h]=a[h.toUpperCase()]=s==="map"?Lg(l,/[, ]/):dn(l,/[, ]/)}),a}else return},Wl=(e={})=>{var s;const a={},l={};let h=[];const g={},v={},S=(qn,Vo,Zr)=>{const As=e[qn];if(As)return Lg(As,/[, ]/,Lg(As.toUpperCase(),/[, ]/));{let dr=dd[qn];return dr||(dr=Ox(Vo,Zr),dd[qn]=dr),dr}},A=(s=e.schema)!==null&&s!==void 0?s:"html5",z=cI(A);e.verify_html===!1&&(e.valid_elements="*[*]");const W=Cb(e.valid_styles),U=Cb(e.invalid_styles,"map"),X=Cb(e.valid_classes,"map"),fe=S("whitespace_elements","pre script noscript style textarea video audio iframe object code"),pe=S("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),se=S("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),he=S("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Ie="td th iframe video audio object script code",Se=S("non_empty_elements",Ie+" pre",se),Me=S("move_caret_before_on_enter_elements",Ie+" table",se),Ze=S("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),kt=S("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",Ze),Zt=S("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Ft=S("transparent_elements","a ins del canvas map");Wi("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),qn=>{v[qn]=new RegExp("</"+qn+"[^>]*>","gi")});const et=qn=>new RegExp("^"+qn.replace(/([?+*])/g,".$1")+"$"),nt=qn=>{const Vo=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Zr=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,As=/[*?+]/;if(qn){const dr=ui(qn,",");let rs,Ws;a["@"]&&(rs=a["@"].attributes,Ws=a["@"].attributesOrder);for(let oa=0,Dd=dr.length;oa<Dd;oa++){let Ki=Vo.exec(dr[oa]);if(Ki){const Eh=Ki[1],Vu=Ki[2],Qv=Ki[3],e1=Ki[5],Ef={},Tf=[],_a={attributes:Ef,attributesOrder:Tf};if(Eh==="#"&&(_a.paddEmpty=!0),Eh==="-"&&(_a.removeEmpty=!0),Ki[4]==="!"&&(_a.removeEmptyAttrs=!0),rs&&(Gt(rs,(Md,Th)=>{Ef[Th]=Md}),Ws&&Tf.push(...Ws)),e1){const Md=ui(e1,"|");for(let Th=0,Pd=Md.length;Th<Pd;Th++)if(Ki=Zr.exec(Md[Th]),Ki){const zd={},Am=Ki[1],Ba=Ki[2].replace(/[\\:]:/g,":"),Xp=Ki[3],Im=Ki[4];if(Am==="!"&&(_a.attributesRequired=_a.attributesRequired||[],_a.attributesRequired.push(Ba),zd.required=!0),Am==="-"){delete Ef[Ba],Tf.splice(Ix(Tf,Ba),1);continue}if(Xp&&(Xp==="="&&(_a.attributesDefault=_a.attributesDefault||[],_a.attributesDefault.push({name:Ba,value:Im}),zd.defaultValue=Im),Xp==="~"&&(_a.attributesForced=_a.attributesForced||[],_a.attributesForced.push({name:Ba,value:Im}),zd.forcedValue=Im),Xp==="<"&&(zd.validValues=Lg(Im,"?"))),As.test(Ba)){const Rf=zd;_a.attributePatterns=_a.attributePatterns||[],Rf.pattern=et(Ba),_a.attributePatterns.push(Rf)}else Ef[Ba]||Tf.push(Ba),Ef[Ba]=zd}}if(!rs&&Vu==="@"&&(rs=Ef,Ws=Tf),Qv&&(_a.outputName=Vu,a[Qv]=_a),As.test(Vu)){const Md=_a;Md.pattern=et(Vu),h.push(Md)}else a[Vu]=_a}}}},nn=qn=>{h=[],le(Fr(a),Vo=>{delete a[Vo]}),nt(qn),Wi(z,(Vo,Zr)=>{l[Zr]=Vo.children})},Cn=qn=>{const Vo=/^(~)?(.+)$/;qn&&(delete dd.text_block_elements,delete dd.block_elements,Wi(ui(qn,","),Zr=>{const As=Vo.exec(Zr);if(As){const dr=As[1]==="~",rs=dr?"span":"div",Ws=As[2];if(l[Ws]=l[rs],g[Ws]=rs,Se[Ws.toUpperCase()]={},Se[Ws]={},dr||(kt[Ws.toUpperCase()]={},kt[Ws]={}),!a[Ws]){let oa=a[rs];oa=em({},oa),delete oa.removeEmptyAttrs,delete oa.removeEmpty,a[Ws]=oa}Wi(l,(oa,Dd)=>{oa[rs]&&(l[Dd]=oa=em({},l[Dd]),oa[Ws]=oa[rs])})}}))},On=qn=>{const Vo=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete Z1[A],qn&&Wi(ui(qn,","),Zr=>{const As=Vo.exec(Zr);if(As){const dr=As[1];let rs;dr?rs=l[As[2]]:rs=l[As[2]]={"#comment":{}},rs=l[As[2]],Wi(ui(As[3],"|"),Ws=>{dr==="-"?delete rs[Ws]:rs[Ws]={}})}})},so=qn=>{const Vo=a[qn];if(Vo)return Vo;let Zr=h.length;for(;Zr--;){const As=h[Zr];if(As.pattern.test(qn))return As}};e.valid_elements?nn(e.valid_elements):(Wi(z,(qn,Vo)=>{a[Vo]={attributes:qn.attributes,attributesOrder:qn.attributesOrder},l[Vo]=qn.children}),Wi(ui("strong/b em/i"),qn=>{const Vo=ui(qn,"/");a[Vo[1]].outputName=Vo[0]}),Wi(Zt,(qn,Vo)=>{a[Vo]&&(e.padd_empty_block_inline_children&&(a[Vo].paddInEmptyBlock=!0),a[Vo].removeEmpty=!0)}),Wi(ui("ol ul blockquote a table tbody"),qn=>{a[qn]&&(a[qn].removeEmpty=!0)}),Wi(ui("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),qn=>{a[qn].paddEmpty=!0}),Wi(ui("span"),qn=>{a[qn].removeEmptyAttrs=!0})),Cn(e.custom_elements),On(e.valid_children),nt(e.extended_valid_elements),On("+ol[ul|ol],+ul[ul|ol]"),Wi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(qn,Vo)=>{a[Vo]&&(a[Vo].parentsRequired=ui(qn))}),e.invalid_elements&&Wi(dn(e.invalid_elements),qn=>{a[qn]&&delete a[qn]}),so("span")||nt("span[!data-mce-type|*]");const Co=ot(W),ts=ot(U),ys=ot(X),Sr=ot(he),qi=ot(kt),Fa=ot(Ze),Bt=ot(Zt),pn=ot(Object.seal(se)),Lo=ot(pe),Jt=ot(Se),Tn=ot(Me),Dn=ot(fe),Qt=ot(Ft),po=ot(Object.seal(v)),ao=(qn,Vo)=>{const Zr=l[qn.toLowerCase()];return!!(Zr&&Zr[Vo.toLowerCase()])},hi=(qn,Vo)=>{const Zr=so(qn);if(Zr)if(Vo){if(Zr.attributes[Vo])return!0;const As=Zr.attributePatterns;if(As){let dr=As.length;for(;dr--;)if(As[dr].pattern.test(Vo))return!0}}else return!0;return!1},js=ot(g);return{type:A,children:l,elements:a,getValidStyles:Co,getValidClasses:ys,getBlockElements:qi,getInvalidStyles:ts,getVoidElements:pn,getTextBlockElements:Fa,getTextInlineElements:Bt,getBoolAttrs:Sr,getElementRule:so,getSelfClosingElements:Lo,getNonEmptyElements:Jt,getMoveCaretBeforeOnEnterElements:Tn,getWhitespaceElements:Dn,getTransparentElements:Qt,getSpecialElements:po,isValidChild:ao,isValid:hi,getCustomElements:js,addValidElements:nt,setValidElements:nn,addCustomElements:Cn,addValidChildren:On}},oh=(e={},s)=>{const a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,h=/\s+$/,g={};let v,S;const A=$l;s&&(v=s.getValidStyles(),S=s.getInvalidStyles());const z=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let U=0;U<z.length;U++)g[z[U]]=A+U,g[A+U]=z[U];const W={parse:U=>{const X={};let fe=!1;const pe=e.url_converter,se=e.url_converter_scope||W,he=(et,nt,nn)=>{const Cn=X[et+"-top"+nt];if(!Cn)return;const On=X[et+"-right"+nt];if(!On)return;const so=X[et+"-bottom"+nt];if(!so)return;const Co=X[et+"-left"+nt];if(!Co)return;const ts=[Cn,On,so,Co];let ys=ts.length-1;for(;ys--&&ts[ys]===ts[ys+1];);ys>-1&&nn||(X[et+nt]=ys===-1?ts[0]:ts.join(" "),delete X[et+"-top"+nt],delete X[et+"-right"+nt],delete X[et+"-bottom"+nt],delete X[et+"-left"+nt])},Ie=et=>{const nt=X[et];if(!nt)return;const nn=nt.split(" ");let Cn=nn.length;for(;Cn--;)if(nn[Cn]!==nn[0])return!1;return X[et]=nn[0],!0},Se=(et,nt,nn,Cn)=>{!Ie(nt)||!Ie(nn)||!Ie(Cn)||(X[et]=X[nt]+" "+X[nn]+" "+X[Cn],delete X[nt],delete X[nn],delete X[Cn])},Me=et=>(fe=!0,g[et]),Ze=(et,nt)=>(fe&&(et=et.replace(/\uFEFF[0-9]/g,nn=>g[nn])),nt||(et=et.replace(/\\([\'\";:])/g,"$1")),et),kt=et=>String.fromCharCode(parseInt(et.slice(1),16)),Zt=et=>et.replace(/\\[0-9a-f]+/gi,kt),Ft=(et,nt,nn,Cn,On,so)=>{if(On=On||so,On)return On=Ze(On),"'"+On.replace(/\'/g,"\\'")+"'";if(nt=Ze(nt||nn||Cn||""),!e.allow_script_urls){const Co=nt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Co)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Co))return""}return pe&&(nt=pe.call(se,nt,"style")),"url('"+nt.replace(/\'/g,"\\'")+"')"};if(U){U=U.replace(/[\u0000-\u001F]/g,""),U=U.replace(/\\[\"\';:\uFEFF]/g,Me).replace(/\"[^\"]+\"|\'[^\']+\'/g,nt=>nt.replace(/[;:]/g,Me));let et;for(;et=l.exec(U);){l.lastIndex=et.index+et[0].length;let nt=et[1].replace(h,"").toLowerCase(),nn=et[2].replace(h,"");if(nt&&nn){if(nt=Zt(nt),nn=Zt(nn),nt.indexOf(A)!==-1||nt.indexOf('"')!==-1||!e.allow_script_urls&&(nt==="behavior"||/expression\s*\(|\/\*|\*\//.test(nn)))continue;nt==="font-weight"&&nn==="700"?nn="bold":(nt==="color"||nt==="background-color")&&(nn=nn.toLowerCase()),nn=nn.replace(a,Ft),X[nt]=fe?Ze(nn,!0):nn}}he("border","",!0),he("border","-width"),he("border","-color"),he("border","-style"),he("padding",""),he("margin",""),Se("border","border-width","border-style","border-color"),X.border==="medium none"&&delete X.border,X["border-image"]==="none"&&delete X["border-image"]}return X},serialize:(U,X)=>{let fe="";const pe=(he,Ie)=>{const Se=Ie[he];if(Se)for(let Me=0,Ze=Se.length;Me<Ze;Me++){const kt=Se[Me],Zt=U[kt];Zt&&(fe+=(fe.length>0?" ":"")+kt+": "+Zt+";")}},se=(he,Ie)=>{if(!S||!Ie)return!0;let Se=S["*"];return Se&&Se[he]?!1:(Se=S[Ie],!(Se&&Se[he]))};return X&&v?(pe("*",v),pe(X,v)):Gt(U,(he,Ie)=>{he&&se(Ie,X)&&(fe+=(fe.length>0?" ":"")+Ie+": "+he+";")}),fe}};return W},Dx={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},lp=e=>e instanceof Event||ue(e.initEvent),uI=e=>e.isDefaultPrevented===me||e.isDefaultPrevented===Ee,Mx=e=>wt(e.preventDefault)||lp(e),Fg=(e,s)=>{const a=s!=null?s:{};for(const l in e)Ln(Dx,l)||(a[l]=e[l]);return je(e.composedPath)&&(a.composedPath=()=>e.composedPath()),a},cp=(e,s,a,l)=>{var h;const g=Fg(s,l);return g.type=e,wt(g.target)&&(g.target=(h=g.srcElement)!==null&&h!==void 0?h:a),Mx(s)&&(g.preventDefault=()=>{g.defaultPrevented=!0,g.isDefaultPrevented=me,ue(s.preventDefault)&&s.preventDefault()},g.stopPropagation=()=>{g.cancelBubble=!0,g.isPropagationStopped=me,ue(s.stopPropagation)&&s.stopPropagation()},g.stopImmediatePropagation=()=>{g.isImmediatePropagationStopped=me,g.stopPropagation()},uI(g)||(g.isDefaultPrevented=g.defaultPrevented===!0?me:Ee,g.isPropagationStopped=g.cancelBubble===!0?me:Ee,g.isImmediatePropagationStopped=Ee)),g},G1="mce-data-",up=/^(?:mouse|contextmenu)|click/,q1=(e,s,a,l)=>{e.addEventListener(s,a,l||!1)},Sb=(e,s,a,l)=>{e.removeEventListener(s,a,l||!1)},K1=e=>je(e)&&up.test(e.type),tm=(e,s)=>{const a=cp(e.type,e,document,s);if(K1(e)&&st(e.pageX)&&!st(e.clientX)){const l=a.target.ownerDocument||document,h=l.documentElement,g=l.body,v=a;v.pageX=e.clientX+(h&&h.scrollLeft||g&&g.scrollLeft||0)-(h&&h.clientLeft||g&&g.clientLeft||0),v.pageY=e.clientY+(h&&h.scrollTop||g&&g.scrollTop||0)-(h&&h.clientTop||g&&g.clientTop||0)}return a},fd=(e,s,a)=>{const l=e.document,h={type:"ready"};if(a.domLoaded){s(h);return}const g=()=>l.readyState==="complete"||l.readyState==="interactive"&&l.body,v=()=>{Sb(e,"DOMContentLoaded",v),Sb(e,"load",v),a.domLoaded||(a.domLoaded=!0,s(h)),e=null};g()?v():q1(e,"DOMContentLoaded",v),a.domLoaded||q1(e,"load",v)};class Ia{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=G1+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(s,a,l,h){const g=this;let v;const S=window,A=X=>{g.executeHandlers(tm(X||S.event),z)};if(!s||Pt(s)||id(s))return l;let z;s[g.expando]?z=s[g.expando]:(z=g.count++,s[g.expando]=z,g.events[z]={}),h=h||s;const W=a.split(" ");let U=W.length;for(;U--;){let X=W[U],fe=A,pe=!1,se=!1;if(X==="DOMContentLoaded"&&(X="ready"),g.domLoaded&&X==="ready"&&s.readyState==="complete"){l.call(h,tm({type:X}));continue}!g.hasFocusIn&&(X==="focusin"||X==="focusout")&&(pe=!0,se=X==="focusin"?"focus":"blur",fe=he=>{const Ie=tm(he||S.event);Ie.type=Ie.type==="focus"?"focusin":"focusout",g.executeHandlers(Ie,z)}),v=g.events[z][X],v?X==="ready"&&g.domLoaded?l(tm({type:X})):v.push({func:l,scope:h}):(g.events[z][X]=v=[{func:l,scope:h}],v.fakeName=se,v.capture=pe,v.nativeHandler=fe,X==="ready"?fd(s,fe,g):q1(s,se||X,fe,pe))}return s=v=null,l}unbind(s,a,l){if(!s||Pt(s)||id(s))return this;const h=s[this.expando];if(h){let g=this.events[h];if(a){const v=a.split(" ");let S=v.length;for(;S--;){const A=v[S],z=g[A];if(z){if(l){let W=z.length;for(;W--;)if(z[W].func===l){const U=z.nativeHandler,X=z.fakeName,fe=z.capture,pe=z.slice(0,W).concat(z.slice(W+1));pe.nativeHandler=U,pe.fakeName=X,pe.capture=fe,g[A]=pe}}(!l||z.length===0)&&(delete g[A],Sb(s,z.fakeName||A,z.nativeHandler,z.capture))}}}else Gt(g,(v,S)=>{Sb(s,v.fakeName||S,v.nativeHandler,v.capture)}),g={};for(const v in g)if(Ln(g,v))return this;delete this.events[h];try{delete s[this.expando]}catch{s[this.expando]=null}}return this}fire(s,a,l){return this.dispatch(s,a,l)}dispatch(s,a,l){if(!s||Pt(s)||id(s))return this;const h=tm({type:a,target:s},l);do{const g=s[this.expando];g&&this.executeHandlers(h,g),s=s.parentNode||s.ownerDocument||s.defaultView||s.parentWindow}while(s&&!h.isPropagationStopped());return this}clean(s){if(!s||Pt(s)||id(s))return this;if(s[this.expando]&&this.unbind(s),s.getElementsByTagName||(s=s.document),s&&s.getElementsByTagName){this.unbind(s);const a=s.getElementsByTagName("*");let l=a.length;for(;l--;)s=a[l],s[this.expando]&&this.unbind(s)}return this}destroy(){this.events={}}cancel(s){return s&&(s.preventDefault(),s.stopImmediatePropagation()),!1}executeHandlers(s,a){const l=this.events[a],h=l&&l[s.type];if(h)for(let g=0,v=h.length;g<v;g++){const S=h[g];if(S&&S.func.call(S.scope,s)===!1&&s.preventDefault(),s.isImmediatePropagationStopped())return}}}Ia.Event=new Ia;const xb=xt.each,Px=xt.grep,Y1="data-mce-style",J0=xt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Zl=(e,s,a)=>{wt(a)||a===""?Ir(e,s):vr(e,s,a)},dI=e=>e.replace(/[A-Z]/g,s=>"-"+s.toLowerCase()),cf=(e,s)=>{let a=0;if(e)for(let l=e.nodeType,h=e.previousSibling;h;h=h.previousSibling){const g=h.nodeType;s&&Pt(h)&&(g===l||!h.data.length)||(a++,l=g)}return a},Bg=(e,s)=>{const a=Ni(s,"style"),l=e.serialize(e.parse(a),ks(s));Zl(s,Y1,l)},zx=(e,s)=>Rn(e)?Ln(J0,s)?e+"":e+"px":e,Nx=(e,s,a)=>{const l=dI(s);wt(a)||a===""?ha(e,l):Zf(e,l,zx(a,l))},fI=(e,s,a)=>{const l=s.keep_values,h={set:(v,S,A)=>{const z=ve.fromDom(v);ue(s.url_converter)&&je(S)&&(S=s.url_converter.call(s.url_converter_scope||a(),String(S),A,v));const W="data-mce-"+A;Zl(z,W,S),Zl(z,A,S)},get:(v,S)=>{const A=ve.fromDom(v);return Ni(A,"data-mce-"+S)||Ni(A,S)}},g={style:{set:(v,S)=>{const A=ve.fromDom(v);l&&Zl(A,Y1,S),Ir(A,"style"),ne(S)&&Jm(A,e.parse(S))},get:v=>{const S=ve.fromDom(v),A=Ni(S,Y1)||Ni(S,"style");return e.serialize(e.parse(A),ks(S))}}};return l&&(g.href=g.src=h),g},ps=(e,s={})=>{const a={},l=window,h={};let g=0;const v=!0,S=!0,A=Mg.forElement(ve.fromDom(e),{contentCssCors:s.contentCssCors,referrerPolicy:s.referrerPolicy}),z=[],W=s.schema?s.schema:Wl({}),U=oh({url_converter:s.url_converter,url_converter_scope:s.url_converter_scope},s.schema),X=s.ownEvents?new Ia:Ia.Event,fe=W.getBlockElements(),pe=Ge=>ne(Ge)?Ln(fe,Ge):ht(Ge)&&(Ln(fe,Ge.nodeName)||Qh(W,Ge)),se=Ge=>Ge&&e&&ne(Ge)?e.getElementById(Ge):Ge,he=Ge=>{const qe=se(Ge);return je(qe)?ve.fromDom(qe):null},Ie=(Ge,qe,$t="")=>{let Mt;const En=he(Ge);if(je(En)&&Cs(En)){const Fo=$y[qe];Fo&&Fo.get?Mt=Fo.get(En.dom,qe):Mt=Ni(En,qe)}return je(Mt)?Mt:$t},Se=Ge=>{const qe=se(Ge);return wt(qe)?[]:qe.attributes},Me=(Ge,qe,$t)=>{pn(Ge,Mt=>{if(ht(Mt)){const En=ve.fromDom(Mt),Fo=$t===""?null:$t,Fs=Ni(En,qe),Bs=$y[qe];Bs&&Bs.set?Bs.set(En.dom,Fo,qe):Zl(En,qe,Fo),Fs!==Fo&&s.onSetAttrib&&s.onSetAttrib({attrElm:En.dom,attrName:qe,attrValue:Fo})}})},Ze=(Ge,qe)=>Ge.cloneNode(qe),kt=()=>s.root_element||e.body,Zt=Ge=>{const qe=kg(Ge);return{x:qe.x,y:qe.y,w:qe.width,h:qe.height}},Ft=(Ge,qe)=>xn(e.body,se(Ge),qe),et=(Ge,qe,$t)=>{pn(Ge,Mt=>{const En=ve.fromDom(Mt);Nx(En,qe,$t),s.update_styles&&Bg(U,En)})},nt=(Ge,qe)=>{pn(Ge,$t=>{const Mt=ve.fromDom($t);Gt(qe,(En,Fo)=>{Nx(Mt,Fo,En)}),s.update_styles&&Bg(U,Mt)})},nn=(Ge,qe,$t)=>{const Mt=se(Ge);if(!(wt(Mt)||!ht(Mt)))return $t?dc(ve.fromDom(Mt),dI(qe)):(qe=qe.replace(/-(\D)/g,(En,Fo)=>Fo.toUpperCase()),qe==="float"&&(qe="cssFloat"),Mt.style?Mt.style[qe]:void 0)},Cn=Ge=>{const qe=se(Ge);if(!qe)return{w:0,h:0};let $t=nn(qe,"width"),Mt=nn(qe,"height");return(!$t||$t.indexOf("px")===-1)&&($t="0"),(!Mt||Mt.indexOf("px")===-1)&&(Mt="0"),{w:parseInt($t,10)||qe.offsetWidth||qe.clientWidth,h:parseInt(Mt,10)||qe.offsetHeight||qe.clientHeight}},On=Ge=>{const qe=se(Ge),$t=Ft(qe),Mt=Cn(qe);return{x:$t.x,y:$t.y,w:Mt.w,h:Mt.h}},so=(Ge,qe)=>{if(!Ge)return!1;const $t=We(Ge)?Ge:[Ge];return pt($t,Mt=>Li(ve.fromDom(Mt),qe))},Co=(Ge,qe,$t,Mt)=>{const En=[];let Fo=se(Ge);Mt=Mt===void 0;const Fs=$t||(kt().nodeName!=="BODY"?kt().parentNode:null);if(ne(qe))if(qe==="*")qe=ht;else{const Bs=qe;qe=Nd=>so(Nd,Bs)}for(;Fo&&!(Fo===Fs||wt(Fo.nodeType)||Hc(Fo)||Cg(Fo));){if(!qe||qe(Fo))if(Mt)En.push(Fo);else return[Fo];Fo=Fo.parentNode}return Mt?En:null},ts=(Ge,qe,$t)=>{const Mt=Co(Ge,qe,$t,!1);return Mt&&Mt.length>0?Mt[0]:null},ys=(Ge,qe,$t)=>{let Mt=qe;if(Ge){ne(qe)&&(Mt=En=>so(En,qe));for(let En=Ge[$t];En;En=En[$t])if(ue(Mt)&&Mt(En))return En}return null},Sr=(Ge,qe)=>ys(Ge,qe,"nextSibling"),qi=(Ge,qe)=>ys(Ge,qe,"previousSibling"),Fa=Ge=>ue(Ge.querySelectorAll),Bt=(Ge,qe)=>{var $t,Mt;const En=(Mt=($t=se(qe))!==null&&$t!==void 0?$t:s.root_element)!==null&&Mt!==void 0?Mt:e;return Fa(En)?zs(En.querySelectorAll(Ge)):[]},pn=function(Ge,qe,$t){const Mt=$t!=null?$t:this;if(We(Ge)){const En=[];return xb(Ge,(Fo,Fs)=>{const Bs=se(Fo);Bs&&En.push(qe.call(Mt,Bs,Fs))}),En}else{const En=se(Ge);return En?qe.call(Mt,En):!1}},Lo=(Ge,qe)=>{pn(Ge,$t=>{Gt(qe,(Mt,En)=>{Me($t,En,Mt)})})},Jt=(Ge,qe)=>{pn(Ge,$t=>{const Mt=ve.fromDom($t);ef(Mt,qe)})},Tn=(Ge,qe,$t,Mt,En)=>pn(Ge,Fo=>{const Fs=ne(qe)?e.createElement(qe):qe;return je($t)&&Lo(Fs,$t),Mt&&(!ne(Mt)&&Mt.nodeType?Fs.appendChild(Mt):ne(Mt)&&Jt(Fs,Mt)),En?Fs:Fo.appendChild(Fs)}),Dn=(Ge,qe,$t)=>Tn(e.createElement(Ge),Ge,qe,$t,!0),Qt=il.decode,po=il.encodeAllRaw,ao=(Ge,qe,$t="")=>{let Mt="<"+Ge;for(const En in qe)oi(qe,En)&&(Mt+=" "+En+'="'+po(qe[En])+'"');return tl($t)&&Ln(W.getVoidElements(),Ge)?Mt+" />":Mt+">"+$t+"</"+Ge+">"},hi=Ge=>{const qe=e.createElement("div"),$t=e.createDocumentFragment();$t.appendChild(qe),Ge&&(qe.innerHTML=Ge);let Mt;for(;Mt=qe.firstChild;)$t.appendChild(Mt);return $t.removeChild(qe),$t},js=(Ge,qe)=>pn(Ge,$t=>{const Mt=ve.fromDom($t);return qe&&le(xa(Mt),En=>{wi(En)&&En.dom.length===0?hs(En):Zo(Mt,En)}),hs(Mt),Mt.dom}),qn=Ge=>pn(Ge,qe=>{const $t=qe.attributes;for(let Mt=$t.length-1;Mt>=0;Mt--)qe.removeAttributeNode($t.item(Mt))}),Vo=Ge=>U.parse(Ge),Zr=(Ge,qe)=>U.serialize(Ge,qe),As=Ge=>{if(Rh!==ps.DOM&&e===document){if(a[Ge])return;a[Ge]=!0}let qe=e.getElementById("mceDefaultStyles");if(!qe){qe=e.createElement("style"),qe.id="mceDefaultStyles",qe.type="text/css";const $t=e.head;$t.firstChild?$t.insertBefore(qe,$t.firstChild):$t.appendChild(qe)}qe.styleSheet?qe.styleSheet.cssText+=Ge:qe.appendChild(e.createTextNode(Ge))},dr=Ge=>{Ge||(Ge=""),le(Ge.split(","),qe=>{h[qe]=!0,A.load(qe).catch(It)})},rs=(Ge,qe,$t)=>{pn(Ge,Mt=>{if(ht(Mt)){const En=ve.fromDom(Mt),Fo=qe.split(" ");le(Fo,Fs=>{je($t)?($t?Vf:Vh)(En,Fs):pg(En,Fs)})}})},Ws=(Ge,qe)=>{rs(Ge,qe,!0)},oa=(Ge,qe)=>{rs(Ge,qe,!1)},Dd=(Ge,qe)=>{const $t=he(Ge),Mt=qe.split(" ");return je($t)&&sn(Mt,En=>Km($t,En))},Ki=Ge=>{pn(Ge,qe=>ha(ve.fromDom(qe),"display"))},Eh=Ge=>{pn(Ge,qe=>Zf(ve.fromDom(qe),"display","none"))},Vu=Ge=>{const qe=he(Ge);return je(qe)&&$r(ai(qe,"display"),"none")},Qv=Ge=>(Ge||"mce_")+g++,e1=Ge=>{const qe=he(Ge);return je(qe)?ht(qe.dom)?qe.dom.outerHTML:go(qe):""},Ef=(Ge,qe)=>{pn(Ge,$t=>{ht($t)&&($t.outerHTML=qe)})},Tf=(Ge,qe)=>{const $t=se(qe);return pn(Ge,Mt=>{const En=$t==null?void 0:$t.parentNode,Fo=$t==null?void 0:$t.nextSibling;return En&&(Fo?En.insertBefore(Mt,Fo):En.appendChild(Mt)),Mt})},_a=(Ge,qe,$t)=>pn(qe,Mt=>{var En;const Fo=We(qe)?Ge.cloneNode(!0):Ge;return $t&&xb(Px(Mt.childNodes),Fs=>{Fo.appendChild(Fs)}),(En=Mt.parentNode)===null||En===void 0||En.replaceChild(Fo,Mt),Mt}),Md=(Ge,qe)=>{if(Ge.nodeName!==qe.toUpperCase()){const $t=Dn(qe);return xb(Se(Ge),Mt=>{Me($t,Mt.nodeName,Ie(Ge,Mt.nodeName))}),_a($t,Ge,!0),$t}else return Ge},Th=(Ge,qe)=>{let $t=Ge;for(;$t;){let Mt=qe;for(;Mt&&$t!==Mt;)Mt=Mt.parentNode;if($t===Mt)break;$t=$t.parentNode}return!$t&&Ge.ownerDocument?Ge.ownerDocument.documentElement:$t},Pd=Ge=>{if(ht(Ge)){const qe=Ge.nodeName.toLowerCase()==="a"&&!Ie(Ge,"href")&&Ie(Ge,"id");if(Ie(Ge,"name")||Ie(Ge,"data-mce-bookmark")||qe)return!0}return!1},zd=(Ge,qe)=>{let $t=0;if(Pd(Ge))return!1;const Mt=Ge.firstChild;if(Mt){const En=new Mr(Mt,Ge),Fo=W?W.getWhitespaceElements():{},Fs=qe||(W?W.getNonEmptyElements():null);let Bs=Mt;do{if(ht(Bs)){const Nd=Bs.getAttribute("data-mce-bogus");if(Nd){Bs=En.next(Nd==="all");continue}const t1=Bs.nodeName.toLowerCase();if(Fs&&Fs[t1]){if(t1==="br"){$t++,Bs=En.next();continue}return!1}if(Pd(Bs))return!1}if(id(Bs)||Pt(Bs)&&!Jh(Bs.data)||Pt(Bs)&&Bs.parentNode&&Fo[Bs.parentNode.nodeName]&&Jh(Bs.data))return!1;Bs=En.next()}while(Bs)}return $t<=1},Am=()=>e.createRange(),Ba=(Ge,qe,$t)=>{let Mt=Am(),En,Fo;if(Ge&&qe&&Ge.parentNode&&qe.parentNode){const Fs=Ge.parentNode;return Mt.setStart(Fs,cf(Ge)),Mt.setEnd(qe.parentNode,cf(qe)),En=Mt.extractContents(),Mt=Am(),Mt.setStart(qe.parentNode,cf(qe)+1),Mt.setEnd(Fs,cf(Ge)+1),Fo=Mt.extractContents(),Fs.insertBefore(_b(Rh,En),Ge),$t?Fs.insertBefore($t,Ge):Fs.insertBefore(qe,Ge),Fs.insertBefore(_b(Rh,Fo),Ge),js(Ge),$t||qe}else return},Xp=(Ge,qe,$t,Mt)=>{if(We(Ge)){let En=Ge.length;const Fo=[];for(;En--;)Fo[En]=Xp(Ge[En],qe,$t,Mt);return Fo}else return s.collect&&(Ge===e||Ge===l)&&z.push([Ge,qe,$t,Mt]),X.bind(Ge,qe,$t,Mt||Rh)},Im=(Ge,qe,$t)=>{if(We(Ge)){let Mt=Ge.length;const En=[];for(;Mt--;)En[Mt]=Im(Ge[Mt],qe,$t);return En}else{if(z.length>0&&(Ge===e||Ge===l)){let Mt=z.length;for(;Mt--;){const[En,Fo,Fs]=z[Mt];Ge===En&&(!qe||qe===Fo)&&(!$t||$t===Fs)&&X.unbind(En,Fo,Fs)}}return X.unbind(Ge,qe,$t)}},Rf=(Ge,qe,$t)=>X.dispatch(Ge,qe,$t),By=(Ge,qe,$t)=>X.dispatch(Ge,qe,$t),K_=Ge=>{if(Ge&&ht(Ge)){const qe=Ge.getAttribute("data-mce-contenteditable");return qe&&qe!=="inherit"?qe:Ge.contentEditable!=="inherit"?Ge.contentEditable:null}else return null},Rh={doc:e,settings:s,win:l,files:h,stdMode:v,boxModel:S,styleSheetLoader:A,boundEvents:z,styles:U,schema:W,events:X,isBlock:pe,root:null,clone:Ze,getRoot:kt,getViewPort:Zt,getRect:On,getSize:Cn,getParent:ts,getParents:Co,get:se,getNext:Sr,getPrev:qi,select:Bt,is:so,add:Tn,create:Dn,createHTML:ao,createFragment:hi,remove:js,setStyle:et,getStyle:nn,setStyles:nt,removeAllAttribs:qn,setAttrib:Me,setAttribs:Lo,getAttrib:Ie,getPos:Ft,parseStyle:Vo,serializeStyle:Zr,addStyle:As,loadCSS:dr,addClass:Ws,removeClass:oa,hasClass:Dd,toggleClass:rs,show:Ki,hide:Eh,isHidden:Vu,uniqueId:Qv,setHTML:Jt,getOuterHTML:e1,setOuterHTML:Ef,decode:Qt,encode:po,insertAfter:Tf,replace:_a,rename:Md,findCommonAncestor:Th,run:pn,getAttribs:Se,isEmpty:zd,createRng:Am,nodeIndex:cf,split:Ba,bind:Xp,unbind:Im,fire:By,dispatch:Rf,getContentEditable:K_,getContentEditableParent:Ge=>{const qe=kt();let $t=null;for(let Mt=Ge;Mt&&Mt!==qe&&($t=K_(Mt),$t===null);Mt=Mt.parentNode);return $t},isEditable:Ge=>{if(je(Ge)){const qe=ht(Ge)?Ge:Ge.parentElement,$t=K_(kt())==="true";return je(qe)&&Wf(ve.fromDom(qe),$t)}else return!1},destroy:()=>{if(z.length>0){let Ge=z.length;for(;Ge--;){const[qe,$t,Mt]=z[Ge];X.unbind(qe,$t,Mt)}}Gt(h,(Ge,qe)=>{A.unload(qe),delete h[qe]})},isChildOf:(Ge,qe)=>Ge===qe||qe.contains(Ge),dumpRng:Ge=>"startContainer: "+Ge.startContainer.nodeName+", startOffset: "+Ge.startOffset+", endContainer: "+Ge.endContainer.nodeName+", endOffset: "+Ge.endOffset},$y=fI(U,s,ot(Rh));return Rh};ps.DOM=ps(document),ps.nodeIndex=cf;const hI=ps.DOM,mI=0,Lx=1,X1=2,Fx=3;class Wc{constructor(s={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=s}_setReferrerPolicy(s){this.settings.referrerPolicy=s}loadScript(s){return new Promise((a,l)=>{const h=hI;let g;const v=()=>{h.remove(z),g&&(g.onerror=g.onload=g=null)},S=()=>{v(),a()},A=()=>{v(),l("Failed to load script: "+s)},z=h.uniqueId();g=document.createElement("script"),g.id=z,g.type="text/javascript",g.src=xt._addCacheSuffix(s),this.settings.referrerPolicy&&h.setAttrib(g,"referrerpolicy",this.settings.referrerPolicy),g.onload=S,g.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(g)})}isDone(s){return this.states[s]===X1}markDone(s){this.states[s]=X1}add(s){const a=this;return a.queue.push(s),a.states[s]===void 0&&(a.states[s]=mI),new Promise((h,g)=>{a.scriptLoadedCallbacks[s]||(a.scriptLoadedCallbacks[s]=[]),a.scriptLoadedCallbacks[s].push({resolve:h,reject:g})})}load(s){return this.add(s)}remove(s){delete this.states[s],delete this.scriptLoadedCallbacks[s]}loadQueue(){const s=this.queue;return this.queue=[],this.loadScripts(s)}loadScripts(s){const a=this,l=(A,z)=>{us(a.scriptLoadedCallbacks,z).each(W=>{le(W,U=>U[A](z))}),delete a.scriptLoadedCallbacks[z]},h=A=>{const z=Ve(A,W=>W.status==="rejected");return z.length>0?Promise.reject(Vt(z,({reason:W})=>We(W)?W:[W])):Promise.resolve()},g=A=>Promise.allSettled(Ke(A,z=>a.states[z]===X1?(l("resolve",z),Promise.resolve()):a.states[z]===Fx?(l("reject",z),Promise.reject(z)):(a.states[z]=Lx,a.loadScript(z).then(()=>{a.states[z]=X1,l("resolve",z);const W=a.queue;return W.length>0?(a.queue=[],g(W).then(h)):Promise.resolve()},()=>(a.states[z]=Fx,l("reject",z),Promise.reject(z)))))),v=A=>(a.loading=!0,g(A).then(z=>{a.loading=!1;const W=a.queueLoadedCallbacks.shift();return j.from(W).each(Et),h(z)})),S=Mf(s);return a.loading?new Promise((A,z)=>{a.queueLoadedCallbacks.push(()=>v(S).then(A,z))}):v(S)}}Wc.ScriptLoader=new Wc;const Ka=e=>{let s=e;return{get:()=>s,set:h=>{s=h}}},J1=e=>vt(e)&&Ln(e,"raw"),sh=e=>We(e)&&e.length>1,dp={},Oa=Ka("en"),Bx=()=>us(dp,Oa.get()),hd={getData:()=>Mo(dp,e=>({...e})),setCode:e=>{e&&Oa.set(e)},getCode:()=>Oa.get(),add:(e,s)=>{let a=dp[e];a||(dp[e]=a={}),Gt(s,(l,h)=>{a[h.toLowerCase()]=l})},translate:e=>{const s=Bx().getOr({}),a=v=>ue(v)?Object.prototype.toString.call(v):l(v)?"":""+v,l=v=>v===""||v===null||v===void 0,h=v=>{const S=a(v);return us(s,S.toLowerCase()).map(a).getOr(S)},g=v=>v.replace(/{context:\w+}$/,"");if(l(e))return"";if(J1(e))return a(e.raw);if(sh(e)){const v=e.slice(1),S=h(e[0]).replace(/\{([0-9]+)\}/g,(A,z)=>Ln(v,z)?a(v[z]):A);return g(S)}return g(h(e))},isRtl:()=>Bx().bind(e=>us(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Ln(dp,e)},ll=()=>{const e=[],s={},a={},l=[],h=(se,he)=>{const Ie=Ve(l,Se=>Se.name===se&&Se.state===he);le(Ie,Se=>Se.resolve())},g=se=>Ln(s,se),v=se=>Ln(a,se),S=se=>{if(a[se])return a[se].instance},A=(se,he)=>{const Ie=hd.getCode(),Se=","+(he||"")+",";!Ie||he&&Se.indexOf(","+Ie+",")===-1||Wc.ScriptLoader.add(s[se]+"/langs/"+Ie+".js")},z=(se,he)=>{ll.languageLoad!==!1&&(g(se)?A(se,he):pe(se,"loaded").then(()=>A(se,he)))},W=(se,he)=>(e.push(he),a[se]={instance:he},h(se,"added"),he),U=se=>{delete s[se],delete a[se]},X=(se,he)=>ne(he)?ne(se)?{prefix:"",resource:he,suffix:""}:{prefix:se.prefix,resource:he,suffix:se.suffix}:he,fe=(se,he)=>{if(s[se])return Promise.resolve();let Ie=ne(he)?he:he.prefix+he.resource+he.suffix;Ie.indexOf("/")!==0&&Ie.indexOf("://")===-1&&(Ie=ll.baseURL+"/"+Ie),s[se]=Ie.substring(0,Ie.lastIndexOf("/"));const Se=()=>(h(se,"loaded"),Promise.resolve());return a[se]?Se():Wc.ScriptLoader.add(Ie).then(Se)},pe=(se,he="added")=>he==="added"&&v(se)||he==="loaded"&&g(se)?Promise.resolve():new Promise(Ie=>{l.push({name:se,state:he,resolve:Ie})});return{items:e,urls:s,lookup:a,get:S,requireLangPack:z,add:W,remove:U,createUrl:X,load:fe,waitFor:pe}};ll.languageLoad=!0,ll.baseURL="",ll.PluginManager=ll(),ll.ThemeManager=ll(),ll.ModelManager=ll();const Jr=e=>{const s=Ka(j.none()),a=()=>s.get().each(e);return{clear:()=>{a(),s.set(j.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:S=>{a(),s.set(j.some(S))}}},Ux=e=>{const s=Ka(j.none()),a=()=>s.get().each(S=>clearInterval(S));return{clear:()=>{a(),s.set(j.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:S=>{a(),s.set(j.some(setInterval(S,e)))}}},xs=()=>{const e=Jr(It);return{...e,on:a=>e.get().each(a)}},xi=(e,s)=>{let a=null;return{cancel:()=>{J(a)||(clearTimeout(a),a=null)},throttle:(...g)=>{J(a)&&(a=setTimeout(()=>{a=null,e.apply(null,g)},s))}}},Cu=(e,s)=>{let a=null;const l=()=>{J(a)||(clearTimeout(a),a=null)};return{cancel:l,throttle:(...g)=>{l(),a=setTimeout(()=>{a=null,e.apply(null,g)},s)}}},Ei=ot("mce-annotation"),rh=ot("data-mce-annotation"),Eb=ot("data-mce-annotation-uid"),sm=ot("data-mce-annotation-active"),gc=ot("data-mce-annotation-classes"),Zc=ot("data-mce-annotation-attrs"),Q0=e=>s=>Yo(s,e),Tb=(e,s)=>{const a=e.selection.getRng(),l=ve.fromDom(a.startContainer),h=ve.fromDom(e.getBody()),g=s.fold(()=>"."+Ei(),A=>`[${rh()}="${A}"]`),v=Uh(l,a.startOffset).getOr(l);return Fc(v,g,Q0(h)).bind(A=>Lc(A,`${Eb()}`).bind(z=>Lc(A,`${rh()}`).map(W=>{const U=Wx(e,z);return{uid:z,name:W,elements:U}})))},jx=e=>Cs(e)&&Km(e,Ei()),ek=(e,s)=>Ga(e,"data-mce-bogus")||fb(e,'[data-mce-bogus="all"]',Q0(s)),Wx=(e,s)=>{const a=ve.fromDom(e.getBody()),l=Ta(a,`[${Eb()}="${s}"]`);return Ve(l,h=>!ek(h,a))},$g=(e,s)=>{const a=ve.fromDom(e.getBody()),l=Ta(a,`[${rh()}="${s}"]`),h={};return le(l,g=>{if(!ek(g,a)){const v=Ni(g,Eb()),S=us(h,v).getOr([]);h[v]=S.concat([g])}}),h},Zx=(e,s)=>{const a=Ka({}),l=()=>({listeners:[],previous:xs()}),h=(U,X)=>{g(U,fe=>(X(fe),fe))},g=(U,X)=>{const fe=a.get(),pe=us(fe,U).getOrThunk(l),se=X(pe);fe[U]=se,a.set(fe)},v=(U,X,fe)=>{h(U,pe=>{le(pe.listeners,se=>se(!0,U,{uid:X,nodes:Ke(fe,he=>he.dom)}))})},S=U=>{h(U,X=>{le(X.listeners,fe=>fe(!1,U))})},A=(U,X)=>{le(Wx(e,U),fe=>{X?vr(fe,sm(),"true"):Ir(fe,sm())})},z=Cu(()=>{const U=mo(s.getNames());le(U,X=>{g(X,fe=>{const pe=fe.previous.get();return Tb(e,j.some(X)).fold(()=>{pe.each(se=>{S(X),fe.previous.clear(),A(se,!1)})},({uid:se,name:he,elements:Ie})=>{$r(pe,se)||(pe.each(Se=>A(Se,!1)),v(he,se,Ie),fe.previous.set(se),A(se,!0))}),{previous:fe.previous,listeners:fe.listeners}})})},30);return e.on("remove",()=>{z.cancel()}),e.on("NodeChange",()=>{z.throttle()}),{addListener:(U,X)=>{g(U,fe=>({previous:fe.previous,listeners:fe.listeners.concat([X])}))}}},pI=(e,s)=>{const a=rh(),l=g=>j.from(g.attr(a)).bind(s.lookup),h=g=>{var v,S;g.attr(Eb(),null),g.attr(rh(),null),g.attr(sm(),null);const A=j.from(g.attr(Zc())).map(X=>X.split(",")).getOr([]),z=j.from(g.attr(gc())).map(X=>X.split(",")).getOr([]);le(A,X=>g.attr(X,null));const W=(S=(v=g.attr("class"))===null||v===void 0?void 0:v.split(" "))!==null&&S!==void 0?S:[],U=Un(W,[Ei()].concat(z));g.attr("class",U.length>0?U.join(" "):null),g.attr(gc(),null),g.attr(Zc(),null)};e.serializer.addTempAttr(sm()),e.serializer.addAttributeFilter(a,g=>{for(const v of g)l(v).each(S=>{S.persistent===!1&&(v.name==="span"?v.unwrap():h(v))})})},gI=()=>{const e={};return{register:(h,g)=>{e[h]={name:h,settings:g}},lookup:h=>us(e,h).map(g=>g.settings),getNames:()=>Fr(e)}};let tk=0;const Gx=e=>{const a=new Date().getTime(),l=Math.floor(Math.random()*1e9);return tk++,e+"_"+l+tk+String(a)},qx=(e,s)=>{le(s,a=>{Vf(e,a)})},Kx=(e,s)=>{le(s,a=>{Vh(e,a)})},Yx=(e,s)=>ve.fromDom(e.dom.cloneNode(s)),rm=e=>Yx(e,!1),Xx=e=>Yx(e,!0),Jx=(e,s)=>{const a=ve.fromTag(s),l=Zm(e);return _i(a,l),a},yI=(e,s)=>{const a=Jx(e,s);od(e,a);const l=xa(e);return sd(a,l),hs(e),a},Qx=(e,s,a=Ee)=>{const l=new Mr(e,s),h=g=>{let v;do v=l[g]();while(v&&!Pt(v)&&!a(v));return j.from(v).filter(Pt)};return{current:()=>j.from(l.current()).filter(Pt),next:()=>h("next"),prev:()=>h("prev"),prev2:()=>h("prev2")}},fp=(e,s)=>{const a=s||(v=>e.isBlock(v)||Vs(v)||eo(v)),l=(v,S,A,z)=>{if(Pt(v)){const W=z(v,S,v.data);if(W!==-1)return j.some({container:v,offset:W})}return A().bind(W=>l(W.container,W.offset,A,z))};return{backwards:(v,S,A,z)=>{const W=Qx(v,z!=null?z:e.getRoot(),a);return l(v,S,()=>W.prev().map(U=>({container:U,offset:U.length})),A).getOrNull()},forwards:(v,S,A,z)=>{const W=Qx(v,z!=null?z:e.getRoot(),a);return l(v,S,()=>W.next().map(U=>({container:U,offset:0})),A).getOrNull()}}},Ks=Math.round,ah=e=>e?{left:Ks(e.left),top:Ks(e.top),bottom:Ks(e.bottom),right:Ks(e.right),width:Ks(e.width),height:Ks(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},eE=(e,s)=>(e=ah(e),s||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),bI=(e,s)=>e.left===s.left&&e.top===s.top&&e.bottom===s.bottom&&e.right===s.right,Rb=(e,s,a)=>e>=0&&e<=Math.min(s.height,a.height)/2,Da=(e,s)=>{const a=Math.min(s.height/2,e.height/2);return e.bottom-a<s.top?!0:e.top>s.bottom?!1:Rb(s.top-e.bottom,e,s)},Sl=(e,s)=>e.top>s.bottom?!0:e.bottom<s.top?!1:Rb(s.bottom-e.top,e,s),nk=(e,s,a)=>s>=e.left&&s<=e.right&&a>=e.top&&a<=e.bottom,ew=e=>ye(e,(s,a)=>s.fold(()=>j.some(a),l=>{const h=Math.min(a.left,l.left),g=Math.min(a.top,l.top),v=Math.max(a.right,l.right),S=Math.max(a.bottom,l.bottom);return j.some({top:g,right:v,bottom:S,left:h,width:v-h,height:S-g})}),j.none()),tw=(e,s,a)=>{const l=Math.max(Math.min(s,e.left+e.width),e.left),h=Math.max(Math.min(a,e.top+e.height),e.top);return Math.sqrt((s-l)*(s-l)+(a-h)*(a-h))},vI=(e,s)=>Math.max(0,Math.min(e.bottom,s.bottom)-Math.max(e.top,s.top)),tE=(e,s,a)=>Math.min(Math.max(e,s),a),Ab=e=>{const s=e.startContainer,a=e.startOffset;return s===e.endContainer&&s.hasChildNodes()&&e.endOffset===a+1?s.childNodes[a]:null},xl=(e,s)=>{if(ht(e)&&e.hasChildNodes()){const a=e.childNodes,l=tE(s,0,a.length-1);return a[l]}else return e},nE=(e,s)=>{if(!(s<0&&ht(e)&&e.hasChildNodes()))return xl(e,s)},Ys=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),md=e=>ne(e)&&e.charCodeAt(0)>=768&&Ys.test(e),uf=(...e)=>s=>{for(let a=0;a<e.length;a++)if(e[a](s))return!0;return!1},wI=(...e)=>s=>{for(let a=0;a<e.length;a++)if(!e[a](s))return!1;return!0},ok=ht,oE=is,am=rd("display","block table"),sE=rd("float","left right"),df=wI(ok,oE,Zn(sE)),sk=Zn(rd("white-space","pre pre-line pre-wrap")),Ib=Pt,rk=Vs,nw=ps.nodeIndex,Ob=nE,ak=e=>e?e.createRange():ps.DOM.createRng(),Db=e=>ne(e)&&/[\r\n\t ]/.test(e),rE=e=>!!e.setStart&&!!e.setEnd,ih=e=>{const s=e.startContainer,a=e.startOffset;if(Db(e.toString())&&sk(s.parentNode)&&Pt(s)){const l=s.data;if(Db(l[a-1])||Db(l[a+1]))return!0}return!1},ow=e=>{const s=e.ownerDocument,a=ak(s),l=s.createTextNode(Qo),h=e.parentNode;h.insertBefore(l,e),a.setStart(l,0),a.setEnd(l,1);const g=ah(a.getBoundingClientRect());return h.removeChild(l),g},aE=e=>{const s=e.startContainer,a=e.endContainer,l=e.startOffset,h=e.endOffset;if(s===a&&Pt(a)&&l===0&&h===1){const g=e.cloneRange();return g.setEndAfter(a),im(g)}else return null},ik=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,im=e=>{var s;let a;const l=e.getClientRects();return l.length>0?a=ah(l[0]):a=ah(e.getBoundingClientRect()),!rE(e)&&rk(e)&&ik(a)?ow(e):ik(a)&&rE(e)&&(s=aE(e))!==null&&s!==void 0?s:a},ff=(e,s)=>{const a=eE(e,s);return a.width=1,a.right=a.left+1,a},hp=e=>{const s=[],a=v=>{v.height!==0&&(s.length>0&&bI(v,s[s.length-1])||s.push(v))},l=(v,S)=>{const A=ak(v.ownerDocument);if(S<v.data.length){if(md(v.data[S]))return;if(md(v.data[S-1])&&(A.setStart(v,S),A.setEnd(v,S+1),!ih(A))){a(ff(im(A),!1));return}}S>0&&(A.setStart(v,S-1),A.setEnd(v,S),ih(A)||a(ff(im(A),!1))),S<v.data.length&&(A.setStart(v,S),A.setEnd(v,S+1),ih(A)||a(ff(im(A),!0)))},h=e.container(),g=e.offset();if(Ib(h))return l(h,g),s;if(ok(h))if(e.isAtEnd()){const v=Ob(h,g);Ib(v)&&l(v,v.data.length),df(v)&&!rk(v)&&a(ff(im(v),!1))}else{const v=Ob(h,g);if(Ib(v)&&l(v,0),df(v)&&e.isAtEnd())return a(ff(im(v),!1)),s;const S=Ob(e.container(),e.offset()-1);df(S)&&!rk(S)&&(am(S)||am(v)||!df(v))&&a(ff(im(S),!1)),df(v)&&a(ff(im(v),!0))}return s},dt=(e,s,a)=>{const l=()=>(Ib(e),s===0),h=()=>Ib(e)?s>=e.data.length:s>=e.childNodes.length,g=()=>{const W=ak(e.ownerDocument);return W.setStart(e,s),W.setEnd(e,s),W},v=()=>(a||(a=hp(dt(e,s))),a),S=()=>v().length>0,A=W=>W&&e===W.container()&&s===W.offset(),z=W=>Ob(e,W?s-1:s);return{container:ot(e),offset:ot(s),toRange:g,getClientRects:v,isVisible:S,isAtStart:l,isAtEnd:h,isEqual:A,getNode:z}};dt.fromRangeStart=e=>dt(e.startContainer,e.startOffset),dt.fromRangeEnd=e=>dt(e.endContainer,e.endOffset),dt.after=e=>dt(e.parentNode,nw(e)+1),dt.before=e=>dt(e.parentNode,nw(e)),dt.isAbove=(e,s)=>fa(_s(s.getClientRects()),Uo(e.getClientRects()),Da).getOr(!1),dt.isBelow=(e,s)=>fa(Uo(s.getClientRects()),_s(e.getClientRects()),Sl).getOr(!1),dt.isAtStart=e=>e?e.isAtStart():!1,dt.isAtEnd=e=>e?e.isAtEnd():!1,dt.isTextPosition=e=>e?Pt(e.container()):!1,dt.isElementPosition=e=>!dt.isTextPosition(e);const ko=(e,s)=>{Pt(s)&&s.data.length===0&&e.remove(s)},ir=(e,s,a)=>{s.insertNode(a),ko(e,a.previousSibling),ko(e,a.nextSibling)},mp=(e,s,a)=>{const l=j.from(a.firstChild),h=j.from(a.lastChild);s.insertNode(a),l.each(g=>ko(e,g.previousSibling)),h.each(g=>ko(e,g.nextSibling))},Mb=(e,s,a)=>{Cg(a)?mp(e,s,a):ir(e,s,a)},Go=Pt,lk=Ra,Pb=ps.nodeIndex,ga=e=>{const s=e.parentNode;return lk(s)?ga(s):s},hf=e=>e?Oi(e.childNodes,(s,a)=>(lk(a)&&a.nodeName!=="BR"?s=s.concat(hf(a)):s.push(a),s),[]):[],_I=(e,s)=>{let a=e;for(;(a=a.previousSibling)&&Go(a);)s+=a.data.length;return s},iE=e=>s=>e===s,lE=e=>{let s,a;s=hf(ga(e)),a=Zs(s,iE(e),e),s=s.slice(0,a+1);const l=Oi(s,(h,g,v)=>(Go(g)&&Go(s[v-1])&&h++,h),0);return s=jd(s,Bl([e.nodeName])),a=Zs(s,iE(e),e),a-l},Vg=e=>(Go(e)?"text()":e.nodeName.toLowerCase())+"["+lE(e)+"]",Hg=(e,s,a)=>{const l=[];for(let h=s.parentNode;h&&h!==e&&!(a&&a(h));h=h.parentNode)l.push(h);return l},sw=(e,s)=>{let a=[],l=s.container(),h=s.offset(),g;if(Go(l))g=_I(l,h);else{const S=l.childNodes;h>=S.length?(g="after",h=S.length-1):g="before",l=S[h]}a.push(Vg(l));let v=Hg(e,l);return v=jd(v,Zn(Ra)),a=a.concat(Dc(v,S=>Vg(S))),a.reverse().join("/")+","+g},ck=(e,s,a)=>{let l=hf(e);return l=jd(l,(h,g)=>!Go(h)||!Go(l[g-1])),l=jd(l,Bl([s])),l[a]},cl=(e,s)=>{let a=e,l=0;for(;Go(a);){const h=a.data.length;if(s>=l&&s<=l+h){e=a,s=s-l;break}if(!Go(a.nextSibling)){e=a,s=h;break}l+=h,a=a.nextSibling}return Go(e)&&s>e.data.length&&(s=e.data.length),dt(e,s)},Ug=(e,s)=>{if(!s)return null;const a=s.split(","),l=a[0].split("/"),h=a.length>1?a[1]:"before",g=Oi(l,(v,S)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(S);return A?(A[1]==="text()"&&(A[1]="#text"),ck(v,A[1],parseInt(A[2],10))):null},e);if(!g)return null;if(!Go(g)&&g.parentNode){let v;return h==="after"?v=Pb(g)+1:v=Pb(g),dt(g.parentNode,v)}return cl(g,parseInt(h,10))},zb=eo,cE=(e,s,a)=>{let l=e(s.data.slice(0,a)).length;for(let h=s.previousSibling;h&&Pt(h);h=h.previousSibling)l+=e(h.data).length;return l},pp=(e,s,a,l,h)=>{const g=h?l.startContainer:l.endContainer;let v=h?l.startOffset:l.endOffset;const S=[],A=e.getRoot();if(Pt(g))S.push(a?cE(s,g,v):v);else{let z=0;const W=g.childNodes;v>=W.length&&W.length&&(z=1,v=Math.max(0,W.length-1)),S.push(e.nodeIndex(W[v],a)+z)}for(let z=g;z&&z!==A;z=z.parentNode)S.push(e.nodeIndex(z,a));return S},yc=(e,s,a,l)=>{const h=s.dom,g=pp(h,e,a,l,!0),v=s.isForward(),S=Xf(l)?{isFakeCaret:!0}:{};if(s.isCollapsed())return{start:g,forward:v,...S};{const A=pp(h,e,a,l,!1);return{start:g,end:A,forward:v,...S}}},uk=(e,s,a)=>{let l=0;return xt.each(e.select(s),h=>{if(h.getAttribute("data-mce-bogus")!=="all"){if(h===a)return!1;l++;return}}),l},Ya=(e,s)=>{let a=s?e.startContainer:e.endContainer,l=s?e.startOffset:e.endOffset;if(ht(a)&&a.nodeName==="TR"){const h=a.childNodes;a=h[Math.min(s?l:l-1,h.length-1)],a&&(l=s?0:a.childNodes.length,s?e.setStart(a,l):e.setEnd(a,l))}},uE=e=>(Ya(e,!0),Ya(e,!1),e),lh=(e,s)=>{if(ht(e)&&(e=xl(e,s),zb(e)))return e;if($o(e)){Pt(e)&&jn(e)&&(e=e.parentNode);let a=e.previousSibling;if(zb(a)||(a=e.nextSibling,zb(a)))return a}},rw=e=>lh(e.startContainer,e.startOffset)||lh(e.endContainer,e.endOffset),dk=(e,s,a)=>{const l=a.getNode(),h=a.getRng();if(l.nodeName==="IMG"||zb(l)){const v=l.nodeName;return{name:v,index:uk(a.dom,v,l)}}const g=rw(h);if(g){const v=g.tagName;return{name:v,index:uk(a.dom,v,g)}}return yc(e,a,s,h)},dE=e=>{const s=e.getRng();return{start:sw(e.dom.getRoot(),dt.fromRangeStart(s)),end:sw(e.dom.getRoot(),dt.fromRangeEnd(s)),forward:e.isForward()}},fk=e=>({rng:e.getRng(),forward:e.isForward()}),aw=(e,s,a)=>{const l={"data-mce-type":"bookmark",id:s,style:"overflow:hidden;line-height:0px"};return a?e.create("span",l,"&#xFEFF;"):e.create("span",l)},hk=(e,s)=>{const a=e.dom;let l=e.getRng();const h=a.uniqueId(),g=e.isCollapsed(),v=e.getNode(),S=v.nodeName,A=e.isForward();if(S==="IMG")return{name:S,index:uk(a,S,v)};const z=uE(l.cloneRange());if(!g){z.collapse(!1);const U=aw(a,h+"_end",s);Mb(a,z,U)}l=uE(l),l.collapse(!0);const W=aw(a,h+"_start",s);return Mb(a,l,W),e.moveToBookmark({id:h,keep:!0,forward:A}),{id:h,forward:A}},kI=(e,s,a=!1)=>s===2?dk(at,a,e):s===3?dE(e):s?fk(e):hk(e,!1),mk=it(dk,Nn,!0),Xa=e=>{const s=g=>g(e),a=ot(e),l=()=>h,h={tag:!0,inner:e,fold:(g,v)=>v(e),isValue:me,isError:Ee,map:g=>Xs.value(g(e)),mapError:l,bind:s,exists:s,forall:s,getOr:a,or:l,getOrThunk:a,orThunk:l,getOrDie:a,each:g=>{g(e)},toOptional:()=>j.some(e)};return h},Qr=e=>{const s=()=>a,a={tag:!1,inner:e,fold:(l,h)=>l(e),isValue:Ee,isError:me,map:s,mapError:l=>Xs.error(l(e)),bind:s,exists:Ee,forall:me,getOr:Nn,or:Nn,getOrThunk:uo,orThunk:uo,getOrDie:io(String(e)),each:It,toOptional:j.none};return a},Xs={value:Xa,error:Qr,fromOption:(e,s)=>e.fold(()=>Qr(s),Xa)},Js={generate:e=>{if(!We(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const s=[],a={};return le(e,(l,h)=>{const g=Fr(l);if(g.length!==1)throw new Error("one and only one name per case");const v=g[0],S=l[v];if(a[v]!==void 0)throw new Error("duplicate key detected:"+v);if(v==="cata")throw new Error("cannot have a case named cata (sorry)");if(!We(S))throw new Error("case arguments must be an array");s.push(v),a[v]=(...A)=>{const z=A.length;if(z!==S.length)throw new Error("Wrong number of arguments to case "+v+". Expected "+S.length+" ("+S+"), got "+z);return{fold:(...U)=>{if(U.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+U.length);return U[h].apply(null,A)},match:U=>{const X=Fr(U);if(s.length!==X.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+X.join(","));if(!sn(s,pe=>Oe(X,pe)))throw new Error("Not all branches were specified when using match. Specified: "+X.join(", ")+`
Required: `+s.join(", "));return U[v].apply(null,A)},log:U=>{console.log(U,{constructors:s,constructor:v,params:A})}}}}),a}};Js.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const pk=e=>{const s=[],a=[];return le(e,l=>{l.fold(h=>{s.push(h)},h=>{a.push(h)})}),{errors:s,values:a}},gk=e=>e.type==="inline-command"||e.type==="inline-format",fE=e=>e.type==="block-command"||e.type==="block-format",iw=e=>{const s=l=>Xs.error({message:l,pattern:e}),a=(l,h,g)=>{if(e.format!==void 0){let v;if(We(e.format)){if(!sn(e.format,ne))return s(l+" pattern has non-string items in the `format` array");v=e.format}else if(ne(e.format))v=[e.format];else return s(l+" pattern has non-string `format` parameter");return Xs.value(h(v))}else return e.cmd!==void 0?ne(e.cmd)?Xs.value(g(e.cmd,e.value)):s(l+" pattern has non-string `cmd` parameter"):s(l+" pattern is missing both `format` and `cmd` parameters")};if(!vt(e))return s("Raw pattern is not an object");if(!ne(e.start))return s("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!ne(e.end))return s("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return s("Inline pattern has empty `start` and `end` parameters");let l=e.start,h=e.end;return h.length===0&&(h=l,l=""),a("Inline",g=>({type:"inline-format",start:l,end:h,format:g}),(g,v)=>({type:"inline-command",start:l,end:h,cmd:g,value:v}))}else return e.replacement!==void 0?ne(e.replacement)?e.start.length===0?s("Replacement pattern has empty `start` parameter"):Xs.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):s("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?s("Block pattern has empty `start` parameter"):a("Block",l=>({type:"block-format",start:e.start,format:l[0]}),(l,h)=>({type:"block-command",start:e.start,cmd:l,value:h}))},Nb=e=>Ve(e,fE),lw=e=>Ve(e,gk),cw=(e,s)=>({inlinePatterns:lw(e),blockPatterns:Nb(e),dynamicPatternsLookup:s}),Lb=e=>{const s=pk(Ke(e,iw));return le(s.errors,a=>console.error(a.message,a.pattern)),s.values},hE=e=>s=>{const a=e(s);return Lb(a)},mE=pu().deviceType,pE=mE.isTouch(),yk=ps.DOM,uw=e=>{const s=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return ye(s,(a,l)=>{const h=l.split("="),g=h[0],v=h.length>1?h[1]:g;return a[Mc(g)]=Mc(v),a},{})},dw=e=>rt(e,RegExp),mn=e=>s=>s.options.get(e),bk=e=>ne(e)||vt(e),gE=(e,s="")=>a=>{const l=ne(a);if(l)if(a.indexOf("=")!==-1){const h=uw(a);return{value:us(h,e.id).getOr(s),valid:l}}else return{value:a,valid:l};else return{valid:!1,message:"Must be a string."}},CI=e=>{const s=e.options.register;s("id",{processor:"string",default:e.id}),s("selector",{processor:"string"}),s("target",{processor:"object"}),s("suffix",{processor:"string"}),s("cache_suffix",{processor:"string"}),s("base_url",{processor:"string"}),s("referrer_policy",{processor:"string",default:""}),s("language_load",{processor:"boolean",default:!0}),s("inline",{processor:"boolean",default:!1}),s("iframe_attrs",{processor:"object",default:{}}),s("doctype",{processor:"string",default:"<!DOCTYPE html>"}),s("document_base_url",{processor:"string",default:e.documentBaseUrl}),s("body_id",{processor:gE(e,"tinymce"),default:"tinymce"}),s("body_class",{processor:gE(e),default:""}),s("content_security_policy",{processor:"string",default:""}),s("br_in_pre",{processor:"boolean",default:!0}),s("forced_root_block",{processor:a=>{const l=ne(a)&&Jo(a);return l?{value:a,valid:l}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),s("forced_root_block_attrs",{processor:"object",default:{}}),s("newline_behavior",{processor:a=>{const l=Oe(["block","linebreak","invert","default"],a);return l?{value:a,valid:l}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),s("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),s("no_newline_selector",{processor:"string",default:""}),s("keep_styles",{processor:"boolean",default:!0}),s("end_container_on_empty_block",{processor:a=>Te(a)?{valid:!0,value:a}:ne(a)?{valid:!0,value:a}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),s("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),s("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),s("font_size_classes",{processor:"string",default:""}),s("automatic_uploads",{processor:"boolean",default:!0}),s("images_reuse_filename",{processor:"boolean",default:!1}),s("images_replace_blob_uris",{processor:"boolean",default:!0}),s("icons",{processor:"string",default:""}),s("icons_url",{processor:"string",default:""}),s("images_upload_url",{processor:"string",default:""}),s("images_upload_base_path",{processor:"string",default:""}),s("images_upload_credentials",{processor:"boolean",default:!1}),s("images_upload_handler",{processor:"function"}),s("language",{processor:"string",default:"en"}),s("language_url",{processor:"string",default:""}),s("entity_encoding",{processor:"string",default:"named"}),s("indent",{processor:"boolean",default:!0}),s("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),s("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),s("indent_use_margin",{processor:"boolean",default:!1}),s("indentation",{processor:"string",default:"40px"}),s("content_css",{processor:a=>{const l=a===!1||ne(a)||ln(a,ne);return l?ne(a)?{value:Ke(a.split(","),Mc),valid:l}:We(a)?{value:a,valid:l}:a===!1?{value:[],valid:l}:{value:a,valid:l}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:yp(e)?[]:["default"]}),s("content_style",{processor:"string"}),s("content_css_cors",{processor:"boolean",default:!1}),s("font_css",{processor:a=>{const l=ne(a)||ln(a,ne);return l?{value:We(a)?a:Ke(a.split(","),Mc),valid:l}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),s("inline_boundaries",{processor:"boolean",default:!0}),s("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),s("object_resizing",{processor:a=>{const l=Te(a)||ne(a);return l?a===!1||mE.isiPhone()||mE.isiPad()?{value:"",valid:l}:{value:a===!0?"table,img,figure.image,div,video,iframe":a,valid:l}:{valid:!1,message:"Must be boolean or a string"}},default:!pE}),s("resize_img_proportional",{processor:"boolean",default:!0}),s("event_root",{processor:"object"}),s("service_message",{processor:"string"}),s("theme",{processor:a=>a===!1||ne(a)||ue(a),default:"silver"}),s("theme_url",{processor:"string"}),s("formats",{processor:"object"}),s("format_empty_lines",{processor:"boolean",default:!1}),s("format_noneditable_selector",{processor:"string",default:""}),s("preview_styles",{processor:a=>{const l=a===!1||ne(a);return l?{value:a===!1?"":a,valid:l}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),s("custom_ui_selector",{processor:"string",default:""}),s("hidden_input",{processor:"boolean",default:!0}),s("submit_patch",{processor:"boolean",default:!0}),s("encoding",{processor:"string"}),s("add_form_submit_trigger",{processor:"boolean",default:!0}),s("add_unload_trigger",{processor:"boolean",default:!0}),s("custom_undo_redo_levels",{processor:"number",default:0}),s("disable_nodechange",{processor:"boolean",default:!1}),s("readonly",{processor:"boolean",default:!1}),s("plugins",{processor:"string[]",default:[]}),s("external_plugins",{processor:"object"}),s("forced_plugins",{processor:"string[]"}),s("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),s("model_url",{processor:"string"}),s("block_unsupported_drop",{processor:"boolean",default:!0}),s("visual",{processor:"boolean",default:!0}),s("visual_table_class",{processor:"string",default:"mce-item-table"}),s("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),s("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),s("setup",{processor:"function"}),s("init_instance_callback",{processor:"function"}),s("url_converter",{processor:"function",default:e.convertURL}),s("url_converter_scope",{processor:"object",default:e}),s("urlconverter_callback",{processor:"function"}),s("allow_conditional_comments",{processor:"boolean",default:!1}),s("allow_html_data_urls",{processor:"boolean",default:!1}),s("allow_svg_data_urls",{processor:"boolean"}),s("allow_html_in_named_anchor",{processor:"boolean",default:!1}),s("allow_script_urls",{processor:"boolean",default:!1}),s("allow_unsafe_link_target",{processor:"boolean",default:!1}),s("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),s("fix_list_elements",{processor:"boolean",default:!1}),s("preserve_cdata",{processor:"boolean",default:!1}),s("remove_trailing_brs",{processor:"boolean"}),s("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),s("element_format",{processor:"string",default:"html"}),s("entities",{processor:"string"}),s("schema",{processor:"string",default:"html5"}),s("convert_urls",{processor:"boolean",default:!0}),s("relative_urls",{processor:"boolean",default:!0}),s("remove_script_host",{processor:"boolean",default:!0}),s("custom_elements",{processor:"string"}),s("extended_valid_elements",{processor:"string"}),s("invalid_elements",{processor:"string"}),s("invalid_styles",{processor:bk}),s("valid_children",{processor:"string"}),s("valid_classes",{processor:bk}),s("valid_elements",{processor:"string"}),s("valid_styles",{processor:bk}),s("verify_html",{processor:"boolean",default:!0}),s("auto_focus",{processor:a=>ne(a)||a===!0}),s("browser_spellcheck",{processor:"boolean",default:!1}),s("protect",{processor:"array"}),s("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),s("deprecation_warnings",{processor:"boolean",default:!0}),s("a11y_advanced_options",{processor:"boolean",default:!1}),s("api_key",{processor:"string"}),s("paste_block_drop",{processor:"boolean",default:!1}),s("paste_data_images",{processor:"boolean",default:!0}),s("paste_preprocess",{processor:"function"}),s("paste_postprocess",{processor:"function"}),s("paste_webkit_styles",{processor:"string",default:"none"}),s("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),s("paste_merge_formats",{processor:"boolean",default:!0}),s("smart_paste",{processor:"boolean",default:!0}),s("paste_as_text",{processor:"boolean",default:!1}),s("paste_tab_spaces",{processor:"number",default:4}),s("text_patterns",{processor:a=>ln(a,vt)||a===!1?{value:Lb(a===!1?[]:a),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),s("text_patterns_lookup",{processor:a=>ue(a)?{value:hE(a),valid:!0}:{valid:!1,message:"Must be a single function"},default:a=>[]}),s("noneditable_class",{processor:"string",default:"mceNonEditable"}),s("editable_class",{processor:"string",default:"mceEditable"}),s("noneditable_regexp",{processor:a=>ln(a,dw)?{value:a,valid:!0}:dw(a)?{value:[a],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),s("table_tab_navigation",{processor:"boolean",default:!0}),s("highlight_on_focus",{processor:"boolean",default:!1}),s("xss_sanitization",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{s("directionality",{processor:"string",default:hd.isRtl()?"rtl":void 0}),s("placeholder",{processor:"string",default:yk.getAttrib(e.getElement(),"placeholder")})})},yE=mn("iframe_attrs"),Lt=mn("doctype"),bE=mn("document_base_url"),Ja=mn("body_id"),SI=mn("body_class"),vk=mn("content_security_policy"),xI=mn("br_in_pre"),Pr=mn("forced_root_block"),fw=mn("forced_root_block_attrs"),EI=mn("newline_behavior"),Su=mn("br_newline_selector"),wk=mn("no_newline_selector"),Fb=mn("keep_styles"),mf=mn("end_container_on_empty_block"),xu=mn("automatic_uploads"),hw=mn("images_reuse_filename"),Eu=mn("images_replace_blob_uris"),vE=mn("icons"),_k=mn("icons_url"),mw=mn("images_upload_url"),lm=mn("images_upload_base_path"),wE=mn("images_upload_credentials"),kk=mn("images_upload_handler"),TI=mn("content_css_cors"),pw=mn("referrer_policy"),Bb=mn("language"),Qa=mn("language_url"),_E=mn("indent_use_margin"),jg=mn("indentation"),kE=mn("content_css"),gw=mn("content_style"),CE=mn("font_css"),SE=mn("directionality"),RI=mn("inline_boundaries_selector"),Wg=mn("object_resizing"),AI=mn("resize_img_proportional"),xE=mn("placeholder"),yw=mn("event_root"),EE=mn("service_message"),gp=mn("theme"),$b=mn("theme_url"),Zg=mn("model"),pd=mn("model_url"),ns=mn("inline_boundaries"),TE=mn("formats"),Zi=mn("preview_styles"),Ck=mn("format_empty_lines"),RE=mn("format_noneditable_selector"),AE=mn("custom_ui_selector"),yp=mn("inline"),II=mn("hidden_input"),IE=mn("submit_patch"),OE=mn("add_form_submit_trigger"),OI=mn("add_unload_trigger"),DI=mn("custom_undo_redo_levels"),MI=mn("disable_nodechange"),DE=mn("readonly"),Gg=mn("content_css_cors"),Vb=mn("plugins"),k4=mn("external_plugins"),bp=mn("block_unsupported_drop"),PI=mn("visual"),zI=mn("visual_table_class"),ME=mn("visual_anchor_class"),PE=mn("iframe_aria_text"),zE=mn("setup"),vp=mn("init_instance_callback"),NE=mn("urlconverter_callback"),NI=mn("auto_focus"),LI=mn("browser_spellcheck"),FI=mn("protect"),qg=mn("paste_block_drop"),wp=mn("paste_data_images"),bw=mn("paste_preprocess"),vw=mn("paste_postprocess"),LE=mn("paste_webkit_styles"),pf=mn("paste_remove_styles_if_webkit"),ww=mn("paste_merge_formats"),FE=mn("smart_paste"),gd=mn("paste_as_text"),cm=mn("paste_tab_spaces"),Sk=mn("allow_html_data_urls"),BE=mn("text_patterns"),BI=mn("text_patterns_lookup"),$E=mn("noneditable_class"),VE=mn("editable_class"),$I=mn("noneditable_regexp"),VI=mn("preserve_cdata"),HE=mn("highlight_on_focus"),_w=mn("xss_sanitization"),UE=e=>e.options.isSet("text_patterns_lookup"),HI=e=>xt.explode(e.options.get("font_size_style_values")),UI=e=>xt.explode(e.options.get("font_size_classes")),jI=e=>e.options.get("encoding")==="xml",xk=e=>xt.explode(e.options.get("images_file_types")),jE=mn("table_tab_navigation"),WE=ht,ZE=Pt,GE=e=>{const s=e.parentNode;s&&s.removeChild(e)},Hb=e=>{const s=at(e);return{count:e.length-s.length,text:s}},Ek=e=>{let s;for(;(s=e.data.lastIndexOf(te))!==-1;)e.deleteData(s,1)},Tk=(e,s)=>(um(e),s),Ub=(e,s)=>{const a=Hb(e.data.substr(0,s.offset())),l=Hb(e.data.substr(s.offset()));return(a.text+l.text).length>0?(Ek(e),dt(e,s.offset()-a.count)):s},kw=(e,s)=>{const a=s.container(),l=Re(zs(a.childNodes),e).map(h=>h<s.offset()?dt(a,s.offset()-1):s).getOr(s);return um(e),l},Rk=(e,s)=>ZE(e)&&s.container()===e?Ub(e,s):Tk(e,s),qE=(e,s)=>s.container()===e.parentNode?kw(e,s):Tk(e,s),KE=(e,s)=>dt.isTextPosition(s)?Rk(e,s):qE(e,s),um=e=>{WE(e)&&$o(e)&&(ss(e)?e.removeAttribute("data-mce-caret"):GE(e)),ZE(e)&&(Ek(e),e.data.length===0&&GE(e))},WI=eo,YE=sl,jb=Cl,ZI="*[contentEditable=false],video,audio,embed,object",Cw=(e,s,a)=>{const l=eE(s.getBoundingClientRect(),a);let h,g;if(e.tagName==="BODY"){const S=e.ownerDocument.documentElement;h=e.scrollLeft||S.scrollLeft,g=e.scrollTop||S.scrollTop}else{const S=e.getBoundingClientRect();h=e.scrollLeft-S.left,g=e.scrollTop-S.top}l.left+=h,l.right+=h,l.top+=g,l.bottom+=g,l.width=1;let v=s.offsetWidth-s.clientWidth;return v>0&&(a&&(v*=-1),l.left+=v,l.right+=v),l},GI=e=>{var s,a;const l=Ta(ve.fromDom(e),ZI);for(let h=0;h<l.length;h++){const g=l[h].dom;let v=g.previousSibling;if(Yf(v)){const S=v.data;S.length===1?(s=v.parentNode)===null||s===void 0||s.removeChild(v):v.deleteData(S.length-1,1)}v=g.nextSibling,Hl(v)&&(v.data.length===1?(a=v.parentNode)===null||a===void 0||a.removeChild(v):v.deleteData(0,1))}},qI=(e,s,a,l)=>{const h=xs();let g,v;const S=Pr(e),A=e.dom,z=(se,he)=>{let Ie;if(W(),jb(he))return null;if(a(he)){const Se=cd(S,he,se),Me=Cw(s,he,se);A.setStyle(Se,"top",Me.top),v=Se;const Ze=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(Ze,{...Me}),A.add(s,Ze),h.set({caret:Ze,element:he,before:se}),se&&A.addClass(Ze,"mce-visual-caret-before"),U(),Ie=he.ownerDocument.createRange(),Ie.setStart(Se,0),Ie.setEnd(Se,0)}else return v=Ls(he,se),Ie=he.ownerDocument.createRange(),_p(v.nextSibling)?(Ie.setStart(v,0),Ie.setEnd(v,0)):(Ie.setStart(v,1),Ie.setEnd(v,1)),Ie;return Ie},W=()=>{GI(s),v&&(um(v),v=null),h.on(se=>{A.remove(se.caret),h.clear()}),g&&(clearInterval(g),g=void 0)},U=()=>{g=setInterval(()=>{h.on(se=>{l()?A.toggleClass(se.caret,"mce-visual-caret-hidden"):A.addClass(se.caret,"mce-visual-caret-hidden")})},500)};return{show:z,hide:W,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{h.on(se=>{const he=Cw(s,se.element,se.before);A.setStyles(se.caret,{...he})})},destroy:()=>clearInterval(g)}},XE=()=>Bo.browser.isFirefox(),_p=e=>WI(e)||YE(e),Wb=e=>(_p(e)||hc(e)&&XE())&&Ym(ve.fromDom(e)).exists(Wf),Zb=Uc,Ak=eo,KI=sl,Ik=rd("display","block table table-cell table-caption list-item"),Ti=$o,JE=jn,Kg=ht,YI=Pt,Gb=is,kp=e=>e>0,Cp=e=>e<0,Sw=(e,s)=>{let a;for(;a=e(s);)if(!JE(a))return a;return null},Yg=(e,s,a,l,h)=>{const g=new Mr(e,l),v=Ak(e)||JE(e);let S;if(Cp(s)){if(v&&(S=Sw(g.prev.bind(g),!0),a(S)))return S;for(;S=Sw(g.prev.bind(g),h);)if(a(S))return S}if(kp(s)){if(v&&(S=Sw(g.next.bind(g),!0),a(S)))return S;for(;S=Sw(g.next.bind(g),h);)if(a(S))return S}return null},xw=(e,s)=>{const a=h=>Zb(h.dom),l=h=>h.dom===s;return Ns(ve.fromDom(e),a,l).map(h=>h.dom).getOr(s)},dm=(e,s)=>{for(;e&&e!==s;){if(Ik(e))return e;e=e.parentNode}return null},zr=(e,s,a)=>dm(e.container(),a)===dm(s.container(),a),Sp=(e,s)=>{if(!s)return j.none();const a=s.container(),l=s.offset();return Kg(a)?j.from(a.childNodes[l+e]):j.none()},Ok=(e,s)=>{var a;const h=((a=s.ownerDocument)!==null&&a!==void 0?a:document).createRange();return e?(h.setStartBefore(s),h.setEndBefore(s)):(h.setStartAfter(s),h.setEndAfter(s)),h},XI=(e,s,a)=>dm(s,e)===dm(a,e),Dk=(e,s,a)=>{const l=e?"previousSibling":"nextSibling";let h=a;for(;h&&h!==s;){let g=h[l];if(g&&Ti(g)&&(g=g[l]),Ak(g)||KI(g)){if(XI(s,g,h))return g;break}if(Gb(g))break;h=h.parentNode}return null},Xg=it(Ok,!0),xp=it(Ok,!1),Mk=(e,s,a)=>{let l;const h=it(Dk,!0,s),g=it(Dk,!1,s),v=a.startContainer,S=a.startOffset;if(jn(v)){const A=YI(v)?v.parentNode:v,z=A.getAttribute("data-mce-caret");if(z==="before"&&(l=A.nextSibling,Wb(l)))return Xg(l);if(z==="after"&&(l=A.previousSibling,Wb(l)))return xp(l)}if(!a.collapsed)return a;if(Pt(v)){if(Ti(v)){if(e===1){if(l=g(v),l)return Xg(l);if(l=h(v),l)return xp(l)}if(e===-1){if(l=h(v),l)return xp(l);if(l=g(v),l)return Xg(l)}return a}if(Yf(v)&&S>=v.data.length-1)return e===1&&(l=g(v),l)?Xg(l):a;if(Hl(v)&&S<=1)return e===-1&&(l=h(v),l)?xp(l):a;if(S===v.data.length)return l=g(v),l?Xg(l):a;if(S===0)return l=h(v),l?xp(l):a}return a},Jg=(e,s)=>Sp(e?0:-1,s).filter(Ak),Pk=(e,s,a)=>{const l=Mk(e,s,a);return e===-1?dt.fromRangeStart(l):dt.fromRangeEnd(l)},qb=e=>j.from(e.getNode()).map(ve.fromDom),QE=e=>j.from(e.getNode(!0)).map(ve.fromDom),ch=(e,s)=>{let a=s;for(;a=e(a);)if(a.isVisible())return a;return a},Ew=(e,s)=>{const a=zr(e,s);return!a&&Vs(e.getNode())?!0:a};var ya;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(ya||(ya={}));const e2=eo,Tu=Pt,zk=ht,yd=Vs,bd=is,Nk=Xh,Qg=B1,JI=(e,s)=>{const a=[];let l=e;for(;l&&l!==s;)a.push(l),l=l.parentNode;return a},t2=(e,s)=>e.hasChildNodes()&&s<e.childNodes.length?e.childNodes[s]:null,Tw=(e,s)=>{if(kp(e)){if(bd(s.previousSibling)&&!Tu(s.previousSibling))return dt.before(s);if(Tu(s))return dt(s,0)}if(Cp(e)){if(bd(s.nextSibling)&&!Tu(s.nextSibling))return dt.after(s);if(Tu(s))return dt(s,s.data.length)}return Cp(e)?yd(s)?dt.before(s):dt.after(s):dt.before(s)},Rw=(e,s)=>{const a=s.nextSibling;return a&&bd(a)?Tu(a)?dt(a,0):dt.before(a):Aw(ya.Forwards,dt.after(s),e)},Aw=(e,s,a)=>{let l,h,g,v;if(!zk(a)||!s)return null;if(s.isEqual(dt.after(a))&&a.lastChild){if(v=dt.after(a.lastChild),Cp(e)&&bd(a.lastChild)&&zk(a.lastChild))return yd(a.lastChild)?dt.before(a.lastChild):v}else v=s;const S=v.container();let A=v.offset();if(Tu(S)){if(Cp(e)&&A>0)return dt(S,--A);if(kp(e)&&A<S.length)return dt(S,++A);l=S}else{if(Cp(e)&&A>0&&(h=t2(S,A-1),bd(h)))return!Nk(h)&&(g=Yg(h,e,Qg,h),g)?Tu(g)?dt(g,g.data.length):dt.after(g):Tu(h)?dt(h,h.data.length):dt.before(h);if(kp(e)&&A<S.childNodes.length&&(h=t2(S,A),bd(h)))return yd(h)?Rw(a,h):!Nk(h)&&(g=Yg(h,e,Qg,h),g)?Tu(g)?dt(g,0):dt.before(g):Tu(h)?dt(h,0):dt.after(h);l=h||v.getNode()}if(l&&(kp(e)&&v.isAtEnd()||Cp(e)&&v.isAtStart())&&(l=Yg(l,e,me,a,!0),Qg(l,a)))return Tw(e,l);h=l&&Yg(l,e,Qg,a);const z=ja(Ve(JI(S,a),e2));return z&&(!h||!z.contains(h))?(kp(e)?v=dt.after(z):v=dt.before(z),v):h?Tw(e,h):null},vd=e=>({next:s=>Aw(ya.Forwards,s,e),prev:s=>Aw(ya.Backwards,s,e)}),Lk=(e,s,a)=>{const l=e?dt.before(a):dt.after(a);return bc(e,s,l)},QI=e=>Vs(e)?dt.before(e):dt.after(e),n2=e=>dt.isTextPosition(e)?e.offset()===0:is(e.getNode()),Fk=e=>{if(dt.isTextPosition(e)){const s=e.container();return e.offset()===s.data.length}else return is(e.getNode(!0))},Bk=(e,s)=>!dt.isTextPosition(e)&&!dt.isTextPosition(s)&&e.getNode()===s.getNode(!0),Iw=e=>!dt.isTextPosition(e)&&Vs(e.getNode()),o2=(e,s,a)=>e?!Bk(s,a)&&!Iw(s)&&Fk(s)&&n2(a):!Bk(a,s)&&n2(s)&&Fk(a),bc=(e,s,a)=>{const l=vd(s);return j.from(e?l.next(a):l.prev(a))},Ow=(e,s,a)=>bc(e,s,a).bind(l=>zr(a,l,s)&&o2(e,a,l)?bc(e,s,l):j.some(l)),s2=(e,s,a,l)=>Ow(e,s,a).bind(h=>l(h)?s2(e,s,h,l):j.some(h)),ey=(e,s)=>{const a=e?s.firstChild:s.lastChild;return Pt(a)?j.some(dt(a,e?0:a.data.length)):a?is(a)?j.some(e?dt.before(a):QI(a)):Lk(e,s,a):j.none()},Ri=it(bc,!0),Ru=it(bc,!1),ql=it(ey,!0),uh=it(ey,!1),eO="_mce_caret",ul=e=>ht(e)&&e.id===eO,ea=(e,s)=>{let a=s;for(;a&&a!==e;){if(ul(a))return a;a=a.parentNode}return null},$k=e=>ne(e.start),Kb=e=>Ln(e,"rng"),Ep=e=>Ln(e,"id"),Yb=e=>Ln(e,"name"),Dw=e=>xt.isArray(e.start),Xb=e=>!Yb(e)&&Te(e.forward)?e.forward:!0,r2=(e,s)=>(ht(s)&&e.isBlock(s)&&!s.innerHTML&&(s.innerHTML='<br data-mce-bogus="1" />'),s),tO=(e,s)=>{const a=j.from(Ug(e.getRoot(),s.start)),l=j.from(Ug(e.getRoot(),s.end));return fa(a,l,(h,g)=>{const v=e.createRng();return v.setStart(h.container(),h.offset()),v.setEnd(g.container(),g.offset()),{range:v,forward:Xb(s)}})},nO=(e,s)=>{var a;const h=((a=e.ownerDocument)!==null&&a!==void 0?a:document).createTextNode(te);e.appendChild(h),s.setStart(h,0),s.setEnd(h,0)},gf=e=>!e.hasChildNodes(),Jb=(e,s)=>uh(e).fold(Ee,a=>(s.setStart(a.container(),a.offset()),s.setEnd(a.container(),a.offset()),!0)),Mw=(e,s,a)=>gf(s)&&ea(e,s)?(nO(s,a),!0):!1,yf=(e,s,a,l)=>{const h=a[s?"start":"end"],g=e.getRoot();if(h){let v=g,S=h[0];for(let A=h.length-1;v&&A>=1;A--){const z=v.childNodes;if(Mw(g,v,l))return!0;if(h[A]>z.length-1)return Mw(g,v,l)?!0:Jb(v,l);v=z[h[A]]}Pt(v)&&(S=Math.min(h[0],v.data.length)),ht(v)&&(S=Math.min(h[0],v.childNodes.length)),s?l.setStart(v,S):l.setEnd(v,S)}return!0},Pw=e=>Pt(e)&&e.data.length>0,zw=(e,s,a)=>{const l=e.get(a.id+"_"+s),h=l==null?void 0:l.parentNode,g=a.keep;if(l&&h){let v,S;if(s==="start"?g?l.hasChildNodes()?(v=l.firstChild,S=1):Pw(l.nextSibling)?(v=l.nextSibling,S=0):Pw(l.previousSibling)?(v=l.previousSibling,S=l.previousSibling.data.length):(v=h,S=e.nodeIndex(l)+1):(v=h,S=e.nodeIndex(l)):g?l.hasChildNodes()?(v=l.firstChild,S=1):Pw(l.previousSibling)?(v=l.previousSibling,S=l.previousSibling.data.length):(v=h,S=e.nodeIndex(l)):(v=h,S=e.nodeIndex(l)),!g){const A=l.previousSibling,z=l.nextSibling;xt.each(xt.grep(l.childNodes),U=>{Pt(U)&&(U.data=U.data.replace(/\uFEFF/g,""))});let W;for(;W=e.get(a.id+"_"+s);)e.remove(W,!0);if(Pt(z)&&Pt(A)&&!Bo.browser.isOpera()){const U=A.data.length;A.appendData(z.data),e.remove(z),v=A,S=U}}return j.some(dt(v,S))}else return j.none()},Tp=(e,s)=>{const a=e.createRng();return yf(e,!0,s,a)&&yf(e,!1,s,a)?j.some({range:a,forward:Xb(s)}):j.none()},Vk=(e,s)=>{const a=zw(e,"start",s),l=zw(e,"end",s);return fa(a,l.or(a),(h,g)=>{const v=e.createRng();return v.setStart(r2(e,h.container()),h.offset()),v.setEnd(r2(e,g.container()),g.offset()),{range:v,forward:Xb(s)}})},a2=(e,s)=>j.from(e.select(s.name)[s.index]).map(a=>{const l=e.createRng();return l.selectNode(a),{range:l,forward:!0}}),Hk=(e,s)=>{const a=e.dom;if(s){if(Dw(s))return Tp(a,s);if($k(s))return tO(a,s);if(Ep(s))return Vk(a,s);if(Yb(s))return a2(a,s);if(Kb(s))return j.some({range:s.rng,forward:Xb(s)})}return j.none()},fm=(e,s,a)=>kI(e,s,a),oO=(e,s)=>{Hk(e,s).each(({range:a,forward:l})=>{e.setRng(a,l)})},Ma=e=>ht(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",ty=(e=>s=>e===s)(Qo),ny=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,i2=e=>!ny(e)&&!ty(e)&&!ii(e),rO=e=>({value:aO(e)}),aO=e=>bi(e,"#").toUpperCase(),Nw=e=>{const s=e.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},iO=e=>{const s=Nw(e.red)+Nw(e.green)+Nw(e.blue);return rO(s)},Lw=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,lO=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,l2=(e,s,a,l)=>({red:e,green:s,blue:a,alpha:l}),Fw=(e,s,a,l)=>{const h=parseInt(e,10),g=parseInt(s,10),v=parseInt(a,10),S=parseFloat(l);return l2(h,g,v,S)},cO=e=>{if(e==="transparent")return j.some(l2(0,0,0,0));const s=Lw.exec(e);if(s!==null)return j.some(Fw(s[1],s[2],s[3],"1"));const a=lO.exec(e);return a!==null?j.some(Fw(a[1],a[2],a[3],a[4])):j.none()},Uk=e=>cO(e).map(iO).map(s=>"#"+s.value).getOr(e),Qb=e=>{const s=[];if(e)for(let a=0;a<e.rangeCount;a++)s.push(e.getRangeAt(a));return s},Ao=e=>Vt(e,s=>{const a=Ab(s);return a?[ve.fromDom(a)]:[]}),dh=e=>Qb(e).length>1,oy=e=>Ve(Ao(e),qa),jk=e=>Ta(e,"td[data-mce-selected],th[data-mce-selected]"),c2=(e,s)=>{const a=jk(s);return a.length>0?a:oy(e)},fh=e=>c2(Qb(e.selection.getSel()),ve.fromDom(e.getBody())),sy=(e,s)=>Ea(e,"table",s),Wk=e=>{const s=e.startContainer,a=e.startOffset;return Pt(s)?a===0?j.some(ve.fromDom(s)):j.none():j.from(s.childNodes[a]).map(ve.fromDom)},Zk=e=>{const s=e.endContainer,a=e.endOffset;return Pt(s)?a===s.data.length?j.some(ve.fromDom(s)):j.none():j.from(s.childNodes[a-1]).map(ve.fromDom)},Bw=e=>jh(e).fold(ot([e]),s=>[e].concat(Bw(s))),$w=e=>uc(e).fold(ot([e]),s=>ks(s)==="br"?Fl(s).map(a=>[e].concat($w(a))).getOr([]):[e].concat($w(s))),u2=(e,s)=>fa(Wk(s),Zk(s),(a,l)=>{const h=ut(Bw(e),it(Yo,a)),g=ut($w(e),it(Yo,l));return h.isSome()&&g.isSome()}).getOr(!1),ev=(e,s,a,l)=>{const h=a,g=new Mr(a,h),v=bs(e.schema.getMoveCaretBeforeOnEnterElements(),(A,z)=>!Oe(["td","th","table"],z.toLowerCase()));let S=a;do{if(Pt(S)&&xt.trim(S.data).length!==0){l?s.setStart(S,0):s.setEnd(S,S.data.length);return}if(v[S.nodeName]){l?s.setStartBefore(S):S.nodeName==="BR"?s.setEndBefore(S):s.setEndAfter(S);return}}while(S=l?g.next():g.prev());h.nodeName==="BODY"&&(l?s.setStart(h,0):s.setEnd(h,h.childNodes.length))},tv=e=>{const s=e.selection.getSel();return je(s)&&s.rangeCount>0},d2=(e,s)=>{const a=fh(e);a.length>0?le(a,l=>{const h=l.dom,g=e.dom.createRng();g.setStartBefore(h),g.setEndAfter(h),s(g,!0)}):s(e.selection.getRng(),!1)},f2=(e,s,a)=>{const l=hk(e,s);a(l),e.moveToBookmark(l)},ry=e=>Rn(e==null?void 0:e.nodeType),Vw=e=>ht(e)&&!Ma(e)&&!ul(e)&&!Ra(e),Rp=(e,s)=>{if(Vw(s)&&!/^(TD|TH)$/.test(s.nodeName)){const a=e.getAttrib(s,"data-mce-selected"),l=parseInt(a,10);return!isNaN(l)&&l>0}else return!1},hm=e=>e.isContentEditable===!0,nv=(e,s,a)=>{const{selection:l,dom:h}=e,g=l.getNode(),v=eo(g);f2(l,!0,()=>{s()}),v&&eo(g)&&h.isChildOf(g,e.getBody())?e.selection.select(g):a(l.getStart())&&Ap(h,l)},Ap=(e,s)=>{var a,l;const h=s.getRng(),{startContainer:g,startOffset:v}=h,S=s.getNode();if(!Rp(e,S)&&ht(g)){const A=g.childNodes,z=e.getRoot();let W;if(v<A.length){const U=A[v];W=new Mr(U,(a=e.getParent(U,e.isBlock))!==null&&a!==void 0?a:z)}else{const U=A[A.length-1];W=new Mr(U,(l=e.getParent(U,e.isBlock))!==null&&l!==void 0?l:z),W.next(!0)}for(let U=W.current();U;U=W.next()){if(e.getContentEditable(U)==="false")return;if(Pt(U)&&!qk(U)){h.setStart(U,0),s.setRng(h);return}}}},h2=(e,s,a)=>{if(e){const l=s?"nextSibling":"previousSibling";for(e=a?e:e[l];e;e=e[l])if(ht(e)||!qk(e))return e}},Gk=(e,s)=>!!e.getTextBlockElements()[s.nodeName.toLowerCase()]||Qh(e,s),ay=(e,s,a)=>e.schema.isValidChild(s,a),qk=(e,s=!1)=>{if(je(e)&&Pt(e)){const a=s?e.data.replace(/ /g,"\xA0"):e.data;return Jh(a)}else return!1},Hw=e=>je(e)&&Pt(e)&&e.length===0,uO=(e,s)=>{const a="[data-mce-cef-wrappable]",l=RE(e),h=tl(l)?a:`${a},${l}`;return Li(ve.fromDom(s),h)},m2=(e,s)=>{const a=e.dom;return Vw(s)&&a.getContentEditable(s)==="false"&&uO(e,s)&&a.select('[contenteditable="true"]',s).length===0},mm=(e,s)=>ue(e)?e(s):(je(s)&&(e=e.replace(/%(\w+)/g,(a,l)=>s[l]||a)),e),Kk=(e,s)=>(e=e||"",s=s||"",e=""+(e.nodeName||e),s=""+(s.nodeName||s),e.toLowerCase()===s.toLowerCase()),Yk=(e,s)=>{if(wt(e))return null;{let a=String(e);return(s==="color"||s==="backgroundColor")&&(a=Uk(a)),s==="fontWeight"&&e===700&&(a="bold"),s==="fontFamily"&&(a=a.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),a}},Uw=(e,s,a)=>{const l=e.getStyle(s,a);return Yk(l,a)},p2=(e,s)=>{let a;return e.getParent(s,l=>ht(l)?(a=e.getStyle(l,"text-decoration"),!!a&&a!=="none"):!1),a},hh=(e,s,a)=>e.getParents(s,a,e.getRoot()),Xk=(e,s,a)=>{const l=e.formatter.get(s);return je(l)&&pt(l,a)},tn=(e,s)=>Xk(e,s,l=>{const h=g=>ue(g)||g.length>1&&g.charAt(0)==="%";return pt(["styles","attributes"],g=>us(l,g).exists(v=>{const S=We(v)?v:Yu(v);return pt(S,h)}))}),Pa=(e,s,a)=>{const l=["inline","block","selector","attributes","styles","classes"],h=g=>bs(g,(v,S)=>pt(l,A=>A===S));return Xk(e,s,g=>{const v=h(g);return Xk(e,a,S=>{const A=h(S);return Oc(v,A)})})},qc=e=>oi(e,"block"),ta=e=>qc(e)&&e.wrapper===!0,Au=e=>qc(e)&&e.wrapper!==!0,vc=e=>oi(e,"selector"),jr=e=>oi(e,"inline"),Jk=e=>vc(e)&&jr(e)&&$r(us(e,"mixed"),!0),iy=e=>vc(e)&&e.expand!==!1&&!jr(e),Ip=Ma,ov=hh,g2=qk,y2=Gk,b2=e=>Vs(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,jw=(e,s)=>{let a=s;for(;a;){if(ht(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:s;a=a.parentNode}return s},Qk=(e,s,a,l)=>{const h=s.data;if(e){for(let g=a;g>0;g--)if(l(h.charAt(g-1)))return g}else for(let g=a;g<h.length;g++)if(l(h.charAt(g)))return g;return-1},v2=(e,s,a)=>Qk(e,s,a,l=>ty(l)||ny(l)),sv=(e,s,a)=>Qk(e,s,a,i2),rv=(e,s,a,l,h,g)=>{let v;const S=e.getParent(a,e.isBlock)||s,A=(W,U,X)=>{const fe=fp(e),pe=h?fe.backwards:fe.forwards;return j.from(pe(W,U,(se,he)=>Ip(se.parentNode)?-1:(v=se,X(h,se,he)),S))};return A(a,l,v2).bind(W=>g?A(W.container,W.offset+(h?-1:0),sv):j.some(W)).orThunk(()=>v?j.some({container:v,offset:h?0:v.length}):j.none())},av=(e,s,a,l,h)=>{const g=l[h];Pt(l)&&tl(l.data)&&g&&(l=g);const v=ov(e,l);for(let S=0;S<v.length;S++)for(let A=0;A<s.length;A++){const z=s[A];if(!(je(z.collapsed)&&z.collapsed!==a.collapsed)&&vc(z)&&e.is(v[S],z.selector))return v[S]}return l},iv=(e,s,a,l)=>{var h;let g=a;const v=e.getRoot(),S=s[0];if(qc(S)&&(g=S.wrapper?null:e.getParent(a,S.block,v)),!g){const A=(h=e.getParent(a,"LI,TD,TH"))!==null&&h!==void 0?h:v;g=e.getParent(Pt(a)?a.parentNode:a,z=>z!==v&&y2(e.schema,z),A)}if(g&&qc(S)&&S.wrapper&&(g=ov(e,g,"ul,ol").reverse()[0]||g),!g)for(g=a;g&&g[l]&&!e.isBlock(g[l])&&(g=g[l],!Kk(g,"br")););return g||a},Ww=(e,s,a,l)=>{const h=a.parentNode;return je(a[l])?!1:h===s||wt(h)||e.isBlock(h)?!0:Ww(e,s,h,l)},Zw=(e,s,a,l,h)=>{let g=a;const v=h?"previousSibling":"nextSibling",S=e.getRoot();if(Pt(a)&&!g2(a)&&(h?l>0:l<a.data.length))return a;for(;g;){if(!s[0].block_expand&&e.isBlock(g))return g;for(let A=g[v];A;A=A[v]){const z=Pt(A)&&!Ww(e,S,A,v);if(!Ip(A)&&!b2(A)&&!g2(A,z))return g}if(g===S||g.parentNode===S){a=g;break}g=g.parentNode}return a},Op=e=>Ip(e.parentNode)||Ip(e),Kl=(e,s,a,l=!1)=>{let{startContainer:h,startOffset:g,endContainer:v,endOffset:S}=s;const A=a[0];return ht(h)&&h.hasChildNodes()&&(h=xl(h,g),Pt(h)&&(g=0)),ht(v)&&v.hasChildNodes()&&(v=xl(v,s.collapsed?S:S-1),Pt(v)&&(S=v.data.length)),h=jw(e,h),v=jw(e,v),Op(h)&&(h=Ip(h)?h:h.parentNode,s.collapsed?h=h.previousSibling||h:h=h.nextSibling||h,Pt(h)&&(g=s.collapsed?h.length:0)),Op(v)&&(v=Ip(v)?v:v.parentNode,s.collapsed?v=v.nextSibling||v:v=v.previousSibling||v,Pt(v)&&(S=s.collapsed?0:v.length)),s.collapsed&&(rv(e,e.getRoot(),h,g,!0,l).each(({container:U,offset:X})=>{h=U,g=X}),rv(e,e.getRoot(),v,S,!1,l).each(({container:U,offset:X})=>{v=U,S=X})),(jr(A)||A.block_expand)&&((!jr(A)||!Pt(h)||g===0)&&(h=Zw(e,a,h,g,!0)),(!jr(A)||!Pt(v)||S===v.data.length)&&(v=Zw(e,a,v,S,!1))),iy(A)&&(h=av(e,a,s,h,"previousSibling"),v=av(e,a,s,v,"nextSibling")),(qc(A)||vc(A))&&(h=iv(e,a,h,"previousSibling"),v=iv(e,a,v,"nextSibling"),qc(A)&&(e.isBlock(h)||(h=Zw(e,a,h,g,!0)),e.isBlock(v)||(v=Zw(e,a,v,S,!1)))),ht(h)&&h.parentNode&&(g=e.nodeIndex(h),h=h.parentNode),ht(v)&&v.parentNode&&(S=e.nodeIndex(v)+1,v=v.parentNode),{startContainer:h,startOffset:g,endContainer:v,endOffset:S}},lv=(e,s,a)=>{var l;const h=s.startOffset,g=xl(s.startContainer,h),v=s.endOffset,S=xl(s.endContainer,v-1),A=he=>{const Ie=he[0];Pt(Ie)&&Ie===g&&h>=Ie.data.length&&he.splice(0,1);const Se=he[he.length-1];return v===0&&he.length>0&&Se===S&&Pt(Se)&&he.splice(he.length-1,1),he},z=(he,Ie,Se)=>{const Me=[];for(;he&&he!==Se;he=he[Ie])Me.push(he);return Me},W=(he,Ie)=>e.getParent(he,Se=>Se.parentNode===Ie,Ie),U=(he,Ie,Se)=>{const Me=Se?"nextSibling":"previousSibling";for(let Ze=he,kt=Ze.parentNode;Ze&&Ze!==Ie;Ze=kt){kt=Ze.parentNode;const Zt=z(Ze===he?Ze:Ze[Me],Me);Zt.length&&(Se||Zt.reverse(),a(A(Zt)))}};if(g===S)return a(A([g]));const X=(l=e.findCommonAncestor(g,S))!==null&&l!==void 0?l:e.getRoot();if(e.isChildOf(g,S))return U(g,X,!0);if(e.isChildOf(S,g))return U(S,X);const fe=W(g,X)||g,pe=W(S,X)||S;U(g,fe,!0);const se=z(fe===g?fe:fe.nextSibling,"nextSibling",pe===S?pe.nextSibling:pe);se.length&&a(A(se)),U(S,pe)},w2=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],eC=e=>wi(e)&&tp(e)===te,dO=(e,s,a,l)=>Ll(s).fold(()=>"skipping",h=>l==="br"||eC(s)?"valid":jx(s)?"existing":ul(s.dom)?"caret":pt(w2,g=>Li(s,g))?"valid-block":!ay(e,a,l)||!ay(e,ks(h),a)?"invalid-child":"valid"),_2=(e,s)=>{const a=Kl(e.dom,s,[{inline:"span"}]);s.setStart(a.startContainer,a.startOffset),s.setEnd(a.endContainer,a.endOffset),e.selection.setRng(s)},cv=(e,s,a,l,h,g)=>{const{uid:v=s,...S}=a;Vf(e,Ei()),vr(e,`${Eb()}`,v),vr(e,`${rh()}`,l);const{attributes:A={},classes:z=[]}=h(v,S);if(_i(e,A),qx(e,z),g){z.length>0&&vr(e,`${gc()}`,z.join(","));const W=Fr(A);W.length>0&&vr(e,`${Zc()}`,W.join(","))}},fO=e=>{Vh(e,Ei()),Ir(e,`${Eb()}`),Ir(e,`${rh()}`),Ir(e,`${sm()}`);const s=Lc(e,`${Zc()}`).map(l=>l.split(",")).getOr([]),a=Lc(e,`${gc()}`).map(l=>l.split(",")).getOr([]);le(s,l=>Ir(e,l)),Kx(e,a),Ir(e,`${gc()}`),Ir(e,`${Zc()}`)},uv=(e,s,a,l,h)=>{const g=ve.fromTag("span",e);return cv(g,s,a,l,h,!1),g},za=(e,s,a,l,h,g)=>{const v=[],S=uv(e.getDoc(),a,g,l,h),A=xs(),z=()=>{A.clear()},W=()=>A.get().getOrThunk(()=>{const pe=rm(S);return v.push(pe),A.set(pe),pe}),U=pe=>{le(pe,X)},X=pe=>{switch(dO(e,pe,"span",ks(pe))){case"invalid-child":{z();const he=xa(pe);U(he),z();break}case"valid-block":{z(),cv(pe,a,g,l,h,!0);break}case"valid":{const he=W();M1(pe,he);break}}},fe=pe=>{const se=Ke(pe,ve.fromDom);U(se)};return lv(e.dom,s,pe=>{z(),fe(pe)}),v},Iu=(e,s,a,l)=>{e.undoManager.transact(()=>{const h=e.selection,g=h.getRng(),v=fh(e).length>0,S=Gx("mce-annotation");if(g.collapsed&&!v&&_2(e,g),h.getRng().collapsed&&!v){const A=uv(e.getDoc(),S,l,s,a.decorate);ef(A,Qo),h.getRng().insertNode(A.dom),h.select(A.dom)}else f2(h,!1,()=>{d2(e,A=>{za(e,A,S,s,a.decorate,l)})})})},wc=e=>{const s=gI();pI(e,s);const a=Zx(e,s),l=Fh("span"),h=g=>{le(g,v=>{l(v)?Dr(v):fO(v)})};return{register:(g,v)=>{s.register(g,v)},annotate:(g,v)=>{s.lookup(g).each(S=>{Iu(e,g,S,v)})},annotationChanged:(g,v)=>{a.addListener(g,v)},remove:g=>{Tb(e,j.some(g)).each(({elements:v})=>{const S=e.selection.getBookmark();h(v),e.selection.moveToBookmark(S)})},removeAll:g=>{const v=e.selection.getBookmark();Gt($g(e,g),(S,A)=>{h(S)}),e.selection.moveToBookmark(v)},getAll:g=>{const v=$g(e,g);return Mo(v,S=>Ke(S,A=>A.dom))}}},pm=e=>({getBookmark:it(fm,e),moveToBookmark:it(oO,e)});pm.isBookmarkNode=Ma;const Ou=(e,s,a)=>a.collapsed?!1:pt(a.getClientRects(),l=>nk(l,e,s)),hO=(e,s)=>e.dispatch("PreProcess",s),tC=(e,s)=>e.dispatch("PostProcess",s),nC=e=>{e.dispatch("remove")},oC=e=>{e.dispatch("detach")},mO=(e,s)=>{e.dispatch("SwitchMode",{mode:s})},sC=(e,s,a,l,h)=>{e.dispatch("ObjectResizeStart",{target:s,width:a,height:l,origin:h})},pO=(e,s,a,l,h)=>{e.dispatch("ObjectResized",{target:s,width:a,height:l,origin:h})},gO=e=>{e.dispatch("PreInit")},rC=e=>{e.dispatch("PostRender")},aC=e=>{e.dispatch("Init")},gs=(e,s)=>{e.dispatch("PlaceholderToggle",{state:s})},wd=(e,s,a)=>{e.dispatch(s,a)},iC=(e,s,a,l)=>{e.dispatch("FormatApply",{format:s,node:a,vars:l})},lC=(e,s,a,l)=>{e.dispatch("FormatRemove",{format:s,node:a,vars:l})},k2=(e,s)=>e.dispatch("BeforeSetContent",s),Gw=(e,s)=>e.dispatch("SetContent",s),C2=(e,s)=>e.dispatch("BeforeGetContent",s),qw=(e,s)=>e.dispatch("GetContent",s),S2=(e,s)=>{e.dispatch("AutocompleterStart",s)},yO=(e,s)=>{e.dispatch("AutocompleterUpdate",s)},x2=e=>{e.dispatch("AutocompleterEnd")},bO=(e,s,a)=>e.dispatch("PastePreProcess",{content:s,internal:a}),cC=(e,s,a)=>e.dispatch("PastePostProcess",{node:s,internal:a}),E2=(e,s)=>e.dispatch("PastePlainTextToggle",{state:s}),fn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||fn.metaKeyPressed(e),metaKeyPressed:e=>Bo.os.isMacOS()||Bo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},_d="data-mce-selected",uC="table,img,figure.image,hr,video,span.mce-preview-object",T2=Math.abs,cr=Math.round,Nr={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},ly=e=>e.type==="longpress"||e.type.indexOf("touch")===0,dv=(e,s)=>{const a=s.dom,l=s.getDoc(),h=document,g=s.getBody();let v,S,A,z,W,U,X,fe,pe,se,he,Ie,Se,Me,Ze,kt,Zt;const Ft=Qt=>je(Qt)&&(qh(Qt)||a.is(Qt,"figure.image")),et=Qt=>sl(Qt)||a.hasClass(Qt,"mce-preview-object"),nt=(Qt,po)=>{if(ly(Qt)){const ao=Qt.touches[0];return Ft(Qt.target)&&!Ou(ao.clientX,ao.clientY,po)}else return Ft(Qt.target)&&!Ou(Qt.clientX,Qt.clientY,po)},nn=Qt=>{const po=Qt.target;nt(Qt,s.selection.getRng())&&!Qt.isDefaultPrevented()&&s.selection.select(po)},Cn=Qt=>a.hasClass(Qt,"mce-preview-object")&&je(Qt.firstElementChild)?[Qt,Qt.firstElementChild]:a.is(Qt,"figure.image")?[Qt.querySelector("img")]:[Qt],On=Qt=>{const po=Wg(s);return!po||Qt.getAttribute("data-mce-resize")==="false"||Qt===s.getBody()?!1:a.hasClass(Qt,"mce-preview-object")&&je(Qt.firstElementChild)?Li(ve.fromDom(Qt.firstElementChild),po):Li(ve.fromDom(Qt),po)},so=Qt=>et(Qt)?a.create("img",{src:Bo.transparentSrc}):Qt.cloneNode(!0),Co=(Qt,po,ao)=>{if(je(ao)){const hi=Cn(Qt);le(hi,js=>{js.style[po]||!s.schema.isValid(js.nodeName.toLowerCase(),po)?a.setStyle(js,po,ao):a.setAttrib(js,po,""+ao)})}},ts=(Qt,po,ao)=>{Co(Qt,"width",po),Co(Qt,"height",ao)},ys=Qt=>{let po,ao,hi,js,qn;po=Qt.screenX-U,ao=Qt.screenY-X,Me=po*z[2]+se,Ze=ao*z[3]+he,Me=Me<5?5:Me,Ze=Ze<5?5:Ze,(Ft(v)||et(v))&&AI(s)!==!1?hi=!fn.modifierPressed(Qt):hi=fn.modifierPressed(Qt),hi&&(T2(po)>T2(ao)?(Ze=cr(Me*Ie),Me=cr(Ze/Ie)):(Me=cr(Ze/Ie),Ze=cr(Me*Ie))),ts(S,Me,Ze),js=z.startPos.x+po,qn=z.startPos.y+ao,js=js>0?js:0,qn=qn>0?qn:0,a.setStyles(A,{left:js,top:qn,display:"block"}),A.innerHTML=Me+" &times; "+Ze,z[2]<0&&S.clientWidth<=Me&&a.setStyle(S,"left",fe+(se-Me)),z[3]<0&&S.clientHeight<=Ze&&a.setStyle(S,"top",pe+(he-Ze)),po=g.scrollWidth-kt,ao=g.scrollHeight-Zt,po+ao!==0&&a.setStyles(A,{left:js-po,top:qn-ao}),Se||(sC(s,v,se,he,"corner-"+z.name),Se=!0)},Sr=()=>{const Qt=Se;Se=!1,Qt&&(Co(v,"width",Me),Co(v,"height",Ze)),a.unbind(l,"mousemove",ys),a.unbind(l,"mouseup",Sr),h!==l&&(a.unbind(h,"mousemove",ys),a.unbind(h,"mouseup",Sr)),a.remove(S),a.remove(A),a.remove(W),qi(v),Qt&&(pO(s,v,Me,Ze,"corner-"+z.name),a.setAttrib(v,"style",a.getAttrib(v,"style"))),s.nodeChanged()},qi=Qt=>{Jt();const po=a.getPos(Qt,g),ao=po.x,hi=po.y,js=Qt.getBoundingClientRect(),qn=js.width||js.right-js.left,Vo=js.height||js.bottom-js.top;v!==Qt&&(Bt(),v=Qt,Me=Ze=0);const Zr=s.dispatch("ObjectSelected",{target:Qt});On(Qt)&&!Zr.isDefaultPrevented()?Gt(Nr,(As,dr)=>{const rs=oa=>{const Dd=Cn(v)[0];U=oa.screenX,X=oa.screenY,se=Dd.clientWidth,he=Dd.clientHeight,Ie=he/se,z=As,z.name=dr,z.startPos={x:qn*As[0]+ao,y:Vo*As[1]+hi},kt=g.scrollWidth,Zt=g.scrollHeight,W=a.add(g,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),a.setStyles(W,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),S=so(v),a.addClass(S,"mce-clonedresizable"),a.setAttrib(S,"data-mce-bogus","all"),S.contentEditable="false",a.setStyles(S,{left:ao,top:hi,margin:0}),ts(S,qn,Vo),S.removeAttribute(_d),g.appendChild(S),a.bind(l,"mousemove",ys),a.bind(l,"mouseup",Sr),h!==l&&(a.bind(h,"mousemove",ys),a.bind(h,"mouseup",Sr)),A=a.add(g,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},se+" &times; "+he)};let Ws=a.get("mceResizeHandle"+dr);Ws&&a.remove(Ws),Ws=a.add(g,"div",{id:"mceResizeHandle"+dr,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+dr+"-resize; margin:0; padding:0"}),a.bind(Ws,"mousedown",oa=>{oa.stopImmediatePropagation(),oa.preventDefault(),rs(oa)}),As.elm=Ws,a.setStyles(Ws,{left:qn*As[0]+ao-Ws.offsetWidth/2,top:Vo*As[1]+hi-Ws.offsetHeight/2})}):Bt(!1)},Fa=xi(qi,0),Bt=(Qt=!0)=>{Fa.cancel(),Jt(),v&&Qt&&v.removeAttribute(_d),Gt(Nr,(po,ao)=>{const hi=a.get("mceResizeHandle"+ao);hi&&(a.unbind(hi),a.remove(hi))})},pn=(Qt,po)=>a.isChildOf(Qt,po),Lo=Qt=>{if(Se||s.removed||s.composing)return;const po=Qt.type==="mousedown"?Qt.target:e.getNode(),ao=Fc(ve.fromDom(po),uC).map(js=>js.dom).filter(js=>a.isEditable(js.parentElement)).getOrUndefined(),hi=je(ao)?a.getAttrib(ao,_d,"1"):"1";if(le(a.select(`img[${_d}],hr[${_d}]`),js=>{js.removeAttribute(_d)}),je(ao)&&pn(ao,g)){Tn();const js=e.getStart(!0);if(pn(js,ao)&&pn(e.getEnd(!0),ao)){a.setAttrib(ao,_d,hi),Fa.throttle(ao);return}}Bt()},Jt=()=>{Gt(Nr,Qt=>{Qt.elm&&(a.unbind(Qt.elm),delete Qt.elm)})},Tn=()=>{try{s.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return s.on("init",()=>{Tn(),s.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Lo),s.on("keyup compositionend",Qt=>{v&&v.nodeName==="TABLE"&&Lo(Qt)}),s.on("hide blur",Bt),s.on("contextmenu longpress",nn,!0)}),s.on("remove",Jt),{isResizable:On,showResizeRect:qi,hideResizeRect:Bt,updateResizeRect:Lo,destroy:()=>{Fa.cancel(),v=S=W=null}}},vO=(e,s)=>{s.fold(a=>{e.setStartBefore(a.dom)},(a,l)=>{e.setStart(a.dom,l)},a=>{e.setStartAfter(a.dom)})},wO=(e,s)=>{s.fold(a=>{e.setEndBefore(a.dom)},(a,l)=>{e.setEnd(a.dom,l)},a=>{e.setEndAfter(a.dom)})},yo=(e,s,a)=>{const l=e.document.createRange();return vO(l,s),wO(l,a),l},dC=(e,s,a,l,h)=>{const g=e.document.createRange();return g.setStart(s.dom,a),g.setEnd(l.dom,h),g},cy=Js.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Kw=(e,s,a)=>s(ve.fromDom(a.startContainer),a.startOffset,ve.fromDom(a.endContainer),a.endOffset),_O=(e,s)=>s.match({domRange:a=>({ltr:ot(a),rtl:j.none}),relative:(a,l)=>({ltr:ic(()=>yo(e,a,l)),rtl:ic(()=>j.some(yo(e,l,a)))}),exact:(a,l,h,g)=>({ltr:ic(()=>dC(e,a,l,h,g)),rtl:ic(()=>j.some(dC(e,h,g,a,l)))})}),kO=(e,s)=>{const a=s.ltr();return a.collapsed?s.rtl().filter(h=>h.collapsed===!1).map(h=>cy.rtl(ve.fromDom(h.endContainer),h.endOffset,ve.fromDom(h.startContainer),h.startOffset)).getOrThunk(()=>Kw(e,cy.ltr,a)):Kw(e,cy.ltr,a)},fC=(e,s)=>{const a=_O(e,s);return kO(e,a)};cy.ltr,cy.rtl;const R2={create:(e,s,a,l)=>({start:e,soffset:s,finish:a,foffset:l})},CO=(e,s,a)=>{var l,h;return j.from((h=(l=e.dom).caretPositionFromPoint)===null||h===void 0?void 0:h.call(l,s,a)).bind(g=>{if(g.offsetNode===null)return j.none();const v=e.dom.createRange();return v.setStart(g.offsetNode,g.offset),v.collapse(),j.some(v)})},hC=(e,s,a)=>{var l,h;return j.from((h=(l=e.dom).caretRangeFromPoint)===null||h===void 0?void 0:h.call(l,s,a))},mC=(()=>document.caretPositionFromPoint?CO:document.caretRangeFromPoint?hC:j.none)(),A2=(e,s,a)=>{const l=ve.fromDom(e.document);return mC(l,s,a).map(h=>R2.create(ve.fromDom(h.startContainer),h.startOffset,ve.fromDom(h.endContainer),h.endOffset))},I2=Js.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),O2=(e,s,a,l)=>e.fold(s,a,l),A7=e=>e.fold(Nn,Nn,Nn),SO=I2.before,xO=I2.on,S4=I2.after,An={before:SO,on:xO,after:S4,cata:O2,getStart:A7},Yw=Js.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),x4=e=>Yw.exact(e.start,e.soffset,e.finish,e.foffset),EO=e=>e.match({domRange:s=>ve.fromDom(s.startContainer),relative:(s,a)=>An.getStart(s),exact:(s,a,l,h)=>s}),fv=Yw.domRange,E4=Yw.relative,Xw=Yw.exact,TO=e=>{const s=EO(e);return jf(s)},RO=R2.create,gm={domRange:fv,relative:E4,exact:Xw,exactFromRange:x4,getWin:TO,range:RO},Jw=(e,s)=>{const a=ks(e);return a==="input"?An.after(e):Oe(["br","img"],a)?s===0?An.before(e):An.after(e):An.on(e,s)},pC=(e,s)=>{const a=e.fold(An.before,Jw,An.after),l=s.fold(An.before,Jw,An.after);return gm.relative(a,l)},Qw=(e,s,a,l)=>{const h=Jw(e,s),g=Jw(a,l);return gm.relative(h,g)},gC=e=>e.match({domRange:s=>{const a=ve.fromDom(s.startContainer),l=ve.fromDom(s.endContainer);return Qw(a,s.startOffset,l,s.endOffset)},relative:pC,exact:Qw}),hv=(e,s)=>{const l=(s||document).createDocumentFragment();return le(e,h=>{l.appendChild(h.dom)}),ve.fromDom(l)},AO=e=>{const s=gm.getWin(e).dom,a=(h,g,v,S)=>dC(s,h,g,v,S),l=gC(e);return fC(s,l).match({ltr:a,rtl:a})},IO=(e,s,a)=>A2(e,s,a),mv=(e,s,a)=>{const l=jf(ve.fromDom(a));return IO(l.dom,e,s).map(h=>{const g=a.createRange();return g.setStart(h.start.dom,h.soffset),g.setEnd(h.finish.dom,h.foffset),g}).getOrUndefined()},e_=(e,s)=>je(e)&&je(s)&&e.startContainer===s.startContainer&&e.startOffset===s.startOffset&&e.endContainer===s.endContainer&&e.endOffset===s.endOffset,OO=(e,s,a)=>{let l=e;for(;l&&l!==s;){if(a(l))return l;l=l.parentNode}return null},No=(e,s,a)=>OO(e,s,a)!==null,DO=(e,s,a)=>No(e,s,l=>l.nodeName===a),bf=(e,s)=>$o(e)&&!No(e,s,ul),Du=(e,s,a)=>{const l=s.parentNode;if(l){const h=new Mr(s,e.getParent(l,e.isBlock)||e.getRoot());let g;for(;g=h[a?"prev":"next"]();)if(Vs(g))return!0}return!1},t_=(e,s)=>{var a;return((a=e.previousSibling)===null||a===void 0?void 0:a.nodeName)===s},Yl=(e,s)=>{let a=s;for(;a&&a!==e;){if(eo(a))return!0;a=a.parentNode}return!1},uy=(e,s,a,l,h)=>{const g=e.getRoot(),v=e.schema.getNonEmptyElements(),S=h.parentNode;let A,z;if(!S)return j.none();const W=e.getParent(S,e.isBlock)||g;if(l&&Vs(h)&&s&&e.isEmpty(W))return j.some(dt(S,e.nodeIndex(h)));const U=new Mr(h,W);for(;z=U[l?"prev":"next"]();){if(e.getContentEditableParent(z)==="false"||bf(z,g))return j.none();if(Pt(z)&&z.data.length>0)return DO(z,g,"A")?j.none():j.some(dt(z,l?z.data.length:0));if(e.isBlock(z)||v[z.nodeName.toLowerCase()])return j.none();A=z}return id(A)?j.none():a&&A?j.some(dt(A,0)):j.none()},dy=(e,s,a,l)=>{const h=e.getRoot();let g,v=!1,S=a?l.startContainer:l.endContainer,A=a?l.startOffset:l.endOffset;const z=ht(S)&&A===S.childNodes.length,W=e.schema.getNonEmptyElements();let U=a;if($o(S))return j.none();if(ht(S)&&A>S.childNodes.length-1&&(U=!1),Hc(S)&&(S=h,A=0),S===h){if(U&&(g=S.childNodes[A>0?A-1:0],g&&($o(g)||W[g.nodeName]||hc(g))))return j.none();if(S.hasChildNodes()){if(A=Math.min(!U&&A>0?A-1:A,S.childNodes.length-1),S=S.childNodes[A],A=Pt(S)&&z?S.data.length:0,!s&&S===h.lastChild&&hc(S)||Yl(h,S)||$o(S))return j.none();if(S.hasChildNodes()&&!hc(S)){g=S;const X=new Mr(S,h);do{if(eo(g)||$o(g)){v=!1;break}if(Pt(g)&&g.data.length>0){A=U?0:g.data.length,S=g,v=!0;break}if(W[g.nodeName.toLowerCase()]&&!Bi(g)){A=e.nodeIndex(g),S=g.parentNode,U||A++,v=!0;break}}while(g=U?X.next():X.prev())}}}return s&&(Pt(S)&&A===0&&uy(e,z,s,!0,S).each(X=>{S=X.container(),A=X.offset(),v=!0}),ht(S)&&(g=S.childNodes[A],g||(g=S.childNodes[A-1]),g&&Vs(g)&&!t_(g,"A")&&!Du(e,g,!1)&&!Du(e,g,!0)&&uy(e,z,s,!0,g).each(X=>{S=X.container(),A=X.offset(),v=!0}))),U&&!s&&Pt(S)&&A===S.data.length&&uy(e,z,s,!1,S).each(X=>{S=X.container(),A=X.offset(),v=!0}),v&&S?j.some(dt(S,A)):j.none()},Dp=(e,s)=>{const a=s.collapsed,l=s.cloneRange(),h=dt.fromRangeStart(s);return dy(e,a,!0,l).each(g=>{(!a||!dt.isAbove(h,g))&&l.setStart(g.container(),g.offset())}),a||dy(e,a,!1,l).each(g=>{l.setEnd(g.container(),g.offset())}),a&&l.collapse(!0),e_(s,l)?j.none():j.some(l)},mh=(e,s)=>e.splitText(s),yC=e=>{let s=e.startContainer,a=e.startOffset,l=e.endContainer,h=e.endOffset;if(s===l&&Pt(s)){if(a>0&&a<s.data.length)if(l=mh(s,a),s=l.previousSibling,h>a){h=h-a;const g=mh(l,h).previousSibling;s=l=g,h=g.data.length,a=0}else h=0}else if(Pt(s)&&a>0&&a<s.data.length&&(s=mh(s,a),a=0),Pt(l)&&h>0&&h<l.data.length){const g=mh(l,h).previousSibling;l=g,h=g.data.length}return{startContainer:s,startOffset:a,endContainer:l,endOffset:h}},Mp=e=>({walk:(g,v)=>lv(e,g,v),split:yC,expand:(g,v={type:"word"})=>{if(v.type==="word"){const S=Kl(e,g,[{inline:"span"}]),A=e.createRng();return A.setStart(S.startContainer,S.startOffset),A.setEnd(S.endContainer,S.endOffset),A}return g},normalize:g=>Dp(e,g).fold(Ee,v=>(g.setStart(v.startContainer,v.startOffset),g.setEnd(v.endContainer,v.endOffset),!0))});Mp.compareRanges=e_,Mp.getCaretRangeFromPoint=mv,Mp.getSelectedNode=Ab,Mp.getNode=xl;const T4=((e,s)=>{const a=(S,A)=>{if(!Rn(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const z=S.dom;Ci(z)&&(z.style[e]=A+"px")},l=S=>{const A=s(S);if(A<=0||A===null){const z=dc(S,e);return parseFloat(z)||0}return A},h=l,g=(S,A)=>ye(A,(z,W)=>{const U=dc(S,W),X=U===void 0?0:parseInt(U,10);return isNaN(X)?z:z+X},0);return{set:a,get:l,getOuter:h,aggregate:g,max:(S,A,z)=>{const W=g(S,z);return A>W?A-W:0}}})("height",e=>{const s=e.dom;return td(e)?s.getBoundingClientRect().height:s.offsetHeight}),Oo=e=>T4.get(e),Kc=()=>ve.fromDom(document),Pp=(e,s)=>e.view(s).fold(ot([]),l=>{const h=e.owner(l),g=Pp(e,h);return[l].concat(g)}),MO=(e,s)=>{const a=s.owner(e);return Pp(s,a)};var bC=Object.freeze({__proto__:null,view:e=>{var s;return(e.dom===document?j.none():j.from((s=e.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(ve.fromDom)},owner:e=>Nl(e)});const D2=e=>{const s=Kc(),a=cb(s),l=MO(e,bC),h=Bc(e),g=oe(l,(v,S)=>{const A=Bc(S);return{left:v.left+A.left,top:v.top+A.top}},{left:0,top:0});return fc(g.left+h.left+a.left,g.top+h.top+a.top)},pv=e=>ks(e)==="textarea",PO=(e,s)=>e.dispatch("ScrollIntoView",s).isDefaultPrevented(),fy=(e,s)=>{e.dispatch("AfterScrollIntoView",s)},zp=(e,s)=>{const a=xa(e);if(a.length===0||pv(e))return{element:e,offset:s};if(s<a.length&&!pv(a[s]))return{element:a[s],offset:0};{const l=a[a.length-1];return pv(l)?{element:e,offset:s}:ks(l)==="img"?{element:l,offset:1}:wi(l)?{element:l,offset:tp(l).length}:{element:l,offset:xa(l).length}}},vC=(e,s)=>{const a=N1(e),l=Oo(e);return{element:e,bottom:a.top+l,height:l,pos:a,cleanup:s}},p=(e,s)=>{const a=zp(e,s),l=ve.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+te+"</span>");return Zo(a.element,l),vC(l,()=>hs(l))},b=e=>vC(ve.fromDom(e),It),k=(e,s,a,l)=>{q(e,(h,g)=>P(e,s,a,l),a)},E=(e,s,a,l,h)=>{const g={elm:l.element.dom,alignToTop:h};if(PO(e,g))return;const v=cb(s).top;a(s,v,l,h),fy(e,g)},P=(e,s,a,l)=>{const h=ve.fromDom(e.getBody()),g=ve.fromDom(e.getDoc());D1(h);const v=p(ve.fromDom(a.startContainer),a.startOffset);E(e,g,s,v,l),v.cleanup()},B=(e,s,a,l)=>{const h=ve.fromDom(e.getDoc());E(e,h,a,b(s),l)},q=(e,s,a)=>{const l=a.startContainer,h=a.startOffset,g=a.endContainer,v=a.endOffset;s(ve.fromDom(l),ve.fromDom(g));const S=e.dom.createRng();S.setStart(l,h),S.setEnd(g,v),e.selection.setRng(a)},ee=(e,s)=>e.element.dom.scrollIntoView({block:s?"start":"end"}),ce=(e,s,a,l)=>{const h=s+e,g=a.pos.top,v=a.bottom,S=v-g>=s;g<e?ee(a,l!==!1):g>h?ee(a,S?l!==!1:l===!0):v>h&&!S&&ee(a,l===!0)},we=(e,s,a,l)=>{const h=jf(e).dom.innerHeight;ce(s,h,a,l)},Pe=(e,s,a,l)=>{const h=jf(e).dom.innerHeight;ce(s,h,a,l);const g=D2(a.element),v=kg(window);g.top<v.y?$c(a.element,l!==!1):g.top>v.bottom&&$c(a.element,l===!0)},At=(e,s,a)=>k(e,we,s,a),Xt=(e,s,a)=>B(e,s,we,a),jt=(e,s,a)=>k(e,Pe,s,a),_t=(e,s,a)=>B(e,s,Pe,a),qt=(e,s,a)=>{(e.inline?Xt:_t)(e,s,a)},gt=(e,s,a)=>{(e.inline?At:jt)(e,s,a)},hn=e=>e.dom.focus(),Fn=e=>{const s=yu(e).dom;return e.dom===s.activeElement},Qn=(e=Kc())=>j.from(e.dom.activeElement).map(ve.fromDom),Es=e=>Qn(yu(e)).filter(s=>e.dom.contains(s.dom)),Na=(e,s)=>{const a=wi(s)?tp(s).length:xa(s).length+1;return e>a?a:e<0?0:e},kr=e=>gm.range(e.start,Na(e.soffset,e.start),e.finish,Na(e.foffset,e.finish)),El=(e,s)=>!Fi(s.dom)&&(cc(e,s)||Yo(e,s)),ym=e=>s=>El(e,s.start)&&El(e,s.finish),o_=e=>e.inline||Bo.browser.isFirefox(),wC=e=>gm.range(ve.fromDom(e.startContainer),e.startOffset,ve.fromDom(e.endContainer),e.endOffset),s_=e=>{const s=e.getSelection();return(!s||s.rangeCount===0?j.none():j.from(s.getRangeAt(0))).map(wC)},ls=e=>{const s=jf(e);return s_(s.dom).filter(ym(e))},dl=(e,s)=>j.from(s).filter(ym(e)).map(kr),fl=e=>{const s=document.createRange();try{return s.setStart(e.start.dom,e.soffset),s.setEnd(e.finish.dom,e.foffset),j.some(s)}catch{return j.none()}},_c=e=>{const s=o_(e)?ls(ve.fromDom(e.getBody())):j.none();e.bookmark=s.isSome()?s:e.bookmark},Xl=e=>(e.bookmark?e.bookmark:j.none()).bind(a=>dl(ve.fromDom(e.getBody()),a)).bind(fl),hy=e=>{Xl(e).each(s=>e.selection.setRng(s))},r_={isEditorUIElement:e=>{const s=e.className.toString();return s.indexOf("tox-")!==-1||s.indexOf("mce-")!==-1}},gv=(e,s)=>(Rn(s)||(s=0),setTimeout(e,s)),Yc=(e,s)=>(Rn(s)||(s=0),setInterval(e,s)),Hs={setEditorTimeout:(e,s,a)=>gv(()=>{e.removed||s()},a),setEditorInterval:(e,s,a)=>{const l=Yc(()=>{e.removed?clearInterval(l):s()},a);return l}},zO=e=>e.type==="nodechange"&&e.selectionChange,M2=(e,s)=>{const a=()=>{s.throttle()};ps.DOM.bind(document,"mouseup",a),e.on("remove",()=>{ps.DOM.unbind(document,"mouseup",a)})},P2=(e,s)=>{e.on("mouseup touchend",a=>{s.throttle()})},NO=(e,s)=>{P2(e,s),e.on("keyup NodeChange AfterSetSelectionRange",a=>{zO(a)||_c(e)})},LO=e=>{const s=xi(()=>{_c(e)},0);e.on("init",()=>{e.inline&&M2(e,s),NO(e,s)}),e.on("remove",()=>{s.cancel()})};let bm;const _C=ps.DOM,yv=e=>ht(e)&&r_.isEditorUIElement(e),z2=e=>{const s=e.classList;return s!==void 0?s.contains("tox-edit-area")||s.contains("tox-edit-area__iframe")||s.contains("mce-content-body"):!1},kC=(e,s)=>{const a=AE(e);return _C.getParent(s,h=>yv(h)||(a?e.dom.is(h,a):!1))!==null},a_=e=>{try{const s=yu(ve.fromDom(e.getElement()));return Qn(s).fold(()=>document.body,a=>a.dom)}catch{return document.body}},O7=(e,s)=>{const a=s.editor;LO(a);const l=(h,g)=>{if(HE(h)&&h.inline!==!0){const v=ve.fromDom(h.getContainer());g(v,"tox-edit-focus")}};a.on("focusin",()=>{const h=e.focusedEditor;z2(a_(a))&&l(a,Vf),h!==a&&(h&&h.dispatch("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.dispatch("focus",{blurredEditor:h}),a.focus(!0))}),a.on("focusout",()=>{Hs.setEditorTimeout(a,()=>{const h=e.focusedEditor;(!z2(a_(a))||h!==a)&&l(a,Vh),!kC(a,a_(a))&&h===a&&(a.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),bm||(bm=h=>{const g=e.activeEditor;g&&vg(h).each(v=>{const S=v;S.ownerDocument===document&&S!==document.body&&!kC(g,S)&&e.focusedEditor===g&&(g.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},_C.bind(document,"focusin",bm))},D7=(e,s)=>{e.focusedEditor===s.editor&&(e.focusedEditor=null),!e.activeEditor&&bm&&(_C.unbind(document,"focusin",bm),bm=null)},FO=e=>{e.on("AddEditor",it(O7,e)),e.on("RemoveEditor",it(D7,e))},M7=(e,s)=>e.dom.getParent(s,a=>e.dom.getContentEditable(a)==="true"),R4=e=>e.collapsed?j.from(xl(e.startContainer,e.startOffset)).map(ve.fromDom):j.none(),A4=(e,s)=>R4(s).bind(a=>Kh(a)?j.some(a):cc(e,a)?j.none():j.some(e)),BO=(e,s)=>{A4(ve.fromDom(e.getBody()),s).bind(a=>ql(a.dom)).fold(()=>{e.selection.normalize()},a=>e.selection.setRng(a.toRange()))},$O=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},P7=e=>Fn(e)||Es(e).isSome(),z7=e=>je(e.iframeElement)&&Fn(ve.fromDom(e.iframeElement)),N7=e=>{const s=e.getBody();return s&&P7(ve.fromDom(s))},N2=e=>{const s=yu(ve.fromDom(e.getElement()));return Qn(s).filter(a=>!z2(a.dom)&&kC(e,a.dom)).isSome()},my=e=>e.inline?N7(e):z7(e),I4=e=>my(e)||N2(e),O4=e=>{const s=e.selection,a=e.getBody();let l=s.getRng();e.quirks.refreshContentEditable(),je(e.bookmark)&&!my(e)&&Xl(e).each(g=>{e.selection.setRng(g),l=g});const h=M7(e,s.getNode());if(h&&e.dom.isChildOf(h,a)){$O(h),BO(e,l),L2(e);return}e.inline||(Bo.browser.isOpera()||$O(a),e.getWin().focus()),(Bo.browser.isFirefox()||e.inline)&&($O(a),BO(e,l)),L2(e)},L2=e=>e.editorManager.setActive(e),L7=(e,s)=>{e.removed||(s?L2(e):O4(e))},D4=(e,s,a,l,h)=>{const g=a?s.startContainer:s.endContainer,v=a?s.startOffset:s.endOffset;return j.from(g).map(ve.fromDom).map(S=>!l||!s.collapsed?Uh(S,h(S,v)).getOr(S):S).bind(S=>Cs(S)?j.some(S):Ll(S).filter(Cs)).map(S=>S.dom).getOr(e)},M4=(e,s,a=!1)=>D4(e,s,!0,a,(l,h)=>Math.min(_l(l),h)),P4=(e,s,a=!1)=>D4(e,s,!1,a,(l,h)=>h>0?h-1:h),z4=(e,s)=>{const a=e;for(;e&&Pt(e)&&e.length===0;)e=s?e.nextSibling:e.previousSibling;return e||a},F7=(e,s)=>{if(!s)return e;let a=s.startContainer,l=s.endContainer;const h=s.startOffset,g=s.endOffset;let v=s.commonAncestorContainer;s.collapsed||(a===l&&g-h<2&&a.hasChildNodes()&&(v=a.childNodes[h]),Pt(a)&&Pt(l)&&(a.length===h?a=z4(a.nextSibling,!0):a=a.parentNode,g===0?l=z4(l.previousSibling,!1):l=l.parentNode,a&&a===l&&(v=a)));const S=Pt(v)?v.parentNode:v;return ht(S)?S:e},B7=(e,s,a,l)=>{const h=[],g=e.getRoot(),v=e.getParent(a||M4(g,s,s.collapsed),e.isBlock),S=e.getParent(l||P4(g,s,s.collapsed),e.isBlock);if(v&&v!==g&&h.push(v),v&&S&&v!==S){let A;const z=new Mr(v,g);for(;(A=z.next())&&A!==S;)e.isBlock(A)&&h.push(A)}return S&&v!==S&&S!==g&&h.push(S),h},$7=(e,s,a)=>j.from(s).bind(l=>j.from(l.parentNode).map(h=>{const g=e.nodeIndex(l),v=e.createRng();return v.setStart(h,g),v.setEnd(h,g+1),a&&(ev(e,v,l,!0),ev(e,v,l,!1)),v})),VO=(e,s)=>Ke(s,a=>{const l=e.dispatch("GetSelectionRange",{range:a});return l.range!==a?l.range:a}),V7=e=>ks(e)==="img"?1:wr(e).fold(()=>xa(e).length,s=>s.length),H7=e=>wr(e).filter(s=>s.trim().length!==0||s.indexOf(Qo)>-1).isSome(),U7=e=>qd(e)&&Ni(e,"contenteditable")==="false",F2=["img","br"],HO=e=>H7(e)||Oe(F2,ks(e))||U7(e),N4=e=>I1(e,HO),j7=e=>W7(e,HO),W7=(e,s)=>{const a=l=>{const h=xa(l);for(let g=h.length-1;g>=0;g--){const v=h[g];if(s(v))return j.some(v);const S=a(v);if(S.isSome())return S}return j.none()};return a(e)},L4="[data-mce-autocompleter]",Z7=(e,s)=>{if(F4(ve.fromDom(e.getBody())).isNone()){const a=ve.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());nr(a,ve.fromDom(s.extractContents())),s.insertNode(a.dom),Ll(a).each(l=>l.dom.normalize()),j7(a).map(l=>{e.selection.setCursorLocation(l.dom,V7(l))})}},G7=e=>Fc(e,L4),F4=e=>Wh(e,L4),B4=(e,s)=>F4(s).each(a=>{const l=e.selection.getBookmark();Dr(a),e.selection.moveToBookmark(l)}),q7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},CC=(e,s,a)=>{const l=a?"lastChild":"firstChild",h=a?"prev":"next";if(e[l])return e[l];if(e!==s){let g=e[h];if(g)return g;for(let v=e.parent;v&&v!==s;v=v.parent)if(g=v[h],g)return g}},$4=e=>{var s;const a=(s=e.value)!==null&&s!==void 0?s:"";if(!Jh(a))return!1;const l=e.parent;return!(l&&(l.name!=="span"||l.attr("style"))&&/^[ ]+$/.test(a))},V4=e=>{const s=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||s};class kc{constructor(s,a){this.name=s,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}static create(s,a){const l=new kc(s,q7[s]||1);return a&&Gt(a,(h,g)=>{l.attr(g,h)}),l}replace(s){const a=this;return s.parent&&s.remove(),a.insert(s,a),a.remove(),a}attr(s,a){const l=this;if(!ne(s))return je(s)&&Gt(s,(g,v)=>{l.attr(v,g)}),l;const h=l.attributes;if(h){if(a!==void 0){if(a===null){if(s in h.map){delete h.map[s];let g=h.length;for(;g--;)if(h[g].name===s)return h.splice(g,1),l}return l}if(s in h.map){let g=h.length;for(;g--;)if(h[g].name===s){h[g].value=a;break}}else h.push({name:s,value:a});return h.map[s]=a,l}return h.map[s]}}clone(){const s=this,a=new kc(s.name,s.type),l=s.attributes;if(l){const h=[];h.map={};for(let g=0,v=l.length;g<v;g++){const S=l[g];S.name!=="id"&&(h[h.length]={name:S.name,value:S.value},h.map[S.name]=S.value)}a.attributes=h}return a.value=s.value,a}wrap(s){const a=this;return a.parent&&(a.parent.insert(s,a),s.append(a)),a}unwrap(){const s=this;for(let a=s.firstChild;a;){const l=a.next;s.insert(a,s,!0),a=l}s.remove()}remove(){const s=this,a=s.parent,l=s.next,h=s.prev;return a&&(a.firstChild===s?(a.firstChild=l,l&&(l.prev=null)):h&&(h.next=l),a.lastChild===s?(a.lastChild=h,h&&(h.next=null)):l&&(l.prev=h),s.parent=s.next=s.prev=null),s}append(s){const a=this;s.parent&&s.remove();const l=a.lastChild;return l?(l.next=s,s.prev=l,a.lastChild=s):a.lastChild=a.firstChild=s,s.parent=a,s}insert(s,a,l){s.parent&&s.remove();const h=a.parent||this;return l?(a===h.firstChild?h.firstChild=s:a.prev&&(a.prev.next=s),s.prev=a.prev,s.next=a,a.prev=s):(a===h.lastChild?h.lastChild=s:a.next&&(a.next.prev=s),s.next=a.next,s.prev=a,a.next=s),s.parent=h,s}getAll(s){const a=this,l=[];for(let h=a.firstChild;h;h=CC(h,a))h.name===s&&l.push(h);return l}children(){const s=this,a=[];for(let l=s.firstChild;l;l=l.next)a.push(l);return a}empty(){const s=this;if(s.firstChild){const a=[];for(let h=s.firstChild;h;h=CC(h,s))a.push(h);let l=a.length;for(;l--;){const h=a[l];h.parent=h.firstChild=h.lastChild=h.next=h.prev=null}}return s.firstChild=s.lastChild=null,s}isEmpty(s,a={},l){var h;const g=this;let v=g.firstChild;if(V4(g))return!1;if(v)do{if(v.type===1){if(v.attr("data-mce-bogus"))continue;if(s[v.name]||V4(v))return!1}if(v.type===8||v.type===3&&!$4(v)||v.type===3&&v.parent&&a[v.parent.name]&&Jh((h=v.value)!==null&&h!==void 0?h:"")||l&&l(v))return!1}while(v=CC(v,g));return!0}walk(s){return CC(this,null,s)}}const K7=(e,s)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(s)),H4=(e,s,a=0)=>{const l=e.toLowerCase();if(l.indexOf("[if ",a)!==-1&&K7(l,a)){const h=l.indexOf("[endif]",a);return l.indexOf(">",h)}else if(s){const h=l.indexOf(">",a);return h!==-1?h:l.length}else{const h=/--!?>/g;h.lastIndex=a;const g=h.exec(e);return g?g.index+g[0].length:l.length}},Y7=(e,s,a)=>{const l=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,h=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,g=e.getVoidElements();let v=1,S=a;for(;v!==0;)for(l.lastIndex=S;;){const A=l.exec(s);if(A===null)return S;if(A[1]==="!"){Rr(A[2],"--")?S=H4(s,!1,A.index+3):S=H4(s,!0,A.index+1);break}else{h.lastIndex=l.lastIndex;const z=h.exec(s);if(J(z)||z.index!==l.lastIndex)continue;A[1]==="/"?v-=1:Ln(g,A[2])||(v+=1),S=l.lastIndex+z[0].length;break}}return S},X7=(e,s)=>{const a=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return s.replace(a,"")},U4=(e,s)=>{const a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,l=e.schema;let h=X7(e.getTempAttrs(),s);const g=l.getVoidElements();let v;for(;v=a.exec(h);){const S=a.lastIndex,A=v[0].length;let z;g[v[1]]?z=S:z=Y7(l,h,S),h=h.substring(0,S-A)+h.substring(z),a.lastIndex=S-A}return at(h)},J7=U4,j4=e=>{const s=Ta(e,"[data-mce-bogus]");le(s,a=>{Ni(a,"data-mce-bogus")==="all"?hs(a):pa(a)?(Zo(a,ve.fromText($l)),hs(a)):Dr(a)})},W4=e=>{const s=Ta(e,"input");le(s,a=>{Ir(a,"name")})},Q7=(e,s)=>{const a=Pr(e),l=new RegExp(`^(<${a}[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/${a}>[\r
]*|<br \\/>[\r
]*)$`);return s.replace(l,"")},eH=(e,s)=>{const a=e.getDoc(),l=yu(ve.fromDom(e.getBody())),h=ve.fromTag("div",a);vr(h,"data-mce-bogus","all"),Jm(h,{position:"fixed",left:"-9999999px",top:"0"}),ef(h,s.innerHTML),j4(h),W4(h);const g=T1(l);nr(g,h);const v=at(h.dom.innerText);return hs(h),v},tH=(e,s,a)=>{let l;return s.format==="raw"?l=xt.trim(J7(e.serializer,a.innerHTML)):s.format==="text"?l=eH(e,a):s.format==="tree"?l=e.serializer.serialize(a,s):l=Q7(e,e.serializer.serialize(a,s)),s.format!=="text"&&!Vl(ve.fromDom(a))&&ne(l)?xt.trim(l):l},nH=(e,s)=>j.from(e.getBody()).fold(ot(s.format==="tree"?new kc("body",11):""),a=>tH(e,s,a)),Z4=xt.makeMap,G4=e=>{const s=[];e=e||{};const a=e.indent,l=Z4(e.indent_before||""),h=Z4(e.indent_after||""),g=il.getEncodeFunc(e.entity_encoding||"raw",e.entities),v=e.element_format!=="xhtml";return{start:(S,A,z)=>{if(a&&l[S]&&s.length>0){const W=s[s.length-1];W.length>0&&W!==`
`&&s.push(`
`)}if(s.push("<",S),A)for(let W=0,U=A.length;W<U;W++){const X=A[W];s.push(" ",X.name,'="',g(X.value,!0),'"')}if(!z||v?s[s.length]=">":s[s.length]=" />",z&&a&&h[S]&&s.length>0){const W=s[s.length-1];W.length>0&&W!==`
`&&s.push(`
`)}},end:S=>{let A;s.push("</",S,">"),a&&h[S]&&s.length>0&&(A=s[s.length-1],A.length>0&&A!==`
`&&s.push(`
`))},text:(S,A)=>{S.length>0&&(s[s.length]=A?S:g(S))},cdata:S=>{s.push("<![CDATA[",S,"]]>")},comment:S=>{s.push("<!--",S,"-->")},pi:(S,A)=>{A?s.push("<?",S," ",g(A),"?>"):s.push("<?",S,"?>"),a&&s.push(`
`)},doctype:S=>{s.push("<!DOCTYPE",S,">",a?`
`:"")},reset:()=>{s.length=0},getContent:()=>s.join("").replace(/\n$/,"")}},py=(e={},s=Wl())=>{const a=G4(e);return e.validate="validate"in e?e.validate:!0,{serialize:h=>{const g=e.validate,v={3:A=>{var z;a.text((z=A.value)!==null&&z!==void 0?z:"",A.raw)},8:A=>{var z;a.comment((z=A.value)!==null&&z!==void 0?z:"")},7:A=>{a.pi(A.name,A.value)},10:A=>{var z;a.doctype((z=A.value)!==null&&z!==void 0?z:"")},4:A=>{var z;a.cdata((z=A.value)!==null&&z!==void 0?z:"")},11:A=>{let z=A;if(z=z.firstChild)do S(z);while(z=z.next)}};a.reset();const S=A=>{var z;const W=v[A.type];if(W)W(A);else{const U=A.name,X=U in s.getVoidElements();let fe=A.attributes;if(g&&fe&&fe.length>1){const pe=[];pe.map={};const se=s.getElementRule(A.name);if(se){for(let he=0,Ie=se.attributesOrder.length;he<Ie;he++){const Se=se.attributesOrder[he];if(Se in fe.map){const Me=fe.map[Se];pe.map[Se]=Me,pe.push({name:Se,value:Me})}}for(let he=0,Ie=fe.length;he<Ie;he++){const Se=fe[he].name;if(!(Se in pe.map)){const Me=fe.map[Se];pe.map[Se]=Me,pe.push({name:Se,value:Me})}}fe=pe}}if(a.start(U,fe,X),!X){let pe=A.firstChild;if(pe){(U==="pre"||U==="textarea")&&pe.type===3&&((z=pe.value)===null||z===void 0?void 0:z[0])===`
`&&a.text(`
`,!0);do S(pe);while(pe=pe.next)}a.end(U)}}};return h.type===1&&!e.inner?S(h):h.type===3?v[3](h):v[11](h),a.getContent()}}},q4=new Set;le(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],s=>{q4.add(s)});const K4=["font","text-decoration","text-emphasis"],Sn=(e,s)=>Fr(e.parseStyle(e.getAttrib(s,"style"))),Y4=e=>q4.has(e),X4=(e,s)=>sn(Sn(e,s),a=>!Y4(a)),oH=e=>Ve(e,s=>pt(K4,a=>Rr(s,a))),UO=(e,s,a)=>{const l=Sn(e,s),h=Sn(e,a),g=v=>{var S,A;const z=(S=e.getStyle(s,v))!==null&&S!==void 0?S:"",W=(A=e.getStyle(a,v))!==null&&A!==void 0?A:"";return Jo(z)&&Jo(W)&&z!==W};return pt(l,v=>{const S=A=>pt(A,z=>z===v);if(!S(h)&&S(K4)){const A=oH(h);return pt(A,g)}else return g(v)})},J4=(e,s,a)=>j.from(a.container()).filter(Pt).exists(l=>{const h=e?0:-1;return s(l.data.charAt(a.offset()+h))}),jO=it(J4,!0,ny),WO=it(J4,!1,ny),sH=e=>{const s=e.container();return Pt(s)&&(s.data.length===0||Ce(s.data)&&pm.isBookmarkNode(s.parentNode))},gy=(e,s)=>a=>Sp(e?0:-1,a).filter(s).isSome(),SC=e=>qh(e)&&dc(ve.fromDom(e),"display")==="block",ZO=e=>eo(e)&&!ad(e),Iee=gy(!0,SC),rH=gy(!1,SC),Bn=gy(!0,sl),xC=gy(!1,sl),no=gy(!0,hc),GO=gy(!1,hc),bv=gy(!0,ZO),vv=gy(!1,ZO),aH=e=>e.slice(0,-1),Oee=(e,s,a)=>cc(s,e)?aH(ob(e,l=>a(l)||Yo(l,s))):[],iH=(e,s)=>Oee(e,s,Ee),Np=(e,s)=>[e].concat(iH(e,s)),qO=(e,s,a)=>s2(e,s,a,sH),Pn=(e,s)=>ut(Np(ve.fromDom(s.container()),e),Hi),Q4=(e,s,a)=>qO(e,s.dom,a).forall(l=>Pn(s,a).fold(()=>!zr(l,a,s.dom),h=>!zr(l,a,s.dom)&&cc(h,ve.fromDom(l.container())))),e3=(e,s,a)=>Pn(s,a).fold(()=>qO(e,s.dom,a).forall(l=>!zr(l,a,s.dom)),l=>qO(e,l.dom,a).isNone()),KO=it(e3,!1),i_=it(e3,!0),t3=it(Q4,!1),lH=it(Q4,!0),cH=e=>qb(e).exists(pa),B2=(e,s,a)=>{const l=Ve(Np(ve.fromDom(a.container()),s),Hi),h=_s(l).getOr(s);return bc(e,h.dom,a).filter(cH)},$2=(e,s)=>qb(s).exists(pa)||B2(!0,e,s).isSome(),YO=(e,s)=>QE(s).exists(pa)||B2(!1,e,s).isSome(),Dee=it(B2,!1),Mee=it(B2,!0),n3=e=>dt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),o3=(e,s)=>{const a=Ve(Np(ve.fromDom(s.container()),e),Hi);return _s(a).getOr(e)},s3=(e,s)=>n3(s)?WO(s):WO(s)||Ru(o3(e,s).dom,s).exists(WO),r3=(e,s)=>n3(s)?jO(s):jO(s)||Ri(o3(e,s).dom,s).exists(jO),a3=e=>Oe(["pre","pre-wrap"],e),XO=e=>qb(e).bind(s=>tr(s,Cs)).exists(s=>a3(dc(s,"white-space"))),fo=(e,s)=>Ru(e.dom,s).isNone(),i3=(e,s)=>Ri(e.dom,s).isNone(),V2=(e,s)=>fo(e,s)||i3(e,s)||KO(e,s)||i_(e,s)||YO(e,s)||$2(e,s),l3=e=>je(e)&&eo(e)&&Ik(e),JO=(e,s)=>a=>l3(new Mr(a,e)[s]()),c3=(e,s)=>{const a=Ri(e.dom,s).getOr(s),l=JO(e.dom,"next");return s.isAtEnd()&&(l(s.container())||l(a.container()))},u3=(e,s)=>{const a=Ru(e.dom,s).getOr(s),l=JO(e.dom,"prev");return s.isAtStart()&&(l(s.container())||l(a.container()))},d3=(e,s)=>XO(s)?!1:V2(e,s)||s3(e,s)||r3(e,s),EC=(e,s)=>XO(s)?!1:KO(e,s)||t3(e,s)||YO(e,s)||s3(e,s)||u3(e,s),f3=e=>{const s=e.container(),a=e.offset();return Pt(s)&&a<s.data.length?dt(s,a+1):e},TC=(e,s)=>XO(s)?!1:i_(e,s)||lH(e,s)||$2(e,s)||r3(e,s)||c3(e,s),QO=(e,s)=>EC(e,s)||TC(e,f3(s)),h3=(e,s)=>ty(e.charAt(s)),m3=(e,s)=>ny(e.charAt(s)),uH=e=>{const s=e.container();return Pt(s)&&yr(s.data,Qo)},dH=e=>{const s=e.split("");return Ke(s,(a,l)=>ty(a)&&l>0&&l<s.length-1&&i2(s[l-1])&&i2(s[l+1])?" ":a).join("")},p3=(e,s,a)=>{const l=s.data,h=dt(s,0);return!a&&h3(l,0)&&!QO(e,h)?(s.data=" "+l.slice(1),!0):a&&m3(l,0)&&EC(e,h)?(s.data=Qo+l.slice(1),!0):!1},fH=e=>{const s=e.data,a=dH(s);return a!==s?(e.data=a,!0):!1},H2=(e,s,a)=>{const l=s.data,h=dt(s,l.length-1);return!a&&h3(l,l.length-1)&&!QO(e,h)?(s.data=l.slice(0,-1)+" ",!0):a&&m3(l,l.length-1)&&TC(e,h)?(s.data=l.slice(0,-1)+Qo,!0):!1},eD=(e,s)=>{const a=s.container();if(!Pt(a))return j.none();if(uH(s)){const l=p3(e,a,!1)||fH(a)||H2(e,a,!1);return Ro(l,s)}else if(QO(e,s)){const l=p3(e,a,!0)||H2(e,a,!0);return Ro(l,s)}else return j.none()},hH=e=>{const s=ve.fromDom(e.getBody());e.selection.isCollapsed()&&eD(s,dt.fromRangeStart(e.selection.getRng())).each(a=>{e.selection.setRng(a.toRange())})},g3=(e,s,a)=>{if(a===0)return;const l=ve.fromDom(e),h=Ns(l,Hi).getOr(l),g=e.data.slice(s,s+a),v=s+a>=e.data.length&&TC(h,dt(e,e.data.length)),S=s===0&&EC(h,dt(e,0));e.replaceData(s,a,yb(g,4,S,v))},U2=(e,s)=>{const a=e.data.slice(s),l=a.length-Ju(a).length;g3(e,s,l)},tD=(e,s)=>{const a=e.data.slice(0,s),l=a.length-Qu(a).length;g3(e,s-l,l)},nD=(e,s,a,l=!0)=>{const h=Qu(e.data).length,g=l?e:s,v=l?s:e;return l?g.appendData(v.data):g.insertData(0,v.data),hs(ve.fromDom(v)),a&&U2(g,h),g},mH=(e,s)=>{const a=e.container(),l=e.offset();return!dt.isTextPosition(e)&&a===s.parentNode&&l>dt.before(s).offset()},pH=(e,s)=>mH(s,e)?dt(s.container(),s.offset()-1):s,gH=e=>Pt(e)?dt(e,0):dt.before(e),y3=e=>Pt(e)?dt(e,e.data.length):dt.after(e),b3=e=>is(e.previousSibling)?j.some(y3(e.previousSibling)):e.previousSibling?uh(e.previousSibling):j.none(),v3=e=>is(e.nextSibling)?j.some(gH(e.nextSibling)):e.nextSibling?ql(e.nextSibling):j.none(),wv=(e,s)=>j.from(s.previousSibling?s.previousSibling:s.parentNode).bind(a=>Ru(e,dt.before(a))).orThunk(()=>Ri(e,dt.after(s))),yH=(e,s)=>Ri(e,dt.after(s)).orThunk(()=>Ru(e,dt.before(s))),w3=(e,s)=>b3(s).orThunk(()=>v3(s)).orThunk(()=>wv(e,s)),bH=(e,s)=>v3(s).orThunk(()=>b3(s)).orThunk(()=>yH(e,s)),vH=(e,s,a)=>e?bH(s,a):w3(s,a),_3=(e,s,a)=>vH(e,s,a).map(it(pH,a)),oD=(e,s,a)=>{a.fold(()=>{e.focus()},l=>{e.selection.setRng(l.toRange(),s)})},k3=e=>s=>s.dom===e,C3=(e,s)=>s&&Ln(e.schema.getBlockElements(),ks(s)),Jl=e=>{if(or(e)){const s=ve.fromHtml('<br data-mce-bogus="1">');return ds(e),nr(e,s),j.some(dt.before(s.dom))}else return j.none()},wH=(e,s,a)=>{const l=Fl(e).filter(wi),h=Hh(e).filter(wi);return hs(e),hg(l,h,s,(g,v,S)=>{const A=g.dom,z=v.dom,W=A.data.length;return nD(A,z,a),S.container()===z?dt(A,W):S}).orThunk(()=>(a&&(l.each(g=>tD(g.dom,g.dom.length)),h.each(g=>U2(g.dom,0))),s))},_H=(e,s)=>Ln(e.schema.getTextInlineElements(),ks(s)),_v=(e,s,a,l=!0)=>{const h=_3(s,e.getBody(),a.dom),g=Ns(a,it(C3,e),k3(e.getBody())),v=wH(a,h,_H(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):g.bind(Jl).fold(()=>{l&&oD(e,s,v)},S=>{l&&oD(e,s,j.some(S))})},kH=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,CH=e=>kH.test(e),kd=(e,s)=>Li(ve.fromDom(s),RI(e))&&!Qh(e.schema,s)&&e.dom.isEditable(s),SH=e=>{var s;return ps.DOM.getStyle(e,"direction",!0)==="rtl"||CH((s=e.textContent)!==null&&s!==void 0?s:"")},xH=(e,s,a)=>Ve(ps.DOM.getParents(a.container(),"*",s),e),Us=(e,s,a)=>{const l=xH(e,s,a);return j.from(l[l.length-1])},j2=(e,s,a)=>{const l=dm(s,e),h=dm(a,e);return je(l)&&l===h},Pee=e=>Ui(e)||Aa(e),Qs=(e,s)=>{const a=s.container(),l=s.offset();return e?Wn(a)?Pt(a.nextSibling)?dt(a.nextSibling,0):dt.after(a):Ui(s)?dt(a,l+1):s:Wn(a)?Pt(a.previousSibling)?dt(a.previousSibling,a.previousSibling.data.length):dt.before(a):Aa(s)?dt(a,l-1):s},es=it(Qs,!0),Mu=it(Qs,!1),S3=(e,s)=>{const a=l=>l.stopImmediatePropagation();e.on("beforeinput input",a,!0),e.getDoc().execCommand(s),e.off("beforeinput input",a)},x3=e=>{e.execCommand("delete")},RC=e=>S3(e,"Delete"),sD=e=>S3(e,"ForwardDelete"),E3=e=>s=>$r(Ll(s),e,Yo),T3=e=>xg(e)||li(e),W2=(e,s)=>cc(e,s)?tr(s,T3,E3(e)):j.none(),rD=(e,s=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!s})},aD=(e,s,a)=>fa(ql(a),uh(a),(l,h)=>{const g=Qs(!0,l),v=Qs(!1,h),S=Qs(!1,s);return e?Ri(a,S).exists(A=>A.isEqual(v)&&s.isEqual(g)):Ru(a,S).exists(A=>A.isEqual(g)&&s.isEqual(v))}).getOr(!0),iD=e=>(C1(e)?Fl(e):uc(e)).bind(iD).orThunk(()=>j.some(e)),Cd=(e,s,a,l=!0)=>{var h;s.deleteContents();const g=iD(a).getOr(a),v=ve.fromDom((h=e.dom.getParent(g.dom,e.dom.isBlock))!==null&&h!==void 0?h:a.dom);if(v.dom===e.getBody()?rD(e,l):or(v)&&(D(v),l&&e.selection.setCursorLocation(v.dom,0)),!Yo(a,v)){const S=$r(Ll(v),a)?[]:L0(v);le(S.concat(xa(a)),A=>{!Yo(A,v)&&!cc(A,v)&&or(A)&&hs(A)})}},EH=e=>s=>Yo(e,s),lD=e=>Ta(e,"td,th"),zee=(e,s)=>{const a=z=>sy(ve.fromDom(z),s),l=a(e.startContainer),h=a(e.endContainer),g=l.isSome(),v=h.isSome(),S=fa(l,h,Yo).getOr(!1);return{startTable:l,endTable:h,isStartInTable:g,isEndInTable:v,isSameTable:S,isMultiTable:!S&&g&&v}},AC=(e,s)=>({start:e,end:s}),TH=(e,s,a)=>({rng:e,table:s,cells:a}),Lp=Js.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Z2=(e,s)=>Fc(ve.fromDom(e),"td,th",s),kv=e=>!Yo(e.start,e.end),Pu=(e,s)=>sy(e.start,s).bind(a=>sy(e.end,s).bind(l=>Ro(Yo(a,l),a))),IC=(e,s)=>!kv(e)&&Pu(e,s).exists(a=>{const l=a.dom.rows;return l.length===1&&l[0].cells.length===1}),Ts=(e,s)=>{const a=Z2(e.startContainer,s),l=Z2(e.endContainer,s);return fa(a,l,AC)},OC=e=>s=>sy(s,e).bind(a=>Uo(lD(a)).map(l=>AC(s,l))),R3=e=>s=>sy(s,e).bind(a=>_s(lD(a)).map(l=>AC(l,s))),G2=e=>s=>Pu(s,e).map(a=>TH(s,a,lD(a))),q2=(e,s,a,l)=>{if(a.collapsed||!e.forall(kv))return j.none();if(s.isSameTable){const h=e.bind(G2(l));return j.some({start:h,end:h})}else{const h=Z2(a.startContainer,l),g=Z2(a.endContainer,l),v=h.bind(OC(l)).bind(G2(l)),S=g.bind(R3(l)).bind(G2(l));return j.some({start:v,end:S})}},K2=(e,s)=>zt(e,a=>Yo(a,s)),DC=e=>fa(K2(e.cells,e.rng.start),K2(e.cells,e.rng.end),(s,a)=>e.cells.slice(s,a+1)),cD=(e,s,a)=>e.exists(l=>IC(l,a)&&u2(l.start,s)),MC=(e,s)=>{const{startTable:a,endTable:l}=s,h=e.cloneRange();return a.each(g=>h.setStartAfter(g.dom)),l.each(g=>h.setEndBefore(g.dom)),h},uD=(e,s,a,l)=>q2(e,s,a,l).bind(({start:h,end:g})=>h.or(g)).bind(h=>{const{isSameTable:g}=s,v=DC(h).getOr([]);if(g&&h.cells.length===v.length)return j.some(Lp.fullTable(h.table));if(v.length>0){if(g)return j.some(Lp.partialTable(v,j.none()));{const S=MC(a,s);return j.some(Lp.partialTable(v,j.some({...s,rng:S})))}}else return j.none()}),A3=(e,s,a,l)=>q2(e,s,a,l).bind(({start:h,end:g})=>{const v=h.bind(DC).getOr([]),S=g.bind(DC).getOr([]);if(v.length>0&&S.length>0){const A=MC(a,s);return j.some(Lp.multiTable(v,S,A))}else return j.none()}),I3=(e,s)=>{const a=EH(e),l=Ts(s,a),h=zee(s,a);return cD(l,s,a)?l.map(g=>Lp.singleCellTable(s,g.start)):h.isMultiTable?A3(l,h,s,a):uD(l,h,s,a)},dD=e=>le(e,s=>{Ir(s,"contenteditable"),D(s)}),O3=(e,s)=>j.from(e.dom.getParent(s,e.dom.isBlock)).map(ve.fromDom),D3=(e,s,a)=>{a.each(l=>{s?hs(l):(D(l),e.selection.setCursorLocation(l.dom,0))})},yy=(e,s,a,l)=>{const h=a.cloneRange();l?(h.setStart(a.startContainer,a.startOffset),h.setEndAfter(s.dom.lastChild)):(h.setStartBefore(s.dom.firstChild),h.setEnd(a.endContainer,a.endOffset)),hD(e,h,s,!1).each(g=>g())},fD=e=>{const s=fh(e),a=ve.fromDom(e.selection.getNode());Cl(a.dom)&&or(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),s.length>1&&pt(s,l=>Yo(l,a))&&vr(a,"data-mce-selected","1")},Y2=(e,s,a)=>j.some(()=>{const l=e.selection.getRng(),h=a.bind(({rng:g,isStartInTable:v})=>{const S=O3(e,v?g.endContainer:g.startContainer);g.deleteContents(),D3(e,v,S.filter(or));const A=v?s[0]:s[s.length-1];return yy(e,A,l,v),or(A)?j.none():j.some(v?s.slice(1):s.slice(0,-1))}).getOr(s);dD(h),fD(e)}),RH=(e,s,a,l)=>j.some(()=>{const h=e.selection.getRng(),g=s[0],v=a[a.length-1];yy(e,g,h,!0),yy(e,v,h,!1);const S=or(g)?s:s.slice(1),A=or(v)?a:a.slice(0,-1);dD(S.concat(A)),l.deleteContents(),fD(e)}),hD=(e,s,a,l=!0)=>j.some(()=>{Cd(e,s,a,l)}),M3=(e,s)=>j.some(()=>_v(e,!1,s)),P3=(e,s,a)=>I3(s,a).bind(l=>l.fold(it(hD,e),it(M3,e),it(Y2,e),it(RH,e))),z3=(e,s)=>PC(e,s),X2=(e,s,a,l)=>J2(s,l).fold(()=>P3(e,s,a),h=>z3(e,h)),N3=(e,s,a)=>{const l=ve.fromDom(e.getBody()),h=e.selection.getRng();return a.length!==0?Y2(e,a,j.none()):X2(e,l,h,s)},mD=(e,s)=>ut(Np(s,e),qa),J2=(e,s)=>ut(Np(s,e),Fh("caption")),L3=(e,s,a,l,h)=>Ow(a,e.getBody(),h).bind(g=>mD(s,ve.fromDom(g.getNode())).bind(v=>Yo(v,l)?j.none():j.some(It))),PC=(e,s)=>j.some(()=>{D(s),e.selection.setCursorLocation(s.dom,0)}),F3=(e,s,a,l)=>ql(e.dom).bind(h=>uh(e.dom).map(g=>s?a.isEqual(h)&&l.isEqual(g):a.isEqual(g)&&l.isEqual(h))).getOr(!0),B3=(e,s)=>PC(e,s),$3=(e,s,a)=>J2(e,ve.fromDom(a.getNode())).fold(()=>j.some(It),l=>Ro(!Yo(l,s),It)),V3=(e,s,a,l,h)=>Ow(a,e.getBody(),h).fold(()=>j.some(It),g=>F3(l,a,h,g)?B3(e,l):$3(s,l,g)),H3=(e,s,a,l)=>{const h=dt.fromRangeStart(e.selection.getRng());return mD(a,l).bind(g=>or(g)?PC(e,g):L3(e,a,s,g,h))},U3=(e,s,a,l)=>{const h=dt.fromRangeStart(e.selection.getRng());return or(l)?PC(e,l):V3(e,a,s,l,h)},pD=(e,s)=>e?no(s):GO(s),j3=(e,s)=>{const a=dt.fromRangeStart(e.selection.getRng());return pD(s,a)||bc(s,e.getBody(),a).exists(l=>pD(s,l))},W3=(e,s,a)=>{const l=ve.fromDom(e.getBody());return J2(l,a).fold(()=>H3(e,s,l,a).orThunk(()=>Ro(j3(e,s),It)),h=>U3(e,s,l,h))},Q2=(e,s)=>{const a=ve.fromDom(e.selection.getStart(!0)),l=fh(e);return e.selection.isCollapsed()&&l.length===0?W3(e,s,a):N3(e,a,l)},Fp=(e,s)=>{let a=s;for(;a&&a!==e;){if(Uc(a)||eo(a))return a;a=a.parentNode}return null},eT=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],Z3=xt.each,tT=e=>{const s=e.dom,a=new Set(e.serializer.getTempAttrs()),l=(g,v)=>{if(g.nodeName!==v.nodeName||g.nodeType!==v.nodeType)return!1;const S=z=>{const W={};return Z3(s.getAttribs(z),U=>{const X=U.nodeName.toLowerCase();X!=="style"&&!h(X)&&(W[X]=s.getAttrib(z,X))}),W},A=(z,W)=>{for(const U in z)if(Ln(z,U)){const X=W[U];if(st(X)||z[U]!==X)return!1;delete W[U]}for(const U in W)if(Ln(W,U))return!1;return!0};return ht(g)&&ht(v)&&(!A(S(g),S(v))||!A(s.parseStyle(s.getAttrib(g,"style")),s.parseStyle(s.getAttrib(v,"style"))))?!1:!Ma(g)&&!Ma(v)},h=g=>pt(eT,v=>Rr(g,v))||a.has(g);return{compare:l,isAttributeInternal:h}},nT=(e,s)=>{let a=e;for(;a=a.walk();)s(a)},oT=(e,s,a,l)=>{const h=a.name;for(let g=0,v=e.length;g<v;g++){const S=e[g];if(S.name===h){const A=l.nodes[h];A?A.nodes.push(a):l.nodes[h]={filter:S,nodes:[a]}}}if(a.attributes)for(let g=0,v=s.length;g<v;g++){const S=s[g],A=S.name;if(A in a.attributes.map){const z=l.attributes[A];z?z.nodes.push(a):l.attributes[A]={filter:S,nodes:[a]}}}},zC=(e,s,a)=>{const l={nodes:{},attributes:{}};return a.firstChild&&nT(a,h=>{oT(e,s,h,l)}),l},sT=(e,s)=>{const a=(l,h)=>{Gt(l,g=>{const v=zs(g.nodes);le(g.filter.callbacks,S=>{for(let A=v.length-1;A>=0;A--){const z=v[A];(!(h?z.attr(g.filter.name)!==void 0:z.name===g.filter.name)||wt(z.parent))&&v.splice(A,1)}v.length>0&&S(v,g.filter.name,s)})})};a(e.nodes,!1),a(e.attributes,!0)},gD=(e,s,a,l={})=>{const h=zC(e,s,a);sT(h,l)},by=(e,s,a)=>{if(e.insert&&s(a)){const l=new kc("br",1);l.attr("data-mce-bogus","1"),a.empty().append(l)}else a.empty().append(new kc("#text",3)).value=Qo},yD=e=>{var s;return rT(e,"#text")&&((s=e==null?void 0:e.firstChild)===null||s===void 0?void 0:s.value)===Qo},rT=(e,s)=>{const a=e==null?void 0:e.firstChild;return je(a)&&a===e.lastChild&&a.name===s},NC=(e,s)=>{const a=e.getElementRule(s.name);return(a==null?void 0:a.paddEmpty)===!0},vf=(e,s,a,l)=>l.isEmpty(s,a,h=>NC(e,h)),G3=(e,s)=>je(e)&&(s(e)||e.name==="br"),AH=e=>{let s;for(let a=e;a;a=a.parent){const l=a.attr("contenteditable");if(l==="false")break;l==="true"&&(s=a)}return j.from(s)},aT=(e,s,a=e.parent)=>{if(s.getSpecialElements()[e.name])e.empty().remove();else{const l=e.children();for(const h of l)a&&!s.isValidChild(a.name,h.name)&&aT(h,s,a);e.unwrap()}},iT=(e,s,a,l=It)=>{const h=s.getTextBlockElements(),g=s.getNonEmptyElements(),v=s.getWhitespaceElements(),S=xt.makeMap("tr,td,th,tbody,thead,tfoot,table"),A=new Set,z=W=>W!==a&&!S[W.name];for(let W=0;W<e.length;W++){const U=e[W];let X,fe,pe;if(!U.parent||A.has(U))continue;if(h[U.name]&&U.parent.name==="li"){let he=U.next;for(;he&&h[he.name];){he.name="li",A.add(he),U.parent.insert(he,U.parent);he=he.next}U.unwrap();continue}const se=[U];for(X=U.parent;X&&!s.isValidChild(X.name,U.name)&&z(X);X=X.parent)se.push(X);if(X&&se.length>1)if(s.isValidChild(X.name,U.name)){se.reverse(),fe=se[0].clone(),l(fe);let he=fe;for(let Ie=0;Ie<se.length-1;Ie++){s.isValidChild(he.name,se[Ie].name)&&Ie>0?(pe=se[Ie].clone(),l(pe),he.append(pe)):pe=he;for(let Se=se[Ie].firstChild;Se&&Se!==se[Ie+1];){const Me=Se.next;pe.append(Se),Se=Me}he=pe}vf(s,g,v,fe)?X.insert(U,se[0],!0):(X.insert(fe,se[0],!0),X.insert(U,fe)),X=se[0],(vf(s,g,v,X)||rT(X,"br"))&&X.empty().remove()}else aT(U,s);else if(U.parent){if(U.name==="li"){let he=U.prev;if(he&&(he.name==="ul"||he.name==="ol")){he.append(U);continue}if(he=U.next,he&&(he.name==="ul"||he.name==="ol")&&he.firstChild){he.insert(U,he.firstChild,!0);continue}const Ie=new kc("ul",1);l(Ie),U.wrap(Ie);continue}if(s.isValidChild(U.parent.name,"div")&&s.isValidChild("div",U.name)){const he=new kc("div",1);l(he),U.wrap(he)}else aT(U,s)}}},IH=(e,s)=>{let a=e;for(;a;){if(a.name===s)return!0;a=a.parent}return!1},OH=(e,s,a=s.parent)=>a&&e.children[s.name]&&!e.isValidChild(a.name,s.name)?!0:!!(a&&s.name==="a"&&IH(a,"a")),DH=(e,s,a,l)=>{const h=document.createRange();return h.setStart(e,s),h.setEnd(a,l),h},bD=e=>{const s=dt.fromRangeStart(e),a=dt.fromRangeEnd(e),l=e.commonAncestorContainer;return bc(!1,l,a).map(h=>!zr(s,a,l)&&zr(s,h,l)?DH(s.container(),s.offset(),h.container(),h.offset()):e).getOr(e)},Sd=e=>e.collapsed?e:bD(e),vD=e=>je(e.firstChild)&&e.firstChild===e.lastChild,lT=e=>e.name==="br"||e.value===Qo,wD=(e,s)=>e.getBlockElements()[s.name]&&vD(s)&&lT(s.firstChild),MH=(e,s)=>{const a=e.getNonEmptyElements();return je(s)&&(s.isEmpty(a)||wD(e,s))},q3=(e,s)=>{let a=s.firstChild,l=s.lastChild;return a&&a.name==="meta"&&(a=a.next),l&&l.attr("id")==="mce_marker"&&(l=l.prev),MH(e,l)&&(l=l==null?void 0:l.prev),!a||a!==l?!1:a.name==="ul"||a.name==="ol"},PH=e=>{var s,a;const l=e.firstChild,h=e.lastChild;return l&&l.nodeName==="META"&&((s=l.parentNode)===null||s===void 0||s.removeChild(l)),h&&h.id==="mce_marker"&&((a=h.parentNode)===null||a===void 0||a.removeChild(h)),e},K3=(e,s,a)=>{const l=s.serialize(a),h=e.createFragment(l);return PH(h)},_D=e=>{var s;return Ve((s=e==null?void 0:e.childNodes)!==null&&s!==void 0?s:[],a=>a.nodeName==="LI")},zH=e=>e.data===Qo||Vs(e),Y3=e=>je(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&zH(e.firstChild),NH=e=>!e.firstChild||Y3(e),LC=e=>e.length>0&&NH(e[e.length-1])?e.slice(0,-1):e,cT=(e,s)=>{const a=e.getParent(s,e.isBlock);return a&&a.nodeName==="LI"?a:null},LH=(e,s)=>!!cT(e,s),X3=(e,s)=>{const a=s.cloneRange(),l=s.cloneRange();return a.setStartBefore(e),l.setEndAfter(e),[a.cloneContents(),l.cloneContents()]},FH=(e,s)=>{const a=dt.before(e),h=vd(s).next(a);return h?h.toRange():null},J3=(e,s)=>{const a=dt.after(e),h=vd(s).prev(a);return h?h.toRange():null},BH=(e,s,a,l)=>{const h=X3(e,l),g=e.parentNode;return g&&(g.insertBefore(h[0],e),xt.each(s,v=>{g.insertBefore(v,e)}),g.insertBefore(h[1],e),g.removeChild(e)),J3(s[s.length-1],a)},$H=(e,s,a)=>{const l=e.parentNode;return l&&xt.each(s,h=>{l.insertBefore(h,e)}),FH(e,a)},VH=(e,s,a,l)=>(l.insertAfter(s.reverse(),e),J3(s[0],a)),Q3=(e,s,a,l)=>{const h=K3(s,e,l),g=cT(s,a.startContainer),v=LC(_D(h.firstChild)),S=1,A=2,z=s.getRoot(),W=U=>{const X=dt.fromRangeStart(a),fe=vd(s.getRoot()),pe=U===S?fe.prev(X):fe.next(X),se=pe==null?void 0:pe.getNode();return se?cT(s,se)!==g:!0};return g?W(S)?$H(g,v,z):W(A)?VH(g,v,z,s):BH(g,v,z,a):null},HH=["pre"],kD=(e,s,a,l)=>{var h;const g=s.firstChild,v=s.lastChild,S=v.attr("data-mce-type")==="bookmark"?v.prev:v,A=g===S,z=Oe(HH,g.name);if(A&&z){const W=g.attr("contenteditable")!=="false",U=((h=e.getParent(a,e.isBlock))===null||h===void 0?void 0:h.nodeName.toLowerCase())===g.name,X=j.from(Fp(l,a)).forall(Uc);return W&&U&&X}else return!1},Bp=Cl,UH=(e,s,a)=>{if(je(a)){const l=e.getParent(s.endContainer,Bp);return a===l&&u2(ve.fromDom(a),s)}else return!1},jH=(e,s,a)=>{var l;if(a.getAttribute("data-mce-bogus")==="all")(l=a.parentNode)===null||l===void 0||l.insertBefore(e.dom.createFragment(s),a);else{const h=a.firstChild,g=a.lastChild;!h||h===g&&h.nodeName==="BR"?e.dom.setHTML(a,s):e.selection.setContent(s,{no_events:!0})}},uT=(e,s)=>{j.from(e.getParent(s,"td,th")).map(ve.fromDom).each(Y)},eL=(e,s)=>{const a=e.schema.getTextInlineElements(),l=e.dom;if(s){const h=e.getBody(),g=tT(e);xt.each(l.select("*[data-mce-fragment]"),v=>{if(je(a[v.nodeName.toLowerCase()])&&X4(l,v)){for(let A=v.parentElement;je(A)&&A!==h&&!UO(l,v,A);A=A.parentElement)if(g.compare(A,v)){l.remove(v,!0);break}}})}},tL=e=>{let s=e;for(;s=s.walk();)s.type===1&&s.attr("data-mce-fragment","1")},WH=e=>{xt.each(e.getElementsByTagName("*"),s=>{s.removeAttribute("data-mce-fragment")})},nL=e=>!!e.getAttribute("data-mce-fragment"),ZH=(e,s)=>je(s)&&!e.schema.getVoidElements()[s.nodeName],Cv=(e,s)=>{var a,l,h;let g;const v=e.dom,S=e.selection;if(!s)return;S.scrollIntoView(s);const A=Fp(e.getBody(),s);if(A&&v.getContentEditable(A)==="false"){v.remove(s),S.select(A);return}let z=v.createRng();const W=s.previousSibling;if(Pt(W)){z.setStart(W,(l=(a=W.nodeValue)===null||a===void 0?void 0:a.length)!==null&&l!==void 0?l:0);const fe=s.nextSibling;Pt(fe)&&(W.appendData(fe.data),(h=fe.parentNode)===null||h===void 0||h.removeChild(fe))}else z.setStartBefore(s),z.setEndBefore(s);const U=fe=>{let pe=dt.fromRangeStart(fe);return pe=vd(e.getBody()).next(pe),pe==null?void 0:pe.toRange()},X=v.getParent(s,v.isBlock);v.remove(s),X&&v.isEmpty(X)&&(ds(ve.fromDom(X)),z.setStart(X,0),z.setEnd(X,0),!Bp(X)&&!nL(X)&&(g=U(z))?(z=g,v.remove(X)):v.add(X,v.create("br",{"data-mce-bogus":"1"}))),S.setRng(z)},oL=e=>{const s=e.dom,a=Sd(e.selection.getRng());e.selection.setRng(a);const l=s.getParent(a.startContainer,Bp);UH(s,a,l)?hD(e,a,ve.fromDom(l)):a.startContainer===a.endContainer&&a.endOffset-a.startOffset===1&&Pt(a.startContainer.childNodes[a.startOffset])?a.deleteContents():e.getDoc().execCommand("Delete",!1)},sL=e=>{for(let s=e;s;s=s.walk())if(s.attr("id")==="mce_marker")return j.some(s);return j.none()},rL=(e,s,a)=>{var l,h;const g=e.selection,v=e.dom,S=e.parser,A=a.merge,z=py({validate:!0},e.schema),W='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';s.indexOf("{$caret}")===-1&&(s+="{$caret}"),s=s.replace(/\{\$caret\}/,W);let U=g.getRng();const X=U.startContainer,fe=e.getBody();X===fe&&g.isCollapsed()&&v.isBlock(fe.firstChild)&&ZH(e,fe.firstChild)&&v.isEmpty(fe.firstChild)&&(U=v.createRng(),U.setStart(fe.firstChild,0),U.setEnd(fe.firstChild,0),g.setRng(U)),g.isCollapsed()||oL(e);const pe=g.getNode(),se={context:pe.nodeName.toLowerCase(),data:a.data,insert:!0},he=S.parse(s,se);if(a.paste===!0&&q3(e.schema,he)&&LH(v,pe))return U=Q3(z,v,g.getRng(),he),U&&g.setRng(U),s;a.paste===!0&&kD(v,he,pe,e.getBody())&&((l=he.firstChild)===null||l===void 0||l.unwrap()),tL(he);let Ie=he.lastChild;if(Ie&&Ie.attr("id")==="mce_marker"){const Se=Ie;for(Ie=Ie.prev;Ie;Ie=Ie.walk(!0))if(Ie.type===3||!v.isBlock(Ie.name)){Ie.parent&&e.schema.isValidChild(Ie.parent.name,"span")&&Ie.parent.insert(Se,Ie,Ie.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(pe),!se.invalid)s=z.serialize(he),jH(e,s,pe);else{e.selection.setContent(W);let Se=g.getNode(),Me;const Ze=e.getBody();for(Hc(Se)?Se=Me=Ze:Me=Se;Me&&Me!==Ze;)Se=Me,Me=Me.parentNode;s=Se===Ze?Ze.innerHTML:v.getOuterHTML(Se);const kt=S.parse(s),Zt=sL(kt),Ft=Zt.bind(AH).getOr(kt);Zt.each(Cn=>Cn.replace(he));const et=he.children(),nt=(h=he.parent)!==null&&h!==void 0?h:kt;he.unwrap();const nn=Ve(et,Cn=>OH(e.schema,Cn,nt));iT(nn,e.schema,Ft),gD(S.getNodeFilters(),S.getAttributeFilters(),kt),s=z.serialize(kt),Se===Ze?v.setHTML(Ze,s):v.setOuterHTML(Se,s)}return eL(e,A),Cv(e,v.get("mce_marker")),WH(e.getBody()),uT(v,g.getStart()),sf(e.schema,e.getBody(),g.getStart()),s},Sv=e=>e instanceof kc,aL=e=>{my(e)&&ql(e.getBody()).each(s=>{const a=s.getNode(),l=hc(a)?ql(a).getOr(s):s;e.selection.setRng(l.toRange())})},CD=(e,s,a)=>{e.dom.setHTML(e.getBody(),s),a!==!0&&aL(e)},iL=(e,s,a,l)=>{if(a.length===0||/^\s+$/.test(a)){const h='<br data-mce-bogus="1">';s.nodeName==="TABLE"?a="<tr><td>"+h+"</td></tr>":/^(UL|OL)$/.test(s.nodeName)&&(a="<li>"+h+"</li>");const g=Pr(e);return e.schema.isValidChild(s.nodeName.toLowerCase(),g.toLowerCase())?(a=h,a=e.dom.createHTML(g,fw(e),a)):a||(a=h),CD(e,a,l.no_selection),{content:a,html:a}}else{l.format!=="raw"&&(a=py({validate:!1},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0})));const h=Vl(ve.fromDom(s))?a:xt.trim(a);return CD(e,h,l.no_selection),{content:h,html:h}}},GH=(e,s,a,l)=>{gD(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);const h=py({validate:!1},e.schema).serialize(a),g=Vl(ve.fromDom(s))?h:xt.trim(h);return CD(e,g,l.no_selection),{content:a,html:g}},qH=(e,s,a)=>j.from(e.getBody()).map(l=>Sv(s)?GH(e,l,s,a):iL(e,l,s,a)).getOr({content:s,html:Sv(a.content)?"":a.content}),dT=(e,s,a)=>Ns(e,s,a).isSome(),lL=(e,s)=>nd(e,s).isSome(),fT=e=>ue(e)?e:Ee,KH=(e,s,a)=>{let l=e.dom;const h=fT(a);for(;l.parentNode;){l=l.parentNode;const g=ve.fromDom(l),v=s(g);if(v.isSome())return v;if(h(g))break}return j.none()},SD=(e,s,a)=>{const l=s(e),h=fT(a);return l.orThunk(()=>h(e)?j.none():KH(e,s,h))},hT=Kk,mT=(e,s,a)=>{const l=e.formatter.get(a);if(l)for(let h=0;h<l.length;h++){const g=l[h];if(vc(g)&&g.inherit===!1&&e.dom.is(s,g.selector))return!0}return!1},pT=(e,s,a,l,h)=>{const g=e.dom.getRoot();if(s===g)return!1;const v=e.dom.getParent(s,S=>mT(e,S,a)?!0:S.parentNode===g||!!vm(e,S,a,l,!0));return!!vm(e,v,a,l,h)},gT=(e,s,a)=>jr(a)&&hT(s,a.inline)||qc(a)&&hT(s,a.block)?!0:vc(a)?ht(s)&&e.is(s,a.selector):!1,cL=(e,s,a,l,h,g)=>{const v=a[l],S=l==="attributes";if(ue(a.onmatch))return a.onmatch(s,a,l);if(v){if(fu(v)){for(let A=0;A<v.length;A++)if(S?e.getAttrib(s,v[A]):Uw(e,s,v[A]))return!0}else for(const A in v)if(Ln(v,A)){const z=S?e.getAttrib(s,A):Uw(e,s,A),W=mm(v[A],g),U=wt(z)||tl(z);if(U&&wt(W))continue;if(h&&U&&!a.exact||(!h||a.exact)&&!hT(z,Yk(W,A)))return!1}}return!0},vm=(e,s,a,l,h)=>{const g=e.formatter.get(a),v=e.dom;if(g&&ht(s))for(let S=0;S<g.length;S++){const A=g[S];if(gT(e.dom,s,A)&&cL(v,s,A,"attributes",h,l)&&cL(v,s,A,"styles",h,l)){const z=A.classes;if(z){for(let W=0;W<z.length;W++)if(!e.dom.hasClass(s,mm(z[W],l)))return}return A}}},l_=(e,s,a,l,h)=>{if(l)return pT(e,l,s,a,h);if(l=e.selection.getNode(),pT(e,l,s,a,h))return!0;const g=e.selection.getStart();return!!(g!==l&&pT(e,g,s,a,h))},$p=(e,s,a)=>{const l=[],h={},g=e.selection.getStart();return e.dom.getParent(g,v=>{for(let S=0;S<s.length;S++){const A=s[S];!h[A]&&vm(e,v,A,a)&&(h[A]=!0,l.push(A))}},e.dom.getRoot()),l},YH=(e,s)=>{const a=h=>Yo(h,ve.fromDom(e.getBody())),l=(h,g)=>vm(e,h.dom,g)?j.some(g):j.none();return j.from(e.selection.getStart(!0)).bind(h=>SD(ve.fromDom(h),g=>Dl(s,v=>l(g,v)),a)).getOrNull()},xD=(e,s)=>{const a=e.formatter.get(s),l=e.dom;if(a){const h=e.selection.getStart(),g=hh(l,h);for(let v=a.length-1;v>=0;v--){const S=a[v];if(!vc(S))return!0;for(let A=g.length-1;A>=0;A--)if(l.is(g[A],S.selector))return!0}}return!1},Wr=(e,s,a)=>ye(a,(l,h)=>{const g=tn(e,h);return e.formatter.matchNode(s,h,{},g)?l.concat([h]):l},[]),vy=te,ED=(e,s)=>e.importNode(s,!0),Vp=e=>{const s=[];let a=e;for(;a;){if(Pt(a)&&a.data!==vy||a.childNodes.length>1)return[];ht(a)&&s.push(a),a=a.firstChild}return s},TD=e=>Vp(e).length>0,yT=e=>{if(e){const s=new Mr(e,e);for(let a=s.current();a;a=s.next())if(Pt(a))return a}return null},xv=e=>{const s=ve.fromTag("span");return _i(s,{id:eO,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&nr(s,ve.fromText(vy)),s},XH=e=>{const s=yT(e);return s&&s.data.charAt(0)===vy&&s.deleteData(0,1),s},RD=(e,s,a=!0)=>{const l=e.dom,h=e.selection;if(TD(s))_v(e,!1,ve.fromDom(s),a);else{const g=h.getRng(),v=l.getParent(s,l.isBlock),S=g.startContainer,A=g.startOffset,z=g.endContainer,W=g.endOffset,U=XH(s);l.remove(s,!0),S===U&&A>0&&g.setStart(U,A-1),z===U&&W>0&&g.setEnd(U,W-1),v&&l.isEmpty(v)&&D(ve.fromDom(v)),h.setRng(g)}},wy=(e,s,a=!0)=>{const l=e.dom,h=e.selection;if(s)RD(e,s,a);else if(s=ea(e.getBody(),h.getStart()),!s)for(;s=l.get(eO);)RD(e,s,!1)},JH=(e,s,a)=>{var l,h;const g=e.dom,v=g.getParent(a,it(Gk,e.schema));v&&g.isEmpty(v)?(l=a.parentNode)===null||l===void 0||l.replaceChild(s,a):(Eg(ve.fromDom(a)),g.isEmpty(a)?(h=a.parentNode)===null||h===void 0||h.replaceChild(s,a):g.insertAfter(s,a))},_y=(e,s)=>(e.appendChild(s),s),uL=(e,s)=>{var a;const l=oe(e,(g,v)=>_y(g,v.cloneNode(!1)),s),h=(a=l.ownerDocument)!==null&&a!==void 0?a:document;return _y(l,h.createTextNode(vy))},ky=(e,s,a,l,h,g)=>{const v=e.formatter,S=e.dom,A=Ve(Fr(v.get()),U=>U!==l&&!yr(U,"removeformat")),z=Wr(e,a,A);if(Ve(z,U=>!Pa(e,U,l)).length>0){const U=a.cloneNode(!1);return S.add(s,U),v.remove(l,h,U,g),S.remove(U),j.some(U)}else return j.none()},wf=(e,s,a)=>{let l;const h=e.selection,g=e.formatter.get(s);if(!g)return;const v=h.getRng();let S=v.startOffset;const z=v.startContainer.nodeValue;l=ea(e.getBody(),h.getStart());const W=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(z&&S>0&&S<z.length&&W.test(z.charAt(S))&&W.test(z.charAt(S-1))){const U=h.getBookmark();v.collapse(!0);let X=Kl(e.dom,v,g);X=yC(X),e.formatter.apply(s,a,X),h.moveToBookmark(U)}else{let U=l?yT(l):null;(!l||(U==null?void 0:U.data)!==vy)&&(l=ED(e.getDoc(),xv(!0).dom),U=l.firstChild,v.insertNode(l),S=1),e.formatter.apply(s,a,l),h.setCursorLocation(U,S)}},bT=(e,s,a,l)=>{const h=e.dom,g=e.selection;let v=!1;const S=e.formatter.get(s);if(!S)return;const A=g.getRng(),z=A.startContainer,W=A.startOffset;let U=z;Pt(z)&&(W!==z.data.length&&(v=!0),U=U.parentNode);const X=[];let fe;for(;U;){if(vm(e,U,s,a,l)){fe=U;break}U.nextSibling&&(v=!0),X.push(U),U=U.parentNode}if(!!fe)if(v){const pe=g.getBookmark();A.collapse(!0);let se=Kl(h,A,S,!0);se=yC(se),e.formatter.remove(s,a,se,l),g.moveToBookmark(pe)}else{const pe=ea(e.getBody(),fe),se=xv(!1).dom;JH(e,se,pe!=null?pe:fe);const he=ky(e,se,fe,s,a,l),Ie=uL(X.concat(he.toArray()),se);pe&&RD(e,pe,!1),g.setCursorLocation(Ie,1),h.isEmpty(fe)&&h.remove(fe)}},AD=(e,s)=>{const a=e.selection,l=e.getBody();wy(e,null,!1),(s===8||s===46)&&a.isCollapsed()&&a.getStart().innerHTML===vy&&wy(e,ea(l,a.getStart())),(s===37||s===39)&&wy(e,ea(l,a.getStart()))},QH=e=>{e.on("mouseup keydown",s=>{AD(e,s.keyCode)})},dL=e=>{const s=xv(!1),a=uL(e,s.dom);return{caretContainer:s,caretPosition:dt(a,0)}},FC=(e,s)=>{const{caretContainer:a,caretPosition:l}=dL(s);return Zo(ve.fromDom(e),a),hs(ve.fromDom(e)),l},e9=(e,s)=>{const{caretContainer:a,caretPosition:l}=dL(s);return e.selection.getRng().insertNode(a.dom),l},xd=(e,s)=>{const a=e.schema.getTextInlineElements();return Ln(a,ks(s))&&!ul(s.dom)&&!Ra(s.dom)},BC=e=>ul(e.dom)&&TD(e.dom),c_={},vT=Bl(["pre"]),ID=(e,s)=>{c_[e]||(c_[e]=[]),c_[e].push(s)},Ev=(e,s)=>{Ln(c_,e)&&le(c_[e],a=>{a(s)})};ID("pre",e=>{const s=e.selection.getRng(),a=h=>g=>{const v=g.previousSibling;return vT(v)&&Oe(h,v)},l=(h,g)=>{const v=ve.fromDom(g),S=Nl(v).dom;hs(v),sd(ve.fromDom(h),[ve.fromTag("br",S),ve.fromTag("br",S),...xa(v)])};if(!s.collapsed){const h=e.selection.getSelectedBlocks(),g=Ve(Ve(h,vT),a(h));le(g,v=>{l(v.previousSibling,v)})}});const wT=["fontWeight","fontStyle","color","fontSize","fontFamily"],t9=e=>vt(e.styles)&&pt(Fr(e.styles),s=>Oe(wT,s)),fL=e=>ut(e,s=>jr(s)&&s.inline==="span"&&t9(s)),hL=(e,s)=>{const a=e.get(s);return We(a)?fL(a):j.none()},mL=(e,s)=>Ru(s,dt.fromRangeStart(e)).isNone(),pL=(e,s)=>Ri(s,dt.fromRangeEnd(e)).exists(a=>!Vs(a.getNode())||Ri(s,a).isSome())===!1,gL=e=>s=>$i(s)&&e.isEditable(s),$C=e=>{const s=e.getSelectedBlocks(),a=e.getRng();if(e.isCollapsed())return[];if(s.length===1)return mL(a,s[0])&&pL(a,s[0])?s:[];{const l=_s(s).filter(v=>mL(a,v)).toArray(),h=Uo(s).filter(v=>pL(a,v)).toArray(),g=s.slice(1,-1);return l.concat(g).concat(h)}},n9=e=>Ve($C(e),gL(e.dom)),OD=e=>Ve(e.getSelectedBlocks(),gL(e.dom)),VC=xt.each,DD=e=>ht(e)&&!Ma(e)&&!ul(e)&&!Ra(e),MD=(e,s)=>{for(let a=e;a;a=a[s]){if(Pt(a)&&Jo(a.data))return e;if(ht(a)&&!Ma(a))return a}return e},PD=(e,s,a)=>{const l=tT(e),h=ht(s)&&hm(s),g=ht(a)&&hm(a);if(h&&g){const v=MD(s,"previousSibling"),S=MD(a,"nextSibling");if(l.compare(v,S)){for(let A=v.nextSibling;A&&A!==S;){const z=A;A=A.nextSibling,v.appendChild(z)}return e.dom.remove(S),xt.each(xt.grep(S.childNodes),A=>{v.appendChild(A)}),v}}return a},yL=(e,s,a,l)=>{var h;if(l&&s.merge_siblings!==!1){const g=(h=PD(e,h2(l),l))!==null&&h!==void 0?h:l;PD(e,g,h2(g,!0))}},o9=(e,s,a)=>{if(s.clear_child_styles){const l=s.links?"*:not(a)":"*";VC(e.select(l,a),h=>{DD(h)&&hm(h)&&VC(s.styles,(g,v)=>{e.setStyle(h,v,"")})})}},zD=(e,s,a)=>{VC(e.childNodes,l=>{DD(l)&&(s(l)&&a(l),l.hasChildNodes()&&zD(l,s,a))})},s9=(e,s)=>{s.nodeName==="SPAN"&&e.getAttribs(s).length===0&&e.remove(s,!0)},bL=(e,s)=>a=>!!(a&&Uw(e,a,s)),vL=(e,s,a)=>l=>{e.setStyle(l,s,a),l.getAttribute("style")===""&&l.removeAttribute("style"),s9(e,l)},Tv=Js.generate([{keep:[]},{rename:["name"]},{removed:[]}]),r9=/^(src|href|style)$/,ND=xt.each,_T=Kk,a9=e=>/^(TR|TH|TD)$/.test(e.nodeName),wL=(e,s,a)=>e.isChildOf(s,a)&&s!==a&&!e.isBlock(a),_L=(e,s,a)=>{let l=s[a?"startContainer":"endContainer"],h=s[a?"startOffset":"endOffset"];if(ht(l)){const g=l.childNodes.length-1;!a&&h&&h--,l=l.childNodes[h>g?g:h]}return Pt(l)&&a&&h>=l.data.length&&(l=new Mr(l,e.getBody()).next()||l),Pt(l)&&!a&&h===0&&(l=new Mr(l,e.getBody()).prev()||l),l},LD=(e,s)=>{const a=s?"firstChild":"lastChild",l=e[a];return a9(e)&&l?e.nodeName==="TR"&&l[a]||l:e},FD=(e,s,a,l)=>{var h;const g=e.create(a,l);return(h=s.parentNode)===null||h===void 0||h.insertBefore(g,s),g.appendChild(s),g},Rv=(e,s,a,l,h)=>{const g=ve.fromDom(s),v=ve.fromDom(e.create(l,h)),S=a?wl(g):E1(g);return sd(v,S),a?(Zo(g,v),Xd(v,g)):(od(g,v),nr(v,g)),v.dom},i9=(e,s)=>s.links&&e.nodeName==="A",kL=(e,s,a)=>{const l=s.parentNode;let h;const g=e.dom,v=Pr(e);qc(a)&&l===g.getRoot()&&(!a.list_block||!_T(s,a.list_block))&&le(zs(s.childNodes),S=>{ay(e,v,S.nodeName.toLowerCase())?h?h.appendChild(S):(h=FD(g,S,v),g.setAttribs(h,fw(e))):h=null}),!(Jk(a)&&!_T(a.inline,s))&&g.remove(s,!0)},CL=(e,s,a)=>Rn(e)?{name:s,value:null}:{name:e,value:mm(s,a)},SL=(e,s)=>{e.getAttrib(s,"style")===""&&(s.removeAttribute("style"),s.removeAttribute("data-mce-style"))},BD=(e,s,a,l,h)=>{let g=!1;ND(a.styles,(v,S)=>{const{name:A,value:z}=CL(S,v,l),W=Yk(z,A);(a.remove_similar||J(z)||!ht(h)||_T(Uw(e,h,A),W))&&e.setStyle(s,A,""),g=!0}),g&&SL(e,s)},l9=(e,s,a)=>{s==="removeformat"?le(OD(e.selection),l=>{le(wT,h=>e.dom.setStyle(l,h,"")),SL(e.dom,l)}):hL(e.formatter,s).each(l=>{le(OD(e.selection),h=>BD(e.dom,h,l,a,null))})},xL=(e,s,a,l,h)=>{const g=e.dom,v=tT(e),S=e.schema;if(jr(s)&&eh(S,s.inline)&&Qh(S,l)&&l.parentElement===e.getBody())return kL(e,l,s),Tv.removed();if(!s.ceFalseOverride&&l&&g.getContentEditableParent(l)==="false"||l&&!gT(g,l,s)&&!i9(l,s))return Tv.keep();const A=l,z=s.preserve_attributes;if(jr(s)&&s.remove==="all"&&We(z)){const W=Ve(g.getAttribs(A),U=>Oe(z,U.name.toLowerCase()));if(g.removeAllAttribs(A),le(W,U=>g.setAttrib(A,U.name,U.value)),W.length>0)return Tv.rename("span")}if(s.remove!=="all"){BD(g,A,s,a,h),ND(s.attributes,(U,X)=>{const{name:fe,value:pe}=CL(X,U,a);if(s.remove_similar||J(pe)||!ht(h)||_T(g.getAttrib(h,fe),pe)){if(fe==="class"){const se=g.getAttrib(A,fe);if(se){let he="";if(le(se.split(/\s+/),Ie=>{/mce\-\w+/.test(Ie)&&(he+=(he?" ":"")+Ie)}),he){g.setAttrib(A,fe,he);return}}}if(r9.test(fe)&&A.removeAttribute("data-mce-"+fe),fe==="style"&&Bl(["li"])(A)&&g.getStyle(A,"list-style-type")==="none"){A.removeAttribute(fe),g.setStyle(A,"list-style-type","none");return}fe==="class"&&A.removeAttribute("className"),A.removeAttribute(fe)}}),ND(s.classes,U=>{U=mm(U,a),(!ht(h)||g.hasClass(h,U))&&g.removeClass(A,U)});const W=g.getAttribs(A);for(let U=0;U<W.length;U++){const X=W[U].nodeName;if(!v.isAttributeInternal(X))return Tv.keep()}}return s.remove!=="none"?(kL(e,A,s),Tv.removed()):Tv.keep()},HC=(e,s,a,l,h)=>xL(e,s,a,l,h).fold(Ee,g=>(e.dom.rename(l,g),!0),me),c9=(e,s,a,l,h)=>{let g;return s.parentNode&&le(hh(e.dom,s.parentNode).reverse(),v=>{if(!g&&ht(v)&&v.id!=="_start"&&v.id!=="_end"){const S=vm(e,v,a,l,h);S&&S.split!==!1&&(g=v)}}),g},u9=(e,s,a,l)=>xL(e,s,a,l,l).fold(ot(l),h=>(e.dom.createFragment().appendChild(l),e.dom.rename(l,h)),ot(null)),d9=(e,s,a,l,h,g,v,S)=>{var A,z;let W,U;const X=e.dom;if(a){const fe=a.parentNode;for(let pe=l.parentNode;pe&&pe!==fe;pe=pe.parentNode){let se=X.clone(pe,!1);for(let he=0;he<s.length&&(se=u9(e,s[he],S,se),se!==null);he++);se&&(W&&se.appendChild(W),U||(U=se),W=se)}g&&(!v.mixed||!X.isBlock(a))&&(l=(A=X.split(a,l))!==null&&A!==void 0?A:l),W&&U&&((z=h.parentNode)===null||z===void 0||z.insertBefore(W,h),U.appendChild(h),jr(v)&&yL(e,v,S,W))}return l},EL=(e,s,a,l,h)=>{const g=e.formatter.get(s),v=g[0],S=e.dom,A=e.selection,z=se=>{const he=c9(e,se,s,a,h);return d9(e,g,he,se,se,!0,v,a)},W=se=>Ma(se)&&ht(se)&&(se.id==="_start"||se.id==="_end"),U=se=>pt(g,he=>HC(e,he,a,se,se)),X=se=>{const he=zs(se.childNodes),Se=U(se)||pt(g,kt=>gT(S,se,kt)),Me=se.parentNode;if(!Se&&je(Me)&&iy(v)&&U(Me),v.deep&&he.length)for(let kt=0;kt<he.length;kt++)X(he[kt]);le(["underline","line-through","overline"],kt=>{ht(se)&&e.dom.getStyle(se,"text-decoration")===kt&&se.parentNode&&p2(S,se.parentNode)===kt&&HC(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:kt}},void 0,se)})},fe=se=>{const he=S.get(se?"_start":"_end");if(he){let Ie=he[se?"firstChild":"lastChild"];return W(Ie)&&(Ie=Ie[se?"firstChild":"lastChild"]),Pt(Ie)&&Ie.data.length===0&&(Ie=se?he.previousSibling||he.nextSibling:he.nextSibling||he.previousSibling),S.remove(he,!0),Ie}else return null},pe=se=>{let he,Ie,Se=Kl(S,se,g,se.collapsed);if(v.split){if(Se=yC(Se),he=_L(e,Se,!0),Ie=_L(e,Se),he!==Ie){if(he=LD(he,!0),Ie=LD(Ie,!1),wL(S,he,Ie)){const Ze=j.from(he.firstChild).getOr(he);z(Rv(S,Ze,!0,"span",{id:"_start","data-mce-type":"bookmark"})),fe(!0);return}if(wL(S,Ie,he)){const Ze=j.from(Ie.lastChild).getOr(Ie);z(Rv(S,Ze,!1,"span",{id:"_end","data-mce-type":"bookmark"})),fe(!1);return}he=FD(S,he,"span",{id:"_start","data-mce-type":"bookmark"}),Ie=FD(S,Ie,"span",{id:"_end","data-mce-type":"bookmark"});const Me=S.createRng();Me.setStartAfter(he),Me.setEndBefore(Ie),lv(S,Me,Ze=>{le(Ze,kt=>{!Ma(kt)&&!Ma(kt.parentNode)&&z(kt)})}),z(he),z(Ie),he=fe(!0),Ie=fe()}else he=Ie=z(he);Se.startContainer=he.parentNode?he.parentNode:he,Se.startOffset=S.nodeIndex(he),Se.endContainer=Ie.parentNode?Ie.parentNode:Ie,Se.endOffset=S.nodeIndex(Ie)+1}lv(S,Se,Me=>{le(Me,X)})};if(l){if(ry(l)){const se=S.createRng();se.setStartBefore(l),se.setEndAfter(l),pe(se)}else pe(l);lC(e,s,l,a);return}!A.isCollapsed()||!jr(v)||fh(e).length?(nv(e,()=>d2(e,pe),se=>jr(v)&&l_(e,s,a,se)),e.nodeChanged()):bT(e,s,a,h),l9(e,s,a),lC(e,s,l,a)},TL=xt.each,f9=(e,s,a,l)=>{const h=g=>{if(ht(g)&&ht(g.parentNode)&&hm(g)){const v=p2(e,g.parentNode);e.getStyle(g,"color")&&v?e.setStyle(g,"text-decoration",v):e.getStyle(g,"text-decoration")===v&&e.setStyle(g,"text-decoration",null)}};s.styles&&(s.styles.color||s.styles.textDecoration)&&(xt.walk(l,h,"childNodes"),h(l))},h9=(e,s,a,l)=>{if(s.styles&&s.styles.backgroundColor){const h=bL(e,"fontSize");zD(l,g=>h(g)&&hm(g),vL(e,"backgroundColor",mm(s.styles.backgroundColor,a)))}},$D=(e,s,a,l)=>{if(jr(s)&&(s.inline==="sub"||s.inline==="sup")){const h=bL(e,"fontSize");zD(l,v=>h(v)&&hm(v),vL(e,"fontSize",""));const g=Ve(e.select(s.inline==="sup"?"sub":"sup",l),hm);e.remove(g,!0)}},RL=(e,s,a,l)=>{TL(s,h=>{jr(h)&&TL(e.dom.select(h.inline,l),g=>{DD(g)&&HC(e,h,a,g,h.exact?g:null)}),o9(e.dom,h,l)})},Nee=(e,s,a,l,h)=>{const g=h.parentNode;vm(e,g,a,l)&&HC(e,s,l,h)||s.merge_with_parents&&g&&e.dom.getParent(g,v=>vm(e,v,a,l)?(HC(e,s,l,h),!0):!1)},Cy=xt.each,AL=(e,s,a,l)=>{if(Ck(e)&&jr(s)&&a.parentNode){const h=X0(e.schema),g=lL(ve.fromDom(a),v=>ul(v.dom));return oi(h,l)&&or(ve.fromDom(a.parentNode),!1)&&!g}else return!1},u_=(e,s,a,l)=>{if(Cy(a.styles,(h,g)=>{e.setStyle(s,g,mm(h,l))}),a.styles){const h=e.getAttrib(s,"style");h&&e.setAttrib(s,"data-mce-style",h)}},d_=(e,s,a,l)=>{const h=e.formatter.get(s),g=h[0],v=!l&&e.selection.isCollapsed(),S=e.dom,A=e.selection,z=(pe,se=g)=>{ue(se.onformat)&&se.onformat(pe,se,a,l),u_(S,pe,se,a),Cy(se.attributes,(he,Ie)=>{S.setAttrib(pe,Ie,mm(he,a))}),Cy(se.classes,he=>{const Ie=mm(he,a);S.hasClass(pe,Ie)||S.addClass(pe,Ie)})},W=(pe,se)=>{let he=!1;return Cy(pe,Ie=>vc(Ie)?S.getContentEditable(se)==="false"&&!Ie.ceFalseOverride||je(Ie.collapsed)&&Ie.collapsed!==v?!0:S.is(se,Ie.selector)&&!ul(se)?(z(se,Ie),he=!0,!1):!0:!1),he},U=pe=>{if(ne(pe)){const se=S.create(pe);return z(se),se}else return null},X=(pe,se,he)=>{const Ie=[];let Se=!0;const Me=g.inline||g.block,Ze=U(Me),kt=et=>ta(g)&&vm(e,et,s,a),Zt=(et,nt,nn)=>{const Cn=Au(g)&&Gk(e.schema,et)&&ay(e,nt,Me);return nn&&Cn},Ft=(et,nt,nn,Cn)=>{const On=et.nodeName.toLowerCase(),so=ay(e,Me,On)&&ay(e,nt,Me),Co=!he&&Pt(et)&&Ce(et.data),ts=ul(et),ys=!jr(g)||!pe.isBlock(et);return(nn||Cn)&&so&&!Co&&!ts&&ys};lv(pe,se,et=>{let nt;const nn=Cn=>{let On=!1,so=Se,Co=!1;const ts=Cn.parentNode,ys=ts.nodeName.toLowerCase(),Sr=pe.getContentEditable(Cn);je(Sr)&&(so=Se,Se=Sr==="true",On=!0,Co=m2(e,Cn));const qi=Se&&!On;if(Vs(Cn)&&!AL(e,g,Cn,ys)){nt=null,qc(g)&&pe.remove(Cn);return}if(kt(Cn)){nt=null;return}if(Zt(Cn,ys,qi)){const Fa=pe.rename(Cn,Me);z(Fa),Ie.push(Fa),nt=null;return}if(vc(g)){let Fa=W(h,Cn);if(!Fa&&je(ts)&&iy(g)&&(Fa=W(h,ts)),!jr(g)||Fa){nt=null;return}}je(Ze)&&Ft(Cn,ys,qi,Co)?(nt||(nt=pe.clone(Ze,!1),ts.insertBefore(nt,Cn),Ie.push(nt)),Co&&On&&(Se=so),nt.appendChild(Cn)):(nt=null,le(zs(Cn.childNodes),nn),On&&(Se=so),nt=null)};le(et,nn)}),g.links===!0&&le(Ie,et=>{const nt=nn=>{nn.nodeName==="A"&&z(nn,g),le(zs(nn.childNodes),nt)};nt(et)}),le(Ie,et=>{const nt=On=>{let so=0;return le(On.childNodes,Co=>{!Hw(Co)&&!Ma(Co)&&so++}),so},nn=On=>ut(On.childNodes,Vw).filter(Co=>pe.getContentEditable(Co)!=="false"&&gT(pe,Co,g)).map(Co=>{const ts=pe.clone(Co,!1);return z(ts),pe.replace(ts,On,!0),pe.remove(Co,!0),ts}).getOr(On),Cn=nt(et);if((Ie.length>1||!pe.isBlock(et))&&Cn===0){pe.remove(et,!0);return}(jr(g)||qc(g)&&g.wrapper)&&(!g.exact&&Cn===1&&(et=nn(et)),RL(e,h,a,et),Nee(e,g,s,a,et),h9(pe,g,a,et),f9(pe,g,a,et),$D(pe,g,a,et),yL(e,g,a,et))})},fe=ry(l)?l:A.getNode();if(S.getContentEditable(fe)==="false"&&!m2(e,fe)){l=fe,W(h,l),iC(e,s,l,a);return}if(g){if(l)if(ry(l)){if(!W(h,l)){const pe=S.createRng();pe.setStartBefore(l),pe.setEndAfter(l),X(S,Kl(S,pe,h),!0)}}else X(S,l,!0);else!v||!jr(g)||fh(e).length?(A.setRng(Sd(A.getRng())),nv(e,()=>{d2(e,(pe,se)=>{const he=se?pe:Kl(S,pe,h);X(S,he,!1)})},me),e.nodeChanged()):wf(e,s,a),hL(e.formatter,s).each(pe=>{le(n9(e.selection),se=>u_(S,se,pe,a))});Ev(s,e)}iC(e,s,l,a)},VD=e=>Ln(e,"vars"),Lee=(e,s)=>{e.set({}),s.on("NodeChange",a=>{DL(s,a.element,e.get())}),s.on("FormatApply FormatRemove",a=>{const l=j.from(a.node).map(h=>ry(h)?h:h.startContainer).bind(h=>ht(h)?j.some(h):j.from(h.parentElement)).getOrThunk(()=>IL(s));DL(s,l,e.get())})},IL=e=>e.selection.getStart(),m9=(e,s,a,l,h)=>Ye(s,S=>{const A=e.formatter.matchNode(S,a,h!=null?h:{},l);return!st(A)},S=>mT(e,S,a)?!0:l?!1:je(e.formatter.matchNode(S,a,h,!0))),OL=(e,s)=>{const a=s!=null?s:IL(e);return Ve(hh(e.dom,a),l=>ht(l)&&!Ra(l))},DL=(e,s,a)=>{const l=OL(e,s);Gt(a,(h,g)=>{const v=S=>{const A=m9(e,l,g,S.similar,VD(S)?S.vars:void 0),z=A.isSome();if(S.state.get()!==z){S.state.set(z);const W=A.getOr(s);VD(S)?S.callback(z,{node:W,format:g,parents:l}):le(S.callbacks,U=>U(z,{node:W,format:g,parents:l}))}};le([h.withSimilar,h.withoutSimilar],v),le(h.withVars,v)})},Fee=(e,s,a,l,h,g)=>{const v=s.get();le(a.split(","),S=>{const A=us(v,S).getOrThunk(()=>{const W={withSimilar:{state:Ka(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ka(!1),similar:!1,callbacks:[]},withVars:[]};return v[S]=W,W}),z=()=>{const W=OL(e);return m9(e,W,S,h,g).isSome()};if(st(g)){const W=h?A.withSimilar:A.withoutSimilar;W.callbacks.push(l),W.callbacks.length===1&&W.state.set(z())}else A.withVars.push({state:Ka(z()),similar:h,vars:g,callback:l})}),s.set(v)},p9=(e,s,a)=>{const l=e.get();le(s.split(","),h=>us(l,h).each(g=>{l[h]={withSimilar:{...g.withSimilar,callbacks:Ve(g.withSimilar.callbacks,v=>v!==a)},withoutSimilar:{...g.withoutSimilar,callbacks:Ve(g.withoutSimilar.callbacks,v=>v!==a)},withVars:Ve(g.withVars,v=>v.callback!==a)}})),e.set(l)},ML=(e,s,a,l,h,g)=>(Fee(e,s,a,l,h,g),{unbind:()=>p9(s,a,l)}),g9=(e,s,a,l)=>{const h=e.formatter.get(s);h&&(l_(e,s,a,l)&&(!("toggle"in h[0])||h[0].toggle)?EL(e,s,a,l):d_(e,s,a,l))},HD=xt.explode,PL=()=>{const e={};return{addFilter:(h,g)=>{le(HD(h),v=>{Ln(e,v)||(e[v]={name:v,callbacks:[]}),e[v].callbacks.push(g)})},getFilters:()=>Yu(e),removeFilter:(h,g)=>{le(HD(h),v=>{if(Ln(e,v))if(je(g)){const S=e[v],A=Ve(S.callbacks,z=>z!==g);A.length>0?S.callbacks=A:delete e[v]}else delete e[v]})}}},kT=(e,s)=>{le(s,a=>{e.attr(a,null)})},zL=(e,s,a)=>{e.addNodeFilter("font",l=>{le(l,h=>{const g=s.parse(h.attr("style")),v=h.attr("color"),S=h.attr("face"),A=h.attr("size");v&&(g.color=v),S&&(g["font-family"]=S),A&&Pc(A).each(z=>{g["font-size"]=a[z-1]}),h.name="span",h.attr("style",s.serialize(g)),kT(h,["color","face","size"])})})},La=(e,s,a)=>{e.addNodeFilter("strike",l=>{const h=s.type!=="html4";le(l,g=>{if(h)g.name="s";else{const v=a.parse(g.attr("style"));v["text-decoration"]="line-through",g.name="span",g.attr("style",a.serialize(v))}})})},Bee=(e,s,a)=>{var l;const h=oh();s.convert_fonts_to_spans&&zL(e,h,xt.explode((l=s.font_size_legacy_values)!==null&&l!==void 0?l:"")),La(e,a,h)},$ee=(e,s,a)=>{s.inline_styles&&Bee(e,s,a)},Vee=e=>fetch(e).then(s=>s.ok?s.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),Hee=e=>{const s=/([a-z0-9+\/=\s]+)/i.exec(e);return s?s[1]:""},zu=e=>{const[s,...a]=e.split(","),l=a.join(","),h=/data:([^/]+\/[^;]+)(;.+)?/.exec(s);if(h){const g=h[2]===";base64",v=g?Hee(l):decodeURIComponent(l);return j.some({type:h[1],data:v,base64Encoded:g})}else return j.none()},UC=(e,s,a=!0)=>{let l=s;if(a)try{l=atob(s)}catch{return j.none()}const h=new Uint8Array(l.length);for(let g=0;g<h.length;g++)h[g]=l.charCodeAt(g);return j.some(new Blob([h],{type:e}))},Av=e=>new Promise((s,a)=>{zu(e).bind(({type:l,data:h,base64Encoded:g})=>UC(l,h,g)).fold(()=>a("Invalid data URI"),s)}),Iv=e=>Rr(e,"blob:")?Vee(e):Rr(e,"data:")?Av(e):Promise.reject("Unknown URI format"),NL=e=>new Promise((s,a)=>{const l=new FileReader;l.onloadend=()=>{s(l.result)},l.onerror=()=>{var h;a((h=l.error)===null||h===void 0?void 0:h.message)},l.readAsDataURL(e)});let y9=0;const f_=e=>(e||"blobid")+y9++,Ov=(e,s,a)=>zu(e).bind(({data:l,type:h,base64Encoded:g})=>{if(s&&!g)return j.none();{const v=g?l:btoa(l);return a(v,h)}}),Dv=(e,s,a)=>{const l=e.create(f_(),s,a);return e.add(l),l},LL=(e,s,a=!1)=>Ov(s,a,(l,h)=>j.from(e.getByData(l,h)).orThunk(()=>UC(h,l).map(g=>Dv(e,g,l)))),UD=(e,s)=>{const a=()=>Promise.reject("Invalid data URI");if(Rr(s,"blob:")){const l=e.getByUri(s);return je(l)?Promise.resolve(l):Iv(s).then(h=>NL(h).then(g=>Ov(g,!1,v=>j.some(Dv(e,h,v))).getOrThunk(a)))}else return Rr(s,"data:")?LL(e,s).fold(a,l=>Promise.resolve(l)):Promise.reject("Unknown image data format")},FL=e=>je(e.attr("data-mce-bogus")),BL=e=>e.attr("src")===Bo.transparentSrc||je(e.attr("data-mce-placeholder")),b9=(e,s)=>{const{blob_cache:a}=s;if(a){const l=h=>{const g=h.attr("src");BL(h)||FL(h)||wt(g)||LL(a,g,!0).each(v=>{h.attr("src",v.blobUri())})};e.addAttributeFilter("src",h=>le(h,l))}},v9=(e,s)=>{const a=e.schema;s.remove_trailing_brs&&e.addNodeFilter("br",(h,g,v)=>{const S=xt.extend({},a.getBlockElements()),A=a.getNonEmptyElements(),z=a.getWhitespaceElements();S.body=1;const W=U=>U.name in S&&q0(a,U);for(let U=0,X=h.length;U<X;U++){let fe=h[U],pe=fe.parent;if(pe&&S[pe.name]&&fe===pe.lastChild){let se=fe.prev;for(;se;){const he=se.name;if(he!=="span"||se.attr("data-mce-type")!=="bookmark"){he==="br"&&(fe=null);break}se=se.prev}if(fe&&(fe.remove(),vf(a,A,z,pe))){const he=a.getElementRule(pe.name);he&&(he.removeEmpty?pe.remove():he.paddEmpty&&by(v,W,pe))}}else{let se=fe;for(;pe&&pe.firstChild===se&&pe.lastChild===se&&(se=pe,!S[pe.name]);)pe=pe.parent;if(se===pe){const he=new kc("#text",3);he.value=Qo,fe.replace(he)}}}}),e.addAttributeFilter("href",h=>{let g=h.length;const v=A=>A.split(" ").filter(W=>W.length>0).concat(["noopener"]).sort().join(" "),S=A=>{const z=A?xt.trim(A):"";return/\b(noopener)\b/g.test(z)?z:v(z)};if(!s.allow_unsafe_link_target)for(;g--;){const A=h[g];A.name==="a"&&A.attr("target")==="_blank"&&A.attr("rel",S(A.attr("rel")))}}),s.allow_html_in_named_anchor||e.addAttributeFilter("id,name",h=>{let g=h.length,v,S,A,z;for(;g--;)if(z=h[g],z.name==="a"&&z.firstChild&&!z.attr("href"))for(A=z.parent,v=z.lastChild;v&&A;)S=v.prev,A.insert(v,z),v=S}),s.fix_list_elements&&e.addNodeFilter("ul,ol",h=>{let g=h.length,v,S;for(;g--;)if(v=h[g],S=v.parent,S&&(S.name==="ul"||S.name==="ol"))if(v.prev&&v.prev.name==="li")v.prev.append(v);else{const A=new kc("li",1);A.attr("style","list-style-type: none"),v.wrap(A)}});const l=a.getValidClasses();s.validate&&l&&e.addAttributeFilter("class",h=>{var g;let v=h.length;for(;v--;){const S=h[v],A=(g=S.attr("class"))!==null&&g!==void 0?g:"",z=xt.explode(A," ");let W="";for(let U=0;U<z.length;U++){const X=z[U];let fe=!1,pe=l["*"];pe&&pe[X]&&(fe=!0),pe=l[S.name],!fe&&pe&&pe[X]&&(fe=!0),fe&&(W&&(W+=" "),W+=X)}W.length||(W=null),S.attr("class",W)}}),b9(e,s)};function Sy(e){return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Sy(e)}function jD(e,s){return jD=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},jD(e,s)}function w9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function CT(e,s,a){return w9()?CT=Reflect.construct:CT=function(h,g,v){var S=[null];S.push.apply(S,g);var A=Function.bind.apply(h,S),z=new A;return v&&jD(z,v.prototype),z},CT.apply(null,arguments)}function ph(e){return _9(e)||$L(e)||k9(e)||VL()}function _9(e){if(Array.isArray(e))return Mv(e)}function $L(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k9(e,s){if(!!e){if(typeof e=="string")return Mv(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Mv(e,s)}}function Mv(e,s){(s==null||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}function VL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C9=Object.hasOwnProperty,WD=Object.setPrototypeOf,S9=Object.isFrozen,HL=Object.getPrototypeOf,x9=Object.getOwnPropertyDescriptor,Xc=Object.freeze,gh=Object.seal,UL=Object.create,ZD=typeof Reflect<"u"&&Reflect,jC=ZD.apply,ST=ZD.construct;jC||(jC=function(s,a,l){return s.apply(a,l)}),Xc||(Xc=function(s){return s}),gh||(gh=function(s){return s}),ST||(ST=function(s,a){return CT(s,ph(a))});var jL=yh(Array.prototype.forEach),E9=yh(Array.prototype.pop),WC=yh(Array.prototype.push),xT=yh(String.prototype.toLowerCase),GD=yh(String.prototype.match),_f=yh(String.prototype.replace),WL=yh(String.prototype.indexOf),ZL=yh(String.prototype.trim),Rl=yh(RegExp.prototype.test),qD=xy(TypeError);function yh(e){return function(s){for(var a=arguments.length,l=new Array(a>1?a-1:0),h=1;h<a;h++)l[h-1]=arguments[h];return jC(e,s,l)}}function xy(e){return function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return ST(e,a)}}function cs(e,s){WD&&WD(e,null);for(var a=s.length;a--;){var l=s[a];if(typeof l=="string"){var h=xT(l);h!==l&&(S9(s)||(s[a]=h),l=h)}e[l]=!0}return e}function Ey(e){var s=UL(null),a;for(a in e)jC(C9,e,[a])&&(s[a]=e[a]);return s}function Ty(e,s){for(;e!==null;){var a=x9(e,s);if(a){if(a.get)return yh(a.get);if(typeof a.value=="function")return yh(a.value)}e=HL(e)}function l(h){return console.warn("fallback value for",h),null}return l}var KD=Xc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ZC=Xc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ET=Xc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),GL=Xc(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),YD=Xc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),T9=Xc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),qL=Xc(["#text"]),TT=Xc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),XD=Xc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),JD=Xc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),RT=Xc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),R9=gh(/\{\{[\w\W]*|[\w\W]*\}\}/gm),A9=gh(/<%[\w\W]*|[\w\W]*%>/gm),Pv=gh(/^data-[\-\w.\u00B7-\uFFFF]/),KL=gh(/^aria-[\-\w]+$/),I9=gh(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),YL=gh(/^(?:\w+script|data):/i),O9=gh(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),XL=gh(/^html$/i),GC=function(){return typeof window>"u"?null:window},QD=function(s,a){if(Sy(s)!=="object"||typeof s.createPolicy!="function")return null;var l=null,h="data-tt-policy-suffix";a.currentScript&&a.currentScript.hasAttribute(h)&&(l=a.currentScript.getAttribute(h));var g="dompurify"+(l?"#"+l:"");try{return s.createPolicy(g,{createHTML:function(S){return S}})}catch{return console.warn("TrustedTypes policy "+g+" could not be created."),null}};function JL(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:GC(),s=function(ct){return JL(ct)};if(s.version="2.3.8",s.removed=[],!e||!e.document||e.document.nodeType!==9)return s.isSupported=!1,s;var a=e.document,l=e.document,h=e.DocumentFragment,g=e.HTMLTemplateElement,v=e.Node,S=e.Element,A=e.NodeFilter,z=e.NamedNodeMap,W=z===void 0?e.NamedNodeMap||e.MozNamedAttrMap:z,U=e.HTMLFormElement,X=e.DOMParser,fe=e.trustedTypes,pe=S.prototype,se=Ty(pe,"cloneNode"),he=Ty(pe,"nextSibling"),Ie=Ty(pe,"childNodes"),Se=Ty(pe,"parentNode");if(typeof g=="function"){var Me=l.createElement("template");Me.content&&Me.content.ownerDocument&&(l=Me.content.ownerDocument)}var Ze=QD(fe,a),kt=Ze?Ze.createHTML(""):"",Zt=l,Ft=Zt.implementation,et=Zt.createNodeIterator,nt=Zt.createDocumentFragment,nn=Zt.getElementsByTagName,Cn=a.importNode,On={};try{On=Ey(l).documentMode?l.documentMode:{}}catch{}var so={};s.isSupported=typeof Se=="function"&&Ft&&typeof Ft.createHTMLDocument<"u"&&On!==9;var Co=R9,ts=A9,ys=Pv,Sr=KL,qi=YL,Fa=O9,Bt=I9,pn=null,Lo=cs({},[].concat(ph(KD),ph(ZC),ph(ET),ph(YD),ph(qL))),Jt=null,Tn=cs({},[].concat(ph(TT),ph(XD),ph(JD),ph(RT))),Dn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Qt=null,po=null,ao=!0,hi=!0,js=!1,qn=!1,Vo=!1,Zr=!1,As=!1,dr=!1,rs=!1,Ws=!1,oa=!0,Dd=!0,Ki=!1,Eh={},Vu=null,Qv=cs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),e1=null,Ef=cs({},["audio","video","img","source","image","track"]),Tf=null,_a=cs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Md="http://www.w3.org/1998/Math/MathML",Th="http://www.w3.org/2000/svg",Pd="http://www.w3.org/1999/xhtml",zd=Pd,Am=!1,Ba,Xp=["application/xhtml+xml","text/html"],Im="text/html",Rf,By=null,K_=l.createElement("form"),Y_=function(ct){return ct instanceof RegExp||ct instanceof Function},X_=function(ct){By&&By===ct||((!ct||Sy(ct)!=="object")&&(ct={}),ct=Ey(ct),pn="ALLOWED_TAGS"in ct?cs({},ct.ALLOWED_TAGS):Lo,Jt="ALLOWED_ATTR"in ct?cs({},ct.ALLOWED_ATTR):Tn,Tf="ADD_URI_SAFE_ATTR"in ct?cs(Ey(_a),ct.ADD_URI_SAFE_ATTR):_a,e1="ADD_DATA_URI_TAGS"in ct?cs(Ey(Ef),ct.ADD_DATA_URI_TAGS):Ef,Vu="FORBID_CONTENTS"in ct?cs({},ct.FORBID_CONTENTS):Qv,Qt="FORBID_TAGS"in ct?cs({},ct.FORBID_TAGS):{},po="FORBID_ATTR"in ct?cs({},ct.FORBID_ATTR):{},Eh="USE_PROFILES"in ct?ct.USE_PROFILES:!1,ao=ct.ALLOW_ARIA_ATTR!==!1,hi=ct.ALLOW_DATA_ATTR!==!1,js=ct.ALLOW_UNKNOWN_PROTOCOLS||!1,qn=ct.SAFE_FOR_TEMPLATES||!1,Vo=ct.WHOLE_DOCUMENT||!1,dr=ct.RETURN_DOM||!1,rs=ct.RETURN_DOM_FRAGMENT||!1,Ws=ct.RETURN_TRUSTED_TYPE||!1,As=ct.FORCE_BODY||!1,oa=ct.SANITIZE_DOM!==!1,Dd=ct.KEEP_CONTENT!==!1,Ki=ct.IN_PLACE||!1,Bt=ct.ALLOWED_URI_REGEXP||Bt,zd=ct.NAMESPACE||Pd,ct.CUSTOM_ELEMENT_HANDLING&&Y_(ct.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Dn.tagNameCheck=ct.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ct.CUSTOM_ELEMENT_HANDLING&&Y_(ct.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Dn.attributeNameCheck=ct.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ct.CUSTOM_ELEMENT_HANDLING&&typeof ct.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Dn.allowCustomizedBuiltInElements=ct.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ba=Xp.indexOf(ct.PARSER_MEDIA_TYPE)===-1?Ba=Im:Ba=ct.PARSER_MEDIA_TYPE,Rf=Ba==="application/xhtml+xml"?function(gn){return gn}:xT,qn&&(hi=!1),rs&&(dr=!0),Eh&&(pn=cs({},ph(qL)),Jt=[],Eh.html===!0&&(cs(pn,KD),cs(Jt,TT)),Eh.svg===!0&&(cs(pn,ZC),cs(Jt,XD),cs(Jt,RT)),Eh.svgFilters===!0&&(cs(pn,ET),cs(Jt,XD),cs(Jt,RT)),Eh.mathMl===!0&&(cs(pn,YD),cs(Jt,JD),cs(Jt,RT))),ct.ADD_TAGS&&(pn===Lo&&(pn=Ey(pn)),cs(pn,ct.ADD_TAGS)),ct.ADD_ATTR&&(Jt===Tn&&(Jt=Ey(Jt)),cs(Jt,ct.ADD_ATTR)),ct.ADD_URI_SAFE_ATTR&&cs(Tf,ct.ADD_URI_SAFE_ATTR),ct.FORBID_CONTENTS&&(Vu===Qv&&(Vu=Ey(Vu)),cs(Vu,ct.FORBID_CONTENTS)),Dd&&(pn["#text"]=!0),Vo&&cs(pn,["html","head","body"]),pn.table&&(cs(pn,["tbody"]),delete Qt.tbody),Xc&&Xc(ct),By=ct)},sN=cs({},["mi","mo","mn","ms","mtext"]),iA=cs({},["foreignobject","desc","title","annotation-xml"]),rN=cs({},["title","style","font","a","script"]),Rh=cs({},ZC);cs(Rh,ET),cs(Rh,GL);var $y=cs({},YD);cs($y,T9);var Ge=function(ct){var gn=Se(ct);(!gn||!gn.tagName)&&(gn={namespaceURI:Pd,tagName:"template"});var Hn=xT(ct.tagName),Lr=xT(gn.tagName);return ct.namespaceURI===Th?gn.namespaceURI===Pd?Hn==="svg":gn.namespaceURI===Md?Hn==="svg"&&(Lr==="annotation-xml"||sN[Lr]):Boolean(Rh[Hn]):ct.namespaceURI===Md?gn.namespaceURI===Pd?Hn==="math":gn.namespaceURI===Th?Hn==="math"&&iA[Lr]:Boolean($y[Hn]):ct.namespaceURI===Pd?gn.namespaceURI===Th&&!iA[Lr]||gn.namespaceURI===Md&&!sN[Lr]?!1:!$y[Hn]&&(rN[Hn]||!Rh[Hn]):!1},qe=function(ct){WC(s.removed,{element:ct});try{ct.parentNode.removeChild(ct)}catch{try{ct.outerHTML=kt}catch{ct.remove()}}},$t=function(ct,gn){try{WC(s.removed,{attribute:gn.getAttributeNode(ct),from:gn})}catch{WC(s.removed,{attribute:null,from:gn})}if(gn.removeAttribute(ct),ct==="is"&&!Jt[ct])if(dr||rs)try{qe(gn)}catch{}else try{gn.setAttribute(ct,"")}catch{}},Mt=function(ct){var gn,Hn;if(As)ct="<remove></remove>"+ct;else{var Lr=GD(ct,/^[\r\n\t ]+/);Hn=Lr&&Lr[0]}Ba==="application/xhtml+xml"&&(ct='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ct+"</body></html>");var Hu=Ze?Ze.createHTML(ct):ct;if(zd===Pd)try{gn=new X().parseFromString(Hu,Ba)}catch{}if(!gn||!gn.documentElement){gn=Ft.createDocument(zd,"template",null);try{gn.documentElement.innerHTML=Am?"":Hu}catch{}}var Ql=gn.body||gn.documentElement;return ct&&Hn&&Ql.insertBefore(l.createTextNode(Hn),Ql.childNodes[0]||null),zd===Pd?nn.call(gn,Vo?"html":"body")[0]:Vo?gn.documentElement:Ql},En=function(ct){return et.call(ct.ownerDocument||ct,ct,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT,null,!1)},Fo=function(ct){return ct instanceof U&&(typeof ct.nodeName!="string"||typeof ct.textContent!="string"||typeof ct.removeChild!="function"||!(ct.attributes instanceof W)||typeof ct.removeAttribute!="function"||typeof ct.setAttribute!="function"||typeof ct.namespaceURI!="string"||typeof ct.insertBefore!="function")},Fs=function(ct){return Sy(v)==="object"?ct instanceof v:ct&&Sy(ct)==="object"&&typeof ct.nodeType=="number"&&typeof ct.nodeName=="string"},Bs=function(ct,gn,Hn){!so[ct]||jL(so[ct],function(Lr){Lr.call(s,gn,Hn,By)})},Nd=function(ct){var gn;if(Bs("beforeSanitizeElements",ct,null),Fo(ct)||Rl(/[\u0080-\uFFFF]/,ct.nodeName))return qe(ct),!0;var Hn=Rf(ct.nodeName);if(Bs("uponSanitizeElement",ct,{tagName:Hn,allowedTags:pn}),ct.hasChildNodes()&&!Fs(ct.firstElementChild)&&(!Fs(ct.content)||!Fs(ct.content.firstElementChild))&&Rl(/<[/\w]/g,ct.innerHTML)&&Rl(/<[/\w]/g,ct.textContent)||Hn==="select"&&Rl(/<template/i,ct.innerHTML))return qe(ct),!0;if(!pn[Hn]||Qt[Hn]){if(!Qt[Hn]&&O8(Hn)&&(Dn.tagNameCheck instanceof RegExp&&Rl(Dn.tagNameCheck,Hn)||Dn.tagNameCheck instanceof Function&&Dn.tagNameCheck(Hn)))return!1;if(Dd&&!Vu[Hn]){var Lr=Se(ct)||ct.parentNode,Hu=Ie(ct)||ct.childNodes;if(Hu&&Lr)for(var Ql=Hu.length,ec=Ql-1;ec>=0;--ec)Lr.insertBefore(se(Hu[ec],!0),he(ct))}return qe(ct),!0}return ct instanceof S&&!Ge(ct)||(Hn==="noscript"||Hn==="noembed")&&Rl(/<\/no(script|embed)/i,ct.innerHTML)?(qe(ct),!0):(qn&&ct.nodeType===3&&(gn=ct.textContent,gn=_f(gn,Co," "),gn=_f(gn,ts," "),ct.textContent!==gn&&(WC(s.removed,{element:ct.cloneNode()}),ct.textContent=gn)),Bs("afterSanitizeElements",ct,null),!1)},t1=function(ct,gn,Hn){if(oa&&(gn==="id"||gn==="name")&&(Hn in l||Hn in K_))return!1;if(!(hi&&!po[gn]&&Rl(ys,gn))){if(!(ao&&Rl(Sr,gn))){if(!Jt[gn]||po[gn]){if(!(O8(ct)&&(Dn.tagNameCheck instanceof RegExp&&Rl(Dn.tagNameCheck,ct)||Dn.tagNameCheck instanceof Function&&Dn.tagNameCheck(ct))&&(Dn.attributeNameCheck instanceof RegExp&&Rl(Dn.attributeNameCheck,gn)||Dn.attributeNameCheck instanceof Function&&Dn.attributeNameCheck(gn))||gn==="is"&&Dn.allowCustomizedBuiltInElements&&(Dn.tagNameCheck instanceof RegExp&&Rl(Dn.tagNameCheck,Hn)||Dn.tagNameCheck instanceof Function&&Dn.tagNameCheck(Hn))))return!1}else if(!Tf[gn]){if(!Rl(Bt,_f(Hn,Fa,""))){if(!((gn==="src"||gn==="xlink:href"||gn==="href")&&ct!=="script"&&WL(Hn,"data:")===0&&e1[ct])){if(!(js&&!Rl(qi,_f(Hn,Fa,"")))){if(Hn)return!1}}}}}}return!0},O8=function(ct){return ct.indexOf("-")>0},LS=function(ct){var gn,Hn,Lr,Hu;Bs("beforeSanitizeAttributes",ct,null);var Ql=ct.attributes;if(!!Ql){var ec={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Jt};for(Hu=Ql.length;Hu--;){gn=Ql[Hu];var lA=gn,tc=lA.name,xc=lA.namespaceURI;Hn=tc==="value"?gn.value:ZL(gn.value),Lr=Rf(tc);var Om=Hn;if(ec.attrName=Lr,ec.attrValue=Hn,ec.keepAttr=!0,ec.forceKeepAttr=void 0,Bs("uponSanitizeAttribute",ct,ec),Hn=ec.attrValue,!ec.forceKeepAttr){if(!ec.keepAttr){$t(tc,ct);continue}if(Rl(/\/>/i,Hn)){$t(tc,ct);continue}qn&&(Hn=_f(Hn,Co," "),Hn=_f(Hn,ts," "));var JY=Rf(ct.nodeName);if(!t1(JY,Lr,Hn)){$t(tc,ct);continue}if(Hn!==Om)try{xc?ct.setAttributeNS(xc,tc,Hn):ct.setAttribute(tc,Hn)}catch{$t(tc,ct)}}}Bs("afterSanitizeAttributes",ct,null)}},Ah=function ho(ct){var gn,Hn=En(ct);for(Bs("beforeSanitizeShadowDOM",ct,null);gn=Hn.nextNode();)Bs("uponSanitizeShadowNode",gn,null),!Nd(gn)&&(gn.content instanceof h&&ho(gn.content),LS(gn));Bs("afterSanitizeShadowDOM",ct,null)};return s.sanitize=function(ho,ct){var gn,Hn,Lr,Hu,Ql;if(Am=!ho,Am&&(ho="<!-->"),typeof ho!="string"&&!Fs(ho)){if(typeof ho.toString!="function")throw qD("toString is not a function");if(ho=ho.toString(),typeof ho!="string")throw qD("dirty is not a string, aborting")}if(!s.isSupported){if(Sy(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof ho=="string")return e.toStaticHTML(ho);if(Fs(ho))return e.toStaticHTML(ho.outerHTML)}return ho}if(Zr||X_(ct),s.removed=[],typeof ho=="string"&&(Ki=!1),Ki){if(ho.nodeName){var ec=Rf(ho.nodeName);if(!pn[ec]||Qt[ec])throw qD("root node is forbidden and cannot be sanitized in-place")}}else if(ho instanceof v)gn=Mt("<!---->"),Hn=gn.ownerDocument.importNode(ho,!0),Hn.nodeType===1&&Hn.nodeName==="BODY"||Hn.nodeName==="HTML"?gn=Hn:gn.appendChild(Hn);else{if(!dr&&!qn&&!Vo&&ho.indexOf("<")===-1)return Ze&&Ws?Ze.createHTML(ho):ho;if(gn=Mt(ho),!gn)return dr?null:Ws?kt:""}gn&&As&&qe(gn.firstChild);for(var lA=En(Ki?ho:gn);Lr=lA.nextNode();)Lr.nodeType===3&&Lr===Hu||Nd(Lr)||(Lr.content instanceof h&&Ah(Lr.content),LS(Lr),Hu=Lr);if(Hu=null,Ki)return ho;if(dr){if(rs)for(Ql=nt.call(gn.ownerDocument);gn.firstChild;)Ql.appendChild(gn.firstChild);else Ql=gn;return Jt.shadowroot&&(Ql=Cn.call(a,Ql,!0)),Ql}var tc=Vo?gn.outerHTML:gn.innerHTML;return Vo&&pn["!doctype"]&&gn.ownerDocument&&gn.ownerDocument.doctype&&gn.ownerDocument.doctype.name&&Rl(XL,gn.ownerDocument.doctype.name)&&(tc="<!DOCTYPE "+gn.ownerDocument.doctype.name+`>
`+tc),qn&&(tc=_f(tc,Co," "),tc=_f(tc,ts," ")),Ze&&Ws?Ze.createHTML(tc):tc},s.setConfig=function(ho){X_(ho),Zr=!0},s.clearConfig=function(){By=null,Zr=!1},s.isValidAttribute=function(ho,ct,gn){By||X_({});var Hn=Rf(ho),Lr=Rf(ct);return t1(Hn,Lr,gn)},s.addHook=function(ho,ct){typeof ct=="function"&&(so[ho]=so[ho]||[],WC(so[ho],ct))},s.removeHook=function(ho){if(so[ho])return E9(so[ho])},s.removeHooks=function(ho){so[ho]&&(so[ho]=[])},s.removeAllHooks=function(){so={}},s}var QL=JL();const eF=xt.each,eM=xt.trim,tM=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],nM={ftp:21,http:80,https:443,mailto:25},tF=["img","video"],nF=(e,s)=>je(e)?!e:je(s)?!Oe(tF,s):!0,D9=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},bh=(e,s,a)=>{const l=D9(s).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(l)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(l)?nF(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(l):/^data:/i.test(l)};class Ed{constructor(s,a={}){this.path="",this.directory="",s=eM(s),this.settings=a;const l=a.base_uri,h=this;if(/^([\w\-]+):([^\/]{2})/i.test(s)||/^\s*#/.test(s)){h.source=s;return}const g=s.indexOf("//")===0;if(s.indexOf("/")===0&&!g&&(s=(l&&l.protocol||"http")+"://mce_host"+s),!/^[\w\-]*:?\/\//.test(s)){const S=l?l.path:new Ed(document.location.href).directory;if((l==null?void 0:l.protocol)==="")s="//mce_host"+h.toAbsPath(S,s);else{const A=/([^#?]*)([#?]?.*)/.exec(s);A&&(s=(l&&l.protocol||"http")+"://mce_host"+h.toAbsPath(S,A[1])+A[2])}}s=s.replace(/@@/g,"(mce_at)");const v=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(s);v&&eF(tM,(S,A)=>{let z=v[A];z&&(z=z.replace(/\(mce_at\)/g,"@@")),h[S]=z}),l&&(h.protocol||(h.protocol=l.protocol),h.userInfo||(h.userInfo=l.userInfo),!h.port&&h.host==="mce_host"&&(h.port=l.port),(!h.host||h.host==="mce_host")&&(h.host=l.host),h.source=""),g&&(h.protocol="")}static parseDataUri(s){let a;const l=decodeURIComponent(s).split(","),h=/data:([^;]+)/.exec(l[0]);return h&&(a=h[1]),{type:a,data:l[1]}}static isDomSafe(s,a,l={}){if(l.allow_script_urls)return!0;{const h=il.decode(s).replace(/[\s\u0000-\u001F]+/g,"");return!bh(l,h,a)}}static getDocumentBaseUrl(s){var a;let l;return s.protocol.indexOf("http")!==0&&s.protocol!=="file:"?l=(a=s.href)!==null&&a!==void 0?a:"":l=s.protocol+"//"+s.host+s.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(l)&&(l=l.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(l)||(l+="/")),l}setPath(s){const a=/^(.*?)\/?(\w+)?$/.exec(s);a&&(this.path=a[0],this.directory=a[1],this.file=a[2]),this.source="",this.getURI()}toRelative(s){if(s==="./")return s;const a=new Ed(s,{base_uri:this});if(a.host!=="mce_host"&&this.host!==a.host&&a.host||this.port!==a.port||this.protocol!==a.protocol&&a.protocol!=="")return a.getURI();const l=this.getURI(),h=a.getURI();if(l===h||l.charAt(l.length-1)==="/"&&l.substr(0,l.length-1)===h)return l;let g=this.toRelPath(this.path,a.path);return a.query&&(g+="?"+a.query),a.anchor&&(g+="#"+a.anchor),g}toAbsolute(s,a){const l=new Ed(s,{base_uri:this});return l.getURI(a&&this.isSameOrigin(l))}isSameOrigin(s){if(this.host==s.host&&this.protocol==s.protocol){if(this.port==s.port)return!0;const a=this.protocol?nM[this.protocol]:null;if(a&&(this.port||a)==(s.port||a))return!0}return!1}toRelPath(s,a){let l=0,h="",g,v;const S=s.substring(0,s.lastIndexOf("/")).split("/"),A=a.split("/");if(S.length>=A.length){for(g=0,v=S.length;g<v;g++)if(g>=A.length||S[g]!==A[g]){l=g+1;break}}if(S.length<A.length){for(g=0,v=A.length;g<v;g++)if(g>=S.length||S[g]!==A[g]){l=g+1;break}}if(l===1)return a;for(g=0,v=S.length-(l-1);g<v;g++)h+="../";for(g=l-1,v=A.length;g<v;g++)g!==l-1?h+="/"+A[g]:h+=A[g];return h}toAbsPath(s,a){let l=0;const h=/\/$/.test(a)?"/":"",g=s.split("/"),v=a.split("/"),S=[];eF(g,U=>{U&&S.push(U)});const A=[];for(let U=v.length-1;U>=0;U--)if(!(v[U].length===0||v[U]===".")){if(v[U]===".."){l++;continue}if(l>0){l--;continue}A.push(v[U])}const z=S.length-l;let W;return z<=0?W=_n(A).join("/"):W=S.slice(0,z).join("/")+"/"+_n(A).join("/"),W.indexOf("/")!==0&&(W="/"+W),h&&W.lastIndexOf("/")!==W.length-1&&(W+=h),W}getURI(s=!1){let a;return(!this.source||s)&&(a="",s||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source}}const M9=xt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),oM="data-mce-type";let sM=0;const rM=(e,s,a,l)=>{var h,g,v,S;const A=s.validate,z=a.getSpecialElements();e.nodeType===Hr&&!s.allow_conditional_comments&&/^\[if/i.test((h=e.nodeValue)!==null&&h!==void 0?h:"")&&(e.nodeValue=" "+e.nodeValue);const W=(g=l==null?void 0:l.tagName)!==null&&g!==void 0?g:e.nodeName.toLowerCase();if(e.nodeType!==Gd||W==="body")return;const U=ve.fromDom(e),X=Ga(U,oM),fe=Ni(U,"data-mce-bogus");if(!X&&ne(fe)){fe==="all"?hs(U):Dr(U);return}const pe=a.getElementRule(W);if(A&&!pe){Ln(z,W)?hs(U):Dr(U);return}else je(l)&&(l.allowedTags[W]=!0);if(A&&pe&&!X){if(le((v=pe.attributesForced)!==null&&v!==void 0?v:[],se=>{vr(U,se.name,se.value==="{$uid}"?`mce_${sM++}`:se.value)}),le((S=pe.attributesDefault)!==null&&S!==void 0?S:[],se=>{Ga(U,se.name)||vr(U,se.name,se.value==="{$uid}"?`mce_${sM++}`:se.value)}),pe.attributesRequired&&!pt(pe.attributesRequired,se=>Ga(U,se))){Dr(U);return}if(pe.removeEmptyAttrs&&vl(U)){Dr(U);return}pe.outputName&&pe.outputName!==W&&yI(U,pe.outputName)}},h_=(e,s,a,l,h)=>!(l in M9&&bh(e,h,a))&&(!e.validate||s.isValid(a,l)||Rr(l,"data-")||Rr(l,"aria-")),oF=(e,s)=>e.hasAttribute(oM)&&(s==="id"||s==="class"||s==="style"),sF=(e,s)=>e in s.getBoolAttrs(),P9=(e,s,a)=>{const{attributes:l}=e;for(let h=l.length-1;h>=0;h--){const g=l[h],v=g.name,S=g.value;!h_(s,a,e.tagName.toLowerCase(),v,S)&&!oF(e,v)?e.removeAttribute(v):sF(v,a)&&e.setAttribute(v,v)}},z9=(e,s)=>{const a=QL();return a.addHook("uponSanitizeElement",(l,h)=>{rM(l,e,s,h)}),a.addHook("uponSanitizeAttribute",(l,h)=>{const g=l.tagName.toLowerCase(),{attrName:v,attrValue:S}=h;h.keepAttr=h_(e,s,g,v,S),h.keepAttr?(h.allowedAttributes[v]=!0,sF(v,s)&&(h.attrValue=v),e.allow_svg_data_urls&&Rr(S,"data:image/svg+xml")&&(h.forceKeepAttr=!0)):oF(l,v)&&(h.forceKeepAttr=!0)}),a},N9=(e,s)=>{const l={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return l.PARSER_MEDIA_TYPE=s,e.allow_script_urls?l.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(l.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),l},rF=(e,s)=>{if(e.sanitize){const a=z9(e,s);return(l,h)=>{a.sanitize(l,N9(e,h)),a.removed=[]}}else return(a,l)=>{const h=document.createNodeIterator(a,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let g;for(;g=h.nextNode();)rM(g,e,s),ht(g)&&P9(g,e,s)}},aF=xt.makeMap,iF=xt.extend,lF=(e,s,a)=>{const l=e.name,h=l in a&&l!=="title"&&l!=="textarea",g=s.childNodes;for(let v=0,S=g.length;v<S;v++){const A=g[v],z=new kc(A.nodeName.toLowerCase(),A.nodeType);if(ht(A)){const W=A.attributes;for(let U=0,X=W.length;U<X;U++){const fe=W[U];z.attr(fe.name,fe.value)}}else Pt(A)?(z.value=A.data,h&&(z.raw=!0)):(id(A)||pb(A)||V0(A))&&(z.value=A.data);lF(z,A,a),e.append(z)}},cF=(e,s,a)=>{const l=[];for(let h=e,g=h;h;g=h,h=h.walk()){const v=h;le(s,S=>S(v)),wt(v.parent)&&v!==e?h=g:l.push(v)}for(let h=l.length-1;h>=0;h--){const g=l[h];le(a,v=>v(g))}},aM=(e,s,a,l)=>{const h=a.validate,g=s.getNonEmptyElements(),v=s.getWhitespaceElements(),S=iF(aF("script,style,head,html,body,title,meta,param"),s.getBlockElements()),A=X0(s),z=/[ \t\r\n]+/g,W=/^[ \t\r\n]+/,U=/[ \t\r\n]+$/,X=Se=>{let Me=Se.parent;for(;je(Me);){if(Me.name in v)return!0;Me=Me.parent}return!1},fe=Se=>{let Me=Se;for(;je(Me);){if(Me.name in A)return vf(s,g,v,Me);Me=Me.parent}return!1},pe=Se=>Se.name in S&&!q0(s,Se),se=(Se,Me)=>{const Ze=Me?Se.prev:Se.next;return je(Ze)||wt(Se.parent)?!1:pe(Se.parent)&&(Se.parent!==e||l.isRootContent===!0)};return[Se=>{var Me;if(Se.type===3&&!X(Se)){let Ze=(Me=Se.value)!==null&&Me!==void 0?Me:"";Ze=Ze.replace(z," "),(G3(Se.prev,pe)||se(Se,!0))&&(Ze=Ze.replace(W,"")),Ze.length===0?Se.remove():Se.value=Ze}},Se=>{var Me;if(Se.type===1){const Ze=s.getElementRule(Se.name);if(h&&Ze){const kt=vf(s,g,v,Se);Ze.paddInEmptyBlock&&kt&&fe(Se)?by(l,pe,Se):Ze.removeEmpty&&kt?pe(Se)?Se.remove():Se.unwrap():Ze.paddEmpty&&(kt||yD(Se))&&by(l,pe,Se)}}else if(Se.type===3&&!X(Se)){let Ze=(Me=Se.value)!==null&&Me!==void 0?Me:"";(Se.next&&pe(Se.next)||se(Se,!1))&&(Ze=Ze.replace(U,"")),Ze.length===0?Se.remove():Se.value=Ze}}]},uF=(e,s)=>{var a;const l=(a=s.forced_root_block)!==null&&a!==void 0?a:e.forced_root_block;return l===!1?"":l===!0?"p":l},zv=(e={},s=Wl())=>{const a=PL(),l=PL(),h={validate:!0,root_name:"body",sanitize:!0,...e},g=new DOMParser,v=rF(h,s),S=(Me,Ze,kt="html")=>{const Zt=kt==="xhtml"?"application/xhtml+xml":"text/html",Ft=Ln(s.getSpecialElements(),Ze.toLowerCase()),et=Ft?`<${Ze}>${Me}</${Ze}>`:Me,nt=kt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${et}</body></html>`:`<body>${et}</body>`,nn=g.parseFromString(nt,Zt).body;return v(nn,Zt),Ft?nn.firstChild:nn},A=a.addFilter,z=a.getFilters,W=a.removeFilter,U=l.addFilter,X=l.getFilters,fe=l.removeFilter,pe=(Me,Ze)=>{OH(s,Me)&&Ze.push(Me)},se=(Me,Ze)=>{const kt=ne(Ze.attr(oM)),Zt=Ze.type===1&&!Ln(Me,Ze.name)&&!xx(s,Ze);return Ze.type===3||Zt&&!kt},he=(Me,Ze)=>{const kt=iF(aF("script,style,head,html,body,title,meta,param"),s.getBlockElements()),Zt=/^[ \t\r\n]+/,Ft=/[ \t\r\n]+$/;let et=Me.firstChild,nt=null;const nn=Cn=>{var On,so;Cn&&(et=Cn.firstChild,et&&et.type===3&&(et.value=(On=et.value)===null||On===void 0?void 0:On.replace(Zt,"")),et=Cn.lastChild,et&&et.type===3&&(et.value=(so=et.value)===null||so===void 0?void 0:so.replace(Ft,"")))};if(!!s.isValidChild(Me.name,Ze.toLowerCase())){for(;et;){const Cn=et.next;se(kt,et)?(nt||(nt=new kc(Ze,1),nt.attr(h.forced_root_block_attrs),Me.insert(nt,et)),nt.append(et)):(nn(nt),nt=null),et=Cn}nn(nt)}},Se={schema:s,addAttributeFilter:U,getAttributeFilters:X,removeAttributeFilter:fe,addNodeFilter:A,getNodeFilters:z,removeNodeFilter:W,parse:(Me,Ze={})=>{var kt;const Zt=h.validate,Ft=(kt=Ze.context)!==null&&kt!==void 0?kt:h.root_name,et=S(Me,Ft,Ze.format);vb(s,et);const nt=new kc(Ft,11);lF(nt,et,s.getSpecialElements()),et.innerHTML="";const[nn,Cn]=aM(nt,s,h,Ze),On=[],so=Zt?Sr=>pe(Sr,On):It,Co={nodes:{},attributes:{}},ts=Sr=>oT(z(),X(),Sr,Co);if(cF(nt,[nn,ts],[Cn,so]),On.reverse(),Zt&&On.length>0)if(Ze.context){const{pass:Sr,fail:qi}=Qe(On,Fa=>Fa.parent===nt);iT(qi,s,nt,ts),Ze.invalid=Sr.length>0}else iT(On,s,nt,ts);const ys=uF(h,Ze);return ys&&(nt.name==="body"||Ze.isRootContent)&&he(nt,ys),Ze.invalid||sT(Co,Ze),nt}};return v9(Se,h),$ee(Se,h,s),Se},iM=e=>Sv(e)?py({validate:!1}).serialize(e):e,lM=(e,s,a)=>{const l=iM(e),h=s(l);if(h.isDefaultPrevented())return h;if(Sv(e))if(h.content!==l){const g=zv({validate:!1,forced_root_block:!1,sanitize:a}).parse(h.content,{context:e.name});return{...h,content:g}}else return{...h,content:e};else return h},cM=(e,s)=>{if(s.no_events)return Xs.value(s);{const a=C2(e,s);return a.isDefaultPrevented()?Xs.error(qw(e,{content:"",...a}).content):Xs.value(a)}},uM=(e,s,a)=>a.no_events?s:lM(s,h=>qw(e,{...a,content:h}),_w(e)).content,AT=(e,s)=>{if(s.no_events)return Xs.value(s);{const a=lM(s.content,l=>k2(e,{...s,content:l}),_w(e));return a.isDefaultPrevented()?(Gw(e,a),Xs.error(void 0)):Xs.value(a)}},dM=(e,s,a)=>{a.no_events||Gw(e,{...a,content:s})},qC=(e,s,a)=>({element:e,width:s,rows:a}),dF=(e,s)=>({element:e,cells:s}),IT=(e,s)=>({x:e,y:s}),fF=(e,s)=>Lc(e,s).bind(Pc).getOr(1),L9=(e,s,a,l,h)=>{const g=fF(h,"rowspan"),v=fF(h,"colspan"),S=e.rows;for(let A=a;A<a+g;A++){S[A]||(S[A]=dF(Xx(l),[]));for(let z=s;z<s+v;z++){const W=S[A].cells;W[z]=A===a&&z===s?h:rm(h)}}},F9=(e,s,a)=>{const l=e.rows;return!!(l[a]?l[a].cells:[])[s]},hF=(e,s,a)=>{for(;F9(e,s,a);)s++;return s},fM=e=>ye(e,(s,a)=>a.cells.length>s?a.cells.length:s,0),mF=(e,s)=>{const a=e.rows;for(let l=0;l<a.length;l++){const h=a[l].cells;for(let g=0;g<h.length;g++)if(Yo(h[g],s))return j.some(IT(g,l))}return j.none()},pF=(e,s,a,l,h)=>{const g=[],v=e.rows;for(let S=a;S<=h;S++){const A=v[S].cells,z=s<l?A.slice(s,l+1):A.slice(l,s+1);g.push(dF(v[S].element,z))}return g},B9=(e,s,a)=>{const l=s.x,h=s.y,g=a.x,v=a.y,S=h<v?pF(e,l,h,g,v):pF(e,l,v,g,h);return qC(e.element,fM(S),S)},$9=(e,s)=>{const a=rm(e.element),l=ve.fromTag("tbody");return sd(l,s),nr(a,l),a},gF=e=>Ke(e.rows,s=>{const a=Ke(s.cells,h=>{const g=Xx(h);return Ir(g,"colspan"),Ir(g,"rowspan"),g}),l=rm(s.element);return sd(l,a),l}),Uee=e=>{const s=qC(rm(e),0,[]);return le(Ta(e,"tr"),(a,l)=>{le(Ta(a,"td,th"),(h,g)=>{L9(s,hF(s,g,l),l,a,h)})}),qC(s.element,fM(s.rows),s.rows)},V9=e=>$9(e,gF(e)),H9=(e,s,a)=>mF(e,s).bind(l=>mF(e,a).map(h=>B9(e,l,h))),U9=e=>ut(e,s=>ks(s)==="ul"||ks(s)==="ol"),j9=(e,s)=>ut(e,a=>ks(a)==="li"&&u2(a,s)).fold(ot([]),a=>U9(e).map(l=>{const h=ve.fromTag(ks(l)),g=bs(kl(l),(v,S)=>Rr(S,"list-style"));return Jm(h,g),[ve.fromTag("li"),h]}).getOr([])),W9=(e,s)=>{const a=ye(s,(l,h)=>(nr(h,l),h),e);return s.length>0?hv([a]):a},Z9=e=>li(e)?Ll(e).filter(Be).fold(ot([]),s=>[e,s]):Be(e)?[e]:[],G9=(e,s)=>{const a=ve.fromDom(s.commonAncestorContainer),l=Np(a,e),h=Ve(l,Ur),g=j9(l,s),v=h.concat(g.length?g:Z9(a));return Ke(v,rm)},hM=()=>hv([]),q9=(e,s)=>W9(ve.fromDom(s.cloneContents()),G9(e,s)),K9=(e,s)=>Ea(s,"table",it(Yo,e)),Y9=(e,s)=>K9(e,s[0]).bind(a=>{const l=s[0],h=s[s.length-1],g=Uee(a);return H9(g,l,h).map(v=>hv([V9(v)]))}).getOrThunk(hM),X9=(e,s)=>s.length>0&&s[0].collapsed?hM():q9(e,s[0]),J9=(e,s)=>{const a=c2(s,e);return a.length>0?Y9(e,a):X9(e,s)},mM=(e,s)=>s>=0&&s<e.length&&ny(e.charAt(s)),Q9=e=>at(e.innerText),eU=e=>e.map(s=>s.nodeName).getOr("div").toLowerCase(),tU=e=>j.from(e.selection.getRng()).map(s=>{var a;const l=j.from(e.dom.getParent(s.commonAncestorContainer,e.dom.isBlock)),h=e.getBody(),g=eU(l),v=ve.fromDom(s.cloneContents());j4(v),W4(v);const S=e.dom.add(h,g,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},v.dom),A=Q9(S),z=at((a=S.textContent)!==null&&a!==void 0?a:"");if(e.dom.remove(S),mM(z,0)||mM(z,z.length-1)){const W=l.getOr(h),U=Q9(W),X=U.indexOf(A);if(X===-1)return A;{const fe=mM(U,X-1),pe=mM(U,X+A.length);return(fe?" ":"")+A+(pe?" ":"")}}else return A}).getOr(""),jee=(e,s)=>{const a=e.selection.getRng(),l=e.dom.create("body"),h=e.selection.getSel(),g=VO(e,Qb(h)),v=s.contextual?J9(ve.fromDom(e.getBody()),g).dom:a.cloneContents();return v&&l.appendChild(v),e.selection.serializer.serialize(l,s)},nU=(e,s)=>{if(s.format==="text")return tU(e);{const a=jee(e,s);return s.format==="tree"?a:e.selection.isCollapsed()?"":a}},Cr=(e,s)=>({...e,format:s,get:!0,selection:!0,getInner:!0}),pM=(e,s,a={})=>{const l=Cr(a,s);return cM(e,l).fold(Nn,h=>{const g=nU(e,h);return uM(e,g,h)})},yF=0,bF=1,vF=2,m_=(e,s)=>{const a=e.length+s.length+2,l=new Array(a),h=new Array(a),g=(W,U,X)=>({start:W,end:U,diag:X}),v=(W,U,X,fe,pe)=>{const se=A(W,U,X,fe);if(se===null||se.start===U&&se.diag===U-fe||se.end===W&&se.diag===W-X){let he=W,Ie=X;for(;he<U||Ie<fe;)he<U&&Ie<fe&&e[he]===s[Ie]?(pe.push([yF,e[he]]),++he,++Ie):U-W>fe-X?(pe.push([vF,e[he]]),++he):(pe.push([bF,s[Ie]]),++Ie)}else{v(W,se.start,X,se.start-se.diag,pe);for(let he=se.start;he<se.end;++he)pe.push([yF,e[he]]);v(se.end,U,se.end-se.diag,fe,pe)}},S=(W,U,X,fe)=>{let pe=W;for(;pe-U<fe&&pe<X&&e[pe]===s[pe-U];)++pe;return g(W,pe,U)},A=(W,U,X,fe)=>{const pe=U-W,se=fe-X;if(pe===0||se===0)return null;const he=pe-se,Ie=se+pe,Se=(Ie%2===0?Ie:Ie+1)/2;l[1+Se]=W,h[1+Se]=U+1;let Me,Ze,kt,Zt,Ft;for(Me=0;Me<=Se;++Me){for(Ze=-Me;Ze<=Me;Ze+=2){for(kt=Ze+Se,Ze===-Me||Ze!==Me&&l[kt-1]<l[kt+1]?l[kt]=l[kt+1]:l[kt]=l[kt-1]+1,Zt=l[kt],Ft=Zt-W+X-Ze;Zt<U&&Ft<fe&&e[Zt]===s[Ft];)l[kt]=++Zt,++Ft;if(he%2!==0&&he-Me<=Ze&&Ze<=he+Me&&h[kt-he]<=l[kt])return S(h[kt-he],Ze+W-X,U,fe)}for(Ze=he-Me;Ze<=he+Me;Ze+=2){for(kt=Ze+Se-he,Ze===he-Me||Ze!==he+Me&&h[kt+1]<=h[kt-1]?h[kt]=h[kt+1]-1:h[kt]=h[kt-1],Zt=h[kt]-1,Ft=Zt-W+X-Ze;Zt>=W&&Ft>=X&&e[Zt]===s[Ft];)h[kt]=Zt--,Ft--;if(he%2===0&&-Me<=Ze&&Ze<=Me&&h[kt]<=l[kt+he])return S(h[kt],Ze+W-X,U,fe)}}return null},z=[];return v(0,e.length,0,s.length,z),z},oU=e=>ht(e)?e.outerHTML:Pt(e)?il.encodeRaw(e.data,!1):id(e)?"<!--"+e.data+"-->":"",Wee=e=>{let s;const a=document.createElement("div"),l=document.createDocumentFragment();for(e&&(a.innerHTML=e);s=a.firstChild;)l.appendChild(s);return l},Gi=(e,s,a)=>{const l=Wee(s);if(e.hasChildNodes()&&a<e.childNodes.length){const h=e.childNodes[a];e.insertBefore(l,h)}else e.appendChild(l)},wF=(e,s)=>{if(e.hasChildNodes()&&s<e.childNodes.length){const a=e.childNodes[s];e.removeChild(a)}},_F=(e,s)=>{let a=0;le(e,l=>{l[0]===yF?a++:l[0]===bF?(Gi(s,l[1],a),a++):l[0]===vF&&wF(s,a)})},kF=e=>Ve(Ke(zs(e.childNodes),oU),s=>s.length>0),sU=(e,s)=>{const a=Ke(zs(s.childNodes),oU);return _F(m_(a,e),s),s},rU=ic(()=>document.implementation.createHTMLDocument("undo")),OT=e=>e.indexOf("</iframe>")!==-1,aU=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),gM=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),DT=e=>{const s=kF(e.getBody()),a=Vt(s,h=>{const g=U4(e.serializer,h);return g.length>0?[g]:[]}),l=a.join("");return OT(l)?aU(a):gM(l)},MT=(e,s,a)=>{const l=a?s.beforeBookmark:s.bookmark;s.type==="fragmented"?sU(s.fragments,e.getBody()):e.setContent(s.content,{format:"raw",no_selection:je(l)&&Dw(l)?!l.isFakeCaret:!0}),l&&(e.selection.moveToBookmark(l),e.selection.scrollIntoView())},PT=e=>e.type==="fragmented"?e.fragments.join(""):e.content,zT=e=>{const s=ve.fromTag("body",rU());return ef(s,PT(e)),le(Ta(s,"*[data-mce-bogus]"),Dr),Gf(s)},CF=(e,s)=>PT(e)===PT(s),yM=(e,s)=>zT(e)===zT(s),bM=(e,s)=>!e||!s?!1:CF(e,s)?!0:yM(e,s),vM=e=>e.get()===0,NT=(e,s,a)=>{vM(a)&&(e.typing=s)},Nu=(e,s)=>{e.typing&&(NT(e,!1,s),e.add())},iU=e=>{e.typing&&(e.typing=!1,e.add())},lU=(e,s,a)=>{vM(s)&&a.set(mk(e.selection))},cU=(e,s,a,l,h,g,v)=>{const S=DT(e),A=xt.extend(g||{},S);if(!vM(l)||e.removed)return null;const z=s.data[a.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:z,originalEvent:v}).isDefaultPrevented()||z&&bM(z,A))return null;s.data[a.get()]&&h.get().each(X=>{s.data[a.get()].beforeBookmark=X});const W=DI(e);if(W&&s.data.length>W){for(let X=0;X<s.data.length-1;X++)s.data[X]=s.data[X+1];s.data.length--,a.set(s.data.length)}A.bookmark=mk(e.selection),a.get()<s.data.length-1&&(s.data.length=a.get()+1),s.data.push(A),a.set(s.data.length-1);const U={level:A,lastLevel:z,originalEvent:v};return a.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",U),e.dispatch("change",U)):e.dispatch("AddUndo",U),A},uU=(e,s,a)=>{s.data=[],a.set(0),s.typing=!1,e.dispatch("ClearUndos")},dU=(e,s,a,l,h)=>{if(s.transact(l)){const g=s.data[a.get()].bookmark,v=s.data[a.get()-1];MT(e,v,!0),s.transact(h)&&(s.data[a.get()-1].beforeBookmark=g)}},SF=(e,s,a)=>{let l;return s.get()<a.length-1&&(s.set(s.get()+1),l=a[s.get()],MT(e,l,!1),e.setDirty(!0),e.dispatch("Redo",{level:l})),l},fU=(e,s,a,l)=>{let h;return s.typing&&(s.add(),s.typing=!1,NT(s,!1,a)),l.get()>0&&(l.set(l.get()-1),h=s.data[l.get()],MT(e,h,!0),e.setDirty(!0),e.dispatch("Undo",{level:h})),h},hU=e=>{e.clear(),e.add()},mU=(e,s,a)=>a.get()>0||s.typing&&s.data[0]&&!bM(DT(e),s.data[0]),LT=(e,s)=>s.get()<e.data.length-1&&!e.typing,pU=(e,s,a)=>(Nu(e,s),e.beforeChange(),e.ignore(a),e.add()),gU=(e,s)=>{try{e.set(e.get()+1),s()}finally{e.set(e.get()-1)}},xF=(e,s)=>{const a=e.dom,l=je(s)?s:e.getBody();le(a.select("table,a",l),h=>{switch(h.nodeName){case"TABLE":const g=zI(e),v=a.getAttrib(h,"border");(!v||v==="0")&&e.hasVisual?a.addClass(h,g):a.removeClass(h,g);break;case"A":if(!a.getAttrib(h,"href")){const S=a.getAttrib(h,"name")||h.id,A=ME(e);S&&e.hasVisual?a.addClass(h,A):a.removeClass(h,A)}break}}),e.dispatch("VisualAid",{element:s,hasVisual:e.hasVisual})},FT=e=>({init:{bindEvents:It},undoManager:{beforeChange:(s,a)=>lU(e,s,a),add:(s,a,l,h,g,v)=>cU(e,s,a,l,h,g,v),undo:(s,a,l)=>fU(e,s,a,l),redo:(s,a)=>SF(e,s,a),clear:(s,a)=>uU(e,s,a),reset:s=>hU(s),hasUndo:(s,a)=>mU(e,s,a),hasRedo:(s,a)=>LT(s,a),transact:(s,a,l)=>pU(s,a,l),ignore:(s,a)=>gU(s,a),extra:(s,a,l,h)=>dU(e,s,a,l,h)},formatter:{match:(s,a,l,h)=>l_(e,s,a,l,h),matchAll:(s,a)=>$p(e,s,a),matchNode:(s,a,l,h)=>vm(e,s,a,l,h),canApply:s=>xD(e,s),closest:s=>YH(e,s),apply:(s,a,l)=>d_(e,s,a,l),remove:(s,a,l,h)=>EL(e,s,a,l,h),toggle:(s,a,l)=>g9(e,s,a,l),formatChanged:(s,a,l,h,g)=>ML(e,s,a,l,h,g)},editor:{getContent:s=>nH(e,s),setContent:(s,a)=>qH(e,s,a),insertContent:(s,a)=>rL(e,s,a),addVisual:s=>xF(e,s)},selection:{getContent:(s,a)=>pM(e,s,a)},autocompleter:{addDecoration:s=>Z7(e,s),removeDecoration:()=>B4(e,ve.fromDom(e.getBody()))},raw:{getModel:()=>j.none()}}),yU=e=>{const s=z=>vt(z)?z:{},{init:a,undoManager:l,formatter:h,editor:g,selection:v,autocompleter:S,raw:A}=e;return{init:{bindEvents:a.bindEvents},undoManager:{beforeChange:l.beforeChange,add:l.add,undo:l.undo,redo:l.redo,clear:l.clear,reset:l.reset,hasUndo:l.hasUndo,hasRedo:l.hasRedo,transact:(z,W,U)=>l.transact(U),ignore:(z,W)=>l.ignore(W),extra:(z,W,U,X)=>l.extra(U,X)},formatter:{match:(z,W,U,X)=>h.match(z,s(W),X),matchAll:h.matchAll,matchNode:h.matchNode,canApply:z=>h.canApply(z),closest:z=>h.closest(z),apply:(z,W,U)=>h.apply(z,s(W)),remove:(z,W,U,X)=>h.remove(z,s(W)),toggle:(z,W,U)=>h.toggle(z,s(W)),formatChanged:(z,W,U,X,fe)=>h.formatChanged(W,U,X,fe)},editor:{getContent:z=>g.getContent(z),setContent:(z,W)=>({content:g.setContent(z,W),html:""}),insertContent:(z,W)=>(g.insertContent(z),""),addVisual:g.addVisual},selection:{getContent:(z,W)=>v.getContent(W)},autocompleter:{addDecoration:S.addDecoration,removeDecoration:S.removeDecoration},raw:{getModel:()=>j.some(A.getRawModel())}}},bU=()=>{const e=ot(null),s=ot("");return{init:{bindEvents:It},undoManager:{beforeChange:It,add:e,undo:e,redo:e,clear:It,reset:It,hasUndo:Ee,hasRedo:Ee,transact:e,ignore:It,extra:It},formatter:{match:Ee,matchAll:ot([]),matchNode:ot(void 0),canApply:Ee,closest:s,apply:It,remove:It,toggle:It,formatChanged:ot({unbind:It})},editor:{getContent:s,setContent:ot({content:"",html:""}),insertContent:ot(""),addVisual:It},selection:{getContent:s},autocompleter:{addDecoration:It,removeDecoration:It},raw:{getModel:ot(j.none())}}},Hp=e=>Ln(e.plugins,"rtc"),vU=e=>us(e.plugins,"rtc").bind(s=>j.from(s.setup)),wU=e=>{const s=e;return vU(e).fold(()=>(s.rtcInstance=FT(e),j.none()),a=>(s.rtcInstance=bU(),j.some(()=>a().then(l=>(s.rtcInstance=yU(l),l.rtc.isRemote)))))},wM=e=>e.rtcInstance?e.rtcInstance:FT(e),ba=e=>{const s=e.rtcInstance;if(s)return s;throw new Error("Failed to get RTC instance not yet initialized.")},KC=(e,s,a)=>{ba(e).undoManager.beforeChange(s,a)},BT=(e,s,a,l,h,g,v)=>ba(e).undoManager.add(s,a,l,h,g,v),YC=(e,s,a,l)=>ba(e).undoManager.undo(s,a,l),EF=(e,s,a)=>ba(e).undoManager.redo(s,a),TF=(e,s,a)=>{ba(e).undoManager.clear(s,a)},_U=(e,s)=>{ba(e).undoManager.reset(s)},RF=(e,s,a)=>ba(e).undoManager.hasUndo(s,a),kU=(e,s,a)=>ba(e).undoManager.hasRedo(s,a),CU=(e,s,a,l)=>ba(e).undoManager.transact(s,a,l),SU=(e,s,a)=>{ba(e).undoManager.ignore(s,a)},xU=(e,s,a,l,h)=>{ba(e).undoManager.extra(s,a,l,h)},AF=(e,s,a,l,h)=>ba(e).formatter.match(s,a,l,h),EU=(e,s,a)=>ba(e).formatter.matchAll(s,a),TU=(e,s,a,l,h)=>ba(e).formatter.matchNode(s,a,l,h),XC=(e,s)=>ba(e).formatter.canApply(s),IF=(e,s)=>ba(e).formatter.closest(s),OF=(e,s,a,l)=>{ba(e).formatter.apply(s,a,l)},RU=(e,s,a,l,h)=>{ba(e).formatter.remove(s,a,l,h)},AU=(e,s,a,l)=>{ba(e).formatter.toggle(s,a,l)},IU=(e,s,a,l,h,g)=>ba(e).formatter.formatChanged(s,a,l,h,g),DF=(e,s)=>wM(e).editor.getContent(s),OU=(e,s,a)=>wM(e).editor.setContent(s,a),DU=(e,s,a)=>wM(e).editor.insertContent(s,a),MU=(e,s,a)=>ba(e).selection.getContent(s,a),PU=(e,s)=>ba(e).editor.addVisual(s),zU=e=>ba(e).init.bindEvents(),vh=(e,s)=>ba(e).autocompleter.addDecoration(s),_M=e=>ba(e).autocompleter.removeDecoration(),NU=(e,s={})=>{const a=s.format?s.format:"html";return MU(e,a,s)},MF=e=>e.dom.length===0?(hs(e),j.none()):j.some(e),LU=(e,s)=>e.filter(a=>pm.isBookmarkNode(a.dom)).bind(s?Hh:Fl),FU=(e,s,a,l)=>{const h=e.dom,g=s.dom,v=l?h.length:g.length;l?(nD(h,g,!1,!l),a.setStart(g,v)):(nD(g,h,!1,!l),a.setEnd(g,v))},qo=(e,s)=>{Ll(e).each(a=>{const l=e.dom;s&&EC(a,dt(l,0))?U2(l,0):!s&&TC(a,dt(l,l.length))&&tD(l,l.length)})},BU=(e,s,a,l)=>{e.bind(h=>((l?tD:U2)(h.dom,l?h.dom.length:0),s.filter(wi).map(v=>FU(h,v,a,l)))).orThunk(()=>LU(s,l).or(s).filter(wi).map(g=>qo(g,l)))},$U=(e,s)=>{const a=j.from(s.firstChild).map(ve.fromDom),l=j.from(s.lastChild).map(ve.fromDom);e.deleteContents(),e.insertNode(s);const h=a.bind(Fl).filter(wi).bind(MF),g=l.bind(Hh).filter(wi).bind(MF);BU(h,a,e,!0),BU(g,l,e,!1),e.collapse(!1)},VU=(e,s)=>({format:"html",...e,set:!0,selection:!0,content:s}),ur=(e,s)=>{if(s.format!=="raw"){const a=e.selection.getRng(),l=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),h=l?{context:l.nodeName.toLowerCase()}:{},g=e.parser.parse(s.content,{forced_root_block:!1,...h,...s});return py({validate:!1},e.schema).serialize(g)}else return s.content},HU=(e,s,a={})=>{const l=VU(a,s);AT(e,l).each(h=>{const g=ur(e,h),v=e.selection.getRng();$U(v,v.createContextualFragment(g)),e.selection.setRng(v),gt(e,v),dM(e,g,h)})},p_=(e,s,a)=>{if(Ln(e,s)){const l=Ve(e[s],h=>h!==a);l.length===0?delete e[s]:e[s]=l}};var UU=(e,s)=>{let a,l;const h=(S,A)=>ut(A,z=>e.is(z,S)),g=S=>e.getParents(S,void 0,e.getRoot()),v=()=>{a={},l={},s.on("NodeChange",S=>{const A=S.element,z=g(A),W={};Gt(a,(U,X)=>{h(X,z).each(fe=>{l[X]||(le(U,pe=>{pe(!0,{node:fe,selector:X,parents:z})}),l[X]=U),W[X]=U})}),Gt(l,(U,X)=>{W[X]||(delete l[X],le(U,fe=>{fe(!1,{node:A,selector:X,parents:z})}))})})};return{selectorChangedWithUnbind:(S,A)=>(a||v(),a[S]||(a[S]=[]),a[S].push(A),h(S,g(s.selection.getStart())).each(()=>{l[S]=a[S]}),{unbind:()=>{p_(a,S,A),p_(l,S,A)}})}};const PF=e=>!!(e&&e.ownerDocument)&&cc(ve.fromDom(e.ownerDocument),ve.fromDom(e)),jU=e=>e?PF(e.startContainer)&&PF(e.endContainer):!1,kM=(e,s,a,l)=>{let h,g;const{selectorChangedWithUnbind:v}=UU(e,l),S=(Bt,pn)=>{const Lo=e.createRng();je(Bt)&&je(pn)?(Lo.setStart(Bt,pn),Lo.setEnd(Bt,pn),Ze(Lo),Ie(!1)):(ev(e,Lo,l.getBody(),!0),Ze(Lo))},A=Bt=>NU(l,Bt),z=(Bt,pn)=>HU(l,Bt,pn),W=Bt=>M4(l.getBody(),Me(),Bt),U=Bt=>P4(l.getBody(),Me(),Bt),X=(Bt,pn)=>qi.getBookmark(Bt,pn),fe=Bt=>qi.moveToBookmark(Bt),pe=(Bt,pn)=>($7(e,Bt,pn).each(Ze),Bt),se=()=>{const Bt=Me(),pn=Se();return!Bt||Bt.item?!1:Bt.compareEndPoints?Bt.compareEndPoints("StartToEnd",Bt)===0:!pn||Bt.collapsed},he=()=>{const Bt=Me(),pn=l.getBody().querySelectorAll('[data-mce-selected="1"]');return pn.length>0?sn(pn,Lo=>e.isEditable(Lo.parentElement)):Bt.startContainer===Bt.endContainer?e.isEditable(Bt.startContainer):e.isEditable(Bt.startContainer)&&e.isEditable(Bt.endContainer)},Ie=Bt=>{const pn=Me();pn.collapse(!!Bt),Ze(pn)},Se=()=>s.getSelection?s.getSelection():s.document.selection,Me=()=>{let Bt;const pn=(Jt,Tn,Dn)=>{try{return Tn.compareBoundaryPoints(Jt,Dn)}catch{return-1}},Lo=s.document;if(je(l.bookmark)&&!my(l)){const Jt=Xl(l);if(Jt.isSome())return Jt.map(Tn=>VO(l,[Tn])[0]).getOr(Lo.createRange())}try{const Jt=Se();Jt&&!Fi(Jt.anchorNode)&&(Jt.rangeCount>0?Bt=Jt.getRangeAt(0):Bt=Lo.createRange(),Bt=VO(l,[Bt])[0])}catch{}if(Bt||(Bt=Lo.createRange()),Hc(Bt.startContainer)&&Bt.collapsed){const Jt=e.getRoot();Bt.setStart(Jt,0),Bt.setEnd(Jt,0)}return h&&g&&(pn(Bt.START_TO_START,Bt,h)===0&&pn(Bt.END_TO_END,Bt,h)===0?Bt=g:(h=null,g=null)),Bt},Ze=(Bt,pn)=>{if(!jU(Bt))return;const Lo=Se();if(Bt=l.dispatch("SetSelectionRange",{range:Bt,forward:pn}).range,Lo){g=Bt;try{Lo.removeAllRanges(),Lo.addRange(Bt)}catch{}pn===!1&&Lo.extend&&(Lo.collapse(Bt.endContainer,Bt.endOffset),Lo.extend(Bt.startContainer,Bt.startOffset)),h=Lo.rangeCount>0?Lo.getRangeAt(0):null}if(!Bt.collapsed&&Bt.startContainer===Bt.endContainer&&(Lo==null?void 0:Lo.setBaseAndExtent)&&Bt.endOffset-Bt.startOffset<2&&Bt.startContainer.hasChildNodes()){const Tn=Bt.startContainer.childNodes[Bt.startOffset];Tn&&Tn.nodeName==="IMG"&&(Lo.setBaseAndExtent(Bt.startContainer,Bt.startOffset,Bt.endContainer,Bt.endOffset),(Lo.anchorNode!==Bt.startContainer||Lo.focusNode!==Bt.endContainer)&&Lo.setBaseAndExtent(Tn,0,Tn,1))}l.dispatch("AfterSetSelectionRange",{range:Bt,forward:pn})},kt=Bt=>(z(e.getOuterHTML(Bt)),Bt),Zt=()=>F7(l.getBody(),Me()),Ft=(Bt,pn)=>B7(e,Me(),Bt,pn),et=()=>{const Bt=Se(),pn=Bt==null?void 0:Bt.anchorNode,Lo=Bt==null?void 0:Bt.focusNode;if(!Bt||!pn||!Lo||Fi(pn)||Fi(Lo))return!0;const Jt=e.createRng(),Tn=e.createRng();try{Jt.setStart(pn,Bt.anchorOffset),Jt.collapse(!0),Tn.setStart(Lo,Bt.focusOffset),Tn.collapse(!0)}catch{return!0}return Jt.compareBoundaryPoints(Jt.START_TO_START,Tn)<=0},Sr={dom:e,win:s,serializer:a,editor:l,expand:(Bt={type:"word"})=>Ze(Mp(e).expand(Me(),Bt)),collapse:Ie,setCursorLocation:S,getContent:A,setContent:z,getBookmark:X,moveToBookmark:fe,select:pe,isCollapsed:se,isEditable:he,isForward:et,setNode:kt,getNode:Zt,getSel:Se,setRng:Ze,getRng:Me,getStart:W,getEnd:U,getSelectedBlocks:Ft,normalize:()=>{const Bt=Me(),pn=Se();if(!dh(pn)&&tv(l)){const Lo=Dp(e,Bt);return Lo.each(Jt=>{Ze(Jt,et())}),Lo.getOr(Bt)}return Bt},selectorChanged:(Bt,pn)=>(v(Bt,pn),Sr),selectorChangedWithUnbind:v,getScrollContainer:()=>{let Bt,pn=e.getRoot();for(;pn&&pn.nodeName!=="BODY";){if(pn.scrollHeight>pn.clientHeight){Bt=pn;break}pn=pn.parentNode}return Bt},scrollIntoView:(Bt,pn)=>{je(Bt)?qt(l,Bt,pn):gt(l,Me(),pn)},placeCaretAt:(Bt,pn)=>Ze(mv(Bt,pn,l.getDoc())),getBoundingClientRect:()=>{const Bt=Me();return Bt.collapsed?dt.fromRangeStart(Bt).getClientRects()[0]:Bt.getBoundingClientRect()},destroy:()=>{s=h=g=null,Fa.destroy()}},qi=pm(Sr),Fa=dv(Sr,l);return Sr.bookmarkManager=qi,Sr.controlSelection=Fa,Sr},Ry=(e,s,a)=>{e.addAttributeFilter("data-mce-tabindex",(l,h)=>{let g=l.length;for(;g--;){const v=l[g];v.attr("tabindex",v.attr("data-mce-tabindex")),v.attr(h,null)}}),e.addAttributeFilter("src,href,style",(l,h)=>{const g="data-mce-"+h,v=s.url_converter,S=s.url_converter_scope;let A=l.length;for(;A--;){const z=l[A];let W=z.attr(g);W!==void 0?(z.attr(h,W.length>0?W:null),z.attr(g,null)):(W=z.attr(h),h==="style"?W=a.serializeStyle(a.parseStyle(W),z.name):v&&(W=v.call(S,W,h,z.name)),z.attr(h,W.length>0?W:null))}}),e.addAttributeFilter("class",l=>{let h=l.length;for(;h--;){const g=l[h];let v=g.attr("class");v&&(v=v.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),g.attr("class",v.length>0?v:null))}}),e.addAttributeFilter("data-mce-type",(l,h,g)=>{let v=l.length;for(;v--;){const S=l[v];S.attr("data-mce-type")==="bookmark"&&!g.cleanup&&(j.from(S.firstChild).exists(z=>{var W;return!Ce((W=z.value)!==null&&W!==void 0?W:"")})?S.unwrap():S.remove())}}),e.addNodeFilter("noscript",l=>{var h;let g=l.length;for(;g--;){const v=l[g].firstChild;v&&(v.value=il.decode((h=v.value)!==null&&h!==void 0?h:""))}}),e.addNodeFilter("script,style",(l,h)=>{var g;const v=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let S=l.length;for(;S--;){const A=l[S],z=A.firstChild,W=(g=z==null?void 0:z.value)!==null&&g!==void 0?g:"";if(h==="script"){const U=A.attr("type");U&&A.attr("type",U==="mce-no/type"?null:U.replace(/^mce\-/,"")),s.element_format==="xhtml"&&z&&W.length>0&&(z.value=`// <![CDATA[
`+v(W)+`
// ]]>`)}else s.element_format==="xhtml"&&z&&W.length>0&&(z.value=`<!--
`+v(W)+`
-->`)}}),e.addNodeFilter("#comment",l=>{let h=l.length;for(;h--;){const g=l[h],v=g.value;s.preserve_cdata&&(v==null?void 0:v.indexOf("[CDATA["))===0?(g.name="#cdata",g.type=4,g.value=a.decode(v.replace(/^\[CDATA\[|\]\]$/g,""))):(v==null?void 0:v.indexOf("mce:protected "))===0&&(g.name="#text",g.type=3,g.raw=!0,g.value=unescape(v).substr(14))}}),e.addNodeFilter("xml:namespace,input",(l,h)=>{let g=l.length;for(;g--;){const v=l[g];v.type===7?v.remove():v.type===1&&h==="input"&&!v.attr("type")&&v.attr("type","text")}}),e.addAttributeFilter("data-mce-type",l=>{le(l,h=>{h.attr("data-mce-type")==="format-caret"&&(h.isEmpty(e.schema.getNonEmptyElements())?h.remove():h.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(l,h)=>{let g=l.length;for(;g--;)l[g].attr(h,null)})},Jc=e=>{const s=l=>(l==null?void 0:l.name)==="br",a=e.lastChild;if(s(a)){const l=a.prev;s(l)&&(a.remove(),l.remove())}},JC=(e,s,a)=>{let l;const h=e.dom;let g=s.cloneNode(!0);const v=document.implementation;if(v.createHTMLDocument){const S=v.createHTMLDocument("");xt.each(g.nodeName==="BODY"?g.childNodes:[g],A=>{S.body.appendChild(S.importNode(A,!0))}),g.nodeName!=="BODY"?g=S.body.firstChild:g=S.body,l=h.doc,h.doc=S}return hO(e,{...a,node:g}),l&&(h.doc=l),g},Nv=(e,s)=>je(e)&&e.hasEventListeners("PreProcess")&&!s.no_events,wm=(e,s,a)=>Nv(e,a)?JC(e,s,a):s,QC=(e,s,a)=>{xt.inArray(s,a)===-1&&(e.addAttributeFilter(a,(l,h)=>{let g=l.length;for(;g--;)l[g].attr(h,null)}),s.push(a))},CM=(e,s,a)=>!s.no_events&&e?tC(e,{...s,content:a}).content:a,SM=(e,s,a)=>{const l=at(a.getInner?s.innerHTML:e.getOuterHTML(s));return a.selection||Vl(ve.fromDom(s))?l:xt.trim(l)},zF=(e,s,a)=>{const l=a.selection?{forced_root_block:!1,...a}:a,h=e.parse(s,l);return Jc(h),h},NF=(e,s,a)=>py(e,s).serialize(a),WU=(e,s,a,l,h)=>{const g=NF(s,a,l);return CM(e,h,g)},ZU=(e,s)=>{const a=["data-mce-selected"],l=s&&s.dom?s.dom:ps.DOM,h=s&&s.schema?s.schema:Wl(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;const g=zv(e,h);Ry(g,e,l);const v=(S,A={})=>{const z={format:"html",...A},W=wm(s,S,z),U=SM(l,W,z),X=zF(g,U,z);return z.format==="tree"?X:WU(s,e,h,X,z)};return{schema:h,addNodeFilter:g.addNodeFilter,addAttributeFilter:g.addAttributeFilter,serialize:v,addRules:h.addValidElements,setRules:h.setValidElements,addTempAttr:it(QC,g,a),getTempAttrs:ot(a),getNodeFilters:g.getNodeFilters,getAttributeFilters:g.getAttributeFilters,removeNodeFilter:g.removeNodeFilter,removeAttributeFilter:g.removeAttributeFilter}},xM=(e,s)=>{const a=ZU(e,s);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters,removeNodeFilter:a.removeNodeFilter,removeAttributeFilter:a.removeAttributeFilter}},LF="html",FF=(e,s)=>({...e,format:s,get:!0,getInner:!0}),BF=(e,s={})=>{const a=s.format?s.format:LF,l=FF(s,a);return cM(e,l).fold(Nn,h=>{const g=DF(e,h);return uM(e,g,h)})},EM="html",Zee=(e,s)=>({format:EM,...e,set:!0,content:s}),TM=(e,s,a={})=>{const l=Zee(a,s);return AT(e,l).map(h=>{const g=OU(e,h.content,h);return dM(e,g.html,h),g.content}).getOr(s)},Gee="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),GU="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),qU="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),wh=[{name:"template",replacedWith:"Advanced Template"}],KU=(e,s)=>{const a=Ve(s,l=>Ln(e,l));return mo(a)},qee=e=>{const s=KU(e,Gee),a=e.forced_root_block;return(a===!1||a==="")&&s.push("forced_root_block (false only)"),mo(s)},YU=e=>KU(e,GU),g_=(e,s)=>{const a=xt.makeMap(e.plugins," "),h=Ve(s,g=>Ln(a,g));return mo(h)},XU=e=>g_(e,qU),$F=e=>g_(e,wh.map(s=>s.name)),VF=(e,s)=>{const a=qee(e),l=XU(s),h=l.length>0,g=a.length>0,v=s.theme==="mobile";if(h||g||v){const S=`
- `,A=v?`

Themes:${S}mobile`:"",z=h?`

Plugins:${S}${l.join(S)}`:"",W=g?`

Options:${S}${a.join(S)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+A+z+W)}},HF=e=>ut(wh,s=>s.name===e).fold(()=>e,s=>`${e}, replaced by ${s.replacedWith}`),JU=(e,s)=>{const a=YU(e),l=$F(s),h=l.length>0,g=a.length>0;if(h||g){const v=`
- `,S=h?`

Plugins:${v}${l.map(HF).join(v)}`:"",A=g?`

Options:${v}${a.join(v)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+S+A)}},QU=(e,s)=>{VF(e,s),JU(e,s)},_h=ps.DOM,ej=e=>{_h.setStyle(e.id,"display",e.orgDisplay)},$T=e=>j.from(e).each(s=>s.destroy()),tj=e=>{const s=e;s.contentAreaContainer=s.formElement=s.container=s.editorContainer=null,s.bodyElement=s.contentDocument=s.contentWindow=null,s.iframeElement=s.targetElm=null;const a=e.selection;if(a){const l=a.dom;s.selection=a.win=a.dom=l.doc=null}},nj=e=>{const s=e.formElement;s&&(s._mceOldSubmit&&(s.submit=s._mceOldSubmit,delete s._mceOldSubmit),_h.unbind(s,"submit reset",e.formEventDelegate))},oj=e=>{if(!e.removed){const{_selectionOverrides:s,editorUpload:a}=e,l=e.getBody(),h=e.getElement();l&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&je(h==null?void 0:h.nextSibling)&&_h.remove(h.nextSibling),nC(e),e.editorManager.remove(e),!e.inline&&l&&ej(e),oC(e),_h.remove(e.getContainer()),$T(s),$T(a),e.destroy()}},sj=(e,s)=>{const{selection:a,dom:l}=e;if(!e.destroyed){if(!s&&!e.removed){e.remove();return}s||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),$T(a),$T(l)),nj(e),tj(e),e.destroyed=!0}},VT=(()=>{const e={};return{add:(h,g)=>{e[h]=g},get:h=>e[h]?e[h]:{icons:{}},has:h=>Ln(e,h)}})(),y_=ll.ModelManager,UF=(e,s)=>s.dom[e],jF=(e,s)=>parseInt(dc(s,e),10),Yee=it(UF,"clientWidth"),eS=it(UF,"clientHeight"),rj=it(jF,"margin-top"),RM=it(jF,"margin-left"),aj=e=>e.dom.getBoundingClientRect(),ij=(e,s,a)=>{const l=Yee(e),h=eS(e);return s>=0&&a>=0&&s<=l&&a<=h},lj=(e,s,a,l)=>{const h=aj(s),g=e?h.left+s.dom.clientLeft+RM(s):0,v=e?h.top+s.dom.clientTop+rj(s):0,S=a-g,A=l-v;return{x:S,y:A}},cj=(e,s,a)=>{const l=ve.fromDom(e.getBody()),h=e.inline?l:x1(l),g=lj(e.inline,h,s,a);return ij(h,g.x,g.y)},Lv=e=>j.from(e).map(ve.fromDom),Fv=e=>{const s=e.inline?e.getBody():e.getContentAreaContainer();return Lv(s).map(td).getOr(!1)};var HT=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const tS=e=>{const s=[],a=()=>{const X=e.theme;return X&&X.getNotificationManagerImpl?X.getNotificationManagerImpl():HT()},l=()=>j.from(s[0]),h=(X,fe)=>X.type===fe.type&&X.text===fe.text&&!X.progressBar&&!X.timeout&&!fe.progressBar&&!fe.timeout,g=()=>{le(s,X=>{X.reposition()})},v=X=>{s.push(X)},S=X=>{zt(s,fe=>fe===X).each(fe=>{s.splice(fe,1)})},A=(X,fe=!0)=>e.removed||!Fv(e)?{}:(fe&&e.dispatch("BeforeOpenNotification",{notification:X}),ut(s,pe=>h(a().getArgs(pe),X)).getOrThunk(()=>{e.editorManager.setActive(e);const pe=a().open(X,()=>{S(pe),g(),l().fold(()=>e.focus(),se=>hn(ve.fromDom(se.getEl())))});return v(pe),g(),e.dispatch("OpenNotification",{notification:{...pe}}),pe})),z=()=>{l().each(X=>{a().close(X),S(X),g()})},W=ot(s);return(X=>{X.on("SkinLoaded",()=>{const fe=EE(X);fe&&A({text:fe,type:"warning",timeout:0},!1),g()}),X.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(g)}),X.on("remove",()=>{le(s.slice(),fe=>{a().close(fe)})})})(e),{open:A,close:z,getNotifications:W}},kf=ll.PluginManager,Td=ll.ThemeManager;var UT=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const nS=e=>{let s=[];const a=()=>{const se=e.theme;return se&&se.getWindowManagerImpl?se.getWindowManagerImpl():UT()},l=(se,he)=>(...Ie)=>he?he.apply(se,Ie):void 0,h=se=>{e.dispatch("OpenWindow",{dialog:se})},g=se=>{e.dispatch("CloseWindow",{dialog:se})},v=se=>{s.push(se),h(se)},S=se=>{g(se),s=Ve(s,he=>he!==se),s.length===0&&e.focus()},A=()=>j.from(s[s.length-1]),z=se=>{e.editorManager.setActive(e),_c(e),e.ui.show();const he=se();return v(he),he},W=(se,he)=>z(()=>a().open(se,he,S)),U=se=>z(()=>a().openUrl(se,S)),X=(se,he,Ie)=>{const Se=a();Se.alert(se,l(Ie||Se,he))},fe=(se,he,Ie)=>{const Se=a();Se.confirm(se,l(Ie||Se,he))},pe=()=>{A().each(se=>{a().close(se),S(se)})};return e.on("remove",()=>{le(s,se=>{a().close(se)})}),{open:W,openUrl:U,alert:X,confirm:fe,close:pe}},AM=(e,s)=>{e.notificationManager.open({type:"error",text:s})},b_=(e,s)=>{e._skinLoaded?AM(e,s):e.on("SkinLoaded",()=>{AM(e,s)})},IM=(e,s)=>{b_(e,hd.translate(["Failed to upload image: {0}",s]))},v_=(e,s,a)=>{wd(e,s,{message:a}),console.error(a)},w_=(e,s,a)=>a?`Failed to load ${e}: ${a} from url ${s}`:`Failed to load ${e} url: ${s}`,__=(e,s,a)=>{v_(e,"PluginLoadError",w_("plugin",s,a))},WF=(e,s,a)=>{v_(e,"IconsLoadError",w_("icons",s,a))},ZF=(e,s,a)=>{v_(e,"LanguageLoadError",w_("language",s,a))},GF=(e,s,a)=>{v_(e,"ThemeLoadError",w_("theme",s,a))},jT=(e,s,a)=>{v_(e,"ModelLoadError",w_("model",s,a))},qF=(e,s,a)=>{const l=hd.translate(["Failed to initialize plugin: {0}",s]);wd(e,"PluginLoadError",{message:l}),oS(l,a),b_(e,l)},oS=(e,...s)=>{const a=window.console;a&&(a.error?a.error(e,...s):a.log(e,...s))},KF=e=>/^[a-z0-9\-]+$/i.test(e),YF=e=>jp(e,kE(e)),Up=e=>jp(e,CE(e)),jp=(e,s)=>{const a=e.editorManager.baseURL+"/skins/content",h=`content${e.editorManager.suffix}.css`;return Ke(s,g=>KF(g)&&!e.inline?`${a}/${g}/${h}`:e.documentBaseURI.toAbsolute(g))},Cf=e=>{e.contentCSS=e.contentCSS.concat(YF(e),Up(e))},uj=e=>e?zs(e.getElementsByTagName("img")):[],dj=(e,s)=>{const a={};return{findAll:(h,g=me)=>{const v=Ve(uj(h),A=>{const z=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!z||z===Bo.transparentSrc?!1:Rr(z,"blob:")?!e.isUploaded(z)&&g(A):Rr(z,"data:")?g(A):!1}),S=Ke(v,A=>{const z=A.src;if(Ln(a,z))return a[z].then(W=>ne(W)?W:{image:A,blobInfo:W.blobInfo});{const W=UD(s,z).then(U=>(delete a[z],{image:A,blobInfo:U})).catch(U=>(delete a[z],U));return a[z]=W,W}});return Promise.all(S)}}},XF=()=>{let a={};const l=(X,fe)=>({status:X,resultUri:fe}),h=X=>X in a;return{hasBlobUri:h,getResultUri:X=>{const fe=a[X];return fe?fe.resultUri:null},isPending:X=>h(X)?a[X].status===1:!1,isUploaded:X=>h(X)?a[X].status===2:!1,markPending:X=>{a[X]=l(1,null)},markUploaded:(X,fe)=>{a[X]=l(2,fe)},removeFailed:X=>{delete a[X]},destroy:()=>{a={}}}};let fj=0;const hj=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},mj=e=>e+fj+++hj(),pj=()=>{let e=[];const s=U=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[U.toLowerCase()]||"dat",a=(U,X,fe,pe,se)=>{if(ne(U))return l({id:U,name:pe,filename:se,blob:X,base64:fe});if(vt(U))return l(U);throw new Error("Unknown input type")},l=U=>{if(!U.blob||!U.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const X=U.id||mj("blobid"),fe=U.name||X,pe=U.blob;return{id:ot(X),name:ot(fe),filename:ot(U.filename||fe+"."+s(pe.type)),blob:ot(pe),base64:ot(U.base64),blobUri:ot(U.blobUri||URL.createObjectURL(pe)),uri:ot(U.uri)}},h=U=>{v(U.id())||e.push(U)},g=U=>ut(e,U).getOrUndefined(),v=U=>g(X=>X.id()===U);return{create:a,add:h,get:v,getByUri:U=>g(X=>X.blobUri()===U),getByData:(U,X)=>g(fe=>fe.base64()===U&&fe.blob().type===X),findFirst:g,removeByUri:U=>{e=Ve(e,X=>X.blobUri()===U?(URL.revokeObjectURL(X.blobUri()),!1):!0)},destroy:()=>{le(e,U=>{URL.revokeObjectURL(U.blobUri())}),e=[]}}},gj=(e,s)=>{const a={},l=(se,he)=>se?se.replace(/\/$/,"")+"/"+he.replace(/^\//,""):he,h=(se,he)=>new Promise((Ie,Se)=>{const Me=new XMLHttpRequest;Me.open("POST",s.url),Me.withCredentials=s.credentials,Me.upload.onprogress=kt=>{he(kt.loaded/kt.total*100)},Me.onerror=()=>{Se("Image upload failed due to a XHR Transport error. Code: "+Me.status)},Me.onload=()=>{if(Me.status<200||Me.status>=300){Se("HTTP Error: "+Me.status);return}const kt=JSON.parse(Me.responseText);if(!kt||!ne(kt.location)){Se("Invalid JSON: "+Me.responseText);return}Ie(l(s.basePath,kt.location))};const Ze=new FormData;Ze.append("file",se.blob(),se.filename()),Me.send(Ze)}),g=ue(s.handler)?s.handler:h,v=()=>new Promise(se=>{se([])}),S=(se,he)=>({url:he,blobInfo:se,status:!0}),A=(se,he)=>({url:"",blobInfo:se,status:!1,error:he}),z=(se,he)=>{xt.each(a[se],Ie=>{Ie(he)}),delete a[se]},W=(se,he,Ie)=>(e.markPending(se.blobUri()),new Promise(Se=>{let Me,Ze;try{const kt=()=>{Me&&(Me.close(),Ze=It)},Zt=et=>{kt(),e.markUploaded(se.blobUri(),et),z(se.blobUri(),S(se,et)),Se(S(se,et))},Ft=et=>{kt(),e.removeFailed(se.blobUri()),z(se.blobUri(),A(se,et)),Se(A(se,et))};Ze=et=>{et<0||et>100||j.from(Me).orThunk(()=>j.from(Ie).map(uo)).each(nt=>{Me=nt,nt.progressBar.value(et)})},he(se,Ze).then(Zt,et=>{Ft(ne(et)?{message:et}:et)})}catch(kt){Se(A(se,kt))}})),U=se=>se===h,X=se=>{const he=se.blobUri();return new Promise(Ie=>{a[he]=a[he]||[],a[he].push(Ie)})},fe=(se,he)=>(se=xt.grep(se,Ie=>!e.isUploaded(Ie.blobUri())),Promise.all(xt.map(se,Ie=>e.isPending(Ie.blobUri())?X(Ie):W(Ie,g,he))));return{upload:(se,he)=>!s.url&&U(g)?v():fe(se,he)}},JF=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),QF=(e,s)=>gj(s,{url:mw(e),basePath:lm(e),credentials:wE(e),handler:kk(e)}),yj=e=>{const s=XF(),a=QF(e,s);return{upload:(l,h=!0)=>a.upload(l,h?JF(e):void 0)}},bj=e=>{const s=pj();let a,l;const h=XF(),g=[],v=Me=>Ze=>e.selection?Me(Ze):[],S=Me=>Me+(Me.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(Me,Ze,kt)=>{let Zt=0;do Zt=Me.indexOf(Ze,Zt),Zt!==-1&&(Me=Me.substring(0,Zt)+kt+Me.substr(Zt+Ze.length),Zt+=kt.length-Ze.length+1);while(Zt!==-1);return Me},z=(Me,Ze,kt)=>{const Zt=`src="${kt}"${kt===Bo.transparentSrc?' data-mce-placeholder="1"':""}`;return Me=A(Me,`src="${Ze}"`,Zt),Me=A(Me,'data-mce-src="'+Ze+'"','data-mce-src="'+kt+'"'),Me},W=(Me,Ze)=>{le(e.undoManager.data,kt=>{kt.type==="fragmented"?kt.fragments=Ke(kt.fragments,Zt=>z(Zt,Me,Ze)):kt.content=z(kt.content,Me,Ze)})},U=(Me,Ze)=>{const kt=e.convertURL(Ze,"src");W(Me.src,Ze),_i(ve.fromDom(Me),{src:hw(e)?S(Ze):Ze,"data-mce-src":kt})},X=()=>(a||(a=QF(e,h)),he().then(v(Me=>{const Ze=Ke(Me,kt=>kt.blobInfo);return a.upload(Ze,JF(e)).then(v(kt=>{const Zt=[];let Ft=!1;const et=Ke(kt,(nt,nn)=>{const{blobInfo:Cn,image:On}=Me[nn];let so=!1;return nt.status&&Eu(e)?(nt.url&&!yr(On.src,nt.url)&&(Ft=!0),s.removeByUri(On.src),Hp(e)||U(On,nt.url)):nt.error&&(nt.error.remove&&(W(On.src,Bo.transparentSrc),Zt.push(On),so=!0),IM(e,nt.error.message)),{element:On,status:nt.status,uploadUri:nt.url,blobInfo:Cn,removed:so}});return Zt.length>0&&!Hp(e)?e.undoManager.transact(()=>{le(Zt,nt=>{e.dom.remove(nt),s.removeByUri(nt.src)})}):Ft&&e.undoManager.dispatchChange(),et}))}))),fe=()=>xu(e)?X():Promise.resolve([]),pe=Me=>sn(g,Ze=>Ze(Me)),se=Me=>{g.push(Me)},he=()=>(l||(l=dj(h,s)),l.findAll(e.getBody(),pe).then(v(Me=>{const Ze=Ve(Me,kt=>ne(kt)?(b_(e,kt),!1):kt.uriType!=="blob");return Hp(e)||le(Ze,kt=>{W(kt.image.src,kt.blobInfo.blobUri()),kt.image.src=kt.blobInfo.blobUri(),kt.image.removeAttribute("data-mce-src")}),Ze}))),Ie=()=>{s.destroy(),h.destroy(),l=a=null},Se=Me=>Me.replace(/src="(blob:[^"]+)"/g,(Ze,kt)=>{const Zt=h.getResultUri(kt);if(Zt)return'src="'+Zt+'"';let Ft=s.getByUri(kt);return Ft||(Ft=ye(e.editorManager.get(),(et,nt)=>et||nt.editorUpload&&nt.editorUpload.blobCache.getByUri(kt),void 0)),Ft?'src="data:'+Ft.blob().type+";base64,"+Ft.base64()+'"':Ze});return e.on("SetContent",()=>{xu(e)?fe():he()}),e.on("RawSaveContent",Me=>{Me.content=Se(Me.content)}),e.on("GetContent",Me=>{Me.source_view||Me.format==="raw"||Me.format==="tree"||(Me.content=Se(Me.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Me=>{le(Me,Ze=>{const kt=Ze.attr("src");if(!kt||s.getByUri(kt))return;const Zt=h.getResultUri(kt);Zt&&Ze.attr("src",Zt)})})}),{blobCache:s,addFilter:se,uploadImages:X,uploadImagesAuto:fe,scanForImages:he,destroy:Ie}},OM=e=>{const s=e.dom,a=e.schema.type,l={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:h=>{s.setStyle(h,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:h=>{s.setStyle(h,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const h={inline:"span",styles:{textDecoration:"line-through"},exact:!0},g={inline:"strike",remove:"all",preserve_attributes:["class","style"]},v={inline:"s",remove:"all",preserve_attributes:["class","style"]};return a!=="html4"?[v,h,g]:[h,v,g]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(h,g,v)=>ht(h)&&h.hasAttribute("href"),onformat:(h,g,v)=>{xt.each(v,(S,A)=>{s.setAttrib(h,A,S)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":h=>{var g;return(g=h==null?void 0:h.customValue)!==null&&g!==void 0?g:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return xt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),h=>{l[h]={block:h,remove:"all"}}),l},WT={remove_similar:!0,inherit:!1},Bv={selector:"td,th",...WT},vj={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Bv},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Bv},tablecellbordercolor:{styles:{borderColor:"%value"},...Bv},tablecellclass:{classes:["%value"],...Bv},tableclass:{selector:"table",classes:["%value"],...WT},tablecellborderstyle:{styles:{borderStyle:"%value"},...Bv},tablecellborderwidth:{styles:{borderWidth:"%value"},...Bv}},wj=ot(vj),eB=e=>{const s={},a=v=>je(v)?s[v]:s,l=v=>Ln(s,v),h=(v,S)=>{v&&(ne(v)?(We(S)||(S=[S]),le(S,A=>{st(A.deep)&&(A.deep=!vc(A)),st(A.split)&&(A.split=!vc(A)||jr(A)),st(A.remove)&&vc(A)&&!jr(A)&&(A.remove="none"),vc(A)&&jr(A)&&(A.mixed=!0,A.block_expand=!0),ne(A.classes)&&(A.classes=A.classes.split(/\s+/))}),s[v]=S):Gt(v,(A,z)=>{h(z,A)}))},g=v=>(v&&s[v]&&delete s[v],s);return h(OM(e)),h(wj()),h(TE(e)),{get:a,has:l,register:h,unregister:g}},sS=xt.each,Qc=ps.DOM,ZT=e=>je(e)&&vt(e),DM=(e,s)=>{const a=s&&s.schema||Wl({}),l=(A,z)=>{z.classes.length>0&&Qc.addClass(A,z.classes.join(" ")),Qc.setAttribs(A,z.attrs)},h=A=>{const z=ne(A)?{name:A,classes:[],attrs:{}}:A,W=Qc.create(z.name);return l(W,z),W},g=(A,z)=>{const W=a.getElementRule(A.nodeName.toLowerCase()),U=W==null?void 0:W.parentsRequired;return U&&U.length?z&&Oe(U,z)?z:U[0]:!1},v=(A,z,W)=>{let U;const X=z[0],fe=ZT(X)?X.name:void 0,pe=g(A,fe);if(pe)fe===pe?(U=X,z=z.slice(1)):U=pe;else if(X)U=X,z=z.slice(1);else if(!W)return A;const se=U?h(U):Qc.create("div");se.appendChild(A),W&&xt.each(W,Ie=>{const Se=h(Ie);se.insertBefore(Se,A)});const he=ZT(U)?U.siblings:void 0;return v(se,z,he)},S=Qc.create("div");if(e.length>0){const A=e[0],z=h(A),W=ZT(A)?A.siblings:void 0;S.appendChild(v(z,e.slice(1),W))}return S},MM=e=>{e=xt.trim(e);let s="div";const a={name:s,classes:[],attrs:{},selector:e};return e!=="*"&&(s=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(l,h,g,v,S)=>{switch(h){case"#":a.attrs.id=g;break;case".":a.classes.push(g);break;case":":xt.inArray("checked disabled enabled read-only required".split(" "),g)!==-1&&(a.attrs[g]=g);break}if(v==="["){const A=S.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(a.attrs[A[1]]=A[2])}return""})),a.name=s||"div",a},_j=e=>ne(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),xt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),s=>{const a=xt.map(s.split(/(?:~\+|~|\+)/),MM),l=a.pop();return a.length&&(l.siblings=a),l}).reverse()):[],kj=(e,s)=>{let a="",l=Zi(e);if(l==="")return"";const h=X=>ne(X)?X.replace(/%(\w+)/g,""):"",g=(X,fe)=>Qc.getStyle(fe!=null?fe:e.getBody(),X,!0);if(ne(s)){const X=e.formatter.get(s);if(!X)return"";s=X[0]}if("preview"in s){const X=s.preview;if(X===!1)return"";l=X||l}let v=s.block||s.inline||"span",S;const A=_j(s.selector);A.length>0?(A[0].name||(A[0].name=v),v=s.selector,S=DM(A,e)):S=DM([v],e);const z=Qc.select(v,S)[0]||S.firstChild;sS(s.styles,(X,fe)=>{const pe=h(X);pe&&Qc.setStyle(z,fe,pe)}),sS(s.attributes,(X,fe)=>{const pe=h(X);pe&&Qc.setAttrib(z,fe,pe)}),sS(s.classes,X=>{const fe=h(X);Qc.hasClass(z,fe)||Qc.addClass(z,fe)}),e.dispatch("PreviewFormats"),Qc.setStyles(S,{position:"absolute",left:-65535}),e.getBody().appendChild(S);const W=g("fontSize"),U=/px$/.test(W)?parseInt(W,10):0;return sS(l.split(" "),X=>{let fe=g(X,z);if(!(X==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(fe)&&(fe=g(X),Uk(fe).toLowerCase()==="#ffffff"))&&!(X==="color"&&Uk(fe).toLowerCase()==="#000000")){if(X==="font-size"&&/em|%$/.test(fe)){if(U===0)return;fe=parseFloat(fe)/(/%$/.test(fe)?100:1)*U+"px"}X==="border"&&fe&&(a+="padding:0 2px;"),a+=X+":"+fe+";"}}),e.dispatch("AfterPreviewFormats"),Qc.remove(S),a},_m=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let s=1;s<=6;s++)e.addShortcut("access+"+s,"",["FormatBlock",!1,"h"+s]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Rd=e=>{const s=eB(e),a=Ka({});return _m(e),QH(e),Hp(e)||Lee(a,e),{get:s.get,has:s.has,register:s.register,unregister:s.unregister,apply:(l,h,g)=>{OF(e,l,h,g)},remove:(l,h,g,v)=>{RU(e,l,h,g,v)},toggle:(l,h,g)=>{AU(e,l,h,g)},match:(l,h,g,v)=>AF(e,l,h,g,v),closest:l=>IF(e,l),matchAll:(l,h)=>EU(e,l,h),matchNode:(l,h,g,v)=>TU(e,l,h,g,v),canApply:l=>XC(e,l),formatChanged:(l,h,g,v)=>IU(e,a,l,h,g,v),getCssText:it(kj,e)}},rS=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},tB=(e,s,a)=>{const l=Ka(!1),h=A=>{NT(s,!1,a),s.add({},A)};e.on("init",()=>{s.add()}),e.on("BeforeExecCommand",A=>{const z=A.command;rS(z)||(Nu(s,a),s.beforeChange())}),e.on("ExecCommand",A=>{const z=A.command;rS(z)||h(A)}),e.on("ObjectResizeStart cut",()=>{s.beforeChange()}),e.on("SaveContent ObjectResized blur",h),e.on("dragend",h),e.on("keyup",A=>{const z=A.keyCode;A.isDefaultPrevented()||((z>=33&&z<=36||z>=37&&z<=40||z===45||A.ctrlKey)&&(h(),e.nodeChanged()),(z===46||z===8)&&e.nodeChanged(),l.get()&&s.typing&&!bM(DT(e),s.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),l.set(!1),e.nodeChanged()))}),e.on("keydown",A=>{const z=A.keyCode;if(A.isDefaultPrevented())return;if(z>=33&&z<=36||z>=37&&z<=40||z===45){s.typing&&h(A);return}const W=A.ctrlKey&&!A.altKey||A.metaKey;(z<16||z>20)&&z!==224&&z!==91&&!s.typing&&!W&&(s.beforeChange(),NT(s,!0,a),s.add({},A),l.set(!0))}),e.on("mousedown",A=>{s.typing&&h(A)});const g=A=>A.inputType==="insertReplacementText",v=A=>A.inputType==="insertText"&&A.data===null,S=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(g(A)||v(A)||S(A))&&h(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},GT=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},PM=e=>{const s=xs(),a=Ka(0),l=Ka(0),h={data:[],typing:!1,beforeChange:()=>{KC(e,a,s)},add:(g,v)=>BT(e,h,l,a,s,g,v),dispatchChange:()=>{e.setDirty(!0);const g=DT(e);g.bookmark=mk(e.selection),e.dispatch("change",{level:g,lastLevel:Io(h.data,l.get()).getOrUndefined()})},undo:()=>YC(e,h,a,l),redo:()=>EF(e,l,h.data),clear:()=>{TF(e,h,l)},reset:()=>{_U(e,h)},hasUndo:()=>RF(e,h,l),hasRedo:()=>kU(e,h,l),transact:g=>CU(e,h,a,g),ignore:g=>{SU(e,a,g)},extra:(g,v)=>{xU(e,h,l,g,v)}};return Hp(e)||tB(e,h,a),GT(e),h},nB=[9,27,fn.HOME,fn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,fn.DOWN,fn.UP,fn.LEFT,fn.RIGHT].concat(Bo.browser.isFirefox()?[224]:[]),zM="data-mce-placeholder",NM=e=>e.type==="keydown"||e.type==="keyup",LM=e=>{const s=e.keyCode;return s===fn.BACKSPACE||s===fn.DELETE},oB=e=>{if(NM(e)){const s=e.keyCode;return!LM(e)&&(fn.metaKeyPressed(e)||e.altKey||s>=112&&s<=123||Oe(nB,s))}else return!1},qT=e=>NM(e)&&!(LM(e)||e.type==="keyup"&&e.keyCode===229),FM=(e,s,a)=>{if(or(ve.fromDom(s),!1)){const l=s.firstElementChild;return l?e.getStyle(s.firstElementChild,"padding-left")||e.getStyle(s.firstElementChild,"padding-right")?!1:a===l.nodeName.toLowerCase():!0}else return!1},Cj=e=>{var s;const a=e.dom,l=Pr(e),h=(s=xE(e))!==null&&s!==void 0?s:"",g=(v,S)=>{if(oB(v))return;const A=e.getBody(),z=qT(v)?!1:FM(a,A,l);(a.getAttrib(A,zM)!==""!==z||S)&&(a.setAttrib(A,zM,z?h:null),a.setAttrib(A,"aria-placeholder",z?h:null),gs(e,z),e.on(z?"keydown":"keyup",g),e.off(z?"keyup":"keydown",g))};Jo(h)&&e.on("init",v=>{g(v,!0),e.on("change SetContent ExecCommand",g),e.on("paste",S=>Hs.setEditorTimeout(e,()=>g(S)))})},Sj=(e,s)=>({block:e,position:s}),xj=(e,s)=>({from:e,to:s}),BM=(e,s)=>{const a=ve.fromDom(e),l=ve.fromDom(s.container());return W2(a,l).map(h=>Sj(h,s))},sB=e=>!Yo(e.from.block,e.to.block),rB=(e,s)=>tr(s,h=>qa(h)||Uc(h.dom),h=>Yo(h,e)).filter(Cs).getOr(e),Ej=(e,s)=>{const a=ve.fromDom(e);return Yo(rB(a,s.from.block),rB(a,s.to.block))},$M=e=>eo(e.from.block.dom)===!1&&eo(e.to.block.dom)===!1,Tj=e=>{const s=a=>xg(a)||ud(a.dom);return s(e.from.block)&&s(e.to.block)},Rj=(e,s,a)=>Vs(a.position.getNode())&&!or(a.block)?ey(!1,a.block.dom).bind(l=>l.isEqual(a.position)?bc(s,e,l).bind(h=>BM(e,h)):j.some(a)).getOr(a):a,Aj=(e,s,a)=>{const l=BM(e,dt.fromRangeStart(a)),h=l.bind(g=>bc(s,e,g.position).bind(v=>BM(e,v).map(S=>Rj(e,s,S))));return fa(l,h,xj).filter(g=>sB(g)&&Ej(e,g)&&$M(g)&&Tj(g))},Ij=(e,s,a)=>a.collapsed?Aj(e,s,a):j.none(),Oj=e=>{const s=xa(e);return zt(s,Hi).fold(ot(s),a=>s.slice(0,a))},aB=e=>{const s=Oj(e);return le(s,hs),s},iB=(e,s)=>{const a=Np(s,e);return ut(a.reverse(),l=>or(l)).each(hs)},KT=e=>Ve(E1(e),s=>!or(s)).length===0,VM=(e,s,a,l)=>{if(or(a))return D(a),ql(a.dom);KT(l)&&or(s)&&Zo(l,ve.fromTag("br"));const h=Ru(a.dom,dt.before(l.dom));return le(aB(s),g=>{Zo(l,g)}),iB(e,s),h},Dj=(e,s,a)=>{if(or(a)){if(or(s)){const g=oe((v=>{const S=(A,z)=>jh(A).fold(()=>z,W=>op(W)?S(W,z.concat(rm(W))):z);return S(v,[])})(a),(v,S)=>(M1(v,S),S),O());ds(s),nr(s,g)}return hs(a),ql(s.dom)}const l=uh(a.dom);return le(aB(s),h=>{nr(a,h)}),iB(e,s),l},Mj=(e,s)=>{const a=Np(s,e);return j.from(a[a.length-1])},Pj=(e,s)=>cc(s,e)?Mj(s,e):j.none(),lB=(e,s)=>{ey(e,s.dom).bind(a=>j.from(a.getNode())).map(ve.fromDom).filter(pa).each(hs)},HM=(e,s,a)=>(lB(!0,s),lB(!1,a),Pj(s,a).fold(it(Dj,e,s,a),it(VM,e,s,a))),cB=(e,s,a,l)=>s?HM(e,l,a):HM(e,a,l),UM=(e,s)=>{const a=ve.fromDom(e.getBody());return Ij(a.dom,s,e.selection.getRng()).map(h=>()=>{cB(a,s,h.from.block,h.to.block).each(g=>{e.selection.setRng(g.toRange())})})},jM=(e,s)=>{const a=s.getRng();return fa(W2(e,ve.fromDom(a.startContainer)),W2(e,ve.fromDom(a.endContainer)),(l,h)=>Yo(l,h)?j.none():j.some(()=>{a.deleteContents(),cB(e,!0,l,h).each(g=>{s.setRng(g.toRange())})})).getOr(j.none())},uB=(e,s)=>{const a=ve.fromDom(s),l=it(Yo,e);return Ns(a,qa,l).isSome()},zj=(e,s)=>uB(e,s.startContainer)||uB(e,s.endContainer),Nj=(e,s)=>{const a=Ru(e.dom,dt.fromRangeStart(s)).isNone(),l=Ri(e.dom,dt.fromRangeEnd(s)).isNone();return!zj(e,s)&&a&&l},Lj=e=>j.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),Fj=e=>{const s=ve.fromDom(e.getBody()),a=e.selection.getRng();return Nj(s,a)?Lj(e):jM(s,e.selection)},WM=(e,s)=>e.selection.isCollapsed()?j.none():Fj(e),Wp=(e,s,a,l,h)=>j.from(s._selectionOverrides.showCaret(e,a,l,h)),YT=e=>{const s=e.ownerDocument.createRange();return s.selectNode(e),s},Ay=(e,s)=>e.dispatch("BeforeObjectSelected",{target:s}).isDefaultPrevented()?j.none():j.some(YT(s)),Bj=(e,s,a)=>{const l=Mk(1,e.getBody(),s),h=dt.fromRangeStart(l),g=h.getNode();if(_p(g))return Wp(1,e,g,!h.isAtEnd(),!1);const v=h.getNode(!0);if(_p(v))return Wp(1,e,v,!1,!1);const S=Fp(e.dom.getRoot(),h.getNode());return _p(S)?Wp(1,e,S,!1,a):j.none()},ZM=(e,s,a)=>s.collapsed?Bj(e,s,a).getOr(s):s,XT=e=>bv(e)||Bn(e),$j=e=>vv(e)||xC(e),Vj=(e,s)=>{Pt(s)&&s.data.length===0&&e.remove(s)},dB=(e,s,a,l,h,g)=>{Wp(l,e,g.getNode(!h),h,!0).each(v=>{if(s.collapsed){const S=s.cloneRange();h?S.setEnd(v.startContainer,v.startOffset):S.setStart(v.endContainer,v.endOffset),S.deleteContents()}else s.deleteContents();e.selection.setRng(v)}),Vj(e.dom,a)},Hj=(e,s)=>{const a=e.selection.getRng();if(!Pt(a.commonAncestorContainer))return j.none();const l=s?ya.Forwards:ya.Backwards,h=vd(e.getBody()),g=it(ch,s?h.next:h.prev),v=s?XT:$j,S=Pk(l,e.getBody(),a),A=g(S),z=A&&Qs(s,A);if(!z||!Ew(S,z))return j.none();if(v(z))return j.some(()=>dB(e,a,S.getNode(),l,s,z));const W=g(z);return W&&v(W)&&Ew(z,W)?j.some(()=>dB(e,a,S.getNode(),l,s,W)):j.none()},GM=(e,s)=>Hj(e,s),qM=(e,s)=>{const a=e.getBody();return s?ql(a).filter(bv):uh(a).filter(vv)},KM=e=>{const s=e.selection.getRng();return!s.collapsed&&(qM(e,!0).exists(a=>a.isEqual(dt.fromRangeStart(s)))||qM(e,!1).exists(a=>a.isEqual(dt.fromRangeEnd(s))))},Uj=e=>je(e)&&(qa(ve.fromDom(e))||li(ve.fromDom(e))),Lu=Js.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),jj=(e,s)=>{const a=s.getNode(!e),l=e?"after":"before";return ht(a)&&a.getAttribute("data-mce-caret")===l},Wj=(e,s,a,l)=>{const h=g=>op(ve.fromDom(g))&&!zr(a,l,e);return Jg(!s,a).fold(()=>Jg(s,l).fold(Ee,h),h)},Zj=(e,s,a,l)=>{const h=l.getNode(!s);return W2(ve.fromDom(e),ve.fromDom(a.getNode())).map(g=>or(g)?Lu.remove(g.dom):Lu.moveToElement(h)).orThunk(()=>j.some(Lu.moveToElement(h)))},Ad=(e,s,a)=>bc(s,e,a).bind(l=>Uj(l.getNode())||Wj(e,s,a,l)?j.none():s&&eo(l.getNode())||!s&&eo(l.getNode(!0))?Zj(e,s,a,l):s&&vv(a)||!s&&bv(a)?j.some(Lu.moveToPosition(l)):j.none()),YM=(e,s)=>wt(s)?j.none():e&&eo(s.nextSibling)?j.some(Lu.moveToElement(s.nextSibling)):!e&&eo(s.previousSibling)?j.some(Lu.moveToElement(s.previousSibling)):j.none(),fB=(e,s,a)=>a.fold(l=>j.some(Lu.remove(l)),l=>j.some(Lu.moveToElement(l)),l=>zr(s,l,e)?j.none():j.some(Lu.moveToPosition(l))),hB=(e,s,a)=>jj(s,a)?YM(s,a.getNode(!s)).orThunk(()=>Ad(e,s,a)):Ad(e,s,a).bind(l=>fB(e,a,l)),Gj=(e,s,a)=>{const l=Mk(s?1:-1,e,a),h=dt.fromRangeStart(l),g=ve.fromDom(e);return!s&&vv(h)?j.some(Lu.remove(h.getNode(!0))):s&&bv(h)?j.some(Lu.remove(h.getNode())):!s&&bv(h)&&YO(g,h)?Dee(g,h).map(v=>Lu.remove(v.getNode())):s&&vv(h)&&$2(g,h)?Mee(g,h).map(v=>Lu.remove(v.getNode())):hB(e,s,h)},mB=(e,s)=>a=>(e._selectionOverrides.hideFakeCaret(),_v(e,s,ve.fromDom(a)),!0),qj=(e,s)=>a=>{const l=s?dt.before(a):dt.after(a);return e.selection.setRng(l.toRange()),!0},pB=e=>s=>(e.selection.setRng(s.toRange()),!0),gB=(e,s)=>j.from(Fp(e.getBody(),s)),Kj=(e,s)=>{const a=e.selection.getNode();return gB(e,a).filter(eo).fold(()=>Gj(e.getBody(),s,e.selection.getRng()).map(l=>()=>l.fold(mB(e,s),qj(e,s),pB(e))),()=>j.some(It))},Yj=e=>{le(Ta(e,".mce-offscreen-selection"),hs)},k_=(e,s)=>{const a=e.selection.getNode();return eo(a)&&!Cl(a)?gB(e,a.parentNode).filter(eo).fold(()=>j.some(()=>{Yj(ve.fromDom(e.getBody())),_v(e,s,ve.fromDom(e.selection.getNode())),rD(e)}),()=>j.some(It)):KM(e)?j.some(()=>{Cd(e,e.selection.getRng(),ve.fromDom(e.getBody()))}):j.none()},XM=e=>{const s=e.dom,a=e.selection,l=Fp(e.getBody(),a.getNode());if(Uc(l)&&s.isBlock(l)&&s.isEmpty(l)){const h=s.create("br",{"data-mce-bogus":"1"});s.setHTML(l,""),l.appendChild(h),a.setRng(dt.before(h).toRange())}return!0},JT=(e,s)=>e.selection.isCollapsed()?Kj(e,s):k_(e,s),yB=(e,s)=>{const a=dt.fromRangeStart(e.selection.getRng());return bc(s,e.getBody(),a).filter(l=>s?Iee(l):rH(l)).bind(l=>Sp(s?0:-1,l)).map(l=>()=>e.selection.select(l))},aS=(e,s)=>e.selection.isCollapsed()?yB(e,s):j.none(),C_=Pt,bB=e=>C_(e)&&e.data[0]===te,vB=e=>C_(e)&&e.data[e.data.length-1]===te,Xj=e=>{var s;return((s=e.ownerDocument)!==null&&s!==void 0?s:document).createTextNode(te)},Xee=e=>{var s;if(C_(e.previousSibling))return vB(e.previousSibling)||e.previousSibling.appendData(te),e.previousSibling;if(C_(e))return bB(e)||e.insertData(0,te),e;{const a=Xj(e);return(s=e.parentNode)===null||s===void 0||s.insertBefore(a,e),a}},Jee=e=>{var s,a;if(C_(e.nextSibling))return bB(e.nextSibling)||e.nextSibling.insertData(0,te),e.nextSibling;if(C_(e))return vB(e)||e.appendData(te),e;{const l=Xj(e);return e.nextSibling?(s=e.parentNode)===null||s===void 0||s.insertBefore(l,e.nextSibling):(a=e.parentNode)===null||a===void 0||a.appendChild(l),l}},eu=(e,s)=>e?Xee(s):Jee(s),Jj=it(eu,!0),Qj=it(eu,!1),JM=(e,s)=>Pt(e.container())?eu(s,e.container()):eu(s,e.getNode()),QT=(e,s)=>{const a=s.get();return a&&e.container()===a&&Wn(a)},wB=(e,s)=>s.fold(a=>{um(e.get());const l=Jj(a);return e.set(l),j.some(dt(l,l.length-1))},a=>ql(a).map(l=>{if(QT(l,e)){const h=e.get();return dt(h,1)}else{um(e.get());const h=JM(l,!0);return e.set(h),dt(h,1)}}),a=>uh(a).map(l=>{if(QT(l,e)){const h=e.get();return dt(h,h.length-1)}else{um(e.get());const h=JM(l,!1);return e.set(h),dt(h,h.length-1)}}),a=>{um(e.get());const l=Qj(a);return e.set(l),j.some(dt(l,1))}),eW=(e,s)=>{for(let a=0;a<e.length;a++){const l=e[a].apply(null,s);if(l.isSome())return l}return j.none()},Cc=Js.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Fu=(e,s)=>{const a=dm(s,e);return a||e},tW=(e,s,a)=>{const l=es(a),h=Fu(s,l.container());return Us(e,h,l).fold(()=>Ri(h,l).bind(it(Us,e,h)).map(g=>Cc.before(g)),j.none)},nW=(e,s)=>ea(e,s)===null,_B=(e,s,a)=>Us(e,s,a).filter(it(nW,s)),oW=(e,s,a)=>{const l=Mu(a);return _B(e,s,l).bind(h=>Ru(h,l).isNone()?j.some(Cc.start(h)):j.none())},sW=(e,s,a)=>{const l=es(a);return _B(e,s,l).bind(h=>Ri(h,l).isNone()?j.some(Cc.end(h)):j.none())},rW=(e,s,a)=>{const l=Mu(a),h=Fu(s,l.container());return Us(e,h,l).fold(()=>Ru(h,l).bind(it(Us,e,h)).map(g=>Cc.after(g)),j.none)},Iy=e=>!SH(QM(e)),km=(e,s,a)=>eW([tW,oW,sW,rW],[e,s,a]).filter(Iy),QM=e=>e.fold(Nn,Nn,Nn,Nn),kB=e=>e.fold(ot("before"),ot("start"),ot("end"),ot("after")),S_=e=>e.fold(Cc.before,Cc.before,Cc.after,Cc.after),iS=e=>e.fold(Cc.start,Cc.start,Cc.end,Cc.end),CB=(e,s)=>kB(e)===kB(s)&&QM(e)===QM(s),SB=(e,s,a,l,h,g)=>fa(Us(s,a,l),Us(s,a,h),(v,S)=>v!==S&&j2(a,v,S)?Cc.after(e?v:S):g).getOr(g),xB=(e,s)=>e.fold(me,a=>!CB(a,s)),aW=(e,s,a,l,h)=>{const g=Qs(e,h);return bc(e,a,g).map(it(Qs,e)).fold(()=>l.map(S_),A=>km(s,a,A).map(it(SB,e,s,a,g,A)).filter(it(xB,l))).filter(Iy)},lS=(e,s)=>e?s.fold(L(j.some,Cc.start),j.none,L(j.some,Cc.after),j.none):s.fold(j.none,L(j.some,Cc.before),j.none,L(j.some,Cc.end)),iW=(e,s,a,l)=>{const h=Qs(e,l),g=km(s,a,h);return km(s,a,h).bind(it(lS,e)).orThunk(()=>aW(e,s,a,g,l))},lW=e=>ue(e.selection.getSel().modify),EB=(e,s,a)=>{const l=e?1:-1;return s.setRng(dt(a.container(),a.offset()+l).toRange()),s.getSel().modify("move",e?"forward":"backward","word"),!0},cW=(e,s)=>{const a=s.selection.getRng(),l=e?dt.fromRangeEnd(a):dt.fromRangeStart(a);return lW(s)?e&&Ui(l)?EB(!0,s.selection,l):!e&&Aa(l)?EB(!1,s.selection,l):!1:!1};var Cm;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Cm||(Cm={}));const eR=(e,s)=>e===ya.Backwards?_n(s):s,uW=(e,s,a)=>e===ya.Forwards?s.next(a):s.prev(a),TB=(e,s,a,l)=>Vs(l.getNode(s===ya.Forwards))?Cm.Br:zr(a,l)===!1?Cm.Block:Cm.Wrap,RB=(e,s,a,l)=>{const h=vd(a);let g=l;const v=[];for(;g;){const S=uW(s,h,g);if(!S)break;if(Vs(S.getNode(!1)))return s===ya.Forwards?{positions:eR(s,v).concat([S]),breakType:Cm.Br,breakAt:j.some(S)}:{positions:eR(s,v),breakType:Cm.Br,breakAt:j.some(S)};if(!S.isVisible()){g=S;continue}if(e(g,S)){const A=TB(a,s,g,S);return{positions:eR(s,v),breakType:A,breakAt:j.some(S)}}v.push(S),g=S}return{positions:eR(s,v),breakType:Cm.Eol,breakAt:j.none()}},Oy=(e,s,a,l)=>s(a,l).breakAt.map(h=>{const g=s(a,h).positions;return e===ya.Backwards?g.concat(h):[h].concat(g)}).getOr([]),tR=(e,s)=>ye(e,(a,l)=>a.fold(()=>j.some(l),h=>fa(_s(h.getClientRects()),_s(l.getClientRects()),(g,v)=>{const S=Math.abs(s-g.left);return Math.abs(s-v.left)<=S?l:h}).or(a)),j.none()),x_=(e,s)=>_s(s.getClientRects()).bind(a=>tR(e,a.left)),E_=it(RB,dt.isAbove,-1),$v=it(RB,dt.isBelow,1),Zp=it(Oy,-1,E_),eP=it(Oy,1,$v),Id=(e,s)=>E_(e,s).breakAt.isNone(),Vv=(e,s)=>$v(e,s).breakAt.isNone(),tP=e=>ql(e).map(s=>[s].concat($v(e,s).positions)).getOr([]),dW=e=>uh(e).map(s=>E_(e,s).positions.concat(s)).getOr([]),AB=(e,s)=>x_(Zp(e,s),s),fW=(e,s)=>x_(eP(e,s),s),hW=eo,IB=(e,s)=>Math.abs(e.left-s),OB=(e,s)=>Math.abs(e.right-s),mW=e=>oi(e,"node"),nP=(e,s)=>Oi(e,(a,l)=>{const h=Math.min(IB(a,s),OB(a,s)),g=Math.min(IB(l,s),OB(l,s));return g===h&&mW(l)&&hW(l.node)||g<h?l:a}),pW=e=>{const s=a=>Ke(a,l=>{const h=ah(l);return h.node=e,h});if(ht(e))return s(e.getClientRects());if(Pt(e)){const a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),s(a.getClientRects())}else return[]},DB=e=>Vt(e,pW);var Sm;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Sm||(Sm={}));const oP=(e,s,a,l)=>{let h=l;for(;h=Yg(h,e,B1,s);)if(a(h))return},sP=(e,s,a,l,h,g)=>{let v=0;const S=[],A=U=>{let X=DB([U]);e===-1&&(X=X.reverse());for(let fe=0;fe<X.length;fe++){const pe=X[fe];if(!a(pe,z)){if(S.length>0&&s(pe,ja(S))&&v++,pe.line=v,h(pe))return!0;S.push(pe)}}return!1},z=ja(g.getClientRects());if(!z)return S;const W=g.getNode();return W&&(A(W),oP(e,l,A,W)),S},MB=(e,s)=>s.line>e,rP=(e,s)=>s.line===e,gW=it(sP,Sm.Up,Da,Sl),yW=it(sP,Sm.Down,Sl,Da),PB=e=>ja(e.getClientRects()),bW=(e,s,a,l)=>{const h=vd(s);let g,v,S,A;const z=[];let W=0;e===1?(g=h.next,v=Sl,S=Da,A=dt.after(l)):(g=h.prev,v=Da,S=Sl,A=dt.before(l));const U=PB(A);do{if(!A.isVisible())continue;const X=PB(A);if(S(X,U))continue;z.length>0&&v(X,ja(z))&&W++;const fe=ah(X);if(fe.position=A,fe.line=W,a(fe))return z;z.push(fe)}while(A=g(A));return z},zB=e=>s=>MB(e,s),aP=e=>s=>rP(e,s),Gp=(e,s)=>{e.selection.setRng(s),gt(e,e.selection.getRng())},nR=(e,s,a)=>j.some(ZM(e,s,a)),NB=(e,s,a,l,h,g)=>{const v=s===ya.Forwards,S=vd(e.getBody()),A=it(ch,v?S.next:S.prev),z=v?l:h;if(!a.collapsed){const pe=Ab(a);if(g(pe))return Wp(s,e,pe,s===ya.Backwards,!1);if(KM(e)){const se=a.cloneRange();return se.collapse(s===ya.Backwards),j.from(se)}}const W=Pk(s,e.getBody(),a);if(z(W))return Ay(e,W.getNode(!v));let U=A(W);const X=Xf(a);if(U)U=Qs(v,U);else return X?j.some(a):j.none();if(z(U))return Wp(s,e,U.getNode(!v),v,!1);const fe=A(U);return fe&&z(fe)&&Ew(U,fe)?Wp(s,e,fe.getNode(!v),v,!1):X?nR(e,U.toRange(),!1):j.none()},LB=(e,s,a,l,h,g)=>{const v=Pk(s,e.getBody(),a),S=ja(v.getClientRects()),A=s===Sm.Down,z=e.getBody();if(!S)return j.none();if(KM(e)){const he=A?dt.fromRangeEnd(a):dt.fromRangeStart(a);return(A?fW:AB)(z,he).orThunk(()=>j.from(he)).map(Se=>Se.toRange())}const U=(A?yW:gW)(z,zB(1),v),X=Ve(U,aP(1)),fe=S.left,pe=nP(X,fe);if(pe&&g(pe.node)){const he=Math.abs(fe-pe.left),Ie=Math.abs(fe-pe.right);return Wp(s,e,pe.node,he<Ie,!1)}let se;if(l(v)?se=v.getNode():h(v)?se=v.getNode(!0):se=Ab(a),se){const he=bW(s,z,zB(1),se);let Ie=nP(Ve(he,aP(1)),fe);if(Ie||(Ie=ja(Ve(he,aP(0))),Ie))return nR(e,Ie.position.toRange(),!1)}return X.length===0?Sc(e,A).filter(A?h:l).map(he=>ZM(e,he.toRange(),!1)):j.none()},Sc=(e,s)=>{const a=e.selection.getRng(),l=s?dt.fromRangeEnd(a):dt.fromRangeStart(a),h=xw(l.container(),e.getBody());if(s){const g=$v(h,l);return Uo(g.positions)}else{const g=E_(h,l);return _s(g.positions)}},FB=(e,s,a)=>Sc(e,s).filter(a).exists(l=>(e.selection.setRng(l.toRange()),!0)),T_=(e,s)=>{const a=e.dom.createRng();a.setStart(s.container(),s.offset()),a.setEnd(s.container(),s.offset()),e.selection.setRng(a)},iP=(e,s)=>{e?s.setAttribute("data-mce-selected","inline-boundary"):s.removeAttribute("data-mce-selected")},oR=(e,s,a)=>wB(s,a).map(l=>(T_(e,l),a)),vW=(e,s,a)=>{const l=dt.fromRangeStart(e);if(e.collapsed)return l;{const h=dt.fromRangeEnd(e);return a?Ru(s,h).getOr(h):Ri(s,l).getOr(l)}},wW=(e,s,a)=>{const l=e.getBody(),h=vW(e.selection.getRng(),l,a),g=it(kd,e);return iW(a,g,l,h).bind(S=>oR(e,s,S))},_W=(e,s,a)=>{const l=Ke(Ta(ve.fromDom(s.getRoot()),'*[data-mce-selected="inline-boundary"]'),v=>v.dom),h=Ve(l,e),g=Ve(a,e);le(Un(h,g),it(iP,!1)),le(Un(g,h),it(iP,!0))},kW=(e,s)=>{const a=s.get();if(e.selection.isCollapsed()&&!e.composing&&a){const l=dt.fromRangeStart(e.selection.getRng());dt.isTextPosition(l)&&!Pee(l)&&(T_(e,KE(a,l)),s.set(null))}},CW=(e,s,a,l)=>{if(s.selection.isCollapsed()){const h=Ve(l,e);le(h,g=>{const v=dt.fromRangeStart(s.selection.getRng());km(e,s.getBody(),v).bind(S=>oR(s,a,S))})}},lP=(e,s,a)=>ns(e)?wW(e,s,a).isSome():!1,BB=(e,s,a)=>ns(s)?cW(e,s):!1,SW=e=>{const s=Ka(null),a=it(kd,e);return e.on("NodeChange",l=>{ns(e)&&(_W(a,e.dom,l.parents),kW(e,s),CW(a,e,s,l.parents))}),s},cS=it(BB,!0),qp=it(BB,!1),xm=(e,s,a)=>{if(ns(e)){const l=Sc(e,s).getOrThunk(()=>{const h=e.selection.getRng();return s?dt.fromRangeEnd(h):dt.fromRangeStart(h)});return km(it(kd,e),e.getBody(),l).exists(h=>{const g=S_(h);return wB(a,g).exists(v=>(T_(e,v),!0))})}else return!1},sR=(e,s)=>{const a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(s.container(),s.offset()),a},cP=e=>fa(ql(e),uh(e),(s,a)=>{const l=Qs(!0,s),h=Qs(!1,a);return Ri(e,l).forall(g=>g.isEqual(h))}).getOr(!0),rR=(e,s)=>a=>wB(s,a).map(l=>()=>T_(e,l)),uP=(e,s,a,l)=>{const h=e.getBody(),g=it(kd,e);e.undoManager.ignore(()=>{e.selection.setRng(sR(a,l)),RC(e),km(g,h,dt.fromRangeStart(e.selection.getRng())).map(iS).bind(rR(e,s)).each(Et)}),e.nodeChanged()},xW=(e,s)=>{const a=dm(s,e);return a||e},$B=(e,s,a,l)=>{const h=xW(e.getBody(),l.container()),g=it(kd,e),v=km(g,h,l);return v.bind(A=>a?A.fold(ot(j.some(iS(A))),j.none,ot(j.some(S_(A))),j.none):A.fold(j.none,ot(j.some(S_(A))),j.none,ot(j.some(iS(A))))).map(rR(e,s)).getOrThunk(()=>{const A=Ow(a,h,l),z=A.bind(W=>km(g,h,W));return fa(v,z,()=>Us(g,h,l).bind(W=>cP(W)?j.some(()=>{_v(e,a,ve.fromDom(W))}):j.none())).getOrThunk(()=>z.bind(()=>A.map(W=>()=>{a?uP(e,s,l,W):uP(e,s,W,l)})))})},aR=(e,s,a)=>{if(e.selection.isCollapsed()&&ns(e)){const l=dt.fromRangeStart(e.selection.getRng());return $B(e,s,a,l)}return j.none()},EW=e=>_l(e)>1,VB=(e,s)=>{const a=ve.fromDom(e.getBody()),l=ve.fromDom(e.selection.getStart()),h=Np(l,a);return zt(h,s).fold(ot(h),g=>h.slice(0,g))},TW=e=>VB(e,s=>Hi(s)||EW(s)),RW=e=>VB(e,Hi),HB=(e,s)=>{const a=it(xd,e);return Vt(s,l=>a(l)?[l.dom]:[])},UB=e=>{const s=RW(e);return HB(e,s)},jB=(e,s,a,l)=>{const h=HB(s,l);if(h.length===0)_v(s,e,a);else{const g=FC(a.dom,h);s.selection.setRng(g.toRange())}},WB=(e,s)=>{const a=TW(e);return Uo(a).bind(l=>{const h=dt.fromRangeStart(e.selection.getRng());return aD(s,h,l.dom)&&!BC(l)?j.some(()=>jB(s,e,l,a)):j.none()})},Qee=(e,s)=>{const a=s.parentElement;return Vs(s)&&!J(a)&&e.dom.isEmpty(a)},ete=e=>BC(ve.fromDom(e)),AW=(e,s)=>{const a=e.selection.getStart(),l=Qee(e,a)||ete(a)?FC(a,s):e9(e,s);e.selection.setRng(l.toRange())},IW=(e,s)=>{const a=Un(s,UB(e));a.length>0&&AW(e,a)},OW=e=>Pt(e.startContainer),tte=e=>e.startOffset===0&&OW(e),DW=(e,s)=>{const a=s.startContainer.parentElement;return!J(a)&&xd(e,ve.fromDom(a))},MW=e=>{const s=e.startContainer.parentNode,a=e.endContainer.parentNode;return!J(s)&&!J(a)&&s.isEqualNode(a)},nte=e=>{const s=e.endContainer;return e.endOffset===(Pt(s)?s.length:s.childNodes.length)},PW=e=>MW(e)&&nte(e),tu=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),ZB=e=>PW(e)||tu(e),uS=e=>{const s=e.selection.getRng();return tte(s)&&DW(e,s)&&ZB(s)},zW=e=>{if(uS(e)){const s=UB(e);return j.some(()=>{RC(e),IW(e,s)})}else return j.none()},iR=(e,s)=>e.selection.isCollapsed()?WB(e,s):zW(e),GB=e=>dT(e,s=>ul(s.dom),Hi),dP=e=>GB(ve.fromDom(e.selection.getStart())),NW=e=>{const s=e.selection.getRng();return s.collapsed&&(OW(s)||e.dom.isEmpty(s.startContainer))&&!dP(e)},dS=e=>(NW(e)&&AW(e,[]),!0),lR=(e,s,a)=>je(a)?j.some(()=>{e._selectionOverrides.hideFakeCaret(),_v(e,s,ve.fromDom(a))}):j.none(),LW=(e,s)=>{const a=s?Bn:xC,l=s?ya.Forwards:ya.Backwards,h=Pk(l,e.getBody(),e.selection.getRng());return a(h)?lR(e,s,h.getNode(!s)):j.from(Qs(s,h)).filter(g=>a(g)&&Ew(h,g)).bind(g=>lR(e,s,g.getNode(!s)))},FW=(e,s)=>{const a=e.selection.getNode();return sl(a)?lR(e,s,a):j.none()},fS=(e,s)=>e.selection.isCollapsed()?LW(e,s):FW(e,s),BW=e=>tr(e,s=>Uc(s.dom)||eo(s.dom)).exists(s=>Uc(s.dom)),qB=e=>Pc(e!=null?e:"").getOr(0),KB=(e,s)=>{const a=e||Kf(s)?"margin":"padding",l=dc(s,"direction")==="rtl"?"-right":"-left";return a+l},$W=(e,s,a,l,h,g)=>{const v=KB(a,ve.fromDom(g)),S=qB(e.getStyle(g,v));if(s==="outdent"){const A=Math.max(0,S-l);e.setStyle(g,v,A?A+h:"")}else{const A=S+l+h;e.setStyle(g,v,A)}},fP=(e,s)=>sn(s,a=>{const l=KB(_E(e),a),h=ai(a,l).map(qB).getOr(0);return e.dom.getContentEditable(a.dom)!=="false"&&h>0}),hP=e=>{const s=YB(e);return!e.mode.isReadOnly()&&(s.length>1||fP(e,s))},VW=e=>Be(e)||li(e),HW=e=>Ll(e).exists(VW),YB=e=>Ve(Qd(e.selection.getSelectedBlocks()),s=>!VW(s)&&!HW(s)&&BW(s)),XB=(e,s)=>{var a,l;const{dom:h}=e,g=jg(e),v=(l=(a=/[a-z%]+$/i.exec(g))===null||a===void 0?void 0:a[0])!==null&&l!==void 0?l:"px",S=qB(g),A=_E(e);le(YB(e),z=>{$W(h,s,A,S,v,z.dom)})},mP=e=>XB(e,"indent"),hS=e=>XB(e,"outdent"),pP=e=>{if(e.selection.isCollapsed()&&hP(e)){const s=e.dom,a=e.selection.getRng(),l=dt.fromRangeStart(a),h=s.getParent(a.startContainer,s.isBlock);if(h!==null&&KO(ve.fromDom(h),l))return j.some(()=>hS(e))}return j.none()},gP=(e,s,a)=>Dl([pP,JT,GM,(l,h)=>aR(l,s,h),UM,Q2,aS,fS,WM,iR],l=>l(e,a)).filter(l=>e.selection.isEditable()),UW=(e,s)=>{gP(e,s,!1).fold(()=>{RC(e),rD(e)},Et)},jW=(e,s)=>{gP(e,s,!0).fold(()=>sD(e),Et)},yP=(e,s)=>{e.addCommand("delete",()=>{UW(e,s)}),e.addCommand("forwardDelete",()=>{jW(e,s)})},JB=5,WW=400,QB=e=>e.touches===void 0||e.touches.length!==1?j.none():j.some(e.touches[0]),ZW=(e,s)=>{const a=Math.abs(e.clientX-s.x),l=Math.abs(e.clientY-s.y);return a>JB||l>JB},Sf=e=>{const s=xs(),a=Ka(!1),l=Cu(h=>{e.dispatch("longpress",{...h,type:"longpress"}),a.set(!0)},WW);e.on("touchstart",h=>{QB(h).each(g=>{l.cancel();const v={x:g.clientX,y:g.clientY,target:h.target};l.throttle(h),a.set(!1),s.set(v)})},!0),e.on("touchmove",h=>{l.cancel(),QB(h).each(g=>{s.on(v=>{ZW(g,v)&&(s.clear(),a.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",h=>{l.cancel(),h.type!=="touchcancel"&&s.get().filter(g=>g.target.isEqualNode(h.target)).each(()=>{a.get()?h.preventDefault():e.dispatch("tap",{...h,type:"tap"})})},!0)},cR=(e,s)=>Ln(e,s.nodeName),e5=(e,s)=>Pt(s)?!0:ht(s)?!cR(e.getBlockElements(),s)&&!Ma(s)&&!Qh(e,s):!1,ote=(e,s,a)=>pt(iH(ve.fromDom(a),ve.fromDom(s)),l=>cR(e,l.dom)),ste=(e,s)=>{if(Pt(s)){if(s.data.length===0)return!0;if(/^\s+$/.test(s.data)&&(!s.nextSibling||cR(e,s.nextSibling)))return!0}return!1},GW=e=>e.dom.create(Pr(e),fw(e)),rte=e=>{const s=e.dom,a=e.selection,l=e.schema,h=l.getBlockElements(),g=a.getStart(),v=e.getBody();let S,A,z=!1;const W=Pr(e);if(!g||!ht(g))return;const U=v.nodeName.toLowerCase();if(!l.isValidChild(U,W.toLowerCase())||ote(h,v,g))return;const X=a.getRng(),{startContainer:fe,startOffset:pe,endContainer:se,endOffset:he}=X,Ie=my(e);let Se=v.firstChild;for(;Se;)if(ht(Se)&&ap(l,Se),e5(l,Se)){if(ste(h,Se)){A=Se,Se=Se.nextSibling,s.remove(A);continue}S||(S=GW(e),v.insertBefore(S,Se),z=!0),A=Se,Se=Se.nextSibling,S.appendChild(A)}else S=null,Se=Se.nextSibling;z&&Ie&&(X.setStart(fe,pe),X.setEnd(se,he),a.setRng(X),e.nodeChanged())},t5=(e,s,a)=>{const l=ve.fromDom(GW(e)),h=O();nr(l,h),a(s,l);const g=document.createRange();return g.setStartBefore(h.dom),g.setEndBefore(h.dom),g},uR=e=>{e.on("NodeChange",it(rte,e))},n5=e=>s=>(" "+s.attr("class")+" ").indexOf(e)!==-1,bP=(e,s,a)=>function(l){const h=arguments,g=h[h.length-2],v=g>0?s.charAt(g-1):"";if(v==='"')return l;if(v===">"){const S=s.lastIndexOf("<",g);if(S!==-1&&s.substring(S,g).indexOf('contenteditable="false"')!==-1)return l}return'<span class="'+a+'" data-mce-content="'+e.dom.encode(h[0])+'">'+e.dom.encode(typeof h[1]=="string"?h[1]:h[0])+"</span>"},o5=(e,s,a)=>{let l=s.length,h=a.content;if(a.format!=="raw"){for(;l--;)h=h.replace(s[l],bP(e,h,$E(e)));a.content=h}},s5=e=>{const s="contenteditable",a=" "+xt.trim(VE(e))+" ",l=" "+xt.trim($E(e))+" ",h=n5(a),g=n5(l),v=$I(e);v.length>0&&e.on("BeforeSetContent",S=>{o5(e,v,S)}),e.parser.addAttributeFilter("class",S=>{let A=S.length;for(;A--;){const z=S[A];h(z)?z.attr(s,"true"):g(z)&&z.attr(s,"false")}}),e.serializer.addAttributeFilter(s,S=>{let A=S.length;for(;A--;){const z=S[A];!h(z)&&!g(z)||(v.length>0&&z.attr("data-mce-content")?(z.name="#text",z.type=3,z.raw=!0,z.value=z.attr("data-mce-content")):z.attr(s,null))}})},r5=e=>Wh(ve.fromDom(e.getBody()),"*[data-mce-caret]").map(s=>s.dom).getOrNull(),a5=(e,s)=>{s.hasAttribute("data-mce-caret")&&(Ul(s),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(s))},qW=(e,s)=>{const a=r5(e);if(!!a){if(s.type==="compositionstart"){s.preventDefault(),s.stopPropagation(),a5(e,a);return}ss(a)&&(a5(e,a),e.undoManager.add())}},KW=e=>{e.on("keyup compositionstart",it(qW,e))},i5=eo,dR=(e,s,a)=>NB(s,e,a,bv,vv,i5),YW=(e,s,a)=>LB(s,e,a,g=>bv(g)||no(g),g=>vv(g)||GO(g),i5),XW=e=>{const s=e.dom.create(Pr(e));return s.innerHTML='<br data-mce-bogus="1">',s},l5=(e,s,a)=>{const l=vd(e.getBody()),h=it(ch,s===1?l.next:l.prev);if(a.collapsed){const g=e.dom.getParent(a.startContainer,"PRE");if(!g)return;if(!h(dt.fromRangeStart(a))){const S=ve.fromDom(XW(e));s===1?od(ve.fromDom(g),S):Zo(ve.fromDom(g),S),e.selection.select(S.dom,!0),e.selection.collapse()}}},vP=(e,s)=>{const a=s?ya.Forwards:ya.Backwards,l=e.selection.getRng();return dR(a,e,l).orThunk(()=>(l5(e,a,l),j.none()))},JW=(e,s)=>{const a=s?1:-1,l=e.selection.getRng();return YW(a,e,l).orThunk(()=>(l5(e,a,l),j.none()))},c5=(e,s)=>vP(e,s).exists(a=>(Gp(e,a),!0)),wP=(e,s)=>JW(e,s).exists(a=>(Gp(e,a),!0)),u5=(e,s)=>FB(e,s,s?vv:bv),fR=(e,s)=>qM(e,!s).map(a=>{const l=a.toRange(),h=e.selection.getRng();return s?l.setStart(h.startContainer,h.startOffset):l.setEnd(h.endContainer,h.endOffset),l}).exists(a=>(Gp(e,a),!0)),QW=e=>Oe(["figcaption"],ks(e)),eZ=(e,s)=>{const a=it(Yo,s);return tr(ve.fromDom(e.container()),Hi,a).filter(QW)},tZ=(e,s,a)=>s?Vv(e.dom,a):Id(e.dom,a),nZ=(e,s)=>{const a=ve.fromDom(e.getBody()),l=dt.fromRangeStart(e.selection.getRng());return eZ(l,a).exists(()=>{if(tZ(a,s,l)){const g=t5(e,a,s?nr:Xd);return e.selection.setRng(g),!0}else return!1})},hR=(e,s)=>e.selection.isCollapsed()?nZ(e,s):!1,d5={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},f5=e=>Ke(e,s=>({...d5,...s})),oZ=e=>Ke(e,s=>({...d5,...s})),h5=(e,s)=>s.keyCode===e.keyCode&&s.shiftKey===e.shiftKey&&s.altKey===e.altKey&&s.ctrlKey===e.ctrlKey&&s.metaKey===e.metaKey,sZ=(e,s)=>Vt(f5(e),a=>h5(a,s)?[a]:[]),rZ=(e,s)=>Vt(oZ(e),a=>h5(a,s)?[a]:[]),ro=(e,...s)=>()=>e.apply(null,s),mS=(e,s)=>ut(sZ(e,s),a=>a.action()),va=(e,s)=>Dl(rZ(e,s),a=>a.action()),m5=(e,s)=>{const a=s?ya.Forwards:ya.Backwards,l=e.selection.getRng();return NB(e,a,l,Bn,xC,sl).exists(h=>(Gp(e,h),!0))},p5=(e,s)=>{const a=s?1:-1,l=e.selection.getRng();return LB(e,a,l,Bn,xC,sl).exists(h=>(Gp(e,h),!0))},g5=(e,s)=>FB(e,s,s?xC:Bn),_P=Js.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),R_={..._P,none:e=>_P.none(e)},Dy=(e,s)=>mR(e,s,me),mR=(e,s,a)=>Vt(xa(e),l=>Li(l,s)?a(l)?[l]:[]:mR(l,s,a)),b5=(e,s,a=Ee)=>{if(a(s))return j.none();if(Oe(e,ks(s)))return j.some(s);const l=h=>Li(h,"table")||a(h);return Ea(s,e.join(","),l)},kP=(e,s)=>b5(["td","th"],e,s),CP=e=>Dy(e,"th,td"),pR=(e,s)=>Fc(e,"table",s),gR=(e,s,a,l,h=me)=>{const g=l===1;if(!g&&a<=0)return R_.first(e[0]);if(g&&a>=e.length-1)return R_.last(e[e.length-1]);{const v=a+l,S=e[v];return h(S)?R_.middle(s,S):gR(e,s,v,l,h)}},pS=(e,s)=>pR(e,s).bind(a=>{const l=CP(a);return zt(l,g=>Yo(e,g)).map(g=>({index:g,all:l}))}),yR=(e,s,a)=>pS(e,a).fold(()=>R_.none(e),h=>gR(h.all,e,h.index,1,s)),gS=(e,s,a)=>pS(e,a).fold(()=>R_.none(),h=>gR(h.all,e,h.index,-1,s)),yS=(e,s)=>({left:e.left-s,top:e.top-s,right:e.right+s*2,bottom:e.bottom+s*2,width:e.width+s,height:e.height+s}),Em=(e,s)=>Vt(s,a=>{const l=yS(ah(a.getBoundingClientRect()),-1);return[{x:l.left,y:e(l),cell:a},{x:l.right,y:e(l),cell:a}]}),bS=(e,s,a)=>ye(e,(l,h)=>l.fold(()=>j.some(h),g=>{const v=Math.sqrt(Math.abs(g.x-s)+Math.abs(g.y-a)),S=Math.sqrt(Math.abs(h.x-s)+Math.abs(h.y-a));return j.some(S<v?h:g)}),j.none()),SP=(e,s,a,l,h)=>{const g=Ta(ve.fromDom(a),"td,th,caption").map(S=>S.dom),v=Ve(Em(e,g),S=>s(S,h));return bS(v,l,h).map(S=>S.cell)},v5=e=>e.bottom,aZ=e=>e.top,w5=(e,s)=>e.y<s,iZ=(e,s)=>e.y>s,lZ=it(SP,v5,w5),_5=it(SP,aZ,iZ),cZ=(e,s)=>_s(s.getClientRects()).bind(a=>lZ(e,a.left,a.top)).bind(a=>x_(dW(a),s)),uZ=(e,s)=>Uo(s.getClientRects()).bind(a=>_5(e,a.left,a.top)).bind(a=>x_(tP(a),s)),dZ=(e,s,a)=>a.breakAt.exists(l=>e(s,l).breakAt.isSome()),fZ=e=>e.breakType===Cm.Wrap&&e.positions.length===0,hZ=e=>e.breakType===Cm.Br&&e.positions.length===1,k5=(e,s,a)=>{const l=e(s,a);return fZ(l)||!Vs(a.getNode())&&hZ(l)?!dZ(e,s,l):l.breakAt.isNone()},mZ=it(k5,E_),pZ=it(k5,$v),gZ=(e,s,a)=>{const l=dt.fromRangeStart(s);return ey(!e,a).exists(h=>h.isEqual(l))},yZ=(e,s,a,l)=>{const h=e.selection.getRng(),g=s?1:-1;return XE()&&gZ(s,h,a)?(Wp(g,e,a,!s,!1).each(v=>{Gp(e,v)}),!0):!1},bZ=(e,s,a)=>cZ(s,a).orThunk(()=>_s(a.getClientRects()).bind(l=>tR(Zp(e,dt.before(s)),l.left))).getOr(dt.before(s)),vZ=(e,s,a)=>uZ(s,a).orThunk(()=>_s(a.getClientRects()).bind(l=>tR(eP(e,dt.after(s)),l.left))).getOr(dt.after(s)),C5=(e,s)=>{const a=s.getNode(e);return hc(a)?j.some(a):j.none()},S5=(e,s,a)=>{s.undoManager.transact(()=>{const l=e?od:Zo,h=t5(s,ve.fromDom(a),l);Gp(s,h)})},xP=(e,s,a)=>{const l=C5(!!s,a),h=s===!1;l.fold(()=>Gp(e,a.toRange()),g=>ey(h,e.getBody()).filter(v=>v.isEqual(a)).fold(()=>Gp(e,a.toRange()),v=>S5(s,e,g)))},x5=(e,s,a,l)=>{const h=e.selection.getRng(),g=dt.fromRangeStart(h),v=e.getBody();if(!s&&mZ(l,g)){const S=bZ(v,a,g);return xP(e,s,S),!0}else if(s&&pZ(l,g)){const S=vZ(v,a,g);return xP(e,s,S),!0}else return!1},E5=(e,s,a)=>j.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(l=>j.from(e.dom.getParent(l,"table")).map(h=>a(e,s,h,l))).getOr(!1),T5=(e,s)=>E5(e,s,yZ),R5=(e,s)=>E5(e,s,x5),wZ=e=>{const s=gm.exact(e,0,e,0);return AO(s)},EP=(e,s,a)=>a.fold(j.none,j.none,(l,h)=>N4(h).map(g=>wZ(g)),l=>(e.execCommand("mceTableInsertRowAfter"),A5(e,s,l))),A5=(e,s,a)=>EP(e,s,yR(a,Wf)),I5=(e,s,a)=>EP(e,s,gS(a,Wf)),O5=(e,s)=>{const a=["table","li","dl"],l=ve.fromDom(e.getBody()),h=S=>{const A=ks(S);return Yo(S,l)||Oe(a,A)},g=e.selection.getRng(),v=ve.fromDom(s?g.endContainer:g.startContainer);return kP(v,h).map(S=>(pR(S,h).each(W=>{e.model.table.clearSelectedCells(W.dom)}),e.selection.collapse(!s),(s?A5:I5)(e,h,S).each(W=>{e.selection.setRng(W)}),!0)).getOr(!1)},D5=(e,s,a)=>{const l=Bo.os.isMacOS()||Bo.os.isiOS();mS([{keyCode:fn.RIGHT,action:ro(c5,e,!0)},{keyCode:fn.LEFT,action:ro(c5,e,!1)},{keyCode:fn.UP,action:ro(wP,e,!1)},{keyCode:fn.DOWN,action:ro(wP,e,!0)},...l?[{keyCode:fn.UP,action:ro(fR,e,!1),metaKey:!0,shiftKey:!0},{keyCode:fn.DOWN,action:ro(fR,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:fn.RIGHT,action:ro(T5,e,!0)},{keyCode:fn.LEFT,action:ro(T5,e,!1)},{keyCode:fn.UP,action:ro(R5,e,!1)},{keyCode:fn.DOWN,action:ro(R5,e,!0)},{keyCode:fn.RIGHT,action:ro(m5,e,!0)},{keyCode:fn.LEFT,action:ro(m5,e,!1)},{keyCode:fn.UP,action:ro(p5,e,!1)},{keyCode:fn.DOWN,action:ro(p5,e,!0)},{keyCode:fn.RIGHT,action:ro(lP,e,s,!0)},{keyCode:fn.LEFT,action:ro(lP,e,s,!1)},{keyCode:fn.RIGHT,ctrlKey:!l,altKey:l,action:ro(cS,e,s)},{keyCode:fn.LEFT,ctrlKey:!l,altKey:l,action:ro(qp,e,s)},{keyCode:fn.UP,action:ro(hR,e,!1)},{keyCode:fn.DOWN,action:ro(hR,e,!0)}],a).each(h=>{a.preventDefault()})},M5=(e,s)=>{e.on("keydown",a=>{a.isDefaultPrevented()||D5(e,s,a)})},kh=(e,s)=>({container:e,offset:s}),bR=ps.DOM,vR=e=>s=>e===s?-1:0,P5=e=>s=>e.isBlock(s)||Oe(["BR","IMG","HR","INPUT"],s.nodeName)||e.getContentEditable(s)==="false",TP=(e,s,a)=>{if(Pt(e)&&s>=0)return j.some(kh(e,s));{const l=fp(bR);return j.from(l.backwards(e,s,vR(e),a)).map(h=>kh(h.container,h.container.data.length))}},_Z=(e,s,a)=>{if(Pt(e)&&s>=e.length)return j.some(kh(e,s));{const l=fp(bR);return j.from(l.forwards(e,s,vR(e),a)).map(h=>kh(h.container,0))}},wR=(e,s,a)=>{if(!Pt(e))return j.none();const l=e.data;if(s>=0&&s<=l.length)return j.some(kh(e,s));{const h=fp(bR);return j.from(h.backwards(e,s,vR(e),a)).bind(g=>{const v=g.container.data;return wR(g.container,s+v.length,a)})}},z5=(e,s,a)=>{if(!Pt(e))return j.none();const l=e.data;if(s<=l.length)return j.some(kh(e,s));{const h=fp(bR);return j.from(h.forwards(e,s,vR(e),a)).bind(g=>z5(g.container,s-l.length,a))}},RP=(e,s,a,l,h)=>{const g=fp(e,P5(e));return j.from(g.backwards(s,a,l,h))},N5=e=>e.collapsed&&Pt(e.startContainer),L5=e=>at(e.toString().replace(/\u00A0/g," ")),F5=e=>e!==""&&` \xA0\f
\r	\v`.indexOf(e)!==-1,AP=(e,s)=>e.substring(s.length),B5=(e,s,a)=>{let l;const h=a.charAt(0);for(l=s-1;l>=0;l--){const g=e.charAt(l);if(F5(g))return j.none();if(h===g&&yr(e,a,l,s))break}return j.some(l)},$5=(e,s,a,l=0)=>{if(!N5(s))return j.none();const h={text:"",offset:0},g=(S,A,z)=>(h.text=z+h.text,h.offset+=A,B5(h.text,h.offset,a).getOr(A)),v=e.getParent(s.startContainer,e.isBlock)||e.getRoot();return RP(e,s.startContainer,s.startOffset,g,v).bind(S=>{const A=s.cloneRange();if(A.setStart(S.container,S.offset),A.setEnd(s.endContainer,s.endOffset),A.collapsed)return j.none();const z=L5(A);return z.lastIndexOf(a)!==0||AP(z,a).length<l?j.none():j.some({text:AP(z,a),range:A,trigger:a})})},V5=(e,s,a,l=0)=>G7(ve.fromDom(s.startContainer)).fold(()=>$5(e,s,a,l),h=>{const g=e.createRng();g.selectNode(h.dom);const v=L5(g);return j.some({range:g,text:AP(v,a),trigger:a})}),kZ=e=>e.nodeType===Wm,CZ=e=>e.nodeType===Gd,H5=e=>{if(kZ(e))return kh(e,e.data.length);{const s=e.childNodes;return s.length>0?H5(s[s.length-1]):kh(e,s.length)}},U5=(e,s)=>{const a=e.childNodes;return a.length>0&&s<a.length?U5(a[s],0):a.length>0&&CZ(e)&&a.length===s?H5(a[a.length-1]):kh(e,s)},SZ=(e,s)=>{var a;const l=(a=e.getParent(s.container,e.isBlock))!==null&&a!==void 0?a:e.getRoot();return RP(e,s.container,s.offset,(h,g)=>g===0?-1:g,l).filter(h=>{const g=h.container.data.charAt(h.offset-1);return!F5(g)}).isSome()},xZ=e=>s=>{const a=U5(s.startContainer,s.startOffset);return!SZ(e,a)},EZ=(e,s,a)=>Dl(a.triggers,l=>V5(e,s,l)),ate=(e,s)=>{const a=s(),l=e.selection.getRng();return EZ(e.dom,l,a).bind(h=>j5(e,s,h))},j5=(e,s,a,l={})=>{var h;const g=s(),S=(h=e.selection.getRng().startContainer.nodeValue)!==null&&h!==void 0?h:"",A=Ve(g.lookupByTrigger(a.trigger),W=>a.text.length>=W.minChars&&W.matches.getOrThunk(()=>xZ(e.dom))(a.range,S,a.text));if(A.length===0)return j.none();const z=Promise.all(Ke(A,W=>W.fetch(a.text,W.maxResults,l).then(X=>({matchText:a.text,items:X,columns:W.columns,onAction:W.onAction,highlightOn:W.highlightOn}))));return j.some({lookupData:z,context:a})};var Bu;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Bu||(Bu={}));const _R=(e,s,a)=>e.stype===Bu.Error?s(e.serror):a(e.svalue),W5=e=>{const s=[],a=[];return le(e,l=>{_R(l,h=>a.push(h),h=>s.push(h))}),{values:s,errors:a}},TZ=(e,s)=>e.stype===Bu.Error?{stype:Bu.Error,serror:s(e.serror)}:e,Z5=(e,s)=>e.stype===Bu.Value?{stype:Bu.Value,svalue:s(e.svalue)}:e,G5=(e,s)=>e.stype===Bu.Value?s(e.svalue):e,RZ=(e,s)=>e.stype===Bu.Error?s(e.serror):e,q5=e=>({stype:Bu.Value,svalue:e}),K5=e=>({stype:Bu.Error,serror:e}),di={fromResult:e=>e.fold(K5,q5),toResult:e=>_R(e,Xs.error,Xs.value),svalue:q5,partition:W5,serror:K5,bind:G5,bindError:RZ,map:Z5,mapError:TZ,fold:_R},IP=e=>vt(e)&&Fr(e).length>100?" removed due to size":JSON.stringify(e,null,2),IZ=e=>{const s=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:ot("... (only showing first ten failures)")}]):e;return Ke(s,a=>"Failed path: ("+a.path.join(" > ")+`)
`+a.getErrorInfo())},kR=(e,s)=>di.serror([{path:e,getErrorInfo:s}]),Y5=(e,s,a)=>kR(e,()=>'Could not find valid *required* value for "'+s+'" in '+IP(a)),OZ=(e,s)=>kR(e,()=>'Choice schema did not contain choice key: "'+s+'"'),DZ=(e,s,a)=>kR(e,()=>'The chosen schema: "'+a+'" did not exist in branches: '+IP(s)),MZ=(e,s)=>kR(e,ot(s)),PZ=(e,s,a,l)=>us(a,l).fold(()=>DZ(e,a,l),g=>g.extract(e.concat(["branch: "+l]),s)),zZ=(e,s)=>({extract:(h,g)=>us(g,e).fold(()=>OZ(h,e),S=>PZ(h,g,s,S)),toString:()=>"chooseOn("+e+"). Possible values: "+Fr(s)}),ei=(e,s)=>s,Tm=(e,s)=>Ue(e)&&Ue(s)?OP(e,s):s,X5=e=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const a={};for(let l=0;l<s.length;l++){const h=s[l];for(const g in h)Ln(h,g)&&(a[g]=e(a[g],h[g]))}return a},OP=X5(Tm),NZ=X5(ei),J5=()=>({tag:"required",process:{}}),LZ=e=>({tag:"defaultedThunk",process:e}),Q5=e=>LZ(ot(e)),e6=()=>({tag:"option",process:{}}),A_=(e,s)=>e.length>0?di.svalue(OP(s,NZ.apply(void 0,e))):di.svalue(s),FZ=e=>L(di.serror,Dt)(e),Ch={consolidateObj:(e,s)=>{const a=di.partition(e);return a.errors.length>0?FZ(a.errors):A_(a.values,s)},consolidateArr:e=>{const s=di.partition(e);return s.errors.length>0?FZ(s.errors):di.svalue(s.values)}},BZ=(e,s,a,l)=>({tag:"field",key:e,newKey:s,presence:a,prop:l}),$Z=(e,s)=>({tag:"custom",newKey:e,instantiator:s}),DP=(e,s,a)=>{switch(e.tag){case"field":return s(e.key,e.newKey,e.presence,e.prop);case"custom":return a(e.newKey,e.instantiator)}},MP=e=>{const s=(l,h)=>di.bindError(e(h),g=>MZ(l,g)),a=ot("val");return{extract:s,toString:a}},PP=MP(di.svalue),t6=(e,s,a,l)=>us(s,a).fold(()=>Y5(e,a,s),l),n6=(e,s,a,l)=>{const h=us(e,s).getOrThunk(()=>a(e));return l(h)},VZ=(e,s,a)=>a(us(e,s)),HZ=(e,s,a,l)=>{const h=us(e,s).map(g=>g===!0?a(e):g);return l(h)},o6=(e,s,a,l,h)=>{const g=S=>h.extract(s.concat([l]),S),v=S=>S.fold(()=>di.svalue(j.none()),A=>{const z=h.extract(s.concat([l]),A);return di.map(z,j.some)});switch(e.tag){case"required":return t6(s,a,l,g);case"defaultedThunk":return n6(a,l,e.process,g);case"option":return VZ(a,l,v);case"defaultedOptionThunk":return HZ(a,l,e.process,v);case"mergeWithThunk":return n6(a,l,ot({}),S=>{const A=OP(e.process(a),S);return g(A)})}},s6=(e,s,a)=>{const l={},h=[];for(const g of a)DP(g,(v,S,A,z)=>{const W=o6(A,e,s,v,z);di.fold(W,U=>{h.push(...U)},U=>{l[S]=U})},(v,S)=>{l[v]=S(s)});return h.length>0?di.serror(h):di.svalue(l)},vS=e=>({extract:(l,h)=>s6(l,h,e),toString:()=>`obj{
`+Ke(e,h=>DP(h,(g,v,S,A)=>g+" -> "+A.toString(),(g,v)=>"state("+g+")")).join(`
`)+"}"}),CR=e=>({extract:(l,h)=>{const g=Ke(h,(v,S)=>e.extract(l.concat(["["+S+"]"]),v));return Ch.consolidateArr(g)},toString:()=>"array("+e.toString()+")"}),zP=e=>MP(s=>e(s).fold(di.serror,di.svalue)),UZ=(e,s,a)=>{const l=s.extract([e],a);return di.mapError(l,h=>({input:a,errors:h}))},jZ=(e,s,a)=>di.toResult(UZ(e,s,a)),WZ=e=>`Errors: 
`+IZ(e.errors).join(`
`)+`

Input object: `+IP(e.input),r6=(e,s)=>zZ(e,Mo(s,vS)),NP=ot(PP),wS=(e,s)=>MP(a=>{const l=typeof a;return e(a)?di.svalue(a):di.serror(`Expected type: ${s} but got: ${l}`)}),ZZ=wS(Rn,"number"),_S=wS(ne,"string"),GZ=wS(Te,"boolean"),kS=wS(ue,"function"),CS=BZ,a6=$Z,qZ=e=>zP(s=>Oe(e,s)?Xs.value(s):Xs.error(`Unsupported value: "${s}", choose one of "${e.join(", ")}".`)),i6=(e,s)=>CS(e,e,J5(),s),l6=e=>i6(e,_S),LP=e=>i6(e,kS),FP=(e,s)=>CS(e,e,J5(),CR(s)),SR=(e,s)=>CS(e,e,e6(),s),SS=e=>SR(e,_S),KZ=e=>SR(e,kS),YZ=(e,s)=>CS(e,e,Q5(s),NP()),I_=(e,s,a)=>CS(e,e,Q5(s),a),xS=(e,s)=>I_(e,s,ZZ),c6=(e,s)=>I_(e,s,_S),BP=(e,s,a)=>I_(e,s,qZ(a)),$P=(e,s)=>I_(e,s,GZ),VP=(e,s)=>I_(e,s,kS),ute=(e,s,a)=>I_(e,s,CR(a)),dte=l6("type"),fte=LP("fetch"),HP=LP("onAction"),hte=VP("onSetup",()=>It),XZ=SS("text"),JZ=SS("icon"),mte=SS("tooltip"),QZ=SS("label"),wa=$P("active",!1),UP=$P("enabled",!0),Sh=$P("primary",!1),u6=e=>YZ("columns",e),O_=e=>c6("type",e),eG=vS([dte,l6("trigger"),xS("minChars",1),u6(1),xS("maxResults",10),KZ("matches"),fte,HP,ute("highlightOn",[],_S)]),jP=e=>jZ("Autocompleter",eG,{trigger:e.ch,...e}),ES=[UP,mte,JZ,XZ,hte],WP=[wa].concat(ES),d6=[VP("predicate",Ee),BP("scope","node",["node","editor"]),BP("position","selection",["node","selection","line"])],tG=ES.concat([O_("contextformbutton"),Sh,HP,a6("original",Nn)]),nG=WP.concat([O_("contextformbutton"),Sh,HP,a6("original",Nn)]),oG=ES.concat([O_("contextformbutton")]),sG=WP.concat([O_("contextformtogglebutton")]),rG=r6("type",{contextformbutton:tG,contextformtogglebutton:nG});vS([O_("contextform"),VP("initValue",ot("")),QZ,FP("commands",rG),SR("launch",r6("type",{contextformbutton:oG,contextformtogglebutton:sG}))].concat(d6));const f6=e=>{const s=e.ui.registry.getAll().popups,a=Mo(s,v=>jP(v).fold(S=>{throw new Error(WZ(S))},Nn)),l=Mf(ac(a,v=>v.trigger)),h=Yu(a);return{dataset:a,triggers:l,lookupByTrigger:v=>Ve(h,S=>S.trigger===v)}},aG=(e,s)=>{const a=Cu(s.load,50);e.on("keypress compositionend",l=>{l.which!==27&&a.throttle()}),e.on("keydown",l=>{const h=l.which;h===8?a.throttle():h===27&&s.cancelIfNecessary()}),e.on("remove",a.cancel)},iG=e=>{const s=xs(),a=Ka(!1),l=s.isSet,h=()=>{l()&&(_M(e),x2(e),a.set(!1),s.clear())},g=z=>{l()||(vh(e,z.range),s.set({trigger:z.trigger,matchLength:z.text.length}))},v=ic(()=>f6(e)),S=z=>s.get().map(W=>V5(e.dom,e.selection.getRng(),W.trigger).bind(U=>j5(e,v,U,z))).getOrThunk(()=>ate(e,v)),A=z=>{S(z).fold(h,W=>{g(W.context),W.lookupData.then(U=>{s.get().map(X=>{const fe=W.context;X.trigger===fe.trigger&&(fe.text.length-X.matchLength>=10?h():(s.set({...X,matchLength:fe.text.length}),a.get()?yO(e,{lookupData:U}):(a.set(!0),S2(e,{lookupData:U}))))})})})};e.addCommand("mceAutocompleterReload",(z,W)=>{const U=vt(W)?W.fetchOptions:{};A(U)}),e.addCommand("mceAutocompleterClose",h),aG(e,{cancelIfNecessary:h,load:A})},h6=e=>(s,a,l={})=>{const h=s.getBody(),g={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:h,currentTarget:h,eventPhase:Event.AT_TARGET,originalTarget:h,explicitOriginalTarget:h,isTrusted:!1,srcElement:h,cancelable:!1,preventDefault:It,inputType:a},v=Fg(new InputEvent(e));return s.dispatch(e,{...v,...g,...l})},ZP=h6("input"),GP=h6("beforeinput"),m6=(e,s,a)=>{const l=a.keyCode===fn.BACKSPACE?"deleteContentBackward":"deleteContentForward";va([{keyCode:fn.BACKSPACE,action:ro(pP,e)},{keyCode:fn.BACKSPACE,action:ro(JT,e,!1)},{keyCode:fn.DELETE,action:ro(JT,e,!0)},{keyCode:fn.BACKSPACE,action:ro(GM,e,!1)},{keyCode:fn.DELETE,action:ro(GM,e,!0)},{keyCode:fn.BACKSPACE,action:ro(aR,e,s,!1)},{keyCode:fn.DELETE,action:ro(aR,e,s,!0)},{keyCode:fn.BACKSPACE,action:ro(Q2,e,!1)},{keyCode:fn.DELETE,action:ro(Q2,e,!0)},{keyCode:fn.BACKSPACE,action:ro(aS,e,!1)},{keyCode:fn.DELETE,action:ro(aS,e,!0)},{keyCode:fn.BACKSPACE,action:ro(fS,e,!1)},{keyCode:fn.DELETE,action:ro(fS,e,!0)},{keyCode:fn.BACKSPACE,action:ro(WM,e,!1)},{keyCode:fn.DELETE,action:ro(WM,e,!0)},{keyCode:fn.BACKSPACE,action:ro(UM,e,!1)},{keyCode:fn.DELETE,action:ro(UM,e,!0)},{keyCode:fn.BACKSPACE,action:ro(iR,e,!1)},{keyCode:fn.DELETE,action:ro(iR,e,!0)}],a).filter(h=>e.selection.isEditable()).each(h=>{a.preventDefault(),GP(e,l).isDefaultPrevented()||(h(),ZP(e,l))})},p6=(e,s,a)=>{const l=pu(),h=l.os,g=l.browser,v=h.isMacOS()?[{keyCode:fn.BACKSPACE,altKey:!0,action:ro(dS,e)},{keyCode:fn.DELETE,altKey:!0,action:ro(dS,e)}]:[{keyCode:fn.BACKSPACE,ctrlKey:!0,action:ro(dS,e)},{keyCode:fn.DELETE,ctrlKey:!0,action:ro(dS,e)}];h.isMacOS()&&a&&v.push({keyCode:g.isFirefox()?224:91,action:ro(dS,e)}),mS([{keyCode:fn.BACKSPACE,action:ro(XM,e)},{keyCode:fn.DELETE,action:ro(XM,e)},...v],s)},lG=(e,s)=>{let a=!1;e.on("keydown",l=>{a=l.keyCode===fn.BACKSPACE,l.isDefaultPrevented()||m6(e,s,l)}),e.on("keyup",l=>{l.isDefaultPrevented()||p6(e,l,a),a=!1})},cG=e=>{for(;e;){if(ht(e)||Pt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},xR=(e,s)=>{const a=e.dom,l=e.schema.getMoveCaretBeforeOnEnterElements();if(!s)return;if(/^(LI|DT|DD)$/.test(s.nodeName)){const g=cG(s.firstChild);g&&/^(UL|OL|DL)$/.test(g.nodeName)&&s.insertBefore(a.doc.createTextNode(Qo),s.firstChild)}const h=a.createRng();if(s.normalize(),s.hasChildNodes()){const g=new Mr(s,s);let v=s,S;for(;S=g.current();){if(Pt(S)){h.setStart(S,0),h.setEnd(S,0);break}if(l[S.nodeName.toLowerCase()]){h.setStartBefore(S),h.setEndBefore(S);break}v=S,S=g.next()}S||(h.setStart(v,0),h.setEnd(v,0))}else Vs(s)?s.nextSibling&&a.isBlock(s.nextSibling)?(h.setStartBefore(s),h.setEndBefore(s)):(h.setStartAfter(s),h.setEndAfter(s)):(h.setStart(s,0),h.setEnd(s,0));e.selection.setRng(h),gt(e,h)},D_=(e,s)=>{const a=e.getRoot();let l,h=s;for(;h!==a&&h&&e.getContentEditable(h)!=="false";)e.getContentEditable(h)==="true"&&(l=h),h=h.parentNode;return h!==a?l:a},qP=e=>j.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),uG=e=>qP(e).fold(ot(""),s=>s.nodeName.toUpperCase()),dG=e=>qP(e).filter(s=>li(ve.fromDom(s))).isSome(),g6=(e,s)=>e.firstChild&&e.firstChild.nodeName===s,fG=e=>{var s;return((s=e.parentNode)===null||s===void 0?void 0:s.firstChild)===e},KP=(e,s)=>{const a=e==null?void 0:e.parentNode;return je(a)&&a.nodeName===s},y6=e=>je(e)&&/^(OL|UL|LI)$/.test(e.nodeName),hG=e=>je(e)&&/^(LI|DT|DD)$/.test(e.nodeName),pte=e=>y6(e)&&y6(e.parentNode),fi=e=>{const s=e.parentNode;return hG(s)?s:e},ER=(e,s,a)=>{let l=e[a?"firstChild":"lastChild"];for(;l&&!ht(l);)l=l[a?"nextSibling":"previousSibling"];return l===s},mG=(e,s,a,l,h)=>{const g=e.dom,v=e.selection.getRng(),S=a.parentNode;if(a===e.getBody()||!S)return;pte(a)&&(h="LI");let A=s(h);if(ER(a,l,!0)&&ER(a,l,!1))if(KP(a,"LI")){const z=fi(a);g.insertAfter(A,z),fG(a)?g.remove(z):g.remove(a)}else g.replace(A,a);else if(ER(a,l,!0))KP(a,"LI")?(g.insertAfter(A,fi(a)),A.appendChild(g.doc.createTextNode(" ")),A.appendChild(a)):S.insertBefore(A,a),g.remove(l);else if(ER(a,l,!1))g.insertAfter(A,fi(a)),g.remove(l);else{a=fi(a);const z=v.cloneRange();z.setStartAfter(l),z.setEndAfter(a);const W=z.extractContents();h==="LI"&&g6(W,"LI")?(A=W.firstChild,g.insertAfter(W,a)):(g.insertAfter(W,a),g.insertAfter(A,a)),g.remove(l)}xR(e,A)},pG=e=>{le(db(ve.fromDom(e),wi),s=>{const a=s.dom;a.nodeValue=at(a.data)})},gG=(e,s)=>{const a=e.dom.getParent(s,"ol,ul,dl");return a!==null&&e.dom.getContentEditableParent(a)==="false"},yG=(e,s)=>s&&s.nodeName==="A"&&e.isEmpty(s),YP=e=>{e.innerHTML='<br data-mce-bogus="1">'},XP=(e,s)=>e.nodeName===s||e.previousSibling&&e.previousSibling.nodeName===s,M_=(e,s)=>je(s)&&e.isBlock(s)&&!/^(TD|TH|CAPTION|FORM)$/.test(s.nodeName)&&!/^(fixed|absolute)/i.test(s.style.position)&&e.isEditable(s.parentNode)&&e.getContentEditable(s)!=="false",bG=(e,s,a)=>{var l;const h=[];if(!a)return;let g=a;for(;g=g.firstChild;){if(e.isBlock(g))return;ht(g)&&!s[g.nodeName.toLowerCase()]&&h.push(g)}let v=h.length;for(;v--;)g=h[v],(!g.hasChildNodes()||g.firstChild===g.lastChild&&((l=g.firstChild)===null||l===void 0?void 0:l.nodeValue)===""||yG(e,g))&&e.remove(g)},JP=(e,s,a)=>Pt(s)?e?a===1&&s.data.charAt(a-1)===te?0:a:a===s.data.length-1&&s.data.charAt(a)===te?s.data.length:a:a,QP=e=>{const s=e.cloneRange();return s.setStart(e.startContainer,JP(!0,e.startContainer,e.startOffset)),s.setEnd(e.endContainer,JP(!1,e.endContainer,e.endOffset)),s},ez=e=>{let s=e;do Pt(s)&&(s.data=s.data.replace(/^[\r\n]+/,"")),s=s.firstChild;while(s)},vG=(e,s,a)=>{const l=e.dom;j.from(a.style).map(l.parseStyle).each(A=>{const W={...kl(ve.fromDom(s)),...A};l.setStyles(s,W)});const h=j.from(a.class).map(A=>A.split(/\s+/)),g=j.from(s.className).map(A=>Ve(A.split(/\s+/),z=>z!==""));fa(h,g,(A,z)=>{const W=Ve(z,X=>!Oe(A,X)),U=[...A,...W];l.setAttrib(s,"class",U.join(" "))});const v=["style","class"],S=bs(a,(A,z)=>!Oe(v,z));l.setAttribs(s,S)},TR=(e,s)=>{if(Pr(e).toLowerCase()===s.tagName.toLowerCase()){const l=fw(e);vG(e,s,l)}},gte=(e,s,a,l,h)=>{var g,v;const S=e.dom,A=(g=D_(S,l))!==null&&g!==void 0?g:S.getRoot();let z=S.getParent(l,S.isBlock);if(!z||!M_(S,z)){if(z=z||A,!z.hasChildNodes()){const fe=S.create(s);return TR(e,fe),z.appendChild(fe),a.setStart(fe,0),a.setEnd(fe,0),fe}let W=l;for(;W&&W.parentNode!==z;)W=W.parentNode;let U;for(;W&&!S.isBlock(W);)U=W,W=W.previousSibling;const X=(v=U==null?void 0:U.parentElement)===null||v===void 0?void 0:v.nodeName;if(U&&X&&e.schema.isValidChild(X,s.toLowerCase())){const fe=U.parentNode,pe=S.create(s);for(TR(e,pe),fe.insertBefore(pe,U),W=U;W&&!S.isBlock(W);){const se=W.nextSibling;pe.appendChild(W),W=se}a.setStart(l,h),a.setEnd(l,h)}}return l},wG=(e,s)=>{s.normalize();const a=s.lastChild;(!a||ht(a)&&/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(s,"br")},_G=(e,s)=>{const a=mf(e);return wt(s)?!1:ne(a)?Oe(xt.explode(a),s.nodeName.toLowerCase()):a},Rm={insert:(e,s)=>{let a,l,h,g,v=!1;const S=e.dom,A=e.schema,z=A.getNonEmptyElements(),W=e.selection.getRng(),U=Pr(e),X=Zt=>{let Ft=a;const et=A.getTextInlineElements();let nt;Zt||h==="TABLE"||h==="HR"?nt=S.create(Zt||U):nt=Se.cloneNode(!1);let nn=nt;if(Fb(e)===!1)S.setAttrib(nt,"style",null),S.setAttrib(nt,"class",null);else do if(et[Ft.nodeName]){if(ul(Ft)||Ma(Ft))continue;const Cn=Ft.cloneNode(!1);S.setAttrib(Cn,"id",""),nt.hasChildNodes()?(Cn.appendChild(nt.firstChild),nt.appendChild(Cn)):(nn=Cn,nt.appendChild(Cn))}while((Ft=Ft.parentNode)&&Ft!==Ie);return TR(e,nt),YP(nn),nt},fe=Zt=>{const Ft=JP(Zt,a,l);if(Pt(a)&&(Zt?Ft>0:Ft<a.data.length))return!1;if(a.parentNode===Se&&v&&!Zt||Zt&&ht(a)&&a===Se.firstChild)return!0;if(XP(a,"TABLE")||XP(a,"HR"))return v&&!Zt||!v&&Zt;const et=new Mr(a,Se);Pt(a)&&(Zt&&Ft===0?et.prev():!Zt&&Ft===a.data.length&&et.next());let nt;for(;nt=et.current();){if(ht(nt)){if(!nt.getAttribute("data-mce-bogus")){const nn=nt.nodeName.toLowerCase();if(z[nn]&&nn!=="br")return!1}}else if(Pt(nt)&&!Jh(nt.data))return!1;Zt?et.prev():et.next()}return!0},pe=()=>{let Zt;return/^(H[1-6]|PRE|FIGURE)$/.test(h)&&Me!=="HGROUP"?Zt=X(U):Zt=X(),_G(e,g)&&M_(S,g)&&S.isEmpty(Se)?Zt=S.split(g,Se):S.insertAfter(Zt,Se),xR(e,Zt),Zt};Dp(S,W).each(Zt=>{W.setStart(Zt.startContainer,Zt.startOffset),W.setEnd(Zt.endContainer,Zt.endOffset)}),a=W.startContainer,l=W.startOffset;const se=!!(s&&s.shiftKey),he=!!(s&&s.ctrlKey);ht(a)&&a.hasChildNodes()&&(v=l>a.childNodes.length-1,a=a.childNodes[Math.min(l,a.childNodes.length-1)]||a,v&&Pt(a)?l=a.data.length:l=0);const Ie=D_(S,a);if(!Ie||gG(e,a))return;se||(a=gte(e,U,W,a,l));let Se=S.getParent(a,S.isBlock)||S.getRoot();g=je(Se==null?void 0:Se.parentNode)?S.getParent(Se.parentNode,S.isBlock):null,h=Se?Se.nodeName.toUpperCase():"";const Me=g?g.nodeName.toUpperCase():"";if(Me==="LI"&&!he){const Zt=g;Se=Zt,g=Zt.parentNode,h=Me}if(/^(LI|DT|DD)$/.test(h)&&ht(g)&&S.isEmpty(Se)){mG(e,X,g,Se,U);return}if(Se===e.getBody()||!M_(S,Se))return;const Ze=Se.parentNode;let kt;if(jn(Se))kt=Ul(Se),S.isEmpty(Se)&&YP(Se),TR(e,kt),xR(e,kt);else if(fe(!1))kt=pe();else if(fe(!0)&&Ze)kt=Ze.insertBefore(X(),Se),xR(e,XP(Se,"HR")?kt:Se);else{const Zt=QP(W).cloneRange();Zt.setEndAfter(Se);const Ft=Zt.extractContents();pG(Ft),ez(Ft),kt=Ft.firstChild,S.insertAfter(Ft,Se),bG(S,z,kt),wG(S,Se),S.isEmpty(Se)&&YP(Se),kt.normalize(),S.isEmpty(kt)?(S.remove(kt),pe()):(TR(e,kt),xR(e,kt))}S.setAttrib(kt,"id",""),e.dispatch("NewBlock",{newBlock:kt})},fakeEventName:"insertParagraph"},kG=(e,s,a)=>{const l=new Mr(s,a);let h;const g=e.getNonEmptyElements();for(;h=l.next();)if(g[h.nodeName.toLowerCase()]||Pt(h)&&h.length>0)return!0;return!1},b6=(e,s,a)=>{const l=e.dom.createRng();a?(l.setStartBefore(s),l.setEndBefore(s)):(l.setStartAfter(s),l.setEndAfter(s)),e.selection.setRng(l),gt(e,l)},My=(e,s)=>{const a=e.selection,l=e.dom,h=a.getRng();let g,v=!1;Dp(l,h).each(fe=>{h.setStart(fe.startContainer,fe.startOffset),h.setEnd(fe.endContainer,fe.endOffset)});let S=h.startOffset,A=h.startContainer;if(ht(A)&&A.hasChildNodes()){const fe=S>A.childNodes.length-1;A=A.childNodes[Math.min(S,A.childNodes.length-1)]||A,fe&&Pt(A)?S=A.data.length:S=0}let z=l.getParent(A,l.isBlock);const W=z&&z.parentNode?l.getParent(z.parentNode,l.isBlock):null,U=W?W.nodeName.toUpperCase():"",X=!!(s&&s.ctrlKey);U==="LI"&&!X&&(z=W),Pt(A)&&S>=A.data.length&&(kG(e.schema,A,z||l.getRoot())||(g=l.create("br"),h.insertNode(g),h.setStartAfter(g),h.setEndAfter(g),v=!0)),g=l.create("br"),Mb(l,h,g),b6(e,g,v),e.undoManager.add()},CG=(e,s)=>{const a=ve.fromTag("br");Zo(ve.fromDom(s),a),e.undoManager.add()},v6=(e,s)=>{xG(e.getBody(),s)||od(ve.fromDom(s),ve.fromTag("br"));const a=ve.fromTag("br");od(ve.fromDom(s),a),b6(e,a.dom,!1),e.undoManager.add()},SG=e=>Vs(e.getNode()),xG=(e,s)=>SG(dt.after(s))?!0:Ri(e,dt.after(s)).map(a=>Vs(a.getNode())).getOr(!1),w6=e=>e&&e.nodeName==="A"&&"href"in e,EG=e=>e.fold(Ee,w6,w6,Ee),TG=e=>{const s=it(kd,e),a=dt.fromRangeStart(e.selection.getRng());return km(s,e.getBody(),a).filter(EG)},RG=(e,s)=>{s.fold(It,it(CG,e),it(v6,e),It)},tz={insert:(e,s)=>{const a=TG(e);a.isSome()?a.each(it(RG,e)):My(e,s)},fakeEventName:"insertLineBreak"},TS=(e,s)=>qP(e).filter(a=>s.length>0&&Li(ve.fromDom(a),s)).isSome(),AG=e=>TS(e,Su(e)),IG=e=>TS(e,wk(e)),Od=Js.generate([{br:[]},{block:[]},{none:[]}]),OG=(e,s)=>IG(e),k6=e=>(s,a)=>dG(s)===e,nz=(e,s)=>(a,l)=>uG(a)===e.toUpperCase()===s,DG=e=>{const s=D_(e.dom,e.selection.getStart());return wt(s)},P_=e=>nz("pre",e),C6=()=>nz("summary",!0),RR=e=>(s,a)=>xI(s)===e,MG=(e,s)=>AG(e),z_=(e,s)=>s,PG=e=>{const s=Pr(e),a=D_(e.dom,e.selection.getStart());return je(a)&&e.schema.isValidChild(a.nodeName,s)},xf=(e,s)=>(a,l)=>ye(e,(g,v)=>g&&v(a,l),!0)?j.some(s):j.none(),AR=(e,s)=>eW([xf([OG],Od.none()),xf([P_(!0),DG],Od.none()),xf([C6()],Od.br()),xf([P_(!0),RR(!1),z_],Od.br()),xf([P_(!0),RR(!1)],Od.block()),xf([P_(!0),RR(!0),z_],Od.block()),xf([P_(!0),RR(!0)],Od.br()),xf([k6(!0),z_],Od.br()),xf([k6(!0)],Od.block()),xf([MG],Od.br()),xf([z_],Od.br()),xf([PG],Od.block())],[e,!!(s&&s.shiftKey)]).getOr(Od.none()),IR=(e,s,a)=>{s.selection.isCollapsed()||x3(s),!(je(a)&&GP(s,e.fakeEventName).isDefaultPrevented())&&(e.insert(s,a),je(a)&&ZP(s,e.fakeEventName))},OR=(e,s)=>{const a=()=>IR(tz,e,s),l=()=>IR(Rm,e,s),h=AR(e,s);switch(EI(e)){case"linebreak":h.fold(a,a,It);break;case"block":h.fold(l,l,It);break;case"invert":h.fold(l,a,It);break;default:h.fold(a,l,It);break}},oz=(e,s)=>{s.isDefaultPrevented()||(s.preventDefault(),iU(e.undoManager),e.undoManager.transact(()=>{OR(e,s)}))},S6=e=>{e.on("keydown",s=>{s.keyCode===fn.ENTER&&oz(e,s)})},zG=(e,s,a)=>{const l=Bo.os.isMacOS()||Bo.os.isiOS();mS([{keyCode:fn.END,action:ro(u5,e,!0)},{keyCode:fn.HOME,action:ro(u5,e,!1)},...l?[]:[{keyCode:fn.HOME,action:ro(fR,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:fn.END,action:ro(fR,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:fn.END,action:ro(g5,e,!0)},{keyCode:fn.HOME,action:ro(g5,e,!1)},{keyCode:fn.END,action:ro(xm,e,!0,s)},{keyCode:fn.HOME,action:ro(xm,e,!1,s)}],a).each(h=>{a.preventDefault()})},vte=(e,s)=>{e.on("keydown",a=>{a.isDefaultPrevented()||zG(e,s,a)})},Py=e=>{e.on("input",s=>{s.isComposing||hH(e)})},NG=pu(),LG=(e,s,a)=>{mS([{keyCode:fn.PAGE_UP,action:ro(xm,e,!1,s)},{keyCode:fn.PAGE_DOWN,action:ro(xm,e,!0,s)}],a)},x6=e=>e.stopImmediatePropagation(),RS=e=>e.keyCode===fn.PAGE_UP||e.keyCode===fn.PAGE_DOWN,sz=(e,s,a)=>{a&&!e.get()?s.on("NodeChange",x6,!0):!a&&e.get()&&s.off("NodeChange",x6),e.set(a)},E6=(e,s)=>{if(NG.os.isMacOS())return;const a=Ka(!1);e.on("keydown",l=>{RS(l)&&sz(a,e,!0)}),e.on("keyup",l=>{l.isDefaultPrevented()||LG(e,s,l),RS(l)&&a.get()&&(sz(a,e,!1),e.nodeChanged())})},T6=(e,s)=>{const a=s.container(),l=s.offset();return Pt(a)?(a.insertData(l,e),j.some(dt(a,l+e.length))):qb(s).map(h=>{const g=ve.fromText(e);return s.isAtEnd()?od(h,g):Zo(h,g),dt(g.dom,e.length)})},R6=it(T6,Qo),FG=it(T6," "),BG=e=>s=>s.fold(a=>Ru(e.dom,dt.before(a)),a=>ql(a),a=>uh(a),a=>Ri(e.dom,dt.after(a))),$G=(e,s)=>a=>d3(e,a)?R6(s):FG(s),A6=e=>s=>(e.selection.setRng(s.toRange()),e.nodeChanged(),!0),rz=e=>{const s=dt.fromRangeStart(e.selection.getRng()),a=ve.fromDom(e.getBody());if(e.selection.isCollapsed()){const l=it(kd,e),h=dt.fromRangeStart(e.selection.getRng());return km(l,e.getBody(),h).bind(BG(a)).map(g=>()=>$G(a,s)(g).each(A6(e)))}else return j.none()},VG=(e,s)=>{va([{keyCode:fn.SPACEBAR,action:ro(rz,e)}],s).each(a=>{s.preventDefault(),GP(e,"insertText",{data:" "}).isDefaultPrevented()||(a(),ZP(e,"insertText",{data:" "}))})},az=e=>{e.on("keydown",s=>{s.isDefaultPrevented()||VG(e,s)})},I6=e=>jE(e)?[{keyCode:fn.TAB,action:ro(O5,e,!0)},{keyCode:fn.TAB,shiftKey:!0,action:ro(O5,e,!1)}]:[],DR=(e,s)=>{mS([...I6(e)],s).each(a=>{s.preventDefault()})},O6=e=>{e.on("keydown",s=>{s.isDefaultPrevented()||DR(e,s)})},D6=e=>{if(e.addShortcut("Meta+P","","mcePrint"),iG(e),Hp(e))return Ka(null);{const s=SW(e);return KW(e),M5(e,s),lG(e,s),S6(e),az(e),Py(e),O6(e),vte(e,s),E6(e,s),s}};class HG{constructor(s){this.lastPath=[],this.editor=s;let a;const l=this;"onselectionchange"in s.getDoc()||s.on("NodeChange click mouseup keyup focus",h=>{const g=s.selection.getRng(),v={startContainer:g.startContainer,startOffset:g.startOffset,endContainer:g.endContainer,endOffset:g.endOffset};(h.type==="nodechange"||!e_(v,a))&&s.dispatch("SelectionChange"),a=v}),s.on("contextmenu",()=>{s.dispatch("SelectionChange")}),s.on("SelectionChange",()=>{const h=s.selection.getStart(!0);!h||tv(s)&&!l.isSameElementPath(h)&&s.dom.isChildOf(h,s.getBody())&&s.nodeChanged({selectionChange:!0})}),s.on("mouseup",h=>{!h.isDefaultPrevented()&&tv(s)&&(s.selection.getNode().nodeName==="IMG"?Hs.setEditorTimeout(s,()=>{s.nodeChanged()}):s.nodeChanged())})}nodeChanged(s={}){const a=this.editor.selection;let l;if(this.editor.initialized&&a&&!MI(this.editor)&&!this.editor.mode.isReadOnly()){const h=this.editor.getBody();l=a.getStart(!0)||h,(l.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(l,h))&&(l=h);const g=[];this.editor.dom.getParent(l,v=>v===h?!0:(g.push(v),!1)),this.editor.dispatch("NodeChange",{...s,element:l,parents:g})}}isSameElementPath(s){let a;const l=this.editor,h=_n(l.dom.getParents(s,me,l.getBody()));if(h.length===this.lastPath.length){for(a=h.length;a>=0&&h[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=h,!0}return this.lastPath=h,!1}}const M6="x-tinymce/html",Hv=ot(M6),MR="<!-- "+M6+" -->",UG=e=>MR+e,jG=e=>e.replace(MR,""),iz=e=>e.indexOf(MR)!==-1,WG=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),ZG=(e,s)=>{let a="<"+e;const l=ac(s,(h,g)=>g+'="'+il.encodeAllRaw(h)+'"');return l.length&&(a+=" "+l.join(" ")),a+">"},GG=(e,s,a)=>{const l=e.split(/\n\n/),h=ZG(s,a),g="</"+s+">",v=Ke(l,A=>A.split(/\n/).join("<br />")),S=A=>h+A+g;return v.length===1?v[0]:Ke(v,S).join("")},P6="%MCEPASTEBIN%",qG=(e,s)=>{const{dom:a,selection:l}=e,h=e.getBody();s.set(l.getRng());const g=a.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},P6);Bo.browser.isFirefox()&&a.setStyle(g,"left",a.getStyle(h,"direction",!0)==="rtl"?65535:-65535),a.bind(g,"beforedeactivate focusin focusout",v=>{v.stopPropagation()}),g.focus(),l.select(g,!0)},z6=(e,s)=>{const a=e.dom;if(lz(e)){let l;const h=s.get();for(;l=lz(e);)a.remove(l),a.unbind(l);h&&e.selection.setRng(h)}s.set(null)},lz=e=>e.dom.get("mcepastebin"),N6=e=>je(e)&&e.id==="mcepastebin",KG=e=>{const s=e.dom,a=(v,S)=>{v.appendChild(S),s.remove(S,!0)},[l,...h]=Ve(e.getBody().childNodes,N6);le(h,v=>{a(l,v)});const g=s.select("div[id=mcepastebin]",l);for(let v=g.length-1;v>=0;v--){const S=s.create("div");l.insertBefore(S,g[v]),a(S,g[v])}return l?l.innerHTML:""},L6=e=>e===P6,YG=e=>{const s=Ka(null);return{create:()=>qG(e,s),remove:()=>z6(e,s),getEl:()=>lz(e),getHtml:()=>KG(e),getLastRng:s.get}},F6=(e,s)=>(xt.each(s,a=>{rt(a,RegExp)?e=e.replace(a,""):e=e.replace(a[0],a[1])}),e),XG=e=>{const s=Wl(),a=zv({},s);let l="";const h=s.getVoidElements(),g=xt.makeMap("script noscript style textarea video audio iframe object"," "),v=s.getBlockElements(),S=A=>{const z=A.name,W=A;if(z==="br"){l+=`
`;return}if(z!=="wbr"){if(h[z]&&(l+=" "),g[z]){l+=" ";return}if(A.type===3&&(l+=A.value),!(A.name in s.getVoidElements())){let U=A.firstChild;if(U)do S(U);while(U=U.next)}v[z]&&W.next&&(l+=`
`,z==="p"&&(l+=`
`))}};return e=F6(e,[/<!\[[^\]]+\]>/g]),S(a.parse(e)),l},Uv=e=>(e=F6(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(a,l,h)=>!l&&!h?" ":Qo],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),JG=e=>{let s=0;return()=>e+s++},QG=e=>{const s=e.toLowerCase(),a={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return xt.hasOwn(a,s)?"image/"+a[s]:"image/"+s},B6=(e,s)=>{const a=zv({sanitize:_w(e)},e.schema);a.addNodeFilter("meta",h=>{xt.each(h,g=>{g.remove()})});const l=a.parse(s,{forced_root_block:!1,isRootContent:!0});return py({validate:!0},e.schema).serialize(l)},$6=(e,s)=>({content:e,cancelled:s}),eq=(e,s,a)=>{const l=e.dom.create("div",{style:"display:none"},s),h=cC(e,l,a);return $6(h.node.innerHTML,h.isDefaultPrevented())},tq=(e,s,a)=>{const l=bO(e,s,a),h=B6(e,l.content);return e.hasEventListeners("PastePostProcess")&&!l.isDefaultPrevented()?eq(e,h,a):$6(h,l.isDefaultPrevented())},V6=(e,s,a)=>tq(e,s,a),cz=(e,s)=>(e.insertContent(s,{merge:ww(e),paste:!0}),!0),uz=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),wte=(e,s)=>uz(s)&&pt(xk(e),a=>hu(s.toLowerCase(),`.${a.toLowerCase()}`)),PR=(e,s,a)=>(e.undoManager.extra(()=>{a(e,s)},()=>{e.insertContent('<img src="'+s+'">')}),!0),nq=(e,s,a)=>(e.undoManager.extra(()=>{a(e,s)},()=>{e.execCommand("mceInsertLink",!1,s)}),!0),oq=(e,s,a)=>!e.selection.isCollapsed()&&uz(s)?nq(e,s,a):!1,sq=(e,s,a)=>wte(e,s)?PR(e,s,a):!1,rq=(e,s)=>{xt.each([oq,sq,cz],a=>!a(e,s,cz))},aq=(e,s,a)=>{a||!FE(e)?cz(e,s):rq(e,s)},iq=JG("mceclip"),H6=(e,s,a,l)=>{const h=V6(e,s,a);h.cancelled||aq(e,h.content,l)},zR=(e,s,a)=>{const l=a||iz(s);H6(e,jG(s),l,!1)},dz=(e,s)=>{const a=e.dom.encode(s).replace(/\r\n/g,`
`),l=yb(a,cm(e)),h=GG(l,Pr(e),fw(e));H6(e,h,!1,!0)},U6=e=>{const s={};if(e&&e.types)for(let a=0;a<e.types.length;a++){const l=e.types[a];try{s[l]=e.getData(l)}catch{s[l]=""}}return s},zy=(e,s)=>s in e&&e[s].length>0,j6=e=>zy(e,"text/html")||zy(e,"text/plain"),lq=(e,s)=>{const a=s.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return je(a)?e.dom.encode(a[1]):void 0},Rs=(e,s,a,l)=>{const h=iq(),g=hw(e)&&je(a.name),v=g?lq(e,a.name):h,S=g?a.name:void 0,A=s.create(h,a,l,v,S);return s.add(A),A},cq=(e,s)=>{zu(s.uri).each(({data:a,type:l,base64Encoded:h})=>{const g=h?a:btoa(a),v=s.file,S=e.editorUpload.blobCache,A=S.getByData(g,l),z=A!=null?A:Rs(e,S,v,g);zR(e,`<img src="${z.blobUri()}">`,!1)})},W6=e=>e.type==="paste",uq=e=>Promise.all(Ke(e,s=>NL(s).then(a=>({file:s,uri:a})))),fz=e=>{const s=xk(e);return a=>Rr(a.type,"image/")&&pt(s,l=>QG(l)===a.type)},Z6=(e,s)=>{const a=s.items?Vt(zs(s.items),h=>h.kind==="file"?[h.getAsFile()]:[]):[],l=s.files?zs(s.files):[];return Ve(a.length>0?a:l,fz(e))},hz=(e,s,a)=>{const l=W6(s)?s.clipboardData:s.dataTransfer;if(wp(e)&&l){const h=Z6(e,l);if(h.length>0)return s.preventDefault(),uq(h).then(g=>{a&&e.selection.setRng(a),le(g,v=>{cq(e,v)})}),!0}return!1},dq=e=>{var s,a;return Bo.os.isAndroid()&&((a=(s=e.clipboardData)===null||s===void 0?void 0:s.items)===null||a===void 0?void 0:a.length)===0},G6=e=>fn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,mz=(e,s,a,l)=>{let h=Uv(a);const g=zy(s,Hv())||iz(a),v=!g&&WG(h),S=uz(h);(L6(h)||!h.length||v&&!S)&&(l=!0),(l||S)&&(zy(s,"text/plain")&&v?h=s["text/plain"]:h=XG(h)),!L6(h)&&(l?dz(e,h):zR(e,h,g))},fq=(e,s,a)=>{let l;const h=()=>s.getLastRng()||e.selection.getRng();e.on("keydown",g=>{G6(g)&&!g.isDefaultPrevented()&&(l=g.shiftKey&&g.keyCode===86)}),e.on("paste",g=>{if(g.isDefaultPrevented()||dq(g))return;const v=a.get()==="text"||l;l=!1;const S=U6(g.clipboardData);!j6(S)&&hz(e,g,h())||(zy(S,"text/html")?(g.preventDefault(),mz(e,S,S["text/html"],v)):zy(S,"text/plain")&&zy(S,"text/uri-list")?(g.preventDefault(),mz(e,S,S["text/plain"],v)):(s.create(),Hs.setEditorTimeout(e,()=>{const A=s.getHtml();s.remove(),mz(e,S,A,v)},0)))})},q6=e=>{const s=h=>Rr(h,"webkit-fake-url"),a=h=>Rr(h,"data:"),l=h=>{var g;return((g=h.data)===null||g===void 0?void 0:g.paste)===!0};e.parser.addNodeFilter("img",(h,g,v)=>{if(!wp(e)&&l(v))for(const S of h){const A=S.attr("src");ne(A)&&!S.attr("data-mce-object")&&A!==Bo.transparentSrc&&(s(A)||!Sk(e)&&a(A))&&S.remove()}})},hq=(e,s,a)=>{fq(e,s,a),q6(e)},mq=(e,s)=>{s.get()==="text"?(s.set("html"),E2(e,!1)):(s.set("text"),E2(e,!0)),e.focus()},NR=(e,s)=>{e.addCommand("mceTogglePlainTextPaste",()=>{mq(e,s)}),e.addCommand("mceInsertClipboardContent",(a,l)=>{l.html&&zR(e,l.html,l.internal),l.text&&dz(e,l.text)})},AS=(e,s,a)=>{if(e)try{return e.clearData(),e.setData("text/html",s),e.setData("text/plain",a),e.setData(Hv(),s),!0}catch{return!1}else return!1},pz=(e,s,a,l)=>{AS(e.clipboardData,s.html,s.text)?(e.preventDefault(),l()):a(s.html,l)},$u=e=>(s,a)=>{const{dom:l,selection:h}=e,g=l.create("div",{contenteditable:"false","data-mce-bogus":"all"}),v=l.create("div",{contenteditable:"true"},s);l.setStyles(g,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),g.appendChild(v),l.add(e.getBody(),g);const S=h.getRng();v.focus();const A=l.createRng();A.selectNodeContents(v),h.setRng(A),Hs.setEditorTimeout(e,()=>{h.setRng(S),l.remove(g),a()},0)},K6=e=>({html:UG(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),N_=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),L_=e=>!e.selection.isCollapsed()||N_(e),pq=e=>s=>{!s.isDefaultPrevented()&&L_(e)&&pz(s,K6(e),$u(e),()=>{if(Bo.browser.isChromium()||Bo.browser.isFirefox()){const a=e.selection.getRng();Hs.setEditorTimeout(e,()=>{e.selection.setRng(a),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},gq=e=>s=>{!s.isDefaultPrevented()&&L_(e)&&pz(s,K6(e),$u(e),It)},F_=e=>{e.on("cut",pq(e)),e.on("copy",gq(e))},Y6=(e,s)=>{var a,l;return Mp.getCaretRangeFromPoint((a=s.clientX)!==null&&a!==void 0?a:0,(l=s.clientY)!==null&&l!==void 0?l:0,e.getDoc())},gz=e=>{const s=e["text/plain"];return s?s.indexOf("file://")===0:!1},LR=(e,s)=>{e.focus(),s&&e.selection.setRng(s)},X6=e=>pt(e.files,s=>/^image\//.test(s.type)),yq=(e,s,a,l)=>{const h=e.getParent(a,g=>Qh(s,g));if(h&&Ln(l,"text/html")){const g=new DOMParser().parseFromString(l["text/html"],"text/html").body;return!J(g.querySelector(h.nodeName.toLowerCase()))}else return!1},bq=(e,s)=>{qg(e)&&e.on("dragend dragover draggesture dragdrop drop drag",a=>{a.preventDefault(),a.stopPropagation()}),wp(e)||e.on("drop",a=>{const l=a.dataTransfer;l&&X6(l)&&a.preventDefault()}),e.on("drop",a=>{if(a.isDefaultPrevented())return;const l=Y6(e,a);if(wt(l))return;const h=U6(a.dataTransfer),g=zy(h,Hv());if((!j6(h)||gz(h))&&hz(e,a,l))return;const v=h[Hv()],S=v||h["text/html"]||h["text/plain"],A=yq(e.dom,e.schema,l.startContainer,h);s.get()&&!A||S&&(a.preventDefault(),Hs.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{v&&e.execCommand("Delete"),LR(e,l);const z=Uv(S);h["text/html"]?zR(e,z,g):dz(e,z)})}))}),e.on("dragstart",a=>{s.set(!0)}),e.on("dragover dragend",a=>{wp(e)&&!s.get()&&(a.preventDefault(),LR(e,Y6(e,a))),a.type==="dragend"&&s.set(!1)})},J6=e=>{const s=h=>g=>{h(e,g)},a=bw(e);ue(a)&&e.on("PastePreProcess",s(a));const l=vw(e);ue(l)&&e.on("PastePostProcess",s(l))},Q6=(e,s)=>{e.on("PastePreProcess",a=>{a.content=s(e,a.content,a.internal)})},vq=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,e$=e=>xt.trim(e).replace(vq,Uk).toLowerCase(),wq=(e,s,a)=>{const l=LE(e);if(a||l==="all"||!pf(e))return s;const h=l?l.split(/[, ]/):[];if(h&&l!=="none"){const g=e.dom,v=e.selection.getNode();s=s.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(S,A,z,W)=>{const U=g.parseStyle(g.decode(z)),X={};for(let pe=0;pe<h.length;pe++){const se=U[h[pe]];let he=se,Ie=g.getStyle(v,h[pe],!0);/color/.test(h[pe])&&(he=e$(he),Ie=e$(Ie)),Ie!==he&&(X[h[pe]]=se)}const fe=g.serializeStyle(X,"span");return fe?A+' style="'+fe+'"'+W:A+W})}else s=s.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return s=s.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(g,v,S,A)=>v+' style="'+S+'"'+A),s},t$=e=>{(Bo.browser.isChromium()||Bo.browser.isSafari())&&Q6(e,wq)},_q=e=>{const s=Ka(!1),a=Ka(gd(e)?"text":"html"),l=YG(e);t$(e),NR(e,a),J6(e),e.on("PreInit",()=>{F_(e),bq(e,s),hq(e,l,a)})},n$=e=>{e.on("click",s=>{e.dom.getParent(s.target,"details")&&s.preventDefault()})},kq=e=>{e.parser.addNodeFilter("details",s=>{le(s,a=>{a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",s=>{le(s,a=>{const l=a.attr("data-mce-open");a.attr("open",ne(l)?l:null),a.attr("data-mce-open",null)})})},Cq=e=>{n$(e),kq(e)},Sq=Vs,o$=Pt,xq=e=>eo(e.dom),FR=e=>Uc(e.dom),s$=e=>s=>Yo(ve.fromDom(e),s),r$=(e,s)=>tr(ve.fromDom(e),a=>FR(a)||Hi(a),s$(s)).getOr(ve.fromDom(s)).dom,a$=(e,s)=>tr(ve.fromDom(e),xq,s$(s)),i$=(e,s,a)=>{const l=new Mr(e,s),h=a?l.next.bind(l):l.prev.bind(l);let g=e;for(let v=a?e:h();v&&!Sq(v);v=h())is(v)&&(g=v);return g},Eq=(e,s)=>{const l=dt.fromRangeStart(e).getNode(),h=r$(l,s),g=i$(l,h,!1),v=i$(l,h,!0),S=document.createRange();return a$(g,h).fold(()=>{o$(g)?S.setStart(g,0):S.setStartBefore(g)},A=>S.setStartBefore(A.dom)),a$(v,h).fold(()=>{o$(v)?S.setEnd(v,v.data.length):S.setEndAfter(v)},A=>S.setEndAfter(A.dom)),S},Tq=e=>{const s=Eq(e.selection.getRng(),e.getBody());e.selection.setRng(Sd(s))},Rq=e=>{e.on("mousedown",s=>{s.detail>=3&&(s.preventDefault(),Tq(e))})};var B_;(function(e){e.Before="before",e.After="after"})(B_||(B_={}));const l$=(e,s)=>Math.abs(e.left-s),Aq=(e,s)=>Math.abs(e.right-s),Iq=(e,s)=>e>=s.top&&e<=s.bottom,Oq=(e,s)=>e.top<s.bottom&&e.bottom>s.top,Dq=(e,s)=>{const a=vI(e,s)/Math.min(e.height,s.height);return Oq(e,s)&&a>.5},Mq=(e,s)=>{const a=Ve(e,l=>Iq(s,l));return ew(a).fold(()=>[[],e],l=>{const{pass:h,fail:g}=Qe(e,v=>Dq(v,l));return[h,g]})},Pq=(e,s)=>({node:e.node,position:l$(e,s)<Aq(e,s)?B_.Before:B_.After}),zq=(e,s,a)=>s>e.left&&s<e.right?0:Math.min(Math.abs(e.left-s),Math.abs(e.right-s)),BR=(e,s,a)=>{const l=W=>is(W.node)?j.some(W):ht(W.node)?BR(zs(W.node.childNodes),s,a):j.none(),h=(W,U)=>{if(W.length>=2){const X=l(W[0]).getOr(W[0]),fe=l(W[1]).getOr(W[1]);if(Math.abs(U(X,s,a)-U(fe,s,a))<2){if(Pt(X.node))return j.some(X);if(Pt(fe.node))return j.some(fe)}}return j.none()},g=(W,U)=>{const X=mo(W,(fe,pe)=>U(fe,s,a)-U(pe,s,a));return h(X,U).orThunk(()=>Dl(X,l))},[v,S]=Mq(DB(e),a),{pass:A,fail:z}=Qe(S,W=>W.top<a);return g(v,zq).orThunk(()=>g(z,tw)).orThunk(()=>g(A,tw))},Nq=(e,s,a,l)=>{const h=(g,v)=>{const S=z=>ht(z)&&z.classList.contains("mce-drag-container"),A=Ve(g.dom.childNodes,Zn(S));return v.fold(()=>BR(A,a,l),z=>{const W=Ve(A,U=>U!==z.dom);return BR(W,a,l)}).orThunk(()=>(Yo(g,e)?j.none():Ym(g)).bind(W=>h(W,j.some(g))))};return h(s,j.none())},Lq=(e,s,a)=>{const l=ve.fromDom(e),h=Nl(l),v=ve.fromPoint(h,s,a).filter(S=>cc(l,S)).getOr(l);return Nq(l,v,s,a)},c$=(e,s,a)=>Lq(e,s,a).filter(l=>Wb(l.node)).map(l=>Pq(l,s)),u$=e=>{var s,a;const l=e.getBoundingClientRect(),h=e.ownerDocument,g=h.documentElement,v=h.defaultView;return{top:l.top+((s=v==null?void 0:v.scrollY)!==null&&s!==void 0?s:0)-g.clientTop,left:l.left+((a=v==null?void 0:v.scrollX)!==null&&a!==void 0?a:0)-g.clientLeft}},Fq=e=>e.inline?u$(e.getBody()):{left:0,top:0},Bq=e=>{const s=e.getBody();return e.inline?{left:s.scrollLeft,top:s.scrollTop}:{left:0,top:0}},$q=e=>{const s=e.getBody(),a=e.getDoc().documentElement,l={left:s.scrollLeft,top:s.scrollTop},h={left:s.scrollLeft||a.scrollLeft,top:s.scrollTop||a.scrollTop};return e.inline?l:h},$R=(e,s)=>{if(s.target.ownerDocument!==e.getDoc()){const a=u$(e.getContentAreaContainer()),l=$q(e);return{left:s.pageX-a.left+l.left,top:s.pageY-a.top+l.top}}return{left:s.pageX,top:s.pageY}},d$=(e,s,a)=>({pageX:a.left-e.left+s.left,pageY:a.top-e.top+s.top}),Vq=(e,s)=>d$(Fq(e),Bq(e),$R(e,s)),f$=(e,s,a)=>({...s,dataTransfer:null,type:e,...a}),h$=(e,s)=>{const a=io("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:e,composedPath:a,initEvent:a,preventDefault:It,stopImmediatePropagation:It,stopPropagation:It,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:a,initMouseEvent:a,getModifierState:a,dataTransfer:null,...s}},VR=e=>({target:e,srcElement:e}),Hq=e=>s=>h$(e,VR(s)),HR=e=>(s,a)=>f$(e,s,VR(a)),Uq=HR("dragstart"),m$=HR("drop"),jq=Hq("dragend"),yz=HR("dragend"),UR=32,Wq=100,jR=8,Ny=16,p$=eo,Zq=uf(p$,Uc),g$=(e,s,a)=>p$(a)&&a!==s&&e.isEditable(a.parentElement),Gq=(e,s,a)=>wt(s)||s===a||e.dom.isChildOf(s,a)?!1:e.dom.isEditable(s),qq=e=>{const s=e.cloneNode(!0);return s.removeAttribute("data-mce-selected"),s},Kq=(e,s,a,l)=>{const h=e.dom,g=s.cloneNode(!0);h.setStyles(g,{width:a,height:l}),h.setAttrib(g,"data-mce-selected",null);const v=h.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return h.setStyles(v,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:l}),h.setStyles(g,{margin:0,boxSizing:"border-box"}),v.appendChild(g),v},Yq=(e,s)=>{e.parentNode!==s&&s.appendChild(e)},WR=(e,s)=>a=>()=>{const l=e==="left"?a.scrollX:a.scrollY;a.scroll({[e]:l+s,behavior:"smooth"})},IS=WR("left",-UR),bz=WR("left",UR),vz=WR("top",-UR),y$=WR("top",UR),Xq=(e,s,a,l,h,g,v,S,A,z,W,U)=>{let X=0,fe=0;e.style.left=s.pageX+"px",e.style.top=s.pageY+"px",s.pageX+a>h&&(X=s.pageX+a-h),s.pageY+l>g&&(fe=s.pageY+l-g),e.style.width=a-X+"px",e.style.height=l-fe+"px";const pe=A.clientHeight,se=A.clientWidth,he=v+A.getBoundingClientRect().top,Ie=S+A.getBoundingClientRect().left;W.on(Se=>{Se.intervalId.clear(),Se.dragging&&U&&(v+jR>=pe?Se.intervalId.set(y$(z)):v-jR<=0?Se.intervalId.set(vz(z)):S+jR>=se?Se.intervalId.set(bz(z)):S-jR<=0?Se.intervalId.set(IS(z)):he+Ny>=window.innerHeight?Se.intervalId.set(y$(window)):he-Ny<=0?Se.intervalId.set(vz(window)):Ie+Ny>=window.innerWidth?Se.intervalId.set(bz(window)):Ie-Ny<=0&&Se.intervalId.set(IS(window)))})},b$=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},_te=(e,s)=>{const a=e.getParent(s.parentNode,e.isBlock);b$(s),a&&a!==e.getRoot()&&e.isEmpty(a)&&D(ve.fromDom(a))},Jq=e=>e.button===0,wz=(e,s)=>({pageX:s.pageX-e.relX,pageY:s.pageY+5}),_z=(e,s)=>a=>{if(Jq(a)){const l=ut(s.dom.getParents(a.target),Zq).getOr(null);if(je(l)&&g$(s.dom,s.getBody(),l)){const h=s.dom.getPos(l),g=s.getBody(),v=s.getDoc().documentElement;e.set({element:l,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(s.inline?g.scrollWidth:v.offsetWidth)-2,maxY:(s.inline?g.scrollHeight:v.offsetHeight)-2,relX:a.pageX-h.x,relY:a.pageY-h.y,width:l.offsetWidth,height:l.offsetHeight,ghost:Kq(s,l,l.offsetWidth,l.offsetHeight),intervalId:Ux(Wq)})}}},ZR=(e,s,a)=>{e._selectionOverrides.hideFakeCaret(),c$(e.getBody(),s,a).fold(()=>e.selection.placeCaretAt(s,a),l=>{const h=e._selectionOverrides.showCaret(1,l.node,l.position===B_.Before,!1);h?e.selection.setRng(h):e.selection.placeCaretAt(s,a)})},Qq=(e,s)=>{const a=xi((h,g)=>ZR(s,h,g),0);s.on("remove",a.cancel);const l=e;return h=>e.on(g=>{const v=Math.max(Math.abs(h.screenX-g.screenX),Math.abs(h.screenY-g.screenY));if(!g.dragging&&v>10){if(s.dispatch("dragstart",Uq(h,g.element)).isDefaultPrevented())return;g.dragging=!0,s.focus()}if(g.dragging){const S=h.currentTarget===s.getDoc().documentElement,A=wz(g,Vq(s,h));Yq(g.ghost,s.getBody()),Xq(g.ghost,A,g.width,g.height,g.maxX,g.maxY,h.clientY,h.clientX,s.getContentAreaContainer(),s.getWin(),l,S),a.throttle(h.clientX,h.clientY)}})},eK=e=>{const s=e.getSel();if(je(s)){const l=s.getRangeAt(0).startContainer;return Pt(l)?l.parentNode:l}else return null},v$=(e,s)=>a=>{e.on(l=>{var h;if(l.intervalId.clear(),l.dragging){if(Gq(s,eK(s.selection),l.element)){const g=qq(l.element),v=(h=s.getDoc().elementFromPoint(a.clientX,a.clientY))!==null&&h!==void 0?h:s.getBody();s.dispatch("drop",m$(a,v)).isDefaultPrevented()||s.undoManager.transact(()=>{_te(s.dom,l.element),s.insertContent(s.dom.getOuterHTML(g)),s._selectionOverrides.hideFakeCaret()})}s.dispatch("dragend",yz(a,s.getBody()))}}),Cz(e)},w$=(e,s,a)=>{e.on(l=>{if(l.intervalId.clear(),l.dragging){const h=a.fold(()=>jq(l.element),g=>yz(g,l.element));s.dispatch("dragend",h)}}),Cz(e)},kz=(e,s)=>a=>w$(e,s,j.some(a)),Cz=e=>{e.on(s=>{s.intervalId.clear(),b$(s.ghost)}),e.clear()},tK=e=>{const s=xs(),a=ps.DOM,l=document,h=_z(s,e),g=Qq(s,e),v=v$(s,e),S=kz(s,e);e.on("mousedown",h),e.on("mousemove",g),e.on("mouseup",v),a.bind(l,"mousemove",g),a.bind(l,"mouseup",S),e.on("remove",()=>{a.unbind(l,"mousemove",g),a.unbind(l,"mouseup",S)}),e.on("keydown",A=>{A.keyCode===fn.ESC&&w$(s,e,j.none())})},nK=e=>{const s=h=>{if(!h.isDefaultPrevented()){const g=h.dataTransfer;g&&(Oe(g.types,"Files")||g.files.length>0)&&(h.preventDefault(),h.type==="drop"&&b_(e,"Dropped file type is not supported"))}},a=h=>{kC(e,h.target)&&s(h)},l=()=>{const h=ps.DOM,g=e.dom,v=document,S=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];le(A,z=>{h.bind(v,z,a),g.bind(S,z,s)}),e.on("remove",()=>{le(A,z=>{h.unbind(v,z,a),g.unbind(S,z,s)})})};e.on("init",()=>{Hs.setEditorTimeout(e,l,0)})},_$=e=>{tK(e),bp(e)&&nK(e)},oK=e=>{const s=xi(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const a=e.selection.getRng();if(a.collapsed){const l=ZM(e,a,!1);e.selection.setRng(l)}}},0);e.on("focus",()=>{s.throttle()}),e.on("blur",()=>{s.cancel()})},kte=e=>{e.on("init",()=>{e.on("focusin",s=>{const a=s.target;if(sl(a)){const l=Fp(e.getBody(),a),h=eo(l)?l:a;e.selection.getNode()!==h&&Ay(e,h).each(g=>e.selection.setRng(g))}})})},OS=eo,k$=(e,s)=>Fp(e.getBody(),s),sK=e=>{const s=e.selection,a=e.dom,l=e.getBody(),h=qI(e,l,a.isBlock,()=>my(e)),g="sel-"+a.uniqueId(),v="data-mce-selected";let S;const A=Ft=>je(Ft)&&a.hasClass(Ft,"mce-offscreen-selection"),z=Ft=>Ft!==l&&(OS(Ft)||sl(Ft))&&a.isChildOf(Ft,l)&&a.isEditable(Ft.parentNode),W=Ft=>{Ft&&s.setRng(Ft)},U=(Ft,et,nt,nn=!0)=>e.dispatch("ShowCaret",{target:et,direction:Ft,before:nt}).isDefaultPrevented()?null:(nn&&s.scrollIntoView(et,Ft===-1),h.show(nt,et)),X=Ft=>{Ft.hasAttribute("data-mce-caret")&&(Ul(Ft),s.scrollIntoView(Ft))},fe=()=>{e.on("click",et=>{a.isEditable(et.target)||(et.preventDefault(),e.focus())}),e.on("blur NewBlock",Ze),e.on("ResizeWindow FullscreenStateChanged",h.reposition),e.on("tap",et=>{const nt=et.target,nn=k$(e,nt);OS(nn)?(et.preventDefault(),Ay(e,nn).each(Me)):z(nt)&&Ay(e,nt).each(Me)},!0),e.on("mousedown",et=>{const nt=et.target;if(nt!==l&&nt.nodeName!=="HTML"&&!a.isChildOf(nt,l)||!cj(e,et.clientX,et.clientY))return;Ze(),Zt();const nn=k$(e,nt);OS(nn)?(et.preventDefault(),Ay(e,nn).each(Me)):c$(l,et.clientX,et.clientY).each(Cn=>{et.preventDefault();const On=U(1,Cn.node,Cn.position===B_.Before,!1);W(On),ht(nn)?nn.focus():e.getBody().focus()})}),e.on("keypress",et=>{fn.modifierPressed(et)||OS(s.getNode())&&et.preventDefault()}),e.on("GetSelectionRange",et=>{let nt=et.range;if(S){if(!S.parentNode){S=null;return}nt=nt.cloneRange(),nt.selectNode(S),et.range=nt}}),e.on("SetSelectionRange",et=>{et.range=he(et.range);const nt=Me(et.range,et.forward);nt&&(et.range=nt)});const Ft=et=>ht(et)&&et.id==="mcepastebin";e.on("AfterSetSelectionRange",et=>{const nt=et.range,nn=nt.startContainer.parentElement;!se(nt)&&!Ft(nn)&&Zt(),A(nn)||Ze()}),_$(e),oK(e),kte(e)},pe=Ft=>$o(Ft)||Hl(Ft)||Yf(Ft),se=Ft=>pe(Ft.startContainer)||pe(Ft.endContainer),he=Ft=>{const et=e.schema.getVoidElements(),nt=a.createRng(),nn=Ft.startContainer,Cn=Ft.startOffset,On=Ft.endContainer,so=Ft.endOffset;return Ln(et,nn.nodeName.toLowerCase())?Cn===0?nt.setStartBefore(nn):nt.setStartAfter(nn):nt.setStart(nn,Cn),Ln(et,On.nodeName.toLowerCase())?so===0?nt.setEndBefore(On):nt.setEndAfter(On):nt.setEnd(On,so),nt},Ie=(Ft,et)=>{const nt=ve.fromDom(e.getBody()),nn=e.getDoc(),Cn=Wh(nt,"#"+g).getOrThunk(()=>{const Co=ve.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',nn);return vr(Co,"id",g),nr(nt,Co),Co}),On=a.createRng();ds(Cn),sd(Cn,[ve.fromText(Qo,nn),ve.fromDom(et),ve.fromText(Qo,nn)]),On.setStart(Cn.dom.firstChild,1),On.setEnd(Cn.dom.lastChild,0),Jm(Cn,{top:a.getPos(Ft,e.getBody()).y+"px"}),hn(Cn);const so=s.getSel();return so&&(so.removeAllRanges(),so.addRange(On)),On},Se=Ft=>{const et=Ft.cloneNode(!0),nt=e.dispatch("ObjectSelected",{target:Ft,targetClone:et});if(nt.isDefaultPrevented())return null;const nn=Ie(Ft,nt.targetClone),Cn=ve.fromDom(Ft);return le(Ta(ve.fromDom(e.getBody()),`*[${v}]`),On=>{Yo(Cn,On)||Ir(On,v)}),a.getAttrib(Ft,v)||Ft.setAttribute(v,"1"),S=Ft,Zt(),nn},Me=(Ft,et)=>{if(!Ft)return null;if(Ft.collapsed){if(!se(Ft)){const On=et?1:-1,so=Pk(On,l,Ft),Co=so.getNode(!et);if(je(Co)){if(Wb(Co))return U(On,Co,et?!so.isAtEnd():!1,!1);if(Wn(Co)&&eo(Co.nextSibling)){const ys=a.createRng();return ys.setStart(Co,0),ys.setEnd(Co,0),ys}}const ts=so.getNode(et);if(je(ts)){if(Wb(ts))return U(On,ts,et?!1:!so.isAtEnd(),!1);if(Wn(ts)&&eo(ts.previousSibling)){const ys=a.createRng();return ys.setStart(ts,1),ys.setEnd(ts,1),ys}}}return null}let nt=Ft.startContainer,nn=Ft.startOffset;const Cn=Ft.endOffset;if(Pt(nt)&&nn===0&&OS(nt.parentNode)&&(nt=nt.parentNode,nn=a.nodeIndex(nt),nt=nt.parentNode),!ht(nt))return null;if(Cn===nn+1&&nt===Ft.endContainer){const On=nt.childNodes[nn];if(z(On))return Se(On)}return null},Ze=()=>{S&&S.removeAttribute(v),Wh(ve.fromDom(e.getBody()),"#"+g).each(hs),S=null},kt=()=>{h.destroy(),S=null},Zt=()=>{h.hide()};return Hp(e)||fe(),{showCaret:U,showBlockCaretContainer:X,hideFakeCaret:Zt,destroy:kt}},C$=(e,s)=>{let a=s;for(let l=e.previousSibling;Pt(l);l=l.previousSibling)a+=l.data.length;return a},S$=(e,s,a,l,h)=>{if(Pt(a)&&(l<0||l>a.data.length))return[];const g=h&&Pt(a)?[C$(a,l)]:[l];let v=a;for(;v!==s&&v.parentNode;)g.push(e.nodeIndex(v,h)),v=v.parentNode;return v===s?g.reverse():[]},GR=(e,s,a,l,h,g,v=!1)=>{const S=S$(e,s,a,l,v),A=S$(e,s,h,g,v);return{start:S,end:A}},x$=(e,s)=>{const a=s.slice(),l=a.pop();return Rn(l)?ye(a,(g,v)=>g.bind(S=>j.from(S.childNodes[v])),j.some(e)).bind(g=>Pt(g)&&(l<0||l>g.data.length)?j.none():j.some({node:g,offset:l})):j.none()},E$=(e,s)=>x$(e,s.start).bind(({node:a,offset:l})=>x$(e,s.end).map(({node:h,offset:g})=>{const v=document.createRange();return v.setStart(a,l),v.setEnd(h,g),v})),rK=(e,s,a,l=!1)=>GR(e,s,a.startContainer,a.startOffset,a.endContainer,a.endOffset,l),$_=(e,s,a)=>{if(s&&e.isEmpty(s)&&!a(s)){const l=s.parentNode;e.remove(s),$_(e,l,a)}},qR=(e,s,a,l=!0)=>{const h=s.startContainer.parentNode,g=s.endContainer.parentNode;s.deleteContents(),l&&!a(s.startContainer)&&(Pt(s.startContainer)&&s.startContainer.data.length===0&&e.remove(s.startContainer),Pt(s.endContainer)&&s.endContainer.data.length===0&&e.remove(s.endContainer),$_(e,h,a),h!==g&&$_(e,g,a))},KR=(e,s)=>j.from(e.dom.getParent(s.startContainer,e.dom.isBlock)),aK=(e,s,a)=>{const l=e.dynamicPatternsLookup({text:a,block:s});return{...e,blockPatterns:Nb(l).concat(e.blockPatterns),inlinePatterns:lw(l).concat(e.inlinePatterns)}},T$=(e,s,a,l)=>{const h=e.createRng();return h.setStart(s,0),h.setEnd(a,l),h.toString()},R$=e=>/^\s[^\s]/.test(e),A$=(e,s,a)=>{_Z(s,0,s).each(h=>{const g=h.container;z5(g,a.start.length,s).each(A=>{const z=e.createRng();z.setStart(g,0),z.setEnd(A.container,A.offset),qR(e,z,W=>W===s)});const v=ve.fromDom(g),S=tp(v);R$(S)&&vu(v,S.slice(1))})},Sz=(e,s)=>{const a=e.dom,l=s.pattern,h=E$(a.getRoot(),s.range).getOrDie("Unable to resolve path range"),g=(v,S)=>{const A=S.get(v);return We(A)&&_s(A).exists(z=>Ln(z,"block"))};return KR(e,h).each(v=>{l.type==="block-format"?g(l.format,e.formatter)&&e.undoManager.transact(()=>{A$(e.dom,v,l),e.formatter.apply(l.format)}):l.type==="block-command"&&e.undoManager.transact(()=>{A$(e.dom,v,l),e.execCommand(l.cmd,!1,l.value)})}),!0},iK=e=>mo(e,(s,a)=>a.start.length-s.start.length),lK=(e,s)=>{const a=iK(e),l=s.replace(Qo," ");return ut(a,h=>s.indexOf(h.start)===0||l.indexOf(h.start)===0)},cK=(e,s,a,l)=>{var h;const g=e.dom,v=Pr(e);if(!g.is(s,v))return[];const S=(h=s.textContent)!==null&&h!==void 0?h:"";return lK(a.blockPatterns,S).map(A=>xt.trim(S).length===A.start.length?[]:[{pattern:A,range:GR(g,g.getRoot(),s,0,s,0,l)}]).getOr([])},I$=(e,s)=>{if(s.length===0)return;const a=e.selection.getBookmark();le(s,l=>Sz(e,l)),e.selection.moveToBookmark(a)},DS=(e,s)=>e.create("span",{"data-mce-type":"bookmark",id:s}),MS=(e,s)=>{const a=e.createRng();return a.setStartAfter(s.start),a.setEndBefore(s.end),a},xz=(e,s,a)=>{const l=E$(e.getRoot(),a).getOrDie("Unable to resolve path range"),h=l.startContainer,g=l.endContainer,v=l.endOffset===0?g:g.splitText(l.endOffset),S=l.startOffset===0?h:h.splitText(l.startOffset),A=S.parentNode,z=v.parentNode;return{prefix:s,end:z.insertBefore(DS(e,s+"-end"),v),start:A.insertBefore(DS(e,s+"-start"),S)}},O$=(e,s,a)=>{$_(e,e.get(s.prefix+"-end"),a),$_(e,e.get(s.prefix+"-start"),a)},Ez=e=>e.start.length===0,D$=e=>(s,a)=>{const h=s.data.substring(0,a),g=h.lastIndexOf(e.charAt(e.length-1)),v=h.lastIndexOf(e);return v!==-1?v+e.length:g!==-1?g+1:-1},M$=(e,s,a,l)=>{const h=s.start;return RP(e,l.container,l.offset,D$(h),a).bind(v=>{var S,A;const z=(A=(S=a.textContent)===null||S===void 0?void 0:S.indexOf(h))!==null&&A!==void 0?A:-1;if(z!==-1&&v.offset>=z+h.length){const U=e.createRng();return U.setStart(v.container,v.offset-h.length),U.setEnd(v.container,v.offset),j.some(U)}else{const U=v.offset-h.length;return wR(v.container,U,a).map(X=>{const fe=e.createRng();return fe.setStart(X.container,X.offset),fe.setEnd(v.container,v.offset),fe}).filter(X=>X.toString()===h).orThunk(()=>M$(e,s,a,kh(v.container,0)))}})},uK=(e,s,a,l,h,g=!1)=>{if(s.start.length===0&&!g){const v=e.createRng();return v.setStart(a,l),v.setEnd(a,l),j.some(v)}return TP(a,l,h).bind(v=>M$(e,s,h,v).bind(A=>{var z;if(g){if(A.endContainer===v.container&&A.endOffset===v.offset)return j.none();if(v.offset===0&&((z=A.endContainer.textContent)===null||z===void 0?void 0:z.length)===A.endOffset)return j.none()}return j.some(A)}))},dK=(e,s,a,l)=>{const h=e.dom,g=h.getRoot(),v=a.pattern,S=a.position.container,A=a.position.offset;return wR(S,A-a.pattern.end.length,s).bind(z=>{const W=GR(h,g,z.container,z.offset,S,A,l);if(Ez(v))return j.some({matches:[{pattern:v,startRng:W,endRng:W}],position:z});{const U=V_(e,a.remainingPatterns,z.container,z.offset,s,l),X=U.getOr({matches:[],position:z}),fe=X.position;return uK(h,v,fe.container,fe.offset,s,U.isNone()).map(se=>{const he=rK(h,g,se,l);return{matches:X.matches.concat([{pattern:v,startRng:he,endRng:W}]),position:kh(se.startContainer,se.startOffset)}})}})},V_=(e,s,a,l,h,g)=>{const v=e.dom;return TP(a,l,v.getRoot()).bind(S=>{const A=T$(v,h,a,l);for(let z=0;z<s.length;z++){const W=s[z];if(!hu(A,W.end))continue;const U=s.slice();U.splice(z,1);const X=dK(e,h,{pattern:W,remainingPatterns:U,position:S},g);if(X.isNone()&&l>0)return V_(e,s,a,l-1,h,g);if(X.isSome())return X}return j.none()})},P$=(e,s,a)=>{e.selection.setRng(a),s.type==="inline-format"?le(s.format,l=>{e.formatter.apply(l)}):e.execCommand(s.cmd,!1,s.value)},fK=(e,s,a,l)=>{const h=MS(e.dom,a);qR(e.dom,h,l),P$(e,s,h)},hK=(e,s,a,l,h)=>{const g=e.dom,v=MS(g,l),S=MS(g,a);qR(g,S,h),qR(g,v,h);const A={prefix:a.prefix,start:a.end,end:l.start},z=MS(g,A);P$(e,s,z)},mK=(e,s)=>{const a=Gx("mce_textpattern"),l=oe(s,(h,g)=>{const v=xz(e,a+`_end${h.length}`,g.endRng);return h.concat([{...g,endMarker:v}])},[]);return oe(l,(h,g)=>{const v=l.length-h.length-1,S=Ez(g.pattern)?g.endMarker:xz(e,a+`_start${v}`,g.startRng);return h.concat([{...g,startMarker:S}])},[])},pK=e=>mo(e,(s,a)=>a.end.length-s.end.length),gK=(e,s)=>{const a=sn(e,l=>pt(s,h=>l.pattern.start===h.pattern.start&&l.pattern.end===h.pattern.end));return e.length===s.length?a?e:s:e.length>s.length?e:s},Tz=(e,s,a,l,h,g)=>{const v=V_(e,h.inlinePatterns,a,l,s,g).fold(()=>[],A=>A.matches),S=V_(e,pK(h.inlinePatterns),a,l,s,g).fold(()=>[],A=>A.matches);return gK(v,S)},Rz=(e,s)=>{if(s.length===0)return;const a=e.dom,l=e.selection.getBookmark(),h=mK(a,s);le(h,g=>{const v=a.getParent(g.startMarker.start,a.isBlock),S=A=>A===v;Ez(g.pattern)?fK(e,g.pattern,g.endMarker,S):hK(e,g.pattern,g.startMarker,g.endMarker,S),O$(a,g.endMarker,S),O$(a,g.startMarker,S)}),e.selection.moveToBookmark(l)},Az=(e,s)=>{const a=e.selection.getRng();return KR(e,a).map(l=>{var h;const g=Math.max(0,a.startOffset),v=aK(s,l,(h=l.textContent)!==null&&h!==void 0?h:""),S=Tz(e,l,a.startContainer,g,v,!0),A=cK(e,l,v,!0);return A.length>0||S.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent($l),Rz(e,S),I$(e,A);const z=e.selection.getRng(),W=TP(z.startContainer,z.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),W.each(U=>{const X=U.container;X.data.charAt(U.offset-1)===$l&&(X.deleteData(U.offset-1,1),$_(e.dom,X.parentNode,fe=>fe===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},Iz=(e,s)=>{const a=e.selection.getRng();KR(e,a).map(l=>{const h=Math.max(0,a.startOffset-1),g=T$(e.dom,l,a.startContainer,h),v=aK(s,l,g),S=Tz(e,l,a.startContainer,h,v,!1);S.length>0&&e.undoManager.transact(()=>{Rz(e,S)})})},z$=(e,s,a)=>{for(let l=0;l<e.length;l++)if(a(e[l],s))return!0;return!1},Oz=(e,s)=>z$(e,s,(a,l)=>a===l.keyCode&&!fn.modifierPressed(l)),yK=(e,s)=>z$(e,s,(a,l)=>a.charCodeAt(0)===l.charCode),bK=e=>{const s=[",",".",";",":","!","?"],a=[32],l=()=>cw(BE(e),BI(e)),h=()=>UE(e);e.on("keydown",v=>{if(v.keyCode===13&&!fn.modifierPressed(v)&&e.selection.isCollapsed()){const S=l();(S.inlinePatterns.length>0||S.blockPatterns.length>0||h())&&Az(e,S)&&v.preventDefault()}},!0);const g=()=>{if(e.selection.isCollapsed()){const v=l();(v.inlinePatterns.length>0||h())&&Iz(e,v)}};e.on("keyup",v=>{Oz(a,v)&&g()}),e.on("keypress",v=>{yK(s,v)&&Hs.setEditorTimeout(e,g)})},N$=e=>{bK(e)},vK=e=>{const s=xt.each,a=fn.BACKSPACE,l=fn.DELETE,h=e.dom,g=e.selection,v=e.parser,S=Bo.browser,A=S.isFirefox(),z=S.isChromium()||S.isSafari(),W=Bo.deviceType.isiPhone()||Bo.deviceType.isiPad(),U=Bo.os.isMacOS()||Bo.os.isiOS(),X=(Jt,Tn)=>{try{e.getDoc().execCommand(Jt,!1,String(Tn))}catch{}},fe=Jt=>Jt.isDefaultPrevented(),pe=()=>{const Jt=Dn=>{const Qt=h.create("body"),po=Dn.cloneContents();return Qt.appendChild(po),g.serializer.serialize(Qt,{format:"html"})},Tn=Dn=>{const Qt=Jt(Dn),po=h.createRng();po.selectNode(e.getBody());const ao=Jt(po);return Qt===ao};e.on("keydown",Dn=>{const Qt=Dn.keyCode;if(!fe(Dn)&&(Qt===l||Qt===a)&&e.selection.isEditable()){const po=e.selection.isCollapsed(),ao=e.getBody();if(po&&!h.isEmpty(ao)||!po&&!Tn(e.selection.getRng()))return;Dn.preventDefault(),e.setContent(""),ao.firstChild&&h.isBlock(ao.firstChild)?e.selection.setCursorLocation(ao.firstChild,0):e.selection.setCursorLocation(ao,0),e.nodeChanged()}})},se=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},he=()=>{e.inline||h.bind(e.getDoc(),"mousedown mouseup",Jt=>{let Tn;if(Jt.target===e.getDoc().documentElement)if(Tn=g.getRng(),e.getBody().focus(),Jt.type==="mousedown"){if($o(Tn.startContainer))return;g.placeCaretAt(Jt.clientX,Jt.clientY)}else g.setRng(Tn)})},Ie=()=>{e.on("keydown",Jt=>{if(!fe(Jt)&&Jt.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(g.isCollapsed()&&g.getRng().startOffset===0){const Tn=g.getNode(),Dn=Tn.previousSibling;if(Tn.nodeName==="HR"){h.remove(Tn),Jt.preventDefault();return}Dn&&Dn.nodeName&&Dn.nodeName.toLowerCase()==="hr"&&(h.remove(Dn),Jt.preventDefault())}}})},Se=()=>{Range.prototype.getClientRects||e.on("mousedown",Jt=>{if(!fe(Jt)&&Jt.target.nodeName==="HTML"){const Tn=e.getBody();Tn.blur(),Hs.setEditorTimeout(e,()=>{Tn.focus()})}})},Me=()=>{const Jt=ME(e);e.on("click",Tn=>{const Dn=Tn.target;/^(IMG|HR)$/.test(Dn.nodeName)&&h.isEditable(Dn.parentNode)&&(Tn.preventDefault(),e.selection.select(Dn),e.nodeChanged()),Dn.nodeName==="A"&&h.hasClass(Dn,Jt)&&Dn.childNodes.length===0&&h.isEditable(Dn.parentNode)&&(Tn.preventDefault(),g.select(Dn))})},Ze=()=>{const Jt=()=>{const Dn=h.getAttribs(g.getStart().cloneNode(!1));return()=>{const Qt=g.getStart();Qt!==e.getBody()&&(h.setAttrib(Qt,"style",null),s(Dn,po=>{Qt.setAttributeNode(po.cloneNode(!0))}))}},Tn=()=>!g.isCollapsed()&&h.getParent(g.getStart(),h.isBlock)!==h.getParent(g.getEnd(),h.isBlock);e.on("keypress",Dn=>{let Qt;return!fe(Dn)&&(Dn.keyCode===8||Dn.keyCode===46)&&Tn()?(Qt=Jt(),e.getDoc().execCommand("delete",!1),Qt(),Dn.preventDefault(),!1):!0}),h.bind(e.getDoc(),"cut",Dn=>{if(!fe(Dn)&&Tn()){const Qt=Jt();Hs.setEditorTimeout(e,()=>{Qt()})}})},kt=()=>{e.on("keydown",Jt=>{if(!fe(Jt)&&Jt.keyCode===a&&g.isCollapsed()&&g.getRng().startOffset===0){const Tn=g.getNode().previousSibling;if(Tn&&Tn.nodeName&&Tn.nodeName.toLowerCase()==="table")return Jt.preventDefault(),!1}return!0})},Zt=()=>{e.on("keydown",Jt=>{if(fe(Jt)||Jt.keyCode!==fn.BACKSPACE)return;let Tn=g.getRng();const Dn=Tn.startContainer,Qt=Tn.startOffset,po=h.getRoot();let ao=Dn;if(!(!Tn.collapsed||Qt!==0)){for(;ao.parentNode&&ao.parentNode.firstChild===ao&&ao.parentNode!==po;)ao=ao.parentNode;ao.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,ao),Tn=h.createRng(),Tn.setStart(Dn,0),Tn.setEnd(Dn,0),g.setRng(Tn))}})},Ft=()=>{const Jt=()=>{X("StyleWithCSS",!1),X("enableInlineTableEditing",!1),Wg(e)||X("enableObjectResizing",!1)};DE(e)||e.on("BeforeExecCommand mousedown",Jt)},et=()=>{const Jt=()=>{s(h.select("a:not([data-mce-block])"),Tn=>{var Dn;let Qt=Tn.parentNode;const po=h.getRoot();if((Qt==null?void 0:Qt.lastChild)===Tn){for(;Qt&&!h.isBlock(Qt);){if(((Dn=Qt.parentNode)===null||Dn===void 0?void 0:Dn.lastChild)!==Qt||Qt===po)return;Qt=Qt.parentNode}h.add(Qt,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Tn=>{(Tn.type==="setcontent"||Tn.command==="mceInsertLink")&&Jt()})},nt=()=>{e.on("init",()=>{X("DefaultParagraphSeparator",Pr(e))})},nn=Jt=>{const Tn=Jt.getBody(),Dn=Jt.selection.getRng();return Dn.startContainer===Dn.endContainer&&Dn.startContainer===Tn&&Dn.startOffset===0&&Dn.endOffset===Tn.childNodes.length},Cn=()=>{e.on("keyup focusin mouseup",Jt=>{!fn.modifierPressed(Jt)&&!nn(e)&&g.normalize()},!0)},On=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},so=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Co=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Jt=>{let Tn;Jt.target.nodeName==="HTML"&&(Tn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Tn),e.selection.normalize(),e.nodeChanged())}))},ts=()=>{U&&e.on("keydown",Jt=>{fn.metaKeyPressed(Jt)&&!Jt.shiftKey&&(Jt.keyCode===37||Jt.keyCode===39)&&(Jt.preventDefault(),e.selection.getSel().modify("move",Jt.keyCode===37?"backward":"forward","lineboundary"))})},ys=()=>{e.on("click",Jt=>{let Tn=Jt.target;do if(Tn.tagName==="A"){Jt.preventDefault();return}while(Tn=Tn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Sr=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Jt=>{Jt.preventDefault()})})},qi=()=>{v.addNodeFilter("br",Jt=>{let Tn=Jt.length;for(;Tn--;)Jt[Tn].attr("class")==="Apple-interchange-newline"&&Jt[Tn].remove()})},Fa=It,Bt=()=>{if(!A||e.removed)return!1;const Jt=e.selection.getSel();return!Jt||!Jt.rangeCount||Jt.rangeCount===0},pn=()=>{z&&(he(),Me(),Sr(),se(),W&&(so(),Co(),ys())),A&&(Se(),Ft(),On(),ts())},Lo=()=>{Zt(),pe(),Bo.windowsPhone||Cn(),z&&(he(),Me(),nt(),Sr(),kt(),qi(),W?(so(),Co(),ys()):se()),A&&(Ie(),Se(),Ze(),Ft(),et(),On(),ts(),kt())};return Hp(e)?pn():Lo(),{refreshContentEditable:Fa,isHidden:Bt}},Dz=ps.DOM,wK=(e,s)=>{const a=ve.fromDom(e.getBody()),l=Xm(yu(a)),h=ve.fromTag("style");vr(h,"type","text/css"),nr(h,ve.fromText(s)),nr(l,h),e.on("remove",()=>{hs(h)})},_K=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,Mz=e=>bs(e,s=>st(s)===!1),L$=e=>{const s=e.options.get,a=e.editorUpload.blobCache;return Mz({allow_conditional_comments:s("allow_conditional_comments"),allow_html_data_urls:s("allow_html_data_urls"),allow_svg_data_urls:s("allow_svg_data_urls"),allow_html_in_named_anchor:s("allow_html_in_named_anchor"),allow_script_urls:s("allow_script_urls"),allow_unsafe_link_target:s("allow_unsafe_link_target"),convert_fonts_to_spans:s("convert_fonts_to_spans"),fix_list_elements:s("fix_list_elements"),font_size_legacy_values:s("font_size_legacy_values"),forced_root_block:s("forced_root_block"),forced_root_block_attrs:s("forced_root_block_attrs"),preserve_cdata:s("preserve_cdata"),remove_trailing_brs:s("remove_trailing_brs"),inline_styles:s("inline_styles"),root_name:_K(e),sanitize:s("xss_sanitization"),validate:!0,blob_cache:a,document:e.getDoc()})},F$=e=>{const s=e.options.get;return Mz({custom_elements:s("custom_elements"),extended_valid_elements:s("extended_valid_elements"),invalid_elements:s("invalid_elements"),invalid_styles:s("invalid_styles"),schema:s("schema"),valid_children:s("valid_children"),valid_classes:s("valid_classes"),valid_elements:s("valid_elements"),valid_styles:s("valid_styles"),verify_html:s("verify_html"),padd_empty_block_inline_children:s("format_empty_lines")})},B$=e=>{const s=e.options.get;return{...L$(e),...F$(e),...Mz({url_converter:s("url_converter"),url_converter_scope:s("url_converter_scope"),element_format:s("element_format"),entities:s("entities"),entity_encoding:s("entity_encoding"),indent:s("indent"),indent_after:s("indent_after"),indent_before:s("indent_before")})}},kK=e=>{const s=zv(L$(e),e.schema);return s.addAttributeFilter("src,href,style,tabindex",(a,l)=>{const h=e.dom,g="data-mce-"+l;let v=a.length;for(;v--;){const S=a[v];let A=S.attr(l);if(A&&!S.attr(g)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;l==="style"?(A=h.serializeStyle(h.parseStyle(A),S.name),A.length||(A=null),S.attr(g,A),S.attr(l,A)):l==="tabindex"?(S.attr(g,A),S.attr(l,null)):S.attr(g,e.convertURL(A,l,S.name))}}}),s.addNodeFilter("script",a=>{let l=a.length;for(;l--;){const h=a[l],g=h.attr("type")||"no/type";g.indexOf("mce-")!==0&&h.attr("type","mce-"+g)}}),VI(e)&&s.addNodeFilter("#cdata",a=>{var l;let h=a.length;for(;h--;){const g=a[h];g.type=8,g.name="#comment",g.value="[CDATA["+e.dom.encode((l=g.value)!==null&&l!==void 0?l:"")+"]]"}}),s.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",a=>{let l=a.length;const h=e.schema.getNonEmptyElements();for(;l--;){const g=a[l];g.isEmpty(h)&&g.getAll("br").length===0&&g.append(new kc("br",1))}}),s},Pz=e=>{const s=NI(e);s&&Hs.setEditorTimeout(e,()=>{let a;s===!0?a=e:a=e.editorManager.get(s),a&&!a.destroyed&&(a.focus(),a.selection.scrollIntoView())},100)},CK=e=>{const s=e.dom.getRoot();!e.inline&&(!tv(e)||e.selection.getStart(!0)===s)&&ql(s).each(a=>{const l=a.getNode(),h=hc(l)?ql(l).getOr(a):a;e.selection.setRng(h.toRange())})},SK=e=>{e.bindPendingEventDelegates(),e.initialized=!0,aC(e),e.focus(!0),CK(e),e.nodeChanged({initial:!0});const s=vp(e);ue(s)&&s.call(e,e),Pz(e)},$$=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,xK=(e,s,a)=>{const l=[$$(e).loadAll(s)];return e.inline?l:l.concat([e.ui.styleSheetLoader.loadAll(a)])},V$=e=>{const s=$$(e),a=CE(e),l=e.contentCSS,h=()=>{s.unloadAll(l),e.inline||e.ui.styleSheetLoader.unloadAll(a)},g=()=>{e.removed?h():e.on("remove",h)};if(e.contentStyles.length>0){let A="";xt.each(e.contentStyles,z=>{A+=z+`\r
`}),e.dom.addStyle(A)}const v=Promise.all(xK(e,l,a)).then(g).catch(g),S=gw(e);return S&&wK(e,S),v},EK=e=>{const s=e.getDoc(),a=e.getBody();gO(e),LI(e)||(s.body.spellcheck=!1,Dz.setAttrib(a,"spellcheck","false")),e.quirks=vK(e),rC(e);const l=SE(e);l!==void 0&&(a.dir=l);const h=FI(e);h&&e.on("BeforeSetContent",g=>{xt.each(h,v=>{g.content=g.content.replace(v,S=>"<!--mce:protected "+escape(S)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",g=>{e.composing=g.type==="compositionstart"})},YR=e=>{Hp(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},zz=e=>{e.removed!==!0&&(YR(e),SK(e))},H$=e=>{const s=e.getElement();let a=e.getDoc();e.inline&&(Dz.addClass(s,"mce-content-body"),e.contentDocument=a=document,e.contentWindow=window,e.bodyElement=s,e.contentAreaContainer=s);const l=e.getBody();l.disabled=!0,e.readonly=DE(e),e.readonly||(e.inline&&Dz.getStyle(l,"position",!0)==="static"&&(l.style.position="relative"),l.contentEditable="true"),l.disabled=!1,e.editorUpload=bj(e),e.schema=Wl(F$(e)),e.dom=ps(a,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:TI(e),referrerPolicy:pw(e),onSetAttrib:v=>{e.dispatch("SetAttrib",v)}}),e.parser=kK(e),e.serializer=xM(B$(e),e),e.selection=kM(e.dom,e.getWin(),e.serializer,e),e.annotator=wc(e),e.formatter=Rd(e),e.undoManager=PM(e),e._nodeChangeDispatcher=new HG(e),e._selectionOverrides=sK(e),Sf(e),Cq(e),s5(e),Hp(e)||(Rq(e),N$(e));const h=D6(e);yP(e,h),uR(e),Cj(e),_q(e);const g=wU(e);EK(e),g.fold(()=>{V$(e).then(()=>zz(e))},v=>{e.setProgressState(!0),V$(e).then(()=>{v().then(S=>{e.setProgressState(!1),zz(e),zU(e)},S=>{e.notificationManager.open({type:"error",text:String(S)}),zz(e),zU(e)})})})},TK=me,RK=(e,s,a)=>Qm(e,s,TK,a),Nz=ps.DOM,AK=(e,s,a,l)=>{const h=ve.fromTag("iframe");return l.each(g=>vr(h,"tabindex",g)),_i(h,a),_i(h,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:s}),Vf(h,"tox-edit-area__iframe"),h},IK=e=>{let s=Lt(e)+"<html><head>";bE(e)!==e.documentBaseUrl&&(s+='<base href="'+e.documentBaseURI.getURI()+'" />'),s+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const a=Ja(e),l=SI(e),h=e.translate(PE(e));return vk(e)&&(s+='<meta http-equiv="Content-Security-Policy" content="'+vk(e)+'" />'),s+=`</head><body id="${a}" class="mce-content-body ${l}" data-id="${e.id}" aria-label="${h}"><br></body></html>`,s},OK=(e,s)=>{const a=e.translate("Rich Text Area"),l=Lc(ve.fromDom(e.getElement()),"tabindex").bind(Pc),h=AK(e.id,a,yE(e),l).dom;h.onload=()=>{h.onload=null,e.dispatch("load")},e.contentAreaContainer=s.iframeContainer,e.iframeElement=h,e.iframeHTML=IK(e),Nz.add(s.iframeContainer,h)},DK=e=>{const s=e.iframeElement,a=RK(ve.fromDom(s),"load",()=>{a.unbind(),e.contentDocument=s.contentDocument,H$(e)});if(Bo.browser.isFirefox()){const l=e.getDoc();l.open(),l.write(e.iframeHTML),l.close()}else s.srcdoc=e.iframeHTML},U$=(e,s)=>{OK(e,s),s.editorContainer&&(s.editorContainer.style.display=e.orgDisplay,e.hidden=Nz.isHidden(s.editorContainer)),e.getElement().style.display="none",Nz.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,DK(e)},j$=ps.DOM,W$=(e,s,a)=>{const l=kf.get(a),h=kf.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=xt.trim(a),l&&xt.inArray(s,a)===-1){if(e.plugins[a])return;try{const g=l(e,h)||{};e.plugins[a]=g,ue(g.init)&&(g.init(e,h),s.push(a))}catch(g){qF(e,a,g)}}},MK=e=>e.replace(/^\-/,""),PK=e=>{const s=[];le(Vb(e),a=>{W$(e,s,MK(a))})},Z$=e=>{const s=xt.trim(vE(e)),a=e.ui.registry.getAll().icons,l={...VT.get("default").icons,...VT.get(s).icons};Gt(l,(h,g)=>{Ln(a,g)||e.ui.registry.addIcon(g,h)})},PS=e=>{const s=gp(e);if(ne(s)){const a=Td.get(s);e.theme=a(e,Td.urls[s])||{},ue(e.theme.init)&&e.theme.init(e,Td.urls[s]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},zK=e=>{const s=Zg(e),a=y_.get(s);e.model=a(e,y_.urls[s])},G$=e=>{const s=e.theme.renderUI;return s?s():K$(e)},NK=e=>{const s=e.getElement(),l=gp(e)(e,s);return l.editorContainer.nodeType&&(l.editorContainer.id=l.editorContainer.id||e.id+"_parent"),l.iframeContainer&&l.iframeContainer.nodeType&&(l.iframeContainer.id=l.iframeContainer.id||e.id+"_iframecontainer"),l.height=l.iframeHeight?l.iframeHeight:s.offsetHeight,l},q$=(e,s)=>({editorContainer:e,iframeContainer:s,api:{}}),LK=e=>{const s=j$.create("div");return j$.insertAfter(s,e),q$(s,s)},K$=e=>{const s=e.getElement();return e.inline?q$(null):LK(s)},Y$=e=>{const s=e.getElement();return e.orgDisplay=s.style.display,ne(gp(e))?G$(e):ue(gp(e))?NK(e):K$(e)},FK=(e,s)=>{const a={show:j.from(s.show).getOr(It),hide:j.from(s.hide).getOr(It),isEnabled:j.from(s.isEnabled).getOr(me),setEnabled:l=>{e.mode.isReadOnly()||j.from(s.setEnabled).each(h=>h(l))}};e.ui={...e.ui,...a}},X$=async e=>{e.dispatch("ScriptsLoaded"),Z$(e),PS(e),zK(e),PK(e);const s=await Y$(e);FK(e,j.from(s.api).getOr({})),e.editorContainer=s.editorContainer,Cf(e),e.inline?H$(e):U$(e,{editorContainer:s.editorContainer,iframeContainer:s.iframeContainer})},jv=ps.DOM,J$=e=>e.charAt(0)==="-",BK=(e,s)=>{const a=Bb(s),l=Qa(s);if(!hd.hasCode(a)&&a!=="en"){const h=Jo(l)?l:`${s.editorManager.baseURL}/langs/${a}.js`;e.add(h).catch(()=>{ZF(s,h,a)})}},$K=(e,s)=>{const a=gp(e);if(ne(a)&&!J$(a)&&!Ln(Td.urls,a)){const l=$b(e),h=l?e.documentBaseURI.toAbsolute(l):`themes/${a}/theme${s}.js`;Td.load(a,h).catch(()=>{GF(e,h,a)})}},VK=(e,s)=>{const a=Zg(e);if(a!=="plugin"&&!Ln(y_.urls,a)){const l=pd(e),h=ne(l)?e.documentBaseURI.toAbsolute(l):`models/${a}/model${s}.js`;y_.load(a,h).catch(()=>{jT(e,h,a)})}},HK=e=>j.from(_k(e)).filter(Jo).map(s=>({url:s,name:j.none()})),Q$=(e,s,a)=>j.from(s).filter(l=>Jo(l)&&!VT.has(l)).map(l=>({url:`${e.editorManager.baseURL}/icons/${l}/icons${a}.js`,name:j.some(l)})),UK=(e,s,a)=>{const l=Q$(s,"default",a),h=HK(s).orThunk(()=>Q$(s,vE(s),""));le(er([l,h]),g=>{e.add(g.url).catch(()=>{WF(s,g.url,g.name.getOrUndefined())})})},jK=(e,s)=>{const a=(l,h)=>{kf.load(l,h).catch(()=>{__(e,h,l)})};Gt(k4(e),(l,h)=>{a(h,l),e.options.set("plugins",Vb(e).concat(h))}),le(Vb(e),l=>{l=xt.trim(l),l&&!kf.urls[l]&&!J$(l)&&a(l,`plugins/${l}/plugin${s}.js`)})},e8=e=>{const s=gp(e);return!ne(s)||je(Td.get(s))},Lz=e=>{const s=Zg(e);return je(y_.get(s))},t8=(e,s)=>{const a=Wc.ScriptLoader,l=()=>{!e.removed&&e8(e)&&Lz(e)&&X$(e)};$K(e,s),VK(e,s),BK(a,e),UK(a,e,s),jK(e,s),a.loadQueue().then(l,l)},n8=(e,s)=>Mg.forElement(e,{contentCssCors:Gg(s),referrerPolicy:pw(s)}),WK=e=>{const s=e.id;hd.setCode(Bb(e));const a=()=>{jv.unbind(window,"ready",a),e.render()};if(!Ia.Event.domLoaded){jv.bind(window,"ready",a);return}if(!e.getElement())return;const l=ve.fromDom(e.getElement()),h=Zm(l);e.on("remove",()=>{$e(l.dom.attributes,v=>Ir(l,v.name)),_i(l,h)}),e.ui.styleSheetLoader=n8(l,e),yp(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const g=e.getElement().form||jv.getParent(s,"form");g&&(e.formElement=g,II(e)&&!qf(e.getElement())&&(jv.insertAfter(jv.create("input",{type:"hidden",name:s}),s),e.hasHiddenInput=!0),e.formEventDelegate=v=>{e.dispatch(v.type,v)},jv.bind(g,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),IE(e)&&!g.submit.nodeType&&!g.submit.length&&!g._mceOldSubmit&&(g._mceOldSubmit=g.submit,g.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),g._mceOldSubmit(g)))),e.windowManager=nS(e),e.notificationManager=tS(e),jI(e)&&e.on("GetContent",v=>{v.save&&(v.content=jv.encode(v.content))}),OE(e)&&e.on("submit",()=>{e.initialized&&e.save()}),OI(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),t8(e,e.suffix)},ZK=(e,s)=>({sections:ot(e),options:ot(s)}),o8=pu().deviceType,Fz=o8.isPhone(),s8=o8.isTablet(),zS=e=>{if(wt(e))return[];{const s=We(e)?e:e.split(/[ ,]/),a=Ke(s,Mc);return Ve(a,Jo)}},GK=(e,s)=>{const a=du(s,(l,h)=>Oe(e,h));return ZK(a.t,a.f)},Bz=(e,s,a={})=>{const l=e.sections(),h=us(l,s).getOr({});return xt.extend({},a,h)},H_=(e,s)=>Ln(e.sections(),s),XR=(e,s)=>H_(e,s)?e.sections()[s]:{},Kp=(e,s)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:us(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...s?{menubar:!1}:{}}),JR=(e,s)=>{var a;const l=(a=s.external_plugins)!==null&&a!==void 0?a:{};return e&&e.external_plugins?xt.extend({},e.external_plugins,l):l},U_=(e,s)=>[...zS(e),...zS(s)],r8=(e,s,a,l)=>e&&H_(s,"mobile")?l:a,qK=(e,s,a,l)=>{const h=zS(a.forced_plugins),g=zS(l.plugins),v=XR(s,"mobile"),S=v.plugins?zS(v.plugins):g,A=r8(e,s,g,S),z=U_(h,A);return xt.extend(l,{forced_plugins:h,plugins:z})},KK=(e,s)=>e&&H_(s,"mobile"),a8=(e,s,a,l,h)=>{var g;const v=e?{mobile:Kp((g=h.mobile)!==null&&g!==void 0?g:{},s)}:{},S=GK(["mobile"],OP(v,h)),A=xt.extend(a,l,S.options(),KK(e,S)?Bz(S,"mobile"):{},{external_plugins:JR(l,S.options())});return qK(e,S,l,A)},YK=(e,s)=>a8(Fz||s8,Fz,s,e,s),$z=(e,s)=>PU(e,s),QR=e=>{const s=(l,h)=>{e.formatter.toggle(l,h),e.nodeChanged()},a=l=>()=>{le("left,center,right,justify".split(","),h=>{l!==h&&e.formatter.remove("align"+h)}),l!=="none"&&s("align"+l)};e.editorCommands.addCommands({JustifyLeft:a("left"),JustifyCenter:a("center"),JustifyRight:a("right"),JustifyFull:a("justify"),JustifyNone:a("none")})},Ly=e=>{const s=a=>()=>{const l=e.selection,h=l.isCollapsed()?[e.dom.getParent(l.getNode(),e.dom.isBlock)]:l.getSelectedBlocks();return pt(h,g=>je(e.formatter.matchNode(g,a)))};e.editorCommands.addCommands({JustifyLeft:s("alignleft"),JustifyCenter:s("aligncenter"),JustifyRight:s("alignright"),JustifyFull:s("alignjustify")},"state")},Wv=e=>{QR(e),Ly(e)},i8=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":s=>{const a=e.getDoc();let l;try{a.execCommand(s)}catch{l=!0}if(s==="paste"&&!a.queryCommandEnabled(s)&&(l=!0),l||!a.queryCommandSupported(s)){let h=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Bo.os.isMacOS()||Bo.os.isiOS())&&(h=h.replace(/Ctrl\+/g,"\u2318+")),e.notificationManager.open({text:h,type:"error"})}}})},XK=(e,s,a)=>{const l=ve.fromDom(e.getRoot());return EC(l,dt.fromRangeStart(s))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),TC(l,dt.fromRangeEnd(s))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},JK=e=>{if(typeof e!="string"){const s=xt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:s}}return{content:e,details:{}}},QK=(e,s)=>{const a=e.selection,l=e.dom;return/^ | $/.test(s)?XK(l,a.getRng(),s):s},eA=(e,s)=>{if(e.selection.isEditable()){const{content:a,details:l}=JK(s);AT(e,{...l,content:QK(e,a),format:"html",set:!1,selection:!0}).each(h=>{const g=DU(e,h.content,l);dM(e,g,h),e.addVisual()})}},eY=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const s=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(s)},insertImage:(s,a,l)=>{eA(e,e.dom.createHTML("img",{src:l}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(s,a,l)=>{eA(e,e.dom.encode(l))},insertHTML:(s,a,l)=>{eA(e,l)},mceInsertContent:(s,a,l)=>{eA(e,l)},mceSetContent:(s,a,l)=>{e.setContent(l)},mceReplaceContent:(s,a,l)=>{e.execCommand("mceInsertContent",!1,l.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})},tY={"font-size":"size","font-family":"face"},l8=Fh("font"),nY=(e,s,a)=>{const l=g=>ai(g,e).orThunk(()=>l8(g)?us(tY,e).bind(v=>Lc(g,v)):j.none()),h=g=>Yo(ve.fromDom(s),g);return SD(ve.fromDom(a),g=>l(g),h)},oY=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),sY=(e,s)=>j.from(ps.DOM.getStyle(s,e,!0)),rY=e=>(s,a)=>j.from(a).map(ve.fromDom).filter(Cs).bind(l=>nY(e,s,l.dom).or(sY(e,l.dom))).getOr(""),aY=rY("font-size"),Vz=L(oY,rY("font-family")),iY=e=>ql(e.getBody()).bind(s=>{const a=s.container();return j.from(Pt(a)?a.parentNode:a)}),lY=e=>j.from(e.selection.getRng()).bind(s=>{const a=e.getBody();return s.startContainer===a&&s.startOffset===0?j.none():j.from(e.selection.getStart(!0))}),c8=(e,s)=>lY(e).orThunk(it(iY,e)).map(ve.fromDom).filter(Cs).bind(s),Hz=(e,s)=>c8(e,Ht(j.some,s)),Uz=(e,s)=>{if(/^[0-9.]+$/.test(s)){const a=parseInt(s,10);if(a>=1&&a<=7){const l=HI(e),h=UI(e);return h.length>0?h[a-1]||s:l[a-1]||s}else return s}else return s},cY=e=>{const s=e.split(/\s*,\s*/);return Ke(s,a=>a.indexOf(" ")!==-1&&!(Rr(a,'"')||Rr(a,"'"))?`'${a}'`:a).join(",")},jz=(e,s)=>{const a=Uz(e,s);e.formatter.toggle("fontname",{value:cY(a)}),e.nodeChanged()},uY=e=>Hz(e,s=>Vz(e.getBody(),s.dom)).getOr(""),dY=(e,s)=>{e.formatter.toggle("fontsize",{value:Uz(e,s)}),e.nodeChanged()},fY=e=>Hz(e,s=>aY(e.getBody(),s.dom)).getOr(""),hY=e=>Hz(e,s=>{const a=ve.fromDom(e.getBody()),l=SD(s,g=>ai(g,"line-height"),it(Yo,a)),h=()=>{const g=parseFloat(dc(s,"line-height")),v=parseFloat(dc(s,"font-size"));return String(g/v)};return l.getOrThunk(h)}).getOr(""),u8=(e,s)=>{e.formatter.toggle("lineheight",{value:String(s)}),e.nodeChanged()},Wz=e=>{const s=(a,l)=>{e.formatter.toggle(a,l),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":a=>{s(a)},"ForeColor,HiliteColor":(a,l,h)=>{s(a,{value:h})},BackColor:(a,l,h)=>{s("hilitecolor",{value:h})},FontName:(a,l,h)=>{jz(e,h)},FontSize:(a,l,h)=>{dY(e,h)},LineHeight:(a,l,h)=>{u8(e,h)},Lang:(a,l,h)=>{var g;s(a,{value:h.code,customValue:(g=h.customCode)!==null&&g!==void 0?g:null})},RemoveFormat:a=>{e.formatter.remove(a)},mceBlockQuote:()=>{s("blockquote")},FormatBlock:(a,l,h)=>{s(ne(h)?h:"p")},mceToggleFormat:(a,l,h)=>{s(h)}})},d8=e=>{const s=a=>e.formatter.match(a);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":a=>s(a),mceBlockQuote:()=>s("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>uY(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>fY(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>hY(e))},Zz=e=>{Wz(e),d8(e)},mY=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},Cte=e=>{e.editorCommands.addCommands({Indent:()=>{mP(e)},Outdent:()=>{hS(e)}}),e.editorCommands.addCommands({Outdent:()=>hP(e)},"state")},Ste=e=>{const s=(a,l,h)=>{const g=ne(h)?{href:h}:h,v=e.dom.getParent(e.selection.getNode(),"a");vt(g)&&ne(g.href)&&(g.href=g.href.replace(/ /g,"%20"),(!v||!g.href)&&e.formatter.remove("link"),g.href&&e.formatter.apply("link",g,v))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const a=e.dom.getParent(e.selection.getStart(),"a");a&&e.dom.remove(a,!0);return}e.formatter.remove("link")},mceInsertLink:s,createLink:s})},pY=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":s=>{e.getDoc().execCommand(s);const a=e.dom.getParent(e.selection.getNode(),"ol,ul");if(a){const l=a.parentNode;if(l&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(l.nodeName)){const h=e.selection.getBookmark();e.dom.split(l,a),e.selection.moveToBookmark(h)}}}})},f8=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":s=>{const a=e.dom.getParent(e.selection.getNode(),"ul,ol");return a&&(s==="insertunorderedlist"&&a.tagName==="UL"||s==="insertorderedlist"&&a.tagName==="OL")}},"state")},gY=e=>{pY(e),f8(e)},yY=e=>{e.editorCommands.addCommands({insertParagraph:()=>{IR(Rm,e)},mceInsertNewLine:(s,a,l)=>{OR(e,l)},InsertLineBreak:(s,a,l)=>{IR(tz,e)}})},bY=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(s,a,l)=>{let h=0;e.dom.getParent(e.selection.getNode(),g=>ht(g)&&h++===l?(e.selection.select(g),!1):!0,e.getBody())},mceSelectNode:(s,a,l)=>{e.selection.select(l)},selectAll:()=>{const s=e.dom.getParent(e.selection.getStart(),Uc);if(s){const a=e.dom.createRng();a.selectNodeContents(s),e.selection.setRng(a)}}})},xte=e=>{e.editorCommands.addCommands({mceRemoveNode:(s,a,l)=>{const h=l!=null?l:e.selection.getNode();if(h!==e.getBody()){const g=e.selection.getBookmark();e.dom.remove(h,!0),e.selection.moveToBookmark(g)}},mcePrint:()=>{e.getWin().print()},mceFocus:(s,a,l)=>{L7(e,l===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},Ete=e=>{Wv(e),i8(e),mY(e),bY(e),eY(e),Ste(e),Cte(e),yY(e),gY(e),Zz(e),xte(e)},h8=["toggleview"],Gz=e=>Oe(h8,e.toLowerCase());class m8{constructor(s){this.commands={state:{},exec:{},value:{}},this.editor=s}execCommand(s,a=!1,l,h){const g=this.editor,v=s.toLowerCase(),S=h==null?void 0:h.skip_focus;if(g.removed||(v!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(v)&&!S?g.focus():hy(g)),g.dispatch("BeforeExecCommand",{command:s,ui:a,value:l}).isDefaultPrevented()))return!1;const z=this.commands.exec[v];return ue(z)?(z(v,a,l),g.dispatch("ExecCommand",{command:s,ui:a,value:l}),!0):!1}queryCommandState(s){if(!Gz(s)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const a=s.toLowerCase(),l=this.commands.state[a];return ue(l)?l(a):!1}queryCommandValue(s){if(!Gz(s)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const a=s.toLowerCase(),l=this.commands.value[a];return ue(l)?l(a):""}addCommands(s,a="exec"){const l=this.commands;Gt(s,(h,g)=>{le(g.toLowerCase().split(","),v=>{l[a][v]=h})})}addCommand(s,a,l){const h=s.toLowerCase();this.commands.exec[h]=(g,v,S)=>a.call(l!=null?l:this.editor,v,S)}queryCommandSupported(s){const a=s.toLowerCase();return!!this.commands.exec[a]}addQueryStateHandler(s,a,l){this.commands.state[s.toLowerCase()]=()=>a.call(l!=null?l:this.editor)}addQueryValueHandler(s,a,l){this.commands.value[s.toLowerCase()]=()=>a.call(l!=null?l:this.editor)}}const Zv="data-mce-contenteditable",vY=(e,s,a)=>{Km(e,s)&&!a?Vh(e,s):a&&Vf(e,s)},p8=(e,s,a)=>{try{e.getDoc().execCommand(s,!1,String(a))}catch{}},qz=(e,s)=>{e.dom.contentEditable=s?"true":"false"},Tte=e=>{le(Ta(e,'*[contenteditable="true"]'),s=>{vr(s,Zv,"true"),qz(s,!1)})},wY=e=>{le(Ta(e,`*[${Zv}="true"]`),s=>{Ir(s,Zv),qz(s,!0)})},Rte=e=>{j.from(e.selection.getNode()).each(s=>{s.removeAttribute("data-mce-selected")})},_Y=e=>{e.selection.setRng(e.selection.getRng())},Gv=(e,s)=>{const a=ve.fromDom(e.getBody());vY(a,"mce-content-readonly",s),s?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),Rte(e),e.readonly=!0,qz(a,!1),Tte(a)):(e.readonly=!1,qz(a,!0),wY(a),p8(e,"StyleWithCSS",!1),p8(e,"enableInlineTableEditing",!1),p8(e,"enableObjectResizing",!1),I4(e)&&e.focus(),_Y(e),e.nodeChanged())},Yp=e=>e.readonly,NS=e=>{e.parser.addAttributeFilter("contenteditable",s=>{Yp(e)&&le(s,a=>{a.attr(Zv,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Zv,s=>{Yp(e)&&le(s,a=>{a.attr("contenteditable",a.attr(Zv))})}),e.serializer.addTempAttr(Zv)},g8=e=>{e.serializer?NS(e):e.on("PreInit",()=>{NS(e)})},y8=e=>e.type==="click",b8=["copy"],kY=e=>Oe(b8,e.type),CY=(e,s)=>Fc(s,"a",l=>Yo(l,ve.fromDom(e.getBody()))).bind(l=>Lc(l,"href")),SY=(e,s)=>{if(y8(s)&&!fn.metaKeyPressed(s)){const a=ve.fromDom(s.target);CY(e,a).each(l=>{if(s.preventDefault(),/^#/.test(l)){const h=e.dom.select(`${l},[name="${bi(l,"#")}"]`);h.length&&e.selection.scrollIntoView(h[0],!0)}else window.open(l,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else kY(s)&&e.dispatch(s.type,s)},xY=e=>{e.on("ShowCaret",s=>{Yp(e)&&s.preventDefault()}),e.on("ObjectSelected",s=>{Yp(e)&&s.preventDefault()})},qv=xt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class Kz{constructor(s){this.bindings={},this.settings=s||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Ee}static isNative(s){return!!qv[s.toLowerCase()]}fire(s,a){return this.dispatch(s,a)}dispatch(s,a){const l=s.toLowerCase(),h=cp(l,a!=null?a:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(h);const g=this.bindings[l];if(g)for(let v=0,S=g.length;v<S;v++){const A=g[v];if(!A.removed){if(A.once&&this.off(l,A.func),h.isImmediatePropagationStopped())return h;if(A.func.call(this.scope,h)===!1)return h.preventDefault(),h}}return h}on(s,a,l,h){if(a===!1&&(a=Ee),a){const g={func:a,removed:!1};h&&xt.extend(g,h);const v=s.toLowerCase().split(" ");let S=v.length;for(;S--;){const A=v[S];let z=this.bindings[A];z||(z=[],this.toggleEvent(A,!0)),l?z=[g,...z]:z=[...z,g],this.bindings[A]=z}}return this}off(s,a){if(s){const l=s.toLowerCase().split(" ");let h=l.length;for(;h--;){const g=l[h];let v=this.bindings[g];if(!g)return Gt(this.bindings,(S,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(v){if(!a)v.length=0;else{const S=Qe(v,A=>A.func===a);v=S.fail,this.bindings[g]=v,le(S.pass,A=>{A.removed=!0})}v.length||(this.toggleEvent(s,!1),delete this.bindings[g])}}}else Gt(this.bindings,(l,h)=>{this.toggleEvent(h,!1)}),this.bindings={};return this}once(s,a,l){return this.on(s,a,l,{once:!0})}has(s){s=s.toLowerCase();const a=this.bindings[s];return!(!a||a.length===0)}}const j_=e=>(e._eventDispatcher||(e._eventDispatcher=new Kz({scope:e,toggleEvent:(s,a)=>{Kz.isNative(s)&&e.toggleNativeEvent&&e.toggleNativeEvent(s,a)}})),e._eventDispatcher),Yz={fire(e,s,a){return this.dispatch(e,s,a)},dispatch(e,s,a){const l=this;if(l.removed&&e!=="remove"&&e!=="detach")return cp(e.toLowerCase(),s!=null?s:{},l);const h=j_(l).dispatch(e,s);if(a!==!1&&l.parent){let g=l.parent();for(;g&&!h.isPropagationStopped();)g.dispatch(e,h,!1),g=g.parent?g.parent():void 0}return h},on(e,s,a){return j_(this).on(e,s,a)},off(e,s){return j_(this).off(e,s)},once(e,s){return j_(this).once(e,s)},hasEventListeners(e){return j_(this).has(e)}},Kv=ps.DOM;let Yv;const tA=(e,s)=>{if(s==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(s))return e.getDoc().documentElement;const a=yw(e);return a?(e.eventRoot||(e.eventRoot=Kv.select(a)[0]),e.eventRoot):e.getBody()},EY=e=>!e.hidden&&!Yp(e),Xz=(e,s,a)=>{EY(e)?e.dispatch(s,a):Yp(e)&&SY(e,a)},v8=(e,s)=>{if(e.delegates||(e.delegates={}),e.delegates[s]||e.removed)return;const a=tA(e,s);if(yw(e)){if(Yv||(Yv={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Yv&&(Gt(Yv,(h,g)=>{e.dom.unbind(tA(e,g))}),Yv=null)})),Yv[s])return;const l=h=>{const g=h.target,v=e.editorManager.get();let S=v.length;for(;S--;){const A=v[S].getBody();(A===g||Kv.isChildOf(g,A))&&Xz(v[S],s,h)}};Yv[s]=l,Kv.bind(a,s,l)}else{const l=h=>{Xz(e,s,h)};Kv.bind(a,s,l),e.delegates[s]=l}},w8={...Yz,bindPendingEventDelegates(){const e=this;xt.each(e._pendingNativeEvents,s=>{v8(e,s)})},toggleNativeEvent(e,s){const a=this;e==="focus"||e==="blur"||a.removed||(s?a.initialized?v8(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&a.delegates&&(a.dom.unbind(tA(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents(){const e=this,s=e.getBody(),a=e.dom;e.delegates&&(Gt(e.delegates,(l,h)=>{e.dom.unbind(tA(e,h),h,l)}),delete e.delegates),!e.inline&&s&&a&&(s.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(s),a.unbind(e.getContainer()))}},TY=e=>ne(e)?{value:e.split(/[ ,]/),valid:!0}:ln(e,ne)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},RY=e=>{const s=(()=>{switch(e){case"array":return We;case"boolean":return Te;case"function":return ue;case"number":return Rn;case"object":return vt;case"string":return ne;case"string[]":return TY;case"object[]":return a=>ln(a,vt);case"regexp":return a=>rt(a,RegExp);default:return me}})();return a=>na(a,s,`The value must be a ${e}.`)},Jz=e=>ne(e.processor),_8=(e,s)=>{const a=tl(s.message)?"":`. ${s.message}`;return e+a},k8=e=>e.valid,na=(e,s,a="")=>{const l=s(e);return Te(l)?l?{value:e,valid:!0}:{valid:!1,message:a}:l},AY=(e,s,a)=>{if(!st(s)){const l=na(s,a);if(k8(l))return l.value;console.error(_8(`Invalid default value passed for the "${e}" option`,l))}},IY=(e,s)=>{const a={},l={},h=(U,X,fe)=>{const pe=na(X,fe);return k8(pe)?(l[U]=pe.value,!0):(console.warn(_8(`Invalid value passed for the ${U} option`,pe)),!1)},g=(U,X)=>{const fe=Jz(X)?RY(X.processor):X.processor,pe=AY(U,X.default,fe);a[U]={...X,default:pe,processor:fe},us(l,U).orThunk(()=>us(s,U)).each(he=>h(U,he,fe))},v=U=>Ln(a,U);return{register:g,isRegistered:v,get:U=>us(l,U).orThunk(()=>us(a,U).map(X=>X.default)).getOrUndefined(),set:(U,X)=>{if(v(U)){const fe=a[U];return fe.immutable?(console.error(`"${U}" is an immutable option and cannot be updated`),!1):h(U,X,fe.processor)}else return console.warn(`"${U}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:U=>{const X=v(U);return X&&delete l[U],X},isSet:U=>Ln(l,U)}},Qz=["design","readonly"],eN=(e,s,a,l)=>{const h=a[s.get()],g=a[l];try{g.activate()}catch(v){console.error(`problem while activating editor mode ${l}:`,v);return}h.deactivate(),h.editorReadOnly!==g.editorReadOnly&&Gv(e,g.editorReadOnly),s.set(l),mO(e,l)},tN=(e,s,a,l)=>{if(l!==a.get()){if(!Ln(s,l))throw new Error(`Editor mode '${l}' is invalid`);e.initialized?eN(e,a,s,l):e.on("init",()=>eN(e,a,s,l))}},OY=(e,s,a)=>{if(Oe(Qz,s))throw new Error(`Cannot override default mode ${s}`);return{...e,[s]:{...a,deactivate:()=>{try{a.deactivate()}catch(l){console.error(`problem while deactivating editor mode ${s}:`,l)}}}}},DY=e=>{const s=Ka("design"),a=Ka({design:{activate:It,deactivate:It,editorReadOnly:!1},readonly:{activate:It,deactivate:It,editorReadOnly:!0}});return g8(e),xY(e),{isReadOnly:()=>Yp(e),set:l=>tN(e,a.get(),s,l),get:()=>s.get(),register:(l,h)=>{a.set(OY(a.get(),l,h))}}},nN=xt.each,oN=xt.explode,MY={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},C8=xt.makeMap("alt,ctrl,shift,meta,access"),PY=e=>e in C8,zY=e=>{const s={},a=Bo.os.isMacOS()||Bo.os.isiOS();nN(oN(e.toLowerCase(),"+"),g=>{PY(g)?s[g]=!0:/^[0-9]{2,}$/.test(g)?s.keyCode=parseInt(g,10):(s.charCode=g.charCodeAt(0),s.keyCode=MY[g]||g.toUpperCase().charCodeAt(0))});const l=[s.keyCode];let h;for(h in C8)s[h]?l.push(h):s[h]=!1;return s.id=l.join(","),s.access&&(s.alt=!0,a?s.ctrl=!0:s.shift=!0),s.meta&&(a?s.meta=!0:(s.ctrl=!0,s.meta=!1)),s};class Xv{constructor(s){this.shortcuts={},this.pendingPatterns=[],this.editor=s;const a=this;s.on("keyup keypress keydown",l=>{(a.hasModifier(l)||a.isFunctionKey(l))&&!l.isDefaultPrevented()&&(nN(a.shortcuts,h=>{a.matchShortcut(l,h)&&(a.pendingPatterns=h.subpatterns.slice(0),l.type==="keydown"&&a.executeShortcutAction(h))}),a.matchShortcut(l,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&l.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}add(s,a,l,h){const g=this,v=g.normalizeCommandFunc(l);return nN(oN(xt.trim(s)),S=>{const A=g.createShortcut(S,a,v,h);g.shortcuts[A.id]=A}),!0}remove(s){const a=this.createShortcut(s);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1}normalizeCommandFunc(s){const a=this,l=s;return typeof l=="string"?()=>{a.editor.execCommand(l,!1,null)}:xt.isArray(l)?()=>{a.editor.execCommand(l[0],l[1],l[2])}:l}createShortcut(s,a,l,h){const g=xt.map(oN(s,">"),zY);return g[g.length-1]=xt.extend(g[g.length-1],{func:l,scope:h||this.editor}),xt.extend(g[0],{desc:this.editor.translate(a),subpatterns:g.slice(1)})}hasModifier(s){return s.altKey||s.ctrlKey||s.metaKey}isFunctionKey(s){return s.type==="keydown"&&s.keyCode>=112&&s.keyCode<=123}matchShortcut(s,a){return!a||a.ctrl!==s.ctrlKey||a.meta!==s.metaKey||a.alt!==s.altKey||a.shift!==s.shiftKey?!1:s.keyCode===a.keyCode||s.charCode&&s.charCode===a.charCode?(s.preventDefault(),!0):!1}executeShortcutAction(s){return s.func?s.func.call(s.scope):null}}const xh=()=>{const e={},s={},a={},l={},h={},g={},v={},S={},A=(W,U)=>(X,fe)=>{W[X.toLowerCase()]={...fe,type:U}},z=(W,U)=>l[W.toLowerCase()]=U;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(s,"menuitem"),addNestedMenuItem:A(s,"nestedmenuitem"),addToggleMenuItem:A(s,"togglemenuitem"),addAutocompleter:A(a,"autocompleter"),addContextMenu:A(h,"contextmenu"),addContextToolbar:A(g,"contexttoolbar"),addContextForm:A(g,"contextform"),addSidebar:A(v,"sidebar"),addView:A(S,"views"),addIcon:z,getAll:()=>({buttons:e,menuItems:s,icons:l,popups:a,contextMenus:h,contextToolbars:g,sidebars:v,views:S})}},NY=()=>{const e=xh();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Jv=ps.DOM,S8=xt.extend,LY=xt.each;class nA{constructor(s,a,l){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=l,this.documentBaseUrl=l.documentBaseURL,S8(this,w8);const h=this;this.id=s,this.hidden=!1;const g=YK(l.defaultOptions,a);this.options=IY(h,g),CI(h);const v=this.options.get;v("deprecation_warnings")&&QU(a,g);const S=v("suffix");S&&(l.suffix=S),this.suffix=l.suffix;const A=v("base_url");A&&l._setBaseUrl(A),this.baseUri=l.baseURI;const z=pw(h);z&&(Wc.ScriptLoader._setReferrerPolicy(z),ps.DOM.styleSheetLoader._setReferrerPolicy(z));const W=Gg(h);je(W)&&ps.DOM.styleSheetLoader._setContentCssCors(W),ll.languageLoad=v("language_load"),ll.baseURL=l.baseURL,this.setDirty(!1),this.documentBaseURI=new Ed(bE(h),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=yp(h),this.hasVisual=PI(h),this.shortcuts=new Xv(this),this.editorCommands=new m8(this),Ete(this);const U=v("cache_suffix");U&&(Bo.cacheSuffix=U.replace(/^[\?\&]+/,"")),this.ui={registry:NY(),styleSheetLoader:void 0,show:It,hide:It,setEnabled:It,isEnabled:me},this.mode=DY(h),l.dispatch("SetupEditor",{editor:this});const X=zE(h);ue(X)&&X.call(h,h)}render(){WK(this)}focus(s){this.execCommand("mceFocus",!1,s)}hasFocus(){return my(this)}translate(s){return hd.translate(s)}getParam(s,a,l){const h=this.options;return h.isRegistered(s)||(je(l)?h.register(s,{processor:l,default:a}):h.register(s,{processor:me,default:a})),!h.isSet(s)&&!st(a)?a:h.get(s)}hasPlugin(s,a){return Oe(Vb(this),s)?a?kf.get(s)!==void 0:!0:!1}nodeChanged(s){this._nodeChangeDispatcher.nodeChanged(s)}addCommand(s,a,l){this.editorCommands.addCommand(s,a,l)}addQueryStateHandler(s,a,l){this.editorCommands.addQueryStateHandler(s,a,l)}addQueryValueHandler(s,a,l){this.editorCommands.addQueryValueHandler(s,a,l)}addShortcut(s,a,l,h){this.shortcuts.add(s,a,l,h)}execCommand(s,a,l,h){return this.editorCommands.execCommand(s,a,l,h)}queryCommandState(s){return this.editorCommands.queryCommandState(s)}queryCommandValue(s){return this.editorCommands.queryCommandValue(s)}queryCommandSupported(s){return this.editorCommands.queryCommandSupported(s)}show(){const s=this;s.hidden&&(s.hidden=!1,s.inline?s.getBody().contentEditable="true":(Jv.show(s.getContainer()),Jv.hide(s.id)),s.load(),s.dispatch("show"))}hide(){const s=this;s.hidden||(s.save(),s.inline?(s.getBody().contentEditable="false",s===s.editorManager.focusedEditor&&(s.editorManager.focusedEditor=null)):(Jv.hide(s.getContainer()),Jv.setStyle(s.id,"display",s.orgDisplay)),s.hidden=!0,s.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(s,a){this.dispatch("ProgressState",{state:s,time:a})}load(s={}){const a=this,l=a.getElement();if(a.removed)return"";if(l){const h={...s,load:!0},g=qf(l)?l.value:l.innerHTML,v=a.setContent(g,h);return h.no_events||a.dispatch("LoadContent",{...h,element:l}),v}else return""}save(s={}){const a=this;let l=a.getElement();if(!l||!a.initialized||a.removed)return"";const h={...s,save:!0,element:l};let g=a.getContent(h);const v={...h,content:g};if(v.no_events||a.dispatch("SaveContent",v),v.format==="raw"&&a.dispatch("RawSaveContent",v),g=v.content,qf(l))l.value=g;else{(s.is_removing||!a.inline)&&(l.innerHTML=g);const S=Jv.getParent(a.id,"form");S&&LY(S.elements,A=>A.name===a.id?(A.value=g,!1):!0)}return v.element=h.element=l=null,v.set_dirty!==!1&&a.setDirty(!1),g}setContent(s,a){return TM(this,s,a)}getContent(s){return BF(this,s)}insertContent(s,a){a&&(s=S8({content:s},a)),this.execCommand("mceInsertContent",!1,s)}resetContent(s){s===void 0?TM(this,this.startContent,{format:"raw"}):TM(this,s),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(s){const a=!this.isNotDirty;this.isNotDirty=!s,s&&s!==a&&this.dispatch("dirty")}getContainer(){const s=this;return s.container||(s.container=s.editorContainer||Jv.get(s.id+"_parent")),s.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Jv.get(this.id)),this.targetElm}getWin(){const s=this;if(!s.contentWindow){const a=s.iframeElement;a&&(s.contentWindow=a.contentWindow)}return s.contentWindow}getDoc(){const s=this;if(!s.contentDocument){const a=s.getWin();a&&(s.contentDocument=a.document)}return s.contentDocument}getBody(){var s,a;const l=this.getDoc();return(a=(s=this.bodyElement)!==null&&s!==void 0?s:l==null?void 0:l.body)!==null&&a!==void 0?a:null}convertURL(s,a,l){const h=this,g=h.options.get,v=NE(h);return ue(v)?v.call(h,s,l,!0,a):!g("convert_urls")||l==="link"||vt(l)&&l.nodeName==="LINK"||s.indexOf("file:")===0||s.length===0?s:g("relative_urls")?h.documentBaseURI.toRelative(s):(s=h.documentBaseURI.toAbsolute(s,g("remove_script_host")),s)}addVisual(s){$z(this,s)}remove(){oj(this)}destroy(s){sj(this,s)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const W_=ps.DOM,oA=xt.each;let x8=!1,sA,nu=[];const rA=e=>{const s=e.type;oA(Fy.get(),a=>{switch(s){case"scroll":a.dispatch("ScrollWindow",e);break;case"resize":a.dispatch("ResizeWindow",e);break}})},E8=e=>{if(e!==x8){const s=ps.DOM;e?(s.bind(window,"resize",rA),s.bind(window,"scroll",rA)):(s.unbind(window,"resize",rA),s.unbind(window,"scroll",rA)),x8=e}},T8=e=>{const s=nu;return nu=Ve(nu,a=>e!==a),Fy.activeEditor===e&&(Fy.activeEditor=nu.length>0?nu[0]:null),Fy.focusedEditor===e&&(Fy.focusedEditor=null),s.length!==nu.length},FY=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(T8(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},BY=document.compatMode!=="CSS1Compat",Fy={...Yz,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"4.2",releaseDate:"2023-04-26",i18n:hd,activeEditor:null,focusedEditor:null,setup(){const e=this;let s="",a="",l=Ed.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(l)&&(l=l.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(l)||(l+="/"));const h=window.tinymce||window.tinyMCEPreInit;if(h)s=h.base||h.baseURL,a=h.suffix;else{const g=document.getElementsByTagName("script");for(let v=0;v<g.length;v++){const S=g[v].src||"";if(S==="")continue;const A=S.substring(S.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(S)){A.indexOf(".min")!==-1&&(a=".min"),s=S.substring(0,S.lastIndexOf("/"));break}}if(!s&&document.currentScript){const v=document.currentScript.src;v.indexOf(".min")!==-1&&(a=".min"),s=v.substring(0,v.lastIndexOf("/"))}}e.baseURL=new Ed(l).toAbsolute(s),e.documentBaseURL=l,e.baseURI=new Ed(e.baseURL),e.suffix=a,FO(e)},overrideDefaults(e){const s=e.base_url;s&&this._setBaseUrl(s);const a=e.suffix;a&&(this.suffix=a),this.defaultOptions=e;const l=e.plugin_base_urls;l!==void 0&&Gt(l,(h,g)=>{ll.PluginManager.urls[g]=h})},init(e){const s=this;let a;const l=xt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),h=(W,U)=>W.inline&&U.tagName.toLowerCase()in l,g=W=>{let U=W.id;return U||(U=us(W,"name").filter(X=>!W_.get(X)).getOrThunk(W_.uniqueId),W.setAttribute("id",U)),U},v=W=>{const U=e[W];if(!!U)return U.apply(s,[])},S=W=>Bo.browser.isIE()||Bo.browser.isEdge()?(oS("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):BY?(oS("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ne(W.selector)?W_.select(W.selector):je(W.target)?[W.target]:[];let A=W=>{a=W};const z=()=>{let W=0;const U=[];let X;const fe=(pe,se,he)=>{const Ie=new nA(pe,se,s);U.push(Ie),Ie.on("init",()=>{++W===X.length&&A(U)}),Ie.targetElm=Ie.targetElm||he,Ie.render()};W_.unbind(window,"ready",z),v("onpageload"),X=Ii(S(e)),xt.each(X,pe=>{FY(s.get(pe.id))}),X=xt.grep(X,pe=>!s.get(pe.id)),X.length===0?A([]):oA(X,pe=>{h(e,pe)?oS("Could not initialize inline editor on invalid inline target element",pe):fe(g(pe),e,pe)})};return W_.bind(window,"ready",z),new Promise(W=>{a?W(a):A=U=>{W(U)}})},get(e){return arguments.length===0?nu.slice(0):ne(e)?ut(nu,s=>s.id===e).getOr(null):Rn(e)&&nu[e]?nu[e]:null},add(e){const s=this,a=s.get(e.id);return a===e||(a===null&&nu.push(e),E8(!0),s.activeEditor=e,s.dispatch("AddEditor",{editor:e}),sA||(sA=l=>{const h=s.dispatch("BeforeUnload");if(h.returnValue)return l.preventDefault(),l.returnValue=h.returnValue,h.returnValue},window.addEventListener("beforeunload",sA))),e},createEditor(e,s){return this.add(new nA(e,s,this))},remove(e){const s=this;let a;if(!e){for(let l=nu.length-1;l>=0;l--)s.remove(nu[l]);return}if(ne(e)){oA(W_.select(e),l=>{a=s.get(l.id),a&&s.remove(a)});return}return a=e,J(s.get(a.id))?null:(T8(a)&&s.dispatch("RemoveEditor",{editor:a}),nu.length===0&&window.removeEventListener("beforeunload",sA),a.remove(),E8(nu.length>0),a)},execCommand(e,s,a){var l;const h=this,g=vt(a)?(l=a.id)!==null&&l!==void 0?l:a.index:a;switch(e){case"mceAddEditor":{if(!h.get(g)){const v=a.options;new nA(g,v,h).render()}return!0}case"mceRemoveEditor":{const v=h.get(g);return v&&v.remove(),!0}case"mceToggleEditor":{const v=h.get(g);return v?(v.isHidden()?v.show():v.hide(),!0):(h.execCommand("mceAddEditor",!1,a),!0)}}return h.activeEditor?h.activeEditor.execCommand(e,s,a):!1},triggerSave:()=>{oA(nu,e=>{e.save()})},addI18n:(e,s)=>{hd.add(e,s)},translate:e=>hd.translate(e),setActive(e){const s=this.activeEditor;this.activeEditor!==e&&(s&&s.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:s})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Ed(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Ed(this.baseURL)}};Fy.setup();const $Y=(()=>{const e=xs(),s=g=>({items:g,types:Fr(g),getType:v=>us(g,v).getOrUndefined()}),a=g=>{e.set(g)},l=()=>e.get().getOrUndefined(),h=e.clear;return{FakeClipboardItem:s,write:a,read:l,clear:h}})(),R8=Math.min,Z_=Math.max,aA=Math.round,A8=(e,s,a)=>{let l=s.x,h=s.y;const g=e.w,v=e.h,S=s.w,A=s.h,z=(a||"").split("");return z[0]==="b"&&(h+=A),z[1]==="r"&&(l+=S),z[0]==="c"&&(h+=aA(A/2)),z[1]==="c"&&(l+=aA(S/2)),z[3]==="b"&&(h-=v),z[4]==="r"&&(l-=g),z[3]==="c"&&(h-=aA(v/2)),z[4]==="c"&&(l-=aA(g/2)),G_(l,h,g,v)},VY=(e,s,a,l)=>{for(let h=0;h<l.length;h++){const g=A8(e,s,l[h]);if(g.x>=a.x&&g.x+g.w<=a.w+a.x&&g.y>=a.y&&g.y+g.h<=a.h+a.y)return l[h]}return null},HY=(e,s,a)=>G_(e.x-s,e.y-a,e.w+s*2,e.h+a*2),UY=(e,s)=>{const a=Z_(e.x,s.x),l=Z_(e.y,s.y),h=R8(e.x+e.w,s.x+s.w),g=R8(e.y+e.h,s.y+s.h);return h-a<0||g-l<0?null:G_(a,l,h-a,g-l)},jY=(e,s,a)=>{let l=e.x,h=e.y,g=e.x+e.w,v=e.y+e.h;const S=s.x+s.w,A=s.y+s.h,z=Z_(0,s.x-l),W=Z_(0,s.y-h),U=Z_(0,g-S),X=Z_(0,v-A);return l+=z,h+=W,a&&(g+=z,v+=W,l-=U,h-=X),g-=U,v-=X,G_(l,h,g-l,v-h)},G_=(e,s,a,l)=>({x:e,y:s,w:a,h:l}),WY={inflate:HY,relativePosition:A8,findBestRelativePosition:VY,intersect:UY,clamp:jY,create:G_,fromClientRect:e=>G_(e.left,e.top,e.width,e.height)},ZY=(e,s,a=1e3)=>{let l=!1,h=null;const g=z=>(...W)=>{l||(l=!0,h!==null&&(clearTimeout(h),h=null),z.apply(null,W))},v=g(e),S=g(s);return{start:(...z)=>{!l&&h===null&&(h=setTimeout(()=>S.apply(null,z),a))},resolve:v,reject:S}},GY=(()=>{const e={},s={};return{load:(g,v)=>{const S=`Script at URL "${v}" failed to load`,A=`Script at URL "${v}" did not call \`tinymce.Resource.add('${g}', data)\` within 1 second`;if(e[g]!==void 0)return e[g];{const z=new Promise((W,U)=>{const X=ZY(W,U);s[g]=X.resolve,Wc.ScriptLoader.loadScript(v).then(()=>X.start(A),()=>X.reject(S))});return e[g]=z,z}},add:(g,v)=>{s[g]!==void 0&&(s[g](v),delete s[g]),e[g]=Promise.resolve(v)},unload:g=>{delete e[g]}}})(),qY=()=>(()=>{let e={},s=[];const a={getItem:l=>{const h=e[l];return h||null},setItem:(l,h)=>{s.push(l),e[l]=String(h)},key:l=>s[l],removeItem:l=>{s=s.filter(h=>h===l),delete e[l]},clear:()=>{s=[],e={}},length:0};return Object.defineProperty(a,"length",{get:()=>s.length,configurable:!1,enumerable:!1}),a})();let q_;try{const e="__storage_test__";q_=window.localStorage,q_.setItem(e,e),q_.removeItem(e)}catch{q_=qY()}var KY=q_;const YY={geom:{Rect:WY},util:{Delay:Hs,Tools:xt,VK:fn,URI:Ed,EventDispatcher:Kz,Observable:Yz,I18n:hd,LocalStorage:KY,ImageUploader:yj},dom:{EventUtils:Ia,TreeWalker:Mr,TextSeeker:fp,DOMUtils:ps,ScriptLoader:Wc,RangeUtils:Mp,Serializer:xM,StyleSheetLoader:rf,ControlSelection:dv,BookmarkManager:pm,Selection:kM,Event:Ia.Event},html:{Styles:oh,Entities:il,Node:kc,Schema:Wl,DomParser:zv,Writer:G4,Serializer:py},Env:Bo,AddOnManager:ll,Annotator:wc,Formatter:Rd,UndoManager:PM,EditorCommands:m8,WindowManager:nS,NotificationManager:tS,EditorObservable:w8,Shortcuts:Xv,Editor:nA,FocusManager:r_,EditorManager:Fy,DOM:ps.DOM,ScriptLoader:Wc.ScriptLoader,PluginManager:kf,ThemeManager:Td,ModelManager:y_,IconManager:VT,Resource:GY,FakeClipboard:$Y,trim:xt.trim,isArray:xt.isArray,is:xt.is,toArray:xt.toArray,makeMap:xt.makeMap,each:xt.each,map:xt.map,grep:xt.grep,inArray:xt.inArray,extend:xt.extend,walk:xt.walk,resolve:xt.resolve,explode:xt.explode,_addCacheSuffix:xt._addCacheSuffix},I8=xt.extend(Fy,YY),XY=e=>{try{t.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(I8),XY(I8)})()})(xTe);(function(){var t=tinymce.util.Tools.resolve("tinymce.ModelManager");const n=(p,b,k)=>{var E;return k(p,b.prototype)?!0:((E=p.constructor)===null||E===void 0?void 0:E.name)===b.name},r=p=>{const b=typeof p;return p===null?"null":b==="object"&&Array.isArray(p)?"array":b==="object"&&n(p,String,(k,E)=>E.isPrototypeOf(k))?"string":b},u=p=>b=>r(b)===p,f=p=>b=>typeof b===p,d=p=>b=>p===b,w=u("string"),x=u("object"),T=u("array"),I=d(null),$=f("boolean"),F=d(void 0),H=p=>p==null,de=p=>!H(p),ke=f("function"),Ne=f("number"),xe=()=>{},Fe=(p,b)=>(...k)=>p(b.apply(null,k)),rt=(p,b)=>k=>p(b(k)),ne=p=>()=>p,vt=p=>p,Ue=(p,b)=>p===b;function We(p,...b){return(...k)=>{const E=b.concat(k);return p.apply(null,E)}}const J=p=>b=>!p(b),Te=p=>()=>{throw new Error(p)},st=p=>p(),wt=ne(!1),je=ne(!0);class ue{constructor(b,k){this.tag=b,this.value=k}static some(b){return new ue(!0,b)}static none(){return ue.singletonNone}fold(b,k){return this.tag?k(this.value):b()}isSome(){return this.tag}isNone(){return!this.tag}map(b){return this.tag?ue.some(b(this.value)):ue.none()}bind(b){return this.tag?b(this.value):ue.none()}exists(b){return this.tag&&b(this.value)}forall(b){return!this.tag||b(this.value)}filter(b){return!this.tag||b(this.value)?this:ue.none()}getOr(b){return this.tag?this.value:b}or(b){return this.tag?this:b}getOrThunk(b){return this.tag?this.value:b()}orThunk(b){return this.tag?this:b()}getOrDie(b){if(this.tag)return this.value;throw new Error(b!=null?b:"Called getOrDie on None")}static from(b){return de(b)?ue.some(b):ue.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(b){this.tag&&b(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ue.singletonNone=new ue(!1);const Rn=Array.prototype.slice,ln=Array.prototype.indexOf,It=Array.prototype.push,L=(p,b)=>ln.call(p,b),Ht=(p,b)=>L(p,b)>-1,ot=(p,b)=>{for(let k=0,E=p.length;k<E;k++){const P=p[k];if(b(P,k))return!0}return!1},Nn=(p,b)=>{const k=[];for(let E=0;E<p;E++)k.push(b(E));return k},an=(p,b)=>{const k=p.length,E=new Array(k);for(let P=0;P<k;P++){const B=p[P];E[P]=b(B,P)}return E},it=(p,b)=>{for(let k=0,E=p.length;k<E;k++){const P=p[k];b(P,k)}},Zn=(p,b)=>{for(let k=p.length-1;k>=0;k--){const E=p[k];b(E,k)}},io=(p,b)=>{const k=[],E=[];for(let P=0,B=p.length;P<B;P++){const q=p[P];(b(q,P)?k:E).push(q)}return{pass:k,fail:E}},uo=(p,b)=>{const k=[];for(let E=0,P=p.length;E<P;E++){const B=p[E];b(B,E)&&k.push(B)}return k},Et=(p,b,k)=>(Zn(p,(E,P)=>{k=b(k,E,P)}),k),Ee=(p,b,k)=>(it(p,(E,P)=>{k=b(k,E,P)}),k),me=(p,b,k)=>{for(let E=0,P=p.length;E<P;E++){const B=p[E];if(b(B,E))return ue.some(B);if(k(B,E))break}return ue.none()},j=(p,b)=>me(p,b,wt),lt=(p,b)=>{for(let k=0,E=p.length;k<E;k++){const P=p[k];if(b(P,k))return ue.some(k)}return ue.none()},Xe=p=>{const b=[];for(let k=0,E=p.length;k<E;++k){if(!T(p[k]))throw new Error("Arr.flatten item "+k+" was not an array, input: "+p);It.apply(b,p[k])}return b},Tt=(p,b)=>Xe(an(p,b)),re=(p,b)=>{for(let k=0,E=p.length;k<E;++k){const P=p[k];if(b(P,k)!==!0)return!1}return!0},Re=p=>{const b=Rn.call(p,0);return b.reverse(),b},Oe=(p,b)=>{const k={};for(let E=0,P=p.length;E<P;E++){const B=p[E];k[String(B)]=b(B,E)}return k},pt=(p,b)=>{const k=Rn.call(p,0);return k.sort(b),k},Ke=(p,b)=>b>=0&&b<p.length?ue.some(p[b]):ue.none(),le=p=>Ke(p,0),$e=p=>Ke(p,p.length-1),Qe=(p,b)=>{for(let k=0;k<p.length;k++){const E=b(p[k],k);if(E.isSome())return E}return ue.none()},Ve=Object.keys,oe=Object.hasOwnProperty,ye=(p,b)=>{const k=Ve(p);for(let E=0,P=k.length;E<P;E++){const B=k[E],q=p[B];b(q,B)}},Ye=(p,b)=>ut(p,(k,E)=>({k:E,v:b(k,E)})),ut=(p,b)=>{const k={};return ye(p,(E,P)=>{const B=b(E,P);k[B.k]=B.v}),k},zt=p=>(b,k)=>{p[k]=b},Dt=(p,b,k,E)=>{ye(p,(P,B)=>{(b(P,B)?k:E)(P,B)})},Vt=(p,b)=>{const k={};return Dt(p,b,zt(k),xe),k},sn=(p,b)=>{const k=[];return ye(p,(E,P)=>{k.push(b(E,P))}),k},_n=p=>sn(p,vt),Un=(p,b)=>lo(p,b)?ue.from(p[b]):ue.none(),lo=(p,b)=>oe.call(p,b),mo=(p,b)=>lo(p,b)&&p[b]!==void 0&&p[b]!==null,Io=p=>{for(const b in p)if(oe.call(p,b))return!1;return!0},_s=typeof window<"u"?window:Function("return this;")(),Uo=(p,b)=>{let k=b!=null?b:_s;for(let E=0;E<p.length&&k!==void 0&&k!==null;++E)k=k[p[E]];return k},zs=(p,b)=>{const k=p.split(".");return Uo(k,b)},Dl=(p,b)=>zs(p,b),Ii=(p,b)=>{const k=Dl(p,b);if(k==null)throw new Error(p+" not available on this browser");return k},Fr=Object.getPrototypeOf,pi=p=>Ii("HTMLElement",p),Gt=p=>{const b=zs("ownerDocument.defaultView",p);return x(p)&&(pi(b).prototype.isPrototypeOf(p)||/^HTML\w*Element$/.test(Fr(p).constructor.name))},Mo=8,Qi=9,la=11,Ku=1,du=3,bs=p=>p.dom.nodeName.toLowerCase(),ac=p=>p.dom.nodeType,Yu=p=>b=>ac(b)===p,us=p=>ac(p)===Mo||bs(p)==="#comment",Ln=p=>oi(p)&&Gt(p.dom),oi=Yu(Ku),Oc=Yu(du),Mf=Yu(Qi),fu=Yu(la),gi=p=>b=>oi(b)&&bs(b)===p,ca=(p,b,k)=>{if(w(k)||$(k)||Ne(k))p.setAttribute(b,k+"");else throw console.error("Invalid call to Attribute.set. Key ",b,":: Value ",k,":: Element ",p),new Error("Attribute value was not simple")},gr=(p,b,k)=>{ca(p.dom,b,k)},Dc=(p,b)=>{const k=p.dom;ye(b,(E,P)=>{ca(k,P,E)})},jd=(p,b)=>{ye(b,(k,E)=>{k.fold(()=>{Zs(p,E)},P=>{ca(p.dom,E,P)})})},Ca=(p,b)=>{const k=p.dom.getAttribute(b);return k===null?void 0:k},Oi=(p,b)=>ue.from(Ca(p,b)),Zs=(p,b)=>{p.dom.removeAttribute(b)},ja=p=>Ee(p.dom.attributes,(b,k)=>(b[k.name]=k.value,b),{}),ic=(p,b)=>{const E=(b||document).createElement("div");if(E.innerHTML=p,!E.hasChildNodes()||E.childNodes.length>1){const P="HTML does not have a single root node";throw console.error(P,p),new Error(P)}return yi(E.childNodes[0])},Pf=(p,b)=>{const E=(b||document).createElement(p);return yi(E)},Mh=(p,b)=>{const E=(b||document).createTextNode(p);return yi(E)},yi=p=>{if(p==null)throw new Error("Node cannot be null or undefined");return{dom:p}},ze={fromHtml:ic,fromTag:Pf,fromText:Mh,fromDom:yi,fromPoint:(p,b,k)=>ue.from(p.dom.elementFromPoint(b,k)).map(yi)},Sa=(p,b)=>{const k=p.dom;if(k.nodeType!==Ku)return!1;{const E=k;if(E.matches!==void 0)return E.matches(b);if(E.msMatchesSelector!==void 0)return E.msMatchesSelector(b);if(E.webkitMatchesSelector!==void 0)return E.webkitMatchesSelector(b);if(E.mozMatchesSelector!==void 0)return E.mozMatchesSelector(b);throw new Error("Browser lacks native selectors")}},Wd=p=>p.nodeType!==Ku&&p.nodeType!==Qi&&p.nodeType!==la||p.childElementCount===0,cg=(p,b)=>{const k=b===void 0?document:b.dom;return Wd(k)?[]:an(k.querySelectorAll(p),ze.fromDom)},Bm=(p,b)=>{const k=b===void 0?document:b.dom;return Wd(k)?ue.none():ue.from(k.querySelector(p)).map(ze.fromDom)},vs=(p,b)=>p.dom===b.dom,ug=(p,b)=>{const k=p.dom,E=b.dom;return k===E?!1:k.contains(E)},Ph=Sa,Xu=p=>ze.fromDom(p.dom.ownerDocument),bi=p=>Mf(p)?p:Xu(p),yr=p=>ze.fromDom(bi(p).dom.documentElement),Rr=p=>ze.fromDom(bi(p).dom.defaultView),hu=p=>ue.from(p.dom.parentNode).map(ze.fromDom),el=p=>ue.from(p.dom.parentElement).map(ze.fromDom),Mc=(p,b)=>{const k=ke(b)?b:wt;let E=p.dom;const P=[];for(;E.parentNode!==null&&E.parentNode!==void 0;){const B=E.parentNode,q=ze.fromDom(B);if(P.push(q),k(q)===!0)break;E=B}return P},Ju=p=>ue.from(p.dom.previousSibling).map(ze.fromDom),Qu=p=>ue.from(p.dom.nextSibling).map(ze.fromDom),Jo=p=>an(p.dom.childNodes,ze.fromDom),tl=(p,b)=>{const k=p.dom.childNodes;return ue.from(k[b]).map(ze.fromDom)},Zd=p=>tl(p,0),Pc=(p,b)=>{hu(p).each(E=>{E.dom.insertBefore(b.dom,p.dom)})},yl=(p,b)=>{Qu(p).fold(()=>{hu(p).each(P=>{Gs(P,b)})},E=>{Pc(E,b)})},Di=(p,b)=>{Zd(p).fold(()=>{Gs(p,b)},E=>{p.dom.insertBefore(b.dom,E.dom)})},Gs=(p,b)=>{p.dom.appendChild(b.dom)},Xy=(p,b,k)=>{tl(p,k).fold(()=>{Gs(p,b)},E=>{Pc(E,b)})},$m=(p,b)=>{Pc(p,b),Gs(b,p)},as=(p,b)=>{it(b,(k,E)=>{const P=E===0?p:b[E-1];yl(P,k)})},nl=(p,b)=>{it(b,k=>{Gs(p,k)})},Mi=p=>{p.dom.textContent="",it(Jo(p),b=>{Kr(b)})},Kr=p=>{const b=p.dom;b.parentNode!==null&&b.parentNode.removeChild(b)},zf=p=>{const b=Jo(p);b.length>0&&as(p,b),Kr(p)},ed=(p,b)=>ze.fromDom(p.dom.cloneNode(b)),bl=p=>ed(p,!1),Ml=p=>ed(p,!0),Vm=(p,b)=>{const k=ze.fromTag(b),E=ja(p);return Dc(k,E),k},zh=(p,b)=>{const k=Vm(p,b),E=Jo(Ml(p));return nl(k,E),k},dg=(p,b)=>{const k=Vm(p,b);yl(p,k);const E=Jo(p);return nl(k,E),Kr(p),k},Pi=["tfoot","thead","tbody","colgroup"],mu=p=>Ht(Pi,p),Nf=(p,b)=>({rows:p,columns:b}),Hm=(p,b)=>({row:p,column:b}),Nh=(p,b,k)=>({element:p,rowspan:b,colspan:k}),Lh=(p,b,k,E)=>({element:p,rowspan:b,colspan:k,isNew:E}),Um=(p,b,k,E,P,B)=>({element:p,rowspan:b,colspan:k,row:E,column:P,isLocked:B}),Lf=(p,b,k)=>({element:p,cells:b,section:k}),Br=(p,b,k,E)=>({element:p,cells:b,section:k,isNew:E}),Wa=(p,b,k)=>({element:p,isNew:b,isLocked:k}),zc=(p,b,k,E)=>({element:p,cells:b,section:k,isNew:E}),jm=(p,b,k,E)=>({startRow:p,startCol:b,finishRow:k,finishCol:E}),fg=(p,b,k)=>({element:p,colspan:b,column:k}),pu=(p,b)=>({element:p,columns:b}),Jy=p=>fu(p)&&de(p.dom.host),Za=ke(Element.prototype.attachShadow)&&ke(Node.prototype.getRootNode),Yr=ne(Za),lc=Za?p=>ze.fromDom(p.dom.getRootNode()):bi,Pl=p=>{const b=lc(p);return Jy(b)?ue.some(b):ue.none()},Jn=p=>ze.fromDom(p.dom.host),Bo=p=>{if(Yr()&&de(p.target)){const b=ze.fromDom(p.target);if(oi(b)&&ua(b)&&p.composed&&p.composedPath){const k=p.composedPath();if(k)return le(k)}}return ue.from(p.target)},ua=p=>de(p.dom.shadowRoot),G=p=>{const b=Oc(p)?p.dom.parentNode:p.dom;if(b==null||b.ownerDocument===null)return!1;const k=b.ownerDocument;return Pl(ze.fromDom(b)).fold(()=>k.body.contains(b),rt(G,Jn))},ae=()=>ge(ze.fromDom(document)),ge=p=>{const b=p.dom.body;if(b==null)throw new Error("Body is not available yet");return ze.fromDom(b)},Je=(p,b,k)=>uo(Mc(p,k),b),en=(p,b)=>uo(Jo(p),b),co=(p,b)=>{let k=[];return it(Jo(p),E=>{b(E)&&(k=k.concat([E])),k=k.concat(co(E,b))}),k},un=(p,b,k)=>Je(p,E=>Sa(E,b),k),Ar=(p,b)=>en(p,k=>Sa(k,b)),da=(p,b)=>cg(b,p);var xt=(p,b,k,E,P)=>p(k,E)?ue.some(k):ke(P)&&P(k)?ue.none():b(k,E,P);const $r=(p,b,k)=>{let E=p.dom;const P=ke(k)?k:wt;for(;E.parentNode;){E=E.parentNode;const B=ze.fromDom(E);if(b(B))return ue.some(B);if(P(B))break}return ue.none()},er=(p,b,k)=>xt((P,B)=>B(P),$r,p,b,k),fa=(p,b)=>{const k=P=>b(ze.fromDom(P));return j(p.dom.childNodes,k).map(ze.fromDom)},hg=(p,b)=>{const k=E=>{for(let P=0;P<E.childNodes.length;P++){const B=ze.fromDom(E.childNodes[P]);if(b(B))return ue.some(B);const q=k(E.childNodes[P]);if(q.isSome())return q}return ue.none()};return k(p.dom)},Ro=(p,b,k)=>$r(p,E=>Sa(E,b),k),gu=(p,b)=>fa(p,k=>Sa(k,b)),zi=(p,b)=>Bm(b,p),br=(p,b,k)=>xt((P,B)=>Sa(P,B),Ro,p,b,k),Vr=(p,b,k=Ue)=>p.exists(E=>k(E,b)),Ff=p=>{const b=[],k=E=>{b.push(E)};for(let E=0;E<p.length;E++)p[E].each(k);return b},kx=(p,b)=>p!=null?b(p):ue.none(),Qy=(p,b)=>p?ue.some(b):ue.none(),qs=(p,b,k)=>b===""||p.length>=b.length&&p.substr(k,k+b.length)===b,Hr=(p,b,k=0,E)=>{const P=p.indexOf(b,k);return P!==-1?F(E)?!0:P+b.length<=E:!1},Bf=(p,b)=>qs(p,b,0),si=(p,b)=>qs(p,b,p.length-b.length),Wm=(p=>b=>b.replace(p,""))(/^\s+|\s+$/g),ks=p=>p.length>0,vi=p=>{const b=parseFloat(p);return isNaN(b)?ue.none():ue.some(b)},ri=p=>p.style!==void 0&&ke(p.style.getPropertyValue),C1=(p,b,k)=>{if(!w(k))throw console.error("Invalid call to CSS.set. Property ",b,":: Value ",k,":: Element ",p),new Error("CSS value must be a string: "+k);ri(p)&&p.style.setProperty(b,k)},qd=(p,b)=>{ri(p)&&p.style.removeProperty(b)},Cs=(p,b,k)=>{const E=p.dom;C1(E,b,k)},wi=(p,b)=>{const k=p.dom;ye(b,(E,P)=>{C1(k,P,E)})},$f=(p,b)=>{const k=p.dom,P=window.getComputedStyle(k).getPropertyValue(b);return P===""&&!G(p)?S1(k,b):P},S1=(p,b)=>ri(p)?p.style.getPropertyValue(b):"",Fh=(p,b)=>{const k=p.dom,E=S1(k,b);return ue.from(E).filter(P=>P.length>0)},Nc=(p,b)=>{const k=p.dom;qd(k,b),Vr(Oi(p,"style").map(Wm),"")&&Zs(p,"style")},vr=(p,b)=>{const k=p.dom,E=b.dom;ri(k)&&ri(E)&&(E.style.cssText=k.style.cssText)},_i=(p,b,k=0)=>Oi(p,b).map(E=>parseInt(E,10)).getOr(k),Ni=(p,b)=>_i(p,b,1),Lc=p=>gi("col")(p)?_i(p,"span",1)>1:Ni(p,"colspan")>1,Ga=p=>Ni(p,"rowspan")>1,Ir=(p,b)=>parseInt($f(p,b),10),vl=ne(10),Zm=ne(10),Kd=(p,b)=>Bh(p,b,je),Bh=(p,b,k)=>Tt(Jo(p),E=>Sa(E,b)?k(E)?[E]:[]:Bh(E,b,k)),mg=(p,b,k=wt)=>{if(k(b))return ue.none();if(Ht(p,bs(b)))return ue.some(b);const E=P=>Sa(P,"table")||k(P);return Ro(b,p.join(","),E)},zl=(p,b)=>mg(["td","th"],p,b),Yd=p=>Kd(p,"th,td"),Gm=p=>Sa(p,"colgroup")?Ar(p,"col"):Tt(Vf(p),b=>Ar(b,"col")),Or=(p,b)=>br(p,"table",b),qm=p=>Kd(p,"tr"),Vf=p=>Or(p).fold(ne([]),b=>Ar(b,"colgroup")),$h=(p,b)=>an(p,k=>{if(bs(k)==="colgroup"){const E=an(Gm(k),P=>{const B=_i(P,"span",1);return Nh(P,1,B)});return Lf(k,E,"colgroup")}else{const E=an(Yd(k),P=>{const B=_i(P,"rowspan",1),q=_i(P,"colspan",1);return Nh(P,B,q)});return Lf(k,E,b(k))}}),Vh=p=>hu(p).map(b=>{const k=bs(b);return mu(k)?k:"tbody"}).getOr("tbody"),pg=p=>{const b=qm(p),E=[...Vf(p),...b];return $h(E,Vh)},Km=(p,b)=>$h(p,()=>b),Hf=p=>{let b=!1,k;return(...E)=>(b||(b=!0,k=p.apply(null,E)),k)},eb=(p,b,k,E)=>{const P=p.isiOS()&&/ipad/i.test(k)===!0,B=p.isiOS()&&!P,q=p.isiOS()||p.isAndroid(),ee=q||E("(pointer:coarse)"),ce=P||!B&&q&&E("(min-device-width:768px)"),we=B||q&&!ce,Pe=b.isSafari()&&p.isiOS()&&/safari/i.test(k)===!1,At=!we&&!ce&&!Pe;return{isiPad:ne(P),isiPhone:ne(B),isTablet:ne(ce),isPhone:ne(we),isTouch:ne(ee),isAndroid:p.isAndroid,isiOS:p.isiOS,isWebView:ne(Pe),isDesktop:ne(At)}},tb=(p,b)=>{for(let k=0;k<p.length;k++){const E=p[k];if(E.test(b))return E}},Uf=(p,b)=>{const k=tb(p,b);if(!k)return{major:0,minor:0};const E=P=>Number(b.replace(k,"$"+P));return gg(E(1),E(2))},P0=(p,b)=>{const k=String(b).toLowerCase();return p.length===0?ve():Uf(p,k)},ve=()=>gg(0,0),gg=(p,b)=>({major:p,minor:b}),Li={nu:gg,detect:P0,unknown:ve},nb=(p,b)=>Qe(b.brands,k=>{const E=k.brand.toLowerCase();return j(p,P=>{var B;return E===((B=P.brand)===null||B===void 0?void 0:B.toLowerCase())}).map(P=>({current:P.name,version:Li.nu(parseInt(k.version,10),0)}))}),z0=(p,b)=>{const k=String(b).toLowerCase();return j(p,E=>E.search(k))},N0=(p,b)=>z0(p,b).map(k=>{const E=Li.detect(k.versionRegexes,b);return{current:k.name,version:E}}),Yo=(p,b)=>z0(p,b).map(k=>{const E=Li.detect(k.versionRegexes,b);return{current:k.name,version:E}}),cc=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ki=p=>b=>Hr(b,p),Nl=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:p=>Hr(p,"edge/")&&Hr(p,"chrome")&&Hr(p,"safari")&&Hr(p,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,cc],search:p=>Hr(p,"chrome")&&!Hr(p,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:p=>Hr(p,"msie")||Hr(p,"trident")},{name:"Opera",versionRegexes:[cc,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ki("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ki("firefox")},{name:"Safari",versionRegexes:[cc,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:p=>(Hr(p,"safari")||Hr(p,"mobile/"))&&Hr(p,"applewebkit")}],x1=[{name:"Windows",search:ki("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:p=>Hr(p,"iphone")||Hr(p,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ki("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ki("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ki("linux"),versionRegexes:[]},{name:"Solaris",search:ki("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ki("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ki("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],jf={browsers:ne(Nl),oses:ne(x1)},Ll="Edge",Ym="Chromium",ob="IE",L0="Opera",Fl="Firefox",Hh="Safari",E1=()=>wl({current:void 0,version:Li.unknown()}),wl=p=>{const b=p.current,k=p.version,E=P=>()=>b===P;return{current:b,version:k,isEdge:E(Ll),isChromium:E(Ym),isIE:E(ob),isOpera:E(L0),isFirefox:E(Fl),isSafari:E(Hh)}},xa={unknown:E1,nu:wl,edge:ne(Ll),chromium:ne(Ym),ie:ne(ob),opera:ne(L0),firefox:ne(Fl),safari:ne(Hh)},Uh="Windows",jh="iOS",uc="Android",_l="Linux",sb="macOS",yg="Solaris",bg="FreeBSD",rb="ChromeOS",yu=()=>Xm({current:void 0,version:Li.unknown()}),Xm=p=>{const b=p.current,k=p.version,E=P=>()=>b===P;return{current:b,version:k,isWindows:E(Uh),isiOS:E(jh),isAndroid:E(uc),isMacOS:E(sb),isLinux:E(_l),isSolaris:E(yg),isFreeBSD:E(bg),isChromeOS:E(rb)}},T1={unknown:yu,nu:Xm,windows:ne(Uh),ios:ne(jh),android:ne(uc),linux:ne(_l),macos:ne(sb),solaris:ne(yg),freebsd:ne(bg),chromeos:ne(rb)},R1={detect:(p,b,k)=>{const E=jf.browsers(),P=jf.oses(),B=b.bind(ce=>nb(E,ce)).orThunk(()=>N0(E,p)).fold(xa.unknown,xa.nu),q=Yo(P,p).fold(T1.unknown,T1.nu),ee=eb(q,B,p,k);return{browser:B,os:q,deviceType:ee}}},vg=p=>window.matchMedia(p).matches;let ab=Hf(()=>R1.detect(navigator.userAgent,ue.from(navigator.userAgentData),vg));const td=()=>ab(),ib=(p,b)=>{const k=(ee,ce)=>{if(!Ne(ce)&&!ce.match(/^[0-9]+$/))throw new Error(p+".set accepts only positive integer values. Value was "+ce);const we=ee.dom;ri(we)&&(we.style[p]=ce+"px")},E=ee=>{const ce=b(ee);if(ce<=0||ce===null){const we=$f(ee,p);return parseFloat(we)||0}return ce},P=E,B=(ee,ce)=>Ee(ce,(we,Pe)=>{const At=$f(ee,Pe),Xt=At===void 0?0:parseInt(At,10);return isNaN(Xt)?we:we+Xt},0);return{set:k,get:E,getOuter:P,aggregate:B,max:(ee,ce,we)=>{const Pe=B(ee,we);return ce>Pe?ce-Pe:0}}},Ns=(p,b)=>vi(p).getOr(b),tr=(p,b,k)=>Ns($f(p,b),k),nd=(p,b,k,E)=>{const P=tr(p,`padding-${k}`,0),B=tr(p,`padding-${E}`,0),q=tr(p,`border-${k}-width`,0),ee=tr(p,`border-${E}-width`,0);return b-P-B-q-ee},A1=(p,b)=>{const k=p.dom,E=k.getBoundingClientRect().width||k.offsetWidth;return b==="border-box"?E:nd(p,E,"left","right")},I1=p=>tr(p,"height",p.dom.offsetHeight),Ea=p=>tr(p,"width",p.dom.offsetWidth),Wh=p=>A1(p,"content-box"),Fc=ib("width",p=>p.dom.offsetWidth),bu=p=>Fc.get(p),Wf=p=>Fc.getOuter(p),to=Wh,Ci=Ea,Zh=(p,b,k)=>{const E=p.cells,P=E.slice(0,b),B=E.slice(b),q=P.concat(k).concat(B);return Jm(p,q)},O1=(p,b,k)=>Zh(p,b,[k]),Zf=(p,b,k)=>{const E=p.cells;E[b]=k},Jm=(p,b)=>zc(p.element,b,p.section,p.isNew),dc=(p,b)=>{const k=p.cells,E=an(k,b);return zc(p.element,E,p.section,p.isNew)},ol=(p,b)=>p.cells[b],ai=(p,b)=>ol(p,b).element,kl=p=>p.cells.length,ha=p=>{const b=io(p,k=>k.section==="colgroup");return{rows:b.fail,cols:b.pass}},D1=(p,b,k)=>{const E=an(p.cells,k);return zc(b(p.element),E,p.section,!0)},Zo="data-snooker-locked-cols",od=p=>Oi(p,Zo).bind(b=>ue.from(b.match(/\d+/g))).map(b=>Oe(b,je)),Xd=p=>{const b=Ee(ha(p).rows,(E,P)=>(it(P.cells,(B,q)=>{B.isLocked&&(E[q]=!0)}),E),{}),k=sn(b,(E,P)=>parseInt(P,10));return pt(k)},nr=(p,b)=>p+","+b,M1=(p,b,k)=>ue.from(p.access[nr(b,k)]),F0=(p,b,k)=>{const E=sd(p,P=>k(b,P.element));return E.length>0?ue.some(E[0]):ue.none()},sd=(p,b)=>{const k=Tt(p.all,E=>E.cells);return uo(k,b)},ds=p=>{const b={};let k=0;return it(p.cells,E=>{const P=E.colspan;Nn(P,B=>{const q=k+B;b[q]=fg(E.element,P,q)}),k+=P}),b},hs=p=>{const b={},k=[],P=le(p).map(jt=>jt.element).bind(Or).bind(od).getOr({});let B=0,q=0,ee=0;const{pass:ce,fail:we}=io(p,jt=>jt.section==="colgroup");it(we,jt=>{const _t=[];it(jt.cells,qt=>{let gt=0;for(;b[nr(ee,gt)]!==void 0;)gt++;const hn=mo(P,gt.toString()),Fn=Um(qt.element,qt.rowspan,qt.colspan,ee,gt,hn);for(let Qn=0;Qn<qt.colspan;Qn++)for(let Es=0;Es<qt.rowspan;Es++){const Na=ee+Es,kr=gt+Qn,El=nr(Na,kr);b[El]=Fn,q=Math.max(q,kr+1)}_t.push(Fn)}),B++,k.push(Lf(jt.element,_t,jt.section)),ee++});const{columns:Pe,colgroups:At}=$e(ce).map(jt=>{const _t=ds(jt);return{colgroups:[pu(jt.element,_n(_t))],columns:_t}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Nf(B,q),access:b,all:k,columns:Pe,colgroups:At}},go={fromTable:p=>{const b=pg(p);return hs(b)},generate:hs,getAt:M1,findItem:F0,filterItems:sd,justCells:p=>Tt(p.all,b=>b.cells),justColumns:p=>_n(p.columns),hasColumns:p=>Ve(p.columns).length>0,getColumnAt:(p,b)=>ue.from(p.columns[b])},wg=(p,b=je)=>{const k=p.grid,E=Nn(k.columns,vt),P=Nn(k.rows,vt);return an(E,B=>lb(()=>Tt(P,we=>go.getAt(p,we,B).filter(Pe=>Pe.column===B).toArray()),we=>we.colspan===1&&b(we.element),()=>go.getAt(p,0,B)))},lb=(p,b,k)=>{const E=p();return j(E,b).orThunk(()=>ue.from(E[0]).orThunk(k)).map(q=>q.element)},B0=p=>{const b=p.grid,k=Nn(b.rows,vt),E=Nn(b.columns,vt);return an(k,P=>lb(()=>Tt(E,ce=>go.getAt(p,P,ce).filter(we=>we.row===P).fold(ne([]),we=>[we])),ce=>ce.rowspan===1,()=>go.getAt(p,P,0)))},$0=(p,b)=>{if(b<0||b>=p.length-1)return ue.none();const k=p[b].fold(()=>{const P=Re(p.slice(0,b));return Qe(P,(B,q)=>B.map(ee=>({value:ee,delta:q+1})))},P=>ue.some({value:P,delta:0})),E=p[b+1].fold(()=>{const P=p.slice(b+1);return Qe(P,(B,q)=>B.map(ee=>({value:ee,delta:q+1})))},P=>ue.some({value:P,delta:1}));return k.bind(P=>E.map(B=>{const q=B.delta+P.delta;return Math.abs(B.value-P.value)/q}))},Qm=(p,b)=>k=>P1(k)==="rtl"?b:p,P1=p=>$f(p,"direction")==="rtl"?"rtl":"ltr",ep=ib("height",p=>{const b=p.dom;return G(p)?b.getBoundingClientRect().height:b.offsetHeight}),fc=p=>ep.get(p),z1=p=>ep.getOuter(p),_g=I1,N1=(p,b)=>({left:p,top:b,translate:(E,P)=>N1(p+E,b+P)}),Bc=N1,cb=p=>{const b=p.getBoundingClientRect();return Bc(b.left,b.top)},$c=(p,b)=>p!==void 0?p:b!==void 0?b:0,Gh=p=>{const b=p.dom.ownerDocument,k=b.body,E=b.defaultView,P=b.documentElement;if(k===p.dom)return Bc(k.offsetLeft,k.offsetTop);const B=$c(E==null?void 0:E.pageYOffset,P.scrollTop),q=$c(E==null?void 0:E.pageXOffset,P.scrollLeft),ee=$c(P.clientTop,k.clientTop),ce=$c(P.clientLeft,k.clientLeft);return L1(p).translate(q-ce,B-ee)},L1=p=>{const b=p.dom,E=b.ownerDocument.body;return E===b?Bc(E.offsetLeft,E.offsetTop):G(p)?cb(b):Bc(0,0)},kg=(p,b)=>({row:p,y:b}),ub=(p,b)=>({col:p,x:b}),db=p=>Gh(p).left+Wf(p),Ta=p=>Gh(p).left,fb=(p,b)=>ub(p,Ta(b)),Mr=(p,b)=>ub(p,db(b)),tf=p=>Gh(p).top,Fi=(p,b)=>kg(p,tf(b)),ht=(p,b)=>kg(p,tf(b)+z1(b)),Vc=(p,b,k)=>{if(k.length===0)return[];const E=an(k.slice(1),(B,q)=>B.map(ee=>p(q,ee))),P=k[k.length-1].map(B=>b(k.length-1,B));return E.concat([P])},Bl=p=>-p,rd={delta:vt,positions:p=>Vc(Fi,ht,p),edge:tf},Ra=Qm({delta:vt,edge:Ta,positions:p=>Vc(fb,Mr,p)},{delta:Bl,edge:db,positions:p=>Vc(Mr,fb,p)}),ad={delta:(p,b)=>Ra(b).delta(p,b),positions:(p,b)=>Ra(b).positions(p,b),edge:p=>Ra(p).edge(p)},hc={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},ma=(()=>{const p="[0-9]+",k="[eE]"+("[+-]?"+p),E="\\.",P=ee=>`(?:${ee})?`,q=`[+-]?(?:${["Infinity",p+E+P(p)+P(k),E+p+P(k),p+P(k)].join("|")})`;return new RegExp(`^(${q})(.*)$`)})(),qf=(p,b)=>ot(b,k=>ot(hc[k],E=>p===E)),Pt=(p,b)=>ue.from(ma.exec(p)).bind(E=>{const P=Number(E[1]),B=E[2];return qf(B,b)?ue.some({value:P,unit:B}):ue.none()}),pb=/(\d+(\.\d+)?)%/,V0=/(\d+(\.\d+)?)px|em/,id=gi("col"),Hc=(p,b,k)=>{const E=el(p).getOrThunk(()=>ge(Xu(p)));return b(p)/k(E)*100},Cg=(p,b)=>{Cs(p,"width",b+"px")},Vs=(p,b)=>{Cs(p,"width",b+"%")},qh=(p,b)=>{Cs(p,"height",b+"px")},Uc=p=>_g(p)+"px",eo=(p,b,k,E)=>{const P=Or(p).map(B=>{const q=k(B);return Math.floor(b/100*q)}).getOr(b);return E(p,P),P},Cl=(p,b,k,E)=>{const P=parseFloat(p);return si(p,"%")&&bs(b)!=="table"?eo(b,P,k,E):P},Bi=p=>{const b=Uc(p);return b?Cl(b,p,fc,qh):fc(p)},sl=(p,b,k)=>{const E=k(p),P=Ni(p,b);return E/P},$i=(p,b)=>Fh(p,b).orThunk(()=>Oi(p,b).map(k=>k+"px")),$l=p=>$i(p,"width"),Qo=p=>$i(p,"height"),ii=p=>Hc(p,bu,to),Sg=p=>id(p)?bu(p):Ci(p),Ct=p=>sl(p,"rowspan",Bi),Vi=p=>$l(p).bind(k=>Pt(k,["fixed","relative","empty"])),tp=(p,b,k)=>{Cs(p,"width",b+k)},wr=p=>bu(p)+"px",vu=p=>Hc(p,bu,to)+"%",gb=p=>$l(p).exists(b=>pb.test(b)),mc=p=>$l(p).exists(b=>V0.test(b)),H0=p=>$l(p).isNone(),ld=ne(pb),F1=gi("col"),rl=p=>$l(p).getOrThunk(()=>Sg(p)+"px"),jo=p=>Qo(p).getOrThunk(()=>Ct(p)+"px"),wu=p=>an(go.justColumns(p),b=>ue.from(b.element)),np=p=>{const b=td().browser,k=b.isChromium()||b.isFirefox();return F1(p)?k:!0},_r=(p,b,k,E,P,B)=>p.filter(E).fold(()=>B($0(k,b)),q=>P(q)),Hi=(p,b,k,E)=>{const P=wg(p),B=go.hasColumns(p)?wu(p):P,q=[ue.some(ad.edge(b))].concat(an(ad.positions(P,b),ce=>ce.map(we=>we.x))),ee=J(Lc);return an(B,(ce,we)=>_r(ce,we,q,ee,Pe=>{if(np(Pe))return k(Pe);{const At=kx(P[we],vt);return _r(At,we,q,ee,Xt=>E(ue.some(bu(Xt))),E)}},E))},Kf=p=>p.map(b=>b+"px").getOr(""),op=(p,b)=>Hi(p,b,rl,Kf),pa=(p,b,k)=>Hi(p,b,ii,E=>E.fold(()=>k.minCellWidth(),P=>P/k.pixelWidth()*100)),xg=(p,b,k)=>Hi(p,b,Sg,E=>E.getOrThunk(k.minCellWidth)),Be=(p,b,k,E,P)=>{const B=B0(p),q=[ue.some(k.edge(b))].concat(an(k.positions(B,b),ee=>ee.map(ce=>ce.y)));return an(B,(ee,ce)=>_r(ee,ce,q,J(Ga),E,P))},li=(p,b,k)=>Be(p,b,k,Ct,E=>E.getOrThunk(Zm)),Kh=(p,b,k)=>Be(p,b,k,jo,Kf),qa=(p,b)=>()=>G(p)?b(p):parseFloat(Fh(p,"width").getOr("0")),Vl=p=>{const b=qa(p,bu),k=ne(0);return{width:b,pixelWidth:b,getWidths:(P,B)=>xg(P,p,B),getCellDelta:k,singleColumnWidth:ne([0]),minCellWidth:k,setElementWidth:xe,adjustTableWidth:xe,isRelative:!0,label:"none"}},ci=p=>{const b=qa(p,ce=>parseFloat(vu(ce))),k=qa(p,bu);return{width:b,pixelWidth:k,getWidths:(ce,we)=>pa(ce,p,we),getCellDelta:ce=>ce/k()*100,singleColumnWidth:(ce,we)=>[100-ce],minCellWidth:()=>vl()/k()*100,setElementWidth:Vs,adjustTableWidth:ce=>{const we=b(),Pe=ce/100*we,At=we+Pe;Vs(p,At)},isRelative:!0,label:"percent"}},Ur=p=>{const b=qa(p,bu);return{width:b,pixelWidth:b,getWidths:(q,ee)=>xg(q,p,ee),getCellDelta:vt,singleColumnWidth:(q,ee)=>[Math.max(vl(),q+ee)-q],minCellWidth:vl,setElementWidth:Cg,adjustTableWidth:q=>{const ee=b()+q;Cg(p,ee)},isRelative:!1,label:"pixel"}},U0=(p,b)=>ld().exec(b)!==null?ci(p):Ur(p),O={getTableSize:p=>$l(p).fold(()=>Vl(p),k=>U0(p,k)),pixelSize:Ur,percentageSize:ci,noneSize:Vl},D=(p,b,k,E,P,B)=>({minRow:p,minCol:b,maxRow:k,maxCol:E,allCells:P,selectedCells:B}),Y=(p,b)=>{const k=p.grid.columns;let P=p.grid.rows,B=k,q=0,ee=0;const ce=[],we=[];return ye(p.access,Pe=>{if(ce.push(Pe),b(Pe)){we.push(Pe);const At=Pe.row,Xt=At+Pe.rowspan-1,jt=Pe.column,_t=jt+Pe.colspan-1;At<P?P=At:Xt>q&&(q=Xt),jt<B?B=jt:_t>ee&&(ee=_t)}}),D(P,B,q,ee,ce,we)},te=(p,b,k)=>{const E=p[k].element,P=ze.fromTag("td");Gs(P,ze.fromTag("br")),(b?Gs:Di)(E,P)},Ce=(p,b,k,E)=>{const P=uo(p,ee=>ee.section!=="colgroup"),B=b.grid.columns,q=b.grid.rows;for(let ee=0;ee<q;ee++){let ce=!1;for(let we=0;we<B;we++)ee<k.minRow||ee>k.maxRow||we<k.minCol||we>k.maxCol||(go.getAt(b,ee,we).filter(E).isNone()?te(P,ce,ee):ce=!0)}},at=(p,b,k,E)=>{ye(k.columns,q=>{(q.column<b.minCol||q.column>b.maxCol)&&Kr(q.element)});const P=uo(Kd(p,"tr"),q=>q.dom.childElementCount===0);it(P,Kr),(b.minCol===b.maxCol||b.minRow===b.maxRow)&&it(Kd(p,"th,td"),q=>{Zs(q,"rowspan"),Zs(q,"colspan")}),Zs(p,Zo),Zs(p,"data-snooker-col-series"),O.getTableSize(p).adjustTableWidth(E)},Nt=(p,b,k,E)=>{if(E.minCol===0&&b.grid.columns===E.maxCol+1)return 0;const P=xg(b,p,k),B=Ee(P,(we,Pe)=>we+Pe,0),ce=Ee(P.slice(E.minCol,E.maxCol+1),(we,Pe)=>we+Pe,0)/B*k.pixelWidth()-k.pixelWidth();return k.getCellDelta(ce)},rn=(p,b)=>{const k=Xt=>Sa(Xt.element,b),E=Ml(p),P=pg(E),B=O.getTableSize(p),q=go.generate(P),ee=Y(q,k),ce="th:not("+b+"),td:not("+b+")",we=Bh(E,"th,td",Xt=>Sa(Xt,ce));it(we,Kr),Ce(P,q,ee,k);const Pe=go.fromTable(p),At=Nt(p,Pe,B,ee);return at(E,ee,q,At),E},jn="\xA0",$o=((p,b)=>{const k=B=>{if(!p(B))throw new Error("Can only get "+b+" value of a "+b+" node");return E(B).getOr("")},E=B=>p(B)?ue.from(B.dom.nodeValue):ue.none();return{get:k,getOption:E,set:(B,q)=>{if(!p(B))throw new Error("Can only set raw "+b+" value of a "+b+" node");B.dom.nodeValue=q}}})(Oc,"text"),ss=p=>$o.get(p),Ls=p=>$o.getOption(p),Ui=(p,b)=>$o.set(p,b),Aa=p=>bs(p)==="img"?1:Ls(p).fold(()=>Jo(p).length,b=>b.length),cd=p=>Ls(p).filter(b=>b.trim().length!==0||b.indexOf(jn)>-1).isSome(),Hl=p=>Ln(p)&&Ca(p,"contenteditable")==="false",Yf=["img","br"],sp=p=>cd(p)||Ht(Yf,bs(p))||Hl(p),Ul=p=>hg(p,sp),Xf=p=>Tg(p,sp),Tg=(p,b)=>{const k=E=>{const P=Jo(E);for(let B=P.length-1;B>=0;B--){const q=P[B];if(b(q))return ue.some(q);const ee=k(q);if(ee.isSome())return ee}return ue.none()};return k(p)},Rg={scope:["row","col"]},Yh=p=>()=>{const b=ze.fromTag("td",p.dom);return Gs(b,ze.fromTag("br",p.dom)),b},Xr=p=>()=>ze.fromTag("col",p.dom),_u=p=>()=>ze.fromTag("colgroup",p.dom),_o=p=>()=>ze.fromTag("tr",p.dom),ms=(p,b,k)=>{const E=zh(p,b);return ye(k,(P,B)=>{P===null?Zs(E,B):gr(E,B,P)}),E},Si=p=>p,is=(p,b,k)=>Ul(p).map(P=>{const B=k.join(","),q=un(P,B,ee=>vs(ee,p));return Et(q,(ee,ce)=>{const we=bl(ce);return Gs(ee,we),we},b)}).getOr(b),Ag=(p,b)=>{ye(Rg,(k,E)=>Oi(p,E).filter(P=>Ht(k,P)).each(P=>gr(b,E,P)))},Jf=(p,b,k)=>{const E=(q,ee)=>{vr(q.element,ee),Nc(ee,"height"),q.colspan!==1&&Nc(ee,"width")},P=q=>{const ee=ze.fromTag(bs(q.element),b.dom),ce=k.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),we=ce.length>0?is(q.element,ee,ce):ee;return Gs(we,ze.fromTag("br")),E(q,ee),Ag(q.element,ee),p(q.element,ee),ee};return{col:q=>{const ee=ze.fromTag(bs(q.element),b.dom);return E(q,ee),p(q.element,ee),ee},colgroup:_u(b),row:_o(b),cell:P,replace:ms,colGap:Xr(b),gap:Yh(b)}},Qf=p=>({col:Xr(p),colgroup:_u(p),row:_o(p),cell:Yh(p),replace:Si,colGap:Xr(p),gap:Yh(p)}),pc=(p,b)=>{const E=(b||document).createElement("div");return E.innerHTML=p,Jo(ze.fromDom(E))},Xh=p=>an(p,ze.fromDom),B1=p=>br(p,"[contenteditable]"),jl=(p,b=!1)=>G(p)?p.dom.isContentEditable:B1(p).fold(ne(b),k=>Jh(k)==="true"),Jh=p=>p.dom.contentEditable,nf=p=>ze.fromDom(p.getBody()),ku=p=>b=>vs(b,nf(p)),jc=p=>{Zs(p,"data-mce-style");const b=k=>Zs(k,"data-mce-style");it(Yd(p),b),it(Gm(p),b),it(qm(p),b)},yb=p=>ze.fromDom(p.selection.getStart()),Ig=p=>p.getBoundingClientRect().width,Cx=p=>p.getBoundingClientRect().height,nI=(p,b)=>{const k=p.dom.getStyle(b,"width")||p.dom.getAttrib(b,"width");return ue.from(k).filter(ks)},ar=p=>/^(\d+(\.\d+)?)%$/.test(p),oI=p=>/^(\d+(\.\d+)?)px$/.test(p),of=p=>er(p,gi("table")).exists(jl),j0=(p,b)=>{const k=b.column,E=b.column+b.colspan-1,P=b.row,B=b.row+b.rowspan-1;return k<=p.finishCol&&E>=p.startCol&&P<=p.finishRow&&B>=p.startRow},W0=(p,b)=>b.column>=p.startCol&&b.column+b.colspan-1<=p.finishCol&&b.row>=p.startRow&&b.row+b.rowspan-1<=p.finishRow,or=(p,b)=>{let k=!0;const E=We(W0,b);for(let P=b.startRow;P<=b.finishRow;P++)for(let B=b.startCol;B<=b.finishCol;B++)k=k&&go.getAt(p,P,B).exists(E);return k?ue.some(b):ue.none()},ji=(p,b)=>jm(Math.min(p.row,b.row),Math.min(p.column,b.column),Math.max(p.row+p.rowspan-1,b.row+b.rowspan-1),Math.max(p.column+p.colspan-1,b.column+b.colspan-1)),Og=(p,b,k)=>{const E=go.findItem(p,b,vs),P=go.findItem(p,k,vs);return E.bind(B=>P.map(q=>ji(B,q)))},rp=(p,b,k)=>Og(p,b,k).bind(E=>or(p,E)),Sx=(p,b,k,E)=>go.findItem(p,b,vs).bind(P=>{const B=k>0?P.row+P.rowspan-1:P.row,q=E>0?P.column+P.colspan-1:P.column;return go.getAt(p,B+k,q+E).map(ce=>ce.element)}),Dg=(p,b,k)=>Og(p,b,k).map(E=>{const P=go.filterItems(p,We(j0,E));return an(P,B=>B.element)}),bb=(p,b)=>{const k=(E,P)=>ug(P,E);return go.findItem(p,b,k).map(E=>E.element)},$1=(p,b,k)=>Or(p).bind(E=>{const P=ap(E);return Sx(P,p,b,k)}),sI=(p,b,k)=>{const E=ap(p);return Dg(E,b,k)},Z0=(p,b,k,E,P)=>{const B=ap(p),q=vs(p,k)?ue.some(b):bb(B,b),ee=vs(p,P)?ue.some(E):bb(B,E);return q.bind(ce=>ee.bind(we=>Dg(B,ce,we)))},vb=(p,b,k)=>{const E=ap(p);return rp(E,b,k)},ap=go.fromTable;var sf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ud=()=>{const p=we=>ze.fromDom(we.dom.cloneNode(!1)),b=we=>bi(we).dom,k=we=>oi(we)?bs(we)==="body"?!0:Ht(sf,bs(we)):!1,E=we=>oi(we)?Ht(["br","img","hr","input"],bs(we)):!1,P=we=>oi(we)&&Ca(we,"contenteditable")==="false",B=(we,Pe)=>we.dom.compareDocumentPosition(Pe.dom),q=(we,Pe)=>{const At=ja(we);Dc(Pe,At)},ee=we=>{const Pe=bs(we);return Ht(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Pe)},ce=we=>oi(we)?Oi(we,"lang"):ue.none();return{up:ne({selector:Ro,closest:br,predicate:$r,all:Mc}),down:ne({selector:da,predicate:co}),styles:ne({get:$f,getRaw:Fh,set:Cs,remove:Nc}),attrs:ne({get:Ca,set:gr,remove:Zs,copyTo:q}),insert:ne({before:Pc,after:yl,afterAll:as,append:Gs,appendAll:nl,prepend:Di,wrap:$m}),remove:ne({unwrap:zf,remove:Kr}),create:ne({nu:ze.fromTag,clone:p,text:ze.fromText}),query:ne({comparePosition:B,prevSibling:Ju,nextSibling:Qu}),property:ne({children:Jo,name:bs,parent:hu,document:b,isText:Oc,isComment:us,isElement:oi,isSpecial:ee,getLanguage:ce,getText:ss,setText:Ui,isBoundary:k,isEmptyTag:E,isNonEditable:P}),eq:vs,is:Ph}};const eh=(p,b,k,E)=>{const P=k[0],B=k.slice(1);return E(p,b,P,B)},V1=(p,b,k)=>k.length>0?eh(p,b,k,Qh):ue.none(),Qh=(p,b,k,E)=>{const P=b(p,k);return Et(E,(B,q)=>{const ee=b(p,q);return G0(p,B,ee)},P)},G0=(p,b,k)=>b.bind(E=>k.filter(We(p.eq,E))),xx=(p,b)=>We(p.eq,b),q0=(p,b,k,E=wt)=>{const P=[b].concat(p.up().all(b)),B=[k].concat(p.up().all(k)),q=Pe=>lt(Pe,E).fold(()=>Pe,Xt=>Pe.slice(0,Xt+1)),ee=q(P),ce=q(B),we=j(ee,Pe=>ot(ce,xx(p,Pe)));return{firstpath:ee,secondpath:ce,shared:we}},Ex=V1,K0=q0,H1=ud(),zo=(p,b)=>Ex(H1,(k,E)=>p(E),b),xn=(p,b,k)=>K0(H1,p,b,k),rf=p=>Ro(p,"table"),wb=(p,b,k)=>{const E=P=>B=>k!==void 0&&k(B)||vs(B,P);return vs(p,b)?ue.some({boxes:ue.some([p]),start:p,finish:b}):rf(p).bind(P=>rf(b).bind(B=>{if(vs(P,B))return ue.some({boxes:sI(P,p,b),start:p,finish:b});if(ug(P,B)){const q=un(b,"td,th",E(P)),ee=q.length>0?q[q.length-1]:b;return ue.some({boxes:Z0(P,p,P,b,B),start:p,finish:ee})}else if(ug(B,P)){const q=un(p,"td,th",E(B)),ee=q.length>0?q[q.length-1]:p;return ue.some({boxes:Z0(B,p,P,b,B),start:p,finish:ee})}else return xn(p,b).shared.bind(q=>br(q,"table",k).bind(ee=>{const ce=un(b,"td,th",E(ee)),we=ce.length>0?ce[ce.length-1]:b,Pe=un(p,"td,th",E(ee)),At=Pe.length>0?Pe[Pe.length-1]:p;return ue.some({boxes:Z0(ee,p,P,b,B),start:At,finish:we})}))}))},Mg=(p,b)=>{const k=da(p,b);return k.length>0?ue.some(k):ue.none()},rI=(p,b)=>j(p,k=>Sa(k,b)),U1=(p,b,k)=>zi(p,b).bind(E=>zi(p,k).bind(P=>zo(rf,[E,P]).map(B=>({first:E,last:P,table:B})))),Ss=(p,b)=>Ro(p,"table").bind(k=>zi(k,b).bind(E=>wb(E,p).bind(P=>P.boxes.map(B=>({boxes:B,start:P.start,finish:P.finish}))))),Y0=(p,b,k,E,P)=>rI(p,P).bind(B=>$1(B,b,k).bind(q=>Ss(q,E))),Tx=(p,b)=>Mg(p,b),Rx=(p,b,k)=>U1(p,b,k).bind(E=>{const P=ce=>vs(p,ce),B="thead,tfoot,tbody,table",q=Ro(E.first,B,P),ee=Ro(E.last,B,P);return q.bind(ce=>ee.bind(we=>vs(ce,we)?vb(E.table,E.first,E.last):ue.none()))}),St=vt,_b=p=>{const b=(E,P)=>Oi(E,P).exists(B=>parseInt(B,10)>1),k=E=>b(E,"rowspan")||b(E,"colspan");return p.length>0&&re(p,k)?ue.some(p):ue.none()},aI=(p,b,k)=>b.length<=1?ue.none():Rx(p,k.firstSelectedSelector,k.lastSelectedSelector).map(E=>({bounds:E,cells:b})),af="data-mce-selected",j1="td["+af+"],th["+af+"]",Pg="["+af+"]",kb="data-mce-first-selected",ip="td["+kb+"],th["+kb+"]",th="data-mce-last-selected",zg="td["+th+"],th["+th+"]",sr=Pg,al={selected:af,selectedSelector:j1,firstSelected:kb,firstSelectedSelector:ip,lastSelected:th,lastSelectedSelector:zg},Ng=(p,b,k)=>({element:k,mergable:aI(b,p,al),unmergable:_b(p),selection:St(p)}),lf=(p,b,k)=>({element:p,clipboard:b,generators:k}),iI=(p,b,k,E)=>({selection:St(p),clipboard:k,generators:E}),W1=p=>Or(p).bind(b=>Tx(b,al.firstSelectedSelector)).fold(ne(p),b=>b[0]),nh=p=>(b,k)=>{const E=bs(b),P=E==="col"||E==="colgroup"?W1(b):b;return br(P,p,k)},w4=nh("th,td,caption"),Ax=nh("th,td"),il=p=>Xh(p.model.table.getSelectedCells()),Z1=p=>uo(il(p),b=>Sa(b,al.selectedSelector)),dd=p=>Or(p[0]).map(b=>{const k=rn(b,sr);return jc(k),[k]}),lI=(p,b)=>an(b,k=>p.selection.serializer.serialize(k.dom,{})).join(""),Lg=p=>an(p,b=>b.dom.innerText).join(""),Wi=(p,b)=>{p.on("BeforeGetContent",k=>{const E=P=>{k.preventDefault(),dd(P).each(B=>{k.content=k.format==="text"?Lg(B):lI(p,B)})};if(k.selection===!0){const P=Z1(p);P.length>=1&&E(P)}}),p.on("BeforeSetContent",k=>{if(k.selection===!0&&k.paste===!0){const E=il(p);le(E).each(P=>{Or(P).each(B=>{const q=uo(pc(k.content),ce=>bs(ce)!=="meta"),ee=gi("table");if(q.length===1&&ee(q[0])){k.preventDefault();const ce=ze.fromDom(p.getDoc()),we=Qf(ce),Pe=lf(P,q[0],we);b.pasteCells(B,Pe).each(()=>{p.focus()})}})})}})},em=(p,b)=>({element:p,offset:b}),dn=(p,b,k)=>p.property().isText(b)&&p.property().getText(b).trim().length===0||p.property().isComment(b)?k(b).bind(E=>dn(p,E,k).orThunk(()=>ue.some(E))):ue.none(),Ix=(p,b)=>p.property().isText(b)?p.property().getText(b).length:p.property().children(b).length,ui=(p,b)=>{const k=dn(p,b,p.query().prevSibling).getOr(b);if(p.property().isText(k))return em(k,Ix(p,k));const E=p.property().children(k);return E.length>0?ui(p,E[E.length-1]):em(k,Ix(p,k))},Ox=ui,X0=ud(),cI=p=>Ox(X0,p),Cb=(p,b)=>{Lc(p)||Vi(p).each(E=>{const P=E.value/2;tp(p,P,E.unit),tp(b,P,E.unit)})},Wl=p=>an(p,ne(0)),oh=(p,b,k,E,P)=>P(p.slice(0,b)).concat(E).concat(P(p.slice(k))),Dx=p=>(b,k,E,P)=>{if(p(E)){const B=Math.max(P,b[k]-Math.abs(E)),q=Math.abs(B-b[k]);return E>=0?q:-q}else return E},lp=Dx(p=>p<0),uI=Dx(je),Mx=()=>{const p=(ee,ce,we,Pe,At)=>{const Xt=lp(ee,ce,Pe,At);return oh(ee,ce,we+1,[Xt,0],Wl)},b=(ee,ce,we,Pe)=>{const At=(100+we)/100,Xt=Math.max(Pe,(ee[ce]+we)/At);return an(ee,(jt,_t)=>(_t===ce?Xt:jt/At)-jt)},k=(ee,ce,we,Pe,At,Xt)=>Xt?b(ee,ce,Pe,At):p(ee,ce,we,Pe,At);return{resizeTable:(ee,ce)=>ee(ce),clampTableDelta:lp,calcLeftEdgeDeltas:k,calcMiddleDeltas:(ee,ce,we,Pe,At,Xt,jt)=>k(ee,we,Pe,At,Xt,jt),calcRightEdgeDeltas:(ee,ce,we,Pe,At,Xt)=>{if(Xt)return b(ee,we,Pe,At);{const jt=lp(ee,we,Pe,At);return Wl(ee.slice(0,we)).concat([jt])}},calcRedestributedWidths:(ee,ce,we,Pe)=>{if(Pe){const Xt=(ce+we)/ce,jt=an(ee,_t=>_t/Xt);return{delta:Xt*100-100,newSizes:jt}}else return{delta:we,newSizes:ee}}}},Fg=()=>{const p=(q,ee,ce,we,Pe)=>{const At=we>=0?ce:ee,Xt=uI(q,At,we,Pe);return oh(q,ee,ce+1,[Xt,-Xt],Wl)};return{resizeTable:(q,ee,ce)=>{ce&&q(ee)},clampTableDelta:(q,ee,ce,we,Pe)=>{if(Pe){if(ce>=0)return ce;{const At=Ee(q,(Xt,jt)=>Xt+jt-we,0);return Math.max(-At,ce)}}else return lp(q,ee,ce,we)},calcLeftEdgeDeltas:p,calcMiddleDeltas:(q,ee,ce,we,Pe,At)=>p(q,ce,we,Pe,At),calcRightEdgeDeltas:(q,ee,ce,we,Pe,At)=>{if(At)return Wl(q);{const Xt=we/q.length;return an(q,ne(Xt))}},calcRedestributedWidths:(q,ee,ce,we)=>({delta:0,newSizes:q})}},cp=p=>go.fromTable(p).grid,G1=gi("th"),up=p=>re(p,b=>G1(b.element)),q1=(p,b)=>p&&b?"sectionCells":p?"section":"cells",Sb=p=>{const b=p.section==="thead",k=Vr(K1(p.cells),"th");return p.section==="tfoot"?{type:"footer"}:b||k?{type:"header",subType:q1(b,k)}:{type:"body"}},K1=p=>{const b=uo(p,k=>G1(k.element));return b.length===0?ue.some("td"):b.length===p.length?ue.some("th"):ue.none()},tm=p=>{const b=an(p,P=>Sb(P).type),k=Ht(b,"header"),E=Ht(b,"footer");if(!k&&!E)return ue.some("body");{const P=Ht(b,"body");return k&&!P&&!E?ue.some("header"):!k&&!P&&E?ue.some("footer"):ue.none()}},fd=p=>Qe(p.all,b=>{const k=Sb(b);return k.type==="header"?ue.from(k.subType):ue.none()}),Ia=(p,b,k)=>Wa(k(p.element,b),!0,p.isLocked),xb=(p,b)=>p.section!==b?zc(p.element,p.cells,b,p.isNew):p,Px=()=>({transformRow:xb,transformCell:(p,b,k)=>{const E=k(p.element,b),P=bs(E)!=="td"?dg(E,"td"):E;return Wa(P,p.isNew,p.isLocked)}}),Y1=()=>({transformRow:xb,transformCell:Ia}),J0=()=>({transformRow:(p,b)=>xb(p,b==="thead"?"tbody":b),transformCell:Ia}),cf={getTableSectionType:(p,b)=>{const k=go.fromTable(p);switch(fd(k).getOr(b)){case"section":return Px();case"sectionCells":return Y1();case"cells":return J0()}},section:Px,sectionCells:Y1,cells:J0,fallback:()=>({transformRow:vt,transformCell:Ia})},Bg=(p,b,k,E)=>{k===E?Zs(p,b):gr(p,b,k)},zx=(p,b,k)=>{$e(Ar(p,b)).fold(()=>Di(p,k),E=>yl(E,k))},Nx=(p,b)=>{const k=gu(p,b).getOrThunk(()=>{const E=ze.fromTag(b,Xu(p).dom);return b==="thead"?zx(p,"caption,colgroup",E):b==="colgroup"?zx(p,"caption",E):Gs(p,E),E});return Mi(k),k},fI=(p,b)=>{const k=[],E=[],P=jt=>an(jt,_t=>{_t.isNew&&k.push(_t.element);const qt=_t.element;return Mi(qt),it(_t.cells,gt=>{gt.isNew&&E.push(gt.element),Bg(gt.element,"colspan",gt.colspan,1),Bg(gt.element,"rowspan",gt.rowspan,1),Gs(qt,gt.element)}),qt}),B=jt=>Tt(jt,_t=>an(_t.cells,qt=>(Bg(qt.element,"span",qt.colspan,1),qt.element))),q=(jt,_t)=>{const qt=Nx(p,_t),hn=(_t==="colgroup"?B:P)(jt);nl(qt,hn)},ee=jt=>{gu(p,jt).each(Kr)},ce=(jt,_t)=>{jt.length>0?q(jt,_t):ee(_t)},we=[],Pe=[],At=[],Xt=[];return it(b,jt=>{switch(jt.section){case"thead":we.push(jt);break;case"tbody":Pe.push(jt);break;case"tfoot":At.push(jt);break;case"colgroup":Xt.push(jt);break}}),ce(Xt,"colgroup"),ce(we,"thead"),ce(Pe,"tbody"),ce(At,"tfoot"),{newRows:k,newCells:E}},ps=p=>an(p,b=>{const k=bl(b.element);return it(b.cells,E=>{const P=Ml(E.element);Bg(P,"colspan",E.colspan,1),Bg(P,"rowspan",E.rowspan,1),Gs(k,P)}),k}),hI=(p,b)=>an(p,k=>ol(k,b)),mI=(p,b)=>p[b],Lx=(p,b)=>{if(p.length===0)return 0;const k=p[0];return lt(p,P=>!b(k.element,P.element)).getOr(p.length)},X1=(p,b,k,E)=>{const P=mI(p,b),B=P.section==="colgroup",q=Lx(P.cells.slice(k),E),ee=B?1:Lx(hI(p.slice(b),k),E);return{colspan:q,rowspan:ee}},Fx=(p,b)=>{const k=an(p,P=>an(P.cells,wt)),E=(P,B,q,ee)=>{for(let ce=P;ce<P+q;ce++)for(let we=B;we<B+ee;we++)k[ce][we]=!0};return an(p,(P,B)=>{const q=Tt(P.cells,(ee,ce)=>{if(k[B][ce]===!1){const we=X1(p,B,ce,b);return E(B,ce,we.rowspan,we.colspan),[Lh(ee.element,we.rowspan,we.colspan,ee.isNew)]}else return[]});return Br(P.element,q,P.section,P.isNew)})},Wc=(p,b,k)=>{const E=[];it(p.colgroups,P=>{const B=[];for(let q=0;q<p.grid.columns;q++){const ee=go.getColumnAt(p,q).map(ce=>Wa(ce.element,k,!1)).getOrThunk(()=>Wa(b.colGap(),!0,!1));B.push(ee)}E.push(zc(P.element,B,"colgroup",k))});for(let P=0;P<p.grid.rows;P++){const B=[];for(let ce=0;ce<p.grid.columns;ce++){const we=go.getAt(p,P,ce).map(Pe=>Wa(Pe.element,k,Pe.isLocked)).getOrThunk(()=>Wa(b.gap(),!0,!1));B.push(we)}const q=p.all[P],ee=zc(q.element,B,q.section,k);E.push(ee)}return E},Ka=(p,b)=>Wc(p,b,!1),J1=p=>Fx(p,vs),sh=(p,b)=>Qe(p.all,k=>j(k.cells,E=>vs(b,E.element))),dp=(p,b,k)=>{const E=an(b.selection,B=>zl(B).bind(q=>sh(p,q)).filter(k)),P=Ff(E);return Qy(P.length>0,P)},Oa=(p,b,k,E,P)=>(B,q,ee,ce)=>{const we=go.fromTable(B),Pe=ue.from(ce==null?void 0:ce.section).getOrThunk(cf.fallback);return b(we,q).map(Xt=>{const jt=Ka(we,ee),_t=p(jt,Xt,vs,P(ee),Pe),qt=Xd(_t.grid),gt=J1(_t.grid);return{info:Xt,grid:gt,cursor:_t.cursor,lockedColumns:qt}}).bind(Xt=>{const jt=fI(B,Xt.grid),_t=ue.from(ce==null?void 0:ce.sizing).getOrThunk(()=>O.getTableSize(B)),qt=ue.from(ce==null?void 0:ce.resize).getOrThunk(Fg);return k(B,Xt.grid,Xt.info,{sizing:_t,resize:qt,section:Pe}),E(B),Zs(B,Zo),Xt.lockedColumns.length>0&&gr(B,Zo,Xt.lockedColumns.join(",")),ue.some({cursor:Xt.cursor,newRows:jt.newRows,newCells:jt.newCells})})},Bx=(p,b)=>zl(b.element).bind(k=>sh(p,k).map(E=>({...E,generators:b.generators,clipboard:b.clipboard}))),$x=(p,b)=>dp(p,b,je).map(k=>({cells:k,generators:b.generators,clipboard:b.clipboard})),_4=(p,b)=>b.mergable,Vx=(p,b)=>b.unmergable,nm=(p,b)=>dp(p,b,je),om=(p,b)=>dp(p,b,k=>!k.isLocked),Q1=(p,b)=>sh(p,b).exists(k=>!k.isLocked),Hx=(p,b)=>re(b,k=>Q1(p,k)),hd=(p,b)=>_4(p,b).filter(k=>Hx(p,k.cells)),ll=(p,b)=>Vx(p,b).filter(k=>Hx(p,k)),Jr=(p,b,k,E)=>{const P=ha(p).rows;if(P.length===0)return p;for(let B=b.startRow;B<=b.finishRow;B++)for(let q=b.startCol;q<=b.finishCol;q++){const ee=P[B],ce=ol(ee,q).isLocked;Zf(ee,q,Wa(E(),!1,ce))}return p},Ux=(p,b,k,E)=>{const P=ha(p).rows;let B=!0;for(let q=0;q<P.length;q++)for(let ee=0;ee<kl(P[0]);ee++){const ce=P[q],we=ol(ce,ee),Pe=we.element,At=k(Pe,b);At&&!B?Zf(ce,ee,Wa(E(),!0,we.isLocked)):At&&(B=!1)}return p},xs=(p,b)=>Ee(p,(k,E)=>ot(k,P=>b(P.element,E.element))?k:k.concat([E]),[]),xi=(p,b,k,E)=>(b>0&&b<p[0].cells.length&&it(p,P=>{const B=P.cells[b-1];let q=0;const ee=E();for(;P.cells.length>b+q&&k(B.element,P.cells[b+q].element);)Zf(P,b+q,Wa(ee,!0,P.cells[b+q].isLocked)),q++}),p),Cu=(p,b,k,E)=>{const P=ha(p).rows;if(b>0&&b<P.length){const B=P[b-1].cells,q=xs(B,k);it(q,ee=>{let ce=ue.none();for(let we=b;we<P.length;we++)for(let Pe=0;Pe<kl(P[0]);Pe++){const At=P[we],Xt=ol(At,Pe);k(Xt.element,ee.element)&&(ce.isNone()&&(ce=ue.some(E())),ce.each(_t=>{Zf(At,Pe,Wa(_t,!0,Xt.isLocked))}))}})}return p},Ei=p=>{const b=B=>B(p),k=ne(p),E=()=>P,P={tag:!0,inner:p,fold:(B,q)=>q(p),isValue:je,isError:wt,map:B=>sm.value(B(p)),mapError:E,bind:b,exists:b,forall:b,getOr:k,or:E,getOrThunk:k,orThunk:E,getOrDie:k,each:B=>{B(p)},toOptional:()=>ue.some(p)};return P},rh=p=>{const b=()=>k,k={tag:!1,inner:p,fold:(E,P)=>E(p),isValue:wt,isError:je,map:b,mapError:E=>sm.error(E(p)),bind:b,exists:wt,forall:je,getOr:vt,or:vt,getOrThunk:st,orThunk:st,getOrDie:Te(String(p)),each:xe,toOptional:ue.none};return k},sm={value:Ei,error:rh,fromOption:(p,b)=>p.fold(()=>rh(b),Ei)},gc=(p,b,k)=>{if(p.row>=b.length||p.column>kl(b[0]))return sm.error("invalid start address out of table bounds, row: "+p.row+", column: "+p.column);const E=b.slice(p.row),P=E[0].cells.slice(p.column),B=kl(k[0]),q=k.length;return sm.value({rowDelta:E.length-q,colDelta:P.length-B})},Zc=(p,b)=>{const k=kl(p[0]),E=kl(b[0]);return{rowDelta:0,colDelta:k-E}},Q0=(p,b)=>{const k=p.length,E=b.length;return{rowDelta:k-E,colDelta:0}},Tb=(p,b,k,E)=>{const P=b.section==="colgroup"?k.col:k.cell;return Nn(p,B=>Wa(P(),!0,E(B)))},jx=(p,b,k,E)=>{const P=p[p.length-1];return p.concat(Nn(b,()=>{const B=P.section==="colgroup"?k.colgroup:k.row,q=D1(P,B,vt),ee=Tb(q.cells.length,q,k,ce=>lo(E,ce.toString()));return Jm(q,ee)}))},ek=(p,b,k,E)=>an(p,P=>{const B=Tb(b,P,k,wt);return Zh(P,E,B)}),Wx=(p,b,k)=>an(p,E=>Ee(k,(P,B)=>{const q=Tb(1,E,b,je)[0];return O1(P,B,q)},E)),$g=(p,b,k)=>{const E=b.colDelta<0?ek:vt,P=b.rowDelta<0?jx:vt,B=Xd(p),q=kl(p[0]),ee=ot(B,Pe=>Pe===q-1),ce=E(p,Math.abs(b.colDelta),k,ee?q-1:q),we=Xd(ce);return P(ce,Math.abs(b.rowDelta),k,Oe(we,je))},Zx=(p,b,k,E)=>{const P=ol(p[b],k),B=We(E,P.element),q=p[b];return p.length>1&&kl(q)>1&&(k>0&&B(ai(q,k-1))||k<q.cells.length-1&&B(ai(q,k+1))||b>0&&B(ai(p[b-1],k))||b<p.length-1&&B(ai(p[b+1],k)))},pI=(p,b,k,E,P,B)=>{const q=p.row,ee=p.column,ce=k.length,we=kl(k[0]),Pe=q+ce,At=ee+we+B.length,Xt=Oe(B,je);for(let jt=q;jt<Pe;jt++){let _t=0;for(let qt=ee;qt<At;qt++){if(Xt[qt]){_t++;continue}Zx(b,jt,qt,P)&&Ux(b,ai(b[jt],qt),P,E.cell);const gt=qt-ee-_t,hn=ol(k[jt-q],gt),Fn=hn.element,Qn=E.replace(Fn);Zf(b[jt],qt,Wa(Qn,!0,hn.isLocked))}}return b},gI=(p,b,k)=>{const E=kl(b[0]),P=ha(b).cols.length+p.row,B=Nn(E-p.column,ee=>ee+p.column),q=j(B,ee=>re(k,ce=>ce!==ee)).getOr(E-1);return{row:P,column:q}},tk=(p,b,k)=>uo(k,E=>E>=p.column&&E<=kl(b[0])+p.column),Gx=(p,b,k,E,P)=>{const B=Xd(b),q=gI(p,b,B),ee=ha(k).rows,ce=tk(q,ee,B);return gc(q,b,ee).map(Pe=>{const At={...Pe,colDelta:Pe.colDelta-ce.length},Xt=$g(b,At,E),jt=Xd(Xt),_t=tk(q,ee,jt);return pI(q,Xt,ee,E,P,_t)})},qx=(p,b,k,E,P)=>{xi(b,p,P,E.cell);const B=Q0(k,b),q=$g(k,B,E),ee=Q0(b,q),ce=$g(b,ee,E);return an(ce,(we,Pe)=>Zh(we,p,q[Pe].cells))},Kx=(p,b,k,E,P)=>{Cu(b,p,P,E.cell);const B=Xd(b),q=Zc(b,k),ee={...q,colDelta:q.colDelta-B.length},ce=$g(b,ee,E),{cols:we,rows:Pe}=ha(ce),At=Xd(ce),Xt=Zc(k,b),jt={...Xt,colDelta:Xt.colDelta+At.length},_t=Wx(k,E,At),qt=$g(_t,jt,E);return[...we,...Pe.slice(0,p),...qt,...Pe.slice(p,Pe.length)]},Yx=(p,b,k,E)=>D1(p,P=>E(P,k),b),rm=(p,b,k,E,P)=>{const{rows:B,cols:q}=ha(p),ee=B.slice(0,b),ce=B.slice(b),we=Yx(B[k],(Pe,At)=>b>0&&b<B.length&&E(ai(B[b-1],At),ai(B[b],At))?ol(B[b],At):Wa(P(Pe.element,E),!0,Pe.isLocked),E,P);return[...q,...ee,we,...ce]},Xx=(p,b,k,E,P,B,q)=>{if(k==="colgroup"||!E){const ee=ol(p,P);return Wa(q(ee.element,B),!0,!1)}else return ol(p,b)},Jx=(p,b,k,E,P)=>an(p,B=>{const q=b>0&&b<kl(B)&&E(ai(B,b-1),ai(B,b)),ee=Xx(B,b,B.section,q,k,E,P);return O1(B,b,ee)}),yI=(p,b)=>Tt(p,k=>{const E=k.cells,P=Et(b,(B,q)=>q>=0&&q<B.length?B.slice(0,q).concat(B.slice(q+1)):B,E);return P.length>0?[zc(k.element,P,k.section,k.isNew)]:[]}),Qx=(p,b,k)=>{const{rows:E,cols:P}=ha(p);return[...P,...E.slice(0,b),...E.slice(k+1)]},fp=(p,b,k,E)=>ai(p[b],k)!==void 0&&b>0&&E(ai(p[b-1],k),ai(p[b],k)),Ks=(p,b,k)=>b>0&&k(ai(p,b-1),ai(p,b)),ah=(p,b,k,E)=>fp(p,b,k,E)||Ks(p[b],k,E),eE=(p,b)=>re(b,vt)&&up(p.cells)?je:(E,P,B)=>!(bs(E.element)==="th"&&b[B]),bI=(p,b)=>re(b,vt)&&up(p)?je:(E,P,B)=>!(bs(E.element)==="th"&&b[P]),Rb=(p,b,k,E)=>{const P=q=>q==="row"?Ga(b):Lc(b),B=q=>P(q)?`${q}group`:q;return p?G1(b)?B(k):null:E&&G1(b)?B(k==="row"?"col":"row"):null},Da=(p,b)=>(k,E,P)=>ue.some(Rb(p,k.element,"col",b[P])),Sl=(p,b)=>(k,E)=>ue.some(Rb(p,k.element,"row",b[E])),nk=(p,b,k)=>Wa(k(p.element,b),!0,p.isLocked),ew=(p,b,k,E,P,B,q)=>{const ee=ce=>ot(b,we=>k(ce.element,we.element));return an(p,(ce,we)=>dc(ce,(Pe,At)=>{if(ee(Pe)){const Xt=q(Pe,we,At)?P(Pe,k,E):Pe;return B(Xt,we,At).each(jt=>{jd(Xt.element,{scope:ue.from(jt)})}),Xt}else return Pe}))},tw=(p,b,k)=>Tt(p,(E,P)=>ah(p,P,b,k)?[]:[ol(E,b)]),vI=(p,b,k)=>{const E=p[b];return Tt(E.cells,(P,B)=>ah(p,b,B,k)?[]:[P])},tE=(p,b,k,E,P)=>{const B=ha(p).rows,q=Tt(b,Pe=>tw(B,Pe,E)),ee=an(B,Pe=>up(Pe.cells)),ce=bI(q,ee),we=Sl(k,ee);return ew(p,q,E,P,nk,we,ce)},Ab=(p,b,k,E,P,B,q)=>{const{cols:ee,rows:ce}=ha(p),we=ce[b[0]],Pe=Tt(b,gt=>vI(ce,gt,P)),At=an(we.cells,(gt,hn)=>up(tw(ce,hn,P))),Xt=[...ce];it(b,gt=>{Xt[gt]=q.transformRow(ce[gt],k)});const jt=[...ee,...Xt],_t=eE(we,At),qt=Da(E,At);return ew(jt,Pe,P,B,q.transformCell,qt,_t)},xl=(p,b,k,E)=>{const P=ha(p).rows,B=an(b,q=>ol(P[q.row],q.column));return ew(p,B,k,E,nk,ue.none,je)},Ys={generate:p=>{if(!T(p))throw new Error("cases must be an array");if(p.length===0)throw new Error("there must be at least one case");const b=[],k={};return it(p,(E,P)=>{const B=Ve(E);if(B.length!==1)throw new Error("one and only one name per case");const q=B[0],ee=E[q];if(k[q]!==void 0)throw new Error("duplicate key detected:"+q);if(q==="cata")throw new Error("cannot have a case named cata (sorry)");if(!T(ee))throw new Error("case arguments must be an array");b.push(q),k[q]=(...ce)=>{const we=ce.length;if(we!==ee.length)throw new Error("Wrong number of arguments to case "+q+". Expected "+ee.length+" ("+ee+"), got "+we);return{fold:(...At)=>{if(At.length!==p.length)throw new Error("Wrong number of arguments to fold. Expected "+p.length+", got "+At.length);return At[P].apply(null,ce)},match:At=>{const Xt=Ve(At);if(b.length!==Xt.length)throw new Error("Wrong number of arguments to match. Expected: "+b.join(",")+`
Actual: `+Xt.join(","));if(!re(b,_t=>Ht(Xt,_t)))throw new Error("Not all branches were specified when using match. Specified: "+Xt.join(", ")+`
Required: `+b.join(", "));return At[q].apply(null,ce)},log:At=>{console.log(At,{constructors:b,constructor:q,params:ce})}}}}),k}},uf={...Ys.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},wI=(p,b)=>p.length===0?uf.none():p.length===1?uf.only(0):b===0?uf.left(0,1):b===p.length-1?uf.right(b-1,b):b>0&&b<p.length-1?uf.middle(b-1,b,b+1):uf.none(),ok=(p,b,k,E,P)=>{const B=p.slice(0),q=wI(p,b),ee=ne(an(B,ne(0))),ce=Xt=>E.singleColumnWidth(B[Xt],k),we=(Xt,jt)=>P.calcLeftEdgeDeltas(B,Xt,jt,k,E.minCellWidth(),E.isRelative),Pe=(Xt,jt,_t)=>P.calcMiddleDeltas(B,Xt,jt,_t,k,E.minCellWidth(),E.isRelative),At=(Xt,jt)=>P.calcRightEdgeDeltas(B,Xt,jt,k,E.minCellWidth(),E.isRelative);return q.fold(ee,ce,we,Pe,At)},oE=(p,b,k)=>{let E=0;for(let P=p;P<b;P++)E+=k[P]!==void 0?k[P]:0;return E},am=(p,b)=>{const k=go.justCells(p);return an(k,E=>{const P=oE(E.column,E.column+E.colspan,b);return{element:E.element,width:P,colspan:E.colspan}})},sE=(p,b)=>{const k=go.justColumns(p);return an(k,(E,P)=>({element:E.element,width:b[P],colspan:E.colspan}))},df=(p,b)=>{const k=go.justCells(p);return an(k,E=>{const P=oE(E.row,E.row+E.rowspan,b);return{element:E.element,height:P,rowspan:E.rowspan}})},sk=(p,b)=>an(p.all,(k,E)=>({element:k.element,height:b[E]})),Ib=p=>Et(p,(b,k)=>b+k,0),rk=(p,b)=>go.hasColumns(p)?sE(p,b):am(p,b),nw=(p,b,k)=>{const E=rk(p,b);it(E,P=>{k.setElementWidth(P.element,P.width)})},Ob=(p,b,k,E,P)=>{const B=go.fromTable(p),q=P.getCellDelta(b),ee=P.getWidths(B,P),ce=k===B.grid.columns-1,we=E.clampTableDelta(ee,k,q,P.minCellWidth(),ce),Pe=ok(ee,k,we,P,E),At=an(Pe,(Xt,jt)=>Xt+ee[jt]);nw(B,At,P),E.resizeTable(P.adjustTableWidth,we,ce)},ak=(p,b,k,E)=>{const P=go.fromTable(p),B=li(P,p,E),q=an(B,(Pe,At)=>k===At?Math.max(b+Pe,Zm()):Pe),ee=df(P,q),ce=sk(P,q);it(ce,Pe=>{qh(Pe.element,Pe.height)}),it(ee,Pe=>{qh(Pe.element,Pe.height)});const we=Ib(q);qh(p,we)},Db=(p,b,k,E,P)=>{const B=go.generate(b),q=E.getWidths(B,E),ee=E.pixelWidth(),{newSizes:ce,delta:we}=P.calcRedestributedWidths(q,ee,k.pixelDelta,E.isRelative);nw(B,ce,E),E.adjustTableWidth(we)},rE=(p,b,k,E)=>{const P=go.generate(b),B=E.getWidths(P,E);nw(P,B,E)},ih=p=>Ee(p,(k,E)=>ot(k,B=>B.column===E.column)?k:k.concat([E]),[]).sort((k,E)=>k.column-E.column),ow=gi("col"),aE=gi("colgroup"),ik=p=>bs(p)==="tr"||aE(p),im=p=>{const b=_i(p,"colspan",1),k=_i(p,"rowspan",1);return{element:p,colspan:b,rowspan:k}},ff=(p,b=im)=>{const k=ee=>ow(ee.element)?p.col(ee):p.cell(ee),E=ee=>aE(ee.element)?p.colgroup(ee):p.row(ee),P=ee=>{if(ik(ee))return E({element:ee});{const ce=ee,we=k(b(ce));return B=ue.some({item:ce,replacement:we}),we}};let B=ue.none();return{getOrInit:(ee,ce)=>B.fold(()=>P(ee),we=>ce(ee,we.item)?we.replacement:P(ee))}},hp=p=>b=>{const k=[],E=(q,ee)=>j(k,ce=>ee(ce.item,q)),P=q=>{const ee=p==="td"?{scope:null}:{},ce=b.replace(q,p,ee);return k.push({item:q,sub:ce}),ce};return{replaceOrInit:(q,ee)=>{if(ik(q)||ow(q))return q;{const ce=q;return E(ce,ee).fold(()=>P(ce),we=>ee(q,we.item)?we.sub:P(ce))}}}},dt=p=>Oi(p,"scope").map(b=>b.substr(0,3)),ir={modification:ff,transform:hp,merging:p=>({unmerge:E=>{const P=dt(E);return P.each(B=>gr(E,"scope",B)),()=>{const B=p.cell({element:E,colspan:1,rowspan:1});return Nc(B,"width"),Nc(E,"width"),P.each(q=>gr(B,"scope",q)),B}},merge:E=>{const P=()=>{const B=Ff(an(E,dt));if(B.length===0)return ue.none();{const q=B[0],ee=["row","col"];return ot(B,we=>we!==q&&Ht(ee,we))?ue.none():ue.from(q)}};return Nc(E[0],"width"),P().fold(()=>Zs(E[0],"scope"),B=>gr(E[0],"scope",B+"group")),ne(E[0])}})},mp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Mb=(p,b)=>{const k=p.property().name(b);return Ht(["ol","ul"],k)},Go=(p,b)=>{const k=p.property().name(b);return Ht(mp,k)},lk=(p,b)=>Ht(["br","img","hr","input"],p.property().name(b)),Pb=ud(),ga=p=>Go(Pb,p),hf=p=>Mb(Pb,p),_I=p=>lk(Pb,p),iE=p=>{const b=gi("br"),k=ce=>re(ce,we=>b(we)||Oc(we)&&ss(we).trim().length===0),E=ce=>bs(ce)==="li"||$r(ce,hf).isSome(),P=ce=>Qu(ce).map(we=>ga(we)?!0:_I(we)?bs(we)!=="img":!1).getOr(!1),B=ce=>Xf(ce).bind(we=>{const Pe=P(we);return hu(we).map(At=>Pe===!0||E(At)||b(we)||ga(At)&&!vs(ce,At)?[]:[ze.fromTag("br")])}).getOr([]),ee=(()=>{const ce=Tt(p,we=>{const Pe=Jo(we);return k(Pe)?[]:Pe.concat(B(we))});return ce.length===0?[ze.fromTag("br")]:ce})();Mi(p[0]),nl(p[0],ee)},lE=p=>jl(p,!0),Vg=p=>{Yd(p).length===0&&Kr(p)},Hg=(p,b)=>({grid:p,cursor:b}),sw=p=>Qe(p,b=>Qe(b.cells,k=>{const E=k.element;return Qy(lE(E),E)})),ck=(p,b,k)=>{var E,P;const B=ha(p).rows;return ue.from((P=(E=B[b])===null||E===void 0?void 0:E.cells[k])===null||P===void 0?void 0:P.element).filter(lE).orThunk(()=>sw(B))},cl=(p,b,k)=>{const E=ck(p,b,k);return Hg(p,E)},Ug=p=>Ee(p,(k,E)=>ot(k,B=>B.row===E.row)?k:k.concat([E]),[]).sort((k,E)=>k.row-E.row),zb=(p,b,k,E)=>{const P=b[0].row,B=Ug(b),q=Et(B,(ee,ce)=>({grid:rm(ee.grid,P,ce.row+ee.delta,k,E.getOrInit),delta:ee.delta+1}),{grid:p,delta:0}).grid;return cl(q,P,b[0].column)},cE=(p,b,k,E)=>{const P=Ug(b),B=P[P.length-1],q=B.row+B.rowspan,ee=Et(P,(ce,we)=>rm(ce,q,we.row,k,E.getOrInit),p);return cl(ee,q,b[0].column)},pp=(p,b,k,E)=>{const P=b.details,B=ih(P),q=B[0].column,ee=Et(B,(ce,we)=>({grid:Jx(ce.grid,q,we.column+ce.delta,k,E.getOrInit),delta:ce.delta+1}),{grid:p,delta:0}).grid;return cl(ee,P[0].row,q)},yc=(p,b,k,E)=>{const P=b.details,B=P[P.length-1],q=B.column+B.colspan,ee=ih(P),ce=Et(ee,(we,Pe)=>Jx(we,q,Pe.column,k,E.getOrInit),p);return cl(ce,P[0].row,q)},uk=(p,b,k,E)=>{const P=ih(b),B=an(P,ee=>ee.column),q=tE(p,B,!0,k,E.replaceOrInit);return cl(q,b[0].row,b[0].column)},Ya=(p,b,k,E)=>{const P=xl(p,b,k,E.replaceOrInit);return cl(P,b[0].row,b[0].column)},uE=(p,b,k,E)=>{const P=ih(b),B=an(P,ee=>ee.column),q=tE(p,B,!1,k,E.replaceOrInit);return cl(q,b[0].row,b[0].column)},lh=(p,b,k,E)=>{const P=xl(p,b,k,E.replaceOrInit);return cl(P,b[0].row,b[0].column)},rw=(p,b)=>(k,E,P,B,q)=>{const ee=Ug(E),ce=an(ee,Pe=>Pe.row),we=Ab(k,ce,p,b,P,B.replaceOrInit,q);return cl(we,E[0].row,E[0].column)},dk=rw("thead",!0),dE=rw("tbody",!1),fk=rw("tfoot",!1),aw=(p,b,k,E)=>{const P=ih(b.details),B=yI(p,an(P,ee=>ee.column)),q=B.length>0?B[0].cells.length-1:0;return cl(B,P[0].row,Math.min(P[0].column,q))},hk=(p,b,k,E)=>{const P=Ug(b),B=Qx(p,P[0].row,P[P.length-1].row),q=B.length>0?B.length-1:0;return cl(B,Math.min(b[0].row,q),b[0].column)},kI=(p,b,k,E)=>{const P=b.cells;iE(P);const B=Jr(p,b.bounds,k,E.merge(P));return Hg(B,ue.from(P[0]))},mk=(p,b,k,E)=>{const B=Et(b,(q,ee)=>Ux(q,ee,k,E.unmerge(ee)),p);return Hg(B,ue.from(b[0]))},Xa=(p,b,k,E)=>{const B=((ce,we)=>{const Pe=go.fromTable(ce);return Wc(Pe,we,!0)})(b.clipboard,b.generators),q=Hm(b.row,b.column);return Gx(q,p,B,b.generators,k).fold(()=>Hg(p,ue.some(b.element)),ce=>cl(ce,b.row,b.column))},Qr=(p,b,k)=>{const E=Km(p,k.section),P=go.generate(E);return Wc(P,b,!0)},Gl=(p,b,k,E)=>{const P=ha(p).rows,B=b.cells[0].column,q=P[b.cells[0].row],ee=Qr(b.clipboard,b.generators,q),ce=qx(B,p,ee,b.generators,k);return cl(ce,b.cells[0].row,b.cells[0].column)},Xs=(p,b,k,E)=>{const P=ha(p).rows,B=b.cells[b.cells.length-1].column+b.cells[b.cells.length-1].colspan,q=P[b.cells[0].row],ee=Qr(b.clipboard,b.generators,q),ce=qx(B,p,ee,b.generators,k);return cl(ce,b.cells[0].row,b.cells[0].column)},Gc=(p,b,k,E)=>{const P=ha(p).rows,B=b.cells[0].row,q=P[B],ee=Qr(b.clipboard,b.generators,q),ce=Kx(B,p,ee,b.generators,k);return cl(ce,b.cells[0].row,b.cells[0].column)},Js=(p,b,k,E)=>{const P=ha(p).rows,B=b.cells[b.cells.length-1].row+b.cells[b.cells.length-1].rowspan,q=P[b.cells[0].row],ee=Qr(b.clipboard,b.generators,q),ce=Kx(B,p,ee,b.generators,k);return cl(ce,b.cells[0].row,b.cells[0].column)},pk=(p,b)=>{const k=go.fromTable(p);return nm(k,b).bind(P=>{const B=P[P.length-1],q=P[0].column,ee=B.column+B.colspan,ce=Xe(an(k.all,we=>uo(we.cells,Pe=>Pe.column>=q&&Pe.column<ee)));return K1(ce)}).getOr("")},gk=(p,b)=>{const k=go.fromTable(p);return nm(k,b).bind(K1).getOr("")},fE=(p,b)=>{const k=go.fromTable(p);return nm(k,b).bind(P=>{const B=P[P.length-1],q=P[0].row,ee=B.row+B.rowspan,ce=k.all.slice(q,ee);return tm(ce)}).getOr("")},iw=(p,b,k,E)=>rE(p,b,k,E.sizing),Nb=(p,b,k,E)=>Db(p,b,k,E.sizing,E.resize),lw=(p,b)=>ot(b,k=>k.column===0&&k.isLocked),cw=(p,b)=>ot(b,k=>k.column+k.colspan>=p.grid.columns&&k.isLocked),Lb=(p,b)=>{const k=wg(p),E=ih(b);return Ee(E,(P,B)=>{const ee=k[B.column].map(Wf).getOr(0);return P+ee},0)},hE=p=>(b,k)=>nm(b,k).filter(E=>!(p?lw:cw)(b,E)).map(E=>({details:E,pixelDelta:Lb(b,E)})),mE=(p,b)=>om(p,b).map(k=>({details:k,pixelDelta:-Lb(p,k)})),pE=p=>(b,k)=>$x(b,k).filter(E=>!(p?lw:cw)(b,E.cells)),yk=ir.transform("th"),uw=ir.transform("td"),dw=Oa(zb,nm,xe,xe,ir.modification),mn=Oa(cE,nm,xe,xe,ir.modification),bk=Oa(pp,hE(!0),Nb,xe,ir.modification),gE=Oa(yc,hE(!1),Nb,xe,ir.modification),CI=Oa(aw,mE,Nb,Vg,ir.modification),yE=Oa(hk,nm,xe,Vg,ir.modification),Lt=Oa(uk,om,xe,xe,yk),bE=Oa(uE,om,xe,xe,uw),Ja=Oa(dk,om,xe,xe,yk),SI=Oa(dE,om,xe,xe,uw),vk=Oa(fk,om,xe,xe,uw),xI=Oa(Ya,om,xe,xe,yk),Pr=Oa(lh,om,xe,xe,uw),fw=Oa(kI,hd,iw,xe,ir.merging),EI=Oa(mk,ll,iw,xe,ir.merging),Su=Oa(Xa,Bx,iw,xe,ir.modification),wk=Oa(Gl,pE(!0),xe,xe,ir.modification),Fb=Oa(Xs,pE(!1),xe,xe,ir.modification),mf=Oa(Gc,$x,xe,xe,ir.modification),xu=Oa(Js,$x,xe,xe,ir.modification),hw=pk,Eu=gk,vE=fE,_k=(p,b)=>p.dispatch("NewRow",{node:b}),mw=(p,b)=>p.dispatch("NewCell",{node:b}),lm=(p,b,k)=>{p.dispatch("TableModified",{...k,table:b})},wE=(p,b,k,E,P)=>{p.dispatch("TableSelectionChange",{cells:b,start:k,finish:E,otherCells:P})},kk=p=>{p.dispatch("TableSelectionClear")},TI=(p,b,k,E,P)=>{p.dispatch("ObjectResizeStart",{target:b,width:k,height:E,origin:P})},pw=(p,b,k,E,P)=>{p.dispatch("ObjectResized",{target:b,width:k,height:E,origin:P})},Bb={structure:!1,style:!0},Qa={structure:!0,style:!1},_E={structure:!0,style:!0},jg=p=>b=>b.options.get(p),kE="100%",gw=p=>{var b;const k=p.dom,E=(b=k.getParent(p.selection.getStart(),k.isBlock))!==null&&b!==void 0?b:p.getBody();return to(ze.fromDom(E))+"px"},CE=(p,b)=>ns(p)||!Zi(p)?b:pd(p)?{...b,width:gw(p)}:{...b,width:kE},SE=(p,b)=>ns(p)||Zi(p)?b:pd(p)?{...b,width:gw(p)}:{...b,width:kE},RI=p=>{const b=p.options.register;b("table_clone_elements",{processor:"string[]"}),b("table_use_colgroups",{processor:"boolean",default:!0}),b("table_header_type",{processor:k=>{const E=Ht(["section","cells","sectionCells","auto"],k);return E?{value:k,valid:E}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),b("table_sizing_mode",{processor:"string",default:"auto"}),b("table_default_attributes",{processor:"object",default:{border:"1"}}),b("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),b("table_column_resizing",{processor:k=>{const E=Ht(["preservetable","resizetable"],k);return E?{value:k,valid:E}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),b("table_resize_bars",{processor:"boolean",default:!0}),b("table_style_by_css",{processor:"boolean",default:!0})},Wg=p=>ue.from(p.options.get("table_clone_elements")),AI=p=>{const b=p.options.get("object_resizing");return Ht(b.split(","),"table")},xE=jg("table_header_type"),yw=jg("table_column_resizing"),EE=p=>yw(p)==="preservetable",gp=p=>yw(p)==="resizetable",$b=jg("table_sizing_mode"),Zg=p=>$b(p)==="relative",pd=p=>$b(p)==="fixed",ns=p=>$b(p)==="responsive",TE=jg("table_resize_bars"),Zi=jg("table_style_by_css"),Ck=p=>{const b=p.options,k=b.get("table_default_attributes");return b.isSet("table_default_attributes")?k:SE(p,k)},RE=p=>{const b=p.options,k=b.get("table_default_styles");return b.isSet("table_default_styles")?k:CE(p,k)},AE=jg("table_use_colgroups"),yp=(p,b)=>Zg(p)?O.percentageSize(b):pd(p)?O.pixelSize(b):O.getTableSize(b),II=(p,b,k)=>{const E=Tl=>bs(nf(Tl))==="table",P=Tl=>!E(p)||cp(Tl).rows>1,B=Tl=>!E(p)||cp(Tl).columns>1,q=Wg(p),ee=gp(p)?xe:Cb,ce=Tl=>{switch(xE(p)){case"section":return cf.section();case"sectionCells":return cf.sectionCells();case"cells":return cf.cells();default:return cf.getTableSectionType(Tl,"section")}},we=(Tl,r_)=>r_.cursor.fold(()=>{const gv=Yd(Tl);return le(gv).filter(G).map(Yc=>{k.clearSelectedCells(Tl.dom);const Hs=p.dom.createRng();return Hs.selectNode(Yc.dom),p.selection.setRng(Hs),gr(Yc,"data-mce-selected","1"),Hs})},gv=>{const Yc=cI(gv),Hs=p.dom.createRng();return Hs.setStart(Yc.element.dom,Yc.offset),Hs.setEnd(Yc.element.dom,Yc.offset),p.selection.setRng(Hs),k.clearSelectedCells(Tl.dom),ue.some(Hs)}),Pe=(Tl,r_,gv,Yc)=>(Hs,zO,M2=!1)=>{jc(Hs);const P2=ze.fromDom(p.getDoc()),NO=Jf(gv,P2,q),LO={sizing:yp(p,Hs),resize:gp(p)?Mx():Fg(),section:ce(Hs)};return r_(Hs)?Tl(Hs,zO,NO,LO).bind(bm=>{b.refresh(Hs.dom),it(bm.newRows,yv=>{_k(p,yv.dom)}),it(bm.newCells,yv=>{mw(p,yv.dom)});const _C=we(Hs,bm);return G(Hs)&&(jc(Hs),M2||lm(p,Hs.dom,Yc)),_C.map(yv=>({rng:yv,effect:Yc}))}):ue.none()},At=Pe(yE,P,xe,Qa),Xt=Pe(CI,B,xe,Qa),jt=Pe(dw,je,xe,Qa),_t=Pe(mn,je,xe,Qa),qt=Pe(bk,je,ee,Qa),gt=Pe(gE,je,ee,Qa),hn=Pe(fw,je,xe,Qa),Fn=Pe(EI,je,xe,Qa),Qn=Pe(wk,je,xe,Qa),Es=Pe(Fb,je,xe,Qa),Na=Pe(mf,je,xe,Qa),kr=Pe(xu,je,xe,Qa),El=Pe(Su,je,xe,_E),ym=Pe(xI,je,xe,Qa),o_=Pe(Pr,je,xe,Qa),wC=Pe(Lt,je,xe,Qa),s_=Pe(bE,je,xe,Qa),ls=Pe(Ja,je,xe,Qa),dl=Pe(SI,je,xe,Qa),fl=Pe(vk,je,xe,Qa);return{deleteRow:At,deleteColumn:Xt,insertRowsBefore:jt,insertRowsAfter:_t,insertColumnsBefore:qt,insertColumnsAfter:gt,mergeCells:hn,unmergeCells:Fn,pasteColsBefore:Qn,pasteColsAfter:Es,pasteRowsBefore:Na,pasteRowsAfter:kr,pasteCells:El,makeCellsHeader:ym,unmakeCellsHeader:o_,makeColumnsHeader:wC,unmakeColumnsHeader:s_,makeRowsHeader:ls,makeRowsBody:dl,makeRowsFooter:fl,getTableRowType:vE,getTableCellType:Eu,getTableColType:hw}},IE=(p,b,k)=>{const E=_i(p,b,1);k===1||E<=1?Zs(p,b):gr(p,b,Math.min(k,E))},OE=(p,b)=>k=>{const E=k.column+k.colspan-1,P=k.column;return E>=p&&P<b},OI=(p,b,k)=>{if(go.hasColumns(p)){const E=uo(go.justColumns(p),OE(b,k)),P=an(E,q=>{const ee=Ml(q.element);return IE(ee,"span",k-b),ee}),B=ze.fromTag("colgroup");return nl(B,P),[B]}else return[]},DI=(p,b,k)=>an(p.all,E=>{const P=uo(E.cells,OE(b,k)),B=an(P,ee=>{const ce=Ml(ee.element);return IE(ce,"colspan",k-b),ce}),q=ze.fromTag("tr");return nl(q,B),q}),MI=(p,b)=>{const k=go.fromTable(p);return om(k,b).map(P=>{const B=P[P.length-1],q=P[0].column,ee=B.column+B.colspan,ce=OI(k,q,ee),we=DI(k,q,ee);return[...ce,...we]})},DE=(p,b,k)=>{const E=go.fromTable(p);return nm(E,b).bind(B=>{const q=Wc(E,k,!1),ce=ha(q).rows.slice(B[0].row,B[B.length-1].row+B[B.length-1].rowspan),we=Tt(ce,At=>{const Xt=uo(At.cells,jt=>!jt.isLocked);return Xt.length>0?[{...At,cells:Xt}]:[]}),Pe=J1(we);return Qy(Pe.length>0,Pe)}).map(B=>ps(B))},Gg=Ys.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Vb=(p,b,k)=>{const E=k.substring(0,k.length-p.length),P=parseFloat(E);return E===P.toString()?b(P):Gg.invalid(k)},bp={...Gg,from:p=>si(p,"%")?Vb("%",Gg.percent,p):si(p,"px")?Vb("px",Gg.pixels,p):Gg.invalid(p)},PI=(p,b)=>an(p,k=>bp.from(k).fold(()=>k,P=>P/b*100+"%",P=>P+"%")),zI=(p,b,k)=>{const E=k/b;return an(p,P=>bp.from(P).fold(()=>P,q=>q*E+"px",q=>q/100*k+"px"))},ME=(p,b)=>{const k=p.fold(()=>ne(""),E=>{const P=E/b;return ne(P+"px")},()=>{const E=100/b;return ne(E+"%")});return Nn(b,k)},PE=(p,b,k)=>p.fold(()=>b,E=>zI(b,k,E),E=>PI(b,k)),zE=(p,b,k)=>{const E=bp.from(k),P=re(p,B=>B==="0px")?ME(E,p.length):PE(E,p,b);return LI(P)},vp=(p,b)=>p.length===0?b:Et(p,(k,E)=>bp.from(E).fold(ne(0),vt,vt)+k,0),NE=(p,b)=>{const k=Math.floor(p);return{value:k+b,remainder:p-k}},NI=(p,b)=>bp.from(p).fold(ne(p),k=>k+b+"px",k=>k+b+"%"),LI=p=>{if(p.length===0)return p;const b=Et(p,(E,P)=>{const B=bp.from(P).fold(()=>({value:P,remainder:0}),q=>NE(q,"px"),q=>({value:q+"%",remainder:0}));return{output:[B.value].concat(E.output),remainder:E.remainder+B.remainder}},{output:[],remainder:0}),k=b.output;return k.slice(0,k.length-1).concat([NI(k[k.length-1],Math.round(b.remainder))])},FI=bp.from,qg=(p,b,k)=>{it(b,E=>{const P=p.slice(E.column,E.colspan+E.column),B=vp(P,vl());Cs(E.element,"width",B+k)})},wp=(p,b,k)=>{it(b,(E,P)=>{const B=vp([p[P]],vl());Cs(E.element,"width",B+k)})},bw=(p,b,k,E)=>{it(k,P=>{const B=p.slice(P.row,P.rowspan+P.row),q=vp(B,Zm());Cs(P.element,"height",q+E)}),it(b,(P,B)=>{Cs(P.element,"height",p[B])})},vw=p=>FI(p).fold(ne("px"),ne("px"),ne("%")),LE=(p,b,k)=>{const E=go.fromTable(p),P=E.all,B=go.justCells(E),q=go.justColumns(E);b.each(ee=>{const ce=vw(ee),we=bu(p),Pe=op(E,p),At=zE(Pe,we,ee);go.hasColumns(E)?wp(At,q,ce):qg(At,B,ce),Cs(p,"width",ee)}),k.each(ee=>{const ce=vw(ee),we=fc(p),Pe=Kh(E,p,rd),At=zE(Pe,we,ee);bw(At,P,B,ce),Cs(p,"height",ee)})},pf=gb,ww=mc,FE=H0,gd=p=>{Zs(p,"width")},cm=p=>{const b=vu(p);LE(p,ue.some(b),ue.none()),gd(p)},Sk=p=>{const b=wr(p);LE(p,ue.some(b),ue.none()),gd(p)},BE=p=>{Nc(p,"width");const b=Gm(p),k=b.length>0?b:Yd(p);it(k,E=>{Nc(E,"width"),gd(E)}),gd(p)},BI={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},$E=()=>ze.fromTag("th"),VE=()=>ze.fromTag("td"),$I=()=>ze.fromTag("col"),VI=(p,b,k,E)=>{const P=ze.fromTag("tr");for(let B=0;B<p;B++){const q=E<b||B<k?$E():VE();B<k&&gr(q,"scope","row"),E<b&&gr(q,"scope","col"),Gs(q,ze.fromTag("br")),Gs(P,q)}return P},HE=p=>{const b=ze.fromTag("colgroup");return Nn(p,()=>Gs(b,$I())),b},_w=(p,b,k,E)=>Nn(p,P=>VI(b,k,E,P)),UE=(p,b,k,E,P,B=BI)=>{const q=ze.fromTag("table"),ee=P!=="cells";wi(q,B.styles),Dc(q,B.attributes),B.colGroups&&Gs(q,HE(b));const ce=Math.min(p,k);if(ee&&k>0){const jt=ze.fromTag("thead");Gs(q,jt);const qt=_w(k,b,P==="sectionCells"?ce:0,E);nl(jt,qt)}const we=ze.fromTag("tbody");Gs(q,we);const Pe=ee?p-ce:p,Xt=_w(Pe,b,ee?0:k,E);return nl(we,Xt),q},HI=p=>p.dom.innerHTML,UI=p=>{const b=ze.fromTag("div"),k=ze.fromDom(p.dom.cloneNode(!0));return Gs(b,k),HI(b)},jI=(p,b)=>{p.selection.select(b.dom,!0),p.selection.collapse(!0)},xk=(p,b)=>{zi(b,"td,th").each(We(jI,p))},jE=(p,b)=>{it(da(b,"tr"),k=>{_k(p,k.dom),it(da(k,"th,td"),E=>{mw(p,E.dom)})})},WE=p=>w(p)&&p.indexOf("%")!==-1,ZE=(p,b,k,E,P)=>{const B=RE(p),q={styles:B,attributes:Ck(p),colGroups:AE(p)};return p.undoManager.ignore(()=>{const ee=UE(k,b,P,E,xE(p),q);gr(ee,"data-mce-id","__mce");const ce=UI(ee);p.insertContent(ce),p.addVisual()}),zi(nf(p),'table[data-mce-id="__mce"]').map(ee=>(pd(p)?Sk(ee):ns(p)?BE(ee):(Zg(p)||WE(B.width))&&cm(ee),jc(ee),Zs(ee,"data-mce-id"),jE(p,ee),xk(p,ee),ee.dom)).getOrNull()},GE=(p,b,k,E={})=>{const P=B=>Ne(B)&&B>0;if(P(b)&&P(k)){const B=E.headerRows||0,q=E.headerColumns||0;return ZE(p,k,b,q,B)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var Hb=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Ek="x-tinymce/dom-table-",Tk=Ek+"rows",Ub=Ek+"columns",kw=p=>{const b=Hb.FakeClipboardItem(p);Hb.write([b])},Rk=p=>{var b;const k=(b=Hb.read())!==null&&b!==void 0?b:[];return Qe(k,E=>ue.from(E.getType(p)))},qE=p=>{Rk(p).isSome()&&Hb.clear()},KE=p=>{p.fold(WI,b=>kw({[Tk]:b}))},um=()=>Rk(Tk),WI=()=>qE(Tk),YE=p=>{p.fold(ZI,b=>kw({[Ub]:b}))},jb=()=>Rk(Ub),ZI=()=>qE(Ub),Cw=p=>w4(yb(p),ku(p)).filter(of),GI=p=>Ax(yb(p),ku(p)).filter(of),qI=(p,b)=>{const k=ku(p),E=()=>Cw(p).each(gt=>{Or(gt,k).filter(J(k)).each(hn=>{const Fn=ze.fromText("");if(yl(hn,Fn),Kr(hn),p.dom.isEmpty(p.getBody()))p.setContent(""),p.selection.setCursorLocation();else{const Qn=p.dom.createRng();Qn.setStart(Fn.dom,0),Qn.setEnd(Fn.dom,0),p.selection.setRng(Qn),p.nodeChanged()}})}),P=gt=>Cw(p).each(hn=>{ns(p)||pd(p)||Zg(p)||Or(hn,k).each(Qn=>{gt==="relative"&&!pf(Qn)?cm(Qn):gt==="fixed"&&!ww(Qn)?Sk(Qn):gt==="responsive"&&!FE(Qn)&&BE(Qn),jc(Qn),lm(p,Qn.dom,Qa)})}),B=gt=>Or(gt,k),q=gt=>GI(p).bind(hn=>B(hn).map(Fn=>gt(Fn,hn))),ee=(gt,hn)=>{q(Fn=>{p.formatter.toggle("tableclass",{value:hn},Fn.dom),lm(p,Fn.dom,Bb)})},ce=(gt,hn)=>{q(Fn=>{const Qn=il(p),Na=re(Qn,kr=>p.formatter.match("tablecellclass",{value:hn},kr.dom))?p.formatter.remove:p.formatter.apply;it(Qn,kr=>Na("tablecellclass",{value:hn},kr.dom)),lm(p,Fn.dom,Bb)})},we=()=>{Cw(p).each(gt=>{Or(gt,k).each(hn=>{gu(hn,"caption").fold(()=>{const Fn=ze.fromTag("caption");Gs(Fn,ze.fromText("Caption")),Xy(hn,Fn,0),p.selection.setCursorLocation(Fn.dom,0)},Fn=>{gi("caption")(gt)&&Bm("td",hn).each(Qn=>p.selection.setCursorLocation(Qn.dom,0)),Kr(Fn)}),lm(p,hn.dom,Qa)})})},Pe=gt=>{p.focus()},At=(gt,hn=!1)=>q((Fn,Qn)=>{const Es=Ng(il(p),Fn,Qn);gt(Fn,Es,hn).each(Pe)}),Xt=()=>q((gt,hn)=>{const Fn=Ng(il(p),gt,hn),Qn=Jf(xe,ze.fromDom(p.getDoc()),ue.none());return DE(gt,Fn,Qn)}),jt=()=>q((gt,hn)=>{const Fn=Ng(il(p),gt,hn);return MI(gt,Fn)}),_t=(gt,hn)=>hn().each(Fn=>{const Qn=an(Fn,Es=>Ml(Es));q((Es,Na)=>{const kr=Qf(ze.fromDom(p.getDoc())),El=iI(il(p),Na,Qn,kr);gt(Es,El).each(Pe)})}),qt=gt=>(hn,Fn)=>Un(Fn,"type").each(Qn=>{At(gt(Qn),Fn.no_events)});ye({mceTableSplitCells:()=>At(b.unmergeCells),mceTableMergeCells:()=>At(b.mergeCells),mceTableInsertRowBefore:()=>At(b.insertRowsBefore),mceTableInsertRowAfter:()=>At(b.insertRowsAfter),mceTableInsertColBefore:()=>At(b.insertColumnsBefore),mceTableInsertColAfter:()=>At(b.insertColumnsAfter),mceTableDeleteCol:()=>At(b.deleteColumn),mceTableDeleteRow:()=>At(b.deleteRow),mceTableCutCol:()=>jt().each(gt=>{YE(gt),At(b.deleteColumn)}),mceTableCutRow:()=>Xt().each(gt=>{KE(gt),At(b.deleteRow)}),mceTableCopyCol:()=>jt().each(gt=>YE(gt)),mceTableCopyRow:()=>Xt().each(gt=>KE(gt)),mceTablePasteColBefore:()=>_t(b.pasteColsBefore,jb),mceTablePasteColAfter:()=>_t(b.pasteColsAfter,jb),mceTablePasteRowBefore:()=>_t(b.pasteRowsBefore,um),mceTablePasteRowAfter:()=>_t(b.pasteRowsAfter,um),mceTableDelete:E,mceTableCellToggleClass:ce,mceTableToggleClass:ee,mceTableToggleCaption:we,mceTableSizingMode:(gt,hn)=>P(hn),mceTableCellType:qt(gt=>gt==="th"?b.makeCellsHeader:b.unmakeCellsHeader),mceTableColType:qt(gt=>gt==="th"?b.makeColumnsHeader:b.unmakeColumnsHeader),mceTableRowType:qt(gt=>{switch(gt){case"header":return b.makeRowsHeader;case"footer":return b.makeRowsFooter;default:return b.makeRowsBody}})},(gt,hn)=>p.addCommand(hn,gt)),p.addCommand("mceInsertTable",(gt,hn)=>{GE(p,hn.rows,hn.columns,hn.options)}),p.addCommand("mceTableApplyCellStyle",(gt,hn)=>{const Fn=Na=>"tablecell"+Na.toLowerCase().replace("-","");if(!x(hn))return;const Qn=uo(il(p),of);if(Qn.length===0)return;const Es=Vt(hn,(Na,kr)=>p.formatter.has(Fn(kr))&&w(Na));Io(Es)||(ye(Es,(Na,kr)=>{const El=Fn(kr);it(Qn,ym=>{Na===""?p.formatter.remove(El,{value:null},ym.dom,!0):p.formatter.apply(El,{value:Na},ym.dom)})}),B(Qn[0]).each(Na=>lm(p,Na.dom,Bb)))})},XE=(p,b)=>{const k=ku(p),E=P=>Ax(yb(p)).bind(B=>Or(B,k).map(q=>{const ee=Ng(il(p),q,B);return P(q,ee)})).getOr("");ye({mceTableRowType:()=>E(b.getTableRowType),mceTableCellType:()=>E(b.getTableCellType),mceTableColType:()=>E(b.getTableColType)},(P,B)=>p.addQueryValueHandler(B,P))},_p=Ys.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Wb=(p,b,k,E)=>p.fold(b,k,E),Zb=p=>p.fold(vt,vt,vt),Ak=_p.before,KI=_p.on,Ik=_p.after,Ti={before:Ak,on:KI,after:Ik,cata:Wb,getStart:Zb},Kg={create:(p,b)=>({selection:p,kill:b})},YI=(p,b)=>{const k=p.document.createRange();return k.selectNode(b.dom),k},Gb=(p,b)=>{const k=p.document.createRange();return kp(k,b),k},kp=(p,b)=>p.selectNodeContents(b.dom),Cp=(p,b)=>{b.fold(k=>{p.setStartBefore(k.dom)},(k,E)=>{p.setStart(k.dom,E)},k=>{p.setStartAfter(k.dom)})},Sw=(p,b)=>{b.fold(k=>{p.setEndBefore(k.dom)},(k,E)=>{p.setEnd(k.dom,E)},k=>{p.setEndAfter(k.dom)})},Yg=(p,b,k)=>{const E=p.document.createRange();return Cp(E,b),Sw(E,k),E},xw=(p,b,k,E,P)=>{const B=p.document.createRange();return B.setStart(b.dom,k),B.setEnd(E.dom,P),B},dm=p=>({left:p.left,top:p.top,right:p.right,bottom:p.bottom,width:p.width,height:p.height}),zr=p=>{const b=p.getClientRects(),k=b.length>0?b[0]:p.getBoundingClientRect();return k.width>0||k.height>0?ue.some(k).map(dm):ue.none()},Sp=Ys.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ok=(p,b,k)=>b(ze.fromDom(k.startContainer),k.startOffset,ze.fromDom(k.endContainer),k.endOffset),XI=(p,b)=>b.match({domRange:k=>({ltr:ne(k),rtl:ue.none}),relative:(k,E)=>({ltr:Hf(()=>Yg(p,k,E)),rtl:Hf(()=>ue.some(Yg(p,E,k)))}),exact:(k,E,P,B)=>({ltr:Hf(()=>xw(p,k,E,P,B)),rtl:Hf(()=>ue.some(xw(p,P,B,k,E)))})}),Dk=(p,b)=>{const k=b.ltr();return k.collapsed?b.rtl().filter(P=>P.collapsed===!1).map(P=>Sp.rtl(ze.fromDom(P.endContainer),P.endOffset,ze.fromDom(P.startContainer),P.startOffset)).getOrThunk(()=>Ok(p,Sp.ltr,k)):Ok(p,Sp.ltr,k)},Xg=(p,b)=>{const k=XI(p,b);return Dk(p,k)},xp=(p,b)=>Xg(p,b).match({ltr:(E,P,B,q)=>{const ee=p.document.createRange();return ee.setStart(E.dom,P),ee.setEnd(B.dom,q),ee},rtl:(E,P,B,q)=>{const ee=p.document.createRange();return ee.setStart(B.dom,q),ee.setEnd(E.dom,P),ee}});Sp.ltr,Sp.rtl;const Jg={create:(p,b,k,E)=>({start:p,soffset:b,finish:k,foffset:E})},qb={create:(p,b,k,E)=>({start:Ti.on(p,b),finish:Ti.on(k,E)})},QE=(p,b)=>{const k=xp(p,b);return Jg.create(ze.fromDom(k.startContainer),k.startOffset,ze.fromDom(k.endContainer),k.endOffset)},ch=qb.create,Ew=(p,b,k,E,P,B,q)=>vs(k,P)&&E===B?ue.none():br(k,"td,th",b).bind(ee=>br(P,"td,th",b).bind(ce=>ya(p,b,ee,ce,q))),ya=(p,b,k,E,P)=>vs(k,E)?ue.none():wb(k,E,b).bind(B=>{const q=B.boxes.getOr([]);return q.length>1?(P(p,q,B.start,B.finish),ue.some(Kg.create(ue.some(ch(k,0,k,Aa(k))),!0))):ue.none()}),e2=(p,b,k,E,P)=>{const B=q=>(P.clearBeforeUpdate(k),P.selectRange(k,q.boxes,q.start,q.finish),q.boxes);return Y0(E,p,b,P.firstSelectedSelector,P.lastSelectedSelector).map(B)},Tu=(p,b)=>({item:p,mode:b}),zk=(p,b,k,E=yd)=>p.property().parent(b).map(P=>Tu(P,E)),yd=(p,b,k,E=bd)=>k.sibling(p,b).map(P=>Tu(P,E)),bd=(p,b,k,E=bd)=>{const P=p.property().children(b);return k.first(P).map(q=>Tu(q,E))},Nk=[{current:zk,next:yd,fallback:ue.none()},{current:yd,next:bd,fallback:ue.some(zk)},{current:bd,next:bd,fallback:ue.some(yd)}],Qg=(p,b,k,E,P=Nk)=>j(P,q=>q.current===k).bind(q=>q.current(p,b,E,q.next).orThunk(()=>q.fallback.bind(ee=>Qg(p,b,ee,E)))),Tw={left:()=>({sibling:(k,E)=>k.query().prevSibling(E),first:k=>k.length>0?ue.some(k[k.length-1]):ue.none()}),right:()=>({sibling:(k,E)=>k.query().nextSibling(E),first:k=>k.length>0?ue.some(k[0]):ue.none()})},Rw=(p,b,k,E,P,B)=>Qg(p,b,E,P).bind(ee=>B(ee.item)?ue.none():k(ee.item)?ue.some(ee.item):Rw(p,ee.item,k,ee.mode,P,B)),Aw=(p,b,k,E)=>Rw(p,b,k,yd,Tw.left(),E),vd=(p,b,k,E)=>Rw(p,b,k,yd,Tw.right(),E),Lk=p=>b=>p.property().children(b).length===0,QI=(p,b,k)=>Fk(p,b,Lk(p),k),n2=(p,b,k)=>Bk(p,b,Lk(p),k),Fk=Aw,Bk=vd,Iw=ud(),o2=(p,b)=>QI(Iw,p,b),bc=(p,b)=>n2(Iw,p,b),Ow=(p,b,k)=>Fk(Iw,p,b,k),s2=(p,b,k)=>Bk(Iw,p,b,k),ey=(p,b,k)=>$r(p,b,k).isSome(),Ri=Ys.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Ru=(p,b,k)=>{const E=p.getRect(b),P=p.getRect(k);return P.right>E.left&&P.left<E.right},ql=p=>br(p,"tr"),ul={...Ri,verify:(p,b,k,E,P,B,q)=>br(E,"td,th",q).bind(ee=>br(b,"td,th",q).map(ce=>vs(ee,ce)?vs(E,ee)&&Aa(ee)===P?B(ce):Ri.none("in same cell"):zo(ql,[ee,ce]).fold(()=>Ru(p,ce,ee)?Ri.success():B(ce),we=>B(ce)))).getOr(Ri.none("default")),cata:(p,b,k,E,P)=>p.fold(b,k,E,P)},ea=(p,b,k,E)=>({parent:p,children:b,element:k,index:E}),$k=p=>hu(p).bind(b=>{const k=Jo(b);return Kb(k,p).map(E=>ea(b,k,p,E))}),Kb=(p,b)=>lt(p,We(vs,b)),Ep=gi("br"),Yb=(p,b,k)=>b(p,k).bind(E=>Oc(E)&&ss(E).trim().length===0?Yb(E,b,k):ue.some(E)),Dw=(p,b,k)=>k.traverse(b).orThunk(()=>Yb(b,k.gather,p)).map(k.relative),Xb=(p,b)=>tl(p,b).filter(Ep).orThunk(()=>tl(p,b-1).filter(Ep)),r2=(p,b,k,E)=>Xb(b,k).bind(P=>E.traverse(P).fold(()=>Yb(P,E.gather,p).map(E.relative),B=>$k(B).map(q=>Ti.on(q.parent,q.index)))),tO=(p,b,k,E)=>(Ep(b)?Dw(p,b,E):r2(p,b,k,E)).map(B=>({start:B,finish:B})),nO=p=>ul.cata(p,b=>ue.none(),()=>ue.none(),b=>ue.some(em(b,0)),b=>ue.some(em(b,Aa(b)))),gf=(p,b)=>({left:p.left,top:p.top+b,right:p.right,bottom:p.bottom+b}),Jb=(p,b)=>({left:p.left,top:p.top-b,right:p.right,bottom:p.bottom-b}),Mw=(p,b,k)=>({left:p.left+b,top:p.top+k,right:p.right+b,bottom:p.bottom+k}),yf=p=>p.top,Pw=p=>p.bottom,zw=(p,b,k)=>k>=0&&k<Aa(b)?p.getRangedRect(b,k,b,k+1):k>0?p.getRangedRect(b,k-1,b,k):ue.none(),Tp=p=>({left:p.left,top:p.top,right:p.right,bottom:p.bottom}),Vk=(p,b)=>ue.some(p.getRect(b)),a2=(p,b,k)=>oi(b)?Vk(p,b).map(Tp):Oc(b)?zw(p,b,k).map(Tp):ue.none(),Hk=(p,b)=>oi(b)?Vk(p,b).map(Tp):Oc(b)?p.getRangedRect(b,0,b,Aa(b)).map(Tp):ue.none(),fm=5,oO=100,Ma=Ys.generate([{none:[]},{retry:["caret"]}]),sO=(p,b)=>p.left<b.left||Math.abs(b.right-p.left)<1||p.left>b.right,ty=(p,b,k)=>er(b,ga).fold(wt,E=>Hk(p,E).exists(P=>sO(k,P))),ny=(p,b,k,E,P)=>{const B=gf(P,fm);return Math.abs(k.bottom-E.bottom)<1||k.top>P.bottom?Ma.retry(B):k.top===P.bottom?Ma.retry(gf(P,1)):ty(p,b,P)?Ma.retry(Mw(B,fm,0)):Ma.none()},rO={point:yf,adjuster:(p,b,k,E,P)=>{const B=Jb(P,fm);return Math.abs(k.top-E.top)<1||k.bottom<P.top?Ma.retry(B):k.bottom===P.top?Ma.retry(Jb(P,1)):ty(p,b,P)?Ma.retry(Mw(B,fm,0)):Ma.none()},move:Jb,gather:o2},aO={point:Pw,adjuster:ny,move:gf,gather:bc},Nw=(p,b,k)=>p.elementFromPoint(b,k).filter(E=>bs(E)==="table").isSome(),iO=(p,b,k,E,P)=>Lw(p,b,k,b.move(E,fm),P),Lw=(p,b,k,E,P)=>P===0?ue.some(E):Nw(p,E.left,b.point(E))?iO(p,b,k,E,P-1):p.situsFromPoint(E.left,b.point(E)).bind(B=>B.start.fold(ue.none,q=>Hk(p,q).bind(ee=>b.adjuster(p,q,ee,k,E).fold(ue.none,ce=>Lw(p,b,k,ce,P-1))).orThunk(()=>ue.some(E)),ue.none)),lO=(p,b,k)=>p.point(b)>k.getInnerHeight()?ue.some(p.point(b)-k.getInnerHeight()):p.point(b)<0?ue.some(-p.point(b)):ue.none(),l2=(p,b,k)=>{const E=p.move(k,fm),P=Lw(b,p,k,E,oO).getOr(E);return lO(p,P,b).fold(()=>b.situsFromPoint(P.left,p.point(P)),B=>(b.scrollBy(0,B),b.situsFromPoint(P.left,p.point(P)-B)))},Fw={tryUp:We(l2,rO),tryDown:We(l2,aO),getJumpSize:ne(fm)},cO=20,Uk=(p,b,k)=>p.getSelection().bind(E=>tO(b,E.finish,E.foffset,k).fold(()=>ue.some(em(E.finish,E.foffset)),P=>{const B=p.fromSitus(P),q=ul.verify(p,E.finish,E.foffset,B.finish,B.foffset,k.failure,b);return nO(q)})),Qb=(p,b,k,E,P,B)=>B===0?ue.none():oy(p,b,k,E,P).bind(q=>{const ee=p.fromSitus(q),ce=ul.verify(p,k,E,ee.finish,ee.foffset,P.failure,b);return ul.cata(ce,()=>ue.none(),()=>ue.some(q),we=>vs(k,we)&&E===0?Ao(p,k,E,Jb,P):Qb(p,b,we,0,P,B-1),we=>vs(k,we)&&E===Aa(we)?Ao(p,k,E,gf,P):Qb(p,b,we,Aa(we),P,B-1))}),Ao=(p,b,k,E,P)=>a2(p,b,k).bind(B=>dh(p,P,E(B,Fw.getJumpSize()))),dh=(p,b,k)=>{const E=td().browser;return E.isChromium()||E.isSafari()||E.isFirefox()?b.retry(p,k):ue.none()},oy=(p,b,k,E,P)=>a2(p,k,E).bind(B=>dh(p,P,B)),jk=(p,b,k)=>Uk(p,b,k).bind(E=>Qb(p,b,E.element,E.offset,k,cO).map(p.fromSitus)),c2=(p,b)=>ey(p,k=>hu(k).exists(E=>vs(E,b))),fh=(p,b,k,E,P)=>br(E,"td,th",b).bind(B=>br(B,"table",b).bind(q=>c2(P,q)?jk(p,b,k).bind(ee=>br(ee.finish,"td,th",b).map(ce=>({start:B,finish:ce,range:ee}))):ue.none())),sy=(p,b,k,E,P,B)=>B(E,b).orThunk(()=>fh(p,b,k,E,P).map(q=>{const ee=q.range;return Kg.create(ue.some(ch(ee.start,ee.soffset,ee.finish,ee.foffset)),!0)})),Wk=(p,b)=>br(p,"tr",b).bind(k=>br(k,"table",b).bind(E=>{const P=da(E,"tr");return vs(k,P[0])?Ow(E,B=>Xf(B).isSome(),b).map(B=>{const q=Aa(B);return Kg.create(ue.some(ch(B,q,B,q)),!0)}):ue.none()})),Zk=(p,b)=>br(p,"tr",b).bind(k=>br(k,"table",b).bind(E=>{const P=da(E,"tr");return vs(k,P[P.length-1])?s2(E,B=>Ul(B).isSome(),b).map(B=>Kg.create(ue.some(ch(B,0,B,0)),!0)):ue.none()})),Bw=(p,b,k,E,P,B,q)=>fh(p,k,E,P,B).bind(ee=>ya(b,k,ee.start,ee.finish,q)),$w=p=>{let b=p;return{get:()=>b,set:P=>{b=P}}},u2=p=>{const b=$w(ue.none()),k=()=>b.get().each(p);return{clear:()=>{k(),b.set(ue.none())},isSet:()=>b.get().isSome(),get:()=>b.get(),set:ee=>{k(),b.set(ue.some(ee))}}},ev=()=>{const p=u2(xe);return{...p,on:k=>p.get().each(k)}},tv=(p,b)=>br(p,"td,th",b),d2=p=>el(p).exists(jl),f2=(p,b,k,E)=>{const P=ev(),B=P.clear,q=Pe=>{P.on(At=>{E.clearBeforeUpdate(b),tv(Pe.target,k).each(Xt=>{wb(At,Xt,k).each(jt=>{const _t=jt.boxes.getOr([]);if(_t.length===1){const qt=_t[0],gt=Jh(qt)==="false",hn=Vr(B1(Pe.target),qt,vs);gt&&hn&&(E.selectRange(b,_t,qt,qt),p.selectContents(qt))}else _t.length>1&&(E.selectRange(b,_t,jt.start,jt.finish),p.selectContents(Xt))})})})};return{clearstate:B,mousedown:Pe=>{E.clear(b),tv(Pe.target,k).filter(d2).each(P.set)},mouseover:Pe=>{q(Pe)},mouseup:Pe=>{q(Pe),B()}}},ry={traverse:Qu,gather:bc,relative:Ti.before,retry:Fw.tryDown,failure:ul.failedDown},Vw={traverse:Ju,gather:o2,relative:Ti.before,retry:Fw.tryUp,failure:ul.failedUp},Rp=p=>b=>b===p,hm=Rp(38),nv=Rp(40),Ap=p=>p>=37&&p<=40,h2={isBackward:Rp(37),isForward:Rp(39)},Gk={isBackward:Rp(39),isForward:Rp(37)},ay=p=>{const b=p!==void 0?p.dom:document,k=b.body.scrollLeft||b.documentElement.scrollLeft,E=b.body.scrollTop||b.documentElement.scrollTop;return Bc(k,E)},qk=(p,b,k)=>{const P=(k!==void 0?k.dom:document).defaultView;P&&P.scrollBy(p,b)},Hw=Ys.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),uO=p=>Hw.exact(p.start,p.soffset,p.finish,p.foffset),m2=p=>p.match({domRange:b=>ze.fromDom(b.startContainer),relative:(b,k)=>Ti.getStart(b),exact:(b,k,E,P)=>b}),mm=Hw.domRange,Kk=Hw.relative,Yk=Hw.exact,Uw=p=>{const b=m2(p);return Rr(b)},p2=Jg.create,hh={domRange:mm,relative:Kk,exact:Yk,exactFromRange:uO,getWin:Uw,range:p2},Xk=(p,b,k)=>{var E,P;return ue.from((P=(E=p.dom).caretPositionFromPoint)===null||P===void 0?void 0:P.call(E,b,k)).bind(B=>{if(B.offsetNode===null)return ue.none();const q=p.dom.createRange();return q.setStart(B.offsetNode,B.offset),q.collapse(),ue.some(q)})},tn=(p,b,k)=>{var E,P;return ue.from((P=(E=p.dom).caretRangeFromPoint)===null||P===void 0?void 0:P.call(E,b,k))},Pa=(()=>document.caretPositionFromPoint?Xk:document.caretRangeFromPoint?tn:ue.none)(),qc=(p,b,k)=>{const E=ze.fromDom(p.document);return Pa(E,b,k).map(P=>Jg.create(ze.fromDom(P.startContainer),P.startOffset,ze.fromDom(P.endContainer),P.endOffset))},ta=(p,b)=>{const k=bs(p);return k==="input"?Ti.after(p):Ht(["br","img"],k)?b===0?Ti.before(p):Ti.after(p):Ti.on(p,b)},Au=(p,b)=>{const k=p.fold(Ti.before,ta,Ti.after),E=b.fold(Ti.before,ta,Ti.after);return hh.relative(k,E)},vc=(p,b,k,E)=>{const P=ta(p,b),B=ta(k,E);return hh.relative(P,B)},jr=(p,b,k,E)=>{const B=Xu(p).dom.createRange();return B.setStart(p.dom,b),B.setEnd(k.dom,E),B},Jk=(p,b,k,E)=>{const P=jr(p,b,k,E),B=vs(p,k)&&b===E;return P.collapsed&&!B},iy=p=>ue.from(p.getSelection()),Ip=(p,b)=>{iy(p).each(k=>{k.removeAllRanges(),k.addRange(b)})},ov=(p,b,k,E,P)=>{const B=xw(p,b,k,E,P);Ip(p,B)},g2=(p,b,k,E,P,B)=>{b.collapse(k.dom,E),b.extend(P.dom,B)},y2=(p,b)=>Xg(p,b).match({ltr:(k,E,P,B)=>{ov(p,k,E,P,B)},rtl:(k,E,P,B)=>{iy(p).each(q=>{if(q.setBaseAndExtent)q.setBaseAndExtent(k.dom,E,P.dom,B);else if(q.extend)try{g2(p,q,k,E,P,B)}catch{ov(p,P,B,k,E)}else ov(p,P,B,k,E)})}}),b2=(p,b,k,E,P)=>{const B=vc(b,k,E,P);y2(p,B)},jw=(p,b,k)=>{const E=Au(b,k);y2(p,E)},Qk=p=>{if(p.rangeCount>0){const b=p.getRangeAt(0),k=p.getRangeAt(p.rangeCount-1);return ue.some(Jg.create(ze.fromDom(b.startContainer),b.startOffset,ze.fromDom(k.endContainer),k.endOffset))}else return ue.none()},v2=p=>{if(p.anchorNode===null||p.focusNode===null)return Qk(p);{const b=ze.fromDom(p.anchorNode),k=ze.fromDom(p.focusNode);return Jk(b,p.anchorOffset,k,p.focusOffset)?ue.some(Jg.create(b,p.anchorOffset,k,p.focusOffset)):Qk(p)}},sv=(p,b,k=!0)=>{const P=(k?Gb:YI)(p,b);Ip(p,P)},rv=p=>iy(p).filter(b=>b.rangeCount>0).bind(v2),av=p=>rv(p).map(b=>hh.exact(b.start,b.soffset,b.finish,b.foffset)),iv=(p,b)=>{const k=xp(p,b);return zr(k)},Ww=(p,b,k)=>qc(p,b,k),Zw=p=>{iy(p).each(b=>b.removeAllRanges())},Op=p=>({elementFromPoint:(gt,hn)=>ze.fromPoint(ze.fromDom(p.document),gt,hn),getRect:gt=>gt.dom.getBoundingClientRect(),getRangedRect:(gt,hn,Fn,Qn)=>{const Es=hh.exact(gt,hn,Fn,Qn);return iv(p,Es)},getSelection:()=>av(p).map(gt=>QE(p,gt)),fromSitus:gt=>{const hn=hh.relative(gt.start,gt.finish);return QE(p,hn)},situsFromPoint:(gt,hn)=>Ww(p,gt,hn).map(Fn=>qb.create(Fn.start,Fn.soffset,Fn.finish,Fn.foffset)),clearSelection:()=>{Zw(p)},collapseSelection:(gt=!1)=>{av(p).each(hn=>hn.fold(Fn=>Fn.collapse(gt),(Fn,Qn)=>{const Es=gt?Fn:Qn;jw(p,Es,Es)},(Fn,Qn,Es,Na)=>{const kr=gt?Fn:Es,El=gt?Qn:Na;b2(p,kr,El,kr,El)}))},setSelection:gt=>{b2(p,gt.start,gt.soffset,gt.finish,gt.foffset)},setRelativeSelection:(gt,hn)=>{jw(p,gt,hn)},selectNode:gt=>{sv(p,gt,!1)},selectContents:gt=>{sv(p,gt)},getInnerHeight:()=>p.innerHeight,getScrollY:()=>ay(ze.fromDom(p.document)).top,scrollBy:(gt,hn)=>{qk(gt,hn,ze.fromDom(p.document))}}),Kl=(p,b)=>({rows:p,cols:b}),lv=(p,b,k,E)=>{const P=Op(p),B=f2(P,b,k,E);return{clearstate:B.clearstate,mousedown:B.mousedown,mouseover:B.mouseover,mouseup:B.mouseup}},w2=p=>er(p,Ln).exists(jl),eC=(p,b)=>w2(p)||w2(b),dO=(p,b,k,E)=>{const P=Op(p),B=()=>(E.clear(b),ue.none());return{keydown:(ce,we,Pe,At,Xt,jt)=>{const _t=ce.raw,qt=_t.which,gt=_t.shiftKey===!0;return Mg(b,E.selectedSelector).fold(()=>(Ap(qt)&&!gt&&E.clearBeforeUpdate(b),Ap(qt)&&gt&&!eC(we,At)?ue.none:nv(qt)&&gt?We(Bw,P,b,k,ry,At,we,E.selectRange):hm(qt)&&gt?We(Bw,P,b,k,Vw,At,we,E.selectRange):nv(qt)?We(sy,P,k,ry,At,we,Zk):hm(qt)?We(sy,P,k,Vw,At,we,Wk):ue.none),Fn=>{const Qn=Es=>()=>Qe(Es,kr=>e2(kr.rows,kr.cols,b,Fn,E)).fold(()=>U1(b,E.firstSelectedSelector,E.lastSelectedSelector).map(kr=>{const El=nv(qt)||jt.isForward(qt)?Ti.after:Ti.before;return P.setRelativeSelection(Ti.on(kr.first,0),El(kr.table)),E.clear(b),Kg.create(ue.none(),!0)}),kr=>ue.some(Kg.create(ue.none(),!0)));return Ap(qt)&&gt&&!eC(we,At)?ue.none:nv(qt)&&gt?Qn([Kl(1,0)]):hm(qt)&&gt?Qn([Kl(-1,0)]):jt.isBackward(qt)&&gt?Qn([Kl(0,-1),Kl(-1,0)]):jt.isForward(qt)&&gt?Qn([Kl(0,1),Kl(1,0)]):Ap(qt)&&!gt?B:ue.none})()},keyup:(ce,we,Pe,At,Xt)=>Mg(b,E.selectedSelector).fold(()=>{const jt=ce.raw,_t=jt.which;return jt.shiftKey===!0&&Ap(_t)&&eC(we,At)?Ew(b,k,we,Pe,At,Xt,E.selectRange):ue.none()},ue.none)}},_2=(p,b,k,E)=>{const P=Op(p);return(B,q)=>{E.clearBeforeUpdate(b),wb(B,q,k).each(ee=>{const ce=ee.boxes.getOr([]);E.selectRange(b,ce,ee.start,ee.finish),P.selectContents(q),P.collapseSelection()})}},cv=(p,b)=>{const k=Ca(p,b);return k===void 0||k===""?[]:k.split(" ")},fO=(p,b,k)=>{const P=cv(p,b).concat([k]);return gr(p,b,P.join(" ")),!0},uv=(p,b,k)=>{const E=uo(cv(p,b),P=>P!==k);return E.length>0?gr(p,b,E.join(" ")):Zs(p,b),!1},za=p=>p.dom.classList!==void 0,Iu=p=>cv(p,"class"),wc=(p,b)=>fO(p,"class",b),pm=(p,b)=>uv(p,"class",b),Ou=(p,b)=>{za(p)?p.dom.classList.add(b):wc(p,b)},hO=p=>{(za(p)?p.dom.classList:Iu(p)).length===0&&Zs(p,"class")},tC=(p,b)=>{za(p)?p.dom.classList.remove(b):pm(p,b),hO(p)},nC=(p,b)=>za(p)&&p.dom.classList.contains(b),oC=(p,b)=>{it(b,k=>{tC(p,k)})},mO=p=>b=>{Ou(b,p)},sC=p=>b=>{oC(b,p)},rC={byClass:p=>{const b=mO(p.selected),k=sC([p.selected,p.lastSelected,p.firstSelected]),E=B=>{const q=da(B,p.selectedSelector);it(q,k)};return{clearBeforeUpdate:E,clear:E,selectRange:(B,q,ee,ce)=>{E(B),it(q,b),Ou(ee,p.firstSelected),Ou(ce,p.lastSelected)},selectedSelector:p.selectedSelector,firstSelectedSelector:p.firstSelectedSelector,lastSelectedSelector:p.lastSelectedSelector}},byAttr:(p,b,k)=>{const E=ce=>{Zs(ce,p.selected),Zs(ce,p.firstSelected),Zs(ce,p.lastSelected)},P=ce=>{gr(ce,p.selected,"1")},B=ce=>{q(ce),k()},q=ce=>{const we=da(ce,`${p.selectedSelector},${p.firstSelectedSelector},${p.lastSelectedSelector}`);it(we,E)};return{clearBeforeUpdate:q,clear:B,selectRange:(ce,we,Pe,At)=>{B(ce),it(we,P),gr(Pe,p.firstSelected,"1"),gr(At,p.lastSelected,"1"),b(we,Pe,At)},selectedSelector:p.selectedSelector,firstSelectedSelector:p.firstSelectedSelector,lastSelectedSelector:p.lastSelectedSelector}}},aC=(p,b,k,E)=>{switch(p.tag){case"none":return b();case"single":return E(p.element);case"multiple":return k(p.elements)}},gs=()=>({tag:"none"}),wd=p=>({tag:"multiple",elements:p}),iC=p=>({tag:"single",element:p}),lC=(p,b,k)=>({get:()=>Tx(p(),k).fold(()=>b().fold(gs,iC),wd)}),k2=(p,b)=>{const k=p.slice(0,b[b.length-1].row+1),E=J1(k);return Tt(E,P=>{const B=P.cells.slice(0,b[b.length-1].column+1);return an(B,q=>q.element)})},Gw=(p,b)=>{const k=p.slice(b[0].row+b[0].rowspan-1,p.length),E=J1(k);return Tt(E,P=>{const B=P.cells.slice(b[0].column+b[0].colspan-1,P.cells.length);return an(B,q=>q.element)})},C2=(p,b,k)=>{const E=go.fromTable(p);return nm(E,b).map(B=>{const q=Wc(E,k,!1),{rows:ee}=ha(q),ce=k2(ee,B),we=Gw(ee,B);return{upOrLeftCells:ce,downOrRightCells:we}})},qw=(p,b,k,E,P,B,q)=>({target:p,x:b,y:k,stop:E,prevent:P,kill:B,raw:q}),S2=p=>{const b=ze.fromDom(Bo(p).getOr(p.target)),k=()=>p.stopPropagation(),E=()=>p.preventDefault(),P=Fe(E,k);return qw(b,p.clientX,p.clientY,k,E,P,p)},yO=(p,b)=>k=>{p(k)&&b(S2(k))},x2=(p,b,k,E,P)=>{const B=yO(k,E);return p.dom.addEventListener(b,B,P),{unbind:We(cC,p,b,B,P)}},bO=(p,b,k,E)=>x2(p,b,k,E,!1),cC=(p,b,k,E)=>{p.dom.removeEventListener(b,k,E)},E2=je,fn=(p,b,k)=>bO(p,b,E2,k),_d=S2,uC=p=>!nC(ze.fromDom(p.target),"ephox-snooker-resizer-bar"),T2=(p,b)=>{const k=lC(()=>ze.fromDom(p.getBody()),()=>Ax(yb(p),ku(p)),al.selectedSelector),E=(ce,we,Pe)=>{Or(we).each(Xt=>{const jt=Wg(p),_t=Jf(xe,ze.fromDom(p.getDoc()),jt),qt=il(p),gt=C2(Xt,{selection:qt},_t);wE(p,ce,we,Pe,gt)})},P=()=>kk(p),B=rC.byAttr(al,E,P);return p.on("init",ce=>{const we=p.getWin(),Pe=nf(p),At=ku(p),Xt=()=>{const ls=p.selection,dl=ze.fromDom(ls.getStart()),fl=ze.fromDom(ls.getEnd());zo(Or,[dl,fl]).fold(()=>B.clear(Pe),xe)},jt=lv(we,Pe,At,B),_t=dO(we,Pe,At,B),qt=_2(we,Pe,At,B),gt=ls=>ls.raw.shiftKey===!0;p.on("TableSelectorChange",ls=>qt(ls.start,ls.finish));const hn=(ls,dl)=>{!gt(ls)||(dl.kill&&ls.kill(),dl.selection.each(fl=>{const _c=hh.relative(fl.start,fl.finish),Xl=xp(we,_c);p.selection.setRng(Xl)}))},Fn=ls=>{const dl=_d(ls);if(dl.raw.shiftKey&&Ap(dl.raw.which)){const fl=p.selection.getRng(),_c=ze.fromDom(fl.startContainer),Xl=ze.fromDom(fl.endContainer);_t.keyup(dl,_c,fl.startOffset,Xl,fl.endOffset).each(hy=>{hn(dl,hy)})}},Qn=ls=>{const dl=_d(ls);b.hide();const fl=p.selection.getRng(),_c=ze.fromDom(fl.startContainer),Xl=ze.fromDom(fl.endContainer),hy=Qm(h2,Gk)(ze.fromDom(p.selection.getStart()));_t.keydown(dl,_c,fl.startOffset,Xl,fl.endOffset,hy).each(Tl=>{hn(dl,Tl)}),b.show()},Es=ls=>ls.button===0,Na=ls=>ls.buttons===void 0?!0:(ls.buttons&1)!==0,kr=ls=>{jt.clearstate()},El=ls=>{Es(ls)&&uC(ls)&&jt.mousedown(_d(ls))},ym=ls=>{Na(ls)&&uC(ls)&&jt.mouseover(_d(ls))},o_=ls=>{Es(ls)&&uC(ls)&&jt.mouseup(_d(ls))},s_=(()=>{const ls=$w(ze.fromDom(Pe)),dl=$w(0);return{touchEnd:_c=>{const Xl=ze.fromDom(_c.target);if(gi("td")(Xl)||gi("th")(Xl)){const hy=ls.get(),Tl=dl.get();vs(hy,Xl)&&_c.timeStamp-Tl<300&&(_c.preventDefault(),qt(Xl,Xl))}ls.set(Xl),dl.set(_c.timeStamp)}}})();p.on("dragstart",kr),p.on("mousedown",El),p.on("mouseover",ym),p.on("mouseup",o_),p.on("touchend",s_.touchEnd),p.on("keyup",Fn),p.on("keydown",Qn),p.on("NodeChange",Xt)}),p.on("PreInit",()=>{p.serializer.addTempAttr(al.firstSelected),p.serializer.addTempAttr(al.lastSelected)}),{getSelectedCells:()=>aC(k.get(),ne([]),ce=>an(ce,we=>we.dom),ce=>[ce.dom]),clearSelectedCells:ce=>B.clear(ze.fromDom(ce))}},cr=p=>{let b=[];return{bind:B=>{if(B===void 0)throw new Error("Event bind error: undefined handler");b.push(B)},unbind:B=>{b=uo(b,q=>q!==B)},trigger:(...B)=>{const q={};it(p,(ee,ce)=>{q[ee]=B[ce]}),it(b,ee=>{ee(q)})}}},Nr=p=>{const b=Ye(p,E=>({bind:E.bind,unbind:E.unbind})),k=Ye(p,E=>E.trigger);return{registry:b,trigger:k}},ly=(p,b)=>{let k=null;const E=()=>{I(k)||(clearTimeout(k),k=null)};return{cancel:E,throttle:(...B)=>{E(),k=setTimeout(()=>{k=null,p.apply(null,B)},b)}}},dv=p=>p.slice(0).sort(),vO=(p,b)=>{throw new Error("All required keys ("+dv(p).join(", ")+") were not specified. Specified keys were: "+dv(b).join(", ")+".")},wO=p=>{throw new Error("Unsupported keys for object: "+dv(p).join(", "))},yo=(p,b)=>{if(!T(b))throw new Error("The "+p+" fields must be an array. Was: "+b+".");it(b,k=>{if(!w(k))throw new Error("The value "+k+" in the "+p+" fields was not a string.")})},dC=(p,b)=>{throw new Error("All values need to be of type: "+b+". Keys ("+dv(p).join(", ")+") were not.")},cy=p=>{const b=dv(p);j(b,(E,P)=>P<b.length-1&&E===b[P+1]).each(E=>{throw new Error("The field: "+E+" occurs more than once in the combined fields: ["+b.join(", ")+"].")})},Kw=(p,b)=>_O(p,b,{validate:ke,label:"function"}),_O=(p,b,k)=>{if(b.length===0)throw new Error("You must specify at least one required field.");return yo("required",b),cy(b),E=>{const P=Ve(E);re(b,ee=>Ht(P,ee))||vO(b,P),p(b,P);const q=uo(b,ee=>!k.validate(E[ee],ee));return q.length>0&&dC(q,k.label),E}},kO=(p,b)=>{const k=uo(b,E=>!Ht(p,E));k.length>0&&wO(k)},fC=p=>Kw(kO,p),C4=fC(["compare","extract","mutate","sink"]),R2=fC(["element","start","stop","destroy"]),CO=fC(["forceDrop","drop","move","delayDrop"]),hC=()=>{let p=ue.none();const b=()=>{p=ue.none()},k=(B,q)=>{const ee=p.map(ce=>B.compare(ce,q));return p=ue.some(q),ee},E=(B,q)=>{q.extract(B).each(ce=>{k(q,ce).each(Pe=>{P.trigger.move(Pe)})})},P=Nr({move:cr(["info"])});return{onEvent:E,reset:b,events:P.registry}},mC=()=>{const p=Nr({move:cr(["info"])});return{onEvent:xe,reset:xe,events:p.registry}},A2=()=>{const p=mC(),b=hC();let k=p;return{on:()=>{k.reset(),k=b},off:()=>{k.reset(),k=p},isOn:()=>k===b,onEvent:(ee,ce)=>{k.onEvent(ee,ce)},events:b.events}},I2=(p,b,k)=>{let E=!1;const P=Nr({start:cr([]),stop:cr([])}),B=A2(),q=()=>{_t.stop(),B.isOn()&&(B.off(),P.trigger.stop())},ee=ly(q,200),ce=gt=>{_t.start(gt),B.on(),P.trigger.start()},we=gt=>{ee.cancel(),B.onEvent(gt,b)};B.events.move.bind(gt=>{b.mutate(p,gt.info)});const Pe=()=>{E=!0},At=()=>{E=!1},Xt=()=>E,jt=gt=>(...hn)=>{E&&gt.apply(null,hn)},_t=b.sink(CO({forceDrop:q,drop:jt(q),move:jt(we),delayDrop:jt(ee.throttle)}),k),qt=()=>{_t.destroy()};return{element:_t.element,go:ce,on:Pe,off:At,isActive:Xt,destroy:qt,events:P.registry}},O2=p=>{const b=p.replace(/\./g,"-");return{resolve:E=>b+"-"+E}},SO=O2("ephox-dragster").resolve,xO=p=>{const b={layerClass:SO("blocker"),...p},k=ze.fromTag("div");return gr(k,"role","presentation"),wi(k,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ou(k,SO("blocker")),Ou(k,b.layerClass),{element:ne(k),destroy:()=>{Kr(k)}}};var EO=C4({compare:(p,b)=>Bc(b.left-p.left,b.top-p.top),extract:p=>ue.some(Bc(p.x,p.y)),sink:(p,b)=>{const k=xO(b),E=fn(k.element(),"mousedown",p.forceDrop),P=fn(k.element(),"mouseup",p.drop),B=fn(k.element(),"mousemove",p.move),q=fn(k.element(),"mouseout",p.delayDrop),ee=()=>{k.destroy(),P.unbind(),B.unbind(),q.unbind(),E.unbind()},ce=Pe=>{Gs(Pe,k.element())},we=()=>{Kr(k.element())};return R2({element:k.element,start:ce,stop:we,destroy:ee})},mutate:(p,b)=>{p.mutate(b.left,b.top)}});const fv=(p,b={})=>{var k;const E=(k=b.mode)!==null&&k!==void 0?k:EO;return I2(p,E,b)},Xw=O2("ephox-snooker").resolve,TO=()=>{const p=Nr({drag:cr(["xDelta","yDelta"])});return{mutate:(k,E)=>{p.trigger.drag(k,E)},events:p.registry}},RO=()=>{const p=Nr({drag:cr(["xDelta","yDelta","target"])});let b=ue.none();const k=TO();return k.events.drag.bind(B=>{b.each(q=>{p.trigger.drag(B.xDelta,B.yDelta,q)})}),{assign:B=>{b=ue.some(B)},get:()=>b,mutate:k.mutate,events:p.registry}},gm=(p,b,k,E,P)=>{const B=ze.fromTag("div");return wi(B,{position:"absolute",left:b-E/2+"px",top:k+"px",height:P+"px",width:E+"px"}),Dc(B,{"data-column":p,role:"presentation"}),B},Jw=(p,b,k,E,P)=>{const B=ze.fromTag("div");return wi(B,{position:"absolute",left:b+"px",top:k-P/2+"px",height:P+"px",width:E+"px"}),Dc(B,{"data-row":p,role:"presentation"}),B},pC=Xw("resizer-bar"),Qw=Xw("resizer-rows"),gC=Xw("resizer-cols"),hv=7,AO=(p,b)=>Tt(p.all,(k,E)=>b(k.element)?[E]:[]),IO=(p,b)=>{const k=[];return Nn(p.grid.columns,E=>{go.getColumnAt(p,E).map(B=>B.element).forall(b)&&k.push(E)}),uo(k,E=>{const P=go.filterItems(p,B=>B.column===E);return re(P,B=>b(B.element))})},mv=p=>{const b=da(p.parent(),"."+pC);it(b,Kr)},e_=(p,b,k)=>{const E=p.origin();it(b,P=>{P.each(B=>{const q=k(E,B);Ou(q,pC),Gs(p.parent(),q)})})},OO=(p,b,k,E)=>{e_(p,b,(P,B)=>{const q=gm(B.col,B.x-P.left,k.top-P.top,hv,E);return Ou(q,gC),q})},No=(p,b,k,E)=>{e_(p,b,(P,B)=>{const q=Jw(B.row,k.left-P.left,B.y-P.top,E,hv);return Ou(q,Qw),q})},DO=(p,b,k,E,P)=>{const B=Gh(k),q=b.isResizable,ee=E.length>0?rd.positions(E,k):[],ce=ee.length>0?AO(p,q):[],we=uo(ee,(jt,_t)=>ot(ce,qt=>_t===qt));No(b,we,B,Wf(k));const Pe=P.length>0?ad.positions(P,k):[],At=Pe.length>0?IO(p,q):[],Xt=uo(Pe,(jt,_t)=>ot(At,qt=>_t===qt));OO(b,Xt,B,z1(k))},bf=(p,b)=>{if(mv(p),p.isResizable(b)){const k=go.fromTable(b),E=B0(k),P=wg(k);DO(k,p,b,E,P)}},Du=(p,b)=>{const k=da(p.parent(),"."+pC);it(k,b)},t_=p=>{Du(p,b=>{Cs(b,"display","none")})},Yl=p=>{Du(p,b=>{Cs(b,"display","block")})},uy=p=>nC(p,Qw),dy=p=>nC(p,gC),Dp=Xw("resizer-bar-dragging"),mh=p=>{const b=RO(),k=fv(b,{});let E=ue.none();const P=(_t,qt)=>ue.from(Ca(_t,qt));b.events.drag.bind(_t=>{P(_t.target,"data-row").each(qt=>{const gt=Ir(_t.target,"top");Cs(_t.target,"top",gt+_t.yDelta+"px")}),P(_t.target,"data-column").each(qt=>{const gt=Ir(_t.target,"left");Cs(_t.target,"left",gt+_t.xDelta+"px")})});const B=(_t,qt)=>{const gt=Ir(_t,qt),hn=_i(_t,"data-initial-"+qt,0);return gt-hn};k.events.stop.bind(()=>{b.get().each(_t=>{E.each(qt=>{P(_t,"data-row").each(gt=>{const hn=B(_t,"top");Zs(_t,"data-initial-top"),jt.trigger.adjustHeight(qt,hn,parseInt(gt,10))}),P(_t,"data-column").each(gt=>{const hn=B(_t,"left");Zs(_t,"data-initial-left"),jt.trigger.adjustWidth(qt,hn,parseInt(gt,10))}),bf(p,qt)})})});const q=(_t,qt)=>{jt.trigger.startAdjust(),b.assign(_t),gr(_t,"data-initial-"+qt,Ir(_t,qt)),Ou(_t,Dp),Cs(_t,"opacity","0.2"),k.go(p.parent())},ee=fn(p.parent(),"mousedown",_t=>{uy(_t.target)&&q(_t.target,"top"),dy(_t.target)&&q(_t.target,"left")}),ce=_t=>vs(_t,p.view()),we=_t=>br(_t,"table",ce).filter(jl),Pe=fn(p.view(),"mouseover",_t=>{we(_t.target).fold(()=>{G(_t.target)&&mv(p)},qt=>{k.isActive()&&(E=ue.some(qt),bf(p,qt))})}),At=()=>{ee.unbind(),Pe.unbind(),k.destroy(),mv(p)},Xt=_t=>{bf(p,_t)},jt=Nr({adjustHeight:cr(["table","delta","row"]),adjustWidth:cr(["table","delta","column"]),startAdjust:cr([])});return{destroy:At,refresh:Xt,on:k.on,off:k.off,hideBars:We(t_,p),showBars:We(Yl,p),events:jt.registry}},Mp={create:(p,b,k)=>{const E=rd,P=ad,B=mh(p),q=Nr({beforeResize:cr(["table","type"]),afterResize:cr(["table","type"]),startDrag:cr([])});return B.events.adjustHeight.bind(ee=>{const ce=ee.table;q.trigger.beforeResize(ce,"row");const we=E.delta(ee.delta,ce);ak(ce,we,ee.row,E),q.trigger.afterResize(ce,"row")}),B.events.startAdjust.bind(ee=>{q.trigger.startDrag()}),B.events.adjustWidth.bind(ee=>{const ce=ee.table;q.trigger.beforeResize(ce,"col");const we=P.delta(ee.delta,ce),Pe=k(ce);Ob(ce,we,ee.column,b,Pe),q.trigger.afterResize(ce,"col")}),{on:B.on,off:B.off,refreshBars:B.refresh,hideBars:B.hideBars,showBars:B.showBars,destroy:B.destroy,events:q.registry}}},Kc={only:(p,b)=>{const k=Mf(p)?yr(p):p;return{parent:ne(k),view:ne(p),origin:ne(Bc(0,0)),isResizable:b}},detached:(p,b,k)=>{const E=()=>Gh(b);return{parent:ne(b),view:ne(p),origin:E,isResizable:k}},body:(p,b,k)=>({parent:ne(b),view:ne(p),origin:ne(Bc(0,0)),isResizable:k})},Pp=()=>{const p=ze.fromTag("div");return wi(p,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Gs(ae(),p),p},MO=(p,b)=>p.inline?Kc.body(ze.fromDom(p.getBody()),Pp(),b):Kc.only(ze.fromDom(p.getDoc()),b),n_=(p,b)=>{p.inline&&Kr(b.parent())},Po=p=>de(p)&&p.nodeName==="TABLE",bC="bar-",D2=p=>Ca(p,"data-mce-resize")!=="false",pv=p=>{const b=go.fromTable(p);go.hasColumns(b)||it(Yd(p),k=>{const E=$f(k,"width");Cs(k,"width",E),Zs(k,"width")})},PO=p=>{const b=ev(),k=ev(),E=ev();let P,B;const q=_t=>yp(p,_t),ee=()=>EE(p)?Fg():Mx(),ce=_t=>cp(_t).columns,we=(_t,qt,gt)=>{const hn=si(qt,"e");if(B===""&&cm(_t),gt!==P&&B!==""){Cs(_t,"width",B);const Fn=ee(),Qn=q(_t),Es=EE(p)||hn?ce(_t)-1:0;Ob(_t,gt-P,Es,Fn,Qn)}else if(ar(B)){const Fn=parseFloat(B.replace("%","")),Qn=gt*Fn/P;Cs(_t,"width",Qn+"%")}oI(B)&&pv(_t)},Pe=()=>{k.on(_t=>{_t.destroy()}),E.on(_t=>{n_(p,_t)})};return p.on("init",()=>{const _t=MO(p,D2);if(E.set(_t),AI(p)&&TE(p)){const qt=ee(),gt=Mp.create(_t,qt,q);gt.on(),gt.events.startDrag.bind(hn=>{b.set(p.selection.getRng())}),gt.events.beforeResize.bind(hn=>{const Fn=hn.table.dom;TI(p,Fn,Ig(Fn),Cx(Fn),bC+hn.type)}),gt.events.afterResize.bind(hn=>{const Fn=hn.table,Qn=Fn.dom;jc(Fn),b.on(Es=>{p.selection.setRng(Es),p.focus()}),pw(p,Qn,Ig(Qn),Cx(Qn),bC+hn.type),p.undoManager.add()}),k.set(gt)}}),p.on("ObjectResizeStart",_t=>{const qt=_t.target;if(Po(qt)){const gt=ze.fromDom(qt);it(p.dom.select(".mce-clonedresizable"),hn=>{p.dom.addClass(hn,"mce-"+yw(p)+"-columns")}),!ww(gt)&&pd(p)?Sk(gt):!pf(gt)&&Zg(p)&&cm(gt),FE(gt)&&Bf(_t.origin,bC)&&cm(gt),P=_t.width,B=ns(p)?"":nI(p,qt).getOr("")}}),p.on("ObjectResized",_t=>{const qt=_t.target;if(Po(qt)){const gt=ze.fromDom(qt),hn=_t.origin;Bf(hn,"corner-")&&we(gt,hn,_t.width),jc(gt),lm(p,gt.dom,Bb)}}),p.on("SwitchMode",()=>{k.on(_t=>{p.mode.isReadOnly()?_t.hideBars():_t.showBars()})}),p.on("dragstart dragend",_t=>{k.on(qt=>{_t.type==="dragstart"?(qt.hideBars(),qt.off()):(qt.on(),qt.showBars())})}),p.on("remove",()=>{Pe()}),{refresh:_t=>{k.on(qt=>qt.refreshBars(ze.fromDom(_t)))},hide:()=>{k.on(_t=>_t.hideBars())},show:()=>{k.on(_t=>_t.showBars())}}},fy=p=>{RI(p);const b=PO(p),k=T2(p,b),E=II(p,b,k);return qI(p,E),XE(p,E),Wi(p,E),{getSelectedCells:k.getSelectedCells,clearSelectedCells:k.clearSelectedCells}},zp=p=>({table:fy(p)});var vC=()=>{t.add("dom",zp)};vC()})();(function(){const t=Object.getPrototypeOf,n=(o,i,c)=>{var m;return c(o,i.prototype)?!0:((m=o.constructor)===null||m===void 0?void 0:m.name)===i.name},r=o=>{const i=typeof o;return o===null?"null":i==="object"&&Array.isArray(o)?"array":i==="object"&&n(o,String,(c,m)=>m.isPrototypeOf(c))?"string":i},u=o=>i=>r(i)===o,f=o=>i=>typeof i===o,d=o=>i=>o===i,w=(o,i)=>T(o)&&n(o,i,(c,m)=>t(c)===m),x=u("string"),T=u("object"),I=o=>w(o,Object),$=u("array"),F=d(null),H=f("boolean"),de=d(void 0),ke=o=>o==null,Ne=o=>!ke(o),xe=f("function"),Fe=f("number"),rt=(o,i)=>{if($(o)){for(let c=0,m=o.length;c<m;++c)if(!i(o[c]))return!1;return!0}return!1},ne=()=>{},vt=o=>()=>o(),Ue=(o,i)=>(...c)=>o(i.apply(null,c)),We=(o,i)=>c=>o(i(c)),J=o=>()=>o,Te=o=>o,st=(o,i)=>o===i;function wt(o,...i){return(...c)=>{const m=i.concat(c);return o.apply(null,m)}}const je=o=>i=>!o(i),ue=o=>()=>{throw new Error(o)},Rn=o=>o(),ln=J(!1),It=J(!0);class L{constructor(i,c){this.tag=i,this.value=c}static some(i){return new L(!0,i)}static none(){return L.singletonNone}fold(i,c){return this.tag?c(this.value):i()}isSome(){return this.tag}isNone(){return!this.tag}map(i){return this.tag?L.some(i(this.value)):L.none()}bind(i){return this.tag?i(this.value):L.none()}exists(i){return this.tag&&i(this.value)}forall(i){return!this.tag||i(this.value)}filter(i){return!this.tag||i(this.value)?this:L.none()}getOr(i){return this.tag?this.value:i}or(i){return this.tag?this:i}getOrThunk(i){return this.tag?this.value:i()}orThunk(i){return this.tag?this:i()}getOrDie(i){if(this.tag)return this.value;throw new Error(i!=null?i:"Called getOrDie on None")}static from(i){return Ne(i)?L.some(i):L.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(i){this.tag&&i(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}L.singletonNone=new L(!1);const Ht=Array.prototype.slice,ot=Array.prototype.indexOf,Nn=Array.prototype.push,an=(o,i)=>ot.call(o,i),it=(o,i)=>{const c=an(o,i);return c===-1?L.none():L.some(c)},Zn=(o,i)=>an(o,i)>-1,io=(o,i)=>{for(let c=0,m=o.length;c<m;c++){const y=o[c];if(i(y,c))return!0}return!1},uo=(o,i)=>{const c=[];for(let m=0;m<o;m++)c.push(i(m));return c},Et=(o,i)=>{const c=[];for(let m=0;m<o.length;m+=i){const y=Ht.call(o,m,m+i);c.push(y)}return c},Ee=(o,i)=>{const c=o.length,m=new Array(c);for(let y=0;y<c;y++){const _=o[y];m[y]=i(_,y)}return m},me=(o,i)=>{for(let c=0,m=o.length;c<m;c++){const y=o[c];i(y,c)}},j=(o,i)=>{for(let c=o.length-1;c>=0;c--){const m=o[c];i(m,c)}},lt=(o,i)=>{const c=[],m=[];for(let y=0,_=o.length;y<_;y++){const C=o[y];(i(C,y)?c:m).push(C)}return{pass:c,fail:m}},Xe=(o,i)=>{const c=[];for(let m=0,y=o.length;m<y;m++){const _=o[m];i(_,m)&&c.push(_)}return c},Tt=(o,i,c)=>(j(o,(m,y)=>{c=i(c,m,y)}),c),re=(o,i,c)=>(me(o,(m,y)=>{c=i(c,m,y)}),c),Re=(o,i,c)=>{for(let m=0,y=o.length;m<y;m++){const _=o[m];if(i(_,m))return L.some(_);if(c(_,m))break}return L.none()},Oe=(o,i)=>Re(o,i,ln),pt=(o,i)=>{for(let c=0,m=o.length;c<m;c++){const y=o[c];if(i(y,c))return L.some(c)}return L.none()},Ke=o=>{const i=[];for(let c=0,m=o.length;c<m;++c){if(!$(o[c]))throw new Error("Arr.flatten item "+c+" was not an array, input: "+o);Nn.apply(i,o[c])}return i},le=(o,i)=>Ke(Ee(o,i)),$e=(o,i)=>{for(let c=0,m=o.length;c<m;++c){const y=o[c];if(i(y,c)!==!0)return!1}return!0},Qe=o=>{const i=Ht.call(o,0);return i.reverse(),i},Ve=(o,i)=>Xe(o,c=>!Zn(i,c)),oe=(o,i)=>{const c={};for(let m=0,y=o.length;m<y;m++){const _=o[m];c[String(_)]=i(_,m)}return c},ye=o=>[o],Ye=(o,i)=>{const c=Ht.call(o,0);return c.sort(i),c},ut=(o,i)=>i>=0&&i<o.length?L.some(o[i]):L.none(),zt=o=>ut(o,0),Dt=o=>ut(o,o.length-1),Vt=xe(Array.from)?Array.from:o=>Ht.call(o),sn=(o,i)=>{for(let c=0;c<o.length;c++){const m=i(o[c],c);if(m.isSome())return m}return L.none()},_n=Object.keys,Un=Object.hasOwnProperty,lo=(o,i)=>{const c=_n(o);for(let m=0,y=c.length;m<y;m++){const _=c[m],C=o[_];i(C,_)}},mo=(o,i)=>Io(o,(c,m)=>({k:m,v:i(c,m)})),Io=(o,i)=>{const c={};return lo(o,(m,y)=>{const _=i(m,y);c[_.k]=_.v}),c},_s=o=>(i,c)=>{o[c]=i},Uo=(o,i,c,m)=>{lo(o,(y,_)=>{(i(y,_)?c:m)(y,_)})},zs=(o,i)=>{const c={},m={};return Uo(o,i,_s(c),_s(m)),{t:c,f:m}},Dl=(o,i)=>{const c={};return Uo(o,i,_s(c),ne),c},Ii=(o,i)=>{const c=[];return lo(o,(m,y)=>{c.push(i(m,y))}),c},Fr=(o,i)=>{const c=_n(o);for(let m=0,y=c.length;m<y;m++){const _=c[m],C=o[_];if(i(C,_,o))return L.some(C)}return L.none()},pi=o=>Ii(o,Te),Gt=(o,i)=>Mo(o,i)?L.from(o[i]):L.none(),Mo=(o,i)=>Un.call(o,i),Qi=(o,i)=>Mo(o,i)&&o[i]!==void 0&&o[i]!==null,la=(o,i,c=st)=>o.exists(m=>c(m,i)),Ku=(o,i,c=st)=>ac(o,i,c).getOr(o.isNone()&&i.isNone()),du=o=>{const i=[],c=m=>{i.push(m)};for(let m=0;m<o.length;m++)o[m].each(c);return i},bs=o=>{const i=[];for(let c=0;c<o.length;c++){const m=o[c];if(m.isSome())i.push(m.getOrDie());else return L.none()}return L.some(i)},ac=(o,i,c)=>o.isSome()&&i.isSome()?L.some(c(o.getOrDie(),i.getOrDie())):L.none(),Yu=(o,i,c,m)=>o.isSome()&&i.isSome()&&c.isSome()?L.some(m(o.getOrDie(),i.getOrDie(),c.getOrDie())):L.none(),us=(o,i)=>o!=null?L.some(i(o)):L.none(),Ln=(o,i)=>o?L.some(i):L.none(),oi=(o,i)=>o+i,Oc=(o,i)=>o.substring(i),Mf=(o,i,c)=>i===""||o.length>=i.length&&o.substr(c,c+i.length)===i,fu=(o,i)=>gr(o,i)?Oc(o,i.length):o,gi=(o,i)=>Dc(o,i)?o:oi(o,i),ca=(o,i,c=0,m)=>{const y=o.indexOf(i,c);return y!==-1?de(m)?!0:y+i.length<=m:!1},gr=(o,i)=>Mf(o,i,0),Dc=(o,i)=>Mf(o,i,o.length-i.length),Ca=(o=>i=>i.replace(o,""))(/^\s+|\s+$/g),Oi=o=>o.length>0,Zs=o=>!Oi(o),ja=o=>o.style!==void 0&&xe(o.style.getPropertyValue),ic=(o,i)=>{const m=(i||document).createElement("div");if(m.innerHTML=o,!m.hasChildNodes()||m.childNodes.length>1){const y="HTML does not have a single root node";throw console.error(y,o),new Error(y)}return yi(m.childNodes[0])},Pf=(o,i)=>{const m=(i||document).createElement(o);return yi(m)},Mh=(o,i)=>{const m=(i||document).createTextNode(o);return yi(m)},yi=o=>{if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},ze={fromHtml:ic,fromTag:Pf,fromText:Mh,fromDom:yi,fromPoint:(o,i,c)=>L.from(o.dom.elementFromPoint(i,c)).map(yi)},Sa=typeof window<"u"?window:Function("return this;")(),Wd=(o,i)=>{let c=i!=null?i:Sa;for(let m=0;m<o.length&&c!==void 0&&c!==null;++m)c=c[o[m]];return c},cg=(o,i)=>{const c=o.split(".");return Wd(c,i)},Bm=(o,i)=>cg(o,i),vs=(o,i)=>{const c=Bm(o,i);if(c==null)throw new Error(o+" not available on this browser");return c},ug=Object.getPrototypeOf,Ph=o=>vs("HTMLElement",o),Xu=o=>{const i=cg("ownerDocument.defaultView",o);return T(o)&&(Ph(i).prototype.isPrototypeOf(o)||/^HTML\w*Element$/.test(ug(o).constructor.name))},bi=9,yr=11,Rr=1,hu=3,el=o=>o.dom.nodeName.toLowerCase(),Mc=o=>o.dom.nodeType,Ju=o=>i=>Mc(i)===o,Qu=o=>Jo(o)&&Xu(o.dom),Jo=Ju(Rr),tl=Ju(hu),Zd=Ju(bi),Pc=Ju(yr),yl=o=>i=>Jo(i)&&el(i)===o,Di=(o,i)=>{const c=o.dom;if(c.nodeType!==Rr)return!1;{const m=c;if(m.matches!==void 0)return m.matches(i);if(m.msMatchesSelector!==void 0)return m.msMatchesSelector(i);if(m.webkitMatchesSelector!==void 0)return m.webkitMatchesSelector(i);if(m.mozMatchesSelector!==void 0)return m.mozMatchesSelector(i);throw new Error("Browser lacks native selectors")}},Gs=o=>o.nodeType!==Rr&&o.nodeType!==bi&&o.nodeType!==yr||o.childElementCount===0,Xy=(o,i)=>{const c=i===void 0?document:i.dom;return Gs(c)?[]:Ee(c.querySelectorAll(o),ze.fromDom)},$m=(o,i)=>{const c=i===void 0?document:i.dom;return Gs(c)?L.none():L.from(c.querySelector(o)).map(ze.fromDom)},as=(o,i)=>o.dom===i.dom,nl=(o,i)=>{const c=o.dom,m=i.dom;return c===m?!1:c.contains(m)},Mi=o=>ze.fromDom(o.dom.ownerDocument),Kr=o=>Zd(o)?o:Mi(o),zf=o=>ze.fromDom(Kr(o).dom.documentElement),ed=o=>ze.fromDom(Kr(o).dom.defaultView),bl=o=>L.from(o.dom.parentNode).map(ze.fromDom),Ml=o=>L.from(o.dom.parentElement).map(ze.fromDom),Vm=(o,i)=>{const c=xe(i)?i:ln;let m=o.dom;const y=[];for(;m.parentNode!==null&&m.parentNode!==void 0;){const _=m.parentNode,C=ze.fromDom(_);if(y.push(C),c(C)===!0)break;m=_}return y},zh=o=>L.from(o.dom.offsetParent).map(ze.fromDom),dg=o=>L.from(o.dom.nextSibling).map(ze.fromDom),Pi=o=>Ee(o.dom.childNodes,ze.fromDom),mu=(o,i)=>{const c=o.dom.childNodes;return L.from(c[i]).map(ze.fromDom)},Nf=o=>mu(o,0),Hm=(o,i)=>({element:o,offset:i}),Nh=(o,i)=>{const c=Pi(o);return c.length>0&&i<c.length?Hm(c[i],0):Hm(o,i)},Lh=o=>Pc(o)&&Ne(o.dom.host),Um=xe(Element.prototype.attachShadow)&&xe(Node.prototype.getRootNode),Lf=J(Um),Br=Um?o=>ze.fromDom(o.dom.getRootNode()):Kr,Wa=o=>Lh(o)?o:ze.fromDom(Kr(o).dom.body),zc=o=>jm(o).isSome(),jm=o=>{const i=Br(o);return Lh(i)?L.some(i):L.none()},fg=o=>ze.fromDom(o.dom.host),pu=o=>{if(Lf()&&Ne(o.target)){const i=ze.fromDom(o.target);if(Jo(i)&&Jy(i)&&o.composed&&o.composedPath){const c=o.composedPath();if(c)return zt(c)}}return L.from(o.target)},Jy=o=>Ne(o.dom.shadowRoot),Za=o=>{const i=tl(o)?o.dom.parentNode:o.dom;if(i==null||i.ownerDocument===null)return!1;const c=i.ownerDocument;return jm(ze.fromDom(i)).fold(()=>c.body.contains(i),We(Za,fg))},Yr=()=>lc(ze.fromDom(document)),lc=o=>{const i=o.dom.body;if(i==null)throw new Error("Body is not available yet");return ze.fromDom(i)},Pl=(o,i,c)=>{if(x(c)||H(c)||Fe(c))o.setAttribute(i,c+"");else throw console.error("Invalid call to Attribute.set. Key ",i,":: Value ",c,":: Element ",o),new Error("Attribute value was not simple")},Jn=(o,i,c)=>{Pl(o.dom,i,c)},Bo=(o,i)=>{const c=o.dom;lo(i,(m,y)=>{Pl(c,y,m)})},ua=(o,i)=>{const c=o.dom.getAttribute(i);return c===null?void 0:c},G=(o,i)=>L.from(ua(o,i)),ae=(o,i)=>{const c=o.dom;return c&&c.hasAttribute?c.hasAttribute(i):!1},ge=(o,i)=>{o.dom.removeAttribute(i)},Je=o=>re(o.dom.attributes,(i,c)=>(i[c.name]=c.value,i),{}),en=(o,i,c)=>{if(!x(c))throw console.error("Invalid call to CSS.set. Property ",i,":: Value ",c,":: Element ",o),new Error("CSS value must be a string: "+c);ja(o)&&o.style.setProperty(i,c)},co=(o,i)=>{ja(o)&&o.style.removeProperty(i)},un=(o,i,c)=>{const m=o.dom;en(m,i,c)},Ar=(o,i)=>{const c=o.dom;lo(i,(m,y)=>{en(c,y,m)})},da=(o,i)=>{const c=o.dom;lo(i,(m,y)=>{m.fold(()=>{co(c,y)},_=>{en(c,y,_)})})},xt=(o,i)=>{const c=o.dom,y=window.getComputedStyle(c).getPropertyValue(i);return y===""&&!Za(o)?$r(c,i):y},$r=(o,i)=>ja(o)?o.style.getPropertyValue(i):"",er=(o,i)=>{const c=o.dom,m=$r(c,i);return L.from(m).filter(y=>y.length>0)},fa=o=>{const i={},c=o.dom;if(ja(c))for(let m=0;m<c.style.length;m++){const y=c.style.item(m);i[y]=c.style[y]}return i},hg=(o,i,c)=>{const m=ze.fromTag(o);return un(m,i,c),er(m,i).isSome()},Ro=(o,i)=>{const c=o.dom;co(c,i),la(G(o,"style").map(Ca),"")&&ge(o,"style")},gu=o=>o.dom.offsetWidth,zi=(o,i)=>{const c=(R,M)=>{if(!Fe(M)&&!M.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+M);const N=R.dom;ja(N)&&(N.style[o]=M+"px")},m=R=>{const M=i(R);if(M<=0||M===null){const N=xt(R,o);return parseFloat(N)||0}return M},y=m,_=(R,M)=>re(M,(N,V)=>{const Z=xt(R,V),K=Z===void 0?0:parseInt(Z,10);return isNaN(K)?N:N+K},0);return{set:c,get:m,getOuter:y,aggregate:_,max:(R,M,N)=>{const V=_(R,N);return M>V?M-V:0}}},br=zi("height",o=>{const i=o.dom;return Za(o)?i.getBoundingClientRect().height:i.offsetHeight}),Vr=o=>br.get(o),Ff=o=>br.getOuter(o),kx=(o,i)=>{const c=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],m=br.max(o,i,c);un(o,"max-height",m+"px")},Qy=(o,i)=>({left:o,top:i,translate:(m,y)=>Qy(o+m,i+y)}),qs=Qy,Hr=o=>{const i=o.getBoundingClientRect();return qs(i.left,i.top)},Bf=(o,i)=>o!==void 0?o:i!==void 0?i:0,si=o=>{const i=o.dom.ownerDocument,c=i.body,m=i.defaultView,y=i.documentElement;if(c===o.dom)return qs(c.offsetLeft,c.offsetTop);const _=Bf(m==null?void 0:m.pageYOffset,y.scrollTop),C=Bf(m==null?void 0:m.pageXOffset,y.scrollLeft),R=Bf(y.clientTop,c.clientTop),M=Bf(y.clientLeft,c.clientLeft);return Gd(o).translate(C-M,_-R)},Gd=o=>{const i=o.dom,m=i.ownerDocument.body;return m===i?qs(m.offsetLeft,m.offsetTop):Za(o)?Hr(i):qs(0,0)},Wm=zi("width",o=>o.dom.offsetWidth),ks=(o,i)=>Wm.set(o,i),vi=o=>Wm.get(o),ri=o=>Wm.getOuter(o),C1=(o,i)=>{const c=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],m=Wm.max(o,i,c);un(o,"max-width",m+"px")},qd=o=>{let i=!1,c;return(...m)=>(i||(i=!0,c=o.apply(null,m)),c)},Cs=(o,i,c,m)=>{const y=o.isiOS()&&/ipad/i.test(c)===!0,_=o.isiOS()&&!y,C=o.isiOS()||o.isAndroid(),R=C||m("(pointer:coarse)"),M=y||!_&&C&&m("(min-device-width:768px)"),N=_||C&&!M,V=i.isSafari()&&o.isiOS()&&/safari/i.test(c)===!1,Z=!N&&!M&&!V;return{isiPad:J(y),isiPhone:J(_),isTablet:J(M),isPhone:J(N),isTouch:J(R),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:J(V),isDesktop:J(Z)}},wi=(o,i)=>{for(let c=0;c<o.length;c++){const m=o[c];if(m.test(i))return m}},$f=(o,i)=>{const c=wi(o,i);if(!c)return{major:0,minor:0};const m=y=>Number(i.replace(c,"$"+y));return Nc(m(1),m(2))},S1=(o,i)=>{const c=String(i).toLowerCase();return o.length===0?Fh():$f(o,c)},Fh=()=>Nc(0,0),Nc=(o,i)=>({major:o,minor:i}),vr={nu:Nc,detect:S1,unknown:Fh},_i=(o,i)=>sn(i.brands,c=>{const m=c.brand.toLowerCase();return Oe(o,y=>{var _;return m===((_=y.brand)===null||_===void 0?void 0:_.toLowerCase())}).map(y=>({current:y.name,version:vr.nu(parseInt(c.version,10),0)}))}),Ni=(o,i)=>{const c=String(i).toLowerCase();return Oe(o,m=>m.search(c))},Lc=(o,i)=>Ni(o,i).map(c=>{const m=vr.detect(c.versionRegexes,i);return{current:c.name,version:m}}),Ga=(o,i)=>Ni(o,i).map(c=>{const m=vr.detect(c.versionRegexes,i);return{current:c.name,version:m}}),Ir=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,vl=o=>i=>ca(i,o),Zm=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:o=>ca(o,"edge/")&&ca(o,"chrome")&&ca(o,"safari")&&ca(o,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ir],search:o=>ca(o,"chrome")&&!ca(o,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:o=>ca(o,"msie")||ca(o,"trident")},{name:"Opera",versionRegexes:[Ir,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:vl("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:vl("firefox")},{name:"Safari",versionRegexes:[Ir,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:o=>(ca(o,"safari")||ca(o,"mobile/"))&&ca(o,"applewebkit")}],Kd=[{name:"Windows",search:vl("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:o=>ca(o,"iphone")||ca(o,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:vl("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:vl("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:vl("linux"),versionRegexes:[]},{name:"Solaris",search:vl("sunos"),versionRegexes:[]},{name:"FreeBSD",search:vl("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:vl("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Bh={browsers:J(Zm),oses:J(Kd)},mg="Edge",zl="Chromium",Yd="IE",Gm="Opera",Or="Firefox",qm="Safari",Vf=()=>$h({current:void 0,version:vr.unknown()}),$h=o=>{const i=o.current,c=o.version,m=y=>()=>i===y;return{current:i,version:c,isEdge:m(mg),isChromium:m(zl),isIE:m(Yd),isOpera:m(Gm),isFirefox:m(Or),isSafari:m(qm)}},Vh={unknown:Vf,nu:$h,edge:J(mg),chromium:J(zl),ie:J(Yd),opera:J(Gm),firefox:J(Or),safari:J(qm)},pg="Windows",Km="iOS",Hf="Android",eb="Linux",tb="macOS",Uf="Solaris",P0="FreeBSD",ve="ChromeOS",gg=()=>Li({current:void 0,version:vr.unknown()}),Li=o=>{const i=o.current,c=o.version,m=y=>()=>i===y;return{current:i,version:c,isWindows:m(pg),isiOS:m(Km),isAndroid:m(Hf),isMacOS:m(tb),isLinux:m(eb),isSolaris:m(Uf),isFreeBSD:m(P0),isChromeOS:m(ve)}},nb={unknown:gg,nu:Li,windows:J(pg),ios:J(Km),android:J(Hf),linux:J(eb),macos:J(tb),solaris:J(Uf),freebsd:J(P0),chromeos:J(ve)},N0={detect:(o,i,c)=>{const m=Bh.browsers(),y=Bh.oses(),_=i.bind(M=>_i(m,M)).orThunk(()=>Lc(m,o)).fold(Vh.unknown,Vh.nu),C=Ga(y,o).fold(nb.unknown,nb.nu),R=Cs(C,_,o,c);return{browser:_,os:C,deviceType:R}}},Yo=o=>window.matchMedia(o).matches;let cc=qd(()=>N0.detect(navigator.userAgent,L.from(navigator.userAgentData),Yo));const ki=()=>cc(),Nl=(o,i,c,m,y,_,C)=>({target:o,x:i,y:c,stop:m,prevent:y,kill:_,raw:C}),x1=o=>{const i=ze.fromDom(pu(o).getOr(o.target)),c=()=>o.stopPropagation(),m=()=>o.preventDefault(),y=Ue(m,c);return Nl(i,o.clientX,o.clientY,c,m,y,o)},jf=(o,i)=>c=>{o(c)&&i(x1(c))},Ll=(o,i,c,m,y)=>{const _=jf(c,m);return o.dom.addEventListener(i,_,y),{unbind:wt(L0,o,i,_,y)}},Ym=(o,i,c,m)=>Ll(o,i,c,m,!1),ob=(o,i,c,m)=>Ll(o,i,c,m,!0),L0=(o,i,c,m)=>{o.dom.removeEventListener(i,c,m)},Fl=(o,i)=>{bl(o).each(m=>{m.dom.insertBefore(i.dom,o.dom)})},Hh=(o,i)=>{dg(o).fold(()=>{bl(o).each(y=>{wl(y,i)})},m=>{Fl(m,i)})},E1=(o,i)=>{Nf(o).fold(()=>{wl(o,i)},m=>{o.dom.insertBefore(i.dom,m.dom)})},wl=(o,i)=>{o.dom.appendChild(i.dom)},xa=(o,i,c)=>{mu(o,c).fold(()=>{wl(o,i)},m=>{Fl(m,i)})},Uh=(o,i)=>{me(i,c=>{wl(o,c)})},jh=o=>{o.dom.textContent="",me(Pi(o),i=>{uc(i)})},uc=o=>{const i=o.dom;i.parentNode!==null&&i.parentNode.removeChild(i)},_l=o=>{const i=o!==void 0?o.dom:document,c=i.body.scrollLeft||i.documentElement.scrollLeft,m=i.body.scrollTop||i.documentElement.scrollTop;return qs(c,m)},sb=(o,i,c)=>{const y=(c!==void 0?c.dom:document).defaultView;y&&y.scrollTo(o,i)},yg=o=>{const i=o===void 0?window:o;return ki().browser.isFirefox()?L.none():L.from(i.visualViewport)},bg=(o,i,c,m)=>({x:o,y:i,width:c,height:m,right:o+c,bottom:i+m}),rb=o=>{const i=o===void 0?window:o,c=i.document,m=_l(ze.fromDom(c));return yg(i).fold(()=>{const y=i.document.documentElement,_=y.clientWidth,C=y.clientHeight;return bg(m.left,m.top,_,C)},y=>bg(Math.max(y.pageLeft,m.left),Math.max(y.pageTop,m.top),y.width,y.height))},yu=()=>ze.fromDom(document),Xm=(o,i)=>o.view(i).fold(J([]),m=>{const y=o.owner(m),_=Xm(o,y);return[m].concat(_)}),T1=(o,i)=>{const c=i.owner(o),m=Xm(i,c);return L.some(m)};var vg=Object.freeze({__proto__:null,view:o=>{var i;return(o.dom===document?L.none():L.from((i=o.dom.defaultView)===null||i===void 0?void 0:i.frameElement)).map(ze.fromDom)},owner:o=>Mi(o)});const ab=o=>{const i=yu(),c=_l(i);return T1(o,vg).fold(wt(si,o),y=>{const _=Gd(o),C=Tt(y,(R,M)=>{const N=Gd(M);return{left:R.left+N.left,top:R.top+N.top}},{left:0,top:0});return qs(C.left+_.left+c.left,C.top+_.top+c.top)})},td=(o,i,c)=>({point:o,width:i,height:c}),ib=(o,i,c,m)=>({x:o,y:i,width:c,height:m}),Ns=(o,i,c,m)=>({x:o,y:i,width:c,height:m,right:o+c,bottom:i+m}),tr=o=>{const i=si(o),c=ri(o),m=Ff(o);return Ns(i.left,i.top,c,m)},nd=o=>{const i=ab(o),c=ri(o),m=Ff(o);return Ns(i.left,i.top,c,m)},A1=(o,i)=>{const c=Math.max(o.x,i.x),m=Math.max(o.y,i.y),y=Math.min(o.right,i.right),_=Math.min(o.bottom,i.bottom),C=y-c,R=_-m;return Ns(c,m,C,R)},I1=(o,i)=>re(i,(c,m)=>A1(c,m),o),Ea=()=>rb(window);var Wh=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Fc=o=>{const i=_=>_(o),c=J(o),m=()=>y,y={tag:!0,inner:o,fold:(_,C)=>C(o),isValue:It,isError:ln,map:_=>to.value(_(o)),mapError:m,bind:i,exists:i,forall:i,getOr:c,or:m,getOrThunk:c,orThunk:m,getOrDie:c,each:_=>{_(o)},toOptional:()=>L.some(o)};return y},bu=o=>{const i=()=>c,c={tag:!1,inner:o,fold:(m,y)=>m(o),isValue:ln,isError:It,map:i,mapError:m=>to.error(m(o)),bind:i,exists:ln,forall:It,getOr:Te,or:Te,getOrThunk:Rn,orThunk:Rn,getOrDie:ue(String(o)),each:ne,toOptional:L.none};return c},to={value:Fc,error:bu,fromOption:(o,i)=>o.fold(()=>bu(i),Fc)};var Ci;(function(o){o[o.Error=0]="Error",o[o.Value=1]="Value"})(Ci||(Ci={}));const Zh=(o,i,c)=>o.stype===Ci.Error?i(o.serror):c(o.svalue),O1=o=>{const i=[],c=[];return me(o,m=>{Zh(m,y=>c.push(y),y=>i.push(y))}),{values:i,errors:c}},Zf=(o,i)=>o.stype===Ci.Error?{stype:Ci.Error,serror:i(o.serror)}:o,Jm=(o,i)=>o.stype===Ci.Value?{stype:Ci.Value,svalue:i(o.svalue)}:o,dc=(o,i)=>o.stype===Ci.Value?i(o.svalue):o,ol=(o,i)=>o.stype===Ci.Error?i(o.serror):o,ai=o=>({stype:Ci.Value,svalue:o}),kl=o=>({stype:Ci.Error,serror:o}),Zo={fromResult:o=>o.fold(kl,ai),toResult:o=>Zh(o,to.error,to.value),svalue:ai,partition:O1,serror:kl,bind:dc,bindError:ol,map:Jm,mapError:Zf,fold:Zh},od=(o,i,c,m)=>({tag:"field",key:o,newKey:i,presence:c,prop:m}),Xd=(o,i)=>({tag:"custom",newKey:o,instantiator:i}),nr=(o,i,c)=>{switch(o.tag){case"field":return i(o.key,o.newKey,o.presence,o.prop);case"custom":return c(o.newKey,o.instantiator)}},M1=(o,i)=>i,F0=(o,i)=>I(o)&&I(i)?ds(o,i):i,sd=o=>(...i)=>{if(i.length===0)throw new Error("Can't merge zero objects");const c={};for(let m=0;m<i.length;m++){const y=i[m];for(const _ in y)Mo(y,_)&&(c[_]=o(c[_],y[_]))}return c},ds=sd(F0),hs=sd(M1),Dr=()=>({tag:"required",process:{}}),Jd=o=>({tag:"defaultedThunk",process:o}),Qd=o=>Jd(J(o)),Gf=()=>({tag:"option",process:{}}),ef=o=>({tag:"mergeWithThunk",process:o}),go=o=>ef(J(o)),wg=(o,i)=>o.length>0?Zo.svalue(ds(i,hs.apply(void 0,o))):Zo.svalue(i),lb=o=>Ue(Zo.serror,Ke)(o),Qm={consolidateObj:(o,i)=>{const c=Zo.partition(o);return c.errors.length>0?lb(c.errors):wg(c.values,i)},consolidateArr:o=>{const i=Zo.partition(o);return i.errors.length>0?lb(i.errors):Zo.svalue(i.values)}},P1=o=>T(o)&&_n(o).length>100?" removed due to size":JSON.stringify(o,null,2),ep=o=>{const i=o.length>10?o.slice(0,10).concat([{path:[],getErrorInfo:J("... (only showing first ten failures)")}]):o;return Ee(i,c=>"Failed path: ("+c.path.join(" > ")+`)
`+c.getErrorInfo())},fc=(o,i)=>Zo.serror([{path:o,getErrorInfo:i}]),z1=(o,i,c)=>fc(o,()=>'Could not find valid *required* value for "'+i+'" in '+P1(c)),_g=(o,i)=>fc(o,()=>'Choice schema did not contain choice key: "'+i+'"'),N1=(o,i,c)=>fc(o,()=>'The chosen schema: "'+c+'" did not exist in branches: '+P1(i)),Bc=(o,i)=>fc(o,()=>"There are unsupported fields: ["+i.join(", ")+"] specified"),cb=(o,i)=>fc(o,J(i)),$c=o=>{const i=(m,y)=>Zo.bindError(o(y),_=>cb(m,_)),c=J("val");return{extract:i,toString:c}},Gh=$c(Zo.svalue),L1=(o,i,c,m)=>Gt(i,c).fold(()=>z1(o,c,i),m),kg=(o,i,c,m)=>{const y=Gt(o,i).getOrThunk(()=>c(o));return m(y)},ub=(o,i,c)=>c(Gt(o,i)),db=(o,i,c,m)=>{const y=Gt(o,i).map(_=>_===!0?c(o):_);return m(y)},Ta=(o,i,c,m,y)=>{const _=R=>y.extract(i.concat([m]),R),C=R=>R.fold(()=>Zo.svalue(L.none()),M=>{const N=y.extract(i.concat([m]),M);return Zo.map(N,L.some)});switch(o.tag){case"required":return L1(i,c,m,_);case"defaultedThunk":return kg(c,m,o.process,_);case"option":return ub(c,m,C);case"defaultedOptionThunk":return db(c,m,o.process,C);case"mergeWithThunk":return kg(c,m,J({}),R=>{const M=ds(o.process(c),R);return _(M)})}},fb=(o,i,c)=>{const m={},y=[];for(const _ of c)nr(_,(C,R,M,N)=>{const V=Ta(M,o,i,C,N);Zo.fold(V,Z=>{y.push(...Z)},Z=>{m[R]=Z})},(C,R)=>{m[C]=R(i)});return y.length>0?Zo.serror(y):Zo.svalue(m)},Mr=o=>({extract:(m,y)=>o().extract(m,y),toString:()=>o().toString()}),tf=o=>_n(Dl(o,Ne)),Fi=o=>{const i=ht(o),c=Tt(o,(y,_)=>nr(_,C=>ds(y,{[C]:!0}),J(y)),{});return{extract:(y,_)=>{const C=H(_)?[]:tf(_),R=Xe(C,M=>!Qi(c,M));return R.length===0?i.extract(y,_):Bc(y,R)},toString:i.toString}},ht=o=>({extract:(m,y)=>fb(m,y,o),toString:()=>`obj{
`+Ee(o,y=>nr(y,(_,C,R,M)=>_+" -> "+M.toString(),(_,C)=>"state("+_+")")).join(`
`)+"}"}),Vc=o=>({extract:(m,y)=>{const _=Ee(y,(C,R)=>o.extract(m.concat(["["+R+"]"]),C));return Qm.consolidateArr(_)},toString:()=>"array("+o.toString()+")"}),Bl=(o,i)=>{const c=i!==void 0?i:Te;return{extract:(_,C)=>{const R=[];for(const M of o){const N=M.extract(_,C);if(N.stype===Ci.Value)return{stype:Ci.Value,svalue:c(N.svalue)};R.push(N)}return Qm.consolidateArr(R)},toString:()=>"oneOf("+Ee(o,_=>_.toString()).join(", ")+")"}},rd=(o,i)=>{const c=(_,C)=>Vc($c(o)).extract(_,C);return{extract:(_,C)=>{const R=_n(C),M=c(_,R);return Zo.bind(M,N=>{const V=Ee(N,Z=>od(Z,Z,Dr(),i));return ht(V).extract(_,C)})},toString:()=>"setOf("+i.toString()+")"}},hb=(o,i)=>{const c=qd(i);return{extract:(_,C)=>c().extract(_,C),toString:()=>c().toString()}},mb=Ue(Vc,ht),Ra=J(Gh),ad=(o,i)=>$c(c=>{const m=typeof c;return o(c)?Zo.svalue(c):Zo.serror(`Expected type: ${i} but got: ${m}`)}),hc=ad(Fe,"number"),ma=ad(x,"string"),qf=ad(H,"boolean"),Pt=ad(xe,"function"),pb=o=>{if(Object(o)!==o)return!0;switch({}.toString.call(o).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(o).every(i=>pb(o[i]));default:return!1}},V0=$c(o=>pb(o)?Zo.svalue(o):Zo.serror("Expected value to be acceptable for sending via postMessage")),id=(o,i,c,m)=>Gt(c,m).fold(()=>N1(o,c,m),_=>_.extract(o.concat(["branch: "+m]),i)),Hc=(o,i)=>({extract:(y,_)=>Gt(_,o).fold(()=>_g(y,o),R=>id(y,_,i,R)),toString:()=>"chooseOn("+o+"). Possible values: "+_n(i)}),Cg=()=>Vc(Gh),Vs=o=>$c(i=>o(i).fold(Zo.serror,Zo.svalue)),qh=(o,i)=>rd(c=>Zo.fromResult(o(c)),i),Uc=(o,i,c)=>{const m=i.extract([o],c);return Zo.mapError(m,y=>({input:c,errors:y}))},eo=(o,i,c)=>Zo.toResult(Uc(o,i,c)),Cl=o=>o.fold(i=>{throw new Error(sl(i))},Te),Bi=(o,i,c)=>Cl(eo(o,i,c)),sl=o=>`Errors: 
`+ep(o.errors).join(`
`)+`

Input object: `+P1(o.input),$i=(o,i)=>Hc(o,mo(i,ht)),$l=(o,i)=>hb(o,i),Qo=od,ii=Xd,Sg=o=>Vs(i=>Zn(o,i)?to.value(i):to.error(`Unsupported value: "${i}", choose one of "${o.join(", ")}".`)),Ct=o=>Qo(o,o,Dr(),Ra()),Vi=(o,i)=>Qo(o,o,Dr(),i),tp=o=>Vi(o,hc),wr=o=>Vi(o,ma),vu=(o,i)=>Qo(o,o,Dr(),Sg(i)),gb=o=>Vi(o,qf),mc=o=>Vi(o,Pt),H0=(o,i)=>Qo(o,o,Gf(),$c(c=>Zo.serror("The field: "+o+" is forbidden. "+i))),ld=(o,i)=>Qo(o,o,Dr(),ht(i)),F1=(o,i)=>Qo(o,o,Dr(),mb(i)),rl=(o,i)=>Qo(o,o,Dr(),Vc(i)),jo=o=>Qo(o,o,Gf(),Ra()),wu=(o,i)=>Qo(o,o,Gf(),i),np=o=>wu(o,hc),_r=o=>wu(o,ma),Hi=(o,i)=>wu(o,Sg(i)),Kf=o=>wu(o,Pt),op=(o,i)=>wu(o,Vc(i)),pa=(o,i)=>wu(o,ht(i)),xg=(o,i)=>wu(o,Fi(i)),Be=(o,i)=>Qo(o,o,Qd(i),Ra()),li=(o,i,c)=>Qo(o,o,Qd(i),c),Kh=(o,i)=>li(o,i,hc),qa=(o,i)=>li(o,i,ma),Vl=(o,i,c)=>li(o,i,Sg(c)),ci=(o,i)=>li(o,i,qf),Ur=(o,i)=>li(o,i,Pt),U0=(o,i)=>li(o,i,V0),Eg=(o,i,c)=>li(o,i,Vc(c)),O=(o,i,c)=>li(o,i,ht(c)),D=o=>{let i=o;return{get:()=>i,set:y=>{i=y}}},te={generate:o=>{if(!$(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");const i=[],c={};return me(o,(m,y)=>{const _=_n(m);if(_.length!==1)throw new Error("one and only one name per case");const C=_[0],R=m[C];if(c[C]!==void 0)throw new Error("duplicate key detected:"+C);if(C==="cata")throw new Error("cannot have a case named cata (sorry)");if(!$(R))throw new Error("case arguments must be an array");i.push(C),c[C]=(...M)=>{const N=M.length;if(N!==R.length)throw new Error("Wrong number of arguments to case "+C+". Expected "+R.length+" ("+R+"), got "+N);return{fold:(...Z)=>{if(Z.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+Z.length);return Z[y].apply(null,M)},match:Z=>{const K=_n(Z);if(i.length!==K.length)throw new Error("Wrong number of arguments to match. Expected: "+i.join(",")+`
Actual: `+K.join(","));if(!$e(i,ie=>Zn(K,ie)))throw new Error("Not all branches were specified when using match. Specified: "+K.join(", ")+`
Required: `+i.join(", "));return Z[C].apply(null,M)},log:Z=>{console.log(Z,{constructors:i,constructor:C,params:M})}}}}),c}};te.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ce=o=>{const i=[],c=[];return me(o,m=>{m.fold(y=>{i.push(y)},y=>{c.push(y)})}),{errors:i,values:c}},at=(o,i)=>{const c={};return lo(o,(m,y)=>{Zn(i,y)||(c[y]=m)}),c},Nt=(o,i)=>({[o]:i}),rn=o=>{const i={};return me(o,c=>{i[c.key]=c.value}),i},jn=(o,i)=>at(o,i),Wn=(o,i)=>Nt(o,i),$o=o=>rn(o),ss=(o,i)=>o.length===0?to.value(i):to.value(ds(i,hs.apply(void 0,o))),Ls=o=>to.error(Ke(o)),Ui=(o,i)=>{const c=Ce(o);return c.errors.length>0?Ls(c.errors):ss(c.values,i)},Aa=o=>xe(o)?o:ln,cd=(o,i,c)=>{let m=o.dom;const y=Aa(c);for(;m.parentNode;){m=m.parentNode;const _=ze.fromDom(m),C=i(_);if(C.isSome())return C;if(y(_))break}return L.none()},Hl=(o,i,c)=>{const m=i(o),y=Aa(c);return m.orThunk(()=>y(o)?L.none():cd(o,i,y))},Yf=(o,i)=>as(o.element,i.event.target),sp={can:It,abort:ln,run:ne},Ul=o=>{if(!Qi(o,"can")&&!Qi(o,"abort")&&!Qi(o,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(o,null,2)+" does not have can, abort, or run!");return{...sp,...o}},Xf=(o,i)=>(...c)=>re(o,(m,y)=>m&&i(y).apply(void 0,c),!0),Tg=(o,i)=>(...c)=>re(o,(m,y)=>m||i(y).apply(void 0,c),!1),Rg=o=>xe(o)?{can:It,abort:ln,run:o}:o,Yh=o=>{const i=Xf(o,y=>y.can),c=Tg(o,y=>y.abort);return{can:i,abort:c,run:(...y)=>{me(o,_=>{_.run.apply(void 0,y)})}}},Xr=J,_u=Xr("touchstart"),_o=Xr("touchmove"),ms=Xr("touchend"),Si=Xr("touchcancel"),is=Xr("mousedown"),Ag=Xr("mousemove"),Jf=Xr("mouseout"),Qf=Xr("mouseup"),pc=Xr("mouseover"),Xh=Xr("focusin"),B1=Xr("focusout"),jl=Xr("keydown"),Jh=Xr("keyup"),nf=Xr("input"),ku=Xr("change"),jc=Xr("click"),yb=Xr("transitioncancel"),Ig=Xr("transitionend"),Cx=Xr("transitionstart"),nI=Xr("selectstart"),ar=o=>J("alloy."+o),oI={tap:ar("tap")},of=ar("focus"),j0=ar("blur.post"),W0=ar("paste.post"),or=ar("receive"),ji=ar("execute"),Og=ar("focus.item"),rp=oI.tap,Sx=ar("longpress"),Dg=ar("sandbox.close"),bb=ar("typeahead.cancel"),$1=ar("system.init"),sI=ar("system.touchmove"),Z0=ar("system.touchend"),vb=ar("system.scroll"),ap=ar("system.resize"),sf=ar("system.attached"),ud=ar("system.detached"),eh=ar("system.dismissRequested"),V1=ar("system.repositionRequested"),Qh=ar("focusmanager.shifted"),G0=ar("slotcontainer.visibility"),xx=ar("system.external.element.scroll"),q0=ar("change.tab"),Ex=ar("dismiss.tab"),K0=ar("highlight"),H1=ar("dehighlight"),zo=(o,i)=>{Mg(o,o.element,i,{})},xn=(o,i,c)=>{Mg(o,o.element,i,c)},rf=o=>{zo(o,ji())},wb=(o,i,c)=>{Mg(o,i,c,{})},Mg=(o,i,c,m)=>{const y={target:i,...m};o.getSystem().triggerEvent(c,i,y)},rI=(o,i,c,m)=>{const y={...m,target:i};o.getSystem().triggerEvent(c,i,y)},U1=(o,i,c,m)=>{o.getSystem().triggerEvent(c,i,m.event)},Ss=o=>$o(o),Y0=(o,i)=>({key:o,value:Ul({abort:i})}),Tx=(o,i)=>({key:o,value:Ul({can:i})}),Rx=o=>({key:o,value:Ul({run:(i,c)=>{c.event.prevent()}})}),St=(o,i)=>({key:o,value:Ul({run:i})}),_b=(o,i,c)=>({key:o,value:Ul({run:(m,y)=>{i.apply(void 0,[m,y].concat(c))}})}),aI=o=>i=>St(o,i),af=o=>i=>({key:o,value:Ul({run:(c,m)=>{Yf(c,m)&&i(c,m)}})}),j1=(o,i)=>St(o,(c,m)=>{c.getSystem().getByUid(i).each(y=>{U1(y,y.element,o,m)})}),Pg=(o,i,c)=>{const m=i.partUids[c];return j1(o,m)},kb=(o,i)=>St(o,(c,m)=>{const y=m.event,_=c.getSystem().getByDom(y.target).getOrThunk(()=>Hl(y.target,R=>c.getSystem().getByDom(R).toOptional(),ln).getOr(c));i(c,_,m)}),ip=o=>St(o,(i,c)=>{c.cut()}),th=o=>St(o,(i,c)=>{c.stop()}),zg=(o,i)=>af(o)(i),sr=af(sf()),al=af(ud()),Ng=af($1()),lf=aI(ji()),iI=(o,i)=>{const m=(i||document).createElement("div");return m.innerHTML=o,Pi(ze.fromDom(m))},W1=o=>o.dom.innerHTML,nh=(o,i)=>{const m=Mi(o).dom,y=ze.fromDom(m.createDocumentFragment()),_=iI(i,m);Uh(y,_),jh(o),wl(o,y)},w4=o=>{const i=ze.fromTag("div"),c=ze.fromDom(o.dom.cloneNode(!0));return wl(i,c),W1(i)},Ax=(o,i)=>ze.fromDom(o.dom.cloneNode(i)),il=o=>Ax(o,!1),Z1=o=>{if(Lh(o))return"#shadow-root";{const i=il(o);return w4(i)}},dd=o=>Z1(o),lI=(o,i,c)=>as(i,o.element)&&!as(i,c),Lg=Ss([Tx(of(),(o,i)=>{const c=i.event,m=c.originator,y=c.target;return lI(o,m,y)?(console.warn(of()+` did not get interpreted by the desired target. 
Originator: `+dd(m)+`
Target: `+dd(y)+`
Check the `+of()+" event handlers"),!1):!0})]);var Wi=Object.freeze({__proto__:null,events:Lg});let em=0;const dn=o=>{const c=new Date().getTime(),m=Math.floor(Math.random()*1e9);return em++,o+"_"+m+em+String(c)},Ix=J("alloy-id-"),ui=J("data-alloy-id"),Ox=Ix(),X0=ui(),cI=(o,i)=>{const c=dn(Ox+o);return Cb(i,c),c},Cb=(o,i)=>{Object.defineProperty(o.dom,X0,{value:i,writable:!0})},Wl=o=>{const i=Jo(o)?o.dom[X0]:null;return L.from(i)},oh=o=>dn(o),Dx=Te,lp=o=>{const i=y=>`The component must be in a context to execute: ${y}`+(o?`
`+dd(o().element)+" is not in context.":""),c=y=>()=>{throw new Error(i(y))},m=y=>()=>{console.warn(i(y))};return{debugInfo:J("fake"),triggerEvent:m("triggerEvent"),triggerFocus:m("triggerFocus"),triggerEscape:m("triggerEscape"),broadcast:m("broadcast"),broadcastOn:m("broadcastOn"),broadcastEvent:m("broadcastEvent"),build:c("build"),buildOrPatch:c("buildOrPatch"),addToWorld:c("addToWorld"),removeFromWorld:c("removeFromWorld"),addToGui:c("addToGui"),removeFromGui:c("removeFromGui"),getByUid:c("getByUid"),getByDom:c("getByDom"),isConnected:ln}},uI=lp(),Mx=(o,i,c)=>{const m=c.toString(),y=m.indexOf(")")+1,_=m.indexOf("("),C=m.substring(_+1,y-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:i,parameters:Fg(C.slice(0,1).concat(C.slice(3)))}),o},Fg=o=>Ee(o,i=>Dc(i,"/*")?i.substring(0,i.length-2):i),cp=(o,i)=>{const c=o.toString(),m=c.indexOf(")")+1,y=c.indexOf("("),_=c.substring(y+1,m-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:i,parameters:Fg(_)}),o},G1=(o,i)=>{const c=i.toString(),m=c.indexOf(")")+1,y=c.indexOf("("),_=c.substring(y+1,m-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Fg(_.slice(1))}),o},up=dn("alloy-premade"),q1=o=>(Object.defineProperty(o.element.dom,up,{value:o.uid,writable:!0}),Wn(up,o)),Sb=o=>Mo(o.dom,up),K1=o=>Gt(o,up),tm=o=>G1((i,...c)=>o(i.getApis(),i,...c),o),fd={init:()=>Ia({readState:J("No State required")})},Ia=o=>o,xb=(o,i)=>{const c=Ee(i,y=>pa(y.name(),[Ct("config"),Be("state",fd)])),m=eo("component.behaviours",ht(c),o.behaviours).fold(y=>{throw new Error(sl(y)+`
Complete spec:
`+JSON.stringify(o,null,2))},Te);return{list:i,data:mo(m,y=>{const _=y.map(C=>({config:C.config,state:C.state.init(C.config)}));return J(_)})}},Px=o=>o.list,Y1=o=>o.data,J0=(o,i)=>{const c={};return lo(o,(m,y)=>{lo(m,(_,C)=>{const R=Gt(c,C).getOr([]);c[C]=R.concat([i(y,_)])})}),c},Zl=o=>({classes:de(o.classes)?[]:o.classes,attributes:de(o.attributes)?{}:o.attributes,styles:de(o.styles)?{}:o.styles}),dI=(o,i)=>({...o,attributes:{...o.attributes,...i.attributes},styles:{...o.styles,...i.styles},classes:o.classes.concat(i.classes)}),cf=(o,i,c,m)=>{const y={...i};me(c,V=>{y[V.name()]=V.exhibit(o,m)});const _=J0(y,(V,Z)=>({name:V,modification:Z})),C=V=>Tt(V,(Z,K)=>({...K.modification,...Z}),{}),R=Tt(_.classes,(V,Z)=>Z.modification.concat(V),[]),M=C(_.attributes),N=C(_.styles);return Zl({classes:R,attributes:M,styles:N})},Bg=(o,i,c,m)=>{try{const y=Ye(c,(_,C)=>{const R=_[i],M=C[i],N=m.indexOf(R),V=m.indexOf(M);if(N===-1)throw new Error("The ordering for "+o+" does not have an entry for "+R+`.
Order specified: `+JSON.stringify(m,null,2));if(V===-1)throw new Error("The ordering for "+o+" does not have an entry for "+M+`.
Order specified: `+JSON.stringify(m,null,2));return N<V?-1:V<N?1:0});return to.value(y)}catch(y){return to.error([y])}},zx=(o,i)=>({handler:o,purpose:i}),Nx=(o,i)=>({cHandler:o,purpose:i}),fI=(o,i)=>Nx(wt.apply(void 0,[o.handler].concat(i)),o.purpose),ps=o=>o.cHandler,hI=(o,i)=>({name:o,handler:i}),mI=(o,i)=>{const c={};return me(o,m=>{c[m.name()]=m.handlers(i)}),c},Lx=(o,i,c)=>{const m={...c,...mI(i,o)};return J0(m,hI)},X1=(o,i,c,m)=>{const y=Lx(o,c,m);return J1(y,i)},Fx=o=>{const i=Rg(o);return(c,m,...y)=>{const _=[c,m].concat(y);i.abort.apply(void 0,_)?m.stop():i.can.apply(void 0,_)&&i.run.apply(void 0,_)}},Wc=(o,i)=>to.error(["The event ("+o+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ee(i,c=>c.name),null,2)]),Ka=(o,i,c)=>{const m=i[c];return m?Bg("Event: "+c,"name",o,m).map(y=>{const _=Ee(y,C=>C.handler);return Yh(_)}):Wc(c,o)},J1=(o,i)=>{const c=Ii(o,(m,y)=>(m.length===1?to.value(m[0].handler):Ka(m,i,y)).map(C=>{const R=Fx(C),M=m.length>1?Xe(i[y],N=>io(m,V=>V.name===N)).join(" > "):m[0].name;return Wn(y,zx(R,M))}));return Ui(c,{})},sh="alloy.base.behaviour",dp=ht([Qo("dom","dom",Dr(),ht([Ct("tag"),Be("styles",{}),Be("classes",[]),Be("attributes",{}),jo("value"),jo("innerHtml")])),Ct("components"),Ct("uid"),Be("events",{}),Be("apis",{}),Qo("eventOrder","eventOrder",go({[ji()]:["disabling",sh,"toggling","typeaheadevents"],[of()]:[sh,"focusing","keying"],[$1()]:[sh,"disabling","toggling","representing"],[nf()]:[sh,"representing","streaming","invalidating"],[ud()]:[sh,"representing","item-events","tooltipping"],[is()]:["focusing",sh,"item-type-events"],[_u()]:["focusing",sh,"item-type-events"],[pc()]:["item-type-events","tooltipping"],[or()]:["receiving","reflecting","tooltipping"]}),Ra()),jo("domModification")]),Oa=o=>eo("custom.definition",dp,o),Bx=o=>({...o.dom,uid:o.uid,domChildren:Ee(o.components,i=>i.element)}),$x=o=>o.domModification.fold(()=>Zl({}),Zl),_4=o=>o.events,Vx=(o,i)=>{const c=ua(o,i);return c===void 0||c===""?[]:c.split(" ")},nm=(o,i,c)=>{const y=Vx(o,i).concat([c]);return Jn(o,i,y.join(" ")),!0},om=(o,i,c)=>{const m=Xe(Vx(o,i),y=>y!==c);return m.length>0?Jn(o,i,m.join(" ")):ge(o,i),!1},Q1=o=>o.dom.classList!==void 0,Hx=o=>Vx(o,"class"),hd=(o,i)=>nm(o,"class",i),ll=(o,i)=>om(o,"class",i),Jr=(o,i)=>{Q1(o)?o.dom.classList.add(i):hd(o,i)},Ux=o=>{(Q1(o)?o.dom.classList:Hx(o)).length===0&&ge(o,"class")},xs=(o,i)=>{Q1(o)?o.dom.classList.remove(i):ll(o,i),Ux(o)},xi=(o,i)=>Q1(o)&&o.dom.classList.contains(i),Cu=(o,i)=>{me(i,c=>{Jr(o,c)})},Ei=(o,i)=>{me(i,c=>{xs(o,c)})},rh=(o,i)=>$e(i,c=>xi(o,c)),Eb=o=>{const i=o.dom.classList,c=new Array(i.length);for(let m=0;m<i.length;m++){const y=i.item(m);y!==null&&(c[m]=y)}return c},sm=o=>Q1(o)?Eb(o):Hx(o),gc=o=>o.dom.value,Zc=(o,i)=>{if(i===void 0)throw new Error("Value.set was undefined");o.dom.value=i},Q0=(o,i,c)=>mu(o,i).map(y=>{if(c.exists(C=>!as(C,y))){const C=c.map(el).getOr("span"),R=ze.fromTag(C);return Fl(y,R),R}else return y}),Tb=(o,i,c)=>{c.fold(()=>wl(o,i),m=>{as(m,i)||(Fl(m,i),uc(m))})},jx=(o,i,c)=>{const m=Ee(i,c),y=Pi(o);return me(y.slice(m.length),uc),m},ek=(o,i,c,m)=>{const y=mu(o,i),_=m(c,y),C=Q0(o,i,y);return Tb(o,_.element,C),_},Wx=(o,i,c)=>jx(o,i,(m,y)=>ek(o,y,m,c)),$g=(o,i)=>jx(o,i,(c,m)=>{const y=mu(o,m);return Tb(o,c,y),c}),Zx=(o,i)=>{const c=_n(o),m=_n(i),y=Ve(m,c),_=zs(o,(C,R)=>!Mo(i,R)||C!==i[R]).t;return{toRemove:y,toSet:_}},pI=(o,i)=>{const{class:c,style:m,...y}=Je(i),{toSet:_,toRemove:C}=Zx(o.attributes,y),R=()=>{me(C,mt=>ge(i,mt)),Bo(i,_)},M=fa(i),{toSet:N,toRemove:V}=Zx(o.styles,M),Z=()=>{me(V,mt=>Ro(i,mt)),Ar(i,N)},K=sm(i),Q=Ve(K,o.classes),ie=Ve(o.classes,K),_e=()=>{Cu(i,ie),Ei(i,Q)},He=mt=>{nh(i,mt)},De=()=>{const mt=o.domChildren;$g(i,mt)},Ae=()=>{const mt=i,bt=o.value.getOrUndefined();bt!==gc(mt)&&Zc(mt,bt!=null?bt:"")};return R(),_e(),Z(),o.innerHtml.fold(De,He),Ae(),i},gI=o=>{const i=ze.fromTag(o.tag);Bo(i,o.attributes),Cu(i,o.classes),Ar(i,o.styles),o.innerHtml.each(m=>nh(i,m));const c=o.domChildren;return Uh(i,c),o.value.each(m=>{Zc(i,m)}),i},tk=(o,i)=>{try{const c=pI(o,i);return L.some(c)}catch{return L.none()}},Gx=o=>o.innerHtml.isSome()&&o.domChildren.length>0,qx=(o,i)=>{const c=y=>el(y)===o.tag&&!Gx(o)&&!Sb(y),m=i.filter(c).bind(y=>tk(o,y)).getOrThunk(()=>gI(o));return Cb(m,o.uid),m},Kx=o=>{const i=Gt(o,"behaviours").getOr({});return le(_n(i),c=>{const m=i[c];return Ne(m)?[m.me]:[]})},Yx=(o,i)=>xb(o,i),rm=o=>{const i=Kx(o);return Yx(o,i)},Xx=(o,i,c)=>{const m=Bx(o),y=$x(o),_={"alloy.base.modification":y},C=i.length>0?cf(c,_,i,m):y;return dI(m,C)},Jx=(o,i,c)=>{const m={"alloy.base.behaviour":_4(o)};return X1(c,o.eventOrder,i,m).getOrDie()},yI=(o,i)=>{const c=()=>mt,m=D(uI),y=Cl(Oa(o)),_=rm(o),C=Px(_),R=Y1(_),M=Xx(y,C,R),N=qx(M,i),V=Jx(y,C,R),Z=D(y.components),K=bt=>{m.set(bt)},Q=()=>{m.set(lp(c))},ie=()=>{const bt=Pi(N),Ut=le(bt,Rt=>m.get().getByDom(Rt).fold(()=>[],ye));Z.set(Ut)},_e=bt=>{const Ut=R;return(xe(Ut[bt.name()])?Ut[bt.name()]:()=>{throw new Error("Could not find "+bt.name()+" in "+JSON.stringify(o,null,2))})()},He=bt=>xe(R[bt.name()]),De=()=>y.apis,Ae=bt=>R[bt]().map(Ut=>Ut.state.readState()).getOr("not enabled"),mt={uid:o.uid,getSystem:m.get,config:_e,hasConfigured:He,spec:o,readState:Ae,getApis:De,connect:K,disconnect:Q,element:N,syncComponents:ie,components:Z.get,events:V};return mt},Qx=(o,i)=>{const c=Gt(o,"components").getOr([]);return i.fold(()=>Ee(c,Da),m=>Ee(c,(y,_)=>Rb(y,mu(m,_))))},fp=(o,i)=>{const{events:c,...m}=Dx(o),y=Qx(m,i),_={...m,events:{...Wi,...c},components:y};return to.value(yI(_,i))},Ks=o=>{const i=ze.fromText(o);return ah({element:i})},ah=o=>{const i=Bi("external.component",Fi([Ct("element"),jo("uid")]),o),c=D(lp()),m=R=>{c.set(R)},y=()=>{c.set(lp(()=>C))},_=i.uid.getOrThunk(()=>oh("external"));Cb(i.element,_);const C={uid:_,getSystem:c.get,config:L.none,hasConfigured:ln,connect:m,disconnect:y,getApis:()=>({}),element:i.element,spec:o,readState:J("No state"),syncComponents:ne,components:J([]),events:{}};return q1(C)},eE=oh,bI=o=>Mo(o,"uid"),Rb=(o,i)=>K1(o).getOrThunk(()=>{const c=bI(o)?o:{uid:eE(""),...o};return fp(c,i).getOrDie()}),Da=o=>Rb(o,L.none()),Sl=q1;var nk=(o,i,c,m,y)=>o(c,m)?L.some(c):xe(y)&&y(c)?L.none():i(c,m,y);const ew=(o,i,c)=>{let m=o.dom;const y=xe(c)?c:ln;for(;m.parentNode;){m=m.parentNode;const _=ze.fromDom(m);if(i(_))return L.some(_);if(y(_))break}return L.none()},tw=(o,i,c)=>nk((y,_)=>_(y),ew,o,i,c),vI=(o,i)=>{const c=y=>i(ze.fromDom(y));return Oe(o.dom.childNodes,c).map(ze.fromDom)},tE=(o,i)=>{const c=m=>{for(let y=0;y<m.childNodes.length;y++){const _=ze.fromDom(m.childNodes[y]);if(i(_))return L.some(_);const C=c(m.childNodes[y]);if(C.isSome())return C}return L.none()};return c(o.dom)},Ab=(o,i,c)=>tw(o,i,c).isSome(),xl=(o,i,c)=>ew(o,m=>Di(m,i),c),nE=(o,i)=>vI(o,c=>Di(c,i)),Ys=(o,i)=>$m(i,o),md=(o,i,c)=>nk((y,_)=>Di(y,_),xl,o,i,c),uf="aria-controls",wI=o=>tw(o,c=>{if(!Jo(c))return!1;const m=ua(c,"id");return m!==void 0&&m.indexOf(uf)>-1}).bind(c=>{const m=ua(c,"id"),y=Br(c);return Ys(y,`[${uf}="${m}"]`)}),ok=()=>{const o=dn(uf);return{id:o,link:m=>{Jn(m,uf,o)},unlink:m=>{ge(m,uf)}}},oE=(o,i)=>wI(i).exists(c=>am(o,c)),am=(o,i)=>Ab(i,c=>as(c,o.element),ln)||oE(o,i),sE="unknown";var df;(function(o){o[o.STOP=0]="STOP",o[o.NORMAL=1]="NORMAL",o[o.LOGGING=2]="LOGGING"})(df||(df={}));const sk=D({}),Ib=(o,i)=>{const c=[],m=new Date().getTime();return{logEventCut:(y,_,C)=>{c.push({outcome:"cut",target:_,purpose:C})},logEventStopped:(y,_,C)=>{c.push({outcome:"stopped",target:_,purpose:C})},logNoParent:(y,_,C)=>{c.push({outcome:"no-parent",target:_,purpose:C})},logEventNoHandlers:(y,_)=>{c.push({outcome:"no-handlers-left",target:_})},logEventResponse:(y,_,C)=>{c.push({outcome:"response",purpose:C,target:_})},write:()=>{const y=new Date().getTime();Zn(["mousemove","mouseover","mouseout",$1()],o)||console.log(o,{event:o,time:y-m,target:i.dom,sequence:Ee(c,_=>Zn(["cut","stopped","response"],_.outcome)?"{"+_.purpose+"} "+_.outcome+" at ("+dd(_.target)+")":_.outcome)})}}},rk=(o,i,c)=>{switch(Gt(sk.get(),o).orThunk(()=>{const y=_n(sk.get());return sn(y,_=>o.indexOf(_)>-1?L.some(sk.get()[_]):L.none())}).getOr(df.NORMAL)){case df.NORMAL:return c(rE());case df.LOGGING:{const y=Ib(o,i),_=c(y);return y.write(),_}case df.STOP:return!0}},nw=["alloy/data/Fields","alloy/debugging/Debugging"],Ob=()=>{const o=new Error;if(o.stack!==void 0){const i=o.stack.split(`
`);return Oe(i,c=>c.indexOf("alloy")>0&&!io(nw,m=>c.indexOf(m)>-1)).getOr(sE)}else return sE},ak={logEventCut:ne,logEventStopped:ne,logNoParent:ne,logEventNoHandlers:ne,logEventResponse:ne,write:ne},Db=(o,i,c)=>rk(o,i,c),rE=J(ak),ih=J([Ct("menu"),Ct("selectedMenu")]),ow=J([Ct("item"),Ct("selectedItem")]);J(ht(ow().concat(ih())));const aE=J(ht(ow())),ik=ld("initSize",[Ct("numColumns"),Ct("numRows")]),im=()=>Vi("markers",aE()),ff=()=>ld("markers",[Ct("backgroundMenu")].concat(ih()).concat(ow())),hp=o=>ld("markers",Ee(o,Ct)),dt=(o,i,c)=>(Ob(),Qo(i,i,c,Vs(m=>to.value((...y)=>m.apply(void 0,y))))),ko=o=>dt("onHandler",o,Qd(ne)),ir=o=>dt("onKeyboardHandler",o,Qd(L.none)),mp=o=>dt("onHandler",o,Dr()),Mb=o=>dt("onKeyboardHandler",o,Dr()),Go=(o,i)=>ii(o,J(i)),lk=o=>ii(o,Te),Pb=J(ik),ga=(o,i,c,m,y,_,C,R=!1)=>({x:o,y:i,bubble:c,direction:m,placement:y,restriction:_,label:`${C}-${y}`,alwaysFit:R}),hf=te.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),_I=(o,i,c,m,y,_,C,R,M)=>o.fold(i,c,m,y,_,C,R,M),iE=(o,i,c,m)=>o.fold(i,i,m,m,i,m,c,c),lE=(o,i,c,m)=>o.fold(i,m,i,m,c,c,i,m),Vg=hf.southeast,Hg=hf.southwest,sw=hf.northeast,ck=hf.northwest,cl=hf.south,Ug=hf.north,zb=hf.east,cE=hf.west,pp=(o,i,c,m)=>{const y=o+i;return y>m?c:y<c?m:y},yc=(o,i,c)=>Math.min(Math.max(o,i),c),uk=(o,i)=>{switch(i){case 1:return o.x;case 0:return o.x+o.width;case 2:return o.y;case 3:return o.y+o.height}},Ya=(o,i)=>oe(["left","right","top","bottom"],c=>Gt(i,c).map(m=>uk(o,m))),uE=(o,i,c)=>{const m=(M,N)=>i[M].map(V=>{const Z=M==="top"||M==="bottom",K=Z?c.top:c.left,ie=(M==="left"||M==="top"?Math.max:Math.min)(V,N)+K;return Z?yc(ie,o.y,o.bottom):yc(ie,o.x,o.right)}).getOr(N),y=m("left",o.x),_=m("top",o.y),C=m("right",o.right),R=m("bottom",o.bottom);return Ns(y,_,C-y,R-_)},lh="layout",rw=o=>o.x,dk=(o,i)=>o.x+o.width/2-i.width/2,dE=(o,i)=>o.x+o.width-i.width,fk=(o,i)=>o.y-i.height,aw=o=>o.y+o.height,hk=(o,i)=>o.y+o.height/2-i.height/2,kI=o=>o.x+o.width,mk=(o,i)=>o.x-i.width,Xa=(o,i,c)=>ga(rw(o),aw(o),c.southeast(),Vg(),"southeast",Ya(o,{left:1,top:3}),lh),Qr=(o,i,c)=>ga(dE(o,i),aw(o),c.southwest(),Hg(),"southwest",Ya(o,{right:0,top:3}),lh),Gl=(o,i,c)=>ga(rw(o),fk(o,i),c.northeast(),sw(),"northeast",Ya(o,{left:1,bottom:2}),lh),Xs=(o,i,c)=>ga(dE(o,i),fk(o,i),c.northwest(),ck(),"northwest",Ya(o,{right:0,bottom:2}),lh),Gc=(o,i,c)=>ga(dk(o,i),fk(o,i),c.north(),Ug(),"north",Ya(o,{bottom:2}),lh),Js=(o,i,c)=>ga(dk(o,i),aw(o),c.south(),cl(),"south",Ya(o,{top:3}),lh),pk=(o,i,c)=>ga(kI(o),hk(o,i),c.east(),zb(),"east",Ya(o,{left:0}),lh),gk=(o,i,c)=>ga(mk(o,i),hk(o,i),c.west(),cE(),"west",Ya(o,{right:1}),lh),fE=()=>[Xa,Qr,Gl,Xs,Js,Gc,pk,gk],iw=()=>[Qr,Xa,Xs,Gl,Js,Gc,pk,gk],Nb=()=>[Gl,Xs,Xa,Qr,Gc,Js],lw=()=>[Xs,Gl,Qr,Xa,Gc,Js],cw=()=>[Xa,Qr,Gl,Xs,Js,Gc],Lb=()=>[Qr,Xa,Xs,Gl,Js,Gc],hE=(o,i)=>i.universal?o:Xe(o,c=>Zn(i.channels,c));var pE=Object.freeze({__proto__:null,events:o=>Ss([St(or(),(i,c)=>{const m=o.channels,y=_n(m),_=c,C=hE(y,_);me(C,R=>{const M=m[R],N=M.schema,V=Bi("channel["+R+`] data
Receiver: `+dd(i.element),N,_.data);M.onReceive(i,V)})})])}),yk=[Vi("channels",qh(to.value,Fi([mp("onReceive"),Be("schema",Ra())])))];const uw=(o,i,c)=>lf(m=>{c(m,o,i)}),dw=(o,i,c)=>Ng((m,y)=>{c(m,o,i)}),mn=(o,i,c,m,y,_)=>{const C=Fi(o),R=pa(i,[xg("config",o)]);return yE(C,R,i,c,m,y,_)},bk=(o,i,c,m,y,_)=>{const C=o,R=pa(i,[wu("config",o)]);return yE(C,R,i,c,m,y,_)},gE=(o,i,c)=>Mx((y,..._)=>{const C=[y].concat(_);return y.config({name:J(o)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+o+". Using API: "+c)},R=>{const M=Array.prototype.slice.call(C,1);return i.apply(void 0,[y,R.config,R.state].concat(M))})},c,i),CI=o=>({key:o,value:void 0}),yE=(o,i,c,m,y,_,C)=>{const R=Z=>Qi(Z,c)?Z[c]():L.none(),M=mo(y,(Z,K)=>gE(c,Z,K)),V={...mo(_,(Z,K)=>cp(Z,K)),...M,revoke:wt(CI,c),config:Z=>{const K=Bi(c+"-config",o,Z);return{key:c,value:{config:K,me:V,configAsRaw:qd(()=>Bi(c+"-config",o,Z)),initialConfig:Z,state:C}}},schema:J(i),exhibit:(Z,K)=>ac(R(Z),Gt(m,"exhibit"),(Q,ie)=>ie(K,Q.config,Q.state)).getOrThunk(()=>Zl({})),name:J(c),handlers:Z=>R(Z).map(K=>Gt(m,"events").getOr(()=>({}))(K.config,K.state)).getOr({})};return V},Lt=o=>$o(o),bE=Fi([Ct("fields"),Ct("name"),Be("active",{}),Be("apis",{}),Be("state",fd),Be("extra",{})]),Ja=o=>{const i=Bi("Creating behaviour: "+o.name,bE,o);return mn(i.fields,i.name,i.active,i.apis,i.extra,i.state)},SI=Fi([Ct("branchKey"),Ct("branches"),Ct("name"),Be("active",{}),Be("apis",{}),Be("state",fd),Be("extra",{})]),vk=o=>{const i=Bi("Creating behaviour: "+o.name,SI,o);return bk($i(i.branchKey,i.branches),i.name,i.active,i.apis,i.extra,i.state)},xI=J(void 0),Pr=Ja({fields:yk,name:"receiving",active:pE});var EI=Object.freeze({__proto__:null,exhibit:(o,i)=>Zl({classes:[],styles:i.useFixed()?{}:{position:"relative"}})});const Su=o=>o.dom.focus(),wk=o=>o.dom.blur(),Fb=o=>{const i=Br(o).dom;return o.dom===i.activeElement},mf=(o=yu())=>L.from(o.dom.activeElement).map(ze.fromDom),xu=o=>mf(Br(o)).filter(i=>o.dom.contains(i.dom)),hw=(o,i)=>{const c=Br(i),m=mf(c).bind(_=>{const C=R=>as(_,R);return C(i)?L.some(i):tE(i,C)}),y=o(i);return m.each(_=>{mf(c).filter(C=>as(C,_)).fold(()=>{Su(_)},ne)}),y},Eu=(o,i,c,m,y)=>{const _=C=>C+"px";return{position:o,left:i.map(_),top:c.map(_),right:m.map(_),bottom:y.map(_)}},vE=o=>({...o,position:L.some(o.position)}),_k=(o,i)=>{da(o,vE(i))},mw=te.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),lm=(o,i,c,m,y,_)=>{const C=i.rect,R=C.x-c,M=C.y-m,N=C.width,V=C.height,Z=y-(R+N),K=_-(M+V),Q=L.some(R),ie=L.some(M),_e=L.some(Z),He=L.some(K),De=L.none();return _I(i.direction,()=>Eu(o,Q,ie,De,De),()=>Eu(o,De,ie,_e,De),()=>Eu(o,Q,De,De,He),()=>Eu(o,De,De,_e,He),()=>Eu(o,Q,ie,De,De),()=>Eu(o,Q,De,De,He),()=>Eu(o,Q,ie,De,De),()=>Eu(o,De,ie,_e,De))},wE=(o,i)=>o.fold(()=>{const c=i.rect;return Eu("absolute",L.some(c.x),L.some(c.y),L.none(),L.none())},(c,m,y,_)=>lm("absolute",i,c,m,y,_),(c,m,y,_)=>lm("fixed",i,c,m,y,_)),kk=(o,i)=>{const c=wt(ab,i),m=o.fold(c,c,()=>{const C=_l();return ab(i).translate(-C.left,-C.top)}),y=ri(i),_=Ff(i);return Ns(m.left,m.top,y,_)},TI=(o,i)=>i.fold(()=>o.fold(Ea,Ea,Ns),c=>o.fold(J(c),J(c),()=>{const m=pw(o,c.x,c.y);return Ns(m.left,m.top,c.width,c.height)})),pw=(o,i,c)=>{const m=qs(i,c),y=()=>{const _=_l();return m.translate(-_.left,-_.top)};return o.fold(J(m),J(m),y)},Bb=(o,i,c,m)=>o.fold(i,c,m);mw.none;const Qa=mw.relative,_E=mw.fixed,jg=(o,i)=>({anchorBox:o,origin:i}),kE=(o,i)=>jg(o,i),gw="data-alloy-placement",CE=(o,i)=>{Jn(o,gw,i)},SE=o=>G(o,gw),RI=o=>ge(o,gw),Wg=te.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),AI=(o,i)=>{const{x:c,y:m,right:y,bottom:_}=i,{x:C,y:R,right:M,bottom:N,width:V,height:Z}=o,K=C>=c&&C<=y,Q=R>=m&&R<=_,ie=K&&Q,_e=M<=y&&M>=c,He=N<=_&&N>=m,De=_e&&He,Ae=Math.min(V,C>=c?y-C:M-c),mt=Math.min(Z,R>=m?_-R:N-m);return{originInBounds:ie,sizeInBounds:De,visibleW:Ae,visibleH:mt}},xE=(o,i)=>{const{x:c,y:m,right:y,bottom:_}=i,{x:C,y:R,width:M,height:N}=o,V=Math.max(c,y-M),Z=Math.max(m,_-N),K=yc(C,c,V),Q=yc(R,m,Z),ie=Math.min(K+M,y)-K,_e=Math.min(Q+N,_)-Q;return Ns(K,Q,ie,_e)},yw=(o,i,c)=>{const m=J(i.bottom-c.y),y=J(c.bottom-i.y),_=iE(o,y,y,m),C=J(i.right-c.x),R=J(c.right-i.x);return{maxWidth:lE(o,R,R,C),maxHeight:_}},EE=(o,i,c,m)=>{const y=o.bubble,_=y.offset,C=uE(m,o.restriction,_),R=o.x+_.left,M=o.y+_.top,N=Ns(R,M,i,c),{originInBounds:V,sizeInBounds:Z,visibleW:K,visibleH:Q}=AI(N,C),ie=V&&Z,_e=ie?N:xE(N,C),He=_e.width>0&&_e.height>0,{maxWidth:De,maxHeight:Ae}=yw(o.direction,_e,m),mt={rect:_e,maxHeight:Ae,maxWidth:De,direction:o.direction,placement:o.placement,classes:{on:y.classesOn,off:y.classesOff},layout:o.label,testY:M};return ie||o.alwaysFit?Wg.fit(mt):Wg.nofit(mt,K,Q,He)},gp=(o,i,c,m,y,_)=>{const C=m.width,R=m.height,M=(V,Z,K,Q,ie)=>{const _e=V(c,m,y,o,_),He=EE(_e,C,R,_);return He.fold(J(He),(De,Ae,mt,bt)=>(ie===bt?mt>Q||Ae>K:!ie&&bt)?He:Wg.nofit(Z,K,Q,ie))};return re(i,(V,Z)=>{const K=wt(M,Z);return V.fold(J(V),K)},Wg.nofit({rect:c,maxHeight:m.height,maxWidth:m.width,direction:Vg(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:c.y},-1,-1,!1)).fold(Te,Te)},$b=o=>{const i=D(L.none()),c=()=>i.get().each(o);return{clear:()=>{c(),i.set(L.none())},isSet:()=>i.get().isSome(),get:()=>i.get(),set:R=>{c(),i.set(L.some(R))}}},Zg=()=>$b(o=>o.destroy()),pd=()=>$b(o=>o.unbind()),ns=()=>{const o=$b(ne);return{...o,on:c=>o.get().each(c)}},TE=It,Zi=(o,i,c)=>Ym(o,i,TE,c),Ck=(o,i,c)=>ob(o,i,TE,c),RE=x1,AE=["top","bottom","right","left"],yp="data-alloy-transition-timer",II=(o,i)=>rh(o,i.classes),IE=(o,i,c)=>c.exists(m=>{const y=o.mode;return y==="all"?!0:m[y]!==i[y]}),OE=(o,i)=>{const c=m=>parseFloat(m).toFixed(3);return Fr(i,(m,y)=>{const _=o[y].map(c),C=m.map(c);return!Ku(_,C)}).isSome()},OI=o=>{const i=_=>{const R=xt(o,_).split(/\s*,\s*/);return Xe(R,Oi)},c=_=>{if(x(_)&&/^[\d.]+/.test(_)){const C=parseFloat(_);return Dc(_,"ms")?C:C*1e3}else return 0},m=i("transition-delay"),y=i("transition-duration");return re(y,(_,C,R)=>{const M=c(m[R])+c(C);return Math.max(_,M)},0)},DI=(o,i)=>{const c=pd(),m=pd();let y;const _=N=>{var V;const Z=(V=N.raw.pseudoElement)!==null&&V!==void 0?V:"";return as(N.target,o)&&Zs(Z)&&Zn(AE,N.raw.propertyName)},C=N=>{if(ke(N)||_(N)){c.clear(),m.clear();const V=N==null?void 0:N.raw.type;(ke(V)||V===Ig())&&(clearTimeout(y),ge(o,yp),Ei(o,i.classes))}},R=Zi(o,Cx(),N=>{_(N)&&(R.unbind(),c.set(Zi(o,Ig(),C)),m.set(Zi(o,yb(),C)))}),M=OI(o);requestAnimationFrame(()=>{y=setTimeout(C,M+17),Jn(o,yp,y)})},MI=(o,i)=>{Cu(o,i.classes),G(o,yp).each(c=>{clearTimeout(parseInt(c,10)),ge(o,yp)}),DI(o,i)},DE=(o,i,c,m,y,_)=>{const C=IE(m,y,_);if(C||II(o,m)){un(o,"position",c.position);const R=kk(i,o),M=wE(i,{...y,rect:R}),N=oe(AE,V=>M[V]);OE(c,N)&&(da(o,N),C&&MI(o,m),gu(o))}else Ei(o,m.classes)},Gg=o=>({width:ri(o),height:Ff(o)}),Vb=(o,i,c,m)=>{Ro(i,"max-height"),Ro(i,"max-width");const y=Gg(i);return gp(i,m.preference,o,y,c,m.bounds)},k4=(o,i)=>{const c=i.classes;Ei(o,c.off),Cu(o,c.on)},bp=(o,i,c)=>{const m=c.maxHeightFunction;m(o,i.maxHeight)},PI=(o,i,c)=>{const m=c.maxWidthFunction;m(o,i.maxWidth)},zI=(o,i,c)=>{const m=wE(c.origin,i);c.transition.each(y=>{DE(o,c.origin,m,y,i,c.lastPlacement)}),_k(o,m)},ME=(o,i)=>{CE(o,i.placement)},PE=(o,i)=>{kx(o,Math.floor(i))},zE=J((o,i)=>{PE(o,i),Ar(o,{"overflow-x":"hidden","overflow-y":"auto"})}),vp=J((o,i)=>{PE(o,i)}),NE=(o,i,c)=>o[i]===void 0?c:o[i],NI=(o,i,c,m,y,_,C,R)=>{const M=NE(C,"maxHeightFunction",zE()),N=NE(C,"maxWidthFunction",ne),V=o.anchorBox,Z=o.origin,K={bounds:TI(Z,_),origin:Z,preference:m,maxHeightFunction:M,maxWidthFunction:N,lastPlacement:y,transition:R};return LI(V,i,c,K)},LI=(o,i,c,m)=>{const y=Vb(o,i,c,m);return zI(i,y,m),ME(i,y),k4(i,y),bp(i,y,m),PI(i,y,m),{layout:y.layout,placement:y.placement}},FI=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],qg=(o,i,c,m=1)=>{const y=o*m,_=i*m,C=M=>Gt(c,M).getOr([]),R=(M,N,V)=>{const Z=Ve(FI,V);return{offset:qs(M,N),classesOn:le(V,C),classesOff:le(Z,C)}};return{southeast:()=>R(-o,i,["top","alignLeft"]),southwest:()=>R(o,i,["top","alignRight"]),south:()=>R(-o/2,i,["top","alignCentre"]),northeast:()=>R(-o,-i,["bottom","alignLeft"]),northwest:()=>R(o,-i,["bottom","alignRight"]),north:()=>R(-o/2,-i,["bottom","alignCentre"]),east:()=>R(o,-i/2,["valignCentre","left"]),west:()=>R(-o,-i/2,["valignCentre","right"]),insetNortheast:()=>R(y,_,["top","alignLeft","inset"]),insetNorthwest:()=>R(-y,_,["top","alignRight","inset"]),insetNorth:()=>R(-y/2,_,["top","alignCentre","inset"]),insetSoutheast:()=>R(y,-_,["bottom","alignLeft","inset"]),insetSouthwest:()=>R(-y,-_,["bottom","alignRight","inset"]),insetSouth:()=>R(-y/2,-_,["bottom","alignCentre","inset"]),insetEast:()=>R(-y,-_/2,["valignCentre","right","inset"]),insetWest:()=>R(y,-_/2,["valignCentre","left","inset"])}},wp=()=>qg(0,0,{}),bw=Te,vw=(o,i)=>c=>LE(c)==="rtl"?i:o,LE=o=>xt(o,"direction")==="rtl"?"rtl":"ltr";var pf;(function(o){o.TopToBottom="toptobottom",o.BottomToTop="bottomtotop"})(pf||(pf={}));const ww="data-alloy-vertical-dir",FE=o=>Ab(o,i=>Jo(i)&&ua(i,"data-alloy-vertical-dir")===pf.BottomToTop),gd=()=>pa("layouts",[Ct("onLtr"),Ct("onRtl"),jo("onBottomLtr"),jo("onBottomRtl")]),cm=(o,i,c,m,y,_,C)=>{const R=C.map(FE).getOr(!1),M=i.layouts.map(Q=>Q.onLtr(o)),N=i.layouts.map(Q=>Q.onRtl(o)),V=R?i.layouts.bind(Q=>Q.onBottomLtr.map(ie=>ie(o))).or(M).getOr(y):M.getOr(c),Z=R?i.layouts.bind(Q=>Q.onBottomRtl.map(ie=>ie(o))).or(N).getOr(_):N.getOr(m);return vw(V,Z)(o)},Sk=(o,i,c)=>{const m=i.hotspot,y=kk(c,m.element),_=cm(o.element,i,cw(),Lb(),Nb(),lw(),L.some(i.hotspot.element));return L.some(bw({anchorBox:y,bubble:i.bubble.getOr(wp()),overrides:i.overrides,layouts:_}))};var BE=[Ct("hotspot"),jo("bubble"),Be("overrides",{}),gd(),Go("placement",Sk)];const BI=(o,i,c)=>{const m=pw(c,i.x,i.y),y=Ns(m.left,m.top,i.width,i.height),_=cm(o.element,i,fE(),iw(),fE(),iw(),L.none());return L.some(bw({anchorBox:y,bubble:i.bubble,overrides:i.overrides,layouts:_}))};var $E=[Ct("x"),Ct("y"),Be("height",0),Be("width",0),Be("bubble",wp()),Be("overrides",{}),gd(),Go("placement",BI)];const VE=te.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),$I=o=>o.fold(Te,(i,c,m)=>i.translate(-c,-m)),VI=o=>o.fold(Te,Te),HE=o=>re(o,(i,c)=>i.translate(c.left,c.top),qs(0,0)),_w=o=>{const i=Ee(o,$I);return HE(i)},UE=o=>{const i=Ee(o,VI);return HE(i)},HI=VE.screen,UI=VE.absolute,jI=(o,i,c)=>{const m=ed(c.root).dom,y=_=>{const C=Mi(_),R=Mi(o.element);return as(C,R)};return L.from(m.frameElement).map(ze.fromDom).filter(y).map(si)},xk=(o,i,c)=>{const m=Mi(o.element),y=_l(m),_=jI(o,i,c).getOr(y);return UI(_,y.left,y.top)},jE=(o,i,c,m)=>{const y=HI(qs(o,i));return L.some(td(y,c,m))},WE=(o,i,c,m,y)=>o.map(_=>{const C=[i,_.point],R=Bb(m,()=>UE(C),()=>UE(C),()=>_w(C)),M=ib(R.left,R.top,_.width,_.height),N=c.showAbove?Nb():cw(),V=c.showAbove?lw():Lb(),Z=cm(y,c,N,V,N,V,L.none());return bw({anchorBox:M,bubble:c.bubble.getOr(wp()),overrides:c.overrides,layouts:Z})}),ZE=(o,i,c)=>{const m=xk(o,c,i);return i.node.filter(Za).bind(y=>{const _=y.dom.getBoundingClientRect(),C=jE(_.left,_.top,_.width,_.height),R=i.node.getOr(o.element);return WE(C,m,i,c,R)})};var GE=[Ct("node"),Ct("root"),jo("bubble"),gd(),Be("overrides",{}),Be("showAbove",!1),Go("placement",ZE)];const Hb="\uFEFF",Ek="\xA0",Ub={create:(o,i,c,m)=>({start:o,soffset:i,finish:c,foffset:m})},kw=te.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Rk=(o,i,c,m)=>o.fold(i,c,m),qE=o=>o.fold(Te,Te,Te),KE=kw.before,um=kw.on,WI=kw.after,YE={before:KE,on:um,after:WI,cata:Rk,getStart:qE},jb=te.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ZI=o=>jb.exact(o.start,o.soffset,o.finish,o.foffset),Cw=o=>o.match({domRange:i=>ze.fromDom(i.startContainer),relative:(i,c)=>YE.getStart(i),exact:(i,c,m,y)=>i}),GI=jb.domRange,qI=jb.relative,XE=jb.exact,_p=o=>{const i=Cw(o);return ed(i)},Wb=Ub.create,Zb={domRange:GI,relative:qI,exact:XE,exactFromRange:ZI,getWin:_p,range:Wb},Ak=(o,i)=>{i.fold(c=>{o.setStartBefore(c.dom)},(c,m)=>{o.setStart(c.dom,m)},c=>{o.setStartAfter(c.dom)})},KI=(o,i)=>{i.fold(c=>{o.setEndBefore(c.dom)},(c,m)=>{o.setEnd(c.dom,m)},c=>{o.setEndAfter(c.dom)})},Ik=(o,i,c)=>{const m=o.document.createRange();return Ak(m,i),KI(m,c),m},Ti=(o,i,c,m,y)=>{const _=o.document.createRange();return _.setStart(i.dom,c),_.setEnd(m.dom,y),_},JE=o=>({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height}),Kg=o=>{const i=o.getClientRects(),c=i.length>0?i[0]:o.getBoundingClientRect();return c.width>0||c.height>0?L.some(c).map(JE):L.none()},YI=o=>{const i=o.getBoundingClientRect();return i.width>0||i.height>0?L.some(i).map(JE):L.none()},Gb=te.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),kp=(o,i,c)=>i(ze.fromDom(c.startContainer),c.startOffset,ze.fromDom(c.endContainer),c.endOffset),Cp=(o,i)=>i.match({domRange:c=>({ltr:J(c),rtl:L.none}),relative:(c,m)=>({ltr:qd(()=>Ik(o,c,m)),rtl:qd(()=>L.some(Ik(o,m,c)))}),exact:(c,m,y,_)=>({ltr:qd(()=>Ti(o,c,m,y,_)),rtl:qd(()=>L.some(Ti(o,y,_,c,m)))})}),Sw=(o,i)=>{const c=i.ltr();return c.collapsed?i.rtl().filter(y=>y.collapsed===!1).map(y=>Gb.rtl(ze.fromDom(y.endContainer),y.endOffset,ze.fromDom(y.startContainer),y.startOffset)).getOrThunk(()=>kp(o,Gb.ltr,c)):kp(o,Gb.ltr,c)},Yg=(o,i)=>{const c=Cp(o,i);return Sw(o,c)},xw=(o,i)=>Yg(o,i).match({ltr:(m,y,_,C)=>{const R=o.document.createRange();return R.setStart(m.dom,y),R.setEnd(_.dom,C),R},rtl:(m,y,_,C)=>{const R=o.document.createRange();return R.setStart(_.dom,C),R.setEnd(m.dom,y),R}});Gb.ltr,Gb.rtl;const dm=(o,i,c)=>Xe(Vm(o,c),i),zr=(o,i)=>Xy(i,o),Sp=(o,i,c,m)=>{const _=Mi(o).dom.createRange();return _.setStart(o.dom,i),_.setEnd(c.dom,m),_},Ok=(o,i,c,m)=>{const y=Sp(o,i,c,m),_=as(o,c)&&i===m;return y.collapsed&&!_},XI=o=>L.from(o.getSelection()),Dk=o=>{if(o.rangeCount>0){const i=o.getRangeAt(0),c=o.getRangeAt(o.rangeCount-1);return L.some(Ub.create(ze.fromDom(i.startContainer),i.startOffset,ze.fromDom(c.endContainer),c.endOffset))}else return L.none()},Xg=o=>{if(o.anchorNode===null||o.focusNode===null)return Dk(o);{const i=ze.fromDom(o.anchorNode),c=ze.fromDom(o.focusNode);return Ok(i,o.anchorOffset,c,o.focusOffset)?L.some(Ub.create(i,o.anchorOffset,c,o.focusOffset)):Dk(o)}},xp=o=>XI(o).filter(i=>i.rangeCount>0).bind(Xg),Mk=(o,i)=>{const c=xw(o,i);return Kg(c)},Jg=(o,i)=>{const c=xw(o,i);return YI(c)},qb=((o,i)=>{const c=_=>{if(!o(_))throw new Error("Can only get "+i+" value of a "+i+" node");return m(_).getOr("")},m=_=>o(_)?L.from(_.dom.nodeValue):L.none();return{get:c,getOption:m,set:(_,C)=>{if(!o(_))throw new Error("Can only set raw "+i+" value of a "+i+" node");_.dom.nodeValue=C}}})(tl,"text"),QE=o=>qb.get(o),ch=(o,i)=>({element:o,offset:i}),Ew=(o,i)=>{const c=Pi(o);if(c.length===0)return ch(o,i);if(i<c.length)return ch(c[i],0);{const m=c[c.length-1],y=tl(m)?QE(m).length:Pi(m).length;return ch(m,y)}},ya=(o,i)=>tl(o)?ch(o,i):Ew(o,i),e2=(o,i)=>i.getSelection.getOrThunk(()=>()=>xp(o))().map(m=>{const y=ya(m.start,m.soffset),_=ya(m.finish,m.foffset);return Zb.range(y.element,y.offset,_.element,_.offset)}),Tu=(o,i,c)=>{const m=ed(i.root).dom,y=xk(o,c,i),_=e2(m,i).bind(M=>Jg(m,Zb.exactFromRange(M)).orThunk(()=>{const V=ze.fromText(Hb);Fl(M.start,V);const Z=Mk(m,Zb.exact(V,0,V,1));return uc(V),Z}).bind(V=>jE(V.left,V.top,V.width,V.height))),R=e2(m,i).bind(M=>Jo(M.start)?L.some(M.start):Ml(M.start)).getOr(o.element);return WE(_,y,i,c,R)};var zk=[jo("getSelection"),Ct("root"),jo("bubble"),gd(),Be("overrides",{}),Be("showAbove",!1),Go("placement",Tu)];const yd="link-layout",bd=o=>o.x+o.width,Nk=(o,i)=>o.x-i.width,Qg=(o,i)=>o.y-i.height+o.height,JI=o=>o.y,t2=(o,i,c)=>ga(bd(o),JI(o),c.southeast(),Vg(),"southeast",Ya(o,{left:0,top:2}),yd),Tw=(o,i,c)=>ga(Nk(o,i),JI(o),c.southwest(),Hg(),"southwest",Ya(o,{right:1,top:2}),yd),Rw=(o,i,c)=>ga(bd(o),Qg(o,i),c.northeast(),sw(),"northeast",Ya(o,{left:0,bottom:3}),yd),Aw=(o,i,c)=>ga(Nk(o,i),Qg(o,i),c.northwest(),ck(),"northwest",Ya(o,{right:1,bottom:3}),yd),vd=()=>[t2,Tw,Rw,Aw],Lk=()=>[Tw,t2,Aw,Rw],QI=(o,i,c)=>{const m=kk(c,i.item.element),y=cm(o.element,i,vd(),Lk(),vd(),Lk(),L.none());return L.some(bw({anchorBox:m,bubble:wp(),overrides:i.overrides,layouts:y}))};var n2=[Ct("item"),gd(),Be("overrides",{}),Go("placement",QI)],Fk=$i("type",{selection:zk,node:GE,hotspot:BE,submenu:n2,makeshift:$E});const Bk=[rl("classes",ma),Vl("mode","all",["all","layout","placement"])],Iw=[Be("useFixed",ln),jo("getBounds")],o2=[Vi("anchor",Fk),pa("transition",Bk)],bc=()=>{const o=document.documentElement;return _E(0,0,o.clientWidth,o.clientHeight)},Ow=o=>{const i=si(o.element),c=o.element.dom.getBoundingClientRect();return Qa(i.left,i.top,c.width,c.height)},s2=(o,i,c,m,y,_)=>{const C=kE(i.anchorBox,o);return NI(C,m.element,i.bubble,i.layouts,y,c,i.overrides,_)},ey=(o,i,c,m,y)=>{const _=L.none();Ri(o,i,c,m,y,_)},Ri=(o,i,c,m,y,_)=>{const C=Bi("placement.info",ht(o2),y),R=C.anchor,M=m.element,N=c.get(m.uid);hw(()=>{un(M,"position","fixed");const V=er(M,"visibility");un(M,"visibility","hidden");const Z=i.useFixed()?bc():Ow(o);R.placement(o,R,Z).each(K=>{const Q=_.orThunk(()=>i.getBounds.map(Rn)),ie=s2(Z,K,Q,m,N,C.transition);c.set(m.uid,ie)}),V.fold(()=>{Ro(M,"visibility")},K=>{un(M,"visibility",K)}),er(M,"left").isNone()&&er(M,"top").isNone()&&er(M,"right").isNone()&&er(M,"bottom").isNone()&&la(er(M,"position"),"fixed")&&Ro(M,"position")},M)};var uh=Object.freeze({__proto__:null,position:ey,positionWithinBounds:Ri,getMode:(o,i,c)=>i.useFixed()?"fixed":"absolute",reset:(o,i,c,m)=>{const y=m.element;me(["position","left","right","top","bottom"],_=>Ro(y,_)),RI(y),c.clear(m.uid)}}),ul=Object.freeze({__proto__:null,init:()=>{let o={};return Ia({readState:()=>o,clear:y=>{Ne(y)?delete o[y]:o={}},set:(y,_)=>{o[y]=_},get:y=>Gt(o,y)})}});const ea=Ja({fields:Iw,name:"positioning",active:EI,apis:uh,state:ul}),$k=o=>o.getSystem().isConnected(),Kb=o=>{zo(o,ud());const i=o.components();me(i,Kb)},Ep=o=>{const i=o.components();me(i,Ep),zo(o,sf())},Yb=(o,i)=>{o.getSystem().addToWorld(i),Za(o.element)&&Ep(i)},Dw=o=>{Kb(o),o.getSystem().removeFromWorld(o)},Xb=(o,i)=>{wl(o.element,i.element)},r2=o=>{me(o.components(),i=>uc(i.element)),jh(o.element),o.syncComponents()},tO=(o,i,c)=>{const m=o.components();r2(o);const y=c(i),_=Ve(m,y);me(_,C=>{Kb(C),o.getSystem().removeFromWorld(C)}),me(y,C=>{$k(C)?Xb(o,C):(o.getSystem().addToWorld(C),Xb(o,C),Za(o.element)&&Ep(C))}),o.syncComponents()},nO=(o,i,c)=>{const m=o.components(),y=le(i,R=>K1(R).toArray());me(m,R=>{Zn(y,R)||Dw(R)});const _=c(i),C=Ve(m,_);me(C,R=>{$k(R)&&Dw(R)}),me(_,R=>{$k(R)||Yb(o,R)}),o.syncComponents()},gf=(o,i)=>{Jb(o,i,wl)},Jb=(o,i,c)=>{o.getSystem().addToWorld(i),c(o.element,i.element),Za(o.element)&&Ep(i),o.syncComponents()},Mw=o=>{Kb(o),uc(o.element),o.getSystem().removeFromWorld(o)},yf=o=>{const i=bl(o.element).bind(c=>o.getSystem().getByDom(c).toOptional());Mw(o),i.each(c=>{c.syncComponents()})},Pw=o=>{const i=o.components();me(i,Mw),jh(o.element),o.syncComponents()},zw=(o,i)=>{Vk(o,i,wl)},Tp=(o,i)=>{Vk(o,i,Hh)},Vk=(o,i,c)=>{c(o,i.element);const m=Pi(i.element);me(m,y=>{i.getByDom(y).each(Ep)})},a2=o=>{const i=Pi(o.element);me(i,c=>{o.getByDom(c).each(Kb)}),uc(o.element)},Hk=(o,i,c,m)=>{c.get().each(C=>{Pw(o)});const y=i.getAttachPoint(o);gf(y,o);const _=o.getSystem().build(m);return gf(o,_),c.set(_),_},fm=(o,i,c,m)=>{const y=Hk(o,i,c,m);return i.onOpen(o,y),y},oO=(o,i,c,m)=>c.get().map(()=>Hk(o,i,c,m)),Ma=(o,i,c,m,y)=>{Nw(o,i),fm(o,i,c,m),y(),Lw(o,i)},sO=(o,i,c)=>{c.get().each(m=>{Pw(o),yf(o),i.onClose(o,m),c.clear()})},ty=(o,i,c)=>c.isOpen(),ny=(o,i,c,m)=>ty(o,i,c)&&c.get().exists(y=>i.isPartOf(o,y,m)),i2=(o,i,c)=>c.get(),rO=(o,i,c,m)=>{er(o.element,i).fold(()=>{ge(o.element,c)},y=>{Jn(o.element,c,y)}),un(o.element,i,m)},aO=(o,i,c)=>{G(o.element,c).fold(()=>Ro(o.element,i),m=>un(o.element,i,m))},Nw=(o,i,c)=>{const m=i.getAttachPoint(o);un(o.element,"position",ea.getMode(m)),rO(o,"visibility",i.cloakVisibilityAttr,"hidden")},iO=o=>io(["top","left","right","bottom"],i=>er(o,i).isSome()),Lw=(o,i,c)=>{iO(o.element)||Ro(o.element,"position"),aO(o,"visibility",i.cloakVisibilityAttr)};var lO=Object.freeze({__proto__:null,cloak:Nw,decloak:Lw,open:fm,openWhileCloaked:Ma,close:sO,isOpen:ty,isPartOf:ny,getState:i2,setContent:oO}),Fw=Object.freeze({__proto__:null,events:(o,i)=>Ss([St(Dg(),(c,m)=>{sO(c,o,i)})])}),cO=[ko("onOpen"),ko("onClose"),Ct("isPartOf"),Ct("getAttachPoint"),Be("cloakVisibilityAttr","data-precloak-visibility")],Qb=Object.freeze({__proto__:null,init:()=>{const o=ns(),i=J("not-implemented");return Ia({readState:i,isOpen:o.isSet,clear:o.clear,set:o.set,get:o.get})}});const Ao=Ja({fields:cO,name:"sandboxing",active:Fw,apis:lO,state:Qb}),dh=J("dismiss.popups"),oy=J("reposition.popups"),jk=J("mouse.released"),c2=Fi([Be("isExtraPart",ln),pa("fireEventInstead",[Be("event",eh())])]),fh=o=>{const i=Bi("Dismissal",c2,o);return{[dh()]:{schema:Fi([Ct("target")]),onReceive:(c,m)=>{Ao.isOpen(c)&&(Ao.isPartOf(c,m.target)||i.isExtraPart(c,m.target)||i.fireEventInstead.fold(()=>Ao.close(c),_=>zo(c,_.event)))}}}},sy=Fi([pa("fireEventInstead",[Be("event",V1())]),mc("doReposition")]),Wk=o=>{const i=Bi("Reposition",sy,o);return{[oy()]:{onReceive:c=>{Ao.isOpen(c)&&i.fireEventInstead.fold(()=>i.doReposition(c),m=>zo(c,m.event))}}}},Zk=(o,i,c)=>{i.store.manager.onLoad(o,i,c)},Bw=(o,i,c)=>{i.store.manager.onUnload(o,i,c)};var tv=Object.freeze({__proto__:null,onLoad:Zk,onUnload:Bw,setValue:(o,i,c,m)=>{i.store.manager.setValue(o,i,c,m)},getValue:(o,i,c)=>i.store.manager.getValue(o,i,c),getState:(o,i,c)=>c}),f2=Object.freeze({__proto__:null,events:(o,i)=>{const c=o.resetOnDom?[sr((m,y)=>{Zk(m,o,i)}),al((m,y)=>{Bw(m,o,i)})]:[dw(o,i,Zk)];return Ss(c)}});const ry=()=>{const o=D(null),i=()=>({mode:"memory",value:o.get()}),c=()=>o.get()===null,m=()=>{o.set(null)};return Ia({set:o.set,get:o.get,isNotSet:c,clear:m,readState:i})},Vw=()=>Ia({readState:ne}),Rp=()=>{const o=D({}),i=D({});return Ia({readState:()=>({mode:"dataset",dataByValue:o.get(),dataByText:i.get()}),lookup:C=>Gt(o.get(),C).orThunk(()=>Gt(i.get(),C)),update:C=>{const R=o.get(),M=i.get(),N={},V={};me(C,Z=>{N[Z.value]=Z,Gt(Z,"meta").each(K=>{Gt(K,"text").each(Q=>{V[Q]=Z})})}),o.set({...R,...N}),i.set({...M,...V})},clear:()=>{o.set({}),i.set({})}})};var nv=Object.freeze({__proto__:null,memory:ry,dataset:Rp,manual:Vw,init:o=>o.store.manager.state(o)});const Ap=(o,i,c,m)=>{const y=i.store;c.update([m]),y.setValue(o,m),i.onSetValue(o,m)},h2=(o,i,c)=>{const m=i.store,y=m.getDataKey(o);return c.lookup(y).getOrThunk(()=>m.getFallbackEntry(y))},Gk=(o,i,c)=>{i.store.initialValue.each(y=>{Ap(o,i,c,y)})},ay=(o,i,c)=>{c.clear()};var qk=[jo("initialValue"),Ct("getFallbackEntry"),Ct("getDataKey"),Ct("setValue"),Go("manager",{setValue:Ap,getValue:h2,onLoad:Gk,onUnload:ay,state:Rp})];const Hw=(o,i,c)=>i.store.getValue(o),uO=(o,i,c,m)=>{i.store.setValue(o,m),i.onSetValue(o,m)},m2=(o,i,c)=>{i.store.initialValue.each(m=>{i.store.setValue(o,m)})};var mm=[Ct("getValue"),Be("setValue",ne),jo("initialValue"),Go("manager",{setValue:uO,getValue:Hw,onLoad:m2,onUnload:ne,state:fd.init})];const Kk=(o,i,c,m)=>{c.set(m),i.onSetValue(o,m)},Yk=(o,i,c)=>c.get(),Uw=(o,i,c)=>{i.store.initialValue.each(m=>{c.isNotSet()&&c.set(m)})},p2=(o,i,c)=>{c.clear()};var hh=[jo("initialValue"),Go("manager",{setValue:Kk,getValue:Yk,onLoad:Uw,onUnload:p2,state:ry})],Xk=[li("store",{mode:"memory"},$i("mode",{memory:hh,manual:mm,dataset:qk})),ko("onSetValue"),Be("resetOnDom",!1)];const tn=Ja({fields:Xk,name:"representing",active:f2,apis:tv,extra:{setValueFrom:(o,i)=>{const c=tn.getValue(i);tn.setValue(o,c)}},state:nv}),Pa=(o,i)=>O(o,{},Ee(i,c=>H0(c.name(),"Cannot configure "+c.name()+" for "+o)).concat([ii("dump",Te)])),qc=o=>o.dump,ta=(o,i)=>({...Lt(i),...o.dump}),Au={field:Pa,augment:ta,get:qc},vc="placeholder",jr=te.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Jk=o=>Mo(o,"uiType"),iy=(o,i,c,m)=>o.exists(y=>y!==c.owner)?jr.single(!0,J(c)):Gt(m,c.name).fold(()=>{throw new Error("Unknown placeholder component: "+c.name+`
Known: [`+_n(m)+`]
Namespace: `+o.getOr("none")+`
Spec: `+JSON.stringify(c,null,2))},y=>y.replace()),Ip=(o,i,c,m)=>Jk(c)&&c.uiType===vc?iy(o,i,c,m):jr.single(!1,J(c)),ov=(o,i,c,m)=>Ip(o,i,c,m).fold((_,C)=>{const R=Jk(c)?C(i,c.config,c.validated):C(i),M=Gt(R,"components").getOr([]),N=le(M,V=>ov(o,i,V,m));return[{...R,components:N}]},(_,C)=>{if(Jk(c)){const R=C(i,c.config,c.validated);return c.validated.preprocess.getOr(Te)(R)}else return C(i)}),g2=(o,i,c,m)=>le(c,y=>ov(o,i,y,m)),y2=(o,i)=>{let c=!1;const m=()=>c,y=()=>{if(c)throw new Error("Trying to use the same placeholder more than once: "+o);return c=!0,i},_=()=>i.fold((C,R)=>C,(C,R)=>C);return{name:J(o),required:_,used:m,replace:y}},b2=(o,i,c,m)=>{const y=mo(m,(C,R)=>y2(R,C)),_=g2(o,i,c,y);return lo(y,C=>{if(C.used()===!1&&C.required())throw new Error("Placeholder: "+C.name()+` was not found in components list
Namespace: `+o.getOr("none")+`
Components: `+JSON.stringify(i.components,null,2))}),_},jw=jr.single,Qk=jr.multiple,v2=J(vc),sv=te.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),rv=Be("factory",{sketch:Te}),av=Be("schema",[]),iv=Ct("name"),Ww=Qo("pname","pname",Jd(o=>"<alloy."+dn(o.name)+">"),Ra()),Zw=ii("schema",()=>[jo("preprocess")]),Op=Be("defaults",J({})),Kl=Be("overrides",J({})),lv=ht([rv,av,iv,Ww,Op,Kl]),w2=ht([rv,av,iv,Op,Kl]),eC=ht([rv,av,iv,Ww,Op,Kl]),dO=ht([rv,Zw,iv,Ct("unit"),Ww,Op,Kl]),_2=o=>o.fold(L.some,L.none,L.some,L.some),cv=o=>{const i=c=>c.name;return o.fold(i,i,i,i)},fO=o=>o.fold(Te,Te,Te,Te),uv=(o,i)=>c=>{const m=Bi("Converting part type",i,c);return o(m)},za=uv(sv.required,lv),Iu=uv(sv.external,w2),wc=uv(sv.optional,eC),pm=uv(sv.group,dO),Ou=J("entirety");var hO=Object.freeze({__proto__:null,required:za,external:Iu,optional:wc,group:pm,asNamedPart:_2,name:cv,asCommon:fO,original:Ou});const tC=(o,i,c,m)=>ds(i.defaults(o,c,m),c,{uid:o.partUids[i.name]},i.overrides(o,c,m)),nC=(o,i,c)=>{const m={},y={};return me(c,_=>{_.fold(C=>{m[C.pname]=jw(!0,(R,M,N)=>C.factory.sketch(tC(R,C,M,N)))},C=>{const R=i.parts[C.name];y[C.name]=J(C.factory.sketch(tC(i,C,R[Ou()]),R))},C=>{m[C.pname]=jw(!1,(R,M,N)=>C.factory.sketch(tC(R,C,M,N)))},C=>{m[C.pname]=Qk(!0,(R,M,N)=>{const V=R[C.name];return Ee(V,Z=>C.factory.sketch(ds(C.defaults(R,Z,N),Z,C.overrides(R,Z))))})})}),{internals:J(m),externals:J(y)}},oC=(o,i)=>{const c={};return me(i,m=>{_2(m).each(y=>{const _=mO(o,y.pname);c[y.name]=C=>{const R=Bi("Part: "+y.name+" in "+o,ht(y.schema),C);return{..._,config:C,validated:R}}})}),c},mO=(o,i)=>({uiType:v2(),owner:o,name:i}),sC=(o,i,c)=>({uiType:v2(),owner:o,name:i,config:c,validated:{}}),pO=o=>le(o,i=>i.fold(L.none,L.some,L.none,L.none).map(c=>ld(c.name,c.schema.concat([lk(Ou())]))).toArray()),gO=o=>Ee(o,cv),rC=(o,i,c)=>nC(o,i,c),aC=(o,i,c)=>b2(L.some(o),i,i.components,c),gs=(o,i,c)=>{const m=i.partUids[c];return o.getSystem().getByUid(m).toOptional()},wd=(o,i,c)=>gs(o,i,c).getOrDie("Could not find part: "+c),iC=(o,i,c)=>{const m={},y=i.partUids,_=o.getSystem();return me(c,C=>{m[C]=J(_.getByUid(y[C]))}),m},lC=(o,i)=>{const c=o.getSystem();return mo(i.partUids,(m,y)=>J(c.getByUid(m)))},k2=o=>_n(o.partUids),Gw=(o,i,c)=>{const m={},y=i.partUids,_=o.getSystem();return me(c,C=>{m[C]=J(_.getByUid(y[C]).getOrDie())}),m},C2=(o,i)=>{const c=gO(i);return $o(Ee(c,m=>({key:m,value:o+"-"+m})))},qw=o=>Qo("partUids","partUids",ef(i=>C2(i.uid,o)),Ra());var S2=Object.freeze({__proto__:null,generate:oC,generateOne:sC,schemas:pO,names:gO,substitutes:rC,components:aC,defaultUids:C2,defaultUidsSchema:qw,getAllParts:lC,getAllPartNames:k2,getPart:gs,getPartOrDie:wd,getParts:iC,getPartsOrDie:Gw});const yO=(o,i)=>(o.length>0?[ld("parts",o)]:[]).concat([Ct("uid"),Be("dom",{}),Be("components",[]),lk("originalSpec"),Be("debug.sketcher",{})]).concat(i),x2=(o,i,c,m,y)=>{const _=yO(m,y);return Bi(o+" [SpecSchema]",Fi(_.concat(i)),c)},bO=(o,i,c,m)=>{const y=fn(m),_=x2(o,i,y,[],[]);return c(_,y)},cC=(o,i,c,m,y)=>{const _=fn(y),C=pO(c),R=qw(c),M=x2(o,i,_,C,[R]),N=rC(o,M,c),V=aC(o,M,N.internals());return m(M,V,_,N.externals())},E2=o=>Mo(o,"uid"),fn=o=>E2(o)?o:{...o,uid:oh("uid")},_d=o=>o.uid!==void 0,uC=Fi([Ct("name"),Ct("factory"),Ct("configFields"),Be("apis",{}),Be("extraApis",{})]),T2=Fi([Ct("name"),Ct("factory"),Ct("configFields"),Ct("partFields"),Be("apis",{}),Be("extraApis",{})]),cr=o=>{const i=Bi("Sketcher for "+o.name,uC,o),c=_=>bO(i.name,i.configFields,i.factory,_),m=mo(i.apis,tm),y=mo(i.extraApis,(_,C)=>cp(_,C));return{name:i.name,configFields:i.configFields,sketch:c,...m,...y}},Nr=o=>{const i=Bi("Sketcher for "+o.name,T2,o),c=C=>cC(i.name,i.configFields,i.partFields,i.factory,C),m=oC(i.name,i.partFields),y=mo(i.apis,tm),_=mo(i.extraApis,(C,R)=>cp(C,R));return{name:i.name,partFields:i.partFields,configFields:i.configFields,sketch:c,parts:m,...y,..._}},ly=o=>yl("input")(o)&&ua(o,"type")!=="radio"||yl("textarea")(o);var vO=Object.freeze({__proto__:null,getCurrent:(o,i,c)=>i.find(o)});const wO=[Ct("find")],yo=Ja({fields:wO,name:"composing",apis:vO}),dC=["input","button","textarea","select"],cy=(o,i,c)=>{(i.disabled()?hC:mC)(o,i)},Kw=(o,i)=>i.useNative===!0&&Zn(dC,el(o.element)),_O=o=>ae(o.element,"disabled"),kO=o=>{Jn(o.element,"disabled","disabled")},fC=o=>{ge(o.element,"disabled")},C4=o=>ua(o.element,"aria-disabled")==="true",R2=o=>{Jn(o.element,"aria-disabled","true")},CO=o=>{Jn(o.element,"aria-disabled","false")},hC=(o,i,c)=>{i.disableClass.each(y=>{Jr(o.element,y)}),(Kw(o,i)?kO:R2)(o),i.onDisabled(o)},mC=(o,i,c)=>{i.disableClass.each(y=>{xs(o.element,y)}),(Kw(o,i)?fC:CO)(o),i.onEnabled(o)},A2=(o,i)=>Kw(o,i)?_O(o):C4(o);var O2=Object.freeze({__proto__:null,enable:mC,disable:hC,isDisabled:A2,onLoad:cy,set:(o,i,c,m)=>{(m?hC:mC)(o,i)}}),xO=Object.freeze({__proto__:null,exhibit:(o,i)=>Zl({classes:i.disabled()?i.disableClass.toArray():[]}),events:(o,i)=>Ss([Y0(ji(),(c,m)=>A2(c,o)),dw(o,i,cy)])}),S4=[Ur("disabled",ln),Be("useNative",!0),jo("disableClass"),ko("onDisabled"),ko("onEnabled")];const An=Ja({fields:S4,name:"disabling",active:xO,apis:O2}),Yw=(o,i,c,m)=>{const y=zr(o.element,"."+i.highlightClass);me(y,_=>{io(m,R=>as(R.element,_))||(xs(_,i.highlightClass),o.getSystem().getByDom(_).each(R=>{i.onDehighlight(o,R),zo(R,H1())}))})},x4=(o,i,c)=>Yw(o,i,c,[]),EO=(o,i,c,m)=>{gm(o,i,c,m)&&(xs(m.element,i.highlightClass),i.onDehighlight(o,m),zo(m,H1()))},fv=(o,i,c,m)=>{Yw(o,i,c,[m]),gm(o,i,c,m)||(Jr(m.element,i.highlightClass),i.onHighlight(o,m),zo(m,K0()))},E4=(o,i,c)=>{Qw(o,i).each(m=>{fv(o,i,c,m)})},Xw=(o,i,c)=>{gC(o,i).each(m=>{fv(o,i,c,m)})},TO=(o,i,c,m)=>{pC(o,i,c,m).fold(y=>{throw y},y=>{fv(o,i,c,y)})},RO=(o,i,c,m)=>{const y=mv(o,i);Oe(y,m).each(C=>{fv(o,i,c,C)})},gm=(o,i,c,m)=>xi(m.element,i.highlightClass),Jw=(o,i,c)=>Ys(o.element,"."+i.highlightClass).bind(m=>o.getSystem().getByDom(m).toOptional()),pC=(o,i,c,m)=>{const y=zr(o.element,"."+i.itemClass);return L.from(y[m]).fold(()=>to.error(new Error("No element found with index "+m)),o.getSystem().getByDom)},Qw=(o,i,c)=>Ys(o.element,"."+i.itemClass).bind(m=>o.getSystem().getByDom(m).toOptional()),gC=(o,i,c)=>{const m=zr(o.element,"."+i.itemClass);return(m.length>0?L.some(m[m.length-1]):L.none()).bind(_=>o.getSystem().getByDom(_).toOptional())},hv=(o,i,c,m)=>{const y=zr(o.element,"."+i.itemClass);return pt(y,C=>xi(C,i.highlightClass)).bind(C=>{const R=pp(C,m,0,y.length-1);return o.getSystem().getByDom(y[R]).toOptional()})},AO=(o,i,c)=>hv(o,i,c,-1),IO=(o,i,c)=>hv(o,i,c,1),mv=(o,i,c)=>{const m=zr(o.element,"."+i.itemClass);return du(Ee(m,y=>o.getSystem().getByDom(y).toOptional()))};var e_=Object.freeze({__proto__:null,dehighlightAll:x4,dehighlight:EO,highlight:fv,highlightFirst:E4,highlightLast:Xw,highlightAt:TO,highlightBy:RO,isHighlighted:gm,getHighlighted:Jw,getFirst:Qw,getLast:gC,getPrevious:AO,getNext:IO,getCandidates:mv}),OO=[Ct("highlightClass"),Ct("itemClass"),ko("onHighlight"),ko("onDehighlight")];const No=Ja({fields:OO,name:"highlighting",apis:e_}),DO=[8],bf=[9],Du=[13],t_=[27],Yl=[32],uy=[37],dy=[38],Dp=[39],mh=[40],yC=(o,i,c)=>{const m=Qe(o.slice(0,i)),y=Qe(o.slice(i+1));return Oe(m.concat(y),c)},Mp=(o,i,c)=>{const m=Qe(o.slice(0,i));return Oe(m,c)},I7=(o,i,c)=>{const m=o.slice(0,i),y=o.slice(i+1);return Oe(y.concat(m),c)},T4=(o,i,c)=>{const m=o.slice(i+1);return Oe(m,c)},Oo=o=>i=>{const c=i.raw;return Zn(o,c.which)},Kc=o=>i=>$e(o,c=>c(i)),Pp=o=>o.raw.shiftKey===!0,MO=o=>o.raw.ctrlKey===!0,n_=je(Pp),Po=(o,i)=>({matches:o,classification:i}),bC=(o,i)=>Oe(o,m=>m.matches(i)).map(m=>m.classification),D2=(o,i,c)=>{i.exists(y=>c.exists(_=>as(_,y)))||xn(o,Qh(),{prevFocus:i,newFocus:c})},pv=()=>{const o=c=>xu(c.element);return{get:o,set:(c,m)=>{const y=o(c);c.getSystem().triggerFocus(m,c.element);const _=o(c);D2(c,y,_)}}},PO=()=>{const o=c=>No.getHighlighted(c).map(m=>m.element);return{get:o,set:(c,m)=>{const y=o(c);c.getSystem().getByDom(m).fold(ne,C=>{No.highlight(c,C)});const _=o(c);D2(c,y,_)}}};var fy;(function(o){o.OnFocusMode="onFocus",o.OnEnterOrSpaceMode="onEnterOrSpace",o.OnApiMode="onApi"})(fy||(fy={}));const zp=(o,i,c,m,y)=>{const _=()=>o.concat([Be("focusManager",pv()),li("focusInside","onFocus",Vs(N=>Zn(["onFocus","onEnterOrSpace","onApi"],N)?to.value(N):to.error("Invalid value for focusInside"))),Go("handler",M),Go("state",i),Go("sendFocusIn",y)]),C=(N,V,Z,K,Q)=>{const ie=Z(N,V,K,Q);return bC(ie,V.event).bind(_e=>_e(N,V,K,Q))},M={schema:_,processKey:C,toEvents:(N,V)=>{const Z=N.focusInside!==fy.OnFocusMode?L.none():y(N).map(ie=>St(of(),(_e,He)=>{ie(_e,N,V),He.stop()})),K=(ie,_e)=>{const He=Oo(Yl.concat(Du))(_e.event);N.focusInside===fy.OnEnterOrSpaceMode&&He&&Yf(ie,_e)&&y(N).each(De=>{De(ie,N,V),_e.stop()})},Q=[St(jl(),(ie,_e)=>{C(ie,_e,c,N,V).fold(()=>{K(ie,_e)},He=>{_e.stop()})}),St(Jh(),(ie,_e)=>{C(ie,_e,m,N,V).each(He=>{_e.stop()})})];return Ss(Z.toArray().concat(Q))}};return M},vC=o=>{const i=[jo("onEscape"),jo("onEnter"),Be("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Be("firstTabstop",0),Be("useTabstopAt",It),jo("visibilitySelector")].concat([o]),c=(_e,He)=>{const De=_e.visibilitySelector.bind(Ae=>md(He,Ae)).getOr(He);return Vr(De)>0},m=(_e,He)=>{const De=zr(_e.element,He.selector),Ae=Xe(De,mt=>c(He,mt));return L.from(Ae[He.firstTabstop])},y=(_e,He)=>He.focusManager.get(_e).bind(De=>md(De,He.selector)),_=(_e,He)=>c(_e,He)&&_e.useTabstopAt(He),C=(_e,He,De)=>{m(_e,He).each(Ae=>{He.focusManager.set(_e,Ae)})},R=(_e,He,De,Ae,mt)=>mt(He,De,bt=>_(Ae,bt)).fold(()=>Ae.cyclic?L.some(!0):L.none(),bt=>(Ae.focusManager.set(_e,bt),L.some(!0))),M=(_e,He,De,Ae)=>{const mt=zr(_e.element,De.selector);return y(_e,De).bind(bt=>pt(mt,wt(as,bt)).bind(Rt=>R(_e,mt,Rt,De,Ae)))},N=(_e,He,De)=>{const Ae=De.cyclic?yC:Mp;return M(_e,He,De,Ae)},V=(_e,He,De)=>{const Ae=De.cyclic?I7:T4;return M(_e,He,De,Ae)},Z=(_e,He,De)=>De.onEnter.bind(Ae=>Ae(_e,He)),K=(_e,He,De)=>De.onEscape.bind(Ae=>Ae(_e,He)),Q=J([Po(Kc([Pp,Oo(bf)]),N),Po(Oo(bf),V),Po(Kc([n_,Oo(Du)]),Z)]),ie=J([Po(Oo(t_),K)]);return zp(i,fd.init,Q,ie,()=>L.some(C))};var p=vC(ii("cyclic",ln)),b=vC(ii("cyclic",It));const k=(o,i,c)=>(wb(o,c,ji()),L.some(!0)),E=(o,i,c)=>ly(c)&&Oo(Yl)(i.event)?L.none():k(o,i,c),P=(o,i)=>L.some(!0),B=[Be("execute",E),Be("useSpace",!1),Be("useEnter",!0),Be("useControlEnter",!1),Be("useDown",!1)],q=(o,i,c)=>c.execute(o,i,o.element),ee=(o,i,c,m)=>{const y=c.useSpace&&!ly(o.element)?Yl:[],_=c.useEnter?Du:[],C=c.useDown?mh:[],R=y.concat(_).concat(C);return[Po(Oo(R),q)].concat(c.useControlEnter?[Po(Kc([MO,Oo(Du)]),q)]:[])},ce=(o,i,c,m)=>c.useSpace&&!ly(o.element)?[Po(Oo(Yl),P)]:[];var we=zp(B,fd.init,ee,ce,()=>L.none());const Pe=()=>{const o=ns();return Ia({readState:()=>o.get().map(y=>({numRows:String(y.numRows),numColumns:String(y.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(y,_)=>{o.set({numRows:y,numColumns:_})},getNumRows:()=>o.get().map(y=>y.numRows),getNumColumns:()=>o.get().map(y=>y.numColumns)})};var Xt=Object.freeze({__proto__:null,flatgrid:Pe,init:o=>o.state(o)});const jt=o=>(i,c,m,y)=>{const _=o(i.element);return hn(_,i,c,m,y)},_t=(o,i)=>{const c=vw(o,i);return jt(c)},qt=(o,i)=>{const c=vw(i,o);return jt(c)},gt=o=>(i,c,m,y)=>hn(o,i,c,m,y),hn=(o,i,c,m,y)=>m.focusManager.get(i).bind(C=>o(i.element,C,m,y)).map(C=>(m.focusManager.set(i,C),!0)),Fn=gt,Qn=gt,Es=gt,Na=o=>o.offsetWidth<=0&&o.offsetHeight<=0,kr=o=>!Na(o.dom),El=(o,i)=>pt(o,i).map(c=>({index:c,candidates:o})),ym=(o,i,c)=>{const m=C=>as(C,i),y=zr(o,c),_=Xe(y,kr);return El(_,m)},o_=(o,i)=>pt(o,c=>as(i,c)),wC=(o,i,c,m)=>{const y=Math.floor(i/c),_=i%c;return m(y,_).bind(C=>{const R=C.row*c+C.column;return R>=0&&R<o.length?L.some(o[R]):L.none()})},s_=(o,i,c,m,y)=>wC(o,i,m,(_,C)=>{const M=_===c-1?o.length-_*m:m,N=pp(C,y,0,M-1);return L.some({row:_,column:N})}),ls=(o,i,c,m,y)=>wC(o,i,m,(_,C)=>{const R=pp(_,y,0,c-1),N=R===c-1?o.length-R*m:m,V=yc(C,0,N-1);return L.some({row:R,column:V})}),dl=(o,i,c,m)=>s_(o,i,c,m,1),fl=(o,i,c,m)=>s_(o,i,c,m,-1),_c=(o,i,c,m)=>ls(o,i,c,m,-1),Xl=(o,i,c,m)=>ls(o,i,c,m,1),hy=[Ct("selector"),Be("execute",E),ir("onEscape"),Be("captureTab",!1),Pb()],Tl=(o,i,c)=>{Ys(o.element,i.selector).each(m=>{i.focusManager.set(o,m)})},r_=(o,i)=>i.focusManager.get(o).bind(c=>md(c,i.selector)),gv=(o,i,c,m)=>r_(o,c).bind(y=>c.execute(o,i,y)),Yc=o=>(i,c,m,y)=>ym(i,c,m.selector).bind(_=>o(_.candidates,_.index,y.getNumRows().getOr(m.initSize.numRows),y.getNumColumns().getOr(m.initSize.numColumns))),Hs=(o,i,c)=>c.captureTab?L.some(!0):L.none(),zO=(o,i,c)=>c.onEscape(o,i),M2=Yc(fl),P2=Yc(dl),NO=Yc(_c),LO=Yc(Xl),bm=J([Po(Oo(uy),_t(M2,P2)),Po(Oo(Dp),qt(M2,P2)),Po(Oo(dy),Fn(NO)),Po(Oo(mh),Qn(LO)),Po(Kc([Pp,Oo(bf)]),Hs),Po(Kc([n_,Oo(bf)]),Hs),Po(Oo(Yl.concat(Du)),gv)]),_C=J([Po(Oo(t_),zO),Po(Oo(Yl),P)]);var yv=zp(hy,Pe,bm,_C,()=>L.some(Tl));const z2=(o,i,c,m,y)=>{const _=R=>el(R)==="button"&&ua(R,"disabled")==="disabled",C=(R,M,N)=>y(R,M,m,0,N.length-1,N[M],V=>_(N[V])?C(R,V,N):L.from(N[V]));return ym(o,c,i).bind(R=>{const M=R.index,N=R.candidates;return C(M,M,N)})},kC=(o,i,c,m)=>z2(o,i,c,m,(y,_,C,R,M,N,V)=>{const Z=yc(_+C,R,M);return Z===y?L.from(N):V(Z)}),a_=(o,i,c,m)=>z2(o,i,c,m,(y,_,C,R,M,N,V)=>{const Z=pp(_,C,R,M);return Z===y?L.none():V(Z)}),O7=[Ct("selector"),Be("getInitial",L.none),Be("execute",E),ir("onEscape"),Be("executeOnMove",!1),Be("allowVertical",!0),Be("allowHorizontal",!0),Be("cycles",!0)],D7=(o,i)=>i.focusManager.get(o).bind(c=>md(c,i.selector)),FO=(o,i,c)=>D7(o,c).bind(m=>c.execute(o,i,m)),M7=(o,i,c)=>{i.getInitial(o).orThunk(()=>Ys(o.element,i.selector)).each(m=>{i.focusManager.set(o,m)})},R4=(o,i,c)=>(c.cycles?a_:kC)(o,c.selector,i,-1),A4=(o,i,c)=>(c.cycles?a_:kC)(o,c.selector,i,1),BO=o=>(i,c,m,y)=>o(i,c,m,y).bind(()=>m.executeOnMove?FO(i,c,m):L.some(!0)),$O=(o,i,c)=>c.onEscape(o,i),P7=(o,i,c,m)=>{const y=[...c.allowHorizontal?uy:[]].concat(c.allowVertical?dy:[]),_=[...c.allowHorizontal?Dp:[]].concat(c.allowVertical?mh:[]);return[Po(Oo(y),BO(_t(R4,A4))),Po(Oo(_),BO(qt(R4,A4))),Po(Oo(Du),FO),Po(Oo(Yl),FO)]},z7=J([Po(Oo(Yl),P),Po(Oo(t_),$O)]);var N7=zp(O7,fd.init,P7,z7,()=>L.some(M7));const N2=(o,i,c)=>L.from(o[i]).bind(m=>L.from(m[c]).map(y=>({rowIndex:i,columnIndex:c,cell:y}))),my=(o,i,c,m)=>{const _=o[i].length,C=pp(c,m,0,_-1);return N2(o,i,C)},I4=(o,i,c,m)=>{const y=pp(c,m,0,o.length-1),_=o[y].length,C=yc(i,0,_-1);return N2(o,y,C)},O4=(o,i,c,m)=>{const _=o[i].length,C=yc(c+m,0,_-1);return N2(o,i,C)},L2=(o,i,c,m)=>{const y=yc(c+m,0,o.length-1),_=o[y].length,C=yc(i,0,_-1);return N2(o,y,C)},L7=(o,i,c)=>my(o,i,c,1),D4=(o,i,c)=>my(o,i,c,-1),M4=(o,i,c)=>I4(o,c,i,-1),P4=(o,i,c)=>I4(o,c,i,1),z4=(o,i,c)=>O4(o,i,c,-1),F7=(o,i,c)=>O4(o,i,c,1),B7=(o,i,c)=>L2(o,c,i,-1),$7=(o,i,c)=>L2(o,c,i,1),VO=[ld("selectors",[Ct("row"),Ct("cell")]),Be("cycles",!0),Be("previousSelector",L.none),Be("execute",E)],V7=(o,i,c)=>{i.previousSelector(o).orThunk(()=>{const y=i.selectors;return Ys(o.element,y.cell)}).each(y=>{i.focusManager.set(o,y)})},H7=(o,i,c)=>xu(o.element).bind(m=>c.execute(o,i,m)),U7=(o,i)=>Ee(o,c=>zr(c,i.selectors.cell)),F2=(o,i)=>(c,m,y)=>{const _=y.cycles?o:i;return md(m,y.selectors.row).bind(C=>{const R=zr(C,y.selectors.cell);return o_(R,m).bind(M=>{const N=zr(c,y.selectors.row);return o_(N,C).bind(V=>{const Z=U7(N,y);return _(Z,V,M).map(K=>K.cell)})})})},HO=F2(D4,z4),N4=F2(L7,F7),j7=F2(M4,B7),W7=F2(P4,$7),L4=J([Po(Oo(uy),_t(HO,N4)),Po(Oo(Dp),qt(HO,N4)),Po(Oo(dy),Fn(j7)),Po(Oo(mh),Qn(W7)),Po(Oo(Yl.concat(Du)),H7)]),Z7=J([Po(Oo(Yl),P)]);var G7=zp(VO,fd.init,L4,Z7,()=>L.some(V7));const F4=[Ct("selector"),Be("execute",E),Be("moveOnTab",!1)],B4=(o,i,c)=>c.focusManager.get(o).bind(m=>c.execute(o,i,m)),q7=(o,i,c)=>{Ys(o.element,i.selector).each(m=>{i.focusManager.set(o,m)})},CC=(o,i,c)=>a_(o,c.selector,i,-1),$4=(o,i,c)=>a_(o,c.selector,i,1),V4=(o,i,c,m)=>c.moveOnTab?Es(CC)(o,i,c,m):L.none(),kc=(o,i,c,m)=>c.moveOnTab?Es($4)(o,i,c,m):L.none(),K7=J([Po(Oo(dy),Es(CC)),Po(Oo(mh),Es($4)),Po(Kc([Pp,Oo(bf)]),V4),Po(Kc([n_,Oo(bf)]),kc),Po(Oo(Du),B4),Po(Oo(Yl),B4)]),H4=J([Po(Oo(Yl),P)]);var Y7=zp(F4,fd.init,K7,H4,()=>L.some(q7));const X7=[ir("onSpace"),ir("onEnter"),ir("onShiftEnter"),ir("onLeft"),ir("onRight"),ir("onTab"),ir("onShiftTab"),ir("onUp"),ir("onDown"),ir("onEscape"),Be("stopSpaceKeyup",!1),jo("focusIn")],U4=(o,i,c)=>[Po(Oo(Yl),c.onSpace),Po(Kc([n_,Oo(Du)]),c.onEnter),Po(Kc([Pp,Oo(Du)]),c.onShiftEnter),Po(Kc([Pp,Oo(bf)]),c.onShiftTab),Po(Kc([n_,Oo(bf)]),c.onTab),Po(Oo(dy),c.onUp),Po(Oo(mh),c.onDown),Po(Oo(uy),c.onLeft),Po(Oo(Dp),c.onRight),Po(Oo(Yl),c.onSpace)],J7=(o,i,c)=>[...c.stopSpaceKeyup?[Po(Oo(Yl),P)]:[],Po(Oo(t_),c.onEscape)];var j4=zp(X7,fd.init,U4,J7,o=>o.focusIn);const W4=p.schema(),Q7=b.schema(),eH=N7.schema(),tH=yv.schema(),nH=G7.schema(),Z4=we.schema(),G4=Y7.schema(),py=j4.schema();var q4=Object.freeze({__proto__:null,acyclic:W4,cyclic:Q7,flow:eH,flatgrid:tH,matrix:nH,execution:Z4,menu:G4,special:py});const K4=o=>Qi(o,"setGridSize"),Sn=vk({branchKey:"mode",branches:q4,name:"keying",active:{events:(o,i)=>o.handler.toEvents(o,i)},apis:{focusIn:(o,i,c)=>{i.sendFocusIn(i).fold(()=>{o.getSystem().triggerFocus(o.element,o.element)},m=>{m(o,i,c)})},setGridSize:(o,i,c,m,y)=>{K4(c)?c.setGridSize(m,y):console.error("Layout does not support setGridSize")}},state:Xt}),Y4=(o,i)=>{hw(()=>{tO(o,i,()=>Ee(i,o.getSystem().build))},o.element)},X4=(o,i)=>{hw(()=>{nO(o,i,()=>Wx(o.element,i,o.getSystem().buildOrPatch))},o.element)},oH=(o,i,c,m)=>{Dw(i);const y=ek(o.element,c,m,o.getSystem().buildOrPatch);Yb(o,y),o.syncComponents()},UO=(o,i,c)=>{const m=o.getSystem().build(c);Jb(o,m,i)},J4=(o,i,c,m)=>{yf(i),UO(o,(y,_)=>xa(y,_,c),m)},jO=(o,i,c,m)=>(i.reuseDom?X4:Y4)(o,m),WO=(o,i,c,m)=>{UO(o,wl,m)},sH=(o,i,c,m)=>{UO(o,E1,m)},gy=(o,i,c,m)=>{const y=SC(o);Oe(y,C=>as(m.element,C.element)).each(yf)},SC=(o,i)=>o.components(),ZO=(o,i,c,m,y)=>{const _=SC(o);return L.from(_[m]).map(C=>(y.fold(()=>yf(C),R=>{(i.reuseDom?oH:J4)(o,C,m,R)}),C))};var rH=Object.freeze({__proto__:null,append:WO,prepend:sH,remove:gy,replaceAt:ZO,replaceBy:(o,i,c,m,y)=>{const _=SC(o);return pt(_,m).bind(C=>ZO(o,i,c,C,y))},set:jO,contents:SC});const Bn=Ja({fields:[ci("reuseDom",!0)],name:"replacing",apis:rH}),xC=(o,i)=>{const c=Ss(i);return Ja({fields:[Ct("enabled")],name:o,active:{events:J(c)}})},no=(o,i)=>{const c=xC(o,i);return{key:o,value:{config:{},me:c,configAsRaw:J({}),initialConfig:{},state:fd}}},GO=(o,i)=>{i.ignore||(Su(o.element),i.onFocus(o))};var aH=Object.freeze({__proto__:null,focus:GO,blur:(o,i)=>{i.ignore||wk(o.element)},isFocused:o=>Fb(o.element)}),Np=Object.freeze({__proto__:null,exhibit:(o,i)=>{const c=i.ignore?{}:{attributes:{tabindex:"-1"}};return Zl(c)},events:o=>Ss([St(of(),(i,c)=>{GO(i,o),c.stop()})].concat(o.stopMousedown?[St(is(),(i,c)=>{c.event.prevent()})]:[]))}),qO=[ko("onFocus"),Be("stopMousedown",!1),Be("ignore",!1)];const Pn=Ja({fields:qO,name:"focusing",active:Np,apis:aH}),Q4=o=>({init:()=>{const c=D(o);return{get:()=>c.get(),set:R=>c.set(R),clear:()=>c.set(o),readState:()=>c.get()}}}),e3=(o,i,c)=>{const m=i.aria;m.update(o,m,c.get())},KO=(o,i,c)=>{i.toggleClass.each(m=>{c.get()?Jr(o.element,m):xs(o.element,m)})},i_=(o,i,c,m)=>{const y=c.get();c.set(m),KO(o,i,c),e3(o,i,c),y!==m&&i.onToggled(o,m)},t3=(o,i,c)=>{i_(o,i,c,!c.get())},lH=(o,i,c)=>{i_(o,i,c,!0)},cH=(o,i,c)=>{i_(o,i,c,!1)},B2=(o,i,c)=>c.get(),$2=(o,i,c)=>{i_(o,i,c,i.selected)};var YO=Object.freeze({__proto__:null,onLoad:$2,toggle:t3,isOn:B2,on:lH,off:cH,set:i_}),n3=Object.freeze({__proto__:null,exhibit:()=>Zl({}),events:(o,i)=>{const c=uw(o,i,t3),m=dw(o,i,$2);return Ss(Ke([o.toggleOnExecute?[c]:[],[m]]))}});const o3=(o,i,c)=>{Jn(o.element,"aria-pressed",c),i.syncWithExpanded&&a3(o,i,c)},s3=(o,i,c)=>{Jn(o.element,"aria-selected",c)},r3=(o,i,c)=>{Jn(o.element,"aria-checked",c)},a3=(o,i,c)=>{Jn(o.element,"aria-expanded",c)};var XO=[Be("selected",!1),jo("toggleClass"),Be("toggleOnExecute",!0),ko("onToggled"),li("aria",{mode:"none"},$i("mode",{pressed:[Be("syncWithExpanded",!1),Go("update",o3)],checked:[Go("update",r3)],expanded:[Go("update",a3)],selected:[Go("update",s3)],none:[Go("update",ne)]}))];const fo=Ja({fields:XO,name:"toggling",active:n3,apis:YO,state:Q4(!1)}),i3=()=>{const o=(i,c)=>{c.stop(),rf(i)};return[St(jc(),o),St(rp(),o),ip(_u()),ip(is())]},V2=o=>{const i=c=>lf((m,y)=>{c(m),y.stop()});return Ss(Ke([o.map(i).toArray(),i3()]))},l3="alloy.item-hover",JO="alloy.item-focus",c3="alloy.item-toggled",u3=o=>{(xu(o.element).isNone()||Pn.isFocused(o))&&(Pn.isFocused(o)||Pn.focus(o),xn(o,l3,{item:o}))},d3=o=>{xn(o,JO,{item:o})},EC=(o,i)=>{xn(o,c3,{item:o,state:i})},f3=J(l3),TC=J(JO),QO=J(c3),h3=o=>o.toggling.map(i=>i.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),m3=o=>({aria:{mode:"checked"},...Dl(o,(i,c)=>c!=="exclusive"),onToggled:(i,c)=>{xe(o.onToggled)&&o.onToggled(i,c),EC(i,c)}}),uH=o=>({dom:o.dom,domModification:{...o.domModification,attributes:{role:h3(o),...o.domModification.attributes,"aria-haspopup":o.hasSubmenu,...o.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Au.augment(o.itemBehaviours,[o.toggling.fold(fo.revoke,i=>fo.config(m3(i))),Pn.config({ignore:o.ignoreFocus,stopMousedown:o.ignoreFocus,onFocus:i=>{d3(i)}}),Sn.config({mode:"execution"}),tn.config({store:{mode:"memory",initialValue:o.data}}),no("item-type-events",[...i3(),St(pc(),u3),St(Og(),Pn.focus)])]),components:o.components,eventOrder:o.eventOrder}),dH=[Ct("data"),Ct("components"),Ct("dom"),Be("hasSubmenu",!1),jo("toggling"),Au.field("itemBehaviours",[fo,Pn,Sn,tn]),Be("ignoreFocus",!1),Be("domModification",{}),Go("builder",uH),Be("eventOrder",{})],p3=o=>({dom:o.dom,components:o.components,events:Ss([th(Og())])}),fH=[Ct("dom"),Ct("components"),Go("builder",p3)],H2=J("item-widget"),eD=J([za({name:"widget",overrides:o=>({behaviours:Lt([tn.config({store:{mode:"manual",getValue:i=>o.data,setValue:ne}})])})})]),hH=o=>{const i=rC(H2(),o,eD()),c=aC(H2(),o,i.internals()),m=_=>gs(_,o,"widget").map(C=>(Sn.focusIn(C),C)),y=(_,C)=>ly(C.event.target)?L.none():(()=>(o.autofocus&&C.setSource(_.element),L.none()))();return{dom:o.dom,components:c,domModification:o.domModification,events:Ss([lf((_,C)=>{m(_).each(R=>{C.stop()})}),St(pc(),u3),St(Og(),(_,C)=>{o.autofocus?m(_):Pn.focus(_)})]),behaviours:Au.augment(o.widgetBehaviours,[tn.config({store:{mode:"memory",initialValue:o.data}}),Pn.config({ignore:o.ignoreFocus,onFocus:_=>{d3(_)}}),Sn.config({mode:"special",focusIn:o.autofocus?_=>{m(_)}:xI(),onLeft:y,onRight:y,onEscape:(_,C)=>!Pn.isFocused(_)&&!o.autofocus?(Pn.focus(_),L.some(!0)):(o.autofocus&&C.setSource(_.element),L.none())})])}},g3=[Ct("uid"),Ct("data"),Ct("components"),Ct("dom"),Be("autofocus",!1),Be("ignoreFocus",!1),Au.field("widgetBehaviours",[tn,Pn,Sn]),Be("domModification",{}),qw(eD()),Go("builder",hH)],U2=$i("type",{widget:g3,item:dH,separator:fH}),tD=(o,i)=>({mode:"flatgrid",selector:"."+o.markers.item,initSize:{numColumns:i.initSize.numColumns,numRows:i.initSize.numRows},focusManager:o.focusManager}),nD=(o,i)=>({mode:"matrix",selectors:{row:i.rowSelector,cell:"."+o.markers.item},previousSelector:i.previousSelector,focusManager:o.focusManager}),mH=(o,i)=>({mode:"menu",selector:"."+o.markers.item,moveOnTab:i.moveOnTab,focusManager:o.focusManager}),pH=J([pm({factory:{sketch:o=>{const i=Bi("menu.spec item",U2,o);return i.builder(i)}},name:"items",unit:"item",defaults:(o,i)=>Mo(i,"uid")?i:{...i,uid:oh("item")},overrides:(o,i)=>({type:i.type,ignoreFocus:o.fakeFocus,domModification:{classes:[o.markers.item]}})})]),gH=J([Ct("value"),Ct("items"),Ct("dom"),Ct("components"),Be("eventOrder",{}),Pa("menuBehaviours",[No,tn,yo,Sn]),li("movement",{mode:"menu",moveOnTab:!0},$i("mode",{grid:[Pb(),Go("config",tD)],matrix:[Go("config",nD),Ct("rowSelector"),Be("previousSelector",L.none)],menu:[Be("moveOnTab",!0),Go("config",mH)]})),im(),Be("fakeFocus",!1),Be("focusManager",pv()),ko("onHighlight"),ko("onDehighlight")]),y3=J("alloy.menu-focus"),b3=(o,i)=>{const c=zr(o.element,'[role="menuitemradio"][aria-checked="true"]');me(c,m=>{as(m,i.element)||o.getSystem().getByDom(m).each(y=>{fo.off(y)})})},v3=(o,i,c,m)=>({uid:o.uid,dom:o.dom,markers:o.markers,behaviours:ta(o.menuBehaviours,[No.config({highlightClass:o.markers.selectedItem,itemClass:o.markers.item,onHighlight:o.onHighlight,onDehighlight:o.onDehighlight}),tn.config({store:{mode:"memory",initialValue:o.value}}),yo.config({find:L.some}),Sn.config(o.movement.config(o,o.movement))]),events:Ss([St(TC(),(y,_)=>{const C=_.event;y.getSystem().getByDom(C.target).each(R=>{No.highlight(y,R),_.stop(),xn(y,y3(),{menu:y,item:R})})}),St(f3(),(y,_)=>{const C=_.event.item;No.highlight(y,C)}),St(QO(),(y,_)=>{const{item:C,state:R}=_.event;R&&ua(C.element,"role")==="menuitemradio"&&b3(y,C)})]),components:i,eventOrder:o.eventOrder,domModification:{attributes:{role:"menu"}}}),wv=Nr({name:"Menu",configFields:gH(),partFields:pH(),factory:v3}),yH=o=>Io(o,(i,c)=>({k:i,v:c})),w3=(o,i,c,m)=>Gt(c,m).bind(y=>Gt(o,y).bind(_=>{const C=w3(o,i,c,_);return L.some([_].concat(C))})).getOr([]),bH=(o,i)=>{const c={};lo(o,(C,R)=>{me(C,M=>{c[M]=R})});const m=i,y=yH(i),_=mo(y,(C,R)=>[R].concat(w3(c,m,y,R)));return mo(c,C=>Gt(_,C).getOr([C]))},vH=()=>{const o=D({}),i=D({}),c=D({}),m=ns(),y=D({}),_=()=>{o.set({}),i.set({}),c.set({}),m.clear()},C=()=>m.get().isNone(),R=(Ut,Rt)=>{i.set({...i.get(),[Ut]:{type:"prepared",menu:Rt}})},M=(Ut,Rt,Kt,vn)=>{m.set(Ut),o.set(Kt),i.set(Rt),y.set(vn);const So=bH(vn,Kt);c.set(So)},N=Ut=>Fr(o.get(),(Rt,Kt)=>Rt===Ut),V=(Ut,Rt,Kt)=>_e(Ut).bind(vn=>N(Ut).bind(So=>Rt(So).map(wn=>({triggeredMenu:vn,triggeringItem:wn,triggeringPath:Kt})))),Z=(Ut,Rt)=>{const Kt=Xe(De(Ut).toArray(),vn=>_e(vn).isSome());return Gt(c.get(),Ut).bind(vn=>{const So=Qe(Kt.concat(vn)),wn=le(So,(bo,Kn)=>V(bo,Rt,So.slice(0,Kn+1)).fold(()=>la(m.get(),bo)?[]:[L.none()],vo=>[L.some(vo)]));return bs(wn)})},K=Ut=>Gt(o.get(),Ut).map(Rt=>{const Kt=Gt(c.get(),Ut).getOr([]);return[Rt].concat(Kt)}),Q=Ut=>Gt(c.get(),Ut).bind(Rt=>Rt.length>1?L.some(Rt.slice(1)):L.none()),ie=Ut=>Gt(c.get(),Ut),_e=Ut=>He(Ut).bind(_3),He=Ut=>Gt(i.get(),Ut),De=Ut=>Gt(o.get(),Ut);return{setMenuBuilt:R,setContents:M,expand:K,refresh:ie,collapse:Q,lookupMenu:He,lookupItem:De,otherMenus:Ut=>{const Rt=y.get();return Ve(_n(Rt),Ut)},getPrimary:()=>m.get().bind(_e),getMenus:()=>i.get(),clear:_,isClear:C,getTriggeringPath:Z}},_3=o=>o.type==="prepared"?L.some(o.menu):L.none(),oD={init:vH,extractPreparedMenu:_3},k3=dn("tiered-menu-item-highlight"),C3=dn("tiered-menu-item-dehighlight");var Jl;(function(o){o[o.HighlightMenuAndItem=0]="HighlightMenuAndItem",o[o.HighlightJustMenu=1]="HighlightJustMenu",o[o.HighlightNone=2]="HighlightNone"})(Jl||(Jl={}));const wH=(o,i)=>{const c=ns(),m=(Yt,yn,on)=>mo(on,(zn,oo)=>{const xo=()=>wv.sketch({...zn,value:oo,markers:o.markers,fakeFocus:o.fakeFocus,onHighlight:(Gr,Wo)=>{xn(Gr,k3,{menuComp:Gr,itemComp:Wo})},onDehighlight:(Gr,Wo)=>{xn(Gr,C3,{menuComp:Gr,itemComp:Wo})},focusManager:o.fakeFocus?PO():pv()});return oo===yn?{type:"prepared",menu:Yt.getSystem().build(xo())}:{type:"notbuilt",nbMenu:xo}}),y=oD.init(),_=Yt=>{const yn=m(Yt,o.data.primary,o.data.menus),on=M();return y.setContents(o.data.primary,yn,o.data.expansions,on),y.getPrimary()},C=Yt=>tn.getValue(Yt).value,R=(Yt,yn,on)=>sn(yn,zn=>{if(!zn.getSystem().isConnected())return L.none();const oo=No.getCandidates(zn);return Oe(oo,xo=>C(xo)===on)}),M=Yt=>mo(o.data.menus,(yn,on)=>le(yn.items,zn=>zn.type==="separator"?[]:[zn.data.value])),N=No.highlight,V=(Yt,yn)=>{N(Yt,yn),No.getHighlighted(yn).orThunk(()=>No.getFirst(yn)).each(on=>{o.fakeFocus?No.highlight(yn,on):wb(Yt,on.element,Og())})},Z=(Yt,yn)=>du(Ee(yn,on=>Yt.lookupMenu(on).bind(zn=>zn.type==="prepared"?L.some(zn.menu):L.none()))),K=(Yt,yn,on)=>{const zn=Z(yn,yn.otherMenus(on));me(zn,oo=>{Ei(oo.element,[o.markers.backgroundMenu]),o.stayInDom||Bn.remove(Yt,oo)})},Q=Yt=>c.get().getOrThunk(()=>{const yn={},on=zr(Yt.element,`.${o.markers.item}`),zn=Xe(on,oo=>ua(oo,"aria-haspopup")==="true");return me(zn,oo=>{Yt.getSystem().getByDom(oo).each(xo=>{const Gr=C(xo);yn[Gr]=xo})}),c.set(yn),yn}),ie=(Yt,yn)=>{const on=Q(Yt);lo(on,(zn,oo)=>{const xo=Zn(yn,oo);Jn(zn.element,"aria-expanded",xo)})},_e=(Yt,yn,on)=>L.from(on[0]).bind(zn=>yn.lookupMenu(zn).bind(oo=>{if(oo.type==="notbuilt")return L.none();{const xo=oo.menu,Gr=Z(yn,on.slice(1));return me(Gr,Wo=>{Jr(Wo.element,o.markers.backgroundMenu)}),Za(xo.element)||Bn.append(Yt,Sl(xo)),Ei(xo.element,[o.markers.backgroundMenu]),V(Yt,xo),K(Yt,yn,on),L.some(xo)}}));let He;(function(Yt){Yt[Yt.HighlightSubmenu=0]="HighlightSubmenu",Yt[Yt.HighlightParent=1]="HighlightParent"})(He||(He={}));const De=(Yt,yn,on)=>{if(on.type==="notbuilt"){const zn=Yt.getSystem().build(on.nbMenu());return y.setMenuBuilt(yn,zn),zn}else return on.menu},Ae=(Yt,yn,on=He.HighlightSubmenu)=>{if(yn.hasConfigured(An)&&An.isDisabled(yn))return L.some(yn);{const zn=C(yn);return y.expand(zn).bind(oo=>(ie(Yt,oo),L.from(oo[0]).bind(xo=>y.lookupMenu(xo).bind(Gr=>{const Wo=De(Yt,xo,Gr);return Za(Wo.element)||Bn.append(Yt,Sl(Wo)),o.onOpenSubmenu(Yt,yn,Wo,Qe(oo)),on===He.HighlightSubmenu?(No.highlightFirst(Wo),_e(Yt,y,oo)):(No.dehighlightAll(Wo),L.some(yn))}))))}},mt=(Yt,yn)=>{const on=C(yn);return y.collapse(on).bind(zn=>(ie(Yt,zn),_e(Yt,y,zn).map(oo=>(o.onCollapseMenu(Yt,yn,oo),oo))))},bt=(Yt,yn)=>{const on=C(yn);return y.refresh(on).bind(zn=>(ie(Yt,zn),_e(Yt,y,zn)))},Ut=(Yt,yn)=>ly(yn.element)?L.none():Ae(Yt,yn,He.HighlightSubmenu),Rt=(Yt,yn)=>ly(yn.element)?L.none():mt(Yt,yn),Kt=(Yt,yn)=>mt(Yt,yn).orThunk(()=>o.onEscape(Yt,yn).map(()=>Yt)),vn=Yt=>(yn,on)=>md(on.getSource(),`.${o.markers.item}`).bind(zn=>yn.getSystem().getByDom(zn).toOptional().bind(oo=>Yt(yn,oo).map(It))),So=Ss([St(y3(),(Yt,yn)=>{const on=yn.event.item;y.lookupItem(C(on)).each(()=>{const zn=yn.event.menu;No.highlight(Yt,zn);const oo=C(yn.event.item);y.refresh(oo).each(xo=>K(Yt,y,xo))})}),lf((Yt,yn)=>{const on=yn.event.target;Yt.getSystem().getByDom(on).each(zn=>{C(zn).indexOf("collapse-item")===0&&mt(Yt,zn),Ae(Yt,zn,He.HighlightSubmenu).fold(()=>{o.onExecute(Yt,zn)},ne)})}),sr((Yt,yn)=>{_(Yt).each(on=>{Bn.append(Yt,Sl(on)),o.onOpenMenu(Yt,on),o.highlightOnOpen===Jl.HighlightMenuAndItem?V(Yt,on):o.highlightOnOpen===Jl.HighlightJustMenu&&N(Yt,on)})}),St(k3,(Yt,yn)=>{o.onHighlightItem(Yt,yn.event.menuComp,yn.event.itemComp)}),St(C3,(Yt,yn)=>{o.onDehighlightItem(Yt,yn.event.menuComp,yn.event.itemComp)}),...o.navigateOnHover?[St(f3(),(Yt,yn)=>{const on=yn.event.item;bt(Yt,on),Ae(Yt,on,He.HighlightParent),o.onHover(Yt,on)})]:[]]),wn=Yt=>No.getHighlighted(Yt).bind(No.getHighlighted),bo=Yt=>{wn(Yt).each(yn=>{mt(Yt,yn)})},Kn=Yt=>{y.getPrimary().each(yn=>{V(Yt,yn)})},vo=Yt=>L.from(Yt.components()[0]).filter(yn=>ua(yn.element,"role")==="menu"),os={collapseMenu:bo,highlightPrimary:Kn,repositionMenus:Yt=>{y.getPrimary().bind(on=>wn(Yt).bind(zn=>{const oo=C(zn),xo=pi(y.getMenus()),Gr=du(Ee(xo,oD.extractPreparedMenu));return y.getTriggeringPath(oo,Wo=>R(Yt,Gr,Wo))}).map(zn=>({primary:on,triggeringPath:zn}))).fold(()=>{vo(Yt).each(on=>{o.onRepositionMenu(Yt,on,[])})},({primary:on,triggeringPath:zn})=>{o.onRepositionMenu(Yt,on,zn)})}};return{uid:o.uid,dom:o.dom,markers:o.markers,behaviours:ta(o.tmenuBehaviours,[Sn.config({mode:"special",onRight:vn(Ut),onLeft:vn(Rt),onEscape:vn(Kt),focusIn:(Yt,yn)=>{y.getPrimary().each(on=>{wb(Yt,on.element,Og())})}}),No.config({highlightClass:o.markers.selectedMenu,itemClass:o.markers.menu}),yo.config({find:Yt=>No.getHighlighted(Yt)}),Bn.config({})]),eventOrder:o.eventOrder,apis:os,events:So}},_H=J("collapse-item"),_v=(o,i,c)=>({primary:o,menus:i,expansions:c}),kH=(o,i)=>({primary:o,menus:Wn(o,i),expansions:{}}),CH=o=>({value:dn(_H()),meta:{text:o}}),kd=cr({name:"TieredMenu",configFields:[Mb("onExecute"),Mb("onEscape"),mp("onOpenMenu"),mp("onOpenSubmenu"),ko("onRepositionMenu"),ko("onCollapseMenu"),Be("highlightOnOpen",Jl.HighlightMenuAndItem),ld("data",[Ct("primary"),Ct("menus"),Ct("expansions")]),Be("fakeFocus",!1),ko("onHighlightItem"),ko("onDehighlightItem"),ko("onHover"),ff(),Ct("dom"),Be("navigateOnHover",!0),Be("stayInDom",!1),Pa("tmenuBehaviours",[Sn,No,yo,Bn]),Be("eventOrder",{})],apis:{collapseMenu:(o,i)=>{o.collapseMenu(i)},highlightPrimary:(o,i)=>{o.highlightPrimary(i)},repositionMenus:(o,i)=>{o.repositionMenus(i)}},factory:wH,extraApis:{tieredData:_v,singleData:kH,collapseItem:CH}}),SH=(o,i,c,m,y)=>{const _=()=>o.lazySink(i),C=m.type==="horizontal"?{layouts:{onLtr:()=>cw(),onRtl:()=>Lb()}}:{},R=N=>N.length===2,M=N=>R(N)?C:{};return kd.sketch({dom:{tag:"div"},data:m.data,markers:m.menu.markers,highlightOnOpen:m.menu.highlightOnOpen,fakeFocus:m.menu.fakeFocus,onEscape:()=>(Ao.close(i),o.onEscape.map(N=>N(i)),L.some(!0)),onExecute:()=>L.some(!0),onOpenMenu:(N,V)=>{ea.positionWithinBounds(_().getOrDie(),V,c,y())},onOpenSubmenu:(N,V,Z,K)=>{const Q=_().getOrDie();ea.position(Q,Z,{anchor:{type:"submenu",item:V,...M(K)}})},onRepositionMenu:(N,V,Z)=>{const K=_().getOrDie();ea.positionWithinBounds(K,V,c,y()),me(Z,Q=>{const ie=M(Q.triggeringPath);ea.position(K,Q.triggeredMenu,{anchor:{type:"submenu",item:Q.triggeringItem,...ie}})})}})},xH=(o,i)=>{const c=(K,Q)=>o.getRelated(K).exists(_e=>am(_e,Q)),m=(K,Q)=>{Ao.setContent(K,Q)},y=(K,Q,ie)=>{const _e=L.none;_(K,Q,ie,_e)},_=(K,Q,ie,_e)=>{const He=o.lazySink(K).getOrDie();Ao.openWhileCloaked(K,Q,()=>ea.positionWithinBounds(He,K,ie,_e())),tn.setValue(K,L.some({mode:"position",config:ie,getBounds:_e}))},C=(K,Q,ie)=>{R(K,Q,ie,L.none)},R=(K,Q,ie,_e)=>{const He=SH(o,K,Q,ie,_e);Ao.open(K,He),tn.setValue(K,L.some({mode:"menu",menu:He}))},M=K=>{Ao.isOpen(K)&&(tn.setValue(K,L.none()),Ao.close(K))},N=K=>Ao.getState(K),V=K=>{Ao.isOpen(K)&&tn.getValue(K).each(Q=>{switch(Q.mode){case"menu":Ao.getState(K).each(kd.repositionMenus);break;case"position":const ie=o.lazySink(K).getOrDie();ea.positionWithinBounds(ie,K,Q.config,Q.getBounds());break}})},Z={setContent:m,showAt:y,showWithinBounds:_,showMenuAt:C,showMenuWithinBounds:R,hide:M,getContent:N,reposition:V,isOpen:Ao.isOpen};return{uid:o.uid,dom:o.dom,behaviours:ta(o.inlineBehaviours,[Ao.config({isPartOf:(K,Q,ie)=>am(Q,ie)||c(K,ie),getAttachPoint:K=>o.lazySink(K).getOrDie(),onOpen:K=>{o.onShow(K)},onClose:K=>{o.onHide(K)}}),tn.config({store:{mode:"memory",initialValue:L.none()}}),Pr.config({channels:{...fh({isExtraPart:i.isExtraPart,...o.fireDismissalEventInstead.map(K=>({fireEventInstead:{event:K.event}})).getOr({})}),...Wk({...o.fireRepositionEventInstead.map(K=>({fireEventInstead:{event:K.event}})).getOr({}),doReposition:V})}})]),eventOrder:o.eventOrder,apis:Z}},Us=cr({name:"InlineView",configFields:[Ct("lazySink"),ko("onShow"),ko("onHide"),Kf("onEscape"),Pa("inlineBehaviours",[Ao,tn,Pr]),pa("fireDismissalEventInstead",[Be("event",eh())]),pa("fireRepositionEventInstead",[Be("event",V1())]),Be("getRelated",L.none),Be("isExtraPart",ln),Be("eventOrder",L.none)],factory:xH,apis:{showAt:(o,i,c,m)=>{o.showAt(i,c,m)},showWithinBounds:(o,i,c,m,y)=>{o.showWithinBounds(i,c,m,y)},showMenuAt:(o,i,c,m)=>{o.showMenuAt(i,c,m)},showMenuWithinBounds:(o,i,c,m,y)=>{o.showMenuWithinBounds(i,c,m,y)},hide:(o,i)=>{o.hide(i)},isOpen:(o,i)=>o.isOpen(i),getContent:(o,i)=>o.getContent(i),setContent:(o,i,c)=>{o.setContent(i,c)},reposition:(o,i)=>{o.reposition(i)}}});var j2=tinymce.util.Tools.resolve("tinymce.util.Delay");const Qs=cr({name:"Button",factory:o=>{const i=V2(o.action),c=o.dom.tag,m=_=>Gt(o.dom,"attributes").bind(C=>Gt(C,_)),y=()=>{if(c==="button"){const _=m("type").getOr("button"),C=m("role").map(R=>({role:R})).getOr({});return{type:_,...C}}else return{role:o.role.getOr(m("role").getOr("button"))}};return{uid:o.uid,dom:o.dom,components:o.components,events:i,behaviours:Au.augment(o.buttonBehaviours,[Pn.config({}),Sn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:y()},eventOrder:o.eventOrder}},configFields:[Be("uid",void 0),Ct("dom"),Be("components",[]),Au.field("buttonBehaviours",[Pn,Sn]),jo("action"),jo("role"),Be("eventOrder",{})]}),es=o=>{const i=_d(o)&&Qi(o,"uid")?o.uid:oh("memento");return{get:_=>_.getSystem().getByUid(i).getOrDie(),getOpt:_=>_.getSystem().getByUid(i).toOptional(),asSpec:()=>({...o,uid:i})}};var Mu=tinymce.util.Tools.resolve("tinymce.util.I18n");const S3={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},x3="temporary-placeholder",RC=o=>()=>Gt(o,x3).getOr("!not found!"),sD=(o,i)=>{const c=o.toLowerCase();if(Mu.isRtl()){const m=gi(c,"-rtl");return Mo(i,m)?m:c}else return c},E3=(o,i)=>Gt(i,sD(o,i)),T3=(o,i)=>{const c=i();return E3(o,c).getOrThunk(RC(c))},W2=(o,i,c)=>{const m=i();return E3(o,m).or(c).getOrThunk(RC(m))},rD=o=>Mu.isRtl()?Mo(S3,o):!1,aD=()=>no("add-focusable",[sr(o=>{nE(o.element,"svg").each(i=>Jn(i,"focusable","false"))})]),iD=(o,i,c,m)=>{var y,_;const C=rD(i)?["tox-icon--flip"]:[],R=Gt(c,sD(i,c)).or(m).getOrThunk(RC(c));return{dom:{tag:o.tag,attributes:(y=o.attributes)!==null&&y!==void 0?y:{},classes:o.classes.concat(C),innerHtml:R},behaviours:Lt([...(_=o.behaviours)!==null&&_!==void 0?_:[],aD()])}},Cd=(o,i,c,m=L.none())=>iD(i,o,c(),m),EH=(o,i,c)=>{const m=c(),y=Oe(o,_=>Mo(m,sD(_,m)));return iD(i,y.getOr(x3),m,L.none())},lD={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},AC=cr({name:"Notification",factory:o=>{const i=es({dom:{tag:"p",innerHtml:o.translationProvider(o.text)},behaviours:Lt([Bn.config({})])}),c=Q=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${Q}%`}}}),m=Q=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${Q}%`}}),y=es({dom:{tag:"div",classes:o.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[c(0)]},m(0)],behaviours:Lt([Bn.config({})])}),R={updateProgress:(Q,ie)=>{Q.getSystem().isConnected()&&y.getOpt(Q).each(_e=>{Bn.set(_e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[c(ie)]},m(ie)])})},updateText:(Q,ie)=>{if(Q.getSystem().isConnected()){const _e=i.get(Q);Bn.set(_e,[Ks(ie)])}}},M=Ke([o.icon.toArray(),o.level.toArray(),o.level.bind(Q=>L.from(lD[Q])).toArray()]),N=es(Qs.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Cd("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":o.translationProvider("Close")}},o.iconProvider)],action:Q=>{o.onAction(Q)}})),V=EH(M,{tag:"div",classes:["tox-notification__icon"]},o.iconProvider),Z={dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:Lt([Bn.config({})])},K=[V,Z];return{uid:o.uid,dom:{tag:"div",attributes:{role:"alert"},classes:o.level.map(Q=>["tox-notification","tox-notification--in",`tox-notification--${Q}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Lt([Pn.config({}),no("notification-events",[St(Xh(),Q=>{N.getOpt(Q).each(Pn.focus)})])]),components:K.concat(o.progress?[y.asSpec()]:[]).concat(o.closeButton?[N.asSpec()]:[]),apis:R}},configFields:[jo("level"),Ct("progress"),jo("icon"),Ct("onAction"),Ct("text"),Ct("iconProvider"),Ct("translationProvider"),ci("closeButton",!0)],apis:{updateProgress:(o,i,c)=>{o.updateProgress(i,c)},updateText:(o,i,c)=>{o.updateText(i,c)}}});var TH=(o,i,c)=>{const m=i.backstage.shared,y=()=>{const M=tr(ze.fromDom(o.getContentAreaContainer())),N=Ea(),V=yc(N.x,M.x,M.right),Z=yc(N.y,M.y,M.bottom),K=Math.max(M.right,N.right),Q=Math.max(M.bottom,N.bottom);return L.some(Ns(V,Z,K-V,Q-Z))};return{open:(M,N)=>{const V=()=>{N(),Us.hide(K)},Z=Da(AC.sketch({text:M.text,level:Zn(["success","error","warning","warn","info"],M.type)?M.type:void 0,progress:M.progressBar===!0,icon:M.icon,closeButton:M.closeButton,onAction:V,iconProvider:m.providers.icons,translationProvider:m.providers.translate})),K=Da(Us.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:m.getSink,fireDismissalEventInstead:{},...m.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));c.add(K),Fe(M.timeout)&&M.timeout>0&&j2.setEditorTimeout(o,()=>{V()},M.timeout);const ie={close:V,reposition:()=>{const _e=Sl(Z),He={maxHeightFunction:vp()},De=o.notificationManager.getNotifications();if(De[0]===ie){const Ae={...m.anchors.banner(),overrides:He};Us.showWithinBounds(K,_e,{anchor:Ae},y)}else it(De,ie).each(Ae=>{const mt=De[Ae-1].getEl(),bt={type:"node",root:Yr(),node:L.some(ze.fromDom(mt)),overrides:He,layouts:{onRtl:()=>[Js],onLtr:()=>[Js]}};Us.showWithinBounds(K,_e,{anchor:bt},y)})},text:_e=>{AC.updateText(Z,_e)},settings:M,getEl:()=>Z.element.dom,progressBar:{value:_e=>{AC.updateProgress(Z,_e)}}};return ie},close:M=>{M.close()},getArgs:M=>M.settings}},Lp=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Z2=tinymce.util.Tools.resolve("tinymce.EditorManager"),kv=tinymce.util.Tools.resolve("tinymce.Env"),Pu;(function(o){o.default="wrap",o.floating="floating",o.sliding="sliding",o.scrolling="scrolling"})(Pu||(Pu={}));var IC;(function(o){o.auto="auto",o.top="top",o.bottom="bottom"})(IC||(IC={}));const Ts=o=>i=>i.options.get(o),OC=o=>i=>L.from(o(i)),R3=o=>{const i=kv.deviceType.isPhone(),c=kv.deviceType.isTablet()||i,m=o.options.register,y=C=>x(C)||C===!1,_=C=>x(C)||Fe(C);m("skin",{processor:C=>x(C)||C===!1,default:"oxide"}),m("skin_url",{processor:"string"}),m("height",{processor:_,default:Math.max(o.getElement().offsetHeight,400)}),m("width",{processor:_,default:Lp.DOM.getStyle(o.getElement(),"width")}),m("min_height",{processor:"number",default:100}),m("min_width",{processor:"number"}),m("max_height",{processor:"number"}),m("max_width",{processor:"number"}),m("style_formats",{processor:"object[]"}),m("style_formats_merge",{processor:"boolean",default:!1}),m("style_formats_autohide",{processor:"boolean",default:!1}),m("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),m("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),m("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),m("font_size_input_default_unit",{processor:"string",default:"pt"}),m("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),m("content_langs",{processor:"object[]"}),m("removed_menuitems",{processor:"string",default:""}),m("menubar",{processor:C=>x(C)||H(C),default:!i}),m("menu",{processor:"object",default:{}}),m("toolbar",{processor:C=>H(C)||x(C)||$(C)?{value:C,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),uo(9,C=>{m("toolbar"+(C+1),{processor:"string"})}),m("toolbar_mode",{processor:"string",default:c?"scrolling":"floating"}),m("toolbar_groups",{processor:"object",default:{}}),m("toolbar_location",{processor:"string",default:IC.auto}),m("toolbar_persist",{processor:"boolean",default:!1}),m("toolbar_sticky",{processor:"boolean",default:o.inline}),m("toolbar_sticky_offset",{processor:"number",default:0}),m("fixed_toolbar_container",{processor:"string",default:""}),m("fixed_toolbar_container_target",{processor:"object"}),m("ui_mode",{processor:"string",default:"combined"}),m("file_picker_callback",{processor:"function"}),m("file_picker_validator_handler",{processor:"function"}),m("file_picker_types",{processor:"string"}),m("typeahead_urls",{processor:"boolean",default:!0}),m("anchor_top",{processor:y,default:"#top"}),m("anchor_bottom",{processor:y,default:"#bottom"}),m("draggable_modal",{processor:"boolean",default:!1}),m("statusbar",{processor:"boolean",default:!0}),m("elementpath",{processor:"boolean",default:!0}),m("branding",{processor:"boolean",default:!0}),m("promotion",{processor:"boolean",default:!0}),m("resize",{processor:C=>C==="both"||H(C),default:!kv.deviceType.isTouch()}),m("sidebar_show",{processor:"string"})},G2=Ts("readonly"),q2=Ts("height"),K2=Ts("width"),DC=OC(Ts("min_width")),cD=OC(Ts("min_height")),MC=OC(Ts("max_width")),uD=OC(Ts("max_height")),A3=OC(Ts("style_formats")),I3=Ts("style_formats_merge"),dD=Ts("style_formats_autohide"),O3=Ts("content_langs"),D3=Ts("removed_menuitems"),yy=Ts("toolbar_mode"),fD=Ts("toolbar_groups"),Y2=Ts("toolbar_location"),RH=Ts("fixed_toolbar_container"),hD=Ts("fixed_toolbar_container_target"),M3=Ts("toolbar_persist"),P3=Ts("toolbar_sticky_offset"),z3=Ts("menubar"),X2=Ts("toolbar"),N3=Ts("file_picker_callback"),mD=Ts("file_picker_validator_handler"),J2=Ts("font_size_input_default_unit"),L3=Ts("file_picker_types"),PC=Ts("typeahead_urls"),F3=Ts("anchor_top"),B3=Ts("anchor_bottom"),$3=Ts("draggable_modal"),V3=Ts("statusbar"),H3=Ts("elementpath"),U3=Ts("branding"),pD=Ts("resize"),j3=Ts("paste_as_text"),W3=Ts("sidebar_show"),Q2=Ts("promotion"),Fp=o=>o.options.get("skin")===!1,eT=o=>o.options.get("menubar")!==!1,Z3=o=>{const i=o.options.get("skin_url");if(Fp(o))return i;if(i)return o.documentBaseURI.toAbsolute(i);{const c=o.options.get("skin");return Z2.baseURL+"/skins/ui/"+c}},tT=o=>o.options.get("line_height_formats").split(" "),nT=o=>{const i=X2(o),c=x(i),m=$(i)&&i.length>0;return!zC(o)&&(m||c||i===!0)},oT=o=>{const i=uo(9,m=>o.options.get("toolbar"+(m+1))),c=Xe(i,x);return Ln(c.length>0,c)},zC=o=>oT(o).fold(()=>{const i=X2(o);return rt(i,x)&&i.length>0},It),sT=o=>Y2(o)===IC.bottom,gD=o=>{var i;if(!o.inline)return L.none();const c=(i=RH(o))!==null&&i!==void 0?i:"";if(c.length>0)return Ys(Yr(),c);const m=hD(o);return Ne(m)?L.some(ze.fromDom(m)):L.none()},by=o=>o.inline&&gD(o).isSome(),yD=o=>gD(o).getOrThunk(()=>Wa(Br(ze.fromDom(o.getElement())))),rT=o=>o.inline&&!eT(o)&&!nT(o)&&!zC(o),NC=o=>(o.options.get("toolbar_sticky")||o.inline)&&!by(o)&&!rT(o),vf=o=>!by(o)&&o.options.get("ui_mode")==="split",G3=o=>{const i=o.options.get("menu");return mo(i,c=>({...c,items:c.items}))};var AH=Object.freeze({__proto__:null,get ToolbarMode(){return Pu},get ToolbarLocation(){return IC},register:R3,getSkinUrl:Z3,isReadOnly:G2,isSkinDisabled:Fp,getHeightOption:q2,getWidthOption:K2,getMinWidthOption:DC,getMinHeightOption:cD,getMaxWidthOption:MC,getMaxHeightOption:uD,getUserStyleFormats:A3,shouldMergeStyleFormats:I3,shouldAutoHideStyleFormats:dD,getLineHeightFormats:tT,getContentLanguages:O3,getRemovedMenuItems:D3,isMenubarEnabled:eT,isMultipleToolbars:zC,isToolbarEnabled:nT,isToolbarPersist:M3,getMultipleToolbarsOption:oT,getUiContainer:yD,useFixedContainer:by,isSplitUiMode:vf,getToolbarMode:yy,isDraggableModal:$3,isDistractionFree:rT,isStickyToolbar:NC,getStickyToolbarOffset:P3,getToolbarLocation:Y2,isToolbarLocationBottom:sT,getToolbarGroups:fD,getMenus:G3,getMenubar:z3,getToolbar:X2,getFilePickerCallback:N3,getFilePickerTypes:L3,useTypeaheadUrls:PC,getAnchorTop:F3,getAnchorBottom:B3,getFilePickerValidatorHandler:mD,getFontSizeInputDefaultUnit:J2,useStatusBar:V3,useElementPath:H3,promotionEnabled:Q2,useBranding:U3,getResize:pD,getPasteAsText:j3,getSidebarShow:W3});const aT="[data-mce-autocompleter]",iT=o=>md(o,aT),IH=o=>Ys(o,aT),DH={setup:(o,i)=>{const c=(y,_)=>{xn(y,jl(),{raw:_})},m=()=>o.getMenu().bind(No.getHighlighted);i.on("keydown",y=>{const _=y.which;!o.isActive()||(o.isMenuOpen()?_===13?(m().each(rf),y.preventDefault()):_===40?(m().fold(()=>{o.getMenu().each(No.highlightFirst)},C=>{c(C,y)}),y.preventDefault(),y.stopImmediatePropagation()):(_===37||_===38||_===39)&&m().each(C=>{c(C,y),y.preventDefault(),y.stopImmediatePropagation()}):(_===13||_===38||_===40)&&o.cancelIfNecessary())}),i.on("NodeChange",y=>{o.isActive()&&!o.isProcessingAction()&&iT(ze.fromDom(y.element)).isNone()&&o.cancelIfNecessary()})}};var bD;(function(o){o[o.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",o[o.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(bD||(bD={}));var Sd=bD;const vD="tox-menu-nav__js",lT="tox-collection__item",wD="tox-swatch",MH={normal:vD,color:wD},q3="tox-collection__item--enabled",PH="tox-collection__group-heading",K3="tox-collection__item-icon",_D="tox-collection__item-label",zH="tox-collection__item-accessory",Y3="tox-collection__item-caret",NH="tox-collection__item-checkmark",LC="tox-collection__item--active",cT="tox-collection__item-container",LH="tox-collection__item-container--column",X3="tox-collection__item-container--row",FH="tox-collection__item-container--align-right",J3="tox-collection__item-container--align-left",BH="tox-collection__item-container--valign-top",$H="tox-collection__item-container--valign-middle",VH="tox-collection__item-container--valign-bottom",Q3=o=>Gt(MH,o).getOr(vD),HH=o=>o==="color"?"tox-swatches":"tox-menu",kD=o=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:HH(o),tieredMenu:"tox-tiered-menu"}),Bp=o=>{const i=kD(o);return{backgroundMenu:i.backgroundMenu,selectedMenu:i.selectedMenu,menu:i.menu,selectedItem:i.selectedItem,item:Q3(o)}},UH=(o,i,c)=>{const m=kD(c);return{tag:"div",classes:Ke([[m.menu,`tox-menu-${i}-column`],o?[m.hasIcons]:[]])}},jH=[wv.parts.items({})],uT=(o,i,c)=>{const m=kD(c);return{dom:{tag:"div",classes:Ke([[m.tieredMenu]])},markers:Bp(c)}},eL=J([jo("data"),Be("inputAttributes",{}),Be("inputStyles",{}),Be("tag","input"),Be("inputClasses",[]),ko("onSetValue"),Be("styles",{}),Be("eventOrder",{}),Pa("inputBehaviours",[tn,Pn]),Be("selectOnFocus",!0)]),tL=o=>Lt([Pn.config({onFocus:o.selectOnFocus?i=>{const c=i.element,m=gc(c);c.dom.setSelectionRange(0,m.length)}:ne})]),WH=o=>({...tL(o),...ta(o.inputBehaviours,[tn.config({store:{mode:"manual",...o.data.map(i=>({initialValue:i})).getOr({}),getValue:i=>gc(i.element),setValue:(i,c)=>{gc(i.element)!==c&&Zc(i.element,c)}},onSetValue:o.onSetValue})])}),nL=o=>({tag:o.tag,attributes:{type:"text",...o.inputAttributes},styles:o.inputStyles,classes:o.inputClasses}),ZH=(o,i)=>({uid:o.uid,dom:nL(o),components:[],behaviours:WH(o),eventOrder:o.eventOrder}),Cv=cr({name:"Input",configFields:eL(),factory:ZH}),oL=dn("refetch-trigger-event"),sL=dn("redirect-menu-item-interaction"),rL="tox-menu__searcher",Sv=o=>Ys(o.element,`.${rL}`).bind(i=>o.getSystem().getByDom(i).toOptional()),aL=Sv,CD=(o,i)=>{tn.setValue(o,i.fetchPattern),o.element.dom.selectionStart=i.selectionStart,o.element.dom.selectionEnd=i.selectionEnd},iL=o=>{const i=tn.getValue(o),c=o.element.dom.selectionStart,m=o.element.dom.selectionEnd;return{fetchPattern:i,selectionStart:c,selectionEnd:m}},GH=(o,i)=>{G(i.element,"id").each(c=>Jn(o.element,"aria-activedescendant",c))},qH=o=>{const i=(y,_)=>(_.cut(),L.none()),c=(y,_)=>{const C={interactionEvent:_.event,eventType:_.event.raw.type};return xn(y,sL,C),L.some(!0)},m="searcher-events";return{dom:{tag:"div",classes:[lT]},components:[Cv.sketch({inputClasses:[rL,"tox-textfield"],inputAttributes:{...o.placeholder.map(y=>({placeholder:o.i18n(y)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Lt([no(m,[St(nf(),y=>{zo(y,oL)}),St(jl(),(y,_)=>{_.event.raw.key==="Escape"&&_.stop()})]),Sn.config({mode:"special",onLeft:i,onRight:i,onSpace:i,onEnter:c,onEscape:c,onUp:c,onDown:c})]),eventOrder:{keydown:[m,Sn.name()]}})]}},dT="tox-collection--results__js",lL=o=>{var i;return o.dom?{...o,dom:{...o.dom,attributes:{...(i=o.dom.attributes)!==null&&i!==void 0?i:{},id:dn("aria-item-search-result-id"),"aria-selected":"false"}}}:o},fT=(o,i)=>c=>{const m=Et(c,i);return Ee(m,y=>({dom:o,components:y}))},KH=o=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[wv.parts.items({preprocess:o!=="auto"?fT({tag:"div",classes:["tox-swatches__row"]},o):Te})]}]}),SD=o=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[wv.parts.items({preprocess:fT({tag:"div",classes:["tox-collection__group"]},o)})]}),hT=(o,i)=>{const c=[];let m=[];return me(o,(y,_)=>{i(y,_)?(m.length>0&&c.push(m),m=[],(Mo(y.dom,"innerHtml")||y.components&&y.components.length>0)&&m.push(y)):m.push(y)}),m.length>0&&c.push(m),Ee(c,y=>({dom:{tag:"div",classes:["tox-collection__group"]},components:y}))},mT=(o,i,c)=>wv.parts.items({preprocess:m=>{const y=Ee(m,c);return o!=="auto"&&o>1?fT({tag:"div",classes:["tox-collection__group"]},o)(y):hT(y,(_,C)=>i[C].type==="separator")}}),pT=(o,i,c=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[mT(o,i,Te)]}),gT=(o,i,c=!0)=>{const m=dn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",dT].concat(o===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:m}},components:[mT(o,i,lL)]}},cL=(o,i,c)=>{const m=dn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[qH({i18n:Mu.translate,placeholder:c.placeholder}),{dom:{tag:"div",classes:[...o===1?["tox-collection--list"]:["tox-collection--grid"],dT],attributes:{id:m}},components:[mT(o,i,lL)]}]}},vm=(o,i=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[wv.parts.items({preprocess:c=>hT(c,(m,y)=>o[y].type==="separator")})]}),l_=o=>io(o,i=>"icon"in i&&i.icon!==void 0),$p=o=>(console.error(sl(o)),console.log(o),L.none()),YH=(o,i,c,m,y)=>{const _=vm(c);return{value:o,dom:_.dom,components:_.components,items:c}},xD=(o,i,c,m,y)=>{const _=()=>y.menuType!=="searchable"?pT(m,c):y.searchMode.searchMode==="search-with-field"?cL(m,c,y.searchMode):gT(m,c);if(y.menuType==="color"){const C=KH(m);return{value:o,dom:C.dom,components:C.components,items:c}}else if(y.menuType==="normal"&&m==="auto"){const C=pT(m,c);return{value:o,dom:C.dom,components:C.components,items:c}}else if(y.menuType==="normal"||y.menuType==="searchable"){const C=_();return{value:o,dom:C.dom,components:C.components,items:c}}else if(y.menuType==="listpreview"&&m!=="auto"){const C=SD(m);return{value:o,dom:C.dom,components:C.components,items:c}}else return{value:o,dom:UH(i,m,y.menuType),components:jH,items:c}},Wr=wr("type"),vy=wr("name"),ED=wr("label"),Vp=wr("text"),TD=wr("title"),yT=wr("icon"),xv=wr("value"),XH=mc("fetch"),RD=mc("getSubmenuItems"),wy=mc("onAction"),JH=mc("onItemAction"),_y=Ur("onSetup",()=>ne),uL=_r("name"),ky=_r("text"),wf=_r("icon"),bT=_r("tooltip"),AD=_r("label"),QH=_r("shortcut"),dL=Kf("select"),FC=ci("active",!1),e9=ci("borderless",!1),xd=ci("enabled",!0),BC=ci("primary",!1),c_=o=>Be("columns",o),vT=Be("meta",{}),ID=Ur("onAction",ne),Ev=o=>qa("type",o),wT=o=>Qo("name","name",Jd(()=>dn(`${o}-name`)),ma),t9=o=>Qo("value","value",Jd(()=>dn(`${o}-value`)),Ra()),fL=ht([Wr,ky]),hL=o=>eo("separatormenuitem",fL,o),mL=ht([Ev("autocompleteitem"),FC,xd,vT,xv,ky,wf]),pL=o=>eo("Autocompleter.Separator",fL,o),gL=o=>eo("Autocompleter.Item",mL,o),$C=[xd,bT,wf,ky,_y],n9=ht([Wr,wy].concat($C)),OD=o=>eo("toolbarbutton",n9,o),VC=[FC].concat($C),DD=ht(VC.concat([Wr,wy])),MD=o=>eo("ToggleButton",DD,o),PD=[Ur("predicate",ln),Vl("scope","node",["node","editor"]),Vl("position","selection",["node","selection","line"])],yL=$C.concat([Ev("contextformbutton"),BC,wy,ii("original",Te)]),o9=VC.concat([Ev("contextformbutton"),BC,wy,ii("original",Te)]),zD=$C.concat([Ev("contextformbutton")]),s9=VC.concat([Ev("contextformtogglebutton")]),bL=$i("type",{contextformbutton:yL,contextformtogglebutton:o9}),vL=ht([Ev("contextform"),Ur("initValue",J("")),AD,rl("commands",bL),wu("launch",$i("type",{contextformbutton:zD,contextformtogglebutton:s9}))].concat(PD)),Tv=o=>eo("ContextForm",vL,o),r9=ht([Ev("contexttoolbar"),wr("items")].concat(PD)),ND=o=>eo("ContextToolbar",r9,o),_T=[Wr,wr("src"),_r("alt"),Eg("classes",[],ma)],a9=ht(_T),wL=[Wr,Vp,uL,Eg("classes",["tox-collection__item-label"],ma)],_L=ht(wL),LD=Mr(()=>Hc("type",{cardimage:a9,cardtext:_L,cardcontainer:FD})),FD=ht([Wr,qa("direction","horizontal"),qa("align","left"),qa("valign","middle"),rl("items",LD)]),Rv=[xd,ky,QH,t9("menuitem"),vT],i9=ht([Wr,AD,rl("items",LD),_y,ID].concat(Rv)),kL=o=>eo("cardmenuitem",i9,o),CL=ht([Wr,FC,wf].concat(Rv)),SL=o=>eo("choicemenuitem",CL,o),BD=[Wr,wr("fancytype"),ID],l9=[Be("initData",{})].concat(BD),xL=[Kf("select"),O("initData",{},[ci("allowCustomColors",!0),qa("storageKey","default"),op("colors",Ra())])].concat(BD),HC=$i("fancytype",{inserttable:l9,colorswatch:xL}),c9=o=>eo("fancymenuitem",HC,o),u9=ht([Wr,_y,ID,wf].concat(Rv)),d9=o=>eo("menuitem",u9,o),EL=ht([Wr,RD,_y,wf].concat(Rv)),TL=o=>eo("nestedmenuitem",EL,o),f9=ht([Wr,wf,FC,_y,wy].concat(Rv)),h9=o=>eo("togglemenuitem",f9,o),$D=(o,i,c)=>{const m=zr(o.element,"."+c);if(m.length>0){const y=pt(m,_=>{const C=_.dom.getBoundingClientRect().top,R=m[0].dom.getBoundingClientRect().top;return Math.abs(C-R)>i}).getOr(m.length);return L.some({numColumns:y,numRows:Math.ceil(m.length/y)})}else return L.none()},RL=(o,i)=>Lt([no(o,i)]),Cy={namedEvents:RL,unnamedEvents:o=>RL(dn("unnamed-events"),o)},AL=dn("tooltip.exclusive"),u_=dn("tooltip.show"),d_=dn("tooltip.hide"),VD=(o,i,c)=>{o.getSystem().broadcastOn([AL],{})};var IL=Object.freeze({__proto__:null,hideAllExclusive:VD,setComponents:(o,i,c,m)=>{c.getTooltip().each(y=>{y.getSystem().isConnected()&&Bn.set(y,m)})}}),OL=Object.freeze({__proto__:null,events:(o,i)=>{const c=y=>{i.getTooltip().each(_=>{yf(_),o.onHide(y,_),i.clearTooltip()}),i.clearTimer()},m=y=>{if(!i.isShowing()){VD(y);const _=o.lazySink(y).getOrDie(),C=y.getSystem().build({dom:o.tooltipDom,components:o.tooltipComponents,events:Ss(o.mode==="normal"?[St(pc(),R=>{zo(y,u_)}),St(Jf(),R=>{zo(y,d_)})]:[]),behaviours:Lt([Bn.config({})])});i.setTooltip(C),gf(_,C),o.onShow(y,C),ea.position(_,C,{anchor:o.anchor(y)})}};return Ss(Ke([[St(u_,y=>{i.resetTimer(()=>{m(y)},o.delay)}),St(d_,y=>{i.resetTimer(()=>{c(y)},o.delay)}),St(or(),(y,_)=>{const C=_;C.universal||Zn(C.channels,AL)&&c(y)}),al(y=>{c(y)})],o.mode==="normal"?[St(Xh(),y=>{zo(y,u_)}),St(j0(),y=>{zo(y,d_)}),St(pc(),y=>{zo(y,u_)}),St(Jf(),y=>{zo(y,d_)})]:[St(K0(),(y,_)=>{zo(y,u_)}),St(H1(),y=>{zo(y,d_)})]]))}}),DL=[Ct("lazySink"),Ct("tooltipDom"),Be("exclusive",!0),Be("tooltipComponents",[]),Be("delay",300),Vl("mode","normal",["normal","follow-highlight"]),Be("anchor",o=>({type:"hotspot",hotspot:o,layouts:{onLtr:J([Js,Gc,Xa,Gl,Qr,Xs]),onRtl:J([Js,Gc,Xa,Gl,Qr,Xs])}})),ko("onHide"),ko("onShow")],p9=Object.freeze({__proto__:null,init:()=>{const o=ns(),i=ns(),c=()=>{o.on(clearTimeout)},m=(_,C)=>{c(),o.set(setTimeout(_,C))},y=J("not-implemented");return Ia({getTooltip:i.get,isShowing:i.isSet,setTooltip:i.set,clearTooltip:i.clear,clearTimer:c,resetTimer:m,readState:y})}});const ML=Ja({fields:DL,name:"tooltipping",active:OL,state:p9,apis:IL}),g9=o=>o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),HD="silver.readonly",PL=ht([gb("readonly")]),kT=(o,i)=>{const m=o.mainUi.outerContainer.element,y=[o.mainUi.mothership,...o.uiMotherships];i&&me(y,_=>{_.broadcastOn([dh()],{target:m})}),me(y,_=>{_.broadcastOn([HD],{readonly:i})})},zL=(o,i)=>{o.on("init",()=>{o.mode.isReadOnly()&&kT(i,!0)}),o.on("SwitchMode",()=>kT(i,o.mode.isReadOnly())),G2(o)&&o.mode.set("readonly")},La=()=>Pr.config({channels:{[HD]:{schema:PL,onReceive:(o,i)=>{An.set(o,i.readonly)}}}}),zu={item:o=>An.config({disabled:o,disableClass:"tox-collection__item--state-disabled"}),button:o=>An.config({disabled:o}),splitButton:o=>An.config({disabled:o,disableClass:"tox-tbtn--disabled"}),toolbarButton:o=>An.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1})},UC=(o,i)=>{const c=o.getApi(i);return m=>{m(c)}},Av=(o,i)=>sr(c=>{UC(o,c)(y=>{const _=o.onSetup(y);xe(_)&&i.set(_)})}),Iv=(o,i)=>al(c=>UC(o,c)(i.get())),NL=(o,i)=>lf((c,m)=>{UC(o,c)(o.onAction),!o.triggersSubmenu&&i===Sd.CLOSE_ON_EXECUTE&&(c.getSystem().isConnected()&&zo(c,Dg()),m.stop())}),y9={[ji()]:["disabling","alloy.base.behaviour","toggling","item-events"]},f_=du,Ov=(o,i,c,m)=>{const y=D(ne);return{type:"item",dom:i.dom,components:f_(i.optComponents),data:o.data,eventOrder:y9,hasSubmenu:o.triggersSubmenu,itemBehaviours:Lt([no("item-events",[NL(o,c),Av(o,y),Iv(o,y)]),zu.item(()=>!o.enabled||m.isDisabled()),La(),Bn.config({})].concat(o.itemBehaviours))}},Dv=o=>({value:o.value,meta:{text:o.text.getOr(""),...o.meta}}),LL=o=>{const i=kv.os.isMacOS()||kv.os.isiOS(),y=i?{alt:"\u2325",ctrl:"\u2303",shift:"\u21E7",meta:"\u2318",access:"\u2303\u2325"}:{meta:"Ctrl",access:"Shift+Alt"},_=o.split("+"),C=Ee(_,R=>{const M=R.toLowerCase().trim();return Mo(y,M)?y[M]:R});return i?C.join(""):C.join("+")},UD=(o,i,c=[K3])=>Cd(o,{tag:"div",classes:c},i),FL=o=>({dom:{tag:"div",classes:[_D]},components:[Ks(Mu.translate(o))]}),BL=(o,i)=>({dom:{tag:"div",classes:i,innerHtml:o}}),b9=(o,i)=>({dom:{tag:"div",classes:[_D]},components:[{dom:{tag:o.tag,styles:o.styles},components:[Ks(Mu.translate(i))]}]}),v9=o=>({dom:{tag:"div",classes:[zH]},components:[Ks(LL(o))]}),Sy=o=>UD("checkmark",o,[NH]),jD=o=>UD("chevron-right",o,[Y3]),w9=o=>UD("chevron-down",o,[Y3]),CT=(o,i)=>{const c=o.direction==="vertical"?LH:X3,m=o.align==="left"?J3:FH;return{dom:{tag:"div",classes:[cT,c,m,(()=>{switch(o.valign){case"top":return BH;case"middle":return $H;case"bottom":return VH}})()]},components:i}},ph=(o,i,c)=>({dom:{tag:"img",classes:i,attributes:{src:o,alt:c.getOr("")}}}),_9=(o,i,c)=>{const m="custom",y="remove",_=o.ariaLabel,C=o.value,R=o.iconContent.map(N=>W2(N,i.icons,c));return{dom:(()=>{const N=wD,V=R.getOr(""),K={tag:"div",attributes:_.map(Q=>({title:i.translate(Q)})).getOr({}),classes:[N]};return C===m?{...K,tag:"button",classes:[...K.classes,"tox-swatches__picker-btn"],innerHtml:V}:C===y?{...K,classes:[...K.classes,"tox-swatch--remove"],innerHtml:V}:Ne(C)?{...K,attributes:{...K.attributes,"data-mce-color":C},styles:{"background-color":C},innerHtml:V}:K})(),optComponents:[]}},$L=o=>{const i=o.map(c=>({attributes:{title:Mu.translate(c)}})).getOr({});return{tag:"div",classes:[vD,lT],...i}},k9=(o,i,c,m)=>{const y={tag:"div",classes:[K3]},_=K=>Cd(K,y,i.icons,m),C=()=>L.some({dom:y}),R=c?o.iconContent.map(_).orThunk(C):L.none(),M=o.checkMark,N=L.from(o.meta).fold(()=>FL,K=>Mo(K,"style")?wt(b9,K.style):FL),V=o.htmlContent.fold(()=>o.textContent.map(N),K=>L.some(BL(K,[_D])));return{dom:$L(o.ariaLabel),optComponents:[R,V,o.shortcutContent.map(v9),M,o.caret]}},Mv=(o,i,c,m=L.none())=>o.presets==="color"?_9(o,i,m):k9(o,i,c,m),VL=(o,i)=>Gt(o,"tooltipWorker").map(c=>[ML.config({lazySink:i.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:m=>({type:"submenu",item:m,overrides:{maxHeightFunction:vp}}),mode:"follow-highlight",onShow:(m,y)=>{c(_=>{ML.setComponents(m,[ah({element:ze.fromDom(_)})])})}})]).getOr([]),C9=o=>Lp.DOM.encode(o),WD=(o,i)=>{const c=Mu.translate(o),m=C9(c);if(i.length>0){const y=new RegExp(g9(i),"gi");return m.replace(y,_=>`<span class="tox-autocompleter-highlight">${_}</span>`)}else return m},S9=(o,i,c,m,y,_,C,R=!0)=>{const M=Mv({presets:m,textContent:L.none(),htmlContent:c?o.text.map(N=>WD(N,i)):L.none(),ariaLabel:o.text,iconContent:o.icon,shortcutContent:L.none(),checkMark:L.none(),caret:L.none(),value:o.value},C.providers,R,o.icon);return Ov({data:Dv(o),enabled:o.enabled,getApi:J({}),onAction:N=>y(o.value,o.meta),onSetup:J(ne),triggersSubmenu:!1,itemBehaviours:VL(o.meta,C)},M,_,C.providers)},HL=(o,i)=>Ee(o,c=>{switch(c.type){case"cardcontainer":return CT(c,HL(c.items,i));case"cardimage":return ph(c.src,c.classes,c.alt);case"cardtext":const y=c.name.exists(_=>Zn(i.cardText.highlightOn,_))?L.from(i.cardText.matchText).getOr(""):"";return BL(WD(c.text,y),c.classes)}}),x9=(o,i,c,m)=>{const y=C=>({isEnabled:()=>!An.isDisabled(C),setEnabled:R=>{An.set(C,!R),me(zr(C.element,"*"),M=>{C.getSystem().getByDom(M).each(N=>{N.hasConfigured(An)&&An.set(N,!R)})})}}),_={dom:$L(o.label),optComponents:[L.some({dom:{tag:"div",classes:[cT,X3]},components:HL(o.items,m)})]};return Ov({data:Dv({text:L.none(),...o}),enabled:o.enabled,getApi:y,onAction:o.onAction,onSetup:o.onSetup,triggersSubmenu:!1,itemBehaviours:L.from(m.itemBehaviours).getOr([])},_,i,c.providers)},Xc=(o,i,c,m,y,_,C,R=!0)=>{const M=V=>({setActive:Z=>{fo.set(V,Z)},isActive:()=>fo.isOn(V),isEnabled:()=>!An.isDisabled(V),setEnabled:Z=>An.set(V,!Z)}),N=Mv({presets:c,textContent:i?o.text:L.none(),htmlContent:L.none(),ariaLabel:o.text,iconContent:o.icon,shortcutContent:i?o.shortcut:L.none(),checkMark:i?L.some(Sy(C.icons)):L.none(),caret:L.none(),value:o.value},C,R);return ds(Ov({data:Dv(o),enabled:o.enabled,getApi:M,onAction:V=>m(o.value),onSetup:V=>(V.setActive(y),ne),triggersSubmenu:!1,itemBehaviours:[]},N,_,C),{toggling:{toggleClass:q3,toggleOnExecute:!1,selected:o.active,exclusive:!0}})},gh=oC(H2(),eD()),UL=o=>({value:jL(o)}),ZD=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,jC=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ST=o=>ZD.test(o)||jC.test(o),jL=o=>fu(o,"#").toUpperCase(),E9=o=>ST(o)?L.some({value:jL(o)}):L.none(),WC=o=>({value:o.value.replace(ZD,(c,m,y,_)=>m+m+y+y+_+_)}),xT=o=>{const i=WC(o),c=jC.exec(i.value);return c===null?["FFFFFF","FF","FF","FF"]:c},GD=o=>{const i=o.toString(16);return(i.length===1?"0"+i:i).toUpperCase()},_f=o=>{const i=GD(o.red)+GD(o.green)+GD(o.blue);return UL(i)},WL=Math.min,ZL=Math.max,Rl=Math.round,qD=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,yh=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,xy=(o,i,c,m)=>({red:o,green:i,blue:c,alpha:m}),cs=o=>{const i=parseInt(o,10);return i.toString()===o&&i>=0&&i<=255},Ey=o=>{let i,c,m;const y=(o.hue||0)%360;let _=o.saturation/100,C=o.value/100;if(_=ZL(0,WL(_,1)),C=ZL(0,WL(C,1)),_===0)return i=c=m=Rl(255*C),xy(i,c,m,1);const R=y/60,M=C*_,N=M*(1-Math.abs(R%2-1)),V=C-M;switch(Math.floor(R)){case 0:i=M,c=N,m=0;break;case 1:i=N,c=M,m=0;break;case 2:i=0,c=M,m=N;break;case 3:i=0,c=N,m=M;break;case 4:i=N,c=0,m=M;break;case 5:i=M,c=0,m=N;break;default:i=c=m=0}return i=Rl(255*(i+V)),c=Rl(255*(c+V)),m=Rl(255*(m+V)),xy(i,c,m,1)},Ty=o=>{const i=xT(o),c=parseInt(i[1],16),m=parseInt(i[2],16),y=parseInt(i[3],16);return xy(c,m,y,1)},KD=(o,i,c,m)=>{const y=parseInt(o,10),_=parseInt(i,10),C=parseInt(c,10),R=parseFloat(m);return xy(y,_,C,R)},ZC=o=>{if(o==="transparent")return L.some(xy(0,0,0,0));const i=qD.exec(o);if(i!==null)return L.some(KD(i[1],i[2],i[3],"1"));const c=yh.exec(o);return c!==null?L.some(KD(c[1],c[2],c[3],c[4])):L.none()},ET=o=>`rgba(${o.red},${o.green},${o.blue},${o.alpha})`,GL=xy(255,0,0,1),YD=o=>{o.dispatch("SkinLoaded")},T9=(o,i)=>{o.dispatch("SkinLoadError",i)},qL=o=>{o.dispatch("ResizeEditor")},TT=(o,i)=>{o.dispatch("ResizeContent",i)},XD=(o,i)=>{o.dispatch("ScrollContent",i)},JD=(o,i)=>{o.dispatch("TextColorChange",i)},RT=(o,i)=>{o.dispatch("AfterProgressState",{state:i})},R9=(o,i)=>o.dispatch("ResolveName",{name:i.nodeName.toLowerCase(),target:i}),A9=(o,i)=>{o.dispatch("ToggleToolbarDrawer",{state:i})};var Pv=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const KL={},I9=(o,i=10)=>{const c=Pv.getItem(o),m=x(c)?JSON.parse(c):[],_=(N=>i-N.length<0?N.slice(0,i):N)(m),C=N=>{it(_,N).each(R),_.unshift(N),_.length>i&&_.pop(),Pv.setItem(o,JSON.stringify(_))},R=N=>{_.splice(N,1)};return{add:C,state:()=>_.slice(0)}},YL=o=>Gt(KL,o).getOrThunk(()=>{const i=`tinymce-custom-colors-${o}`,c=Pv.getItem(i);if(ke(c)){const y=Pv.getItem("tinymce-custom-colors");Pv.setItem(i,Ne(y)?y:"[]")}const m=I9(i,10);return KL[o]=m,m}),O9=o=>Ee(YL(o).state(),i=>({type:"choiceitem",text:i,icon:"checkmark",value:i})),XL=(o,i)=>{YL(o).add(i)},GC=(o,i,c)=>({hue:o,saturation:i,value:c}),QD=o=>{let i=0,c=0,m=0;const y=o.red/255,_=o.green/255,C=o.blue/255,R=Math.min(y,Math.min(_,C)),M=Math.max(y,Math.max(_,C));if(R===M)return m=R,GC(0,0,m*100);const N=y===R?_-C:C===R?y-_:C-y;return i=y===R?3:C===R?1:5,i=60*(i-N/(M-R)),c=(M-R)/M,m=M,GC(Math.round(i),Math.round(c*100),Math.round(m*100))},JL=o=>QD(Ty(o)),QL=o=>_f(Ey(o)),eF=o=>E9(o).orThunk(()=>ZC(o).map(_f)).getOrThunk(()=>{const i=document.createElement("canvas");i.height=1,i.width=1;const c=i.getContext("2d");c.clearRect(0,0,i.width,i.height),c.fillStyle="#FFFFFF",c.fillStyle=o,c.fillRect(0,0,1,1);const m=c.getImageData(0,0,1,1).data,y=m[0],_=m[1],C=m[2],R=m[3];return _f(xy(y,_,C,R))}),eM="forecolor",tM="hilitecolor",nM=5,tF=o=>Math.max(nM,Math.ceil(Math.sqrt(o))),nF=(o,i)=>{const c=tF(i),m=bh("color_cols")(o);return nM===c?m:c},D9=o=>{const i=[];for(let c=0;c<o.length;c+=2)i.push({text:o[c+1],value:"#"+eF(o[c]).value,icon:"checkmark",type:"choiceitem"});return i},bh=o=>i=>i.options.get(o),Ed="#000000",M9=o=>{const i=o.options.register,c=m=>rt(m,x)?{value:D9(m),valid:!0}:{valid:!1,message:"Must be an array of strings."};i("color_map",{processor:c,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),i("color_map_background",{processor:c}),i("color_map_foreground",{processor:c}),i("color_cols",{processor:"number",default:tF(h_(o,"default").length)}),i("color_cols_foreground",{processor:"number",default:nF(o,h_(o,eM).length)}),i("color_cols_background",{processor:"number",default:nF(o,h_(o,tM).length)}),i("custom_colors",{processor:"boolean",default:!0}),i("color_default_foreground",{processor:"string",default:Ed}),i("color_default_background",{processor:"string",default:Ed})},oM=(o,i)=>i===eM?bh("color_cols_foreground")(o):i===tM?bh("color_cols_background")(o):bh("color_cols")(o),sM=(o,i)=>{const c=oM(o,i);return c>0?c:nM},rM=bh("custom_colors"),h_=(o,i)=>i===eM&&o.options.isSet("color_map_foreground")?bh("color_map_foreground")(o):i===tM&&o.options.isSet("color_map_background")?bh("color_map_background")(o):bh("color_map")(o),oF=bh("color_default_foreground"),sF=bh("color_default_background"),P9="rgba(0, 0, 0, 0)",z9=o=>ZC(o).exists(i=>i.alpha!==0),N9=o=>Hl(o,i=>{if(Jo(i)){const c=xt(i,"background-color");return Ln(z9(c),c)}else return L.none()}).getOr(P9),rF=(o,i)=>{const c=ze.fromDom(o.selection.getStart()),m=i==="hilitecolor"?N9(c):xt(c,"color");return ZC(m).map(y=>"#"+_f(y).value)},aF=(o,i,c)=>{o.undoManager.transact(()=>{o.focus(),o.formatter.apply(i,{value:c}),o.nodeChanged()})},iF=(o,i)=>{o.undoManager.transact(()=>{o.focus(),o.formatter.remove(i,{value:null},void 0,!0),o.nodeChanged()})},lF=o=>{o.addCommand("mceApplyTextcolor",(i,c)=>{aF(o,i,c)}),o.addCommand("mceRemoveTextcolor",i=>{iF(o,i)})},cF=o=>{const i="choiceitem",c={type:i,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return o?[c,{type:i,text:"Custom color",icon:"color-picker",value:"custom"}]:[c]},aM=(o,i,c,m)=>{c==="custom"?AT(o)(_=>{_.each(C=>{XL(i,C),o.execCommand("mceApplyTextcolor",i,C),m(C)})},rF(o,i).getOr(Ed)):c==="remove"?(m(""),o.execCommand("mceRemoveTextcolor",i)):(m(c),o.execCommand("mceApplyTextcolor",i,c))},uF=(o,i,c)=>o.concat(O9(i).concat(cF(c))),zv=(o,i,c)=>m=>{m(uF(o,i,c))},iM=(o,i,c)=>{const m=i==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";o.setIconFill(m,c)},lM=(o,i)=>c=>{const m=rF(o,i);return la(m,c.toUpperCase())},cM=(o,i,c,m,y)=>{o.ui.registry.addSplitButton(i,{tooltip:m,presets:"color",icon:i==="forecolor"?"text-color":"highlight-bg-color",select:lM(o,c),columns:sM(o,c),fetch:zv(h_(o,c),c,rM(o)),onAction:_=>{aM(o,c,y.get(),ne)},onItemAction:(_,C)=>{aM(o,c,C,R=>{y.set(R),JD(o,{name:i,color:R})})},onSetup:_=>{iM(_,i,y.get());const C=R=>{R.name===i&&iM(_,R.name,R.color)};return o.on("TextColorChange",C),()=>{o.off("TextColorChange",C)}}})},uM=(o,i,c,m,y)=>{o.ui.registry.addNestedMenuItem(i,{text:m,icon:i==="forecolor"?"text-color":"highlight-bg-color",onSetup:_=>(iM(_,i,y.get()),ne),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:lM(o,c),initData:{storageKey:c},onAction:_=>{aM(o,c,_.value,C=>{y.set(C),JD(o,{name:i,color:C})})}}]})},AT=o=>(i,c)=>{let m=!1;const y=R=>{const N=R.getData().colorpicker;m?(i(L.from(N)),R.close()):o.windowManager.alert(o.translate(["Invalid hex color code: {0}",N]))},_=(R,M)=>{M.name==="hex-valid"&&(m=M.value)},C={colorpicker:c};o.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:C,onAction:_,onSubmit:y,onClose:ne,onCancel:()=>{i(L.none())}})},dM=o=>{lF(o);const i=oF(o),c=sF(o),m=D(i),y=D(c);cM(o,"forecolor","forecolor","Text color",m),cM(o,"backcolor","hilitecolor","Background color",y),uM(o,"forecolor","forecolor","Text color",m),uM(o,"backcolor","hilitecolor","Background color",y)},qC=(o,i,c,m,y,_,C,R)=>{const M=l_(i),V=dF(i,c,m,y!=="color"?"normal":"color",_,C,R);return xD(o,M,V,m,{menuType:y})},dF=(o,i,c,m,y,_,C)=>du(Ee(o,R=>R.type==="choiceitem"?SL(R).fold($p,M=>L.some(Xc(M,c===1,m,i,_(M.value),y,C,l_(o)))):L.none())),IT=(o,i)=>{const c=Bp(i);return o===1?{mode:"menu",moveOnTab:!0}:o==="auto"?{mode:"grid",selector:"."+c.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(i==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:y=>i==="color"?Ys(y.element,"[aria-checked=true]"):L.none()}},fF=(o,i)=>o===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:o==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:i==="color"?".tox-swatches__row":".tox-collection__group",cell:i==="color"?`.${wD}`:`.${lT}`}},L9=(o,i)=>{const c=F9(o,i),m=i.colorinput.getColorCols(o.initData.storageKey),y="color",C={...qC(dn("menu-value"),c,R=>{o.onAction({value:R})},m,y,Sd.CLOSE_ON_EXECUTE,o.select.getOr(ln),i.shared.providers),markers:Bp(y),movement:IT(m,y)};return{type:"widget",data:{value:dn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[gh.widget(wv.sketch(C))]}},F9=(o,i)=>{const c=o.initData.allowCustomColors&&i.colorinput.hasCustomColors();return o.initData.colors.fold(()=>uF(i.colorinput.getColors(o.initData.storageKey),o.initData.storageKey,c),m=>m.concat(cF(c)))},hF=dn("cell-over"),fM=dn("cell-execute"),mF=(o,i,c)=>{const m=C=>xn(C,hF,{row:o,col:i}),y=C=>xn(C,fM,{row:o,col:i}),_=(C,R)=>{R.stop(),y(C)};return Da({dom:{tag:"div",attributes:{role:"button",["aria-labelledby"]:c}},behaviours:Lt([no("insert-table-picker-cell",[St(pc(),Pn.focus),St(ji(),y),St(jc(),_),St(rp(),_)]),fo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Pn.config({onFocus:m})])})},pF=(o,i,c)=>{const m=[];for(let y=0;y<i;y++){const _=[];for(let C=0;C<c;C++)_.push(mF(y,C,o));m.push(_)}return m},B9=(o,i,c,m,y)=>{for(let _=0;_<m;_++)for(let C=0;C<y;C++)fo.set(o[_][C],_<=i&&C<=c)},$9=o=>le(o,i=>Ee(i,Sl)),gF=(o,i)=>Ks(`${i}x${o}`),V9={inserttable:o=>{const m=dn("size-label"),y=pF(m,10,10),_=gF(0,0),C=es({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:m}},components:[_],behaviours:Lt([Bn.config({})])});return{type:"widget",data:{value:dn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[gh.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:$9(y).concat(C.asSpec()),behaviours:Lt([no("insert-table-picker",[sr(R=>{Bn.set(C.get(R),[_])}),kb(hF,(R,M,N)=>{const{row:V,col:Z}=N.event;B9(y,V,Z,10,10),Bn.set(C.get(R),[gF(V+1,Z+1)])}),kb(fM,(R,M,N)=>{const{row:V,col:Z}=N.event;o.onAction({numRows:V+1,numColumns:Z+1}),zo(R,Dg())})]),Sn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:L9},H9=(o,i)=>Gt(V9,o.fancytype).map(c=>c(o,i)),U9=(o,i,c,m=!0,y=!1)=>{const _=y?w9(c.icons):jD(c.icons),C=M=>({isEnabled:()=>!An.isDisabled(M),setEnabled:N=>An.set(M,!N),setIconFill:(N,V)=>{Ys(M.element,`svg path[id="${N}"], rect[id="${N}"]`).each(Z=>{Jn(Z,"fill",V)})}}),R=Mv({presets:"normal",iconContent:o.icon,textContent:o.text,htmlContent:L.none(),ariaLabel:o.text,caret:L.some(_),checkMark:L.none(),shortcutContent:o.shortcut},c,m);return Ov({data:Dv(o),getApi:C,enabled:o.enabled,onAction:ne,onSetup:o.onSetup,triggersSubmenu:!0,itemBehaviours:[]},R,i,c)},j9=(o,i,c,m=!0)=>{const y=C=>({isEnabled:()=>!An.isDisabled(C),setEnabled:R=>An.set(C,!R)}),_=Mv({presets:"normal",iconContent:o.icon,textContent:o.text,htmlContent:L.none(),ariaLabel:o.text,caret:L.none(),checkMark:L.none(),shortcutContent:o.shortcut},c,m);return Ov({data:Dv(o),getApi:y,enabled:o.enabled,onAction:o.onAction,onSetup:o.onSetup,triggersSubmenu:!1,itemBehaviours:[]},_,i,c)},W9=o=>({type:"separator",dom:{tag:"div",classes:[lT,PH]},components:o.text.map(Ks).toArray()}),Z9=(o,i,c,m=!0)=>{const y=C=>({setActive:R=>{fo.set(C,R)},isActive:()=>fo.isOn(C),isEnabled:()=>!An.isDisabled(C),setEnabled:R=>An.set(C,!R)}),_=Mv({iconContent:o.icon,textContent:o.text,htmlContent:L.none(),ariaLabel:o.text,checkMark:L.some(Sy(c.icons)),caret:L.none(),shortcutContent:o.shortcut,presets:"normal",meta:o.meta},c,m);return ds(Ov({data:Dv(o),enabled:o.enabled,getApi:y,onAction:o.onAction,onSetup:o.onSetup,triggersSubmenu:!1,itemBehaviours:[]},_,i,c),{toggling:{toggleClass:q3,toggleOnExecute:!1,selected:o.active}})},G9=S9,hM=W9,q9=j9,K9=U9,Y9=Z9,X9=H9,J9=x9;var eU=Object.freeze({__proto__:null,getCoupled:(o,i,c,m)=>c.getOrCreate(o,i,m),getExistingCoupled:(o,i,c,m)=>c.getExisting(o,i,m)}),tU=[Vi("others",qh(to.value,Ra()))],nU=Object.freeze({__proto__:null,init:()=>{const o={},i=(_,C)=>{if(_n(_.others).length===0)throw new Error("Cannot find any known coupled components");return Gt(o,C)},c=(_,C,R)=>i(C,R).getOrThunk(()=>{const N=Gt(C.others,R).getOrDie("No information found for coupled component: "+R)(_),V=_.getSystem().build(N);return o[R]=V,V}),m=(_,C,R)=>i(C,R).orThunk(()=>(Gt(C.others,R).getOrDie("No information found for coupled component: "+R),L.none())),y=J({});return Ia({readState:y,getExisting:m,getOrCreate:c})}});const Cr=Ja({fields:tU,name:"coupling",apis:eU,state:nU}),pM=o=>{let i=L.none(),c=[];const m=N=>pM(V=>{y(Z=>{V(N(Z))})}),y=N=>{C()?M(N):c.push(N)},_=N=>{C()||(i=L.some(N),R(c),c=[])},C=()=>i.isSome(),R=N=>{me(N,M)},M=N=>{i.each(V=>{setTimeout(()=>{N(V)},0)})};return o(_),{get:y,map:m,isReady:C}},bF={nu:pM,pure:o=>pM(i=>{i(o)})},vF=o=>{setTimeout(()=>{throw o},0)},m_=o=>{const i=M=>{o().then(M,vF)};return{map:M=>m_(()=>o().then(M)),bind:M=>m_(()=>o().then(N=>M(N).toPromise())),anonBind:M=>m_(()=>o().then(()=>M.toPromise())),toLazy:()=>bF.nu(i),toCached:()=>{let M=null;return m_(()=>(M===null&&(M=o()),M))},toPromise:o,get:i}},Gi={nu:o=>m_(()=>new Promise(o)),pure:o=>m_(()=>Promise.resolve(o))},wF=J("sink"),_F=J(wc({name:wF(),overrides:J({dom:{tag:"div"},behaviours:Lt([ea.config({useFixed:It})]),events:Ss([ip(jl()),ip(is()),ip(jc())])})})),kF=(o,i)=>{const c=o.getHotspot(i).getOr(i),m="hotspot",y=o.getAnchorOverrides();return o.layouts.fold(()=>({type:m,hotspot:c,overrides:y}),_=>({type:m,hotspot:c,overrides:y,layouts:_}))},sU=(o,i,c)=>{const m=o.fetch;return m(c).map(i)},rU=(o,i,c,m,y,_,C)=>{const R=sU(o,i,m),M=MT(m,o);return R.map(N=>N.bind(V=>L.from(kd.sketch({..._.menu(),uid:oh(""),data:V,highlightOnOpen:C,onOpenMenu:(Z,K)=>{const Q=M().getOrDie();ea.position(Q,K,{anchor:c}),Ao.decloak(y)},onOpenSubmenu:(Z,K,Q)=>{const ie=M().getOrDie();ea.position(ie,Q,{anchor:{type:"submenu",item:K}}),Ao.decloak(y)},onRepositionMenu:(Z,K,Q)=>{const ie=M().getOrDie();ea.position(ie,K,{anchor:c}),me(Q,_e=>{ea.position(ie,_e.triggeredMenu,{anchor:{type:"submenu",item:_e.triggeringItem}})})},onEscape:()=>(Pn.focus(m),Ao.close(y),L.some(!0))}))))},OT=(o,i,c,m,y,_,C)=>{const R=kF(o,c);return rU(o,i,R,c,m,y,C).map(N=>(N.fold(()=>{Ao.isOpen(m)&&Ao.close(m)},V=>{Ao.cloak(m),Ao.open(m,V),_(m)}),m))},aU=(o,i,c,m,y,_,C)=>(Ao.close(m),Gi.pure(m)),gM=(o,i,c,m,y,_)=>{const C=Cr.getCoupled(c,"sandbox");return(Ao.isOpen(C)?aU:OT)(o,i,c,C,m,y,_)},DT=(o,i,c)=>{const m=yo.getCurrent(i).getOr(i),y=vi(o.element);c?un(m.element,"min-width",y+"px"):ks(m.element,y)},MT=(o,i)=>o.getSystem().getByUid(i.uid+"-"+wF()).map(c=>()=>to.value(c)).getOrThunk(()=>i.lazySink.fold(()=>()=>to.error(new Error("No internal sink is specified, nor could an external sink be found")),c=>()=>c(o))),PT=o=>{Ao.getState(o).each(i=>{kd.repositionMenus(i)})},zT=(o,i,c)=>{const m=ok(),y=(R,M)=>{const N=kF(o,i);m.link(i.element),o.matchWidth&&DT(N.hotspot,M,o.useMinWidth),o.onOpen(N,R,M),c!==void 0&&c.onOpen!==void 0&&c.onOpen(R,M)},_=(R,M)=>{m.unlink(i.element),c!==void 0&&c.onClose!==void 0&&c.onClose(R,M)},C=MT(i,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:m.id,role:"listbox"}},behaviours:Au.augment(o.sandboxBehaviours,[tn.config({store:{mode:"memory",initialValue:i}}),Ao.config({onOpen:y,onClose:_,isPartOf:(R,M,N)=>am(M,N)||am(i,N),getAttachPoint:()=>C().getOrDie()}),yo.config({find:R=>Ao.getState(R).bind(M=>yo.getCurrent(M))}),Pr.config({channels:{...fh({isExtraPart:ln}),...Wk({doReposition:PT})}})])}},CF=o=>{const i=Cr.getCoupled(o,"sandbox");PT(i)},yM=()=>[Be("sandboxClasses",[]),Au.field("sandboxBehaviours",[yo,Pr,Ao,tn])],bM=J([Ct("dom"),Ct("fetch"),ko("onOpen"),ir("onExecute"),Be("getHotspot",L.some),Be("getAnchorOverrides",J({})),gd(),Pa("dropdownBehaviours",[fo,Cr,Sn,Pn]),Ct("toggleClass"),Be("eventOrder",{}),jo("lazySink"),Be("matchWidth",!1),Be("useMinWidth",!1),jo("role")].concat(yM())),vM=J([Iu({schema:[ff(),Be("fakeFocus",!1)],name:"menu",defaults:o=>({onExecute:o.onExecute})}),_F()]),NT=(o,i,c,m)=>{const y=V=>Gt(o.dom,"attributes").bind(Z=>Gt(Z,V)),_=V=>{Ao.getState(V).each(Z=>{kd.highlightPrimary(Z)})},C=(V,Z,K)=>gM(o,Te,V,m,Z,K),R=V=>{C(V,_,Jl.HighlightMenuAndItem).get(ne)},M={expand:V=>{fo.isOn(V)||C(V,ne,Jl.HighlightNone).get(ne)},open:V=>{fo.isOn(V)||C(V,ne,Jl.HighlightMenuAndItem).get(ne)},refetch:V=>Cr.getExistingCoupled(V,"sandbox").fold(()=>C(V,ne,Jl.HighlightMenuAndItem).map(ne),K=>OT(o,Te,V,K,m,ne,Jl.HighlightMenuAndItem).map(ne)),isOpen:fo.isOn,close:V=>{fo.isOn(V)&&C(V,ne,Jl.HighlightMenuAndItem).get(ne)},repositionMenus:V=>{fo.isOn(V)&&CF(V)}},N=(V,Z)=>(rf(V),L.some(!0));return{uid:o.uid,dom:o.dom,components:i,behaviours:ta(o.dropdownBehaviours,[fo.config({toggleClass:o.toggleClass,aria:{mode:"expanded"}}),Cr.config({others:{sandbox:V=>zT(o,V,{onOpen:()=>fo.on(V),onClose:()=>fo.off(V)})}}),Sn.config({mode:"special",onSpace:N,onEnter:N,onDown:(V,Z)=>{if(Nu.isOpen(V)){const K=Cr.getCoupled(V,"sandbox");_(K)}else Nu.open(V);return L.some(!0)},onEscape:(V,Z)=>Nu.isOpen(V)?(Nu.close(V),L.some(!0)):L.none()}),Pn.config({})]),events:V2(L.some(R)),eventOrder:{...o.eventOrder,[ji()]:["disabling","toggling","alloy.base.behaviour"]},apis:M,domModification:{attributes:{"aria-haspopup":"true",...o.role.fold(()=>({}),V=>({role:V})),...o.dom.tag==="button"?{type:y("type").getOr("button")}:{}}}}},Nu=Nr({name:"Dropdown",configFields:bM(),partFields:vM(),factory:NT,apis:{open:(o,i)=>o.open(i),refetch:(o,i)=>o.refetch(i),expand:(o,i)=>o.expand(i),close:(o,i)=>o.close(i),isOpen:(o,i)=>o.isOpen(i),repositionMenus:(o,i)=>o.repositionMenus(i)}}),iU=o=>{switch(o.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:o}}},lU=o=>{const i=tn.getValue(o),c=Sv(o).map(iL);Nu.refetch(i).get(()=>{const m=Cr.getCoupled(i,"sandbox");c.each(y=>Sv(m).each(_=>CD(_,y)))})},cU=(o,i)=>{uU(o).each(c=>{rI(o,c.element,i.event.eventType,i.event.interactionEvent)})},uU=o=>Ao.getState(o).bind(No.getHighlighted).bind(No.getHighlighted),dU=o=>xi(o.element,dT)?L.some(o.element):Ys(o.element,"."+dT),SF=(o,i,c)=>{aL(o).each(m=>{GH(m,c),dU(i).each(_=>{G(_,"id").each(C=>Jn(m.element,"aria-controls",C))})}),Jn(c.element,"aria-selected","true")},fU=(o,i,c)=>{Jn(c.element,"aria-selected","false")},hU=o=>{aL(o).each(i=>Pn.focus(i))},mU=o=>Cr.getExistingCoupled(o,"sandbox").bind(Sv).map(iL).map(c=>c.fetchPattern).getOr("");var LT;(function(o){o[o.ContentFocus=0]="ContentFocus",o[o.UiFocus=1]="UiFocus"})(LT||(LT={}));const pU=(o,i,c,m,y)=>{const _=c.shared.providers,C=R=>y?{...R,shortcut:L.none(),icon:R.text.isSome()?L.none():R.icon}:R;switch(o.type){case"menuitem":return d9(o).fold($p,R=>L.some(q9(C(R),i,_,m)));case"nestedmenuitem":return TL(o).fold($p,R=>L.some(K9(C(R),i,_,m,y)));case"togglemenuitem":return h9(o).fold($p,R=>L.some(Y9(C(R),i,_,m)));case"separator":return hL(o).fold($p,R=>L.some(hM(R)));case"fancymenuitem":return c9(o).fold($p,R=>X9(R,c));default:return console.error("Unknown item in general menu",o),L.none()}},gU=(o,i,c,m,y,_,C)=>{const R=m===1,M=!R||l_(o);return du(Ee(o,N=>{switch(N.type){case"separator":return pL(N).fold($p,V=>L.some(hM(V)));case"cardmenuitem":return kL(N).fold($p,V=>L.some(J9({...V,onAction:Z=>{V.onAction(Z),c(V.value,V.meta)}},y,_,{itemBehaviours:VL(V.meta,_),cardText:{matchText:i,highlightOn:C}})));case"autocompleteitem":default:return gL(N).fold($p,V=>L.some(G9(V,i,R,"normal",c,y,_,M)))}}))},xF=(o,i,c,m,y,_)=>{const C=l_(i),R=du(Ee(i,V=>{const Z=Q=>y?!Mo(Q,"text"):C,K=Q=>pU(Q,c,m,Z(Q),y);return V.type==="nestedmenuitem"&&V.getSubmenuItems().length<=0?K({...V,enabled:!1}):K(V)})),M=iU(_);return(y?YH:xD)(o,C,R,1,M)},FT=o=>kd.singleData(o.value,o),yU=(o,i,c,m)=>{const y=IT(i,m),_=Bp(m);return{data:FT({...o,movement:y,menuBehaviours:Cy.unnamedEvents(i!=="auto"?[]:[sr((C,R)=>{$D(C,4,_.item).each(({numColumns:M,numRows:N})=>{Sn.setGridSize(C,N,M)})})])}),menu:{markers:Bp(m),fakeFocus:c===LT.ContentFocus}}},bU=(o,i)=>iT(ze.fromDom(i.startContainer)).map(c=>{const m=o.createRng();return m.selectNode(c.dom),m}),vU={register:(o,i)=>{const c=D(!1),m=D(!1),y=Da(Us.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Lt([no("dismissAutocompleter",[St(eh(),()=>N())])]),lazySink:i.getSink})),_=()=>Us.isOpen(y),C=m.get,R=()=>{_()&&Us.hide(y)},M=()=>Us.getContent(y).bind(ie=>ut(ie.components(),0)),N=()=>o.execCommand("mceAutocompleterClose"),V=ie=>{const _e=sn(ie,He=>L.from(He.columns)).getOr(1);return le(ie,He=>{const De=He.items;return gU(De,He.matchText,(Ae,mt)=>{const bt=o.selection.getRng();bU(o.dom,bt).each(Ut=>{const Rt={hide:()=>N(),reload:Kt=>{R(),o.execCommand("mceAutocompleterReload",!1,{fetchOptions:Kt})}};c.set(!0),He.onAction(Rt,Ut,Ae,mt),c.set(!1)})},_e,Sd.BUBBLE_TO_SANDBOX,i,He.highlightOn)})},Z=(ie,_e)=>{IH(ze.fromDom(o.getBody())).each(He=>{const De=sn(ie,Ae=>L.from(Ae.columns)).getOr(1);Us.showMenuAt(y,{anchor:{type:"node",root:ze.fromDom(o.getBody()),node:L.from(He)}},yU(xD("autocompleter-value",!0,_e,De,{menuType:"normal"}),De,LT.ContentFocus,"normal"))}),M().each(No.highlightFirst)},K=ie=>{const _e=V(ie);_e.length>0?Z(ie,_e):R()};o.on("AutocompleterStart",({lookupData:ie})=>{m.set(!0),c.set(!1),K(ie)}),o.on("AutocompleterUpdate",({lookupData:ie})=>K(ie)),o.on("AutocompleterEnd",()=>{R(),m.set(!1),c.set(!1)});const Q={cancelIfNecessary:N,isMenuOpen:_,isActive:C,isProcessingAction:c.get,getMenu:M};DH.setup(Q,o)}},wU=["visible","hidden"],wM=o=>{if(Qu(o)){const i=xt(o,"overflow");return Ca(i).length>0&&!Zn(wU,i)}else return!1},ba=o=>{const i=dm(o,wM);return zt(i).map(c=>({element:c,others:i.slice(1)}))},KC=(o,i)=>vf(o)?ba(i):L.none(),BT=o=>{const i=[...Ee(o.others,tr),Ea()];return I1(tr(o.element),i)},YC=(o,i,c)=>md(o,i,c).isSome(),EF=(o,i)=>{let c=null;return{cancel:()=>{c!==null&&(clearTimeout(c),c=null)},schedule:(..._)=>{c=setTimeout(()=>{o.apply(null,_),c=null},i)}}},TF=5,_U=400,RF=o=>{const i=o.raw;return i.touches===void 0||i.touches.length!==1?L.none():L.some(i.touches[0])},kU=(o,i)=>{const c=Math.abs(o.clientX-i.x),m=Math.abs(o.clientY-i.y);return c>TF||m>TF},CU=o=>{const i=ns(),c=D(!1),m=EF(N=>{o.triggerEvent(Sx(),N),c.set(!0)},_U),y=N=>(RF(N).each(V=>{m.cancel();const Z={x:V.clientX,y:V.clientY,target:N.target};m.schedule(N),c.set(!1),i.set(Z)}),L.none()),_=N=>(m.cancel(),RF(N).each(V=>{i.on(Z=>{kU(V,Z)&&i.clear()})}),L.none()),C=N=>{m.cancel();const V=Z=>as(Z.target,N.target);return i.get().filter(V).map(Z=>c.get()?(N.prevent(),!1):o.triggerEvent(rp(),N))},R=$o([{key:_u(),value:y},{key:_o(),value:_},{key:ms(),value:C}]);return{fireIfReady:(N,V)=>Gt(R,V).bind(Z=>Z(N))}},SU=o=>o.raw.which===DO[0]&&!Zn(["input","textarea"],el(o.target))&&!YC(o.target,'[contenteditable="true"]'),xU=(o,i)=>{const c={stopBackspace:!0,...i},m=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],y=CU(c),_=Ee(m.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),Q=>Zi(o,Q,ie=>{y.fireIfReady(ie,Q).each(He=>{He&&ie.kill()}),c.triggerEvent(Q,ie)&&ie.kill()})),C=ns(),R=Zi(o,"paste",Q=>{y.fireIfReady(Q,"paste").each(_e=>{_e&&Q.kill()}),c.triggerEvent("paste",Q)&&Q.kill(),C.set(setTimeout(()=>{c.triggerEvent(W0(),Q)},0))}),M=Zi(o,"keydown",Q=>{c.triggerEvent("keydown",Q)?Q.kill():c.stopBackspace&&SU(Q)&&Q.prevent()}),N=Zi(o,"focusin",Q=>{c.triggerEvent("focusin",Q)&&Q.kill()}),V=ns(),Z=Zi(o,"focusout",Q=>{c.triggerEvent("focusout",Q)&&Q.kill(),V.set(setTimeout(()=>{c.triggerEvent(j0(),Q)},0))});return{unbind:()=>{me(_,Q=>{Q.unbind()}),M.unbind(),N.unbind(),Z.unbind(),R.unbind(),C.on(clearTimeout),V.on(clearTimeout)}}},AF=(o,i)=>{const c=Gt(o,"target").getOr(i);return D(c)},EU=(o,i)=>{const c=D(!1),m=D(!1);return{stop:()=>{c.set(!0)},cut:()=>{m.set(!0)},isStopped:c.get,isCut:m.get,event:o,setSource:i.set,getSource:i.get}},TU=o=>{const i=D(!1);return{stop:()=>{i.set(!0)},cut:ne,isStopped:i.get,isCut:ln,event:o,setSource:ue("Cannot set source of a broadcasted event"),getSource:ue("Cannot get source of a broadcasted event")}},XC=te.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),IF=(o,i,c,m,y,_)=>{const C=o(i,m),R=EU(c,y);return C.fold(()=>(_.logEventNoHandlers(i,m),XC.complete()),M=>{const N=M.descHandler;return ps(N)(R),R.isStopped()?(_.logEventStopped(i,M.element,N.purpose),XC.stopped()):R.isCut()?(_.logEventCut(i,M.element,N.purpose),XC.complete()):bl(M.element).fold(()=>(_.logNoParent(i,M.element,N.purpose),XC.complete()),Z=>(_.logEventResponse(i,M.element,N.purpose),XC.resume(Z)))})},OF=(o,i,c,m,y,_)=>IF(o,i,c,m,y,_).fold(It,C=>OF(o,i,c,C,y,_),ln),RU=(o,i,c,m,y)=>{const _=AF(c,m);return IF(o,i,c,m,_,y)},AU=(o,i,c)=>{const m=TU(i);return me(o,y=>{const _=y.descHandler;ps(_)(m)}),m.isStopped()},IU=(o,i,c,m)=>DF(o,i,c,c.target,m),DF=(o,i,c,m,y)=>{const _=AF(c,m);return OF(o,i,c,m,_,y)},OU=(o,i)=>({element:o,descHandler:i}),DU=(o,i)=>({id:o,descHandler:i}),MU=()=>{const o={},i=(C,R,M)=>{lo(M,(N,V)=>{const Z=o[V]!==void 0?o[V]:{};Z[R]=fI(N,C),o[V]=Z})},c=(C,R)=>Wl(R).bind(M=>Gt(C,M)).map(M=>OU(R,M));return{registerId:i,unregisterId:C=>{lo(o,(R,M)=>{Mo(R,C)&&delete R[C]})},filterByType:C=>Gt(o,C).map(R=>Ii(R,(M,N)=>DU(N,M))).getOr([]),find:(C,R,M)=>Gt(o,R).bind(N=>Hl(M,V=>c(N,V),C))}},PU=()=>{const o=MU(),i={},c=N=>{const V=N.element;return Wl(V).getOrThunk(()=>cI("uid-",N.element))},m=(N,V)=>{const Z=i[V];if(Z===N)_(N);else throw new Error('The tagId "'+V+'" is already used by: '+dd(Z.element)+`
Cannot use it for: `+dd(N.element)+`
The conflicting element is`+(Za(Z.element)?" ":" not ")+"already in the DOM")},y=N=>{const V=c(N);Qi(i,V)&&m(N,V);const Z=[N];o.registerId(Z,V,N.events),i[V]=N},_=N=>{Wl(N.element).each(V=>{delete i[V],o.unregisterId(V)})};return{find:(N,V,Z)=>o.find(N,V,Z),filter:N=>o.filterByType(N),register:y,unregister:_,getById:N=>Gt(i,N)}},vh=cr({name:"Container",factory:o=>{const{attributes:i,...c}=o.dom;return{uid:o.uid,dom:{tag:"div",attributes:{role:"presentation",...i},...c},components:o.components,behaviours:qc(o.containerBehaviours),events:o.events,domModification:o.domModification,eventOrder:o.eventOrder}},configFields:[Be("components",[]),Pa("containerBehaviours",[]),Be("events",{}),Be("domModification",{}),Be("eventOrder",{})]}),_M=o=>{const i=De=>bl(o.element).fold(It,Ae=>as(De,Ae)),c=PU(),m=(De,Ae)=>c.find(i,De,Ae),y=xU(o.element,{triggerEvent:(De,Ae)=>Db(De,Ae.target,mt=>IU(m,De,Ae,mt))}),_={debugInfo:J("real"),triggerEvent:(De,Ae,mt)=>{Db(De,Ae,bt=>DF(m,De,mt,Ae,bt))},triggerFocus:(De,Ae)=>{Wl(De).fold(()=>{Su(De)},mt=>{Db(of(),De,bt=>(RU(m,of(),{originator:Ae,kill:ne,prevent:ne,target:De},De,bt),!1))})},triggerEscape:(De,Ae)=>{_.triggerEvent("keydown",De.element,Ae.event)},getByUid:De=>_e(De),getByDom:De=>He(De),build:Da,buildOrPatch:Rb,addToGui:De=>{M(De)},removeFromGui:De=>{N(De)},addToWorld:De=>{C(De)},removeFromWorld:De=>{R(De)},broadcast:De=>{K(De)},broadcastOn:(De,Ae)=>{Q(De,Ae)},broadcastEvent:(De,Ae)=>{ie(De,Ae)},isConnected:It},C=De=>{De.connect(_),tl(De.element)||(c.register(De),me(De.components(),C),_.triggerEvent($1(),De.element,{target:De.element}))},R=De=>{tl(De.element)||(me(De.components(),R),c.unregister(De)),De.disconnect()},M=De=>{gf(o,De)},N=De=>{yf(De)},V=()=>{y.unbind(),uc(o.element)},Z=De=>{const Ae=c.filter(or());me(Ae,mt=>{const bt=mt.descHandler;ps(bt)(De)})},K=De=>{Z({universal:!0,data:De})},Q=(De,Ae)=>{Z({universal:!1,channels:De,data:Ae})},ie=(De,Ae)=>{const mt=c.filter(De);return AU(mt,Ae)},_e=De=>c.getById(De).fold(()=>to.error(new Error('Could not find component with uid: "'+De+'" in system.')),to.value),He=De=>{const Ae=Wl(De).getOr("not found");return _e(Ae)};return C(o),{root:o,element:o.element,destroy:V,add:M,remove:N,getByUid:_e,getByDom:He,addToWorld:C,removeFromWorld:R,broadcast:K,broadcastOn:Q,broadcastEvent:ie}},NU=(o,i)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ee(o.items,i.interpreter)}),MF=J([Be("prefix","form-field"),Pa("fieldBehaviours",[yo,tn])]),LU=J([wc({schema:[Ct("dom")],name:"label"}),wc({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[Ct("text")],name:"aria-descriptor"}),za({factory:{sketch:o=>{const i=jn(o,["factory"]);return o.factory.sketch(i)}},schema:[Ct("factory")],name:"field"})]),FU=(o,i,c,m)=>{const y=ta(o.fieldBehaviours,[yo.config({find:R=>gs(R,o,"field")}),tn.config({store:{mode:"manual",getValue:R=>yo.getCurrent(R).bind(tn.getValue),setValue:(R,M)=>{yo.getCurrent(R).each(N=>{tn.setValue(N,M)})}}})]),_=Ss([sr((R,M)=>{const N=iC(R,o,["label","field","aria-descriptor"]);N.field().each(V=>{const Z=dn(o.prefix);N.label().each(K=>{Jn(K.element,"for",Z),Jn(V.element,"id",Z)}),N["aria-descriptor"]().each(K=>{const Q=dn(o.prefix);Jn(K.element,"id",Q),Jn(V.element,"aria-describedby",Q)})})})]),C={getField:R=>gs(R,o,"field"),getLabel:R=>gs(R,o,"label")};return{uid:o.uid,dom:o.dom,components:i,behaviours:y,events:_,apis:C}},qo=Nr({name:"FormField",configFields:MF(),partFields:LU(),factory:FU,apis:{getField:(o,i)=>o.getField(i),getLabel:(o,i)=>o.getLabel(i)}});var $U=Object.freeze({__proto__:null,exhibit:(o,i)=>Zl({attributes:$o([{key:i.tabAttr,value:"true"}])})}),VU=[Be("tabAttr","data-alloy-tabstop")];const ur=Ja({fields:VU,name:"tabstopping",active:$U});var HU=tinymce.util.Tools.resolve("tinymce.html.Entities");const p_=(o,i,c,m)=>{const y=PF(o,i,c,m);return qo.sketch(y)},UU=(o,i)=>p_(o,i,[],[]),PF=(o,i,c,m)=>({dom:kM(c),components:o.toArray().concat([i]),fieldBehaviours:Lt(m)}),jU=()=>kM([]),kM=o=>({tag:"div",classes:["tox-form__group"].concat(o)}),Ry=(o,i)=>qo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ks(i.translate(o))]}),Jc=dn("form-component-change"),JC=dn("form-close"),Nv=dn("form-cancel"),wm=dn("form-action"),QC=dn("form-submit"),CM=dn("form-block"),SM=dn("form-unblock"),zF=dn("form-tabchange"),NF=dn("form-resize"),WU=(o,i,c)=>{const m=o.label.map(Z=>Ry(Z,i)),y=Z=>(K,Q)=>{md(Q.event.target,"[data-collection-item-value]").each(ie=>{Z(K,Q,ie,ua(ie,"data-collection-item-value"))})},_=(Z,K)=>{const Q=Ee(K,He=>{const De=Mu.translate(He.text),Ae=o.columns===1?`<div class="tox-collection__item-label">${De}</div>`:"",mt=`<div class="tox-collection__item-icon">${He.icon}</div>`,bt={_:" "," - ":" ","-":" "},Ut=De.replace(/\_| \- |\-/g,Kt=>bt[Kt]);return`<div class="tox-collection__item${i.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${HU.encodeAllRaw(He.value)}" title="${Ut}" aria-label="${Ut}">${mt}${Ae}</div>`}),ie=o.columns!=="auto"&&o.columns>1?Et(Q,o.columns):[Q],_e=Ee(ie,He=>`<div class="tox-collection__group">${He.join("")}</div>`);nh(Z.element,_e.join(""))},C=y((Z,K,Q,ie)=>{K.stop(),i.isDisabled()||xn(Z,wm,{name:o.name,value:ie})}),R=[St(pc(),y((Z,K,Q)=>{Su(Q)})),St(jc(),C),St(rp(),C),St(Xh(),y((Z,K,Q)=>{Ys(Z.element,"."+LC).each(ie=>{xs(ie,LC)}),Jr(Q,LC)})),St(B1(),y(Z=>{Ys(Z.element,"."+LC).each(K=>{xs(K,LC)})})),lf(y((Z,K,Q,ie)=>{xn(Z,wm,{name:o.name,value:ie})}))],M=(Z,K)=>Ee(zr(Z.element,".tox-collection__item"),K),N=qo.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(o.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Te},behaviours:Lt([An.config({disabled:i.isDisabled,onDisabled:Z=>{M(Z,K=>{Jr(K,"tox-collection__item--state-disabled"),Jn(K,"aria-disabled",!0)})},onEnabled:Z=>{M(Z,K=>{xs(K,"tox-collection__item--state-disabled"),ge(K,"aria-disabled")})}}),La(),Bn.config({}),tn.config({store:{mode:"memory",initialValue:c.getOr([])},onSetValue:(Z,K)=>{_(Z,K),o.columns==="auto"&&$D(Z,5,"tox-collection__item").each(({numRows:Q,numColumns:ie})=>{Sn.setGridSize(Z,Q,ie)}),zo(Z,NF)}}),ur.config({}),Sn.config(fF(o.columns,"normal")),no("collection-events",R)]),eventOrder:{[ji()]:["disabling","alloy.base.behaviour","collection-events"]}});return p_(m,N,["tox-form__group--collection"],[])},ZU=["input","textarea"],xM=o=>{const i=el(o);return Zn(ZU,i)},LF=(o,i)=>{const c=i.getRoot(o).getOr(o.element);xs(c,i.invalidClass),i.notify.each(m=>{xM(o.element)&&Jn(o.element,"aria-invalid",!1),m.getContainer(o).each(y=>{nh(y,m.validHtml)}),m.onValid(o)})},FF=(o,i,c,m)=>{const y=i.getRoot(o).getOr(o.element);Jr(y,i.invalidClass),i.notify.each(_=>{xM(o.element)&&Jn(o.element,"aria-invalid",!0),_.getContainer(o).each(C=>{nh(C,m)}),_.onInvalid(o,m)})},BF=(o,i,c)=>i.validator.fold(()=>Gi.pure(to.value(!0)),m=>m.validate(o)),EM=(o,i,c)=>(i.notify.each(m=>{m.onValidate(o)}),BF(o,i).map(m=>o.getSystem().isConnected()?m.fold(y=>(FF(o,i,c,y),to.error(y)),y=>(LF(o,i),to.value(y))):to.error("No longer in system")));var TM=Object.freeze({__proto__:null,markValid:LF,markInvalid:FF,query:BF,run:EM,isInvalid:(o,i)=>{const c=i.getRoot(o).getOr(o.element);return xi(c,i.invalidClass)}}),GU=Object.freeze({__proto__:null,events:(o,i)=>o.validator.map(c=>Ss([St(c.onEvent,m=>{EM(m,o,i).get(Te)})].concat(c.validateOnLoad?[sr(m=>{EM(m,o,i).get(ne)})]:[]))).getOr({})}),qU=[Ct("invalidClass"),Be("getRoot",L.none),pa("notify",[Be("aria","alert"),Be("getContainer",L.none),Be("validHtml",""),ko("onValid"),ko("onInvalid"),ko("onValidate")]),pa("validator",[Ct("validate"),Be("onEvent","input"),Be("validateOnLoad",!0)])];const wh=Ja({fields:qU,name:"invalidating",active:GU,apis:TM,extra:{validation:o=>i=>{const c=tn.getValue(i);return Gi.pure(o(c))}}});var YU=Object.freeze({__proto__:null,events:()=>Ss([Y0(nI(),It)]),exhibit:()=>Zl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const g_=Ja({fields:[],name:"unselecting",active:YU}),XU=(o,i)=>Nu.sketch({dom:o.dom,components:o.components,toggleClass:"mce-active",dropdownBehaviours:Lt([zu.button(i.providers.isDisabled),La(),g_.config({}),ur.config({})]),layouts:o.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:i.getSink,fetch:c=>Gi.nu(m=>o.fetch(m)).map(m=>L.from(FT(ds(qC(dn("menu-value"),m,y=>{o.onItemAction(c,y)},o.columns,o.presets,Sd.CLOSE_ON_EXECUTE,ln,i.providers),{movement:IT(o.columns,o.presets)})))),parts:{menu:uT(!1,1,o.presets)}}),$F=dn("color-input-change"),VF=dn("color-swatch-change"),HF=dn("color-picker-cancel"),JU=(o,i,c,m)=>{const y=qo.parts.field({factory:Cv,inputClasses:["tox-textfield"],data:m,onSetValue:N=>wh.run(N).get(ne),inputBehaviours:Lt([An.config({disabled:i.providers.isDisabled}),La(),ur.config({}),wh.config({invalidClass:"tox-textbox-field-invalid",getRoot:N=>Ml(N.element),notify:{onValid:N=>{const V=tn.getValue(N);xn(N,$F,{color:V})}},validator:{validateOnLoad:!1,validate:N=>{const V=tn.getValue(N);if(V.length===0)return Gi.pure(to.value(!0));{const Z=ze.fromTag("span");un(Z,"background-color",V);const K=er(Z,"background-color").fold(()=>to.error("blah"),Q=>to.value(V));return Gi.pure(K)}}}})]),selectOnFocus:!1}),_=o.label.map(N=>Ry(N,i.providers)),C=(N,V)=>{xn(N,VF,{value:V})},R=(N,V)=>{M.getOpt(N).each(Z=>{V==="custom"?c.colorPicker(K=>{K.fold(()=>zo(Z,HF),Q=>{C(Z,Q),XL(o.storageKey,Q)})},"#ffffff"):V==="remove"?C(Z,""):C(Z,V)})},M=es(XU({dom:{tag:"span",attributes:{"aria-label":i.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Qr,Xa,Js],onLtr:()=>[Xa,Qr,Js]},components:[],fetch:zv(c.getColors(o.storageKey),o.storageKey,c.hasCustomColors()),columns:c.getColorCols(o.storageKey),presets:"color",onItemAction:R},i));return qo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:_.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[y,M.asSpec()]}]),fieldBehaviours:Lt([no("form-field-events",[St($F,(N,V)=>{M.getOpt(N).each(Z=>{un(Z.element,"background-color",V.event.color)}),xn(N,Jc,{name:o.name})}),St(VF,(N,V)=>{qo.getField(N).each(Z=>{tn.setValue(Z,V.event.value),yo.getCurrent(N).each(Pn.focus)})}),St(HF,(N,V)=>{qo.getField(N).each(Z=>{yo.getCurrent(N).each(Pn.focus)})})])])})},QU=wc({schema:[Ct("dom")],name:"label"}),_h=o=>wc({name:""+o+"-edge",overrides:i=>i.model.manager.edgeActions[o].fold(()=>({}),m=>({events:Ss([_b(_u(),(y,_,C)=>m(y,C),[i]),_b(is(),(y,_,C)=>m(y,C),[i]),_b(Ag(),(y,_,C)=>{C.mouseIsDown.get()&&m(y,C)},[i])])}))}),ej=_h("top-left"),$T=_h("top"),tj=_h("top-right"),nj=_h("right"),oj=_h("bottom-right"),sj=_h("bottom"),Kee=_h("bottom-left"),VT=_h("left"),y_=za({name:"thumb",defaults:J({dom:{styles:{position:"absolute"}}}),overrides:o=>({events:Ss([Pg(_u(),o,"spectrum"),Pg(_o(),o,"spectrum"),Pg(ms(),o,"spectrum"),Pg(is(),o,"spectrum"),Pg(Ag(),o,"spectrum"),Pg(Qf(),o,"spectrum")])})}),UF=za({schema:[ii("mouseIsDown",()=>D(!1))],name:"spectrum",overrides:o=>{const c=o.model.manager,m=(y,_)=>c.getValueFromEvent(_).map(C=>c.setValueFrom(y,o,C));return{behaviours:Lt([Sn.config({mode:"special",onLeft:y=>c.onLeft(y,o),onRight:y=>c.onRight(y,o),onUp:y=>c.onUp(y,o),onDown:y=>c.onDown(y,o)}),Pn.config({})]),events:Ss([St(_u(),m),St(_o(),m),St(is(),m),St(Ag(),(y,_)=>{o.mouseIsDown.get()&&m(y,_)})])}}});var jF=[QU,VT,nj,$T,sj,ej,tj,Kee,oj,y_,UF];const eS=J("slider.change.value"),rj=o=>o.type.indexOf("touch")!==-1,RM=o=>{const i=o.event.raw;if(rj(i)){const c=i;return c.touches!==void 0&&c.touches.length===1?L.some(c.touches[0]).map(m=>qs(m.clientX,m.clientY)):L.none()}else{const c=i;return c.clientX!==void 0?L.some(c).map(m=>qs(m.clientX,m.clientY)):L.none()}},aj="top",ij="right",lj="bottom",cj="left",Lv=o=>o.model.minX,Fv=o=>o.model.minY,HT=o=>o.model.minX-1,tS=o=>o.model.minY-1,kf=o=>o.model.maxX,Td=o=>o.model.maxY,UT=o=>o.model.maxX+1,nS=o=>o.model.maxY+1,AM=(o,i,c)=>i(o)-c(o),b_=o=>AM(o,kf,Lv),IM=o=>AM(o,Td,Fv),v_=o=>b_(o)/2,w_=o=>IM(o)/2,__=o=>o.stepSize,WF=o=>o.snapToGrid,ZF=o=>o.snapStart,GF=o=>o.rounded,jT=(o,i)=>o[i+"-edge"]!==void 0,qF=o=>jT(o,cj),oS=o=>jT(o,ij),KF=o=>jT(o,aj),YF=o=>jT(o,lj),Up=o=>o.model.value.get(),jp=(o,i)=>({x:o,y:i}),Cf=(o,i)=>{xn(o,eS(),{value:i})},uj=(o,i)=>{Cf(o,jp(HT(i),tS(i)))},dj=(o,i)=>{Cf(o,tS(i))},XF=(o,i)=>{Cf(o,jp(v_(i),tS(i)))},fj=(o,i)=>{Cf(o,jp(UT(i),tS(i)))},hj=(o,i)=>{Cf(o,UT(i))},mj=(o,i)=>{Cf(o,jp(UT(i),w_(i)))},pj=(o,i)=>{Cf(o,jp(UT(i),nS(i)))},gj=(o,i)=>{Cf(o,nS(i))},JF=(o,i)=>{Cf(o,jp(v_(i),nS(i)))},QF=(o,i)=>{Cf(o,jp(HT(i),nS(i)))},yj=(o,i)=>{Cf(o,HT(i))},bj=(o,i)=>{Cf(o,jp(HT(i),w_(i)))},OM=(o,i,c,m)=>o<i?o:o>c?c:o===i?i-1:Math.max(i,o-m),WT=(o,i,c,m)=>o>c?o:o<i?i:o===c?c+1:Math.min(c,o+m),Bv=(o,i,c)=>Math.max(i,Math.min(c,o)),vj=(o,i,c,m,y)=>y.fold(()=>{const _=o-i,C=Math.round(_/m)*m;return Bv(i+C,i-1,c+1)},_=>{const C=(o-_)%m,R=Math.round(C/m),M=Math.floor((o-_)/m),N=Math.floor((c-_)/m),V=Math.min(N,M+R),Z=_+V*m;return Math.max(_,Z)}),wj=(o,i,c)=>Math.min(c,Math.max(o,i))-i,eB=o=>{const{min:i,max:c,range:m,value:y,step:_,snap:C,snapStart:R,rounded:M,hasMinEdge:N,hasMaxEdge:V,minBound:Z,maxBound:K,screenRange:Q}=o,ie=N?i-1:i,_e=V?c+1:c;if(y<Z)return ie;if(y>K)return _e;{const He=wj(y,Z,K),De=Bv(He/Q*m+i,ie,_e);return C&&De>=i&&De<=c?vj(De,i,c,_,R):M?Math.round(De):De}},sS=o=>{const{min:i,max:c,range:m,value:y,hasMinEdge:_,hasMaxEdge:C,maxBound:R,maxOffset:M,centerMinEdge:N,centerMaxEdge:V}=o;return y<i?_?0:N:y>c?C?R:V:(y-i)/m*M},Qc="top",ZT="right",DM="bottom",MM="left",_j="width",kj="height",_m=o=>o.element.dom.getBoundingClientRect(),Rd=(o,i)=>o[i],rS=o=>{const i=_m(o);return Rd(i,MM)},tB=o=>{const i=_m(o);return Rd(i,ZT)},GT=o=>{const i=_m(o);return Rd(i,Qc)},PM=o=>{const i=_m(o);return Rd(i,DM)},nB=o=>{const i=_m(o);return Rd(i,_j)},zM=o=>{const i=_m(o);return Rd(i,kj)},NM=(o,i,c)=>(o+i)/2-c,LM=(o,i)=>{const c=_m(o),m=_m(i),y=Rd(c,MM),_=Rd(c,ZT),C=Rd(m,MM);return NM(y,_,C)},oB=(o,i)=>{const c=_m(o),m=_m(i),y=Rd(c,Qc),_=Rd(c,DM),C=Rd(m,Qc);return NM(y,_,C)},qT=(o,i)=>{xn(o,eS(),{value:i})},FM=(o,i,c)=>{const m={min:Lv(i),max:kf(i),range:b_(i),value:c,step:__(i),snap:WF(i),snapStart:ZF(i),rounded:GF(i),hasMinEdge:qF(i),hasMaxEdge:oS(i),minBound:rS(o),maxBound:tB(o),screenRange:nB(o)};return eB(m)},Cj=(o,i,c)=>{const m=FM(o,i,c);return qT(o,m),m},Sj=(o,i)=>{const c=Lv(i);qT(o,c)},xj=(o,i)=>{const c=kf(i);qT(o,c)},BM=(o,i,c)=>{const y=(o>0?WT:OM)(Up(c),Lv(c),kf(c),__(c));return qT(i,y),L.some(y)},sB=o=>(i,c)=>BM(o,i,c).map(It),rB=o=>RM(o).map(c=>c.left),Ej=(o,i,c,m,y)=>{const C=nB(o),R=m.bind(V=>L.some(LM(V,o))).getOr(0),M=y.bind(V=>L.some(LM(V,o))).getOr(C),N={min:Lv(i),max:kf(i),range:b_(i),value:c,hasMinEdge:qF(i),hasMaxEdge:oS(i),minBound:rS(o),minOffset:0,maxBound:tB(o),maxOffset:C,centerMinEdge:R,centerMaxEdge:M};return sS(N)},$M=(o,i,c,m,y,_)=>{const C=Ej(i,_,c,m,y);return rS(i)-rS(o)+C},Tj=(o,i,c,m)=>{const y=Up(c),_=$M(o,m.getSpectrum(o),y,m.getLeftEdge(o),m.getRightEdge(o),c),C=vi(i.element)/2;un(i.element,"left",_-C+"px")},Rj=sB(-1),Aj=sB(1),Ij=L.none,Oj=L.none,aB={"top-left":L.none(),top:L.none(),"top-right":L.none(),right:L.some(hj),"bottom-right":L.none(),bottom:L.none(),"bottom-left":L.none(),left:L.some(yj)};var iB=Object.freeze({__proto__:null,setValueFrom:Cj,setToMin:Sj,setToMax:xj,findValueOfOffset:FM,getValueFromEvent:rB,findPositionOfValue:$M,setPositionFromValue:Tj,onLeft:Rj,onRight:Aj,onUp:Ij,onDown:Oj,edgeActions:aB});const KT=(o,i)=>{xn(o,eS(),{value:i})},VM=(o,i,c)=>{const m={min:Fv(i),max:Td(i),range:IM(i),value:c,step:__(i),snap:WF(i),snapStart:ZF(i),rounded:GF(i),hasMinEdge:KF(i),hasMaxEdge:YF(i),minBound:GT(o),maxBound:PM(o),screenRange:zM(o)};return eB(m)},Dj=(o,i,c)=>{const m=VM(o,i,c);return KT(o,m),m},Mj=(o,i)=>{const c=Fv(i);KT(o,c)},Pj=(o,i)=>{const c=Td(i);KT(o,c)},lB=(o,i,c)=>{const y=(o>0?WT:OM)(Up(c),Fv(c),Td(c),__(c));return KT(i,y),L.some(y)},HM=o=>(i,c)=>lB(o,i,c).map(It),cB=o=>RM(o).map(c=>c.top),UM=(o,i,c,m,y)=>{const C=zM(o),R=m.bind(V=>L.some(oB(V,o))).getOr(0),M=y.bind(V=>L.some(oB(V,o))).getOr(C),N={min:Fv(i),max:Td(i),range:IM(i),value:c,hasMinEdge:KF(i),hasMaxEdge:YF(i),minBound:GT(o),minOffset:0,maxBound:PM(o),maxOffset:C,centerMinEdge:R,centerMaxEdge:M};return sS(N)},jM=(o,i,c,m,y,_)=>{const C=UM(i,_,c,m,y);return GT(i)-GT(o)+C},uB=(o,i,c,m)=>{const y=Up(c),_=jM(o,m.getSpectrum(o),y,m.getTopEdge(o),m.getBottomEdge(o),c),C=Vr(i.element)/2;un(i.element,"top",_-C+"px")},zj=L.none,Nj=L.none,Lj=HM(-1),Fj=HM(1),WM={"top-left":L.none(),top:L.some(dj),"top-right":L.none(),right:L.none(),"bottom-right":L.none(),bottom:L.some(gj),"bottom-left":L.none(),left:L.none()};var Wp=Object.freeze({__proto__:null,setValueFrom:Dj,setToMin:Mj,setToMax:Pj,findValueOfOffset:VM,getValueFromEvent:cB,findPositionOfValue:jM,setPositionFromValue:uB,onLeft:zj,onRight:Nj,onUp:Lj,onDown:Fj,edgeActions:WM});const YT=(o,i)=>{xn(o,eS(),{value:i})},Ay=(o,i)=>({x:o,y:i}),Bj=(o,i,c)=>{const m=FM(o,i,c.left),y=VM(o,i,c.top),_=Ay(m,y);return YT(o,_),_},ZM=(o,i,c,m)=>{const y=o>0?WT:OM,_=i?Up(m).x:y(Up(m).x,Lv(m),kf(m),__(m)),C=i?y(Up(m).y,Fv(m),Td(m),__(m)):Up(m).y;return YT(c,Ay(_,C)),L.some(_)},XT=(o,i)=>(c,m)=>ZM(o,i,c,m).map(It),$j=(o,i)=>{const c=Lv(i),m=Fv(i);YT(o,Ay(c,m))},Vj=(o,i)=>{const c=kf(i),m=Td(i);YT(o,Ay(c,m))},dB=o=>RM(o),Hj=(o,i,c,m)=>{const y=Up(c),_=$M(o,m.getSpectrum(o),y.x,m.getLeftEdge(o),m.getRightEdge(o),c),C=jM(o,m.getSpectrum(o),y.y,m.getTopEdge(o),m.getBottomEdge(o),c),R=vi(i.element)/2,M=Vr(i.element)/2;un(i.element,"left",_-R+"px"),un(i.element,"top",C-M+"px")},GM=XT(-1,!1),qM=XT(1,!1),KM=XT(-1,!0),Uj=XT(1,!0),Lu={"top-left":L.some(uj),top:L.some(XF),"top-right":L.some(fj),right:L.some(mj),"bottom-right":L.some(pj),bottom:L.some(JF),"bottom-left":L.some(QF),left:L.some(bj)};var jj=Object.freeze({__proto__:null,setValueFrom:Bj,setToMin:$j,setToMax:Vj,getValueFromEvent:dB,setPositionFromValue:Hj,onLeft:GM,onRight:qM,onUp:KM,onDown:Uj,edgeActions:Lu});const Wj=[Be("stepSize",1),Be("onChange",ne),Be("onChoose",ne),Be("onInit",ne),Be("onDragStart",ne),Be("onDragEnd",ne),Be("snapToGrid",!1),Be("rounded",!0),jo("snapStart"),Vi("model",$i("mode",{x:[Be("minX",0),Be("maxX",100),ii("value",o=>D(o.mode.minX)),Ct("getInitialValue"),Go("manager",iB)],y:[Be("minY",0),Be("maxY",100),ii("value",o=>D(o.mode.minY)),Ct("getInitialValue"),Go("manager",Wp)],xy:[Be("minX",0),Be("maxX",100),Be("minY",0),Be("maxY",100),ii("value",o=>D({x:o.mode.minX,y:o.mode.minY})),Ct("getInitialValue"),Go("manager",jj)]})),Pa("sliderBehaviours",[Sn,tn]),ii("mouseIsDown",()=>D(!1))],Ad=Nr({name:"Slider",configFields:Wj,partFields:jF,factory:(o,i,c,m)=>{const y=bt=>wd(bt,o,"thumb"),_=bt=>wd(bt,o,"spectrum"),C=bt=>gs(bt,o,"left-edge"),R=bt=>gs(bt,o,"right-edge"),M=bt=>gs(bt,o,"top-edge"),N=bt=>gs(bt,o,"bottom-edge"),V=o.model,Z=V.manager,K=(bt,Ut)=>{Z.setPositionFromValue(bt,Ut,o,{getLeftEdge:C,getRightEdge:R,getTopEdge:M,getBottomEdge:N,getSpectrum:_})},Q=(bt,Ut)=>{V.value.set(Ut);const Rt=y(bt);K(bt,Rt)},ie=(bt,Ut)=>{Q(bt,Ut);const Rt=y(bt);return o.onChange(bt,Rt,Ut),L.some(!0)},_e=bt=>{Z.setToMin(bt,o)},He=bt=>{Z.setToMax(bt,o)},De=bt=>{const Ut=()=>{gs(bt,o,"thumb").each(Kt=>{const vn=V.value.get();o.onChoose(bt,Kt,vn)})},Rt=o.mouseIsDown.get();o.mouseIsDown.set(!1),Rt&&Ut()},Ae=(bt,Ut)=>{Ut.stop(),o.mouseIsDown.set(!0),o.onDragStart(bt,y(bt))},mt=(bt,Ut)=>{Ut.stop(),o.onDragEnd(bt,y(bt)),De(bt)};return{uid:o.uid,dom:o.dom,components:i,behaviours:ta(o.sliderBehaviours,[Sn.config({mode:"special",focusIn:bt=>gs(bt,o,"spectrum").map(Sn.focusIn).map(It)}),tn.config({store:{mode:"manual",getValue:bt=>V.value.get(),setValue:Q}}),Pr.config({channels:{[jk()]:{onReceive:De}}})]),events:Ss([St(eS(),(bt,Ut)=>{ie(bt,Ut.event.value)}),sr((bt,Ut)=>{const Rt=V.getInitialValue();V.value.set(Rt);const Kt=y(bt);K(bt,Kt);const vn=_(bt);o.onInit(bt,Kt,vn,V.value.get())}),St(_u(),Ae),St(ms(),mt),St(is(),Ae),St(Qf(),mt)]),apis:{resetToMin:_e,resetToMax:He,setValue:Q,refresh:K},domModification:{styles:{position:"relative"}}}},apis:{setValue:(o,i,c)=>{o.setValue(i,c)},resetToMin:(o,i)=>{o.resetToMin(i)},resetToMax:(o,i)=>{o.resetToMax(i)},refresh:(o,i)=>{o.refresh(i)}}}),YM=dn("rgb-hex-update"),fB=dn("slider-update"),hB=dn("palette-update"),Gj=(o,i)=>{const c=Ad.parts.spectrum({dom:{tag:"div",classes:[i("hue-slider-spectrum")],attributes:{role:"presentation"}}}),m=Ad.parts.thumb({dom:{tag:"div",classes:[i("hue-slider-thumb")],attributes:{role:"presentation"}}});return Ad.sketch({dom:{tag:"div",classes:[i("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:J(0)},components:[c,m],sliderBehaviours:Lt([Pn.config({})]),onChange:(y,_,C)=>{xn(y,fB,{value:C})}})},mB="form",qj=[Pa("formBehaviours",[tn])],pB=o=>"<alloy.field."+o+">",gB=o=>{const i=(()=>{const _=[];return{field:(R,M)=>(_.push(R),sC(mB,pB(R),M)),record:J(_)}})(),c=o(i),m=i.record(),y=Ee(m,_=>za({name:_,pname:pB(_)}));return cC(mB,qj,y,Yj,c)},Kj=(o,i)=>o.fold(()=>to.error(i),to.value),Yj=(o,i)=>({uid:o.uid,dom:o.dom,components:i,behaviours:ta(o.formBehaviours,[tn.config({store:{mode:"manual",getValue:c=>{const m=lC(c,o);return mo(m,(y,_)=>y().bind(C=>{const R=yo.getCurrent(C);return Kj(R,new Error(`Cannot find a current component to extract the value from for form part '${_}': `+dd(C.element)))}).map(tn.getValue))},setValue:(c,m)=>{lo(m,(y,_)=>{gs(c,o,_).each(C=>{yo.getCurrent(C).each(R=>{tn.setValue(R,y)})})})}}})]),apis:{getField:(c,m)=>gs(c,o,m).bind(yo.getCurrent)}}),k_={getField:tm((o,i,c)=>o.getField(i,c)),sketch:gB},XM=dn("valid-input"),JT=dn("invalid-input"),yB=dn("validating-input"),aS="colorcustom.rgb.",C_=(o,i,c,m)=>{const y=(K,Q)=>wh.config({invalidClass:i("invalid"),notify:{onValidate:ie=>{xn(ie,yB,{type:K})},onValid:ie=>{xn(ie,XM,{type:K,value:tn.getValue(ie)})},onInvalid:ie=>{xn(ie,JT,{type:K,value:tn.getValue(ie)})}},validator:{validate:ie=>{const _e=tn.getValue(ie),He=Q(_e)?to.value(!0):to.error(o("aria.input.invalid"));return Gi.pure(He)},validateOnLoad:!1}}),_=(K,Q,ie,_e,He)=>{const De=o(aS+"range"),Ae=qo.parts.label({dom:{tag:"label",attributes:{"aria-label":_e}},components:[Ks(ie)]}),mt=qo.parts.field({data:He,factory:Cv,inputAttributes:{type:"text",...Q==="hex"?{"aria-live":"polite"}:{}},inputClasses:[i("textfield")],inputBehaviours:Lt([y(Q,K),ur.config({})]),onSetValue:Kt=>{wh.isInvalid(Kt)&&wh.run(Kt).get(ne)}}),bt=[Ae,mt],Ut=Q!=="hex"?[qo.parts["aria-descriptor"]({text:De})]:[],Rt=bt.concat(Ut);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Rt}},C=(K,Q)=>{const ie=_f(Q);return k_.getField(K,"hex").each(_e=>{Pn.isFocused(_e)||tn.setValue(K,{hex:ie.value})}),ie},R=(K,Q)=>{const ie=Q.red,_e=Q.green,He=Q.blue;tn.setValue(K,{red:ie,green:_e,blue:He})},M=es({dom:{tag:"div",classes:[i("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),N=(K,Q)=>{M.getOpt(K).each(ie=>{un(ie.element,"background-color","#"+Q.value)})};return cr({factory:()=>{const K={red:D(L.some(255)),green:D(L.some(255)),blue:D(L.some(255)),hex:D(L.some("ffffff"))},Q=(Kn,vo)=>{const $n=Ty(vo);R(Kn,$n),De($n)},ie=Kn=>K[Kn].get(),_e=(Kn,vo)=>{K[Kn].set(vo)},He=()=>ie("red").bind(Kn=>ie("green").bind(vo=>ie("blue").map($n=>xy(Kn,vo,$n,1)))),De=Kn=>{const vo=Kn.red,$n=Kn.green,os=Kn.blue;_e("red",L.some(vo)),_e("green",L.some($n)),_e("blue",L.some(os))},Ae=(Kn,vo)=>{const $n=vo.event;$n.type!=="hex"?_e($n.type,L.none()):m(Kn)},mt=(Kn,vo)=>{c(Kn);const $n=UL(vo);_e("hex",L.some($n.value));const os=Ty($n);R(Kn,os),De(os),xn(Kn,YM,{hex:$n}),N(Kn,$n)},bt=(Kn,vo,$n)=>{const os=parseInt($n,10);_e(vo,L.some(os)),He().each(Yt=>{const yn=C(Kn,Yt);xn(Kn,YM,{hex:yn}),N(Kn,yn)})},Ut=Kn=>Kn.type==="hex",Rt=(Kn,vo)=>{const $n=vo.event;Ut($n)?mt(Kn,$n.value):bt(Kn,$n.type,$n.value)},Kt=Kn=>({label:o(aS+Kn+".label"),description:o(aS+Kn+".description")}),vn=Kt("red"),So=Kt("green"),wn=Kt("blue"),bo=Kt("hex");return ds(k_.sketch(Kn=>({dom:{tag:"form",classes:[i("rgb-form")],attributes:{"aria-label":o("aria.color.picker")}},components:[Kn.field("red",qo.sketch(_(cs,"red",vn.label,vn.description,255))),Kn.field("green",qo.sketch(_(cs,"green",So.label,So.description,255))),Kn.field("blue",qo.sketch(_(cs,"blue",wn.label,wn.description,255))),Kn.field("hex",qo.sketch(_(ST,"hex",bo.label,bo.description,"ffffff"))),M.asSpec()],formBehaviours:Lt([wh.config({invalidClass:i("form-invalid")}),no("rgb-form-events",[St(XM,Rt),St(JT,Ae),St(yB,Ae)])])})),{apis:{updateHex:(Kn,vo)=>{tn.setValue(Kn,{hex:vo.value}),Q(Kn,vo),N(Kn,vo)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(K,Q,ie)=>{K.updateHex(Q,ie)}},extraApis:{}})},bB=(o,i)=>{const c=Ad.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[i("sv-palette-spectrum")]}}),m=Ad.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[i("sv-palette-thumb")],innerHtml:`<div class=${i("sv-palette-inner-thumb")} role="presentation"></div>`}}),y=(N,V)=>{const{width:Z,height:K}=N,Q=N.getContext("2d");if(Q===null)return;Q.fillStyle=V,Q.fillRect(0,0,Z,K);const ie=Q.createLinearGradient(0,0,Z,0);ie.addColorStop(0,"rgba(255,255,255,1)"),ie.addColorStop(1,"rgba(255,255,255,0)"),Q.fillStyle=ie,Q.fillRect(0,0,Z,K);const _e=Q.createLinearGradient(0,0,0,K);_e.addColorStop(0,"rgba(0,0,0,0)"),_e.addColorStop(1,"rgba(0,0,0,1)"),Q.fillStyle=_e,Q.fillRect(0,0,Z,K)},_=(N,V)=>{const Z=N.components()[0].element.dom,K=GC(V,100,100),Q=Ey(K);y(Z,ET(Q))},C=(N,V)=>{const Z=QD(Ty(V));Ad.setValue(N,{x:Z.saturation,y:100-Z.value})};return cr({factory:N=>{const V=J({x:0,y:0}),Z=(ie,_e,He)=>{xn(ie,hB,{value:He})},K=(ie,_e,He,De)=>{y(He.element.dom,ET(GL))},Q=Lt([yo.config({find:L.some}),Pn.config({})]);return Ad.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[i("sv-palette")]},model:{mode:"xy",getInitialValue:V},rounded:!1,components:[c,m],onChange:Z,onInit:K,sliderBehaviours:Q})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(N,V,Z)=>{_(V,Z)},setThumb:(N,V,Z)=>{C(V,Z)}},extraApis:{}})},vB=(o,i)=>{const c=y=>{const _=C_(o,i,y.onValidHex,y.onInvalidHex),C=bB(o,i),R=Rt=>(100-Rt)/100*360,M=Rt=>100-Rt/360*100,N={paletteRgba:D(GL),paletteHue:D(0)},V=es(Gj(o,i)),Z=es(C.sketch({})),K=es(_.sketch({})),Q=(Rt,Kt,vn)=>{Z.getOpt(Rt).each(So=>{C.setHue(So,vn)})},ie=(Rt,Kt)=>{K.getOpt(Rt).each(vn=>{_.updateHex(vn,Kt)})},_e=(Rt,Kt,vn)=>{V.getOpt(Rt).each(So=>{Ad.setValue(So,M(vn))})},He=(Rt,Kt)=>{Z.getOpt(Rt).each(vn=>{C.setThumb(vn,Kt)})},De=(Rt,Kt)=>{const vn=Ty(Rt);N.paletteRgba.set(vn),N.paletteHue.set(Kt)},Ae=(Rt,Kt,vn,So)=>{De(Kt,vn),me(So,wn=>{wn(Rt,Kt,vn)})},mt=()=>{const Rt=[ie];return(Kt,vn)=>{const So=vn.event.value,wn=N.paletteHue.get(),bo=GC(wn,So.x,100-So.y),Kn=QL(bo);Ae(Kt,Kn,wn,Rt)}},bt=()=>{const Rt=[Q,ie];return(Kt,vn)=>{const So=R(vn.event.value),wn=N.paletteRgba.get(),bo=QD(wn),Kn=GC(So,bo.saturation,bo.value),vo=QL(Kn);Ae(Kt,vo,So,Rt)}},Ut=()=>{const Rt=[Q,_e,He];return(Kt,vn)=>{const So=vn.event.hex,wn=JL(So);Ae(Kt,So,wn.hue,Rt)}};return{uid:y.uid,dom:y.dom,components:[Z.asSpec(),V.asSpec(),K.asSpec()],behaviours:Lt([no("colour-picker-events",[St(YM,Ut()),St(hB,mt()),St(fB,bt())]),yo.config({find:Rt=>K.getOpt(Rt)}),Sn.config({mode:"acyclic"})])}};return cr({name:"ColourPicker",configFields:[Ct("dom"),Be("onValidHex",ne),Be("onInvalidHex",ne)],factory:c})},eu={self:()=>yo.config({find:L.some}),memento:o=>yo.config({find:o.getOpt}),childAt:o=>yo.config({find:i=>mu(i.element,o).bind(c=>i.getSystem().getByDom(c).toOptional())})},Jj=ht([Be("preprocess",Te),Be("postprocess",Te)]),Qj=(o,i)=>{const c=Bi("RepresentingConfigs.memento processors",Jj,i);return tn.config({store:{mode:"manual",getValue:m=>{const y=o.get(m),_=tn.getValue(y);return c.postprocess(_)},setValue:(m,y)=>{const _=c.preprocess(y),C=o.get(m);tn.setValue(C,_)}}})},JM=(o,i,c)=>tn.config({store:{mode:"manual",...o.map(m=>({initialValue:m})).getOr({}),getValue:i,setValue:c}}),QT=(o,i,c)=>JM(o,m=>i(m.element),(m,y)=>c(m.element,y)),Fu={memento:Qj,withElement:QT,withComp:JM,domValue:o=>QT(o,gc,Zc),domHtml:o=>QT(o,W1,nh),memory:o=>tn.config({store:{mode:"memory",initialValue:o}})},tW={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},nW=o=>i=>o.translate(tW[i]),_B=(o,i,c)=>{const m=M=>"tox-"+M,y=vB(nW(i),m),_=M=>{xn(M,wm,{name:"hex-valid",value:!0})},C=M=>{xn(M,wm,{name:"hex-valid",value:!1})},R=es(y.sketch({dom:{tag:"div",classes:[m("color-picker-container")],attributes:{role:"presentation"}},onValidHex:_,onInvalidHex:C}));return{dom:{tag:"div"},components:[R.asSpec()],behaviours:Lt([Fu.withComp(c,M=>{const N=R.get(M);return yo.getCurrent(N).bind(K=>tn.getValue(K).hex).map(K=>"#"+fu(K,"#")).getOr("")},(M,N)=>{const V=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,Z=L.from(V.exec(N)).bind(ie=>ut(ie,1)),K=R.get(M);yo.getCurrent(K).fold(()=>{console.log("Can not find form")},ie=>{tn.setValue(ie,{hex:Z.getOr("")}),k_.getField(ie,"hex").each(_e=>{zo(_e,nf())})})}),eu.self()])}};var oW=tinymce.util.Tools.resolve("tinymce.Resource");const sW=o=>Mo(o,"init"),rW=o=>{const i=ns(),c=es({dom:{tag:o.tag}}),m=ns();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Lt([no("custom-editor-events",[sr(y=>{c.getOpt(y).each(_=>{(sW(o)?o.init(_.element.dom):oW.load(o.scriptId,o.scriptUrl).then(C=>C(_.element.dom,o.settings))).then(C=>{m.on(R=>{C.setValue(R)}),m.clear(),i.set(C)})})})]),Fu.withComp(L.none(),()=>i.get().fold(()=>m.get().getOr(""),y=>y.getValue()),(y,_)=>{i.get().fold(()=>m.set(_),C=>C.setValue(_))}),eu.self()]),components:[c.asSpec()]}};var Iy=tinymce.util.Tools.resolve("tinymce.util.Tools");const km=(o,i)=>{const c=Iy.explode(i.getOption("images_file_types")),m=y=>io(c,_=>Dc(y.name.toLowerCase(),`.${_.toLowerCase()}`));return Xe(Vt(o),m)},QM=(o,i,c)=>{const m=(K,Q)=>{Q.stop()},y=K=>(Q,ie)=>{me(K,_e=>{_e(Q,ie)})},_=(K,Q)=>{var ie;if(!An.isDisabled(K)){const _e=Q.event.raw;R(K,(ie=_e.dataTransfer)===null||ie===void 0?void 0:ie.files)}},C=(K,Q)=>{const ie=Q.event.raw.target;R(K,ie.files)},R=(K,Q)=>{Q&&(tn.setValue(K,km(Q,i)),xn(K,Jc,{name:o.name}))},M=es({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Lt([no("input-file-events",[ip(jc()),ip(rp())])])}),N=K=>({uid:K.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Lt([Fu.memory(c.getOr([])),eu.self(),An.config({}),fo.config({toggleClass:"dragenter",toggleOnExecute:!1}),no("dropzone-events",[St("dragenter",y([m,fo.toggle])),St("dragleave",y([m,fo.toggle])),St("dragover",m),St("drop",y([m,_])),St(ku(),C)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Ks(i.translate("Drop an image here"))]},Qs.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Ks(i.translate("Browse for an image")),M.asSpec()],action:Q=>{M.get(Q).element.dom.click()},buttonBehaviours:Lt([ur.config({}),zu.button(i.isDisabled),La()])})]}]}),V=o.label.map(K=>Ry(K,i)),Z=qo.parts.field({factory:{sketch:N}});return p_(V,Z,["tox-form__group--stretched"],[])},kB=(o,i)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${o.columns}col`]},components:Ee(o.items,i.interpreter)}),S_=dn("alloy-fake-before-tabstop"),iS=dn("alloy-fake-after-tabstop"),CB=o=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:o},behaviours:Lt([Pn.config({ignore:!0}),ur.config({})])}),SB=o=>({dom:{tag:"div",classes:["tox-navobj"]},components:[CB([S_]),o,CB([iS])],behaviours:Lt([eu.childAt(1)])}),xB=(o,i)=>{xn(o,jl(),{raw:{which:9,shiftKey:i}})},aW=(o,i)=>{const c=i.element;xi(c,S_)?xB(o,!0):xi(c,iS)&&xB(o,!1)},lS=o=>YC(o,["."+S_,"."+iS].join(","),ln),iW=o=>{const i=D(o.getOr(""));return{getValue:c=>i.get(),setValue:(c,m)=>{i.get()!==m&&Jn(c.element,"srcdoc",m),i.set(m)}}},lW=(o,i,c)=>{const m=o.sandboxed,y=o.transparent,_="tox-dialog__iframe",C={...o.label.map(Z=>({title:Z})).getOr({}),...c.map(Z=>({srcdoc:Z})).getOr({}),...m?{sandbox:"allow-scripts allow-same-origin"}:{}},R=iW(c),M=o.label.map(Z=>Ry(Z,i)),N=Z=>SB({uid:Z.uid,dom:{tag:"iframe",attributes:C,classes:y?[_]:[_,`${_}--opaque`]},behaviours:Lt([ur.config({}),Pn.config({}),Fu.withComp(c,R.getValue,R.setValue)])}),V=qo.parts.field({factory:{sketch:N}});return p_(M,V,["tox-form__group--stretched"],[])},EB=o=>new Promise((i,c)=>{const m=()=>{_(),i(o)},y=[Zi(o,"load",m),Zi(o,"error",()=>{_(),c("Unable to load data from image: "+o.dom.src)})],_=()=>me(y,C=>C.unbind());o.dom.complete&&m()}),cW=(o,i,c,m,y)=>{const _=c*y,C=m*y,R=Math.max(0,o/2-_/2),M=Math.max(0,i/2-C/2);return{left:R.toString()+"px",top:M.toString()+"px",width:_.toString()+"px",height:C.toString()+"px"}},Cm=(o,i,c)=>{const m=vi(o),y=Vr(o);return Math.min(m/i,y/c,1)},eR=(o,i)=>{const c=D(i.getOr({url:""})),m=es({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:i.map(M=>({src:M.url})).getOr({})}}),y=es({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[m.asSpec()]}),_=(M,N)=>{const V={url:N.url};N.zoom.each(K=>V.zoom=K),N.cachedWidth.each(K=>V.cachedWidth=K),N.cachedHeight.each(K=>V.cachedHeight=K),c.set(V);const Z=()=>{const{cachedWidth:K,cachedHeight:Q,zoom:ie}=V;if(!de(K)&&!de(Q)){if(de(ie)){const He=Cm(M.element,K,Q);V.zoom=He}const _e=cW(vi(M.element),Vr(M.element),K,Q,V.zoom);y.getOpt(M).each(He=>{Ar(He.element,_e)})}};m.getOpt(M).each(K=>{const Q=K.element;N.url!==ua(Q,"src")&&(Jn(Q,"src",N.url),xs(M.element,"tox-imagepreview__loaded")),Z(),EB(Q).then(ie=>{M.getSystem().isConnected()&&(Jr(M.element,"tox-imagepreview__loaded"),V.cachedWidth=ie.dom.naturalWidth,V.cachedHeight=ie.dom.naturalHeight,Z())})})},C={};o.height.each(M=>C.height=M);const R=i.map(M=>({url:M.url,zoom:L.from(M.zoom),cachedWidth:L.from(M.cachedWidth),cachedHeight:L.from(M.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:C,attributes:{role:"presentation"}},components:[y.asSpec()],behaviours:Lt([eu.self(),Fu.withComp(R,()=>c.get(),_)])}},uW=(o,i)=>{const c={dom:{tag:"label",classes:["tox-label"]},components:[Ks(i.providers.translate(o.label))]},m=Ee(o.items,i.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[c,...m],behaviours:Lt([eu.self(),Bn.config({}),Fu.domHtml(L.none()),Sn.config({mode:"acyclic"})])}},TB=dn("toolbar.button.execute"),RB=o=>lf((i,c)=>{UC(o,i)(m=>{xn(i,TB,{buttonApi:m}),o.onAction(m)})}),Oy=dn("common-button-display-events"),tR={[ji()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[sf()]:["toolbar-button-events",Oy],[is()]:["focusing","alloy.base.behaviour",Oy]},x_=o=>un(o.element,"width",xt(o.element,"width")),E_=(o,i,c)=>Cd(o,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:c},i),$v=(o,i)=>E_(o,i,[]),Zp=(o,i)=>E_(o,i,[Bn.config({})]),eP=(o,i,c)=>({dom:{tag:"span",classes:[`${i}__select-label`]},components:[Ks(c.translate(o))],behaviours:Lt([Bn.config({})])}),Id=dn("update-menu-text"),Vv=dn("update-menu-icon"),tP=(o,i,c)=>{const m=D(ne),y=o.text.map(K=>es(eP(K,i,c.providers))),_=o.icon.map(K=>es(Zp(K,c.providers.icons))),C=(K,Q)=>{const ie=tn.getValue(K);return Pn.focus(ie),xn(ie,"keydown",{raw:Q.event.raw}),Nu.close(ie),L.some(!0)},R=o.role.fold(()=>({}),K=>({role:K})),M=o.tooltip.fold(()=>({}),K=>{const Q=c.providers.translate(K);return{title:Q,"aria-label":Q}}),N=Cd("chevron-down",{tag:"div",classes:[`${i}__select-chevron`]},c.providers.icons),V=dn("common-button-display-events");return es(Nu.sketch({...o.uid?{uid:o.uid}:{},...R,dom:{tag:"button",classes:[i,`${i}--select`].concat(Ee(o.classes,K=>`${i}--${K}`)),attributes:{...M}},components:f_([_.map(K=>K.asSpec()),y.map(K=>K.asSpec()),L.some(N)]),matchWidth:!0,useMinWidth:!0,onOpen:(K,Q,ie)=>{o.searchable&&hU(ie)},dropdownBehaviours:Lt([...o.dropdownBehaviours,zu.button(()=>o.disabled||c.providers.isDisabled()),La(),g_.config({}),Bn.config({}),no("dropdown-events",[Av(o,m),Iv(o,m)]),no(V,[sr((K,Q)=>x_(K))]),no("menubutton-update-display-text",[St(Id,(K,Q)=>{y.bind(ie=>ie.getOpt(K)).each(ie=>{Bn.set(ie,[Ks(c.providers.translate(Q.event.text))])})}),St(Vv,(K,Q)=>{_.bind(ie=>ie.getOpt(K)).each(ie=>{Bn.set(ie,[Zp(Q.event.icon,c.providers.icons)])})})])]),eventOrder:ds(tR,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[sf()]:["toolbar-button-events","dropdown-events",V]}),sandboxBehaviours:Lt([Sn.config({mode:"special",onLeft:C,onRight:C}),no("dropdown-sandbox-events",[St(oL,(K,Q)=>{lU(K),Q.stop()}),St(sL,(K,Q)=>{cU(K,Q),Q.stop()})])]),lazySink:c.getSink,toggleClass:`${i}--active`,parts:{menu:{...uT(!1,o.columns,o.presets),fakeFocus:o.searchable,onHighlightItem:SF,onCollapseMenu:(K,Q,ie)=>{No.getHighlighted(ie).each(_e=>{SF(K,ie,_e)})},onDehighlightItem:fU}},fetch:K=>Gi.nu(wt(o.fetch,K))})).asSpec()},dW=o=>x(o),AB=o=>o.type==="separator",fW=o=>Mo(o,"getSubmenuItems"),hW={type:"separator"},IB=(o,i)=>{const c=re(o,(m,y)=>dW(y)?y===""?m:y==="|"?m.length>0&&!AB(m[m.length-1])?m.concat([hW]):m:Mo(i,y.toLowerCase())?m.concat([i[y.toLowerCase()]]):m:m.concat([y]),[]);return c.length>0&&AB(c[c.length-1])&&c.pop(),c},OB=(o,i)=>{const c=o.getSubmenuItems(),m=nP(c,i),y=ds(m.menus,{[o.value]:m.items}),_=ds(m.expansions,{[o.value]:o.value});return{item:o,menus:y,expansions:_}},mW=o=>{const i=Gt(o,"value").getOrThunk(()=>dn("generated-menu-item"));return ds({value:i},o)},nP=(o,i)=>{const c=IB(x(o)?o.split(" "):o,i);return Tt(c,(m,y)=>{if(fW(y)){const _=mW(y),C=OB(_,i);return{menus:ds(m.menus,C.menus),items:[C.item,...m.items],expansions:ds(m.expansions,C.expansions)}}else return{...m,items:[y,...m.items]}},{menus:{},expansions:{},items:[]})},pW=o=>o.search.fold(()=>({searchMode:"no-search"}),i=>({searchMode:"search-with-field",placeholder:i.placeholder})),DB=o=>o.search.fold(()=>({searchMode:"no-search"}),i=>({searchMode:"search-with-results"})),Sm=(o,i,c,m)=>{const y=dn("primary-menu"),_=nP(o,c.shared.providers.menuItems());if(_.items.length===0)return L.none();const C=pW(m),R=xF(y,_.items,i,c,m.isHorizontalMenu,C),M=DB(m),N=mo(_.menus,(Z,K)=>xF(K,Z,i,c,!1,M)),V=ds(N,Wn(y,R));return L.from(kd.tieredData(y,V,_.expansions))},oP=o=>!Mo(o,"items"),sP="data-value",MB=(o,i,c,m)=>Ee(c,y=>oP(y)?{type:"togglemenuitem",text:y.text,value:y.value,active:y.value===m,onAction:()=>{tn.setValue(o,y.value),xn(o,Jc,{name:i}),Pn.focus(o)}}:{type:"nestedmenuitem",text:y.text,getSubmenuItems:()=>MB(o,i,y.items,m)}),rP=(o,i)=>sn(o,c=>oP(c)?Ln(c.value===i,c):rP(c.items,i)),gW=(o,i,c)=>{const m=i.shared.providers,y=c.bind(M=>rP(o.items,M)).orThunk(()=>zt(o.items).filter(oP)),_=o.label.map(M=>Ry(M,m)),C=qo.parts.field({dom:{},factory:{sketch:M=>tP({uid:M.uid,text:y.map(N=>N.text),icon:L.none(),tooltip:o.label,role:L.none(),fetch:(N,V)=>{const Z=MB(N,o.name,o.items,tn.getValue(N));V(Sm(Z,Sd.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:L.none()}))},onSetup:J(ne),getApi:J({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ur.config({}),Fu.withComp(y.map(N=>N.value),N=>ua(N.element,sP),(N,V)=>{rP(o.items,V).each(Z=>{Jn(N.element,sP,Z.value),xn(N,Id,{text:Z.text})})})]},"tox-listbox",i.shared)}}),R={dom:{tag:"div",classes:["tox-listboxfield"]},components:[C]};return qo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ke([_.toArray(),[R]]),fieldBehaviours:Lt([An.config({disabled:J(!o.enabled),onDisabled:M=>{qo.getField(M).each(An.disable)},onEnabled:M=>{qo.getField(M).each(An.enable)}})])})},yW=(o,i)=>({dom:{tag:"div",classes:o.classes},components:Ee(o.items,i.shared.interpreter)}),PB=(o,i)=>{const c=Ee(o.options,y=>({dom:{tag:"option",value:y.value,innerHtml:y.text}})),m=o.data.map(y=>Wn("initialValue",y)).getOr({});return{uid:o.uid,dom:{tag:"select",classes:o.selectClasses,attributes:o.selectAttributes},components:c,behaviours:ta(o.selectBehaviours,[Pn.config({}),tn.config({store:{mode:"manual",getValue:y=>gc(y.element),setValue:(y,_)=>{const C=zt(o.options);Oe(o.options,M=>M.value===_).isSome()?Zc(y.element,_):y.element.dom.selectedIndex===-1&&_===""&&C.each(M=>Zc(y.element,M.value))},...m}})])}},bW=cr({name:"HtmlSelect",configFields:[Ct("options"),Pa("selectBehaviours",[Pn,tn]),Be("selectClasses",[]),Be("selectAttributes",{}),jo("data")],factory:PB}),zB=(o,i,c)=>{const m=Ee(o.items,M=>({text:i.translate(M.text),value:M.value})),y=o.label.map(M=>Ry(M,i)),_=qo.parts.field({dom:{},...c.map(M=>({data:M})).getOr({}),selectAttributes:{size:o.size},options:m,factory:bW,selectBehaviours:Lt([An.config({disabled:()=>!o.enabled||i.isDisabled()}),ur.config({}),no("selectbox-change",[St(ku(),(M,N)=>{xn(M,Jc,{name:o.name})})])])}),C=o.size>1?L.none():L.some(Cd("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},i.icons)),R={dom:{tag:"div",classes:["tox-selectfield"]},components:Ke([[_],C.toArray()])};return qo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ke([y.toArray(),[R]]),fieldBehaviours:Lt([An.config({disabled:()=>!o.enabled||i.isDisabled(),onDisabled:M=>{qo.getField(M).each(An.disable)},onEnabled:M=>{qo.getField(M).each(An.enable)}}),La()])})},aP=J([Be("field1Name","field1"),Be("field2Name","field2"),mp("onLockedChange"),hp(["lockClass"]),Be("locked",!1),Au.field("coupledFieldBehaviours",[yo,tn])]),Gp=(o,i,c)=>gs(o,i,c).bind(yo.getCurrent),nR=(o,i)=>za({factory:qo,name:o,overrides:c=>({fieldBehaviours:Lt([no("coupled-input-behaviour",[St(nf(),m=>{Gp(m,c,i).each(y=>{gs(m,c,"lock").each(_=>{fo.isOn(_)&&c.onLockedChange(m,y,_)})})})])])})}),NB=J([nR("field1","field2"),nR("field2","field1"),za({factory:Qs,schema:[Ct("dom")],name:"lock",overrides:o=>({buttonBehaviours:Lt([fo.config({selected:o.locked,toggleClass:o.markers.lockClass,aria:{mode:"pressed"}})])})})]),LB=(o,i,c,m)=>({uid:o.uid,dom:o.dom,components:i,behaviours:Au.augment(o.coupledFieldBehaviours,[yo.config({find:L.some}),tn.config({store:{mode:"manual",getValue:y=>{const _=Gw(y,o,["field1","field2"]);return{[o.field1Name]:tn.getValue(_.field1()),[o.field2Name]:tn.getValue(_.field2())}},setValue:(y,_)=>{const C=Gw(y,o,["field1","field2"]);Qi(_,o.field1Name)&&tn.setValue(C.field1(),_[o.field1Name]),Qi(_,o.field2Name)&&tn.setValue(C.field2(),_[o.field2Name])}}})]),apis:{getField1:y=>gs(y,o,"field1"),getField2:y=>gs(y,o,"field2"),getLock:y=>gs(y,o,"lock")}}),Sc=Nr({name:"FormCoupledInputs",configFields:aP(),partFields:NB(),factory:LB,apis:{getField1:(o,i)=>o.getField1(i),getField2:(o,i)=>o.getField2(i),getLock:(o,i)=>o.getLock(i)}}),FB=o=>{const i={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},c=y=>y in i?i[y]:1;let m=o.value.toFixed(c(o.unit));return m.indexOf(".")!==-1&&(m=m.replace(/\.?0*$/,"")),m+o.unit},T_=o=>{const c=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(o);if(c!==null){const m=parseFloat(c[1]),y=c[2];return to.value({value:m,unit:y})}else return to.error(o)},iP=(o,i)=>{const c={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},m=y=>Mo(c,y);return o.unit===i?L.some(o.value):m(o.unit)&&m(i)?c[o.unit]===c[i]?L.some(o.value):L.some(o.value/c[o.unit]*c[i]):L.none()},oR=o=>L.none(),vW=(o,i)=>c=>iP(c,i).map(m=>({value:m*o,unit:i})),wW=(o,i)=>{const c=T_(o).toOptional(),m=T_(i).toOptional();return ac(c,m,(y,_)=>iP(y,_.unit).map(C=>_.value/C).map(C=>vW(C,_.unit)).getOr(oR)).getOr(oR)},_W=(o,i)=>{let c=oR;const m=dn("ratio-event"),y=Z=>Cd(Z,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Z]},i.icons),_=Sc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:i.translate(o.label.getOr("Constrain proportions"))}},components:[y("lock"),y("unlock")],buttonBehaviours:Lt([An.config({disabled:()=>!o.enabled||i.isDisabled()}),La(),ur.config({})])}),C=Z=>({dom:{tag:"div",classes:["tox-form__group"]},components:Z}),R=Z=>qo.parts.field({factory:Cv,inputClasses:["tox-textfield"],inputBehaviours:Lt([An.config({disabled:()=>!o.enabled||i.isDisabled()}),La(),ur.config({}),no("size-input-events",[St(Xh(),(K,Q)=>{xn(K,m,{isField1:Z})}),St(ku(),(K,Q)=>{xn(K,Jc,{name:o.name})})])]),selectOnFocus:!1}),M=Z=>({dom:{tag:"label",classes:["tox-label"]},components:[Ks(i.translate(Z))]}),N=Sc.parts.field1(C([qo.parts.label(M("Width")),R(!0)])),V=Sc.parts.field2(C([qo.parts.label(M("Height")),R(!1)]));return Sc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[N,V,C([M(Ek),_])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Z,K,Q)=>{T_(tn.getValue(Z)).each(ie=>{c(ie).each(_e=>{tn.setValue(K,FB(_e))})})},coupledFieldBehaviours:Lt([An.config({disabled:()=>!o.enabled||i.isDisabled(),onDisabled:Z=>{Sc.getField1(Z).bind(qo.getField).each(An.disable),Sc.getField2(Z).bind(qo.getField).each(An.disable),Sc.getLock(Z).each(An.disable)},onEnabled:Z=>{Sc.getField1(Z).bind(qo.getField).each(An.enable),Sc.getField2(Z).bind(qo.getField).each(An.enable),Sc.getLock(Z).each(An.enable)}}),La(),no("size-input-events2",[St(m,(Z,K)=>{const Q=K.event.isField1,ie=Q?Sc.getField1(Z):Sc.getField2(Z),_e=Q?Sc.getField2(Z):Sc.getField1(Z),He=ie.map(tn.getValue).getOr(""),De=_e.map(tn.getValue).getOr("");c=wW(He,De)})])])})},kW=(o,i,c)=>{const m=Ad.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ks(i.translate(o.label))]}),y=Ad.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),_=Ad.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Ad.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:o.min,maxX:o.max,getInitialValue:J(c.getOrThunk(()=>(Math.abs(o.max)-Math.abs(o.min))/2))},components:[m,y,_],sliderBehaviours:Lt([eu.self(),Pn.config({})]),onChoose:(C,R,M)=>{xn(C,Jc,{name:o.name,value:M})}})},CW=(o,i)=>{const c=R=>({dom:{tag:"th",innerHtml:i.translate(R)}}),m=R=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ee(R,c)}]}),y=R=>({dom:{tag:"td",innerHtml:i.translate(R)}}),_=R=>({dom:{tag:"tr"},components:Ee(R,y)}),C=R=>({dom:{tag:"tbody"},components:Ee(R,_)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[m(o.header),C(o.cells)],behaviours:Lt([ur.config({}),Pn.config({})])}},lP=(o,i)=>{const c=o.label.map(Q=>Ry(Q,i)),m=[An.config({disabled:()=>o.disabled||i.isDisabled()}),La(),Sn.config({mode:"execution",useEnter:o.multiline!==!0,useControlEnter:o.multiline===!0,execute:Q=>(zo(Q,QC),L.some(!0))}),no("textfield-change",[St(nf(),(Q,ie)=>{xn(Q,Jc,{name:o.name})}),St(W0(),(Q,ie)=>{xn(Q,Jc,{name:o.name})})]),ur.config({})],y=o.validation.map(Q=>wh.config({getRoot:ie=>Ml(ie.element),invalidClass:"tox-invalid",validator:{validate:ie=>{const _e=tn.getValue(ie),He=Q.validator(_e);return Gi.pure(He===!0?to.value(_e):to.error(He))},validateOnLoad:Q.validateOnLoad}})).toArray(),_=o.placeholder.fold(J({}),Q=>({placeholder:i.translate(Q)})),C=o.inputMode.fold(J({}),Q=>({inputmode:Q})),R={..._,...C},M=qo.parts.field({tag:o.multiline===!0?"textarea":"input",...o.data.map(Q=>({data:Q})).getOr({}),inputAttributes:R,inputClasses:[o.classname],inputBehaviours:Lt(Ke([m,y])),selectOnFocus:!1,factory:Cv}),N=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[M]}:M,Z=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),K=[An.config({disabled:()=>o.disabled||i.isDisabled(),onDisabled:Q=>{qo.getField(Q).each(An.disable)},onEnabled:Q=>{qo.getField(Q).each(An.enable)}}),La()];return p_(c,N,Z,K)},BB=(o,i,c)=>lP({name:o.name,multiline:!1,label:o.label,inputMode:o.inputMode,placeholder:o.placeholder,flex:!1,disabled:!o.enabled,classname:"tox-textfield",validation:L.none(),maximized:o.maximized,data:c},i),SW=(o,i,c)=>lP({name:o.name,multiline:!0,label:o.label,inputMode:L.none(),placeholder:o.placeholder,flex:!0,disabled:!o.enabled,classname:"tox-textarea",validation:L.none(),maximized:o.maximized,data:c},i),cS=(o,i)=>i.getAnimationRoot.fold(()=>o.element,c=>c(o)),qp=o=>o.dimension.property,xm=(o,i)=>o.dimension.getDimension(i),sR=(o,i)=>{const c=cS(o,i);Ei(c,[i.shrinkingClass,i.growingClass])},cP=(o,i)=>{xs(o.element,i.openClass),Jr(o.element,i.closedClass),un(o.element,qp(i),"0px"),gu(o.element)},rR=(o,i)=>{xs(o.element,i.closedClass),Jr(o.element,i.openClass),Ro(o.element,qp(i))},uP=(o,i,c,m)=>{c.setCollapsed(),un(o.element,qp(i),xm(i,o.element)),sR(o,i),cP(o,i),i.onStartShrink(o),i.onShrunk(o)},xW=(o,i,c,m)=>{const y=m.getOrThunk(()=>xm(i,o.element));c.setCollapsed(),un(o.element,qp(i),y),gu(o.element);const _=cS(o,i);xs(_,i.growingClass),Jr(_,i.shrinkingClass),cP(o,i),i.onStartShrink(o)},$B=(o,i,c)=>{const m=xm(i,o.element);(m==="0px"?uP:xW)(o,i,c,L.some(m))},aR=(o,i,c)=>{const m=cS(o,i),y=xi(m,i.shrinkingClass),_=xm(i,o.element);rR(o,i);const C=xm(i,o.element);(y?()=>{un(o.element,qp(i),_),gu(o.element)}:()=>{cP(o,i)})(),xs(m,i.shrinkingClass),Jr(m,i.growingClass),rR(o,i),un(o.element,qp(i),C),c.setExpanded(),i.onStartGrow(o)},EW=(o,i,c)=>{if(c.isExpanded()){Ro(o.element,qp(i));const m=xm(i,o.element);un(o.element,qp(i),m)}},VB=(o,i,c)=>{c.isExpanded()||aR(o,i,c)},TW=(o,i,c)=>{c.isExpanded()&&$B(o,i,c)},RW=(o,i,c)=>{c.isExpanded()&&uP(o,i,c)},HB=(o,i,c)=>c.isExpanded(),UB=(o,i,c)=>c.isCollapsed(),jB=(o,i,c)=>{const m=cS(o,i);return xi(m,i.growingClass)===!0},WB=(o,i,c)=>{const m=cS(o,i);return xi(m,i.shrinkingClass)===!0};var IW=Object.freeze({__proto__:null,refresh:EW,grow:VB,shrink:TW,immediateShrink:RW,hasGrown:HB,hasShrunk:UB,isGrowing:jB,isShrinking:WB,isTransitioning:(o,i,c)=>jB(o,i)||WB(o,i),toggleGrow:(o,i,c)=>{(c.isExpanded()?$B:aR)(o,i,c)},disableTransitions:sR,immediateGrow:(o,i,c)=>{c.isExpanded()||(rR(o,i),un(o.element,qp(i),xm(i,o.element)),sR(o,i),c.setExpanded(),i.onStartGrow(o),i.onGrown(o))}}),DW=Object.freeze({__proto__:null,exhibit:(o,i,c)=>{const m=i.expanded;return Zl(m?{classes:[i.openClass],styles:{}}:{classes:[i.closedClass],styles:Wn(i.dimension.property,"0px")})},events:(o,i)=>Ss([zg(Ig(),(c,m)=>{m.event.raw.propertyName===o.dimension.property&&(sR(c,o),i.isExpanded()&&Ro(c.element,o.dimension.property),(i.isExpanded()?o.onGrown:o.onShrunk)(c))})])}),MW=[Ct("closedClass"),Ct("openClass"),Ct("shrinkingClass"),Ct("growingClass"),jo("getAnimationRoot"),ko("onShrunk"),ko("onStartShrink"),ko("onGrown"),ko("onStartGrow"),Be("expanded",!1),Vi("dimension",$i("property",{width:[Go("property","width"),Go("getDimension",o=>vi(o)+"px")],height:[Go("property","height"),Go("getDimension",o=>Vr(o)+"px")]}))],PW=Object.freeze({__proto__:null,init:o=>{const i=D(o.expanded),c=()=>"expanded: "+i.get();return Ia({isExpanded:()=>i.get()===!0,isCollapsed:()=>i.get()===!1,setCollapsed:wt(i.set,!1),setExpanded:wt(i.set,!0),readState:c})}});const tu=Ja({fields:MW,name:"sliding",active:DW,apis:IW,state:PW}),ZB=o=>({isEnabled:()=>!An.isDisabled(o),setEnabled:i=>An.set(o,!i),setActive:i=>{const c=o.element;i?(Jr(c,"tox-tbtn--enabled"),Jn(c,"aria-pressed",!0)):(xs(c,"tox-tbtn--enabled"),ge(c,"aria-pressed"))},isActive:()=>xi(o.element,"tox-tbtn--enabled"),setText:i=>{xn(o,Id,{text:i})},setIcon:i=>xn(o,Vv,{icon:i})}),uS=(o,i,c,m,y=!0)=>tP({text:o.text,icon:o.icon,tooltip:o.tooltip,searchable:o.search.isSome(),role:m,fetch:(_,C)=>{const R={pattern:o.search.isSome()?mU(_):""};o.fetch(M=>{C(Sm(M,Sd.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:o.search}))},R,ZB(_))},onSetup:o.onSetup,getApi:ZB,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...y?[ur.config({})]:[]]},i,c.shared),zW=(o,i,c)=>{const m=_=>C=>{const R=!C.isActive();C.setActive(R),_.storage.set(R),c.shared.getSink().each(M=>{i().getOpt(M).each(N=>{Su(N.element),xn(N,wm,{name:_.name,value:_.storage.get()})})})},y=_=>C=>{C.setActive(_.storage.get())};return _=>{_(Ee(o,C=>{const R=C.text.fold(()=>({}),M=>({text:M}));return{type:C.type,active:!1,...R,onAction:m(C),onSetup:y(C)}}))}},iR=o=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:o,"aria-label":o}},components:[Ks(o)]}),GB=dn("leaf-label-event-id"),dP=({leaf:o,onLeafAction:i,visible:c,treeId:m,backstage:y})=>{const _=o.menu.map(R=>uS(R,"tox-mbtn",y,L.none(),c)),C=[iR(o.title)];return _.each(R=>C.push(R)),Qs.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(c?["tox-tree--leaf__label--visible"]:[])},components:C,role:"treeitem",action:R=>{i(o.id),R.getSystem().broadcastOn([`update-active-item-${m}`],{value:o.id})},eventOrder:{[jl()]:[GB,"keying"]},buttonBehaviours:Lt([...c?[ur.config({})]:[],fo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Pr.config({channels:{[`update-active-item-${m}`]:{onReceive:(R,M)=>{(M.value===o.id?fo.on:fo.off)(R)}}}}),no(GB,[St(jl(),(R,M)=>{const N=M.event.raw.code==="ArrowLeft",V=M.event.raw.code==="ArrowRight";N?(xl(R.element,".tox-tree--directory").each(Z=>{R.getSystem().getByDom(Z).each(K=>{nE(Z,".tox-tree--directory__label").each(Q=>{K.getSystem().getByDom(Q).each(Pn.focus)})})}),M.stop()):V&&M.stop()})])])})},NW=(o,i,c)=>Cd(o,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:c},i),dS=(o,i)=>NW(o,i,[]),lR=dn("directory-label-event-id"),LW=({directory:o,visible:i,noChildren:c,backstage:m})=>{const y=o.menu.map(R=>uS(R,"tox-mbtn",m,L.none())),_=[{dom:{tag:"div",classes:["tox-chevron"]},components:[dS("chevron-right",m.shared.providers.icons)]},iR(o.title)];y.each(R=>{_.push(R)});const C=R=>{xl(R.element,".tox-tree--directory").each(M=>{R.getSystem().getByDom(M).each(N=>fo.toggle(N))})};return Qs.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(i?["tox-tree--directory__label--visible"]:[])},components:_,action:C,eventOrder:{[jl()]:[lR,"keying"]},buttonBehaviours:Lt([...i?[ur.config({})]:[],no(lR,[St(jl(),(R,M)=>{const N=M.event.raw.code==="ArrowRight",V=M.event.raw.code==="ArrowLeft";N&&c&&M.stop(),(N||V)&&xl(R.element,".tox-tree--directory").each(Z=>{R.getSystem().getByDom(Z).each(K=>{!fo.isOn(K)&&N||fo.isOn(K)&&V?(C(R),M.stop()):V&&!fo.isOn(K)&&(xl(K.element,".tox-tree--directory").each(Q=>{nE(Q,".tox-tree--directory__label").each(ie=>{K.getSystem().getByDom(ie).each(Pn.focus)})}),M.stop())})})})])])})},FW=({children:o,onLeafAction:i,visible:c,treeId:m,backstage:y})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:o.map(_=>_.type==="leaf"?dP({leaf:_,onLeafAction:i,visible:c,treeId:m,backstage:y}):fS({directory:_,onLeafAction:i,labelTabstopping:c,treeId:m,backstage:y})),behaviours:Lt([tu.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking"}),Bn.config({})])}),fS=({directory:o,onLeafAction:i,labelTabstopping:c,treeId:m,backstage:y})=>{const{children:_}=o,C=R=>_.map(M=>M.type==="leaf"?dP({leaf:M,onLeafAction:i,visible:R,treeId:m,backstage:y}):fS({directory:M,onLeafAction:i,labelTabstopping:R,treeId:m,backstage:y}));return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[LW({directory:o,visible:c,noChildren:o.children.length===0,backstage:y}),FW({children:_,onLeafAction:i,visible:!1,treeId:m,backstage:y})],behaviours:Lt([fo.config({...o.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(R,M)=>{const N=R.components()[1],V=C(M);M?tu.grow(N):tu.shrink(N),Bn.set(N,V)}})])}},BW=(o,i)=>{const c=o.onLeafAction.getOr(ne),m=dn("tree-id"),y=o.items.map(_=>_.type==="leaf"?dP({leaf:_,onLeafAction:c,visible:!0,treeId:m,backstage:i}):fS({directory:_,onLeafAction:c,labelTabstopping:!0,treeId:m,backstage:i}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:y,behaviours:Lt([Sn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1})])}};var KB=Object.freeze({__proto__:null,events:(o,i)=>{const m=o.stream.streams.setup(o,i);return Ss([St(o.event,m),al(()=>i.cancel())].concat(o.cancelEvent.map(y=>[St(y,()=>i.cancel())]).getOr([])))}});const $W=(o,i)=>{let c=null;return{cancel:()=>{F(c)||(clearTimeout(c),c=null)},throttle:(..._)=>{F(c)&&(c=setTimeout(()=>{c=null,o.apply(null,_)},i))}}},fP=(o,i)=>{let c=null;const m=()=>{F(c)||(clearTimeout(c),c=null)};return{cancel:m,throttle:(..._)=>{m(),c=setTimeout(()=>{c=null,o.apply(null,_)},i)}}},hP=o=>{const i=D(null);return Ia({readState:()=>({timer:i.get()!==null?"set":"unset"}),setTimer:_=>{i.set(_)},cancel:()=>{const _=i.get();_!==null&&_.cancel()}})};var HW=Object.freeze({__proto__:null,throttle:hP,init:o=>o.stream.streams.state(o)});const YB=(o,i)=>{const c=o.stream,m=fP(o.onStream,c.delay);return i.setTimer(m),(y,_)=>{m.throttle(y,_),c.stopEvent&&_.stop()}};var XB=[Vi("stream",$i("mode",{throttle:[Ct("delay"),Be("stopEvent",!0),Go("streams",{setup:YB,state:hP})]})),Be("event","input"),jo("cancelEvent"),mp("onStream")];const mP=Ja({fields:XB,name:"streaming",active:KB,state:HW}),hS=(o,i,c)=>{const m=tn.getValue(c);tn.setValue(i,m),gP(i)},pP=(o,i)=>{const c=o.element,m=gc(c),y=c.dom;ua(c,"type")!=="number"&&i(y,m)},gP=o=>{pP(o,(i,c)=>i.setSelectionRange(c.length,c.length))},UW=(o,i)=>{pP(o,(c,m)=>c.setSelectionRange(i,m.length))},jW=(o,i,c)=>{if(o.selectsOver){const m=tn.getValue(i),y=o.getDisplayText(m),_=tn.getValue(c);return o.getDisplayText(_).indexOf(y)===0?L.some(()=>{hS(o,i,c),UW(i,y.length)}):L.none()}else return L.none()},yP=J("alloy.typeahead.itemexecute"),JB=(o,i,c,m)=>{const y=(Z,K,Q)=>{o.previewing.set(!1);const ie=Cr.getCoupled(Z,"sandbox");if(Ao.isOpen(ie))yo.getCurrent(ie).each(_e=>{No.getHighlighted(_e).fold(()=>{Q(_e)},()=>{U1(ie,_e.element,"keydown",K)})});else{const _e=He=>{yo.getCurrent(He).each(Q)};OT(o,C(Z),Z,ie,m,_e,Jl.HighlightMenuAndItem).get(ne)}},_=tL(o),C=Z=>K=>K.map(Q=>{const ie=pi(Q.menus),_e=le(ie,De=>Xe(De.items,Ae=>Ae.type==="item"));return tn.getState(Z).update(Ee(_e,De=>De.data)),Q}),R=Z=>yo.getCurrent(Z),M="typeaheadevents",N=[Pn.config({}),tn.config({onSetValue:o.onSetValue,store:{mode:"dataset",getDataKey:Z=>gc(Z.element),getFallbackEntry:Z=>({value:Z,meta:{}}),setValue:(Z,K)=>{Zc(Z.element,o.model.getDisplayText(K))},...o.initialData.map(Z=>Wn("initialValue",Z)).getOr({})}}),mP.config({stream:{mode:"throttle",delay:o.responseTime,stopEvent:!1},onStream:(Z,K)=>{const Q=Cr.getCoupled(Z,"sandbox");if(Pn.isFocused(Z)&&gc(Z.element).length>=o.minChars){const _e=R(Q).bind(De=>No.getHighlighted(De).map(tn.getValue));o.previewing.set(!0);const He=De=>{R(Q).each(Ae=>{_e.fold(()=>{o.model.selectsOver&&No.highlightFirst(Ae)},mt=>{No.highlightBy(Ae,bt=>tn.getValue(bt).value===mt.value),No.getHighlighted(Ae).orThunk(()=>(No.highlightFirst(Ae),L.none()))})})};OT(o,C(Z),Z,Q,m,He,Jl.HighlightJustMenu).get(ne)}},cancelEvent:bb()}),Sn.config({mode:"special",onDown:(Z,K)=>(y(Z,K,No.highlightFirst),L.some(!0)),onEscape:Z=>{const K=Cr.getCoupled(Z,"sandbox");return Ao.isOpen(K)?(Ao.close(K),L.some(!0)):L.none()},onUp:(Z,K)=>(y(Z,K,No.highlightLast),L.some(!0)),onEnter:Z=>{const K=Cr.getCoupled(Z,"sandbox"),Q=Ao.isOpen(K);if(Q&&!o.previewing.get())return R(K).bind(ie=>No.getHighlighted(ie)).map(ie=>(xn(Z,yP(),{item:ie}),!0));{const ie=tn.getValue(Z);return zo(Z,bb()),o.onExecute(K,Z,ie),Q&&Ao.close(K),L.some(!0)}}}),fo.config({toggleClass:o.markers.openClass,aria:{mode:"expanded"}}),Cr.config({others:{sandbox:Z=>zT(o,Z,{onOpen:()=>fo.on(Z),onClose:()=>fo.off(Z)})}}),no(M,[sr(Z=>{o.lazyTypeaheadComp.set(L.some(Z))}),al(Z=>{o.lazyTypeaheadComp.set(L.none())}),lf(Z=>{const K=ne;gM(o,C(Z),Z,m,K,Jl.HighlightMenuAndItem).get(ne)}),St(yP(),(Z,K)=>{const Q=Cr.getCoupled(Z,"sandbox");hS(o.model,Z,K.event.item),zo(Z,bb()),o.onItemExecute(Z,Q,K.event.item,tn.getValue(Z)),Ao.close(Q),gP(Z)})].concat(o.dismissOnBlur?[St(j0(),Z=>{const K=Cr.getCoupled(Z,"sandbox");xu(K.element).isNone()&&Ao.close(K)})]:[]))],V={[ud()]:[tn.name(),mP.name(),M],...o.eventOrder};return{uid:o.uid,dom:nL(ds(o,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{..._,...ta(o.typeaheadBehaviours,N)},eventOrder:V}},WW=J([jo("lazySink"),Ct("fetch"),Be("minChars",5),Be("responseTime",1e3),ko("onOpen"),Be("getHotspot",L.some),Be("getAnchorOverrides",J({})),Be("layouts",L.none()),Be("eventOrder",{}),O("model",{},[Be("getDisplayText",o=>o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.value),Be("selectsOver",!0),Be("populateFromBrowse",!0)]),ko("onSetValue"),ir("onExecute"),ko("onItemExecute"),Be("inputClasses",[]),Be("inputAttributes",{}),Be("inputStyles",{}),Be("matchWidth",!0),Be("useMinWidth",!1),Be("dismissOnBlur",!0),hp(["openClass"]),jo("initialData"),Pa("typeaheadBehaviours",[Pn,tn,mP,Sn,fo,Cr]),ii("lazyTypeaheadComp",()=>D(L.none)),ii("previewing",()=>D(!0))].concat(eL()).concat(yM())),QB=J([Iu({schema:[ff()],name:"menu",overrides:o=>({fakeFocus:!0,onHighlightItem:(i,c,m)=>{o.previewing.get()?o.lazyTypeaheadComp.get().each(y=>{jW(o.model,y,m).fold(()=>{o.model.selectsOver?(No.dehighlight(c,m),o.previewing.set(!0)):o.previewing.set(!1)},_=>{_(),o.previewing.set(!1)})}):o.lazyTypeaheadComp.get().each(y=>{o.model.populateFromBrowse&&hS(o.model,y,m)})},onExecute:(i,c)=>o.lazyTypeaheadComp.get().map(m=>(xn(m,yP(),{item:c}),!0)),onHover:(i,c)=>{o.previewing.set(!1),o.lazyTypeaheadComp.get().each(m=>{o.model.populateFromBrowse&&hS(o.model,m,c)})}})})]),ZW=Nr({name:"Typeahead",configFields:WW(),partFields:QB(),factory:JB}),Sf=o=>({...o,toCached:()=>Sf(o.toCached()),bindFuture:M=>Sf(o.bind(N=>N.fold(V=>Gi.pure(to.error(V)),V=>M(V)))),bindResult:M=>Sf(o.map(N=>N.bind(M))),mapResult:M=>Sf(o.map(N=>N.map(M))),mapError:M=>Sf(o.map(N=>N.mapError(M))),foldResult:(M,N)=>o.map(V=>V.fold(M,N)),withTimeout:(M,N)=>Sf(Gi.nu(V=>{let Z=!1;const K=setTimeout(()=>{Z=!0,V(to.error(N()))},M);o.get(Q=>{Z||(clearTimeout(K),V(Q))})}))}),cR=o=>Sf(Gi.nu(o)),e5=o=>Sf(Gi.pure(to.value(o))),t5={nu:cR,wrap:Sf,pure:e5,value:e5,error:o=>Sf(Gi.pure(to.error(o))),fromResult:o=>Sf(Gi.pure(o)),fromFuture:o=>Sf(o.map(to.value)),fromPromise:o=>cR(i=>{o.then(c=>{i(to.value(c))},c=>{i(to.error(c))})})},uR=(o,i,c=[],m,y,_)=>{const C=i.fold(()=>({}),N=>({action:N})),R={buttonBehaviours:Lt([zu.button(()=>!o.enabled||_.isDisabled()),La(),ur.config({}),no("button press",[Rx("click"),Rx("mousedown")])].concat(c)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...C},M=ds(R,{dom:m});return ds(M,{components:y})},n5=(o,i,c,m=[])=>{const y=o.tooltip.map(M=>({"aria-label":c.translate(M),title:c.translate(M)})).getOr({}),_={tag:"button",classes:["tox-tbtn"],attributes:y},C=o.icon.map(M=>$v(M,c.icons)),R=f_([C]);return uR(o,i,m,_,R,c)},bP=o=>{switch(o){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},o5=(o,i,c,m=[],y=[])=>{const _=c.translate(o.text),C=o.icon.map(K=>$v(K,c.icons)),R=[C.getOrThunk(()=>Ks(_))],M=o.buttonType.getOr(!o.primary&&!o.borderless?"secondary":"primary"),Z={tag:"button",classes:[...bP(M),...C.isSome()?["tox-button--icon"]:[],...o.borderless?["tox-button--naked"]:[],...y],attributes:{title:_}};return uR(o,i,m,Z,R,c)},s5=(o,i,c,m=[],y=[])=>{const _=o5(o,L.some(i),c,m,y);return Qs.sketch(_)},r5=(o,i)=>c=>{i==="custom"?xn(c,wm,{name:o,value:{}}):i==="submit"?zo(c,QC):i==="cancel"?zo(c,Nv):console.error("Unknown button type: ",i)},a5=(o,i)=>i==="menu",qW=(o,i)=>i==="custom"||i==="cancel"||i==="submit",KW=(o,i)=>i==="togglebutton",i5=(o,i)=>{var c,m,y;const _=L.from(o.icon).map(Ae=>Zp(Ae,i.icons)).map(es),C=Ae=>{xn(Ae,wm,{name:o.name,value:{setIcon:mt=>{_.map(bt=>bt.getOpt(Ae).each(Ut=>{Bn.set(Ut,[Zp(mt,i.icons)])}))}}})},R={...o,name:(c=o.name)!==null&&c!==void 0?c:"",primary:o.buttonType==="primary",buttonType:L.from(o.buttonType),tooltip:L.from(o.tooltip),icon:L.from(o.name),enabled:(m=o.enabled)!==null&&m!==void 0?m:!1,borderless:!1},M=R.tooltip.map(Ae=>({"aria-label":i.translate(Ae),title:i.translate(Ae)})).getOr({}),N=bP((y=o.buttonType)!==null&&y!==void 0?y:"secondary"),V=!!o.icon&&!!o.text,Z={tag:"button",classes:[...N.concat(["tox-button--icon"]),...o.active?["tox-button--enabled"]:[],...V?["tox-button--icon-and-text"]:[]],attributes:M},K=[],Q=i.translate(o.text),ie=Ks(Q),He=[...f_([_.map(Ae=>Ae.asSpec())]),...V?[ie]:[]],De=uR(R,L.some(C),K,Z,He,i);return Qs.sketch(De)},dR=(o,i,c)=>{if(a5(o,i)){const m=()=>C,y=o,_={...o,type:"menubutton",search:L.none(),onSetup:R=>(R.setEnabled(o.enabled),ne),fetch:zW(y.items,m,c)},C=es(uS(_,"tox-tbtn",c,L.none()));return C.asSpec()}else if(qW(o,i)){const m=r5(o.name,i),y={...o,borderless:!1};return s5(y,m,c.shared.providers,[])}else if(KW(o,i)){const m={...o,tooltip:o.tooltip,text:o.text.getOrUndefined(),buttonType:o.buttonType.getOrUndefined()};return i5(m,c.shared.providers)}else throw console.error("Unknown footer button type: ",i),new Error("Unknown footer button type")},YW=(o,i)=>{const c=r5(o.name,"custom");return UU(L.none(),qo.parts.field({factory:Qs,...o5(o,L.some(c),i,[Fu.memory(""),eu.self()])}))},XW={type:"separator"},l5=o=>({type:"menuitem",value:o.url,text:o.title,meta:{attach:o.attach},onAction:ne}),vP=(o,i)=>({type:"menuitem",value:i,text:o,meta:{attach:void 0},onAction:ne}),JW=o=>Ee(o,l5),c5=(o,i)=>Xe(i,c=>c.type===o),wP=(o,i)=>JW(c5(o,i)),u5=o=>wP("header",o.targets),fR=o=>wP("anchor",o.targets),QW=o=>L.from(o.anchorTop).map(i=>vP("<top>",i)).toArray(),eZ=o=>L.from(o.anchorBottom).map(i=>vP("<bottom>",i)).toArray(),tZ=o=>Ee(o,i=>vP(i,i)),nZ=o=>re(o,(i,c)=>i.length===0||c.length===0?i.concat(c):i.concat(XW,c),[]),hR=(o,i)=>{const c=o.toLowerCase();return Xe(i,m=>{var y;const _=m.meta!==void 0&&m.meta.text!==void 0?m.meta.text:m.text,C=(y=m.value)!==null&&y!==void 0?y:"";return ca(_.toLowerCase(),c)||ca(C.toLowerCase(),c)})},d5=(o,i,c)=>{var m,y;const _=tn.getValue(i),C=(y=(m=_==null?void 0:_.meta)===null||m===void 0?void 0:m.text)!==null&&y!==void 0?y:_.value;return c.getLinkInformation().fold(()=>[],M=>{const N=hR(C,tZ(c.getHistory(o)));return o==="file"?nZ([N,hR(C,u5(M)),hR(C,Ke([QW(M),fR(M),eZ(M)]))]):N})},f5=dn("aria-invalid"),oZ=(o,i,c,m)=>{const y=i.shared.providers,_=Ae=>{const mt=tn.getValue(Ae);c.addToHistory(mt.value,o.filetype)},C={...m.map(Ae=>({initialData:Ae})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":f5,type:"url"},minChars:0,responseTime:0,fetch:Ae=>{const mt=d5(o.filetype,Ae,c),bt=Sm(mt,Sd.BUBBLE_TO_SANDBOX,i,{isHorizontalMenu:!1,search:L.none()});return Gi.pure(bt)},getHotspot:Ae=>ie.getOpt(Ae),onSetValue:(Ae,mt)=>{Ae.hasConfigured(wh)&&wh.run(Ae).get(ne)},typeaheadBehaviours:Lt([...c.getValidationHandler().map(Ae=>wh.config({getRoot:mt=>Ml(mt.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(mt,bt)=>{V.getOpt(mt).each(Ut=>{Jn(Ut.element,"title",y.translate(bt))})}},validator:{validate:mt=>{const bt=tn.getValue(mt);return t5.nu(Ut=>{Ae({type:o.filetype,url:bt.value},Rt=>{if(Rt.status==="invalid"){const Kt=to.error(Rt.message);Ut(Kt)}else{const Kt=to.value(Rt.message);Ut(Kt)}})})},validateOnLoad:!1}})).toArray(),An.config({disabled:()=>!o.enabled||y.isDisabled()}),ur.config({}),no("urlinput-events",[St(nf(),Ae=>{const mt=gc(Ae.element),bt=mt.trim();bt!==mt&&Zc(Ae.element,bt),o.filetype==="file"&&xn(Ae,Jc,{name:o.name})}),St(ku(),Ae=>{xn(Ae,Jc,{name:o.name}),_(Ae)}),St(W0(),Ae=>{xn(Ae,Jc,{name:o.name}),_(Ae)})])]),eventOrder:{[nf()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Ae=>Ae.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:i.shared.getSink,parts:{menu:uT(!1,1,"normal")},onExecute:(Ae,mt,bt)=>{xn(mt,QC,{})},onItemExecute:(Ae,mt,bt,Ut)=>{_(Ae),xn(Ae,Jc,{name:o.name})}},R=qo.parts.field({...C,factory:ZW}),M=o.label.map(Ae=>Ry(Ae,y)),V=es(((Ae,mt,bt=Ae,Ut=Ae)=>Cd(bt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Ae],attributes:{title:y.translate(Ut),"aria-live":"polite",...mt.fold(()=>({}),Rt=>({id:Rt}))}},y.icons))("invalid",L.some(f5),"warning")),Z=es({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[V.asSpec()]}),K=c.getUrlPicker(o.filetype),Q=dn("browser.url.event"),ie=es({dom:{tag:"div",classes:["tox-control-wrap"]},components:[R,Z.asSpec()],behaviours:Lt([An.config({disabled:()=>!o.enabled||y.isDisabled()})])}),_e=es(s5({name:o.name,icon:L.some("browse"),text:o.label.getOr(""),enabled:o.enabled,primary:!1,buttonType:L.none(),borderless:!0},Ae=>zo(Ae,Q),y,[],["tox-browse-url"])),He=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Ke([[ie.asSpec()],K.map(()=>_e.asSpec()).toArray()])}),De=Ae=>{yo.getCurrent(Ae).each(mt=>{const bt=tn.getValue(mt),Ut={fieldname:o.name,...bt};K.each(Rt=>{Rt(Ut).get(Kt=>{tn.setValue(mt,Kt),xn(Ae,Jc,{name:o.name})})})})};return qo.sketch({dom:jU(),components:M.toArray().concat([He()]),fieldBehaviours:Lt([An.config({disabled:()=>!o.enabled||y.isDisabled(),onDisabled:Ae=>{qo.getField(Ae).each(An.disable),_e.getOpt(Ae).each(An.disable)},onEnabled:Ae=>{qo.getField(Ae).each(An.enable),_e.getOpt(Ae).each(An.enable)}}),La(),no("url-input-events",[St(Q,De)])])})},h5=(o,i)=>vh.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${o.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Qs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:T3(o.icon,i.icons),attributes:{title:i.translate(o.iconTooltip)}},action:c=>{xn(c,wm,{name:"alert-banner",value:o.url})},buttonBehaviours:Lt([aD()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:i.translate(o.text)}}]}),sZ=(o,i)=>{o.dom.checked=i},rZ=o=>o.dom.checked,ro=(o,i,c)=>{const m=M=>(M.element.dom.click(),L.some(!0)),y=qo.parts.field({factory:{sketch:Te},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Lt([eu.self(),An.config({disabled:()=>!o.enabled||i.isDisabled()}),ur.config({}),Pn.config({}),Fu.withElement(c,rZ,sZ),Sn.config({mode:"special",onEnter:m,onSpace:m,stopSpaceKeyup:!0}),no("checkbox-events",[St(ku(),(M,N)=>{xn(M,Jc,{name:o.name})})])])}),_=qo.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Ks(i.translate(o.label))],behaviours:Lt([g_.config({})])}),C=M=>Cd(M==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+M]},i.icons),R=es({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[C("checked"),C("unchecked")]});return qo.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[y,R.asSpec(),_],fieldBehaviours:Lt([An.config({disabled:()=>!o.enabled||i.isDisabled(),disableClass:"tox-checkbox--disabled",onDisabled:M=>{qo.getField(M).each(An.disable)},onEnabled:M=>{qo.getField(M).each(An.enable)}}),La()])})},mS=o=>o.presets==="presentation"?vh.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:o.html}}):vh.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:o.html,attributes:{role:"document"}},containerBehaviours:Lt([ur.config({}),Pn.config({})])}),va=o=>(i,c,m,y)=>Gt(c,"name").fold(()=>o(c,y,L.none()),_=>i.field(_,o(c,y,Gt(m,_)))),m5=o=>(i,c,m,y)=>{const _=ds(c,{source:"dynamic"});return va(o)(i,_,m,y)},p5={bar:va((o,i)=>NU(o,i.shared)),collection:va((o,i,c)=>WU(o,i.shared.providers,c)),alertbanner:va((o,i)=>h5(o,i.shared.providers)),input:va((o,i,c)=>BB(o,i.shared.providers,c)),textarea:va((o,i,c)=>SW(o,i.shared.providers,c)),label:va((o,i)=>uW(o,i.shared)),iframe:m5((o,i,c)=>lW(o,i.shared.providers,c)),button:va((o,i)=>YW(o,i.shared.providers)),checkbox:va((o,i,c)=>ro(o,i.shared.providers,c)),colorinput:va((o,i,c)=>JU(o,i.shared,i.colorinput,c)),colorpicker:va((o,i,c)=>_B(o,i.shared.providers,c)),dropzone:va((o,i,c)=>QM(o,i.shared.providers,c)),grid:va((o,i)=>kB(o,i.shared)),listbox:va((o,i,c)=>gW(o,i,c)),selectbox:va((o,i,c)=>zB(o,i.shared.providers,c)),sizeinput:va((o,i)=>_W(o,i.shared.providers)),slider:va((o,i,c)=>kW(o,i.shared.providers,c)),urlinput:va((o,i,c)=>oZ(o,i,i.urlinput,c)),customeditor:va(rW),htmlpanel:va(mS),imagepreview:va((o,i,c)=>eR(o,c)),table:va((o,i)=>CW(o,i.shared.providers)),tree:va((o,i)=>BW(o,i)),panel:va((o,i)=>yW(o,i))},g5={field:(o,i)=>i,record:J([])},_P=(o,i,c,m)=>{const y=ds(m,{shared:{interpreter:_=>y5(o,_,c,y)}});return y5(o,i,c,y)},y5=(o,i,c,m)=>Gt(p5,i.type).fold(()=>(console.error(`Unknown factory type "${i.type}", defaulting to container: `,i),i),y=>y(o,i,c,m)),R_=(o,i,c)=>y5(g5,o,i,c),Dy="layout-inset",mR=o=>o.x,b5=(o,i)=>o.x+o.width/2-i.width/2,kP=(o,i)=>o.x+o.width-i.width,CP=o=>o.y,pR=(o,i)=>o.y+o.height-i.height,gR=(o,i)=>o.y+o.height/2-i.height/2,pS=(o,i,c)=>ga(kP(o,i),pR(o,i),c.insetSouthwest(),ck(),"southwest",Ya(o,{right:0,bottom:3}),Dy),yR=(o,i,c)=>ga(mR(o),pR(o,i),c.insetSoutheast(),sw(),"southeast",Ya(o,{left:1,bottom:3}),Dy),gS=(o,i,c)=>ga(kP(o,i),CP(o),c.insetNorthwest(),Hg(),"northwest",Ya(o,{right:0,top:2}),Dy),yS=(o,i,c)=>ga(mR(o),CP(o),c.insetNortheast(),Vg(),"northeast",Ya(o,{left:1,top:2}),Dy),Em=(o,i,c)=>ga(b5(o,i),CP(o),c.insetNorth(),cl(),"north",Ya(o,{top:2}),Dy),bS=(o,i,c)=>ga(b5(o,i),pR(o,i),c.insetSouth(),Ug(),"south",Ya(o,{bottom:3}),Dy),SP=(o,i,c)=>ga(kP(o,i),gR(o,i),c.insetEast(),cE(),"east",Ya(o,{right:0}),Dy),v5=(o,i,c)=>ga(mR(o),gR(o,i),c.insetWest(),zb(),"west",Ya(o,{left:1}),Dy),aZ=o=>{switch(o){case"north":return Em;case"northeast":return yS;case"northwest":return gS;case"south":return bS;case"southeast":return yR;case"southwest":return pS;case"east":return SP;case"west":return v5}},w5=(o,i,c,m,y)=>SE(m).map(aZ).getOr(Em)(o,i,c,m,y),iZ=o=>{switch(o){case"north":return bS;case"northeast":return yR;case"northwest":return pS;case"south":return Em;case"southeast":return yS;case"southwest":return gS;case"east":return v5;case"west":return SP}},lZ=(o,i,c,m,y)=>SE(m).map(iZ).getOr(Em)(o,i,c,m,y),_5={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},cZ=(o,i,c)=>{const y={maxHeightFunction:vp()},_=()=>({type:"node",root:Wa(Br(o())),node:L.from(o()),bubble:qg(12,12,_5),layouts:{onRtl:()=>[yS],onLtr:()=>[gS]},overrides:y}),C=()=>({type:"hotspot",hotspot:i(),bubble:qg(-12,12,_5),layouts:{onRtl:()=>[Xa,Qr,Js],onLtr:()=>[Qr,Xa,Js]},overrides:y});return()=>c()?_():C()},uZ=(o,i,c)=>{const m=()=>({type:"node",root:Wa(Br(o())),node:L.from(o()),layouts:{onRtl:()=>[Em],onLtr:()=>[Em]}}),y=()=>({type:"hotspot",hotspot:i(),layouts:{onRtl:()=>[Js],onLtr:()=>[Js]}});return()=>c()?m():y()},dZ=(o,i)=>()=>({type:"selection",root:i(),getSelection:()=>{const c=o.selection.getRng();return L.some(Zb.range(ze.fromDom(c.startContainer),c.startOffset,ze.fromDom(c.endContainer),c.endOffset))}}),fZ=o=>i=>({type:"node",root:o(),node:i}),hZ=(o,i,c)=>{const m=by(o),y=()=>ze.fromDom(o.getBody()),_=()=>ze.fromDom(o.getContentAreaContainer()),C=()=>m||!c();return{inlineDialog:cZ(_,i,C),banner:uZ(_,i,C),cursor:dZ(o,y),node:fZ(y)}},k5=o=>(i,c)=>{AT(o)(i,c)},mZ=o=>()=>rM(o),pZ=o=>i=>h_(o,i),gZ=o=>i=>sM(o,i),yZ=o=>({colorPicker:k5(o),hasCustomColors:mZ(o),getColors:pZ(o),getColorCols:gZ(o)}),bZ=o=>()=>$3(o),vZ=o=>({isDraggableModal:bZ(o)}),C5=o=>{const i=D(sT(o)?"bottom":"top");return{isPositionedAtTop:()=>i.get()==="top",getDockingMode:i.get,setDockingMode:i.set}},S5=o=>Qi(o,"items"),xP=o=>Qi(o,"format"),x5=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],E5=o=>Mo(o,"items"),T5=o=>Mo(o,"block"),R5=o=>Mo(o,"inline"),wZ=o=>Mo(o,"selector"),EP=o=>re(o,(i,c)=>{if(E5(c)){const m=EP(c.items);return{customFormats:i.customFormats.concat(m.customFormats),formats:i.formats.concat([{title:c.title,items:m.formats}])}}else if(R5(c)||T5(c)||wZ(c)){const y=`custom-${x(c.name)?c.name:c.title.toLowerCase()}`;return{customFormats:i.customFormats.concat([{name:y,format:c}]),formats:i.formats.concat([{title:c.title,format:y,icon:c.icon}])}}else return{...i,formats:i.formats.concat(c)}},{customFormats:[],formats:[]}),A5=(o,i)=>{const c=EP(i),m=y=>{me(y,_=>{o.formatter.has(_.name)||o.formatter.register(_.name,_.format)})};return o.formatter?m(c.customFormats):o.on("init",()=>{m(c.customFormats)}),c.formats},I5=o=>A3(o).map(i=>{const c=A5(o,i);return I3(o)?x5.concat(c):c}).getOr(x5),O5=o=>{const i=_n(o);return i.length===1&&Zn(i,"title")},D5=(o,i,c)=>({...o,type:"formatter",isSelected:i(o.format),getStylePreview:c(o.format)}),M5=(o,i,c,m)=>{const y=M=>D5(M,c,m),_=M=>{const N=R(M.items);return{...M,type:"submenu",getStyleItems:J(N)}},C=M=>{const N=x(M.name)?M.name:dn(M.title),V=`custom-${N}`,Z={...M,type:"formatter",format:V,isSelected:c(V),getStylePreview:m(V)};return o.formatter.register(N,Z),Z},R=M=>Ee(M,N=>S5(N)?_(N):xP(N)?y(N):O5(N)?{...N,type:"separator"}:C(N));return R(i)},kh=o=>{const i=R=>()=>o.formatter.match(R),c=R=>()=>{const M=o.formatter.get(R);return M!==void 0?L.some({tag:M.length>0&&(M[0].inline||M[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(R))}):L.none()},m=D([]),y=D([]),_=D(!1);return o.on("PreInit",R=>{const M=I5(o),N=M5(o,M,i,c);m.set(N)}),o.on("addStyleModifications",R=>{const M=M5(o,R.items,i,c);y.set(M),_.set(R.replace)}),{getData:()=>{const R=_.get()?[]:m.get(),M=y.get();return R.concat(M)}}},bR=o=>Ne(o)&&o.nodeType===1,vR=Iy.trim,P5=o=>i=>!!(bR(i)&&(i.contentEditable===o||i.getAttribute("data-mce-contenteditable")===o)),TP=P5("true"),_Z=P5("false"),wR=(o,i,c,m,y)=>({type:o,title:i,url:c,level:m,attach:y}),z5=o=>{let i=o;for(;i=i.parentNode;){const c=i.contentEditable;if(c&&c!=="inherit")return TP(i)}return!1},RP=(o,i)=>Ee(zr(ze.fromDom(i),o),c=>c.dom),N5=o=>o.innerText||o.textContent,L5=o=>o.id?o.id:dn("h"),F5=o=>o&&o.nodeName==="A"&&(o.id||o.name)!==void 0,AP=o=>F5(o)&&$5(o),B5=o=>o&&/^(H[1-6])$/.test(o.nodeName),$5=o=>z5(o)&&!_Z(o),V5=o=>B5(o)&&$5(o),kZ=o=>B5(o)?parseInt(o.nodeName.substr(1),10):0,CZ=o=>{var i;const c=L5(o),m=()=>{o.id=c};return wR("header",(i=N5(o))!==null&&i!==void 0?i:"","#"+c,kZ(o),m)},H5=o=>{const i=o.id||o.name,c=N5(o);return wR("anchor",c||"#"+i,"#"+i,0,ne)},U5=o=>Ee(Xe(o,V5),CZ),SZ=o=>Ee(Xe(o,AP),H5),xZ=o=>RP("h1,h2,h3,h4,h5,h6,a:not([href])",o),EZ=o=>vR(o.title).length>0,j5={find:o=>{const i=xZ(o);return Xe(U5(i).concat(SZ(i)),EZ)}},Bu="tinymce-url-history",_R=5,W5=o=>x(o)&&/^https?/.test(o),TZ=o=>$(o)&&o.length<=_R&&$e(o,W5),Z5=o=>T(o)&&Fr(o,i=>!TZ(i)).isNone(),G5=()=>{const o=Pv.getItem(Bu);if(o===null)return{};let i;try{i=JSON.parse(o)}catch(c){if(c instanceof SyntaxError)return console.log("Local storage "+Bu+" was not valid JSON",c),{};throw c}return Z5(i)?i:(console.log("Local storage "+Bu+" was not valid format",i),{})},RZ=o=>{if(!Z5(o))throw new Error(`Bad format for history:
`+JSON.stringify(o));Pv.setItem(Bu,JSON.stringify(o))},q5=o=>{const i=G5();return Gt(i,o).getOr([])},K5=(o,i)=>{if(!W5(o))return;const c=G5(),m=Gt(c,i).getOr([]),y=Xe(m,_=>_!==o);c[i]=[o].concat(y).slice(0,_R),RZ(c)},AZ=o=>!!o,ite=o=>mo(Iy.makeMap(o,/[, ]/),AZ),di=o=>L.from(N3(o)),IP=o=>{const i=L.from(L3(o)).filter(AZ).map(ite);return di(o).fold(ln,c=>i.fold(It,m=>_n(m).length>0?m:!1))},IZ=(o,i)=>{const c=IP(o);return H(c)?c?di(o):L.none():c[i]?di(o):L.none()},kR=(o,i)=>IZ(o,i).map(c=>m=>Gi.nu(y=>{const _=(R,M)=>{if(!x(R))throw new Error("Expected value to be string");if(M!==void 0&&!T(M))throw new Error("Expected meta to be a object");y({value:R,meta:M})},C={filetype:i,fieldname:m.fieldname,...L.from(m.meta).getOr({})};c.call(o,_,m.value,C)})),Y5=o=>L.from(o).filter(x).getOrUndefined(),OZ=o=>PC(o)?L.some({targets:j5.find(o.getBody()),anchorTop:Y5(F3(o)),anchorBottom:Y5(B3(o))}):L.none(),DZ=o=>L.from(mD(o)),MZ=o=>({getHistory:q5,addToHistory:K5,getLinkInformation:()=>OZ(o),getValidationHandler:()=>DZ(o),getUrlPicker:i=>kR(o,i)}),PZ=(o,i,c)=>{const m=D(!1),y=C5(i),_={icons:()=>i.ui.registry.getAll().icons,menuItems:()=>i.ui.registry.getAll().menuItems,translate:Mu.translate,isDisabled:()=>i.mode.isReadOnly()||!i.ui.isEnabled(),getOption:i.options.get},C=MZ(i),R=kh(i),M=yZ(i),N=vZ(i),V=()=>m.get(),Z=_e=>m.set(_e),K={shared:{providers:_,anchors:hZ(i,c,y.isPositionedAtTop),header:y},urlinput:C,styles:R,colorinput:M,dialog:N,isContextMenuOpen:V,setContextMenuState:Z},Q={...K,shared:{...K.shared,interpreter:_e=>R_(_e,{},Q),getSink:o.popup}},ie={...K,shared:{...K.shared,interpreter:_e=>R_(_e,{},ie),getSink:o.dialog}};return{popup:Q,dialog:ie}},zZ=(o,i,c)=>{const m=(Rt,Kt)=>{me([i,...c],vn=>{vn.broadcastEvent(Rt,Kt)})},y=(Rt,Kt)=>{me([i,...c],vn=>{vn.broadcastOn([Rt],Kt)})},_=Rt=>y(dh(),{target:Rt.target}),C=yu(),R=Zi(C,"touchstart",_),M=Zi(C,"touchmove",Rt=>m(sI(),Rt)),N=Zi(C,"touchend",Rt=>m(Z0(),Rt)),V=Zi(C,"mousedown",_),Z=Zi(C,"mouseup",Rt=>{Rt.raw.button===0&&y(jk(),{target:Rt.target})}),K=Rt=>y(dh(),{target:ze.fromDom(Rt.target)}),Q=Rt=>{Rt.button===0&&y(jk(),{target:ze.fromDom(Rt.target)})},ie=()=>{me(o.editorManager.get(),Rt=>{o!==Rt&&Rt.dispatch("DismissPopups",{relatedTarget:o})})},_e=Rt=>m(vb(),RE(Rt)),He=Rt=>{y(oy(),{}),m(ap(),RE(Rt))},De=Br(ze.fromDom(o.getElement())),Ae=Ck(De,"scroll",Rt=>{requestAnimationFrame(()=>{const Kt=o.getContainer();if(Kt!=null){const So=KC(o,i.element).map(wn=>[wn.element,...wn.others]).getOr([]);io(So,wn=>as(wn,Rt.target))&&(o.dispatch("ElementScroll",{target:Rt.target.dom}),m(xx(),Rt))}})}),mt=()=>y(oy(),{}),bt=Rt=>{Rt.state&&y(dh(),{target:ze.fromDom(o.getContainer())})},Ut=Rt=>{y(dh(),{target:ze.fromDom(Rt.relatedTarget.getContainer())})};o.on("PostRender",()=>{o.on("click",K),o.on("tap",K),o.on("mouseup",Q),o.on("mousedown",ie),o.on("ScrollWindow",_e),o.on("ResizeWindow",He),o.on("ResizeEditor",mt),o.on("AfterProgressState",bt),o.on("DismissPopups",Ut)}),o.on("remove",()=>{o.off("click",K),o.off("tap",K),o.off("mouseup",Q),o.off("mousedown",ie),o.off("ScrollWindow",_e),o.off("ResizeWindow",He),o.off("ResizeEditor",mt),o.off("AfterProgressState",bt),o.off("DismissPopups",Ut),V.unbind(),R.unbind(),M.unbind(),N.unbind(),Z.unbind(),Ae.unbind()}),o.on("detach",()=>{me([i,...c],a2),me([i,...c],Rt=>Rt.destroy())})},ei=S2,Tm=hO,X5=J([Be("shell",!1),Ct("makeItem"),Be("setupItem",ne),Au.field("listBehaviours",[Bn])]),NZ=wc({name:"items",overrides:()=>({behaviours:Lt([Bn.config({})])})}),J5=J([NZ]),LZ=J("CustomList"),Q5=(o,i,c,m)=>{const y=(R,M)=>{C(R).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},N=>{const V=Bn.contents(N),Z=M.length,K=Z-V.length,Q=K>0?uo(K,()=>o.makeItem()):[],ie=V.slice(Z);me(ie,He=>Bn.remove(N,He)),me(Q,He=>Bn.append(N,He));const _e=Bn.contents(N);me(_e,(He,De)=>{o.setupItem(R,He,M[De],De)})})},_=o.shell?{behaviours:[Bn.config({})],components:[]}:{behaviours:[],components:i},C=R=>o.shell?L.some(R):gs(R,o,"items");return{uid:o.uid,dom:o.dom,components:_.components,behaviours:ta(o.listBehaviours,_.behaviours),apis:{setItems:y}}},e6=Nr({name:LZ(),configFields:X5(),partFields:J5(),factory:Q5,apis:{setItems:(o,i,c)=>{o.setItems(i,c)}}}),A_=J([Ct("dom"),Be("shell",!0),Pa("toolbarBehaviours",[Bn])]),lte=J([wc({name:"groups",overrides:()=>({behaviours:Lt([Bn.config({})])})})]),cte=(o,i,c,m)=>{const y=(R,M)=>{_(R).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},N=>{Bn.set(N,M)})},_=R=>o.shell?L.some(R):gs(R,o,"groups"),C=o.shell?{behaviours:[Bn.config({})],components:[]}:{behaviours:[],components:i};return{uid:o.uid,dom:o.dom,components:C.components,behaviours:ta(o.toolbarBehaviours,C.behaviours),apis:{setGroups:y},domModification:{attributes:{role:"group"}}}},Ch=Nr({name:"Toolbar",configFields:A_(),partFields:lte(),factory:cte,apis:{setGroups:(o,i,c)=>{o.setGroups(i,c)}}}),BZ=ne,$Z=ln,DP=J([]);var MP=Object.freeze({__proto__:null,setup:BZ,isDocked:$Z,getBehaviours:DP});const PP=o=>(la(er(o,"position"),"fixed")?L.none():zh(o)).orThunk(()=>{const m=ze.fromTag("span");return bl(o).bind(y=>{wl(y,m);const _=zh(m);return uc(m),_})}),t6=o=>PP(o).map(si).getOrThunk(()=>qs(0,0)),n6=(o,i)=>{const c=o.element;Jr(c,i.transitionClass),xs(c,i.fadeOutClass),Jr(c,i.fadeInClass),i.onShow(o)},VZ=(o,i)=>{const c=o.element;Jr(c,i.transitionClass),xs(c,i.fadeInClass),Jr(c,i.fadeOutClass),i.onHide(o)},HZ=(o,i)=>o.y<i.bottom&&o.bottom>i.y,o6=(o,i)=>o.y>=i.y,s6=(o,i)=>o.bottom<=i.bottom,vS=(o,i,c)=>({location:"top",leftX:i,topY:c.bounds.y-o.y}),CR=(o,i,c)=>({location:"bottom",leftX:i,bottomY:o.bottom-c.bounds.bottom}),zP=o=>o.box.x-o.win.x,UZ=(o,i,c)=>{const m=i.win,y=i.box,_=zP(i);return sn(o,C=>{switch(C){case"bottom":return s6(y,c.bounds)?L.none():L.some(CR(m,_,c));case"top":return o6(y,c.bounds)?L.none():L.some(vS(m,_,c));default:return L.none()}}).getOr({location:"no-dock"})},jZ=(o,i,c)=>$e(o,m=>{switch(m){case"bottom":return s6(i,c.bounds);case"top":return o6(i,c.bounds)}}),WZ=(o,i)=>{const c=i.optScrollEnv.fold(J(o.bounds.y),m=>m.scrollElmTop+(o.bounds.y-m.currentScrollTop));return qs(o.bounds.x,c)},r6=(o,i)=>{const c=i.optScrollEnv.fold(J(o.y),m=>o.y+m.currentScrollTop-m.scrollElmTop);return qs(o.x,c)},NP=(o,i,c)=>c.getInitialPos().map(m=>{const y=WZ(m,i);return{box:Ns(y.left,y.top,vi(o),Vr(o)),location:m.location}}),wS=(o,i,c,m,y)=>{const _=r6(i,c),C=Ns(_.left,_.top,i.width,i.height);m.setInitialPos({style:fa(o),position:xt(o,"position")||"static",bounds:C,location:y.location})},ZZ=(o,i,c,m,y)=>{m.getInitialPos().fold(()=>wS(o,i,c,m,y),()=>ne)},_S=(o,i,c)=>c.getInitialPos().bind(m=>{var y;switch(c.clearInitialPos(),m.position){case"static":return L.some({morph:"static"});case"absolute":const _=PP(o).getOr(Yr()),C=tr(_),R=(y=_.dom.scrollTop)!==null&&y!==void 0?y:0;return L.some({morph:"absolute",positionCss:Eu("absolute",Gt(m.style,"left").map(M=>i.x-C.x),Gt(m.style,"top").map(M=>i.y-C.y+R),Gt(m.style,"right").map(M=>C.right-i.right),Gt(m.style,"bottom").map(M=>C.bottom-i.bottom))});default:return L.none()}}),GZ=(o,i,c)=>NP(o,i,c).filter(({box:m})=>jZ(c.getModes(),m,i)).bind(({box:m})=>_S(o,m,c)),kS=o=>{switch(o.location){case"top":return L.some({morph:"fixed",positionCss:Eu("fixed",L.some(o.leftX),L.some(o.topY),L.none(),L.none())});case"bottom":return L.some({morph:"fixed",positionCss:Eu("fixed",L.some(o.leftX),L.none(),L.none(),L.some(o.bottomY))});default:return L.none()}},CS=(o,i,c)=>{const m=tr(o),y=Ea(),_=UZ(c.getModes(),{win:y,box:m},i);return _.location==="top"||_.location==="bottom"?(wS(o,m,i,c,_),kS(_)):L.none()},a6=(o,i,c)=>GZ(o,i,c).orThunk(()=>i.optScrollEnv.bind(m=>NP(o,i,c)).bind(({box:m,location:y})=>{const _=Ea(),C=zP({win:_,box:m}),R=y==="top"?vS(_,C,i):CR(_,C,i);return kS(R)})),qZ=(o,i,c)=>{const m=o.element;return la(er(m,"position"),"fixed")?a6(m,i,c):CS(m,i,c)},i6=(o,i,c)=>{const m=o.element;return NP(m,i,c).bind(({box:y})=>_S(m,y,c))},l6=(o,i,c,m)=>{const y=tr(o),_=Ea(),C=zP({win:_,box:y}),R=m(_,C,i);return R.location==="bottom"||R.location==="top"?(ZZ(o,y,i,c,R),kS(R)):L.none()},LP=(o,i,c)=>{c.setDocked(!1),me(["left","right","top","bottom","position"],m=>Ro(o.element,m)),i.onUndocked(o)},FP=(o,i,c,m)=>{const y=m.position==="fixed";c.setDocked(y),_k(o.element,m),(y?i.onDocked:i.onUndocked)(o)},SR=(o,i,c,m,y=!1)=>{i.contextual.each(_=>{_.lazyContext(o).each(C=>{const R=HZ(C,m.bounds);R!==c.isVisible()&&(c.setVisible(R),y&&!R?(Cu(o.element,[_.fadeOutClass]),_.onHide(o)):(R?n6:VZ)(o,_))})})},SS=(o,i,c,m,y)=>{SR(o,i,c,m,!0),FP(o,i,c,y.positionCss)},KZ=(o,i,c,m,y)=>{switch(y.morph){case"static":return LP(o,i,c);case"absolute":return FP(o,i,c,y.positionCss);case"fixed":return SS(o,i,c,m,y)}},YZ=(o,i,c)=>{const m=i.lazyViewport(o);SR(o,i,c,m),qZ(o,m,c).each(y=>{KZ(o,i,c,m,y)})},I_=(o,i,c)=>{const m=o.element;c.setDocked(!1);const y=i.lazyViewport(o);i6(o,y,c).each(_=>{switch(_.morph){case"static":{LP(o,i,c);break}case"absolute":{FP(o,i,c,_.positionCss);break}}}),c.setVisible(!0),i.contextual.each(_=>{Ei(m,[_.fadeInClass,_.fadeOutClass,_.transitionClass]),_.onShow(o)}),xS(o,i,c)},xS=(o,i,c)=>{o.getSystem().isConnected()&&YZ(o,i,c)},c6=(o,i,c)=>{c.isDocked()&&I_(o,i,c)},BP=o=>(i,c,m)=>{const y=c.lazyViewport(i);l6(i.element,y,m,o).each(C=>{SS(i,c,m,y,C)})},$P=BP(vS),VP=BP(CR);var HP=Object.freeze({__proto__:null,refresh:xS,reset:c6,isDocked:(o,i,c)=>c.isDocked(),getModes:(o,i,c)=>c.getModes(),setModes:(o,i,c,m)=>c.setModes(m),forceDockToTop:$P,forceDockToBottom:VP}),XZ=Object.freeze({__proto__:null,events:(o,i)=>Ss([zg(Ig(),(c,m)=>{o.contextual.each(y=>{xi(c.element,y.transitionClass)&&(Ei(c.element,[y.transitionClass,y.fadeInClass]),(i.isVisible()?y.onShown:y.onHidden)(c)),m.stop()})}),St(vb(),(c,m)=>{xS(c,o,i)}),St(xx(),(c,m)=>{xS(c,o,i)}),St(ap(),(c,m)=>{c6(c,o,i)})])}),JZ=[pa("contextual",[wr("fadeInClass"),wr("fadeOutClass"),wr("transitionClass"),mc("lazyContext"),ko("onShow"),ko("onShown"),ko("onHide"),ko("onHidden")]),Ur("lazyViewport",()=>({bounds:Ea(),optScrollEnv:L.none()})),Eg("modes",["top","bottom"],ma),ko("onDocked"),ko("onUndocked")],QZ=Object.freeze({__proto__:null,init:o=>{const i=D(!1),c=D(!0),m=ns(),y=D(o.modes),_=()=>`docked:  ${i.get()}, visible: ${c.get()}, modes: ${y.get().join(",")}`;return Ia({isDocked:i.get,setDocked:i.set,getInitialPos:m.get,setInitialPos:m.set,clearInitialPos:m.clear,isVisible:c.get,setVisible:c.set,getModes:y.get,setModes:y.set,readState:_})}});const wa=Ja({fields:JZ,name:"docking",active:XZ,apis:HP,state:QZ}),UP=J(dn("toolbar-height-change")),Sh={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},u6="tox-tinymce--toolbar-sticky-on",O_="tox-tinymce--toolbar-sticky-off",eG=(o,i)=>{const c=Mi(i),y=ed(i).dom.innerHeight,_=_l(c),C=ze.fromDom(o.elm),R=nd(C),M=Vr(C),N=R.y,V=N+M,Z=si(i),K=Vr(i),Q=Z.top,ie=Q+K,_e=Math.abs(Q-_.top)<2,He=Math.abs(ie-(_.top+y))<2;if(_e&&N<ie)sb(_.left,N-K,c);else if(He&&V>Q){const De=N-y+M+K;sb(_.left,De,c)}},jP=(o,i)=>Zn(wa.getModes(o),i),ES=o=>{const i=m=>Ff(m)+(parseInt(xt(m,"margin-top"),10)||0)+(parseInt(xt(m,"margin-bottom"),10)||0),c=o.element;Ml(c).each(m=>{const y="padding-"+wa.getModes(o)[0];if(wa.isDocked(o)){const _=vi(m);un(c,"width",_+"px"),un(m,y,i(c)+"px")}else Ro(c,"width"),Ro(m,y)})},WP=(o,i)=>{i?(xs(o,Sh.fadeOutClass),Cu(o,[Sh.transitionClass,Sh.fadeInClass])):(xs(o,Sh.fadeInClass),Cu(o,[Sh.fadeOutClass,Sh.transitionClass]))},d6=(o,i)=>{const c=ze.fromDom(o.getContainer());i?(Jr(c,u6),xs(c,O_)):(Jr(c,O_),xs(c,u6))},tG=(o,i)=>{const c=Mi(i);mf(c).filter(m=>!as(i,m)).filter(m=>as(m,ze.fromDom(c.dom.body))||nl(o,m)).each(()=>Su(i))},nG=(o,i)=>xu(o).orThunk(()=>i().toOptional().bind(c=>xu(c.element))),oG=(o,i,c)=>{o.inline||(i.header.isPositionedAtTop()||o.on("ResizeEditor",()=>{c().each(wa.reset)}),o.on("ResizeWindow ResizeEditor",()=>{c().each(ES)}),o.on("SkinLoaded",()=>{c().each(m=>{wa.isDocked(m)?wa.reset(m):wa.refresh(m)})}),o.on("FullscreenStateChanged",()=>{c().each(wa.reset)})),o.on("AfterScrollIntoView",m=>{c().each(y=>{wa.refresh(y);const _=y.element;kr(_)&&eG(m,_)})}),o.on("PostRender",()=>{d6(o,!1)})},sG=o=>o().map(wa.isDocked).getOr(!1),rG=()=>[Pr.config({channels:{[UP()]:{onReceive:ES}}})],f6=(o,i)=>{const c=ns(),m=i.getSink,y=R=>{m().each(M=>R(M.element))},_=R=>{o.inline||ES(R),d6(o,wa.isDocked(R)),R.getSystem().broadcastOn([oy()],{}),m().each(M=>M.getSystem().broadcastOn([oy()],{}))},C=o.inline?[]:rG();return[Pn.config({}),wa.config({contextual:{lazyContext:R=>{const M=Ff(R.element),N=o.inline?o.getContentAreaContainer():o.getContainer();return L.from(N).map(V=>{const Z=tr(ze.fromDom(V));return KC(o,R.element).fold(()=>{const Q=Z.height-M,ie=Z.y+(jP(R,"top")?0:M);return Ns(Z.x,ie,Z.width,Q)},Q=>{const ie=A1(Z,BT(Q));return Ns(ie.x,ie.y,ie.width,ie.height-M)})})},onShow:()=>{y(R=>WP(R,!0))},onShown:R=>{y(M=>Ei(M,[Sh.transitionClass,Sh.fadeInClass])),c.get().each(M=>{tG(R.element,M),c.clear()})},onHide:R=>{nG(R.element,m).fold(c.clear,c.set),y(M=>WP(M,!1))},onHidden:()=>{y(R=>Ei(R,[Sh.transitionClass]))},...Sh},lazyViewport:R=>KC(o,R.element).fold(()=>{const N=Ea(),V=P3(o),Z=N.y+(jP(R,"top")?V:0),K=N.height-(jP(R,"bottom")?V:0);return{bounds:Ns(N.x,Z,N.width,K),optScrollEnv:L.none()}},N=>({bounds:BT(N),optScrollEnv:L.some({currentScrollTop:N.element.dom.scrollTop,scrollElmTop:si(N.element).top})})),modes:[i.header.getDockingMode()],onDocked:_,onUndocked:_}),...C]};var aG=Object.freeze({__proto__:null,setup:oG,isDocked:sG,getBehaviours:f6});const iG=o=>{const i=o.editor,c=o.sticky?f6:DP;return{uid:o.uid,dom:o.dom,components:o.components,behaviours:Lt(c(i,o.sharedBackstage))}},h6=ht([Wr,Vi("items",Bl([mb([vy,rl("items",ma)]),ma]))].concat($C)),ZP=o=>eo("GroupToolbarButton",h6,o),GP=[_r("text"),_r("tooltip"),_r("icon"),li("search",!1,Bl([qf,ht([_r("placeholder")])],o=>H(o)?o?L.some({placeholder:L.none()}):L.none():L.some(o))),mc("fetch"),Ur("onSetup",()=>ne)],m6=ht([Wr,...GP]),p6=o=>eo("menubutton",m6,o),lG=ht([Wr,bT,wf,ky,dL,XH,_y,Vl("presets","normal",["normal","color","listpreview"]),c_(1),wy,JH]),cG=o=>eo("SplitButton",lG,o);var D_=cr({factory:(o,i)=>{const c=(y,_)=>{const C=Ee(_,R=>{const M={type:"menubutton",text:R.text,fetch:V=>{V(R.getItems())}},N=p6(M).mapError(V=>sl(V)).getOrDie();return uS(N,"tox-mbtn",i.backstage,L.some("menuitem"))});Bn.set(y,C)},m={focus:Sn.focusIn,setMenus:c};return{uid:o.uid,dom:o.dom,components:[],behaviours:Lt([Bn.config({}),no("menubar-events",[sr(y=>{o.onSetup(y)}),St(pc(),(y,_)=>{Ys(y.element,".tox-mbtn--active").each(C=>{md(_.event.target,".tox-mbtn").each(R=>{as(C,R)||y.getSystem().getByDom(C).each(M=>{y.getSystem().getByDom(R).each(N=>{Nu.expand(N),Nu.close(M),Pn.focus(N)})})})})}),St(Qh(),(y,_)=>{_.event.prevFocus.bind(C=>y.getSystem().getByDom(C).toOptional()).each(C=>{_.event.newFocus.bind(R=>y.getSystem().getByDom(R).toOptional()).each(R=>{Nu.isOpen(C)&&(Nu.expand(R),Nu.close(C))})})})]),Sn.config({mode:"flow",selector:".tox-mbtn",onEscape:y=>(o.onEscape(y),L.some(!0))}),ur.config({})]),apis:m,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ct("dom"),Ct("uid"),Ct("onEscape"),Ct("backstage"),Be("onSetup",ne)],apis:{focus:(o,i)=>{o.focus(i)},setMenus:(o,i,c)=>{o.setMenus(i,c)}}});const qP="\u26A1\uFE0FUpgrade",uG="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",dG=o=>({uid:o.uid,dom:o.dom,components:[{dom:{tag:"a",attributes:{href:uG,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:qP}}]}),g6="container",fG=[Pa("slotBehaviours",[])],KP=o=>"<alloy.field."+o+">",y6=o=>{const i=(()=>{const _=[];return{slot:(R,M)=>(_.push(R),sC(g6,KP(R),M)),record:J(_)}})(),c=o(i),m=i.record(),y=Ee(m,_=>za({name:_,pname:KP(_)}));return cC(g6,fG,y,hG,c)},hG=(o,i)=>{const c=_e=>k2(o),m=(_e,He)=>gs(_e,o,He),y=(_e,He)=>(De,Ae)=>gs(De,o,Ae).map(mt=>_e(mt,Ae)).getOr(He),_=_e=>(He,De)=>{me(De,Ae=>_e(He,Ae))},C=(_e,He)=>ua(_e.element,"aria-hidden")!=="true",R=(_e,He)=>{if(!C(_e)){const De=_e.element;Ro(De,"display"),ge(De,"aria-hidden"),xn(_e,G0(),{name:He,visible:!0})}},M=(_e,He)=>{if(C(_e)){const De=_e.element;un(De,"display","none"),Jn(De,"aria-hidden","true"),xn(_e,G0(),{name:He,visible:!1})}},N=y(C,!1),V=y(M),Z=_(V),K=_e=>Z(_e,c()),Q=y(R),ie={getSlotNames:c,getSlot:m,isShowing:N,hideSlot:V,hideAllSlots:K,showSlot:Q};return{uid:o.uid,dom:o.dom,components:i,behaviours:qc(o.slotBehaviours),apis:ie}},fi={...mo({getSlotNames:(o,i)=>o.getSlotNames(i),getSlot:(o,i,c)=>o.getSlot(i,c),isShowing:(o,i,c)=>o.isShowing(i,c),hideSlot:(o,i,c)=>o.hideSlot(i,c),hideAllSlots:(o,i)=>o.hideAllSlots(i),showSlot:(o,i,c)=>o.showSlot(i,c)},o=>tm(o)),sketch:y6},ER=ht([wf,bT,Ur("onShow",ne),Ur("onHide",ne),_y]),mG=o=>eo("sidebar",ER,o),pG=o=>{const{sidebars:i}=o.ui.registry.getAll();me(_n(i),c=>{const m=i[c],y=()=>la(L.from(o.queryCommandValue("ToggleSidebar")),c);o.ui.registry.addToggleButton(c,{icon:m.icon,tooltip:m.tooltip,onAction:_=>{o.execCommand("ToggleSidebar",!1,c),_.setActive(y())},onSetup:_=>{_.setActive(y());const C=()=>_.setActive(y());return o.on("ToggleSidebar",C),()=>{o.off("ToggleSidebar",C)}}})})},gG=o=>({element:()=>o.element.dom}),yG=(o,i)=>{const c=Ee(_n(i),m=>{const y=i[m],_=Cl(mG(y));return{name:m,getApi:gG,onSetup:_.onSetup,onShow:_.onShow,onHide:_.onHide}});return Ee(c,m=>{const y=D(ne);return o.slot(m.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Cy.unnamedEvents([Av(m,y),Iv(m,y),St(G0(),(_,C)=>{const R=C.event;Oe(c,N=>N.name===R.name).each(N=>{(R.visible?N.onShow:N.onHide)(N.getApi(_))})})])})})},YP=o=>fi.sketch(i=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:yG(i,o),slotBehaviours:Cy.unnamedEvents([sr(c=>fi.hideAllSlots(c))])})),XP=(o,i,c)=>{yo.getCurrent(o).each(y=>{Bn.set(y,[YP(i)]);const _=c==null?void 0:c.toLowerCase();x(_)&&Mo(i,_)&&yo.getCurrent(y).each(C=>{fi.showSlot(C,_),tu.immediateGrow(y),Ro(y.element,"width"),M_(o.element,"region")})})},M_=(o,i)=>{Jn(o,"role",i)},bG=(o,i)=>{yo.getCurrent(o).each(m=>{yo.getCurrent(m).each(_=>{tu.hasGrown(m)?fi.isShowing(_,i)?(tu.shrink(m),M_(o.element,"presentation")):(fi.hideAllSlots(_),fi.showSlot(_,i),M_(o.element,"region")):(fi.hideAllSlots(_),fi.showSlot(_,i),tu.grow(m),M_(o.element,"region"))})})},JP=o=>yo.getCurrent(o).bind(c=>tu.isGrowing(c)||tu.hasGrown(c)?yo.getCurrent(c).bind(_=>Oe(fi.getSlotNames(_),C=>fi.isShowing(_,C))):L.none()),QP=dn("FixSizeEvent"),ez=dn("AutoSizeEvent"),vG=o=>({uid:o.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Lt([ur.config({}),Pn.config({}),tu.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:i=>{yo.getCurrent(i).each(fi.hideAllSlots),zo(i,ez)},onGrown:i=>{zo(i,ez)},onStartGrow:i=>{xn(i,QP,{width:er(i.element,"width").getOr("")})},onStartShrink:i=>{xn(i,QP,{width:vi(i.element)+"px"})}}),Bn.config({}),yo.config({find:i=>{const c=Bn.contents(i);return zt(c)}})])}],behaviours:Lt([eu.childAt(0),no("sidebar-sliding-events",[St(QP,(i,c)=>{un(i.element,"width",c.event.width)}),St(ez,(i,c)=>{Ro(i.element,"width")})])])});var wG=Object.freeze({__proto__:null,block:(o,i,c,m)=>{Jn(o.element,"aria-busy",!0);const y=i.getRoot(o).getOr(o),_=Lt([Sn.config({mode:"special",onTab:()=>L.some(!0),onShiftTab:()=>L.some(!0)}),Pn.config({})]),C=m(y,_),R=y.getSystem().build(C);Bn.append(y,Sl(R)),R.hasConfigured(Sn)&&i.focus&&Sn.focusIn(R),c.isBlocked()||i.onBlock(o),c.blockWith(()=>Bn.remove(y,R))},unblock:(o,i,c)=>{ge(o.element,"aria-busy"),c.isBlocked()&&i.onUnblock(o),c.clear()}}),_G=[Ur("getRoot",L.none),ci("focus",!0),ko("onBlock"),ko("onUnblock")],yte=Object.freeze({__proto__:null,init:()=>{const o=Zg(),i=c=>{o.set({destroy:c})};return Ia({readState:o.isSet,blockWith:i,clear:o.clear,isBlocked:o.isSet})}});const Rm=Ja({fields:_G,name:"blocking",apis:wG,state:yte}),kG=o=>{const i=o.dom.attributes!==void 0?o.dom.attributes:[];return re(i,(c,m)=>m.name==="class"?c:{...c,[m.name]:m.value},{})},b6=o=>Array.prototype.slice.call(o.dom.classList,0),My=o=>{const i=ze.fromHtml(o),c=Pi(i),m=kG(i),y=b6(i),_=c.length===0?{}:{innerHtml:W1(i)};return{tag:el(i),classes:y,attributes:m,..._}},CG=o=>(i,c)=>({dom:{tag:"div",attributes:{"aria-label":o.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:My('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),v6=o=>yo.getCurrent(o).each(i=>Su(i.element)),SG=(o,i)=>{const c="tabindex",m=`data-mce-${c}`;L.from(o.iframeElement).map(ze.fromDom).each(y=>{i?(G(y,c).each(_=>Jn(y,m,_)),Jn(y,c,-1)):(ge(y,c),G(y,m).each(_=>{Jn(y,c,_),ge(y,m)}))})},xG=(o,i,c,m)=>{const y=i.element;if(SG(o,c),c)Rm.block(i,CG(m)),Ro(y,"display"),ge(y,"aria-hidden"),o.hasFocus()&&v6(i);else{const _=yo.getCurrent(i).exists(C=>Fb(C.element));Rm.unblock(i),un(y,"display","none"),Jn(y,"aria-hidden","true"),_&&o.focus()}},w6=o=>({uid:o.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Lt([Bn.config({}),Rm.config({focus:!1}),yo.config({find:i=>zt(i.components())})]),components:[]}),EG=o=>o.type==="focusin",TG=o=>EG(o)?(o.composed?zt(o.composedPath()):L.from(o.target)).map(ze.fromDom).filter(Jo).exists(c=>xi(c,"mce-pastebin")):!1,RG=(o,i,c)=>{const m=D(!1),y=ns(),_=R=>{m.get()&&!TG(R)&&(R.preventDefault(),v6(i()),o.editorManager.setActive(o))};o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",_),o.on("BeforeExecCommand",R=>{R.command.toLowerCase()==="mcefocus"&&R.value!==!0&&_(R)})});const C=R=>{R!==m.get()&&(m.set(R),xG(o,i(),R,c.providers),RT(o,R))};o.on("ProgressState",R=>{if(y.on(clearTimeout),Fe(R.time)){const M=j2.setEditorTimeout(o,()=>C(R.state),R.time);y.set(M)}else C(R.state),y.clear()})},bte=(o,i)=>re(o,(y,_)=>i(_,y.len).fold(J(y),R=>({len:R.finish,list:y.list.concat([R])})),{len:0,list:[]}).list,_6=(o,i,c)=>({within:o,extra:i,withinWidth:c}),tz=(o,i,c)=>{const m=bte(o,(R,M)=>{const N=c(R);return L.some({element:R,start:M,finish:M+N,width:N})}),y=Xe(m,R=>R.finish<=i),_=Tt(y,(R,M)=>R+M.width,0),C=m.slice(y.length);return{within:y,extra:C,withinWidth:_}},TS=o=>Ee(o,i=>i.element),AG=(o,i,c)=>{const m=TS(o.concat(i));return _6(m,[],c)},IG=(o,i,c,m)=>{const y=TS(o).concat([c]);return _6(y,TS(i),m)},Od=(o,i,c)=>_6(TS(o),[],c),OG=(o,i,c)=>{const m=tz(i,o,c);return m.extra.length===0?L.some(m):L.none()},k6=(o,i,c,m)=>{const y=OG(o,i,c).getOrThunk(()=>tz(i,o-c(m),c)),_=y.within,C=y.extra,R=y.withinWidth;return C.length===1&&C[0].width<=c(m)?AG(_,C,R):C.length>=1?IG(_,C,m,R):Od(_,C,R)},nz=(o,i)=>{const c=Ee(i,m=>Sl(m));Ch.setGroups(o,c)},DG=o=>sn(o,i=>xu(i.element).bind(c=>i.getSystem().getByDom(c).toOptional())),P_=(o,i,c)=>{const m=i.builtGroups.get();if(m.length===0)return;const y=wd(o,i,"primary"),_=Cr.getCoupled(o,"overflowGroup");un(y.element,"visibility","hidden");const C=m.concat([_]),R=DG(C);c([]),nz(y,C);const M=vi(y.element),N=k6(M,i.builtGroups.get(),V=>vi(V.element),_);N.extra.length===0?(Bn.remove(y,_),c([])):(nz(y,N.within),c(N.extra)),Ro(y.element,"visibility"),gu(y.element),R.each(Pn.focus)},C6=J([Pa("splitToolbarBehaviours",[Cr]),ii("builtGroups",()=>D([]))]),RR=J([hp(["overflowToggledClass"]),Kf("getOverflowBounds"),Ct("lazySink"),ii("overflowGroups",()=>D([])),ko("onOpened"),ko("onClosed")].concat(C6())),MG=J([za({factory:Ch,schema:A_(),name:"primary"}),Iu({schema:A_(),name:"overflow"}),Iu({name:"overflow-button"}),Iu({name:"overflow-group"})]),z_=J((o,i)=>{C1(o,Math.floor(i))}),PG=J([hp(["toggledClass"]),Ct("lazySink"),mc("fetch"),Kf("getBounds"),pa("fireDismissalEventInstead",[Be("event",eh())]),gd(),ko("onToggled")]),xf=J([Iu({name:"button",overrides:o=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Lt([fo.config({toggleClass:o.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:o.onToggled})])})}),Iu({factory:Ch,schema:A_(),name:"toolbar",overrides:o=>({toolbarBehaviours:Lt([Sn.config({mode:"cyclic",onEscape:i=>(gs(i,o,"button").each(Pn.focus),L.none())})])})})]),AR=ns(),IR=(o,i)=>{AR.set(!0),OR(o,i),AR.clear()},OR=(o,i)=>{const c=Cr.getCoupled(o,"toolbarSandbox");Ao.isOpen(c)?Ao.close(c):Ao.open(c,i.toolbar())},oz=(o,i,c,m)=>{const y=c.getBounds.map(C=>C()),_=c.lazySink(o).getOrDie();ea.positionWithinBounds(_,i,{anchor:{type:"hotspot",hotspot:o,layouts:m,overrides:{maxWidthFunction:z_()}}},y)},S6=(o,i,c,m,y)=>{Ch.setGroups(i,y),oz(o,i,c,m),fo.on(o)},zG=(o,i,c)=>{const m=ok(),y=(C,R)=>{const M=AR.get().getOr(!1);c.fetch().get(N=>{S6(o,R,c,i.layouts,N),m.link(o.element),M||Sn.focusIn(R)})},_=()=>{fo.off(o),AR.get().getOr(!1)||Pn.focus(o),m.unlink(o.element)};return{dom:{tag:"div",attributes:{id:m.id}},behaviours:Lt([Sn.config({mode:"special",onEscape:C=>(Ao.close(C),L.some(!0))}),Ao.config({onOpen:y,onClose:_,isPartOf:(C,R,M)=>am(R,M)||am(o,M),getAttachPoint:()=>c.lazySink(o).getOrDie()}),Pr.config({channels:{...fh({isExtraPart:ln,...c.fireDismissalEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({})}),...Wk({doReposition:()=>{Ao.getState(Cr.getCoupled(o,"toolbarSandbox")).each(C=>{oz(o,C,c,i.layouts)})}})}})])}},Py=Nr({name:"FloatingToolbarButton",factory:(o,i,c,m)=>({...Qs.sketch({...m.button(),action:y=>{OR(y,m)},buttonBehaviours:Au.augment({dump:m.button().buttonBehaviours},[Cr.config({others:{toolbarSandbox:y=>zG(y,c,o)}})])}),apis:{setGroups:(y,_)=>{Ao.getState(Cr.getCoupled(y,"toolbarSandbox")).each(C=>{S6(y,C,o,c.layouts,_)})},reposition:y=>{Ao.getState(Cr.getCoupled(y,"toolbarSandbox")).each(_=>{oz(y,_,o,c.layouts)})},toggle:y=>{OR(y,m)},toggleWithoutFocusing:y=>{IR(y,m)},getToolbar:y=>Ao.getState(Cr.getCoupled(y,"toolbarSandbox")),isOpen:y=>Ao.isOpen(Cr.getCoupled(y,"toolbarSandbox"))}}),configFields:PG(),partFields:xf(),apis:{setGroups:(o,i,c)=>{o.setGroups(i,c)},reposition:(o,i)=>{o.reposition(i)},toggle:(o,i)=>{o.toggle(i)},toggleWithoutFocusing:(o,i)=>{o.toggleWithoutFocusing(i)},getToolbar:(o,i)=>o.getToolbar(i),isOpen:(o,i)=>o.isOpen(i)}}),NG=J([Ct("items"),hp(["itemSelector"]),Pa("tgroupBehaviours",[Sn])]),LG=J([pm({name:"items",unit:"item"})]),x6=(o,i,c,m)=>({uid:o.uid,dom:o.dom,components:i,behaviours:ta(o.tgroupBehaviours,[Sn.config({mode:"flow",selector:o.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),RS=Nr({name:"ToolbarGroup",configFields:NG(),partFields:LG(),factory:x6}),sz=o=>Ee(o,i=>Sl(i)),E6=(o,i,c)=>{P_(o,c,m=>{c.overflowGroups.set(m),i.getOpt(o).each(y=>{Py.setGroups(y,sz(m))})})},T6=(o,i,c,m)=>{const y=es(Py.sketch({fetch:()=>Gi.nu(_=>{_(sz(o.overflowGroups.get()))}),layouts:{onLtr:()=>[Qr,Xa],onRtl:()=>[Xa,Qr],onBottomLtr:()=>[Xs,Gl],onBottomRtl:()=>[Gl,Xs]},getBounds:c.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:m["overflow-button"](),toolbar:m.overflow()},onToggled:(_,C)=>o[C?"onOpened":"onClosed"](_)}));return{uid:o.uid,dom:o.dom,components:i,behaviours:ta(o.splitToolbarBehaviours,[Cr.config({others:{overflowGroup:()=>RS.sketch({...m["overflow-group"](),items:[y.asSpec()]})}})]),apis:{setGroups:(_,C)=>{o.builtGroups.set(Ee(C,_.getSystem().build)),E6(_,y,o)},refresh:_=>E6(_,y,o),toggle:_=>{y.getOpt(_).each(C=>{Py.toggle(C)})},toggleWithoutFocusing:_=>{y.getOpt(_).each(Py.toggleWithoutFocusing)},isOpen:_=>y.getOpt(_).map(Py.isOpen).getOr(!1),reposition:_=>{y.getOpt(_).each(C=>{Py.reposition(C)})},getOverflow:_=>y.getOpt(_).bind(Py.getToolbar)},domModification:{attributes:{role:"group"}}}},R6=Nr({name:"SplitFloatingToolbar",configFields:RR(),partFields:MG(),factory:T6,apis:{setGroups:(o,i,c)=>{o.setGroups(i,c)},refresh:(o,i)=>{o.refresh(i)},reposition:(o,i)=>{o.reposition(i)},toggle:(o,i)=>{o.toggle(i)},toggleWithoutFocusing:(o,i)=>{o.toggle(i)},isOpen:(o,i)=>o.isOpen(i),getOverflow:(o,i)=>o.getOverflow(i)}}),FG=J([hp(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),ko("onOpened"),ko("onClosed")].concat(C6())),BG=J([za({factory:Ch,schema:A_(),name:"primary"}),za({factory:Ch,schema:A_(),name:"overflow",overrides:o=>({toolbarBehaviours:Lt([tu.config({dimension:{property:"height"},closedClass:o.markers.closedClass,openClass:o.markers.openClass,shrinkingClass:o.markers.shrinkingClass,growingClass:o.markers.growingClass,onShrunk:i=>{gs(i,o,"overflow-button").each(c=>{fo.off(c),Pn.focus(c)}),o.onClosed(i)},onGrown:i=>{Sn.focusIn(i),o.onOpened(i)},onStartGrow:i=>{gs(i,o,"overflow-button").each(fo.on)}}),Sn.config({mode:"acyclic",onEscape:i=>(gs(i,o,"overflow-button").each(Pn.focus),L.some(!0))})])})}),Iu({name:"overflow-button",overrides:o=>({buttonBehaviours:Lt([fo.config({toggleClass:o.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Iu({name:"overflow-group"})]),$G=(o,i)=>gs(o,i,"overflow").map(tu.hasGrown).getOr(!1),A6=(o,i)=>{gs(o,i,"overflow-button").bind(()=>gs(o,i,"overflow")).each(c=>{rz(o,i),tu.toggleGrow(c)})},rz=(o,i)=>{gs(o,i,"overflow").each(c=>{P_(o,i,m=>{const y=Ee(m,_=>Sl(_));Ch.setGroups(c,y)}),gs(o,i,"overflow-button").each(m=>{tu.hasGrown(c)&&fo.on(m)}),tu.refresh(c)})},VG=(o,i,c,m)=>{const y="alloy.toolbar.toggle",_=(C,R)=>{const M=Ee(R,C.getSystem().build);o.builtGroups.set(M)};return{uid:o.uid,dom:o.dom,components:i,behaviours:ta(o.splitToolbarBehaviours,[Cr.config({others:{overflowGroup:C=>RS.sketch({...m["overflow-group"](),items:[Qs.sketch({...m["overflow-button"](),action:R=>{zo(C,y)}})]})}}),no("toolbar-toggle-events",[St(y,C=>{A6(C,o)})])]),apis:{setGroups:(C,R)=>{_(C,R),rz(C,o)},refresh:C=>rz(C,o),toggle:C=>A6(C,o),isOpen:C=>$G(C,o)},domModification:{attributes:{role:"group"}}}},az=Nr({name:"SplitSlidingToolbar",configFields:FG(),partFields:BG(),factory:VG,apis:{setGroups:(o,i,c)=>{o.setGroups(i,c)},refresh:(o,i)=>{o.refresh(i)},toggle:(o,i)=>{o.toggle(i)},isOpen:(o,i)=>o.isOpen(i)}}),I6=o=>{const i=o.title.fold(()=>({}),c=>({attributes:{title:c}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...i},components:[RS.parts.items({})],items:o.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Lt([ur.config({}),Pn.config({})])}},DR=o=>RS.sketch(I6(o)),O6=(o,i)=>{const c=sr(m=>{const y=Ee(o.initGroups,DR);Ch.setGroups(m,y)});return Lt([zu.toolbarButton(o.providers.isDisabled),La(),Sn.config({mode:i,onEscape:o.onEscape,selector:".tox-toolbar__group"}),no("toolbar-events",[c])])},D6=o=>{const i=o.cyclicKeying?"cyclic":"acyclic";return{uid:o.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":I6({title:L.none(),items:[]}),"overflow-button":n5({name:"more",icon:L.some("more-drawer"),enabled:!0,tooltip:L.some("More..."),primary:!1,buttonType:L.none(),borderless:!1},L.none(),o.providers)},splitToolbarBehaviours:O6(o,i)}},HG=o=>{const i=D6(o),c=4,m=R6.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return R6.sketch({...i,lazySink:o.getSink,getOverflowBounds:()=>{const y=o.moreDrawerData.lazyHeader().element,_=nd(y),C=zf(y),R=nd(C),M=Math.max(C.dom.scrollHeight,R.height);return Ns(_.x+c,R.y,_.width-c*2,M)},parts:{...i.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}},components:[m],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:y=>o.onToggled(y,!0),onClosed:y=>o.onToggled(y,!1)})},M6=o=>{const i=az.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),c=az.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),m=D6(o);return az.sketch({...m,components:[i,c],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:y=>{y.getSystem().broadcastOn([UP()],{type:"opened"}),o.onToggled(y,!0)},onClosed:y=>{y.getSystem().broadcastOn([UP()],{type:"closed"}),o.onToggled(y,!1)}})},Hv=o=>{const i=o.cyclicKeying?"cyclic":"acyclic";return Ch.sketch({uid:o.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(o.type===Pu.scrolling?["tox-toolbar--scrolling"]:[])},components:[Ch.parts.groups({})],toolbarBehaviours:O6(o,i)})},MR=[ky,wf,_r("tooltip"),Vl("buttonType","secondary",["primary","secondary"]),ci("borderless",!1),mc("onAction")],UG=[...MR,Vp,vu("type",["button"])],jG=[...MR,ci("active",!1),vu("type",["togglebutton"])],iz={button:UG,togglebutton:jG},WG=[vu("type",["group"]),Eg("buttons",[],$i("type",iz))],ZG=$i("type",{...iz,group:WG}),GG=ht([Eg("buttons",[],ZG),mc("onShow"),mc("onHide")]),P6=o=>eo("view",GG,o),qG=(o,i)=>{var c,m;const y=o.type==="togglebutton",_=o.icon.map(mt=>Zp(mt,i.icons)).map(es),R=(()=>mt=>{const bt=Kt=>{_.map(vn=>vn.getOpt(mt).each(So=>{Bn.set(So,[Zp(Kt,i.icons)])}))},Ut=Kt=>{const vn=mt.element;Kt?(Jr(vn,"tox-button--enabled"),Jn(vn,"aria-pressed",!0)):(xs(vn,"tox-button--enabled"),ge(vn,"aria-pressed"))},Rt=()=>xi(mt.element,"tox-button--enabled");if(y)return o.onAction({setIcon:bt,setActive:Ut,isActive:Rt});if(o.type==="button")return o.onAction({setIcon:bt})})(),M={...o,name:y?o.text.getOr(o.icon.getOr("")):(c=o.text)!==null&&c!==void 0?c:o.icon.getOr(""),primary:o.buttonType==="primary",buttonType:L.from(o.buttonType),tooltip:o.tooltip,icon:o.icon,enabled:!0,borderless:o.borderless},N=bP((m=o.buttonType)!==null&&m!==void 0?m:"secondary"),V=y?o.text.map(i.translate):L.some(i.translate(o.text)),Z=V.map(Ks),K=M.tooltip.or(V).map(mt=>({"aria-label":i.translate(mt),title:i.translate(mt)})).getOr({}),Q=_.map(mt=>mt.asSpec()),ie=f_([Q,Z]),_e=o.icon.isSome()&&Z.isSome(),He={tag:"button",classes:N.concat(...o.icon.isSome()&&!_e?["tox-button--icon"]:[]).concat(..._e?["tox-button--icon-and-text"]:[]).concat(...o.borderless?["tox-button--naked"]:[]).concat(...o.type==="togglebutton"&&o.active?["tox-button--enabled"]:[]),attributes:K},De=[],Ae=uR(M,L.some(R),De,He,ie,i);return Qs.sketch(Ae)},z6=(o,i)=>qG(o,i),lz=(o,i)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ee(o.buttons,c=>z6(c,i))}),N6=ki().deviceType,KG=N6.isPhone(),L6=N6.isTablet(),YG=o=>{let i=!1;const c=Ee(o.buttons,m=>m.type==="group"?(i=!0,lz(m,o.providers)):z6(m,o.providers));return{uid:o.uid,dom:{tag:"div",classes:[i?"tox-view__toolbar":"tox-view__header",...KG||L6?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Lt([Pn.config({}),Sn.config({mode:"flow",selector:"button, .tox-button",focusInside:fy.OnEnterOrSpaceMode})]),components:i?c:[vh.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),vh.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:c})]}},F6=o=>({uid:o.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),XG=(o,i,c,m)=>{const y={getPane:_=>ei.getPart(_,o,"pane"),getOnShow:_=>o.viewConfig.onShow,getOnHide:_=>o.viewConfig.onHide};return{uid:o.uid,dom:o.dom,components:i,apis:y}};var Uv=Nr({name:"silver.View",configFields:[Ct("viewConfig")],partFields:[wc({factory:{sketch:YG},schema:[Ct("buttons"),Ct("providers")],name:"header"}),wc({factory:{sketch:F6},schema:[],name:"pane"})],factory:XG,apis:{getPane:(o,i)=>o.getPane(i),getOnShow:(o,i)=>o.getOnShow(i),getOnHide:(o,i)=>o.getOnHide(i)}});const JG=(o,i,c)=>Ii(i,(m,y)=>{const _=Cl(P6(m));return o.slot(y,Uv.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:_,components:[..._.buttons.length>0?[Uv.parts.header({buttons:_.buttons,providers:c})]:[],Uv.parts.pane({})]}))}),QG=(o,i)=>fi.sketch(c=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:JG(c,o,i),slotBehaviours:Cy.unnamedEvents([sr(m=>fi.hideAllSlots(m))])})),B6=o=>Oe(fi.getSlotNames(o),i=>fi.isShowing(o,i)),$6=o=>{const i=o.element;un(i,"display","none"),Jn(i,"aria-hidden","true")},eq=o=>{const i=o.element;Ro(i,"display"),ge(i,"aria-hidden")},tq=o=>({getContainer:J(o)}),V6=(o,i,c)=>{fi.getSlot(o,i).each(m=>{Uv.getPane(m).each(y=>{c(m)(tq(y.element.dom))})})},cz=(o,i)=>V6(o,i,Uv.getOnShow),uz=(o,i)=>V6(o,i,Uv.getOnHide);var PR=cr({factory:(o,i)=>{const _={setViews:(C,R)=>{Bn.set(C,[QG(R,i.backstage.shared.providers)])},whichView:C=>yo.getCurrent(C).bind(B6),toggleView:(C,R,M,N)=>yo.getCurrent(C).exists(V=>{const Z=B6(V),K=Z.exists(ie=>N===ie),Q=fi.getSlot(V,N).isSome();return Q&&(fi.hideAllSlots(V),K?($6(C),R()):(M(),eq(C),fi.showSlot(V,N),cz(V,N)),Z.each(ie=>uz(V,ie))),Q})};return{uid:o.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Lt([Bn.config({}),yo.config({find:C=>{const R=Bn.contents(C);return zt(R)}})]),apis:_}},name:"silver.ViewWrapper",configFields:[Ct("backstage")],apis:{setViews:(o,i,c)=>o.setViews(i,c),toggleView:(o,i,c,m,y)=>o.toggleView(i,c,m,y),whichView:(o,i)=>o.whichView(i)}});const nq=(o,i,c)=>{let m=!1;const y={getSocket:_=>ei.getPart(_,o,"socket"),setSidebar:(_,C,R)=>{ei.getPart(_,o,"sidebar").each(M=>XP(M,C,R))},toggleSidebar:(_,C)=>{ei.getPart(_,o,"sidebar").each(R=>bG(R,C))},whichSidebar:_=>ei.getPart(_,o,"sidebar").bind(JP).getOrNull(),getHeader:_=>ei.getPart(_,o,"header"),getToolbar:_=>ei.getPart(_,o,"toolbar"),setToolbar:(_,C)=>{ei.getPart(_,o,"toolbar").each(R=>{const M=Ee(C,DR);R.getApis().setGroups(R,M)})},setToolbars:(_,C)=>{ei.getPart(_,o,"multiple-toolbar").each(R=>{const M=Ee(C,N=>Ee(N,DR));e6.setItems(R,M)})},refreshToolbar:_=>{ei.getPart(_,o,"toolbar").each(R=>R.getApis().refresh(R))},toggleToolbarDrawer:_=>{ei.getPart(_,o,"toolbar").each(C=>{us(C.getApis().toggle,R=>R(C))})},toggleToolbarDrawerWithoutFocusing:_=>{ei.getPart(_,o,"toolbar").each(C=>{us(C.getApis().toggleWithoutFocusing,R=>R(C))})},isToolbarDrawerToggled:_=>ei.getPart(_,o,"toolbar").bind(C=>L.from(C.getApis().isOpen).map(R=>R(C))).getOr(!1),getThrobber:_=>ei.getPart(_,o,"throbber"),focusToolbar:_=>{ei.getPart(_,o,"toolbar").orThunk(()=>ei.getPart(_,o,"multiple-toolbar")).each(R=>{Sn.focusIn(R)})},setMenubar:(_,C)=>{ei.getPart(_,o,"menubar").each(R=>{D_.setMenus(R,C)})},focusMenubar:_=>{ei.getPart(_,o,"menubar").each(C=>{D_.focus(C)})},setViews:(_,C)=>{ei.getPart(_,o,"viewWrapper").each(R=>{PR.setViews(R,C)})},toggleView:(_,C)=>ei.getPart(_,o,"viewWrapper").exists(R=>PR.toggleView(R,()=>y.showMainView(_),()=>y.hideMainView(_),C)),whichView:_=>ei.getPart(_,o,"viewWrapper").bind(PR.whichView).getOrNull(),hideMainView:_=>{m=y.isToolbarDrawerToggled(_),m&&y.toggleToolbarDrawer(_),ei.getPart(_,o,"editorContainer").each(C=>{const R=C.element;un(R,"display","none"),Jn(R,"aria-hidden","true")})},showMainView:_=>{m&&y.toggleToolbarDrawer(_),ei.getPart(_,o,"editorContainer").each(C=>{const R=C.element;Ro(R,"display"),ge(R,"aria-hidden")}),y.refreshToolbar(_)}};return{uid:o.uid,dom:o.dom,components:i,apis:y,behaviours:o.behaviours}},oq=Tm.optional({factory:D_,name:"menubar",schema:[Ct("backstage")]}),sq=o=>o.type===Pu.sliding?M6:o.type===Pu.floating?HG:Hv,rq=Tm.optional({factory:{sketch:o=>e6.sketch({uid:o.uid,dom:o.dom,listBehaviours:Lt([Sn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Hv({type:o.type,uid:dn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:o.providers,onEscape:()=>(o.onEscape(),L.some(!0))}),setupItem:(i,c,m,y)=>{Ch.setGroups(c,m)},shell:!0})},name:"multiple-toolbar",schema:[Ct("dom"),Ct("onEscape")]}),aq=Tm.optional({factory:{sketch:o=>{const i=sq(o),c={type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),L.some(!0)),onToggled:(m,y)=>o.onToolbarToggled(y),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes};return i(c)}},name:"toolbar",schema:[Ct("dom"),Ct("onEscape"),Ct("getSink")]}),iq=Tm.optional({factory:{sketch:iG},name:"header",schema:[Ct("dom")]}),H6=Tm.optional({factory:{sketch:dG},name:"promotion",schema:[Ct("dom")]}),zR=Tm.optional({name:"socket",schema:[Ct("dom")]}),dz=Tm.optional({factory:{sketch:vG},name:"sidebar",schema:[Ct("dom")]}),U6=Tm.optional({factory:{sketch:w6},name:"throbber",schema:[Ct("dom")]}),zy=Tm.optional({factory:PR,name:"viewWrapper",schema:[Ct("backstage")]}),j6=o=>({uid:o.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:o.components}),lq=Tm.optional({factory:{sketch:j6},name:"editorContainer",schema:[]});var Rs=Nr({name:"OuterContainer",factory:nq,configFields:[Ct("dom"),Ct("behaviours")],partFields:[iq,oq,aq,rq,zR,dz,H6,U6,zy,lq],apis:{getSocket:(o,i)=>o.getSocket(i),setSidebar:(o,i,c,m)=>{o.setSidebar(i,c,m)},toggleSidebar:(o,i,c)=>{o.toggleSidebar(i,c)},whichSidebar:(o,i)=>o.whichSidebar(i),getHeader:(o,i)=>o.getHeader(i),getToolbar:(o,i)=>o.getToolbar(i),setToolbar:(o,i,c)=>{o.setToolbar(i,c)},setToolbars:(o,i,c)=>{o.setToolbars(i,c)},refreshToolbar:(o,i)=>o.refreshToolbar(i),toggleToolbarDrawer:(o,i)=>{o.toggleToolbarDrawer(i)},toggleToolbarDrawerWithoutFocusing:(o,i)=>{o.toggleToolbarDrawerWithoutFocusing(i)},isToolbarDrawerToggled:(o,i)=>o.isToolbarDrawerToggled(i),getThrobber:(o,i)=>o.getThrobber(i),setMenubar:(o,i,c)=>{o.setMenubar(i,c)},focusMenubar:(o,i)=>{o.focusMenubar(i)},focusToolbar:(o,i)=>{o.focusToolbar(i)},setViews:(o,i,c)=>{o.setViews(i,c)},toggleView:(o,i,c)=>o.toggleView(i,c),whichView:(o,i)=>o.whichView(i)}});const cq="file edit view insert format tools table help",W6={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},uq=(o,i,c)=>{const m=D3(c).split(/[ ,]/);return{text:o.title,getItems:()=>le(o.items,y=>{const _=y.toLowerCase();return _.trim().length===0?[]:io(m,C=>C===_)?[]:_==="separator"||_==="|"?[{type:"separator"}]:i.menuItems[_]?[i.menuItems[_]]:[]})}},fz=o=>o.split(" "),Z6=(o,i)=>{const c={...W6,...i.menus},m=_n(i.menus).length>0,y=i.menubar===void 0||i.menubar===!0?fz(cq):fz(i.menubar===!1?"":i.menubar),_=Xe(y,R=>{const M=Mo(W6,R);return m?M||Gt(i.menus,R).exists(N=>Mo(N,"items")):M}),C=Ee(_,R=>{const M=c[R];return uq({title:M.title,items:fz(M.items)},i,o)});return Xe(C,R=>{const M=N=>x(N)||N.type!=="separator";return R.getItems().length>0&&io(R.getItems(),M)})},hz=o=>{const i=()=>{o._skinLoaded=!0,YD(o)};return()=>{o.initialized?i():o.on("init",i)}},dq=(o,i)=>()=>T9(o,{message:i}),G6=(o,i,c)=>(o.on("remove",()=>c.unload(i)),c.load(i)),mz=(o,i)=>{const c=i+"/skin.min.css";return G6(o,c,o.ui.styleSheetLoader)},fq=(o,i)=>{if(zc(ze.fromDom(o.getElement()))){const m=i+"/skin.shadowdom.min.css";return G6(o,m,Lp.DOM.styleSheetLoader)}else return Promise.resolve()},q6=(o,i)=>{const c=Z3(i);return c&&i.contentCSS.push(c+(o?"/content.inline":"/content")+".min.css"),!Fp(i)&&x(c)?Promise.all([mz(i,c),fq(i,c)]).then(hz(i),dq(i,"Skin could not be loaded")):Promise.resolve(hz(i)())},hq=wt(q6,!1),mq=wt(q6,!0),NR=(o,i)=>c=>{const m=pd(),y=()=>{c.setActive(o.formatter.match(i));const _=o.formatter.formatChanged(i,c.setActive);m.set(_)};return o.initialized?y():o.once("init",y),()=>{o.off("init",y),m.clear()}},AS=(o,i,c)=>m=>{const y=()=>c(m),_=()=>{c(m),o.on(i,y)};return o.initialized?_():o.once("init",_),()=>{o.off("init",_),o.off(i,y)}},pz=o=>i=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("mceToggleFormat",!1,i.format)})},$u=(o,i)=>()=>o.execCommand(i),K6=(o,i,c)=>{const m=(R,M,N,V)=>{const Z=i.shared.providers.translate(R.title);if(R.type==="separator")return L.some({type:"separator",text:Z});if(R.type==="submenu"){const K=le(R.getStyleItems(),Q=>y(Q,M,V));return M===0&&K.length<=0?L.none():L.some({type:"nestedmenuitem",text:Z,enabled:K.length>0,getSubmenuItems:()=>le(R.getStyleItems(),Q=>y(Q,M,V))})}else return L.some({type:"togglemenuitem",text:Z,icon:R.icon,active:R.isSelected(V),enabled:!N,onAction:c.onAction(R),...R.getStylePreview().fold(()=>({}),K=>({meta:{style:K}}))})},y=(R,M,N)=>{const V=R.type==="formatter"&&c.isInvalid(R);return M===0?V?[]:m(R,M,!1,N).toArray():m(R,M,V,N).toArray()},_=R=>{const M=c.getCurrentValue(),N=c.shouldHide?0:1;return le(R,V=>y(V,N,M))};return{validateItems:_,getFetch:(R,M)=>(N,V)=>{const Z=M(),K=_(Z),Q=Sm(K,Sd.CLOSE_ON_EXECUTE,R,{isHorizontalMenu:!1,search:L.none()});V(Q)}}},N_=(o,i,c)=>{const m=c.dataset,y=m.type==="basic"?()=>Ee(m.data,_=>D5(_,c.isSelectedFor,c.getPreviewFor)):m.getData;return{items:K6(o,i,c),getStyleItems:y}},L_=(o,i,c)=>{const{items:m,getStyleItems:y}=N_(o,i,c),_=R=>({getComponent:J(R)}),C=AS(o,"NodeChange",R=>{const M=R.getComponent();c.updateText(M)});return tP({text:c.icon.isSome()?L.none():c.text,icon:c.icon,tooltip:L.from(c.tooltip),role:L.none(),fetch:m.getFetch(i,y),onSetup:C,getApi:_,columns:1,presets:"normal",classes:c.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",i.shared)},pq=o=>Ee(o,i=>{let c=i,m=i;const y=i.split("=");return y.length>1&&(c=y[0],m=y[1]),{title:c,format:m}}),gq=o=>({type:"basic",data:o});var F_;(function(o){o[o.SemiColon=0]="SemiColon",o[o.Space=1]="Space"})(F_||(F_={}));const Y6=(o,i)=>i===F_.SemiColon?o.replace(/;$/,"").split(";"):o.split(" "),gz=(o,i,c)=>{const m=o.options.get(i);return{type:"basic",data:pq(Y6(m,c))}},LR=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],X6=o=>{const i=()=>Oe(LR,R=>o.formatter.match(R.format)),c=R=>()=>o.formatter.match(R),m=R=>L.none,y=R=>{const N=i().fold(J("left"),V=>V.title.toLowerCase());xn(R,Vv,{icon:`align-${N}`})},_=gq(LR),C=R=>()=>Oe(LR,M=>M.format===R.format).each(M=>o.execCommand(M.command));return{tooltip:"Align",text:L.none(),icon:L.some("align-left"),isSelectedFor:c,getCurrentValue:L.none,getPreviewFor:m,onAction:C,updateText:y,dataset:_,shouldHide:!1,isInvalid:R=>!o.formatter.canApply(R.format)}},yq=(o,i)=>L_(o,i,X6(o)),bq=(o,i)=>{const c=N_(o,i,X6(o));o.ui.registry.addNestedMenuItem("align",{text:i.shared.providers.translate("Align"),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},J6=(o,i)=>{const c=i(),m=Ee(c,y=>y.format);return L.from(o.formatter.closest(m)).bind(y=>Oe(c,_=>_.format===y)).orThunk(()=>Ln(o.formatter.match("p"),{title:"Paragraph",format:"p"}))},Q6=o=>{const i="Paragraph",c=C=>()=>o.formatter.match(C),m=C=>()=>{const R=o.formatter.get(C);return R?L.some({tag:R.length>0&&(R[0].inline||R[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(C))}):L.none()},y=C=>{const M=J6(o,()=>_.data).fold(J(i),N=>N.title);xn(C,Id,{text:M})},_=gz(o,"block_formats",F_.SemiColon);return{tooltip:"Blocks",text:L.some(i),icon:L.none(),isSelectedFor:c,getCurrentValue:L.none,getPreviewFor:m,onAction:pz(o),updateText:y,dataset:_,shouldHide:!1,isInvalid:C=>!o.formatter.canApply(C.format)}},vq=(o,i)=>L_(o,i,Q6(o)),e$=(o,i)=>{const c=N_(o,i,Q6(o));o.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},wq=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],t$=o=>{const i=o.split(/\s*,\s*/);return Ee(i,c=>c.replace(/^['"]+|['"]+$/g,""))},_q=o=>{const i=()=>{const c=t$(o.toLowerCase());return $e(wq,m=>c.indexOf(m.toLowerCase())>-1)};return o.indexOf("-apple-system")===0&&i()},n$=o=>{const i="System Font",c=()=>{const N=ie=>ie?t$(ie)[0]:"",V=o.queryCommandValue("FontName"),Z=M.data,K=V?V.toLowerCase():"";return{matchOpt:Oe(Z,ie=>{const _e=ie.format;return _e.toLowerCase()===K||N(_e).toLowerCase()===N(K).toLowerCase()}).orThunk(()=>Ln(_q(K),{title:i,format:K})),font:V}},m=N=>V=>V.exists(Z=>Z.format===N),y=()=>{const{matchOpt:N}=c();return N},_=N=>()=>L.some({tag:"div",styles:N.indexOf("dings")===-1?{"font-family":N}:{}}),C=N=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontName",!1,N.format)})},R=N=>{const{matchOpt:V,font:Z}=c(),K=V.fold(J(Z),Q=>Q.title);xn(N,Id,{text:K})},M=gz(o,"font_family_formats",F_.SemiColon);return{tooltip:"Fonts",text:L.some(i),icon:L.none(),isSelectedFor:m,getCurrentValue:y,getPreviewFor:_,onAction:C,updateText:R,dataset:M,shouldHide:!1,isInvalid:ln}},kq=(o,i)=>L_(o,i,n$(o)),Cq=(o,i)=>{const c=N_(o,i,n$(o));o.ui.registry.addNestedMenuItem("fontfamily",{text:i.shared.providers.translate("Fonts"),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},Sq={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},o$=(()=>{const o="[0-9]+",c="[eE]"+("[+-]?"+o),m="\\.",y=R=>`(?:${R})?`,C=`[+-]?(?:${["Infinity",o+m+y(o)+y(c),m+o+y(c),o+y(c)].join("|")})`;return new RegExp(`^(${C})(.*)$`)})(),xq=(o,i)=>io(i,c=>io(Sq[c],m=>o===m)),FR=(o,i)=>L.from(o$.exec(o)).bind(m=>{const y=Number(m[1]),_=m[2];return xq(_,i)?L.some({value:y,unit:_}):L.none()}),s$=(o,i)=>FR(o,i).map(({value:c,unit:m})=>c+m),r$={tab:J(9),escape:J(27),enter:J(13),backspace:J(8),delete:J(46),left:J(37),up:J(38),right:J(39),down:J(40),space:J(32),home:J(36),end:J(35),pageUp:J(33),pageDown:J(34)},a$=(o,i,c)=>{let m=L.none();const y=Ae=>Ae.map(mt=>tn.getValue(mt)).getOr(""),_=AS(o,"NodeChange",Ae=>{const mt=Ae.getComponent();m=L.some(mt),c.updateInputValue(mt)}),C=Ae=>({getComponent:J(Ae)}),R=D(ne),M=dn("custom-number-input-events"),N=(Ae,mt,bt)=>{const Ut=y(m),Rt=c.getNewValue(Ut,Ae),Kt=Ut.length-`${Rt}`.length,vn=m.map(wn=>wn.element.dom.selectionStart-Kt),So=m.map(wn=>wn.element.dom.selectionEnd-Kt);c.onAction(Rt,bt),m.each(wn=>{tn.setValue(wn,Rt),mt&&(vn.each(bo=>wn.element.dom.selectionStart=bo),So.each(bo=>wn.element.dom.selectionEnd=bo))})},V=(Ae,mt)=>N((bt,Ut)=>bt-Ut,Ae,mt),Z=(Ae,mt)=>N((bt,Ut)=>bt+Ut,Ae,mt),K=Ae=>Ml(Ae.element).fold(L.none,mt=>(Su(mt),L.some(!0))),Q=Ae=>Fb(Ae.element)?(Nf(Ae.element).each(mt=>Su(mt)),L.some(!0)):L.none(),ie=(Ae,mt,bt,Ut)=>{const Rt=i.shared.providers.translate(bt),Kt=dn("altExecuting"),vn=()=>Ae(!0);return Qs.sketch({dom:{tag:"button",attributes:{title:Rt,"aria-label":Rt},classes:Ut.concat(mt)},components:[$v(mt,i.shared.providers.icons)],buttonBehaviours:Lt([no(Kt,[St(jl(),(So,wn)=>{(wn.event.raw.keyCode===r$.space()||wn.event.raw.keyCode===r$.enter())&&Ae(!1)}),St(jc(),vn),St(ms(),vn)])]),eventOrder:{[jl()]:[Kt,"keying"],[jc()]:[Kt,"alloy.base.behaviour"],[ms()]:[Kt,"alloy.base.behaviour"]}})},_e=es(ie(Ae=>V(!1,Ae),"minus","Decrease font size",["highlight-on-focus"])),He=es(ie(Ae=>Z(!1,Ae),"plus","Increase font size",["highlight-on-focus"])),De=es({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Cv.sketch({inputBehaviours:Lt([no(M,[Av({onSetup:_,getApi:C},R),Iv({getApi:C},R)]),no("input-update-display-text",[St(Id,(Ae,mt)=>{tn.setValue(Ae,mt.event.text)}),St(B1(),Ae=>{c.onAction(tn.getValue(Ae))}),St(ku(),Ae=>{c.onAction(tn.getValue(Ae))})]),Sn.config({mode:"special",onEnter:Ae=>(N(Te,!0,!0),L.some(!0)),onEscape:K,onUp:Ae=>(Z(!0,!1),L.some(!0)),onDown:Ae=>(V(!0,!1),L.some(!0)),onLeft:(Ae,mt)=>(mt.cut(),L.none()),onRight:(Ae,mt)=>(mt.cut(),L.none())})])})],behaviours:Lt([Pn.config({}),Sn.config({mode:"special",onEnter:Q,onSpace:Q,onEscape:K}),no("input-wrapper-events",[St(pc(),Ae=>{me([_e,He],mt=>{const bt=ze.fromDom(mt.get(Ae).element.dom);Fb(bt)&&wk(bt)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[_e.asSpec(),De.asSpec(),He.asSpec()],behaviours:Lt([Pn.config({}),Sn.config({mode:"flow",focusInside:fy.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Ae=>Fb(Ae.element)?L.none():(Su(Ae.element),L.some(!0))})])}},i$={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},Eq={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},Tq=(o,i)=>{const c=Math.pow(10,i);return Math.round(o*c)/c},Rq=(o,i)=>/[0-9.]+px$/.test(o)?Tq(parseInt(o,10)*72/96,i||0)+"pt":Gt(Eq,o).getOr(o),B_=o=>Gt(i$,o).getOr(""),l$=o=>{const i=()=>{let M=L.none();const N=R.data,V=o.queryCommandValue("FontSize");if(V)for(let Z=3;M.isNone()&&Z>=0;Z--){const K=Rq(V,Z),Q=B_(K);M=Oe(N,ie=>ie.format===V||ie.format===K||ie.format===Q)}return{matchOpt:M,size:V}},c=M=>N=>N.exists(V=>V.format===M),m=()=>{const{matchOpt:M}=i();return M},y=J(L.none),_=M=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontSize",!1,M.format)})},C=M=>{const{matchOpt:N,size:V}=i(),Z=N.fold(J(V),K=>K.title);xn(M,Id,{text:Z})},R=gz(o,"font_size_formats",F_.Space);return{tooltip:"Font sizes",text:L.some("12pt"),icon:L.none(),isSelectedFor:c,getPreviewFor:y,getCurrentValue:m,onAction:_,updateText:C,dataset:R,shouldHide:!1,isInvalid:ln}},Aq=(o,i)=>L_(o,i,l$(o)),Iq=o=>{var i;const c={step:1};return(i={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[o])!==null&&i!==void 0?i:c},Oq=16,Dq=o=>o>=0,Mq=o=>{const i=()=>o.queryCommandValue("FontSize");return{updateInputValue:m=>xn(m,Id,{text:i()}),onAction:(m,y)=>o.execCommand("FontSize",!1,m,{skip_focus:!y}),getNewValue:(m,y)=>{FR(m,["unsupportedLength","empty"]);const _=FR(m,["unsupportedLength","empty"]).or(FR(i(),["unsupportedLength","empty"])),C=_.map(V=>V.value).getOr(Oq),R=J2(o),M=_.map(V=>V.unit).filter(V=>V!=="").getOr(R),N=y(C,Iq(M).step);return`${Dq(N)?N:C}${M}`}}},Pq=(o,i)=>a$(o,i,Mq(o)),zq=(o,i)=>{const c=N_(o,i,l$(o));o.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},BR=(o,i)=>{const c="Paragraph",m=C=>()=>o.formatter.match(C),y=C=>()=>{const R=o.formatter.get(C);return R!==void 0?L.some({tag:R.length>0&&(R[0].inline||R[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(C))}):L.none()},_=C=>{const R=Z=>S5(Z)?le(Z.items,R):xP(Z)?[{title:Z.title,format:Z.format}]:[],M=le(I5(o),R),V=J6(o,J(M)).fold(J(c),Z=>Z.title);xn(C,Id,{text:V})};return{tooltip:"Formats",text:L.some(c),icon:L.none(),isSelectedFor:m,getCurrentValue:L.none,getPreviewFor:y,onAction:pz(o),updateText:_,shouldHide:dD(o),isInvalid:C=>!o.formatter.canApply(C.format),dataset:i}},Nq=(o,i)=>{const c={type:"advanced",...i.styles};return L_(o,i,BR(o,c))},Lq=(o,i)=>{const c={type:"advanced",...i.styles},m=N_(o,i,BR(o,c));o.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:()=>m.items.validateItems(m.getStyleItems())})},c$=J([Ct("toggleClass"),Ct("fetch"),mp("onExecute"),Be("getHotspot",L.some),Be("getAnchorOverrides",J({})),gd(),mp("onItemExecute"),jo("lazySink"),Ct("dom"),ko("onOpen"),Pa("splitDropdownBehaviours",[Cr,Sn,Pn]),Be("matchWidth",!1),Be("useMinWidth",!1),Be("eventOrder",{}),jo("role")].concat(yM())),u$=za({factory:Qs,schema:[Ct("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Lt([Pn.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:i=>{i.getSystem().getByUid(o.uid).each(rf)},buttonBehaviours:Lt([fo.config({toggleOnExecute:!1,toggleClass:o.toggleClass})])})}),Fq=za({factory:Qs,schema:[Ct("dom")],name:"button",defaults:()=>({buttonBehaviours:Lt([Pn.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:i=>{i.getSystem().getByUid(o.uid).each(c=>{o.onExecute(c,i)})}})}),Bq=J([u$,Fq,wc({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[Ct("text")],name:"aria-descriptor"}),Iu({schema:[ff()],name:"menu",defaults:o=>({onExecute:(i,c)=>{i.getSystem().getByUid(o.uid).each(m=>{o.onItemExecute(m,i,c)})}})}),_F()]),$q=(o,i,c,m)=>{const y=V=>{yo.getCurrent(V).each(Z=>{No.highlightFirst(Z),Sn.focusIn(Z)})},_=V=>{gM(o,Te,V,m,y,Jl.HighlightMenuAndItem).get(ne)},C=V=>(_(V),L.some(!0)),R=V=>{const Z=wd(V,o,"button");return rf(Z),L.some(!0)},M={...Ss([sr((V,Z)=>{gs(V,o,"aria-descriptor").each(Q=>{const ie=dn("aria");Jn(Q.element,"id",ie),Jn(V.element,"aria-describedby",ie)})})]),...V2(L.some(_))},N={repositionMenus:V=>{fo.isOn(V)&&CF(V)}};return{uid:o.uid,dom:o.dom,components:i,apis:N,eventOrder:{...o.eventOrder,[ji()]:["disabling","toggling","alloy.base.behaviour"]},events:M,behaviours:ta(o.splitDropdownBehaviours,[Cr.config({others:{sandbox:V=>{const Z=wd(V,o,"arrow");return zT(o,V,{onOpen:()=>{fo.on(Z),fo.on(V)},onClose:()=>{fo.off(Z),fo.off(V)}})}}}),Sn.config({mode:"special",onSpace:R,onEnter:R,onDown:C}),Pn.config({}),fo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:o.role.getOr("button"),"aria-haspopup":!0}}}},$R=Nr({name:"SplitDropdown",configFields:c$(),partFields:Bq(),factory:$q,apis:{repositionMenus:(o,i)=>o.repositionMenus(i)}}),d$=o=>({isEnabled:()=>!An.isDisabled(o),setEnabled:i=>An.set(o,!i),setText:i=>xn(o,Id,{text:i}),setIcon:i=>xn(o,Vv,{icon:i})}),Vq=o=>({setActive:i=>{fo.set(o,i)},isActive:()=>fo.isOn(o),isEnabled:()=>!An.isDisabled(o),setEnabled:i=>An.set(o,!i),setText:i=>xn(o,Id,{text:i}),setIcon:i=>xn(o,Vv,{icon:i})}),f$=(o,i)=>o.map(c=>({"aria-label":i.translate(c),title:i.translate(c)})).getOr({}),h$=dn("focus-button"),VR=(o,i,c,m,y)=>{const _=i.map(R=>es(eP(R,"tox-tbtn",y))),C=o.map(R=>es(Zp(R,y.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(i.isSome()?["tox-tbtn--select"]:[]),attributes:f$(c,y)},components:f_([C.map(R=>R.asSpec()),_.map(R=>R.asSpec())]),eventOrder:{[is()]:["focusing","alloy.base.behaviour",Oy],[sf()]:[Oy,"toolbar-group-button-events"]},buttonBehaviours:Lt([zu.toolbarButton(y.isDisabled),La(),no(Oy,[sr((R,M)=>x_(R)),St(Id,(R,M)=>{_.bind(N=>N.getOpt(R)).each(N=>{Bn.set(N,[Ks(y.translate(M.event.text))])})}),St(Vv,(R,M)=>{C.bind(N=>N.getOpt(R)).each(N=>{Bn.set(N,[Zp(M.event.icon,y.icons)])})}),St(is(),(R,M)=>{M.event.prevent(),zo(R,h$)})])].concat(m.getOr([])))}},Hq=(o,i,c,m)=>{const y=i.shared,_=D(ne),C={toolbarButtonBehaviours:[],getApi:d$,onSetup:o.onSetup},R=[no("toolbar-group-button-events",[Av(C,_),Iv(C,_)])];return Py.sketch({lazySink:y.getSink,fetch:()=>Gi.nu(M=>{M(Ee(c(o.items),DR))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:VR(o.icon,o.text,o.tooltip,L.some(R),y.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:m}}}})},HR=(o,i,c)=>{var m;const y=D(ne),_=VR(o.icon,o.text,o.tooltip,L.none(),c);return Qs.sketch({dom:_.dom,components:_.components,eventOrder:tR,buttonBehaviours:{...Lt([no("toolbar-button-events",[RB({onAction:o.onAction,getApi:i.getApi}),Av(i,y),Iv(i,y)]),zu.toolbarButton(()=>!o.enabled||c.isDisabled()),La()].concat(i.toolbarButtonBehaviours)),[Oy]:(m=_.buttonBehaviours)===null||m===void 0?void 0:m[Oy]}})},Uq=(o,i)=>m$(o,i,[]),m$=(o,i,c)=>HR(o,{toolbarButtonBehaviours:c.length>0?[no("toolbarButtonWith",c)]:[],getApi:d$,onSetup:o.onSetup},i),jq=(o,i)=>yz(o,i,[]),yz=(o,i,c)=>HR(o,{toolbarButtonBehaviours:[Bn.config({}),fo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(c.length>0?[no("toolbarToggleButtonWith",c)]:[]),getApi:Vq,onSetup:o.onSetup},i),UR=(o,i,c)=>m=>Gi.nu(y=>i.fetch(y)).map(y=>L.from(FT(ds(qC(dn("menu-value"),y,_=>{i.onItemAction(o(m),_)},i.columns,i.presets,Sd.CLOSE_ON_EXECUTE,i.select.getOr(ln),c),{movement:IT(i.columns,i.presets),menuBehaviours:Cy.unnamedEvents(i.columns!=="auto"?[]:[sr((_,C)=>{$D(_,4,Q3(i.presets)).each(({numRows:R,numColumns:M})=>{Sn.setGridSize(_,R,M)})})])})))),Wq=(o,i)=>{const c=_=>({isEnabled:()=>!An.isDisabled(_),setEnabled:C=>An.set(_,!C),setIconFill:(C,R)=>{Ys(_.element,`svg path[id="${C}"], rect[id="${C}"]`).each(M=>{Jn(M,"fill",R)})},setActive:C=>{Jn(_.element,"aria-pressed",C),Ys(_.element,"span").each(R=>{_.getSystem().getByDom(R).each(M=>fo.set(M,C))})},isActive:()=>Ys(_.element,"span").exists(C=>_.getSystem().getByDom(C).exists(fo.isOn)),setText:C=>Ys(_.element,"span").each(R=>_.getSystem().getByDom(R).each(M=>xn(M,Id,{text:C}))),setIcon:C=>Ys(_.element,"span").each(R=>_.getSystem().getByDom(R).each(M=>xn(M,Vv,{icon:C})))}),m=D(ne),y={getApi:c,onSetup:o.onSetup};return $R.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...f$(o.tooltip,i.providers)}},onExecute:_=>{const C=c(_);C.isEnabled()&&o.onAction(C)},onItemExecute:(_,C,R)=>{},splitDropdownBehaviours:Lt([zu.splitButton(i.providers.isDisabled),La(),no("split-dropdown-events",[sr((_,C)=>x_(_)),St(h$,Pn.focus),Av(y,m),Iv(y,m)]),g_.config({})]),eventOrder:{[sf()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:i.getSink,fetch:UR(c,o,i.providers),parts:{menu:uT(!1,o.columns,o.presets)},components:[$R.parts.button(VR(o.icon,o.text,L.none(),L.some([fo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),i.providers)),$R.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:T3("chevron-down",i.providers.icons)},buttonBehaviours:Lt([zu.splitButton(i.providers.isDisabled),La(),aD()])}),$R.parts["aria-descriptor"]({text:i.providers.translate("To open the popup, press Shift+Enter")})]})},jR=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Ny=(o,i)=>(c,m,y)=>{const _=o(c).mapError(C=>sl(C)).getOrDie();return i(_,m,y)},p$={button:Ny(OD,(o,i)=>Uq(o,i.shared.providers)),togglebutton:Ny(MD,(o,i)=>jq(o,i.shared.providers)),menubutton:Ny(p6,(o,i)=>uS(o,"tox-tbtn",i,L.none(),!1)),splitbutton:Ny(cG,(o,i)=>Wq(o,i.shared)),grouptoolbarbutton:Ny(ZP,(o,i,c)=>{const m=c.ui.registry.getAll().buttons,y=C=>IS(c,{buttons:m,toolbar:C,allowToolbarGroups:!1},i,L.none()),_={[ww]:i.shared.header.isPositionedAtTop()?pf.TopToBottom:pf.BottomToTop};switch(yy(c)){case Pu.floating:return Hq(o,i,y,_);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},Zq=(o,i,c)=>Gt(p$,o.type).fold(()=>(console.error("skipping button defined by",o),L.none()),m=>L.some(m(o,i,c))),g$={styles:Nq,fontsize:Aq,fontsizeinput:Pq,fontfamily:kq,blocks:vq,align:yq},Gq=o=>{const i=Ee(jR,c=>{const m=Xe(c.items,y=>Mo(o,y)||Mo(g$,y));return{name:c.name,items:m}});return Xe(i,c=>c.items.length>0)},qq=o=>{const i=o.split("|");return Ee(i,c=>({items:c.trim().split(" ")}))},Kq=o=>rt(o,i=>Mo(i,"name")&&Mo(i,"items")),Yq=o=>{const i=o.toolbar,c=o.buttons;return i===!1?[]:i===void 0||i===!0?Gq(c):x(i)?qq(i):Kq(i)?i:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},WR=(o,i,c,m,y,_)=>Gt(i,c.toLowerCase()).orThunk(()=>_.bind(C=>sn(C,R=>Gt(i,R+c.toLowerCase())))).fold(()=>Gt(g$,c.toLowerCase()).map(C=>C(o,y)),C=>C.type==="grouptoolbarbutton"&&!m?(console.warn(`Ignoring the '${c}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),L.none()):Zq(C,y,o)),IS=(o,i,c,m)=>{const y=Yq(i),_=Ee(y,C=>{const R=le(C.items,M=>M.trim().length===0?[]:WR(o,i.buttons,M,i.allowToolbarGroups,c,m).toArray());return{title:L.from(o.translate(C.name)),items:R}});return Xe(_,C=>C.items.length>0)},bz=(o,i,c,m)=>{const y=i.mainUi.outerContainer,_=c.toolbar,C=c.buttons;if(rt(_,x)){const R=_.map(M=>{const N={toolbar:M,buttons:C,allowToolbarGroups:c.allowToolbarGroups};return IS(o,N,m,L.none())});Rs.setToolbars(y,R)}else Rs.setToolbar(y,IS(o,c,m,L.none()))},vz=ki(),y$=vz.os.isiOS()&&vz.os.version.major<=12,Xq=(o,i)=>{const{uiMotherships:c}=i,m=o.dom;let y=o.getWin();const _=o.getDoc().documentElement,C=D(qs(y.innerWidth,y.innerHeight)),R=D(qs(_.offsetWidth,_.offsetHeight)),M=()=>{const K=C.get();(K.left!==y.innerWidth||K.top!==y.innerHeight)&&(C.set(qs(y.innerWidth,y.innerHeight)),TT(o))},N=()=>{const K=o.getDoc().documentElement,Q=R.get();(Q.left!==K.offsetWidth||Q.top!==K.offsetHeight)&&(R.set(qs(K.offsetWidth,K.offsetHeight)),TT(o))},V=K=>{XD(o,K)};m.bind(y,"resize",M),m.bind(y,"scroll",V);const Z=Ck(ze.fromDom(o.getBody()),"load",N);o.on("hide",()=>{me(c,K=>{un(K.element,"display","none")})}),o.on("show",()=>{me(c,K=>{Ro(K.element,"display")})}),o.on("NodeChange",N),o.on("remove",()=>{Z.unbind(),m.unbind(y,"resize",M),m.unbind(y,"scroll",V),y=null})},b$=(o,i,c)=>{vf(o)&&Tp(c.mainUi.mothership.element,c.popupUi.mothership),zw(i,c.dialogUi.mothership)};var Jq=Object.freeze({__proto__:null,render:async(o,i,c,m,y)=>{const{mainUi:_,uiMotherships:C}=i,R=D(0),M=_.outerContainer;await hq(o);const N=ze.fromDom(y.targetNode),V=Wa(Br(N));Tp(N,_.mothership),b$(o,V,i),o.on("PostRender",()=>{Rs.setSidebar(M,c.sidebar,W3(o)),bz(o,i,c,m),R.set(o.getWin().innerWidth),Rs.setMenubar(M,Z6(o,c)),Rs.setViews(M,c.views),Xq(o,i)});const Z=Rs.getSocket(M).getOrDie("Could not find expected socket element");if(y$){Ar(Z.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const _e=$W(()=>{o.dispatch("ScrollContent")},20),He=Zi(Z.element,"scroll",_e.throttle);o.on("remove",He.unbind)}zL(o,i),o.addCommand("ToggleSidebar",(_e,He)=>{Rs.toggleSidebar(M,He),o.dispatch("ToggleSidebar")}),o.addQueryValueHandler("ToggleSidebar",()=>{var _e;return(_e=Rs.whichSidebar(M))!==null&&_e!==void 0?_e:""}),o.addCommand("ToggleView",(_e,He)=>{if(Rs.toggleView(M,He)){const De=M.element;_.mothership.broadcastOn([dh()],{target:De}),me(C,Ae=>{Ae.broadcastOn([dh()],{target:De})}),F(Rs.whichView(M))&&(o.focus(),o.nodeChanged())}}),o.addQueryValueHandler("ToggleView",()=>{var _e;return(_e=Rs.whichView(M))!==null&&_e!==void 0?_e:""});const K=yy(o),Q=()=>{Rs.refreshToolbar(i.mainUi.outerContainer)};(K===Pu.sliding||K===Pu.floating)&&o.on("ResizeWindow ResizeEditor ResizeContent",()=>{const _e=o.getWin().innerWidth;_e!==R.get()&&(Q(),R.set(_e))});const ie={setEnabled:_e=>{kT(i,!_e)},isEnabled:()=>!An.isDisabled(M)};return{iframeContainer:Z.element.dom,editorContainer:M.element.dom,api:ie}}});const wz=o=>/^[0-9\.]+(|px)$/i.test(""+o)?L.some(parseInt(""+o,10)):L.none(),_z=o=>Fe(o)?o+"px":o,ZR=(o,i,c)=>{const m=i.filter(_=>o<_),y=c.filter(_=>o>_);return m.or(y).getOr(o)},Qq=o=>{const i=q2(o),c=cD(o),m=uD(o);return wz(i).map(y=>ZR(y,c,m))},eK=o=>Qq(o).getOr(q2(o)),v$=o=>{const i=K2(o),c=DC(o),m=MC(o);return wz(i).map(y=>ZR(y,c,m))},w$=o=>v$(o).getOr(K2(o)),{ToolbarLocation:kz,ToolbarMode:Cz}=AH,tK=40,nK=(o,i,c,m,y)=>{const{mainUi:_,uiMotherships:C}=c,R=Lp.DOM,M=by(o),N=NC(o),V=MC(o).or(v$(o)),Z=m.shared.header,K=Z.isPositionedAtTop,Q=yy(o),ie=Q===Cz.sliding||Q===Cz.floating,_e=D(!1),He=()=>_e.get()&&!o.removed,De=$n=>ie?$n.fold(J(0),os=>os.components().length>1?Vr(os.components()[1].element):0):0,Ae=$n=>{switch(Y2(o)){case kz.auto:const os=Rs.getToolbar(_.outerContainer),Yt=De(os),yn=Vr($n.element)-Yt,on=tr(i);if(on.y>yn)return"top";{const oo=zf(i),xo=Math.max(oo.dom.scrollHeight,Vr(oo));return on.bottom<xo-yn||Ea().bottom<on.bottom-yn?"bottom":"top"}case kz.bottom:return"bottom";case kz.top:default:return"top"}},mt=$n=>{y.on(os=>{wa.setModes(os,[$n]),Z.setDockingMode($n);const Yt=K()?pf.TopToBottom:pf.BottomToTop;Jn(os.element,ww,Yt)})},bt=()=>{y.on($n=>{const os=V.getOrThunk(()=>{const Yt=wz(xt(Yr(),"margin-left")).getOr(0);return vi(Yr())-si(i).left+Yt});un($n.element,"max-width",os+"px")})},Ut=$n=>{y.on(os=>{const Yt=Rs.getToolbar(_.outerContainer),yn=De(Yt),on=tr(i),{top:zn,left:oo}=Rt(o,_.outerContainer.element).fold(()=>({top:K()?Math.max(on.y-Vr(os.element)+yn,0):on.bottom,left:on.x}),Wo=>{var Al;const fr=tr(Wo),Fd=(Al=Wo.dom.scrollTop)!==null&&Al!==void 0?Al:0,Af=as(Wo,Yr()),Qp=Af?Math.max(on.y-Vr(os.element)+yn,0):on.y-fr.y+Fd-Vr(os.element)+yn;return{top:K()?Qp:on.bottom,left:Af?on.x:on.x-fr.x}}),xo={position:"absolute",left:Math.round(oo)+"px",top:Math.round(zn)+"px"},Gr=$n.map(Wo=>{const Al=_l(),fr=150,Fd=window.innerWidth-(oo-Al.left);return{width:Math.max(Math.min(Wo,Fd),fr)+"px"}}).getOr({});Ar(_.outerContainer.element,{...xo,...Gr})})},Rt=($n,os)=>vf($n)?PP(os):L.none(),Kt=()=>{me(C,$n=>{$n.broadcastOn([oy()],{})})},vn=()=>{if(M)return L.none();if(si(_.outerContainer.element).left+ri(_.outerContainer.element)>=window.innerWidth-tK||er(_.outerContainer.element,"width").isSome()){un(_.outerContainer.element,"position","absolute"),un(_.outerContainer.element,"left","0px"),Ro(_.outerContainer.element,"width");const os=ri(_.outerContainer.element);return L.some(os)}else return L.none()},So=$n=>{if(!He())return;M||bt();const os=M?L.none():vn();ie&&Rs.refreshToolbar(_.outerContainer),M||Ut(os),N&&y.on($n),Kt()},wn=()=>M||!N||!He()?!1:y.get().exists($n=>{const os=Z.getDockingMode(),Yt=Ae($n);return Yt!==os?(mt(Yt),!0):!1});return{isVisible:He,isPositionedAtTop:K,show:()=>{_e.set(!0),un(_.outerContainer.element,"display","flex"),R.addClass(o.getBody(),"mce-edit-focus"),me(C,$n=>{Ro($n.element,"display")}),wn(),vf(o)?So($n=>wa.isDocked($n)?wa.reset($n):wa.refresh($n)):So(wa.refresh)},hide:()=>{_e.set(!1),un(_.outerContainer.element,"display","none"),R.removeClass(o.getBody(),"mce-edit-focus"),me(C,$n=>{un($n.element,"display","none")})},update:So,updateMode:()=>{wn()&&So(wa.reset)},repositionPopups:Kt}},_$=(o,i)=>{const c=tr(o);return{pos:i?c.y:c.bottom,bounds:c}},oK=(o,i,c,m)=>{const y=D(_$(i,c.isPositionedAtTop())),_=N=>{const{pos:V,bounds:Z}=_$(i,c.isPositionedAtTop()),{pos:K,bounds:Q}=y.get(),ie=Z.height!==Q.height||Z.width!==Q.width;y.set({pos:V,bounds:Z}),ie&&TT(o,N),c.isVisible()&&(K!==V?c.update(wa.reset):ie&&(c.updateMode(),c.repositionPopups()))};m||(o.on("activate",c.show),o.on("deactivate",c.hide)),o.on("SkinLoaded ResizeWindow",()=>c.update(wa.reset)),o.on("NodeChange keydown",N=>{requestAnimationFrame(()=>_(N))});let C=0;const R=fP(()=>c.update(wa.refresh),33);o.on("ScrollWindow",()=>{const N=_l().left;N!==C&&(C=N,R.throttle()),c.updateMode()}),vf(o)&&o.on("ElementScroll",N=>{c.update(wa.refresh)});const M=pd();M.set(Ck(ze.fromDom(o.getBody()),"load",N=>_(N.raw))),o.on("remove",()=>{M.clear()})};var OS=Object.freeze({__proto__:null,render:async(o,i,c,m,y)=>{const{mainUi:_}=i,C=ns(),R=ze.fromDom(y.targetNode),M=nK(o,R,i,m,C),N=M3(o);await mq(o);const V=()=>{if(C.isSet()){M.show();return}C.set(Rs.getHeader(_.outerContainer).getOrDie());const K=yD(o);vf(o)?(Tp(R,_.mothership),Tp(R,i.popupUi.mothership)):zw(K,_.mothership),zw(K,i.dialogUi.mothership),bz(o,i,c,m),Rs.setMenubar(_.outerContainer,Z6(o,c)),M.show(),oK(o,R,M,N),o.nodeChanged()};o.on("show",V),o.on("hide",M.hide),N||(o.on("focus",V),o.on("blur",M.hide)),o.on("init",()=>{(o.hasFocus()||N)&&V()}),zL(o,i);const Z={show:V,hide:M.hide,setEnabled:K=>{kT(i,!K)},isEnabled:()=>!An.isDisabled(_.outerContainer)};return{editorContainer:_.outerContainer.element.dom,api:Z}}});const k$=()=>{const o=ns(),i=ns(),c=ns();return{dialogUi:o,popupUi:i,mainUi:c,getUiMotherships:()=>{const _=o.get().map(R=>R.mothership),C=i.get().map(R=>R.mothership);return _.fold(()=>C.toArray(),R=>C.fold(()=>[R],M=>as(R.element,M.element)?[R]:[R,M]))},lazyGetInOuterOrDie:(_,C)=>()=>c.get().bind(R=>C(R.outerContainer)).getOrDie(`Could not find ${_} element in OuterContainer`)}},sK="contexttoolbar-show",C$="contexttoolbar-hide",S$=o=>({hide:()=>zo(o,Dg()),getValue:()=>tn.getValue(o)}),GR=(o,i)=>St(TB,(c,m)=>{const y=o.get(c),_=S$(y);i.onAction(_,m.event.buttonApi)}),x$=(o,i,c)=>{const{primary:m,...y}=i.original,_=Cl(OD({...y,type:"button",onAction:ne}));return m$(_,c,[GR(o,i)])},E$=(o,i,c)=>{const{primary:m,...y}=i.original,_=Cl(MD({...y,type:"togglebutton",onAction:ne}));return yz(_,c,[GR(o,i)])},rK=o=>o.type==="contextformtogglebutton",$_=(o,i,c)=>rK(i)?E$(o,i,c):x$(o,i,c),qR=(o,i,c)=>{const m=Ee(i,C=>es($_(o,C,c)));return{asSpecs:()=>Ee(m,C=>C.asSpec()),findPrimary:C=>sn(i,(R,M)=>R.primary?L.from(m[M]).bind(N=>N.getOpt(C)).filter(je(An.isDisabled)):L.none())}},KR=(o,i)=>{const c=o.label.fold(()=>({}),_=>({"aria-label":_})),m=es(Cv.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:o.initValue(),inputAttributes:c,selectOnFocus:!0,inputBehaviours:Lt([Sn.config({mode:"special",onEnter:_=>y.findPrimary(_).map(C=>(rf(C),!0)),onLeft:(_,C)=>(C.cut(),L.none()),onRight:(_,C)=>(C.cut(),L.none())})])})),y=qR(m,o.commands,i);return[{title:L.none(),items:[m.asSpec()]},{title:L.none(),items:y.asSpecs()}]},T$={renderContextForm:(o,i,c)=>Hv({type:o,uid:dn("context-toolbar"),initGroups:KR(i,c),onEscape:L.none,cyclicKeying:!0,providers:c}),buildInitGroups:KR},R$=(o,i,c)=>i.bottom-o.y>=c&&o.bottom-i.y>=c,A$=o=>{const i=o.getBoundingClientRect();if(i.height<=0&&i.width<=0){const c=Nh(ze.fromDom(o.startContainer),o.startOffset).element;return(tl(c)?bl(c):L.some(c)).filter(Jo).map(y=>y.dom.getBoundingClientRect()).getOr(i)}else return i},Sz=o=>{const i=o.selection.getRng(),c=A$(i);if(o.inline){const m=_l();return Ns(m.left+c.left,m.top+c.top,c.width,c.height)}else{const m=nd(ze.fromDom(o.getBody()));return Ns(m.x+c.left,m.y+c.top,c.width,c.height)}},iK=(o,i)=>i.filter(c=>Za(c)&&Qu(c)).map(nd).getOrThunk(()=>Sz(o)),lK=(o,i,c)=>{const m=Math.max(o.x+c,i.x),y=Math.min(o.right-c,i.right);return{x:m,width:y-m}},cK=(o,i,c,m,y,_)=>{const C=ze.fromDom(o.getContainer()),R=Ys(C,".tox-editor-header").getOr(C),M=tr(R),N=M.y>=i.bottom,V=m&&!N;if(o.inline&&V)return{y:Math.max(M.bottom+_,c.y),bottom:c.bottom};if(o.inline&&!V)return{y:c.y,bottom:Math.min(M.y-_,c.bottom)};const Z=y==="line"?tr(C):i;return V?{y:Math.max(M.bottom+_,c.y),bottom:Math.min(Z.bottom-_,c.bottom)}:{y:Math.max(Z.y+_,c.y),bottom:Math.min(M.y-_,c.bottom)}},I$=(o,i,c,m=0)=>{const y=rb(window),_=tr(ze.fromDom(o.getContentAreaContainer())),C=eT(o)||nT(o)||zC(o),{x:R,width:M}=lK(_,y,m);if(o.inline&&!C)return Ns(R,y.y,M,y.height);{const N=i.header.isPositionedAtTop(),{y:V,bottom:Z}=cK(o,_,y,N,c,m);return Ns(R,V,M,Z-V)}},DS=12,MS={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},xz={maxHeightFunction:vp(),maxWidthFunction:z_()},O$=(o,i)=>{const c=o.selection.getRng(),m=Nh(ze.fromDom(c.startContainer),c.startOffset);return c.startContainer===c.endContainer&&c.startOffset===c.endOffset-1&&as(m.element,i)},Ez=(o,i,c)=>{const m=er(o,"position");un(o,"position",i);const y=c(o);return m.each(_=>un(o,"position",_)),y},D$=o=>o==="node",M$=(o,i,c,m,y)=>{const _=Sz(o),C=m.lastElement().exists(R=>as(c,R));if(O$(o,c))return C?w5:Em;if(C)return Ez(i,m.getMode(),()=>R$(_,tr(i),-20)&&!m.isReposition()?lZ:w5);{const R=m.getMode()==="fixed"?y.y+_l().top:y.y,M=Vr(i)+DS;return R+M<=_.y?Em:bS}},uK=(o,i,c,m)=>{const y=M=>(N,V,Z,K,Q)=>{const ie=M$(o,K,M,c,Q),_e={...N,y:Q.y,height:Q.height};return{...ie(_e,V,Z,K,Q),alwaysFit:!0}},_=M=>D$(m)?[y(M)]:[];return i?{onLtr:M=>[Js,Xa,Qr,Gl,Xs,Gc].concat(_(M)),onRtl:M=>[Js,Qr,Xa,Xs,Gl,Gc].concat(_(M))}:{onLtr:M=>[Gc,Js,Gl,Xa,Xs,Qr].concat(_(M)),onRtl:M=>[Gc,Js,Xs,Qr,Gl,Xa].concat(_(M))}},dK=(o,i,c,m)=>i==="line"?{bubble:qg(DS,0,MS),layouts:{onLtr:()=>[pk],onRtl:()=>[gk]},overrides:xz}:{bubble:qg(0,DS,MS,1/DS),layouts:uK(o,c,m,i),overrides:xz},V_=(o,i)=>{const c=Xe(i,_=>_.predicate(o.dom)),{pass:m,fail:y}=lt(c,_=>_.type==="contexttoolbar");return{contextToolbars:m,contextForms:y}},P$=o=>{if(o.length<=1)return o;{const i=_=>io(o,C=>C.position===_),c=_=>Xe(o,C=>C.position===_),m=i("selection"),y=i("node");if(m||y)if(y&&m){const _=c("node"),C=Ee(c("selection"),R=>({...R,position:"node"}));return _.concat(C)}else return c(m?"selection":"node");else return c("line")}},fK=o=>{if(o.length<=1)return o;{const i=m=>Oe(o,y=>y.position===m);return i("selection").orThunk(()=>i("node")).orThunk(()=>i("line")).map(m=>m.position).fold(()=>[],m=>Xe(o,y=>y.position===m))}},hK=(o,i,c)=>{const m=V_(o,i);if(m.contextForms.length>0)return L.some({elem:o,toolbars:[m.contextForms[0]]});{const y=V_(o,c);if(y.contextForms.length>0)return L.some({elem:o,toolbars:[y.contextForms[0]]});if(m.contextToolbars.length>0||y.contextToolbars.length>0){const _=P$(m.contextToolbars.concat(y.contextToolbars));return L.some({elem:o,toolbars:_})}else return L.none()}},mK=(o,i,c)=>o(i)?L.none():cd(i,m=>{if(Jo(m)){const{contextToolbars:y,contextForms:_}=V_(m,c.inNodeScope),C=_.length>0?_:fK(y);return C.length>0?L.some({elem:m,toolbars:C}):L.none()}else return L.none()},o),pK=(o,i)=>{const c=ze.fromDom(i.getBody()),m=C=>as(C,c),y=C=>!m(C)&&!nl(c,C),_=ze.fromDom(i.selection.getNode());return y(_)?L.none():hK(_,o.inNodeScope,o.inEditorScope).orThunk(()=>mK(m,_,o))},gK=(o,i)=>{const c={},m=[],y=[],_={},C={},R=(V,Z)=>{const K=Cl(Tv(Z));c[V]=K,K.launch.map(Q=>{_["form:"+V]={...Z.launch,type:Q.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{i(K)}}}),K.scope==="editor"?y.push(K):m.push(K),C[V]=K},M=(V,Z)=>{ND(Z).each(K=>{Z.scope==="editor"?y.push(K):m.push(K),C[V]=K})},N=_n(o);return me(N,V=>{const Z=o[V];Z.type==="contextform"?R(V,Z):Z.type==="contexttoolbar"&&M(V,Z)}),{forms:c,inNodeScope:m,inEditorScope:y,lookupTable:C,formNavigators:_}},Tz=dn("forward-slide"),Rz=dn("backward-slide"),Az=dn("change-slide-event"),Iz="tox-pop--resizing",z$=o=>{const i=D([]);return Us.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:c=>{i.set([]),Us.getContent(c).each(m=>{Ro(m.element,"visibility")}),xs(c.element,Iz),Ro(c.element,"width")},inlineBehaviours:Lt([no("context-toolbar-events",[zg(Ig(),(c,m)=>{m.event.raw.propertyName==="width"&&(xs(c.element,Iz),Ro(c.element,"width"))}),St(Az,(c,m)=>{const y=c.element;Ro(y,"width");const _=vi(y);Us.setContent(c,m.event.contents),Jr(y,Iz);const C=vi(y);un(y,"width",_+"px"),Us.getContent(c).each(R=>{m.event.focus.bind(M=>(Su(M),xu(y))).orThunk(()=>(Sn.focusIn(R),mf(Br(y))))}),setTimeout(()=>{un(c.element,"width",C+"px")},0)}),St(Tz,(c,m)=>{Us.getContent(c).each(y=>{i.set(i.get().concat([{bar:y,focus:mf(Br(c.element))}]))}),xn(c,Az,{contents:m.event.forwardContents,focus:L.none()})}),St(Rz,(c,m)=>{Dt(i.get()).each(y=>{i.set(i.get().slice(0,i.get().length-1)),xn(c,Az,{contents:Sl(y.bar),focus:y.focus})})})]),Sn.config({mode:"special",onEscape:c=>Dt(i.get()).fold(()=>o.onEscape(),m=>(zo(c,Rz),L.some(!0)))})]),lazySink:()=>to.value(o.sink)})},Oz="tox-pop--transition",yK=(o,i,c,m)=>{const y=m.backstage,_=y.shared,C=ki().deviceType.isTouch,R=ns(),M=ns(),N=ns(),V=Da(z$({sink:c,onEscape:()=>(o.focus(),L.some(!0))})),Z=()=>{const wn=N.get().getOr("node"),bo=D$(wn)?1:0;return I$(o,_,wn,bo)},K=()=>!o.removed&&!(C()&&y.isContextMenuOpen()),Q=wn=>la(ac(wn,R.get(),as),!0),ie=()=>{if(K()){const wn=Z(),bo=la(N.get(),"node")?iK(o,R.get()):Sz(o);return wn.height<=0||!R$(bo,wn,.01)}else return!0},_e=()=>{R.clear(),M.clear(),N.clear(),Us.hide(V)},He=()=>{if(Us.isOpen(V)){const wn=V.element;Ro(wn,"display"),ie()?un(wn,"display","none"):(M.set(0),Us.reposition(V))}},De=wn=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[wn],behaviours:Lt([Sn.config({mode:"acyclic"}),no("pop-dialog-wrap-events",[sr(bo=>{o.shortcuts.add("ctrl+F9","focus statusbar",()=>Sn.focusIn(bo))}),al(bo=>{o.shortcuts.remove("ctrl+F9")})])])}),Ae=qd(()=>gK(i,wn=>{const bo=Ut([wn]);xn(V,Tz,{forwardContents:De(bo)})})),mt=(wn,bo)=>IS(o,{buttons:wn,toolbar:bo.items,allowToolbarGroups:!1},m.backstage,L.some(["form:"])),bt=(wn,bo)=>T$.buildInitGroups(wn,bo),Ut=wn=>{const{buttons:bo}=o.ui.registry.getAll(),Kn=Ae(),vo={...bo,...Kn.formNavigators},$n=yy(o)===Pu.scrolling?Pu.scrolling:Pu.default,os=Ke(Ee(wn,Yt=>Yt.type==="contexttoolbar"?mt(vo,Yt):bt(Yt,_.providers)));return Hv({type:$n,uid:dn("context-toolbar"),initGroups:os,onEscape:L.none,cyclicKeying:!0,providers:_.providers})},Rt=(wn,bo)=>{const Kn=wn==="node"?_.anchors.node(bo):_.anchors.cursor(),vo=dK(o,wn,C(),{lastElement:R.get,isReposition:()=>la(M.get(),0),getMode:()=>ea.getMode(c)});return ds(Kn,vo)},Kt=(wn,bo)=>{if(So.cancel(),!K())return;const Kn=Ut(wn),vo=wn[0].position,$n=Rt(vo,bo);N.set(vo),M.set(1);const os=V.element;Ro(os,"display"),Q(bo)||(xs(os,Oz),ea.reset(c,V)),Us.showWithinBounds(V,De(Kn),{anchor:$n,transition:{classes:[Oz],mode:"placement"}},()=>L.some(Z())),bo.fold(R.clear,R.set),ie()&&un(os,"display","none")};let vn=!1;const So=fP(()=>{if(!(!o.hasFocus()||o.removed||vn))if(xi(V.element,Oz))So.throttle();else{const wn=Ae();pK(wn,o).fold(_e,bo=>{Kt(bo.toolbars,L.some(bo.elem))})}},17);o.on("init",()=>{o.on("remove",_e),o.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",He),o.on("click keyup focus SetContent",So.throttle),o.on(C$,_e),o.on(sK,wn=>{const bo=Ae();Gt(bo.lookupTable,wn.toolbarKey).each(Kn=>{Kt([Kn],Ln(wn.target!==o,wn.target)),Us.getContent(V).each(Sn.focusIn)})}),o.on("focusout",wn=>{j2.setEditorTimeout(o,()=>{xu(c.element).isNone()&&xu(V.element).isNone()&&_e()},0)}),o.on("SwitchMode",()=>{o.mode.isReadOnly()&&_e()}),o.on("AfterProgressState",wn=>{wn.state?_e():o.hasFocus()&&So.throttle()}),o.on("dragstart",()=>{vn=!0}),o.on("dragend drop",()=>{vn=!1}),o.on("NodeChange",wn=>{xu(V.element).fold(So.throttle,ne)})})},bK=o=>{me([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],c=>{o.ui.registry.addToggleButton(c.name,{tooltip:c.text,icon:c.icon,onAction:$u(o,c.cmd),onSetup:NR(o,c.name)})}),o.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:$u(o,"JustifyNone")})},N$=(o,i)=>{const c=()=>{const m=i.getOptions(o),y=i.getCurrent(o).map(i.hash),_=ns();return Ee(m,C=>({type:"togglemenuitem",text:i.display(C),onSetup:R=>{const M=V=>{V&&(_.on(Z=>Z.setActive(!1)),_.set(R)),R.setActive(V)};M(la(y,i.hash(C)));const N=i.watcher(o,C,M);return()=>{_.clear(),N()}},onAction:()=>i.setCurrent(o,C)}))};o.ui.registry.addMenuButton(i.name,{tooltip:i.text,icon:i.icon,fetch:m=>m(c()),onSetup:i.onToolbarSetup}),o.ui.registry.addNestedMenuItem(i.name,{type:"nestedmenuitem",text:i.text,getSubmenuItems:c,onSetup:i.onMenuSetup})},vK={name:"lineheight",text:"Line height",icon:"line-height",getOptions:tT,hash:o=>s$(o,["fixed","relative","empty"]).getOr(o),display:Te,watcher:(o,i,c)=>o.formatter.formatChanged("lineheight",c,!1,{value:i}).unbind,getCurrent:o=>L.from(o.queryCommandValue("LineHeight")),setCurrent:(o,i)=>o.execCommand("LineHeight",!1,i)},Dz=o=>L.from(O3(o)).map(c=>({name:"language",text:"Language",icon:"language",getOptions:J(c),hash:m=>de(m.customCode)?m.code:`${m.code}/${m.customCode}`,display:m=>m.title,watcher:(m,y,_)=>{var C;return m.formatter.formatChanged("lang",_,!1,{value:y.code,customValue:(C=y.customCode)!==null&&C!==void 0?C:null}).unbind},getCurrent:m=>{const y=ze.fromDom(m.selection.getNode());return Hl(y,_=>L.some(_).filter(Jo).bind(C=>G(C,"lang").map(M=>{const N=G(C,"data-mce-lang").getOrUndefined();return{code:M,customCode:N,title:""}})))},setCurrent:(m,y)=>m.execCommand("Lang",!1,y),onToolbarSetup:m=>{const y=pd();return m.setActive(o.formatter.match("lang",{},void 0,!0)),y.set(o.formatter.formatChanged("lang",m.setActive,!0)),y.clear}})),wK=o=>{N$(o,vK),Dz(o).each(i=>N$(o,i))},_K=(o,i)=>{bq(o,i),Cq(o,i),Lq(o,i),e$(o,i),zq(o,i)},Mz=o=>AS(o,"NodeChange",i=>{i.setEnabled(o.queryCommandState("outdent"))}),L$=o=>{o.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:Mz(o),onAction:$u(o,"outdent")}),o.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:$u(o,"indent")})},F$=o=>{L$(o)},B$=(o,i)=>c=>{c.setActive(i.get());const m=y=>{i.set(y.state),c.setActive(y.state)};return o.on("PastePlainTextToggle",m),()=>o.off("PastePlainTextToggle",m)},kK=o=>{const i=D(j3(o)),c=()=>o.execCommand("mceTogglePlainTextPaste");o.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:c,onSetup:B$(o,i)}),o.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:c,onSetup:B$(o,i)})},Pz=(o,i)=>()=>{o.execCommand("mceToggleFormat",!1,i)},CK=o=>{Iy.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(i,c)=>{o.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onSetup:NR(o,i.name),onAction:Pz(o,i.name)})});for(let i=1;i<=6;i++){const c="h"+i;o.ui.registry.addToggleButton(c,{text:c.toUpperCase(),tooltip:"Heading "+i,onSetup:NR(o,c),onAction:Pz(o,c)})}},SK=o=>{Iy.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],i=>{o.ui.registry.addButton(i.name,{tooltip:i.text,icon:i.icon,onAction:$u(o,i.action)})})},$$=o=>{Iy.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],i=>{o.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:$u(o,i.action),onSetup:NR(o,i.name)})})},xK=o=>{CK(o),SK(o),$$(o)},V$=o=>{Iy.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],i=>{o.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onAction:$u(o,i.action)})}),o.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:Pz(o,"code")})},EK=o=>{xK(o),V$(o)},YR=(o,i)=>AS(o,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",c=>{c.setEnabled(!o.mode.isReadOnly()&&o.undoManager[i]())}),zz=o=>{o.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:YR(o,"hasUndo"),onAction:$u(o,"undo")}),o.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:YR(o,"hasRedo"),onAction:$u(o,"redo")})},H$=o=>{o.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:YR(o,"hasUndo"),onAction:$u(o,"undo")}),o.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:YR(o,"hasRedo"),onAction:$u(o,"redo")})},TK=o=>{zz(o),H$(o)},RK=o=>AS(o,"VisualAid",i=>{i.setActive(o.hasVisual)}),Nz=o=>{o.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:RK(o),onAction:$u(o,"mceToggleVisualAid")})},AK=o=>{o.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:$u(o,"mceToggleVisualAid")})},IK=o=>{AK(o),Nz(o)},OK=(o,i)=>{bK(o),EK(o),_K(o,i),TK(o),dM(o),IK(o),F$(o),wK(o),kK(o)},DK=o=>x(o)?o.split(/[ ,]/):o,U$=o=>i=>i.options.get(o),j$=o=>{const i=o.options.register;i("contextmenu_avoid_overlap",{processor:"string",default:""}),i("contextmenu_never_use_native",{processor:"boolean",default:!1}),i("contextmenu",{processor:c=>c===!1?{value:[],valid:!0}:x(c)||rt(c,x)?{value:DK(c),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},W$=U$("contextmenu_never_use_native"),MK=U$("contextmenu_avoid_overlap"),PK=o=>Z$(o).length===0,Z$=o=>{const i=o.ui.registry.getAll().contextMenus,c=o.options.get("contextmenu");return o.options.isSet("contextmenu")?c:Xe(c,m=>Mo(i,m))},PS=(o,i)=>({type:"makeshift",x:o,y:i}),zK=(o,i,c)=>PS(o.x+i,o.y+c),G$=o=>o.type==="longpress"||o.type.indexOf("touch")===0,NK=o=>{if(G$(o)){const i=o.touches[0];return PS(i.pageX,i.pageY)}else return PS(o.pageX,o.pageY)},q$=o=>{if(G$(o)){const i=o.touches[0];return PS(i.clientX,i.clientY)}else return PS(o.clientX,o.clientY)},LK=(o,i)=>{const c=Lp.DOM.getPos(o);return zK(i,c.x,c.y)},K$=(o,i)=>i.type==="contextmenu"||i.type==="longpress"?o.inline?NK(i):LK(o.getContentAreaContainer(),q$(i)):Y$(o),Y$=o=>({type:"selection",root:ze.fromDom(o.selection.getNode())}),FK=o=>({type:"node",node:L.some(ze.fromDom(o.selection.getNode())),root:ze.fromDom(o.getBody())}),X$=(o,i,c)=>{switch(c){case"node":return FK(o);case"point":return K$(o,i);case"selection":return Y$(o)}},jv=(o,i,c,m,y,_)=>{const C=c(),R=X$(o,i,_);Sm(C,Sd.CLOSE_ON_EXECUTE,m,{isHorizontalMenu:!1,search:L.none()}).map(M=>{i.preventDefault(),Us.showMenuAt(y,{anchor:R},{menu:{markers:Bp("normal")},data:M})})},J$={onLtr:()=>[Js,Xa,Qr,Gl,Xs,Gc,Em,bS,yS,yR,gS,pS],onRtl:()=>[Js,Qr,Xa,Xs,Gl,Gc,Em,bS,gS,pS,yS,yR]},BK=12,$K={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},VK=(o,i)=>{const c=o.selection;if(c.isCollapsed()||i.touches.length<1)return!1;{const m=i.touches[0],y=c.getRng();return Mk(o.getWin(),Zb.domRange(y)).exists(C=>C.left<=m.clientX&&C.right>=m.clientX&&C.top<=m.clientY&&C.bottom>=m.clientY)}},HK=o=>{const i=o.selection.getRng(),c=()=>{j2.setEditorTimeout(o,()=>{o.selection.setRng(i)},10),_()};o.once("touchend",c);const m=C=>{C.preventDefault(),C.stopImmediatePropagation()};o.on("mousedown",m,!0);const y=()=>_();o.once("longpresscancel",y);const _=()=>{o.off("touchend",c),o.off("longpresscancel",y),o.off("mousedown",m)}},Q$=(o,i,c)=>{const m=X$(o,i,c);return{bubble:qg(0,c==="point"?BK:0,$K),layouts:J$,overrides:{maxWidthFunction:z_(),maxHeightFunction:vp()},...m}},UK=(o,i,c,m,y,_,C)=>{const R=Q$(o,i,_);Sm(c,Sd.CLOSE_ON_EXECUTE,m,{isHorizontalMenu:!0,search:L.none()}).map(M=>{i.preventDefault();const N=C?Jl.HighlightMenuAndItem:Jl.HighlightNone;Us.showMenuWithinBounds(y,{anchor:R},{menu:{markers:Bp("normal"),highlightOnOpen:N},data:M,type:"horizontal"},()=>L.some(I$(o,m.shared,_==="node"?"node":"selection"))),o.dispatch(C$)})},jK=(o,i,c,m,y,_)=>{const C=ki(),R=C.os.isiOS(),M=C.os.isMacOS(),N=C.os.isAndroid(),V=C.deviceType.isTouch(),Z=()=>!(N||R||M&&V),K=()=>{const Q=c();UK(o,i,Q,m,y,_,Z())};if((M||R)&&_!=="node"){const Q=()=>{HK(o),K()};VK(o,i)?Q():(o.once("selectionchange",Q),o.once("touchend",()=>o.off("selectionchange",Q)))}else K()},e8=o=>x(o)?o==="|":o.type==="separator",Lz={type:"separator"},t8=o=>{const i=c=>({text:c.text,icon:c.icon,enabled:c.enabled,shortcut:c.shortcut});if(x(o))return o;switch(o.type){case"separator":return Lz;case"submenu":return{type:"nestedmenuitem",...i(o),getSubmenuItems:()=>{const m=o.getSubmenuItems();return x(m)?m:Ee(m,t8)}};default:const c=o;return{type:"menuitem",...i(c),onAction:vt(c.onAction)}}},n8=(o,i)=>{if(i.length===0)return o;const m=Dt(o).filter(y=>!e8(y)).fold(()=>[],y=>[Lz]);return o.concat(m).concat(i).concat([Lz])},WK=(o,i,c)=>{const m=re(i,(y,_)=>Gt(o,_.toLowerCase()).map(C=>{const R=C.update(c);if(x(R))return n8(y,R.split(" "));if(R.length>0){const M=Ee(R,t8);return n8(y,M)}else return y}).getOrThunk(()=>y.concat([_])),[]);return m.length>0&&e8(m[m.length-1])&&m.pop(),m},ZK=(o,i)=>i.ctrlKey&&!W$(o),o8=o=>o.type==="longpress"||Mo(o,"touches"),Fz=(o,i)=>!o8(i)&&(i.button!==2||i.target===o.getBody()&&i.pointerType===""),s8=(o,i)=>Fz(o,i)?o.selection.getStart(!0):i.target,zS=(o,i)=>{const c=MK(o),m=Fz(o,i)?"selection":"point";if(Oi(c)){const y=s8(o,i);return YC(ze.fromDom(y),c)?"node":m}else return m},GK=(o,i,c)=>{const y=ki().deviceType.isTouch,_=Da(Us.sketch({dom:{tag:"div"},lazySink:i,onEscape:()=>o.focus(),onShow:()=>c.setContextMenuState(!0),onHide:()=>c.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Lt([no("dismissContextMenu",[St(eh(),(M,N)=>{Ao.close(M),o.focus()})])])})),C=()=>Us.hide(_),R=M=>{if(W$(o)&&M.preventDefault(),ZK(o,M)||PK(o))return;const N=zS(o,M),V=()=>{const K=s8(o,M),Q=o.ui.registry.getAll(),ie=Z$(o);return WK(Q.contextMenus,ie,K)};(y()?jK:jv)(o,M,V,c,_,N)};o.on("init",()=>{const M="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(y()?"":" ResizeWindow");o.on(M,C),o.on("longpress contextmenu",R)})},Bz=te.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),H_=o=>i=>i.translate(-o.left,-o.top),XR=o=>i=>i.translate(o.left,o.top),Kp=o=>(i,c)=>re(o,(m,y)=>y(m),qs(i,c)),JR=(o,i,c)=>o.fold(Kp([XR(c),H_(i)]),Kp([H_(i)]),Kp([])),U_=(o,i,c)=>o.fold(Kp([XR(c)]),Kp([]),Kp([XR(i)])),r8=(o,i,c)=>o.fold(Kp([]),Kp([H_(c)]),Kp([XR(i),H_(c)])),qK=(o,i,c,m,y,_)=>{const C=U_(o,y,_),R=U_(i,y,_);return Math.abs(C.left-R.left)<=c&&Math.abs(C.top-R.top)<=m},KK=(o,i,c,m,y,_)=>{const C=U_(o,y,_),R=U_(i,y,_),M=Math.abs(C.left-R.left),N=Math.abs(C.top-R.top);return qs(M,N)},a8=(o,i,c)=>{const m=o.fold((y,_)=>({position:L.some("absolute"),left:L.some(y+"px"),top:L.some(_+"px")}),(y,_)=>({position:L.some("absolute"),left:L.some(y-c.left+"px"),top:L.some(_-c.top+"px")}),(y,_)=>({position:L.some("fixed"),left:L.some(y+"px"),top:L.some(_+"px")}));return{right:L.none(),bottom:L.none(),...m}},YK=(o,i,c)=>o.fold((m,y)=>QR(m+i,y+c),(m,y)=>Ly(m+i,y+c),(m,y)=>Wv(m+i,y+c)),$z=(o,i,c,m)=>{const y=(_,C)=>(R,M)=>{const N=_(i,c,m);return C(R.getOr(N.left),M.getOr(N.top))};return o.fold(y(r8,QR),y(U_,Ly),y(JR,Wv))},QR=Bz.offset,Ly=Bz.absolute,Wv=Bz.fixed,i8=(o,i)=>{const c=ua(o,i);return de(c)?NaN:parseInt(c,10)},XK=(o,i)=>{const c=o.element,m=i8(c,i.leftAttr),y=i8(c,i.topAttr);return isNaN(m)||isNaN(y)?L.none():L.some(qs(m,y))},JK=(o,i,c)=>{const m=o.element;Jn(m,i.leftAttr,c.left+"px"),Jn(m,i.topAttr,c.top+"px")},QK=(o,i)=>{const c=o.element;ge(c,i.leftAttr),ge(c,i.topAttr)},eA=(o,i,c,m)=>XK(o,i).fold(()=>c,y=>Wv(y.left+m.left,y.top+m.top)),eY=(o,i,c,m,y,_)=>{const C=eA(o,i,c,m),R=i.mustSnap?nY(o,i,C,y,_):oY(o,i,C,y,_),M=JR(C,y,_);return JK(o,i,M),R.fold(()=>({coord:Wv(M.left,M.top),extra:L.none()}),N=>({coord:N.output,extra:N.extra}))},tY=(o,i)=>{QK(o,i)},l8=(o,i,c,m)=>sn(o,y=>{const _=y.sensor;return qK(i,_,y.range.left,y.range.top,c,m)?L.some({output:$z(y.output,i,c,m),extra:y.extra}):L.none()}),nY=(o,i,c,m,y)=>{const _=i.getSnapPoints(o);return l8(_,c,m,y).orThunk(()=>re(_,(M,N)=>{const V=N.sensor,Z=KK(c,V,N.range.left,N.range.top,m,y);return M.deltas.fold(()=>({deltas:L.some(Z),snap:L.some(N)}),K=>{const Q=(Z.left+Z.top)/2,ie=(K.left+K.top)/2;return Q<=ie?{deltas:L.some(Z),snap:L.some(N)}:M})},{deltas:L.none(),snap:L.none()}).snap.map(M=>({output:$z(M.output,c,m,y),extra:M.extra})))},oY=(o,i,c,m,y)=>{const _=i.getSnapPoints(o);return l8(_,c,m,y)},sY=(o,i,c)=>({coord:$z(o.output,o.output,i,c),extra:o.extra});var aY=Object.freeze({__proto__:null,snapTo:(o,i,c,m)=>{const y=i.getTarget(o.element);if(i.repositionTarget){const _=Mi(o.element),C=_l(_),R=t6(y),M=sY(m,C,R),N=a8(M.coord,C,R);da(y,N)}}});const Vz="data-initial-z-index",iY=o=>{bl(o.element).filter(Jo).each(i=>{G(i,Vz).fold(()=>Ro(i,"z-index"),c=>un(i,"z-index",c)),ge(i,Vz)})},lY=o=>{bl(o.element).filter(Jo).each(i=>{er(i,"z-index").each(c=>{Jn(i,Vz,c)}),un(i,"z-index",xt(o.element,"z-index"))})},c8=(o,i)=>{o.getSystem().addToGui(i),lY(i)},Hz=o=>{iY(o),o.getSystem().removeFromGui(o)},Uz=(o,i,c)=>o.getSystem().build(vh.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[i]},events:c}));var cY=pa("snaps",[Ct("getSnapPoints"),ko("onSensor"),Ct("leftAttr"),Ct("topAttr"),Be("lazyViewport",Ea),Be("mustSnap",!1)]);const jz=[Be("useFixed",ln),Ct("blockerClass"),Be("getTarget",Te),Be("onDrag",ne),Be("repositionTarget",!0),Be("onDrop",ne),Ur("getBounds",Ea),cY],uY=o=>Yu(er(o,"left"),er(o,"top"),er(o,"position"),(i,c,m)=>(m==="fixed"?Wv:QR)(parseInt(i,10),parseInt(c,10))).getOrThunk(()=>{const i=si(o);return Ly(i.left,i.top)}),dY=(o,i,c,m,y)=>{const _=y.bounds,C=U_(i,c,m),R=yc(C.left,_.x,_.x+_.width-y.width),M=yc(C.top,_.y,_.y+_.height-y.height),N=Ly(R,M);return i.fold(()=>{const V=r8(N,c,m);return QR(V.left,V.top)},J(N),()=>{const V=JR(N,c,m);return Wv(V.left,V.top)})},fY=(o,i,c,m,y,_,C)=>{const R=i.fold(()=>{const M=YK(c,_.left,_.top),N=JR(M,m,y);return Wv(N.left,N.top)},M=>{const N=eY(o,M,c,_,m,y);return N.extra.each(V=>{M.onSensor(o,V)}),N.coord});return dY(o,R,m,y,C)},hY=(o,i,c,m)=>{const y=i.getTarget(o.element);if(i.repositionTarget){const _=Mi(o.element),C=_l(_),R=t6(y),M=uY(y),N=fY(o,i.snaps,M,C,R,m,c),V=a8(N,C,R);da(y,V)}i.onDrag(o,y,m)},u8=(o,i)=>({bounds:o.getBounds(),height:Ff(i.element),width:ri(i.element)}),Wz=(o,i,c,m,y)=>{const _=c.update(m,y),C=c.getStartData().getOrThunk(()=>u8(i,o));_.each(R=>{hY(o,i,C,R)})},d8=(o,i,c,m)=>{i.each(Hz),c.snaps.each(_=>{tY(o,_)});const y=c.getTarget(o.element);m.reset(),c.onDrop(o,y)},Zz=o=>(i,c)=>{const m=y=>{c.setStartData(u8(i,y))};return Ss([St(vb(),y=>{c.getStartData().each(()=>m(y))}),...o(i,c,m)])},mY=o=>Ss([St(is(),o.forceDrop),St(Qf(),o.drop),St(Ag(),(i,c)=>{o.move(c.event)}),St(Jf(),o.delayDrop)]);var pY=Object.freeze({__proto__:null,getData:o=>L.from(qs(o.x,o.y)),getDelta:(o,i)=>qs(i.left-o.left,i.top-o.top)});const f8=(o,i,c)=>[St(is(),(m,y)=>{if(y.event.raw.button!==0)return;y.stop();const C=()=>d8(m,L.some(N),o,i),R=EF(C,200),M={drop:C,delayDrop:R.schedule,forceDrop:C,move:Z=>{R.cancel(),Wz(m,o,i,pY,Z)}},N=Uz(m,o.blockerClass,mY(M));(()=>{c(m),c8(m,N)})()})],gY=[...jz,Go("dragger",{handlers:Zz(f8)})],yY=o=>Ss([St(_u(),o.forceDrop),St(ms(),o.drop),St(Si(),o.drop),St(_o(),(i,c)=>{o.move(c.event)})]),bY=o=>{const i=o[0];return L.some(qs(i.clientX,i.clientY))};var h8=Object.freeze({__proto__:null,getData:o=>{const c=o.raw.touches;return c.length===1?bY(c):L.none()},getDelta:(o,i)=>qs(i.left-o.left,i.top-o.top)});const Gz=(o,i,c)=>{const m=ns(),y=_=>{d8(_,m.get(),o,i),m.clear()};return[St(_u(),(_,C)=>{C.stop();const R=()=>y(_),M={drop:R,delayDrop:ne,forceDrop:R,move:Z=>{Wz(_,o,i,h8,Z)}},N=Uz(_,o.blockerClass,yY(M));m.set(N),(()=>{c(_),c8(_,N)})()}),St(_o(),(_,C)=>{C.stop(),Wz(_,o,i,h8,C.event)}),St(ms(),(_,C)=>{C.stop(),y(_)}),St(Si(),y)]},m8=[...jz,Go("dragger",{handlers:Zz(Gz)})],Zv=(o,i,c)=>[...f8(o,i,c),...Gz(o,i,c)],vY=[...jz,Go("dragger",{handlers:Zz(Zv)})];var wY=Object.freeze({__proto__:null,mouse:gY,touch:m8,mouseOrTouch:vY}),_Y=Object.freeze({__proto__:null,init:()=>{let o=L.none(),i=L.none();const c=()=>{o=L.none(),i=L.none()},m=(M,N)=>{const V=o.map(Z=>M.getDelta(Z,N));return o=L.some(N),V},y=(M,N)=>M.getData(N).bind(V=>m(M,V)),_=M=>{i=L.some(M)},C=()=>i,R=J({});return Ia({readState:R,reset:c,update:y,getStartData:C,setStartData:_})}});const Gv=vk({branchKey:"mode",branches:wY,name:"dragging",active:{events:(o,i)=>o.dragger.handlers(o,i)},extra:{snap:o=>({sensor:o.sensor,range:o.range,output:o.output,extra:L.from(o.extra)})},state:_Y,apis:aY}),Yp=40,NS=Yp/2,g8=(o,i,c,m,y,_)=>o.fold(()=>Gv.snap({sensor:Ly(c-NS,m-NS),range:qs(y,_),output:Ly(L.some(c),L.some(m)),extra:{td:i}}),C=>{const R=c-NS,M=m-NS,N=Yp,V=Yp,Z=C.element.dom.getBoundingClientRect();return Gv.snap({sensor:Ly(R,M),range:qs(N,V),output:Ly(L.some(c-Z.width/2),L.some(m-Z.height/2)),extra:{td:i}})}),y8=(o,i,c)=>{const m=(y,_)=>y.exists(C=>as(C,_));return{getSnapPoints:o,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(y,_)=>{const C=_.td;m(i.get(),C)||(i.set(C),c(C))},mustSnap:!0}},b8=o=>es(Qs.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Lt([Gv.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:o}),g_.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),kY=(o,i)=>{const c=D([]),m=D([]),y=D(!1),_=ns(),C=ns(),R=Kt=>{const vn=nd(Kt);return g8(Q.getOpt(i),Kt,vn.x,vn.y,vn.width,vn.height)},M=()=>Ee(c.get(),Kt=>R(Kt)),N=Kt=>{const vn=nd(Kt);return g8(ie.getOpt(i),Kt,vn.right,vn.bottom,vn.width,vn.height)},V=()=>Ee(m.get(),Kt=>N(Kt)),Z=y8(M,_,Kt=>{C.get().each(vn=>{o.dispatch("TableSelectorChange",{start:Kt,finish:vn})})}),K=y8(V,C,Kt=>{_.get().each(vn=>{o.dispatch("TableSelectorChange",{start:vn,finish:Kt})})}),Q=b8(Z),ie=b8(K),_e=Da(Q.asSpec()),He=Da(ie.asSpec()),De=(Kt,vn,So,wn)=>{const bo=vn.dom.getBoundingClientRect();Ro(Kt.element,"display");const Kn=ed(ze.fromDom(o.getBody())).dom.innerHeight,vo=So(bo),$n=wn(bo,Kn);(vo||$n)&&un(Kt.element,"display","none")},Ae=(Kt,vn,So,wn)=>{const bo=So(vn);Gv.snapTo(Kt,bo),De(Kt,vn,$n=>$n[wn]<0,($n,os)=>$n[wn]>os)},mt=Kt=>Ae(_e,Kt,R,"top"),bt=()=>_.get().each(mt),Ut=Kt=>Ae(He,Kt,N,"bottom"),Rt=()=>C.get().each(Ut);ki().deviceType.isTouch()&&(o.on("TableSelectionChange",Kt=>{y.get()||(gf(i,_e),gf(i,He),y.set(!0)),_.set(Kt.start),C.set(Kt.finish),Kt.otherCells.each(vn=>{c.set(vn.upOrLeftCells),m.set(vn.downOrRightCells),mt(Kt.start),Ut(Kt.finish)})}),o.on("ResizeEditor ResizeWindow ScrollContent",()=>{bt(),Rt()}),o.on("TableSelectionClear",()=>{y.get()&&(yf(_e),yf(He),y.set(!1)),_.clear(),C.clear()}))};var CY=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const SY=o=>o.nodeName==="BR"||!!o.getAttribute("data-mce-bogus")||o.getAttribute("data-mce-type")==="bookmark",xY=(o,i,c)=>{var m;const y=(m=i.delimiter)!==null&&m!==void 0?m:"\u203A",_=(N,V,Z)=>Qs.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":Z,"aria-level":Z+1}},components:[Ks(N)],action:K=>{o.focus(),o.selection.select(V),o.nodeChanged()},buttonBehaviours:Lt([zu.button(c.isDisabled),La()])}),C=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Ks(` ${y} `)]}),R=N=>re(N,(V,Z,K)=>{const Q=_(Z.name,Z.element,K);return K===0?V.concat([Q]):V.concat([C(),Q])},[]),M=N=>{const V=[];let Z=N.length;for(;Z-- >0;){const K=N[Z];if(K.nodeType===1&&!SY(K)){const Q=R9(o,K);if(Q.isDefaultPrevented()||V.push({name:Q.name,element:K}),Q.isPropagationStopped())break}}return V};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Lt([Sn.config({mode:"flow",selector:"div[role=button]"}),An.config({disabled:c.isDisabled}),La(),ur.config({}),Bn.config({}),no("elementPathEvents",[sr((N,V)=>{o.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Sn.focusIn(N)),o.on("NodeChange",Z=>{const K=M(Z.parents),Q=K.length>0?R(K):[];Bn.set(N,Q)})})])]),components:[]}};var qv;(function(o){o[o.None=0]="None",o[o.Both=1]="Both",o[o.Vertical=2]="Vertical"})(qv||(qv={}));const Kz=(o,i,c,m,y)=>{const _={height:ZR(m+i.top,cD(o),uD(o))};return c===qv.Both&&(_.width=ZR(y+i.left,DC(o),MC(o))),_},j_=(o,i,c)=>{const m=ze.fromDom(o.getContainer()),y=Kz(o,i,c,Vr(m),vi(m));lo(y,(_,C)=>{Fe(_)&&un(m,C,_z(_))}),qL(o)},Yz=o=>{const i=pD(o);return i===!1?qv.None:i==="both"?qv.Both:qv.Vertical},Kv=(o,i,c,m)=>{const _=qs(c*20,m*20);return j_(o,_,i),L.some(!0)},Yv=(o,i)=>{const c=Yz(o);return c===qv.None?L.none():L.some(Cd("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:i.translate("Resize")},behaviours:[Gv.config({mode:"mouse",repositionTarget:!1,onDrag:(m,y,_)=>j_(o,_,c),blockerClass:"tox-blocker"}),Sn.config({mode:"special",onLeft:()=>Kv(o,c,-1,0),onRight:()=>Kv(o,c,1,0),onUp:()=>Kv(o,c,0,-1),onDown:()=>Kv(o,c,0,1)}),ur.config({}),Pn.config({})]},i.icons))},tA=(o,i)=>{const c=(m,y,_)=>Bn.set(m,[Ks(i.translate(["{0} "+_,y[_]]))]);return Qs.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Lt([zu.button(i.isDisabled),La(),ur.config({}),Bn.config({}),tn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),no("wordcount-events",[lf(m=>{const y=tn.getValue(m),_=y.mode==="words"?"characters":"words";tn.setValue(m,{mode:_,count:y.count}),c(m,y.count,_)}),sr(m=>{o.on("wordCountUpdate",y=>{const{mode:_}=tn.getValue(m);tn.setValue(m,{mode:_,count:y.wordCount}),c(m,y.wordCount,_)})})])]),eventOrder:{[ji()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},EY=(o,i)=>{const c=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Mu.translate(["Powered by {0}","Tiny"])},innerHtml:CY.trim()},behaviours:Lt([Pn.config({})])}]}),m=()=>{const _=[];return H3(o)&&_.push(xY(o,{},i)),o.hasPlugin("wordcount")&&_.push(tA(o,i)),U3(o)&&_.push(c()),_.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:_}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const _=m(),C=Yv(o,i);return _.concat(C.toArray())})()}},Xz=(o,i)=>i.get().getOrDie(`UI for ${o} has not been rendered`),v8=(o,i)=>{const c=o.inline,m=c?OS:Jq,y=NC(o)?aG:MP,_=k$(),C=ns(),R=ns(),M=ns(),K=ki().deviceType.isTouch()?["tox-platform-touch"]:[],Q=sT(o),ie=yy(o),_e=es({dom:{tag:"div",classes:["tox-anchorbar"]}}),He=()=>_.mainUi.get().map(on=>on.outerContainer).bind(Rs.getHeader),De=()=>to.fromOption(_.dialogUi.get().map(on=>on.sink),"UI has not been rendered"),Ae=()=>to.fromOption(_.popupUi.get().map(on=>on.sink),"(popup) UI has not been rendered"),mt=_.lazyGetInOuterOrDie("anchor bar",_e.getOpt),bt=_.lazyGetInOuterOrDie("toolbar",Rs.getToolbar),Ut=_.lazyGetInOuterOrDie("throbber",Rs.getThrobber),Rt=PZ({popup:Ae,dialog:De},o,mt),Kt=()=>{const on={attributes:{[ww]:Q?pf.BottomToTop:pf.TopToBottom}},zn=Rs.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Rt.popup,onEscape:()=>{o.focus()}}),oo=Rs.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Rt.popup.shared.getSink,providers:Rt.popup.shared.providers,onEscape:()=>{o.focus()},onToolbarToggled:cA=>{A9(o,cA)},type:ie,lazyToolbar:bt,lazyHeader:()=>He().getOrDie("Could not find header element"),...on}),xo=Rs.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Rt.popup.shared.providers,onEscape:()=>{o.focus()},type:ie}),Gr=zC(o),Wo=nT(o),Al=eT(o),fr=Q2(o),Fd=vn(),Af=Gr||Wo||Al,Qp=()=>Gr?[xo]:Wo?[oo]:[],BS=fr?[Fd,zn]:[zn];return Rs.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Af?[]:["tox-editor-header--empty"]),...on},components:Ke([Al?BS:[],Qp(),by(o)?[]:[_e.asSpec()]]),sticky:NC(o),editor:o,sharedBackstage:Rt.popup.shared})},vn=()=>Rs.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),So=()=>{const on=Rs.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),zn=Rs.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[on,zn]}},wn=()=>{const on=yD(o),zn=as(Yr(),on)&&xt(on,"display")==="grid",oo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(K),attributes:{...Mu.isRtl()?{dir:"rtl"}:{}}},behaviours:Lt([ea.config({useFixed:()=>y.isDocked(He)})])},xo={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ss([St(ap(),Al=>{un(Al.element,"width",document.body.clientWidth+"px")})])},Gr=Da(ds(oo,zn?xo:{})),Wo=_M(Gr);return R.set(Wo),{sink:Gr,mothership:Wo}},bo=()=>{const on={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(K),attributes:{...Mu.isRtl()?{dir:"rtl"}:{}}},behaviours:Lt([ea.config({useFixed:()=>y.isDocked(He),getBounds:()=>i.getPopupSinkBounds()})])},zn=Da(on),oo=_M(zn);return M.set(oo),{sink:zn,mothership:oo}},Kn=()=>{const on=Kt(),zn=So(),oo=Rs.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Rt.popup}),xo=Rs.parts.viewWrapper({backstage:Rt.popup}),Gr=V3(o)&&!c?L.some(EY(o,Rt.popup.shared.providers)):L.none(),Wo=Ke([Q?[]:[on],c?[]:[zn],Q?[on]:[]]),Al=Rs.parts.editorContainer({components:Ke([Wo,c?[]:Gr.toArray()])}),fr=rT(o),Fd={role:"application",...Mu.isRtl()?{dir:"rtl"}:{},...fr?{"aria-hidden":"true"}:{}},Af=Da(Rs.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(c?["tox-tinymce-inline"]:[]).concat(Q?["tox-tinymce--toolbar-bottom"]:[]).concat(K),styles:{visibility:"hidden",...fr?{opacity:"0",border:"0"}:{}},attributes:Fd},components:[Al,...c?[]:[xo],oo],behaviours:Lt([La(),An.config({disableClass:"tox-tinymce--disabled"}),Sn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Qp=_M(Af);return C.set(Qp),{mothership:Qp,outerContainer:Af}},vo=on=>{const zn=_z(eK(o)),oo=_z(w$(o));return o.inline||(hg("div","width",oo)&&un(on.element,"width",oo),hg("div","height",zn)?un(on.element,"height",zn):un(on.element,"height","400px")),zn},$n=on=>{o.addShortcut("alt+F9","focus menubar",()=>{Rs.focusMenubar(on)}),o.addShortcut("alt+F10","focus toolbar",()=>{Rs.focusToolbar(on)}),o.addCommand("ToggleToolbarDrawer",(zn,oo)=>{oo!=null&&oo.skipFocus?Rs.toggleToolbarDrawerWithoutFocusing(on):Rs.toggleToolbarDrawer(on)}),o.addQueryStateHandler("ToggleToolbarDrawer",()=>Rs.isToolbarDrawerToggled(on))},os=on=>{const{mainUi:zn,popupUi:oo,uiMotherships:xo}=on;mo(fD(o),(n1,iN)=>{o.ui.registry.addGroupToolbarButton(iN,n1)});const{buttons:Gr,menuItems:Wo,contextToolbars:Al,sidebars:fr,views:Fd}=o.ui.registry.getAll(),Af=oT(o),Qp={menuItems:Wo,menus:G3(o),menubar:z3(o),toolbar:Af.getOrThunk(()=>X2(o)),allowToolbarGroups:ie===Pu.floating,buttons:Gr,sidebar:fr,views:Fd};$n(zn.outerContainer),zZ(o,zn.mothership,xo),y.setup(o,Rt.popup.shared,He),OK(o,Rt.popup),GK(o,Rt.popup.shared.getSink,Rt.popup),pG(o),RG(o,Ut,Rt.popup.shared),yK(o,Al,oo.sink,{backstage:Rt.popup}),kY(o,oo.sink);const BS=o.getElement(),cA=vo(zn.outerContainer),Q_={targetNode:BS,height:cA};return m.render(o,on,Qp,Rt.popup,Q_)},Yt=on=>(M.set(on.mothership),on),yn=()=>{const on=Kn(),zn=wn(),oo=vf(o)?bo():Yt(zn);_.dialogUi.set(zn),_.popupUi.set(oo),_.mainUi.set(on);const xo={popupUi:oo,dialogUi:zn,mainUi:on,uiMotherships:_.getUiMotherships()};return os(xo)};return{popups:{backstage:Rt.popup,getMothership:()=>Xz("popups",M)},dialogs:{backstage:Rt.dialog,getMothership:()=>Xz("dialogs",R)},renderUI:yn}},w8=(o,i)=>{const c=L.from(ua(o,"id")).fold(()=>{const m=dn("dialog-describe");return Jn(i,"id",m),m},Te);Jn(o,"aria-describedby",c)},TY=(o,i)=>{const c=G(o,"id").fold(()=>{const m=dn("dialog-label");return Jn(i,"id",m),m},Te);Jn(o,"aria-labelledby",c)},RY=J([Ct("lazySink"),jo("dragBlockClass"),Ur("getBounds",Ea),Be("useTabstopAt",It),Be("firstTabstop",0),Be("eventOrder",{}),Pa("modalBehaviours",[Sn]),ir("onExecute"),Mb("onEscape")]),Jz={sketch:Te},_8=J([wc({name:"draghandle",overrides:(o,i)=>({behaviours:Lt([Gv.config({mode:"mouse",getTarget:c=>xl(c,'[role="dialog"]').getOr(c),blockerClass:o.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(i,null,2)).message),getBounds:o.getDragBounds})])})}),za({schema:[Ct("dom")],name:"title"}),za({factory:Jz,schema:[Ct("dom")],name:"close"}),za({factory:Jz,schema:[Ct("dom")],name:"body"}),wc({factory:Jz,schema:[Ct("dom")],name:"footer"}),Iu({factory:{sketch:(o,i)=>({...o,dom:i.dom,components:i.components})},schema:[Be("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Be("components",[])],name:"blocker"})]),k8=(o,i,c,m)=>{const y=ns(),_=Q=>{y.set(Q);const ie=o.lazySink(Q).getOrDie(),_e=m.blocker(),He=ie.getSystem().build({..._e,components:_e.components.concat([Sl(Q)]),behaviours:Lt([Pn.config({}),no("dialog-blocker-events",[zg(Xh(),()=>{Sn.focusIn(Q)})])])});gf(ie,He),Sn.focusIn(Q)},C=Q=>{y.clear(),bl(Q.element).each(ie=>{Q.getSystem().getByDom(ie).each(_e=>{yf(_e)})})},R=Q=>wd(Q,o,"body"),M=Q=>wd(Q,o,"footer"),N=(Q,ie)=>{Rm.block(Q,ie)},V=Q=>{Rm.unblock(Q)},Z=dn("modal-events"),K={...o.eventOrder,[sf()]:[Z].concat(o.eventOrder["alloy.system.attached"]||[])};return{uid:o.uid,dom:o.dom,components:i,apis:{show:_,hide:C,getBody:R,getFooter:M,setIdle:V,setBusy:N},eventOrder:K,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:ta(o.modalBehaviours,[Bn.config({}),Sn.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt,firstTabstop:o.firstTabstop}),Rm.config({getRoot:y.get}),no(Z,[sr(Q=>{TY(Q.element,wd(Q,o,"title").element),w8(Q.element,wd(Q,o,"body").element)})])])}},na=Nr({name:"ModalDialog",configFields:RY(),partFields:_8(),factory:k8,apis:{show:(o,i)=>{o.show(i)},hide:(o,i)=>{o.hide(i)},getBody:(o,i)=>o.getBody(i),getFooter:(o,i)=>o.getFooter(i),setBusy:(o,i,c)=>{o.setBusy(i,c)},setIdle:(o,i)=>{o.setIdle(i)}}}),AY=ht([Wr,vy].concat(Rv)),IY=qf,Qz=[wT("button"),wf,Vl("align","end",["start","end"]),BC,xd,Hi("buttonType",["primary","secondary"])],eN=[...Qz,Vp],tN=[vu("type",["submit","cancel","custom"]),...eN],OY=[vu("type",["menu"]),ky,bT,wf,rl("items",AY),...Qz],DY=[...Qz,vu("type",["togglebutton"]),wr("tooltip"),yT,ky,ci("active",!1)],nN=$i("type",{submit:tN,cancel:tN,custom:tN,menu:OY,togglebutton:DY}),oN=[Wr,Vp,vu("level",["info","warn","error","success"]),yT,Be("url","")],MY=ht(oN),C8=o=>[Wr,o],PY=[Wr,Vp,xd,wT("button"),wf,e9,Hi("buttonType",["primary","secondary","toolbar"]),BC],zY=ht(PY),Xv=[Wr,vy],xh=Xv.concat([AD]),NY=Xv.concat([ED,xd]),Jv=ht(NY),S8=qf,LY=xh.concat([c_("auto")]),nA=ht(LY),W_=mb([xv,Vp,yT]),oA=xh.concat([qa("storageKey","default")]),x8=ht(oA),sA=ma,rA=ht(xh),E8=ma,T8=Xv.concat([qa("tag","textarea"),wr("scriptId"),wr("scriptUrl"),U0("settings",void 0)]),FY=Xv.concat([qa("tag","textarea"),mc("init")]),BY=Vs(o=>eo("customeditor.old",Fi(FY),o).orThunk(()=>eo("customeditor.new",Fi(T8),o))),Fy=ma,$Y=ht(xh),R8=Cg(),Z_=o=>[Wr,tp("columns"),o],aA=[Wr,wr("html"),Vl("presets","presentation",["presentation","document"])],A8=ht(aA),VY=xh.concat([ci("sandboxed",!0),ci("transparent",!0)]),HY=ht(VY),UY=ma,jY=ht(Xv.concat([_r("height")])),G_=ht([wr("url"),np("zoom"),np("cachedWidth"),np("cachedHeight")]),Ate=xh.concat([_r("inputMode"),_r("placeholder"),ci("maximized",!1),xd]),WY=ht(Ate),ZY=ma,Ite=o=>[Wr,ED,o],GY=[Vp,xv],qY=[Vp,rl("items",$l("items",()=>q_))],q_=Bl([ht(GY),ht(qY)]),KY=xh.concat([rl("items",q_),xd]),YY=ht(KY),I8=ma,XY=xh.concat([F1("items",[Vp,xv]),Kh("size",1),xd]),Ote=ht(XY),e=ma,s=xh.concat([ci("constrain",!0),xd]),a=ht(s),l=ht([wr("width"),wr("height")]),h=Xv.concat([ED,Kh("min",0),Kh("max",0)]),g=ht(h),v=hc,S=[Wr,rl("header",ma),rl("cells",Vc(ma))],A=ht(S),z=xh.concat([_r("placeholder"),ci("maximized",!1),xd]),W=ht(z),U=ma,X=[vu("type",["directory","leaf"]),TD,wr("id"),wu("menu",m6)],pe=ht(X),se=X.concat([rl("children",$l("children",()=>Hc("type",{directory:he,leaf:pe})))]),he=ht(se),Ie=Hc("type",{directory:he,leaf:pe}),Se=[Wr,rl("items",Ie),Kf("onLeafAction")],Me=ht(Se),Ze=xh.concat([Vl("filetype","file",["image","media","file"]),xd]),kt=ht(Ze),Zt=ht([xv,vT]),Ft=o=>Qo("items","items",Dr(),Vc(Vs(i=>eo(`Checking item of ${o}`,et,i).fold(c=>to.error(sl(c)),c=>to.value(c))))),et=Mr(()=>Hc("type",{alertbanner:MY,bar:ht(C8(Ft("bar"))),button:zY,checkbox:Jv,colorinput:x8,colorpicker:rA,dropzone:$Y,grid:ht(Z_(Ft("grid"))),iframe:HY,input:WY,listbox:YY,selectbox:Ote,sizeinput:a,slider:g,textarea:W,urlinput:kt,customeditor:BY,htmlpanel:A8,imagepreview:jY,collection:nA,label:ht(Ite(Ft("label"))),table:A,tree:Me,panel:nn})),nt=[Wr,Be("classes",[]),rl("items",et)],nn=ht(nt),Cn=[wT("tab"),TD,rl("items",et)],On=[Wr,F1("tabs",Cn)],so=ht(On),Co=eN,ts=nN,ys=ht([wr("title"),Vi("body",Hc("type",{panel:nn,tabpanel:so})),qa("size","normal"),rl("buttons",ts),Be("initialData",{}),Ur("onAction",ne),Ur("onChange",ne),Ur("onSubmit",ne),Ur("onClose",ne),Ur("onCancel",ne),Ur("onTabChange",ne)]),Sr=o=>eo("dialog",ys,o),qi=ht([vu("type",["cancel","custom"]),...Co]),Fa=ht([wr("title"),wr("url"),np("height"),np("width"),op("buttons",qi),Ur("onAction",ne),Ur("onCancel",ne),Ur("onClose",ne),Ur("onMessage",ne)]),Bt=o=>eo("dialog",Fa,o),pn=o=>T(o)?[o].concat(le(pi(o),pn)):$(o)?le(o,pn):[],Lo=o=>x(o.type)&&x(o.name),Jt={checkbox:S8,colorinput:sA,colorpicker:E8,dropzone:R8,input:ZY,iframe:UY,imagepreview:G_,selectbox:e,sizeinput:l,slider:v,listbox:I8,size:l,textarea:U,urlinput:Zt,customeditor:Fy,collection:W_,togglemenuitem:IY},Tn=o=>L.from(Jt[o.type]),Dn=o=>Xe(pn(o),Lo),Qt=o=>{const i=Dn(o),c=le(i,m=>Tn(m).fold(()=>[],y=>[Vi(m.name,y)]));return ht(c)},po=o=>{var i;const c=Cl(Sr(o)),m=Qt(o),y=(i=o.initialData)!==null&&i!==void 0?i:{};return{internalDialog:c,dataValidator:m,initialData:y}},ao={open:(o,i)=>{const c=po(i);return o(c.internalDialog,c.initialData,c.dataValidator)},openUrl:(o,i)=>{const c=Cl(Bt(i));return o(c)},redial:o=>po(o)};var js=Object.freeze({__proto__:null,events:(o,i)=>{const c=(m,y)=>{o.updateState.each(_=>{const C=_(m,y);i.set(C)}),o.renderComponents.each(_=>{const C=_(y,i.get());(o.reuseDom?X4:Y4)(m,C)})};return Ss([St(or(),(m,y)=>{const _=y;if(!_.universal){const C=o.channel;Zn(_.channels,C)&&c(m,_.data)}}),sr((m,y)=>{o.initialData.each(_=>{c(m,_)})})])}}),Vo=Object.freeze({__proto__:null,getState:(o,i,c)=>c}),Zr=[Ct("channel"),jo("renderComponents"),jo("updateState"),jo("initialData"),ci("reuseDom",!0)],dr=Object.freeze({__proto__:null,init:()=>{const o=D(L.none()),i=()=>o.set(L.none());return{readState:()=>o.get().getOr("none"),get:o.get,set:o.set,clear:i}}});const rs=Ja({fields:Zr,name:"reflecting",active:js,apis:Vo,state:dr}),Ws=o=>{const i=[],c={};return lo(o,(m,y)=>{m.fold(()=>{i.push(y)},_=>{c[y]=_})}),i.length>0?to.error(i):to.value(c)},oa=(o,i,c)=>{const m=es(k_.sketch(y=>({dom:{tag:"div",classes:["tox-form"].concat(o.classes)},components:Ee(o.items,_=>_P(y,_,i,c))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[m.asSpec()]}],behaviours:Lt([Sn.config({mode:"acyclic",useTabstopAt:je(lS)}),eu.memento(m),Fu.memento(m,{postprocess:y=>Ws(y).fold(_=>(console.error(_),{}),Te)})])}},Dd=(o,i)=>({uid:o.uid,dom:o.dom,components:o.components,events:V2(o.action),behaviours:ta(o.tabButtonBehaviours,[Pn.config({}),Sn.config({mode:"execution",useSpace:!0,useEnter:!0}),tn.config({store:{mode:"memory",initialValue:o.value}})]),domModification:o.domModification}),Ki=cr({name:"TabButton",configFields:[Be("uid",void 0),Ct("value"),Qo("dom","dom",ef(()=>({attributes:{role:"tab",id:dn("aria"),"aria-selected":"false"}})),Ra()),jo("action"),Be("domModification",{}),Pa("tabButtonBehaviours",[Pn,Sn,tn]),Ct("view")],factory:Dd}),Eh=J([Ct("tabs"),Ct("dom"),Be("clickToDismiss",!1),Pa("tabbarBehaviours",[No,Sn]),hp(["tabClass","selectedClass"])]),Vu=pm({factory:Ki,name:"tabs",unit:"tab",overrides:o=>{const i=(m,y)=>{No.dehighlight(m,y),xn(m,Ex(),{tabbar:m,button:y})},c=(m,y)=>{No.highlight(m,y),xn(m,q0(),{tabbar:m,button:y})};return{action:m=>{const y=m.getSystem().getByUid(o.uid).getOrDie(),_=No.isHighlighted(y,m);(()=>_&&o.clickToDismiss?i:_?ne:c)()(y,m)},domModification:{classes:[o.markers.tabClass]}}}}),Qv=J([Vu]),e1=(o,i,c,m)=>({uid:o.uid,dom:o.dom,components:i,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:ta(o.tabbarBehaviours,[No.config({highlightClass:o.markers.selectedClass,itemClass:o.markers.tabClass,onHighlight:(y,_)=>{Jn(_.element,"aria-selected","true")},onDehighlight:(y,_)=>{Jn(_.element,"aria-selected","false")}}),Sn.config({mode:"flow",getInitial:y=>No.getHighlighted(y).map(_=>_.element),selector:"."+o.markers.tabClass,executeOnMove:!0})])}),Ef=Nr({name:"Tabbar",configFields:Eh(),partFields:Qv(),factory:e1}),Tf=(o,i)=>({uid:o.uid,dom:o.dom,behaviours:ta(o.tabviewBehaviours,[Bn.config({})]),domModification:{attributes:{role:"tabpanel"}}}),_a=cr({name:"Tabview",configFields:[Pa("tabviewBehaviours",[Bn])],factory:Tf}),Md=J([Be("selectFirst",!0),ko("onChangeTab"),ko("onDismissTab"),Be("tabs",[]),Pa("tabSectionBehaviours",[])]),Th=za({factory:Ef,schema:[Ct("dom"),ld("markers",[Ct("tabClass"),Ct("selectedClass")])],name:"tabbar",defaults:o=>({tabs:o.tabs})}),Pd=za({factory:_a,name:"tabview"}),zd=J([Th,Pd]),Am=(o,i,c,m)=>{const y=C=>{const R=tn.getValue(C);gs(C,o,"tabview").each(M=>{Oe(o.tabs,V=>V.value===R).each(V=>{const Z=V.view();G(C.element,"id").each(K=>{Jn(M.element,"aria-labelledby",K)}),Bn.set(M,Z),o.onChangeTab(M,C,Z)})})},_=(C,R)=>{gs(C,o,"tabbar").each(M=>{R(M).each(rf)})};return{uid:o.uid,dom:o.dom,components:i,behaviours:qc(o.tabSectionBehaviours),events:Ss(Ke([o.selectFirst?[sr((C,R)=>{_(C,No.getFirst)})]:[],[St(q0(),(C,R)=>{const M=R.event.button;y(M)}),St(Ex(),(C,R)=>{const M=R.event.button;o.onDismissTab(C,M)})]])),apis:{getViewItems:C=>gs(C,o,"tabview").map(R=>Bn.contents(R)).getOr([]),showTab:(C,R)=>{_(C,N=>{const V=No.getCandidates(N);return Oe(V,K=>tn.getValue(K)===R).filter(K=>!No.isHighlighted(N,K))})}}}},Ba=Nr({name:"TabSection",configFields:Md(),partFields:zd(),factory:Am,apis:{getViewItems:(o,i)=>o.getViewItems(i),showTab:(o,i,c)=>{o.showTab(i,c)}}}),Xp=(o,i,c)=>Ee(o,(m,y)=>{Bn.set(c,o[y].view());const _=i.dom.getBoundingClientRect();return Bn.set(c,[]),_.height}),Im=o=>zt(Ye(o,(i,c)=>i>c?-1:i<c?1:0)),Rf=(o,i,c)=>{const m=zf(o).dom,y=xl(o,".tox-dialog-wrap").getOr(o),_=xt(y,"position")==="fixed";let C;_?C=Math.max(m.clientHeight,window.innerHeight):C=Math.max(m.offsetHeight,m.scrollHeight);const R=Vr(i),N=i.dom.offsetLeft>=c.dom.offsetLeft+vi(c)?Math.max(Vr(c),R):R,V=parseInt(xt(o,"margin-top"),10)||0,Z=parseInt(xt(o,"margin-bottom"),10)||0,Q=Vr(o)+V+Z-N;return C-Q},By=(o,i)=>{zt(o).each(c=>Ba.showTab(i,c.value))},K_=(o,i)=>{un(o,"height",i+"px"),un(o,"flex-basis",i+"px")},Y_=(o,i,c)=>{xl(o,'[role="dialog"]').each(m=>{Ys(m,'[role="tablist"]').each(y=>{c.get().map(_=>(un(i,"height","0"),un(i,"flex-basis","0"),Math.min(_,Rf(m,i,y)))).each(_=>{K_(i,_)})})})},X_=o=>Ys(o,'[role="tabpanel"]'),sN=o=>{const i=ns();return{extraEvents:[sr(y=>{const _=y.element;X_(_).each(C=>{un(C,"visibility","hidden"),y.getSystem().getByDom(C).toOptional().each(R=>{const M=Xp(o,C,R);Im(M).fold(i.clear,i.set)}),Y_(_,C,i),Ro(C,"visibility"),By(o,y),requestAnimationFrame(()=>{Y_(_,C,i)})})}),St(ap(),y=>{const _=y.element;X_(_).each(C=>{Y_(_,C,i)})}),St(NF,(y,_)=>{const C=y.element;X_(C).each(R=>{const M=mf(Br(R));un(R,"visibility","hidden");const N=er(R,"height").map(K=>parseInt(K,10));Ro(R,"height"),Ro(R,"flex-basis");const V=R.dom.getBoundingClientRect().height;N.forall(K=>V>K)?(i.set(V),Y_(C,R,i)):N.each(K=>{K_(R,K)}),Ro(R,"visibility"),M.each(Su)})})],selectFirst:!1}},iA="send-data-to-section",rN="send-data-to-view",Rh=(o,i,c)=>{const m=D({}),y=N=>{const V=tn.getValue(N),Z=Ws(V).getOr({}),K=m.get(),Q=ds(K,Z);m.set(Q)},_=N=>{const V=m.get();tn.setValue(N,V)},C=D(null),R=Ee(o.tabs,N=>({value:N.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Ks(c.shared.providers.translate(N.title))],view:()=>[k_.sketch(V=>({dom:{tag:"div",classes:["tox-form"]},components:Ee(N.items,Z=>_P(V,Z,i,c)),formBehaviours:Lt([Sn.config({mode:"acyclic",useTabstopAt:je(lS)}),no("TabView.form.events",[sr(_),al(y)]),Pr.config({channels:$o([{key:iA,value:{onReceive:y}},{key:rN,value:{onReceive:_}}])})])}))]})),M=sN(R);return Ba.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(N,V,Z)=>{const K=tn.getValue(V);xn(N,zF,{name:K,oldName:C.get()}),C.set(K)},tabs:R,components:[Ba.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Ef.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Lt([ur.config({})])}),Ba.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:M.selectFirst,tabSectionBehaviours:Lt([no("tabpanel",M.extraEvents),Sn.config({mode:"acyclic"}),yo.config({find:N=>zt(Ba.getViewItems(N))}),Fu.withComp(L.none(),N=>(N.getSystem().broadcastOn([iA],{}),m.get()),(N,V)=>{m.set(V),N.getSystem().broadcastOn([rN],{})})])})},$y=dn("update-dialog"),Ge=dn("update-title"),qe=dn("update-body"),$t=dn("update-footer"),Mt=dn("body-send-message"),En=(o,i,c,m,y)=>{const _=M=>{const N=M.body;switch(N.type){case"tabpanel":return[Rh(N,M.initialData,m)];default:return[oa(N,M.initialData,m)]}},C=(M,N)=>L.some({isTabPanel:()=>N.body.type==="tabpanel"}),R={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...c.map(M=>({id:M})).getOr({}),...y?R:{}}},components:[],behaviours:Lt([eu.childAt(0),rs.config({channel:`${qe}-${i}`,updateState:C,renderComponents:_,initialData:o})])}},Fo=(o,i,c,m,y)=>En(o,i,L.some(c),m,y),Fs=(o,i,c)=>{const m=En(o,i,L.none(),c,!1);return na.parts.body(m)},Bs=o=>{const i={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[SB({dom:{tag:"iframe",attributes:{src:o.url}},behaviours:Lt([ur.config({}),Pn.config({})])})]}],behaviours:Lt([Sn.config({mode:"acyclic",useTabstopAt:je(lS)})])};return na.parts.body(i)};function Nd(o){return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Nd(o)}function t1(o,i){return t1=Object.setPrototypeOf||function(m,y){return m.__proto__=y,m},t1(o,i)}function O8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function LS(o,i,c){return O8()?LS=Reflect.construct:LS=function(y,_,C){var R=[null];R.push.apply(R,_);var M=Function.bind.apply(y,R),N=new M;return C&&t1(N,C.prototype),N},LS.apply(null,arguments)}function Ah(o){return ho(o)||ct(o)||gn(o)||Lr()}function ho(o){if(Array.isArray(o))return Hn(o)}function ct(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function gn(o,i){if(!!o){if(typeof o=="string")return Hn(o,i);var c=Object.prototype.toString.call(o).slice(8,-1);if(c==="Object"&&o.constructor&&(c=o.constructor.name),c==="Map"||c==="Set")return Array.from(o);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Hn(o,i)}}function Hn(o,i){(i==null||i>o.length)&&(i=o.length);for(var c=0,m=new Array(i);c<i;c++)m[c]=o[c];return m}function Lr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Hu=Object.hasOwnProperty,Ql=Object.setPrototypeOf,ec=Object.isFrozen,lA=Object.getPrototypeOf,tc=Object.getOwnPropertyDescriptor,xc=Object.freeze,Om=Object.seal,JY=Object.create,QY=typeof Reflect<"u"&&Reflect,D8=QY.apply,eX=QY.construct;D8||(D8=function(i,c,m){return i.apply(c,m)}),xc||(xc=function(i){return i}),Om||(Om=function(i){return i}),eX||(eX=function(i,c){return LS(i,Ah(c))});var rue=Jp(Array.prototype.forEach),aue=Jp(Array.prototype.pop),aN=Jp(Array.prototype.push),M8=Jp(String.prototype.toLowerCase),iue=Jp(String.prototype.match),J_=Jp(String.prototype.replace),lue=Jp(String.prototype.indexOf),cue=Jp(String.prototype.trim),Ld=Jp(RegExp.prototype.test),tX=uue(TypeError);function Jp(o){return function(i){for(var c=arguments.length,m=new Array(c>1?c-1:0),y=1;y<c;y++)m[y-1]=arguments[y];return D8(o,i,m)}}function uue(o){return function(){for(var i=arguments.length,c=new Array(i),m=0;m<i;m++)c[m]=arguments[m];return eX(o,c)}}function Is(o,i){Ql&&Ql(o,null);for(var c=i.length;c--;){var m=i[c];if(typeof m=="string"){var y=M8(m);y!==m&&(ec(i)||(i[c]=y),m=y)}o[m]=!0}return o}function FS(o){var i=JY(null),c;for(c in o)D8(Hu,o,[c])&&(i[c]=o[c]);return i}function P8(o,i){for(;o!==null;){var c=tc(o,i);if(c){if(c.get)return Jp(c.get);if(typeof c.value=="function")return Jp(c.value)}o=lA(o)}function m(y){return console.warn("fallback value for",y),null}return m}var Dte=xc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),nX=xc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),oX=xc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),due=xc(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),sX=xc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),fue=xc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Mte=xc(["#text"]),Pte=xc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),rX=xc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),zte=xc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),z8=xc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),hue=Om(/\{\{[\w\W]*|[\w\W]*\}\}/gm),mue=Om(/<%[\w\W]*|[\w\W]*%>/gm),pue=Om(/^data-[\-\w.\u00B7-\uFFFF]/),gue=Om(/^aria-[\-\w]+$/),yue=Om(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),bue=Om(/^(?:\w+script|data):/i),vue=Om(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),wue=Om(/^html$/i),_ue=function(){return typeof window>"u"?null:window},kue=function(i,c){if(Nd(i)!=="object"||typeof i.createPolicy!="function")return null;var m=null,y="data-tt-policy-suffix";c.currentScript&&c.currentScript.hasAttribute(y)&&(m=c.currentScript.getAttribute(y));var _="dompurify"+(m?"#"+m:"");try{return i.createPolicy(_,{createHTML:function(R){return R}})}catch{return console.warn("TrustedTypes policy "+_+" could not be created."),null}};function Nte(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_ue(),i=function(ft){return Nte(ft)};if(i.version="2.3.8",i.removed=[],!o||!o.document||o.document.nodeType!==9)return i.isSupported=!1,i;var c=o.document,m=o.document,y=o.DocumentFragment,_=o.HTMLTemplateElement,C=o.Node,R=o.Element,M=o.NodeFilter,N=o.NamedNodeMap,V=N===void 0?o.NamedNodeMap||o.MozNamedAttrMap:N,Z=o.HTMLFormElement,K=o.DOMParser,Q=o.trustedTypes,ie=R.prototype,_e=P8(ie,"cloneNode"),He=P8(ie,"nextSibling"),De=P8(ie,"childNodes"),Ae=P8(ie,"parentNode");if(typeof _=="function"){var mt=m.createElement("template");mt.content&&mt.content.ownerDocument&&(m=mt.content.ownerDocument)}var bt=kue(Q,c),Ut=bt?bt.createHTML(""):"",Rt=m,Kt=Rt.implementation,vn=Rt.createNodeIterator,So=Rt.createDocumentFragment,wn=Rt.getElementsByTagName,bo=c.importNode,Kn={};try{Kn=FS(m).documentMode?m.documentMode:{}}catch{}var vo={};i.isSupported=typeof Ae=="function"&&Kt&&typeof Kt.createHTMLDocument<"u"&&Kn!==9;var $n=hue,os=mue,Yt=pue,yn=gue,on=bue,zn=vue,oo=yue,xo=null,Gr=Is({},[].concat(Ah(Dte),Ah(nX),Ah(oX),Ah(sX),Ah(Mte))),Wo=null,Al=Is({},[].concat(Ah(Pte),Ah(rX),Ah(zte),Ah(z8))),fr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Fd=null,Af=null,Qp=!0,BS=!0,cA=!1,Q_=!1,n1=!1,iN=!1,uX=!1,uA=!1,N8=!1,L8=!1,one=!0,dX=!0,lN=!1,dA={},fA=null,sne=Is({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),rne=null,ane=Is({},["audio","video","img","source","image","track"]),fX=null,ine=Is({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),hX="http://www.w3.org/1998/Math/MathML",mX="http://www.w3.org/2000/svg",e0="http://www.w3.org/1999/xhtml",F8=e0,pX=!1,hA,Kue=["application/xhtml+xml","text/html"],Yue="text/html",$S,mA=null,Xue=m.createElement("form"),lne=function(ft){return ft instanceof RegExp||ft instanceof Function},gX=function(ft){mA&&mA===ft||((!ft||Nd(ft)!=="object")&&(ft={}),ft=FS(ft),xo="ALLOWED_TAGS"in ft?Is({},ft.ALLOWED_TAGS):Gr,Wo="ALLOWED_ATTR"in ft?Is({},ft.ALLOWED_ATTR):Al,fX="ADD_URI_SAFE_ATTR"in ft?Is(FS(ine),ft.ADD_URI_SAFE_ATTR):ine,rne="ADD_DATA_URI_TAGS"in ft?Is(FS(ane),ft.ADD_DATA_URI_TAGS):ane,fA="FORBID_CONTENTS"in ft?Is({},ft.FORBID_CONTENTS):sne,Fd="FORBID_TAGS"in ft?Is({},ft.FORBID_TAGS):{},Af="FORBID_ATTR"in ft?Is({},ft.FORBID_ATTR):{},dA="USE_PROFILES"in ft?ft.USE_PROFILES:!1,Qp=ft.ALLOW_ARIA_ATTR!==!1,BS=ft.ALLOW_DATA_ATTR!==!1,cA=ft.ALLOW_UNKNOWN_PROTOCOLS||!1,Q_=ft.SAFE_FOR_TEMPLATES||!1,n1=ft.WHOLE_DOCUMENT||!1,uA=ft.RETURN_DOM||!1,N8=ft.RETURN_DOM_FRAGMENT||!1,L8=ft.RETURN_TRUSTED_TYPE||!1,uX=ft.FORCE_BODY||!1,one=ft.SANITIZE_DOM!==!1,dX=ft.KEEP_CONTENT!==!1,lN=ft.IN_PLACE||!1,oo=ft.ALLOWED_URI_REGEXP||oo,F8=ft.NAMESPACE||e0,ft.CUSTOM_ELEMENT_HANDLING&&lne(ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(fr.tagNameCheck=ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&lne(ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(fr.attributeNameCheck=ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&typeof ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(fr.allowCustomizedBuiltInElements=ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),hA=Kue.indexOf(ft.PARSER_MEDIA_TYPE)===-1?hA=Yue:hA=ft.PARSER_MEDIA_TYPE,$S=hA==="application/xhtml+xml"?function(bn){return bn}:M8,Q_&&(BS=!1),N8&&(uA=!0),dA&&(xo=Is({},Ah(Mte)),Wo=[],dA.html===!0&&(Is(xo,Dte),Is(Wo,Pte)),dA.svg===!0&&(Is(xo,nX),Is(Wo,rX),Is(Wo,z8)),dA.svgFilters===!0&&(Is(xo,oX),Is(Wo,rX),Is(Wo,z8)),dA.mathMl===!0&&(Is(xo,sX),Is(Wo,zte),Is(Wo,z8))),ft.ADD_TAGS&&(xo===Gr&&(xo=FS(xo)),Is(xo,ft.ADD_TAGS)),ft.ADD_ATTR&&(Wo===Al&&(Wo=FS(Wo)),Is(Wo,ft.ADD_ATTR)),ft.ADD_URI_SAFE_ATTR&&Is(fX,ft.ADD_URI_SAFE_ATTR),ft.FORBID_CONTENTS&&(fA===sne&&(fA=FS(fA)),Is(fA,ft.FORBID_CONTENTS)),dX&&(xo["#text"]=!0),n1&&Is(xo,["html","head","body"]),xo.table&&(Is(xo,["tbody"]),delete Fd.tbody),xc&&xc(ft),mA=ft)},cne=Is({},["mi","mo","mn","ms","mtext"]),une=Is({},["foreignobject","desc","title","annotation-xml"]),Jue=Is({},["title","style","font","a","script"]),B8=Is({},nX);Is(B8,oX),Is(B8,due);var yX=Is({},sX);Is(yX,fue);var Que=function(ft){var bn=Ae(ft);(!bn||!bn.tagName)&&(bn={namespaceURI:e0,tagName:"template"});var Yn=M8(ft.tagName),sa=M8(bn.tagName);return ft.namespaceURI===mX?bn.namespaceURI===e0?Yn==="svg":bn.namespaceURI===hX?Yn==="svg"&&(sa==="annotation-xml"||cne[sa]):Boolean(B8[Yn]):ft.namespaceURI===hX?bn.namespaceURI===e0?Yn==="math":bn.namespaceURI===mX?Yn==="math"&&une[sa]:Boolean(yX[Yn]):ft.namespaceURI===e0?bn.namespaceURI===mX&&!une[sa]||bn.namespaceURI===hX&&!cne[sa]?!1:!yX[Yn]&&(Jue[Yn]||!B8[Yn]):!1},o1=function(ft){aN(i.removed,{element:ft});try{ft.parentNode.removeChild(ft)}catch{try{ft.outerHTML=Ut}catch{ft.remove()}}},$8=function(ft,bn){try{aN(i.removed,{attribute:bn.getAttributeNode(ft),from:bn})}catch{aN(i.removed,{attribute:null,from:bn})}if(bn.removeAttribute(ft),ft==="is"&&!Wo[ft])if(uA||N8)try{o1(bn)}catch{}else try{bn.setAttribute(ft,"")}catch{}},dne=function(ft){var bn,Yn;if(uX)ft="<remove></remove>"+ft;else{var sa=iue(ft,/^[\r\n\t ]+/);Yn=sa&&sa[0]}hA==="application/xhtml+xml"&&(ft='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ft+"</body></html>");var If=bt?bt.createHTML(ft):ft;if(F8===e0)try{bn=new K().parseFromString(If,hA)}catch{}if(!bn||!bn.documentElement){bn=Kt.createDocument(F8,"template",null);try{bn.documentElement.innerHTML=pX?"":If}catch{}}var Uu=bn.body||bn.documentElement;return ft&&Yn&&Uu.insertBefore(m.createTextNode(Yn),Uu.childNodes[0]||null),F8===e0?wn.call(bn,n1?"html":"body")[0]:n1?bn.documentElement:Uu},fne=function(ft){return vn.call(ft.ownerDocument||ft,ft,M.SHOW_ELEMENT|M.SHOW_COMMENT|M.SHOW_TEXT,null,!1)},ede=function(ft){return ft instanceof Z&&(typeof ft.nodeName!="string"||typeof ft.textContent!="string"||typeof ft.removeChild!="function"||!(ft.attributes instanceof V)||typeof ft.removeAttribute!="function"||typeof ft.setAttribute!="function"||typeof ft.namespaceURI!="string"||typeof ft.insertBefore!="function")},cN=function(ft){return Nd(C)==="object"?ft instanceof C:ft&&Nd(ft)==="object"&&typeof ft.nodeType=="number"&&typeof ft.nodeName=="string"},s1=function(ft,bn,Yn){!vo[ft]||rue(vo[ft],function(sa){sa.call(i,bn,Yn,mA)})},hne=function(ft){var bn;if(s1("beforeSanitizeElements",ft,null),ede(ft)||Ld(/[\u0080-\uFFFF]/,ft.nodeName))return o1(ft),!0;var Yn=$S(ft.nodeName);if(s1("uponSanitizeElement",ft,{tagName:Yn,allowedTags:xo}),ft.hasChildNodes()&&!cN(ft.firstElementChild)&&(!cN(ft.content)||!cN(ft.content.firstElementChild))&&Ld(/<[/\w]/g,ft.innerHTML)&&Ld(/<[/\w]/g,ft.textContent)||Yn==="select"&&Ld(/<template/i,ft.innerHTML))return o1(ft),!0;if(!xo[Yn]||Fd[Yn]){if(!Fd[Yn]&&pne(Yn)&&(fr.tagNameCheck instanceof RegExp&&Ld(fr.tagNameCheck,Yn)||fr.tagNameCheck instanceof Function&&fr.tagNameCheck(Yn)))return!1;if(dX&&!fA[Yn]){var sa=Ae(ft)||ft.parentNode,If=De(ft)||ft.childNodes;if(If&&sa)for(var Uu=If.length,ou=Uu-1;ou>=0;--ou)sa.insertBefore(_e(If[ou],!0),He(ft))}return o1(ft),!0}return ft instanceof R&&!Que(ft)||(Yn==="noscript"||Yn==="noembed")&&Ld(/<\/no(script|embed)/i,ft.innerHTML)?(o1(ft),!0):(Q_&&ft.nodeType===3&&(bn=ft.textContent,bn=J_(bn,$n," "),bn=J_(bn,os," "),ft.textContent!==bn&&(aN(i.removed,{element:ft.cloneNode()}),ft.textContent=bn)),s1("afterSanitizeElements",ft,null),!1)},mne=function(ft,bn,Yn){if(one&&(bn==="id"||bn==="name")&&(Yn in m||Yn in Xue))return!1;if(!(BS&&!Af[bn]&&Ld(Yt,bn))){if(!(Qp&&Ld(yn,bn))){if(!Wo[bn]||Af[bn]){if(!(pne(ft)&&(fr.tagNameCheck instanceof RegExp&&Ld(fr.tagNameCheck,ft)||fr.tagNameCheck instanceof Function&&fr.tagNameCheck(ft))&&(fr.attributeNameCheck instanceof RegExp&&Ld(fr.attributeNameCheck,bn)||fr.attributeNameCheck instanceof Function&&fr.attributeNameCheck(bn))||bn==="is"&&fr.allowCustomizedBuiltInElements&&(fr.tagNameCheck instanceof RegExp&&Ld(fr.tagNameCheck,Yn)||fr.tagNameCheck instanceof Function&&fr.tagNameCheck(Yn))))return!1}else if(!fX[bn]){if(!Ld(oo,J_(Yn,zn,""))){if(!((bn==="src"||bn==="xlink:href"||bn==="href")&&ft!=="script"&&lue(Yn,"data:")===0&&rne[ft])){if(!(cA&&!Ld(on,J_(Yn,zn,"")))){if(Yn)return!1}}}}}}return!0},pne=function(ft){return ft.indexOf("-")>0},gne=function(ft){var bn,Yn,sa,If;s1("beforeSanitizeAttributes",ft,null);var Uu=ft.attributes;if(!!Uu){var ou={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Wo};for(If=Uu.length;If--;){bn=Uu[If];var V8=bn,su=V8.name,yne=V8.namespaceURI;Yn=su==="value"?bn.value:cue(bn.value),sa=$S(su);var nde=Yn;if(ou.attrName=sa,ou.attrValue=Yn,ou.keepAttr=!0,ou.forceKeepAttr=void 0,s1("uponSanitizeAttribute",ft,ou),Yn=ou.attrValue,!ou.forceKeepAttr){if(!ou.keepAttr){$8(su,ft);continue}if(Ld(/\/>/i,Yn)){$8(su,ft);continue}Q_&&(Yn=J_(Yn,$n," "),Yn=J_(Yn,os," "));var ode=$S(ft.nodeName);if(!mne(ode,sa,Yn)){$8(su,ft);continue}if(Yn!==nde)try{yne?ft.setAttributeNS(yne,su,Yn):ft.setAttribute(su,Yn)}catch{$8(su,ft)}}}s1("afterSanitizeAttributes",ft,null)}},tde=function wo(ft){var bn,Yn=fne(ft);for(s1("beforeSanitizeShadowDOM",ft,null);bn=Yn.nextNode();)s1("uponSanitizeShadowNode",bn,null),!hne(bn)&&(bn.content instanceof y&&wo(bn.content),gne(bn));s1("afterSanitizeShadowDOM",ft,null)};return i.sanitize=function(wo,ft){var bn,Yn,sa,If,Uu;if(pX=!wo,pX&&(wo="<!-->"),typeof wo!="string"&&!cN(wo)){if(typeof wo.toString!="function")throw tX("toString is not a function");if(wo=wo.toString(),typeof wo!="string")throw tX("dirty is not a string, aborting")}if(!i.isSupported){if(Nd(o.toStaticHTML)==="object"||typeof o.toStaticHTML=="function"){if(typeof wo=="string")return o.toStaticHTML(wo);if(cN(wo))return o.toStaticHTML(wo.outerHTML)}return wo}if(iN||gX(ft),i.removed=[],typeof wo=="string"&&(lN=!1),lN){if(wo.nodeName){var ou=$S(wo.nodeName);if(!xo[ou]||Fd[ou])throw tX("root node is forbidden and cannot be sanitized in-place")}}else if(wo instanceof C)bn=dne("<!---->"),Yn=bn.ownerDocument.importNode(wo,!0),Yn.nodeType===1&&Yn.nodeName==="BODY"||Yn.nodeName==="HTML"?bn=Yn:bn.appendChild(Yn);else{if(!uA&&!Q_&&!n1&&wo.indexOf("<")===-1)return bt&&L8?bt.createHTML(wo):wo;if(bn=dne(wo),!bn)return uA?null:L8?Ut:""}bn&&uX&&o1(bn.firstChild);for(var V8=fne(lN?wo:bn);sa=V8.nextNode();)sa.nodeType===3&&sa===If||hne(sa)||(sa.content instanceof y&&tde(sa.content),gne(sa),If=sa);if(If=null,lN)return wo;if(uA){if(N8)for(Uu=So.call(bn.ownerDocument);bn.firstChild;)Uu.appendChild(bn.firstChild);else Uu=bn;return Wo.shadowroot&&(Uu=bo.call(c,Uu,!0)),Uu}var su=n1?bn.outerHTML:bn.innerHTML;return n1&&xo["!doctype"]&&bn.ownerDocument&&bn.ownerDocument.doctype&&bn.ownerDocument.doctype.name&&Ld(wue,bn.ownerDocument.doctype.name)&&(su="<!DOCTYPE "+bn.ownerDocument.doctype.name+`>
`+su),Q_&&(su=J_(su,$n," "),su=J_(su,os," ")),bt&&L8?bt.createHTML(su):su},i.setConfig=function(wo){gX(wo),iN=!0},i.clearConfig=function(){mA=null,iN=!1},i.isValidAttribute=function(wo,ft,bn){mA||gX({});var Yn=$S(wo),sa=$S(ft);return mne(Yn,sa,bn)},i.addHook=function(wo,ft){typeof ft=="function"&&(vo[wo]=vo[wo]||[],aN(vo[wo],ft))},i.removeHook=function(wo){if(vo[wo])return aue(vo[wo])},i.removeHooks=function(wo){vo[wo]&&(vo[wo]=[])},i.removeAllHooks=function(){vo={}},i}var Cue=Nte();const Sue=o=>Cue().sanitize(o),xue=kv.deviceType.isTouch(),Lte=(o,i)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[o,i]}),Fte=(o,i)=>na.parts.close(Qs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":i.translate("Close")}},action:o,buttonBehaviours:Lt([ur.config({})])})),Bte=()=>na.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),$te=(o,i)=>na.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:My(`<p>${Sue(i.translate(o))}</p>`)}]}]}),Vte=o=>na.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:o}),Hte=(o,i)=>[vh.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:o}),vh.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:i})],aX=o=>{const i="tox-dialog",c=i+"-wrap",m=c+"__backdrop",y=i+"__disable-scroll";return na.sketch({lazySink:o.lazySink,onEscape:_=>(o.onEscape(_),L.some(!0)),useTabstopAt:_=>!lS(_),firstTabstop:o.firstTabstop,dom:{tag:"div",classes:[i].concat(o.extraClasses),styles:{position:"relative",...o.extraStyles}},components:[o.header,o.body,...o.footer.toArray()],parts:{blocker:{dom:My(`<div class="${c}"></div>`),components:[{dom:{tag:"div",classes:xue?[m,m+"--opaque"]:[m]}}]}},dragBlockClass:c,modalBehaviours:Lt([Pn.config({}),no("dialog-events",o.dialogEvents.concat([zg(Xh(),(_,C)=>{Sn.focusIn(_)})])),no("scroll-lock",[sr(()=>{Jr(Yr(),y)}),al(()=>{xs(Yr(),y)})]),...o.extraBehaviours]),eventOrder:{[ji()]:["dialog-events"],[sf()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[ud()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...o.eventOrder}})},Ute=o=>Qs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close"),title:o.translate("Close")}},buttonBehaviours:Lt([ur.config({})]),components:[Cd("close",{tag:"div",classes:["tox-icon"]},o.icons)],action:i=>{zo(i,Nv)}}),jte=(o,i,c,m)=>{const y=_=>[Ks(m.translate(_.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...c.map(_=>({id:_})).getOr({})}},components:[],behaviours:Lt([rs.config({channel:`${Ge}-${i}`,initialData:o,renderComponents:y})])}},Wte=()=>({dom:My('<div class="tox-dialog__draghandle"></div>')}),Eue=(o,i,c,m)=>vh.sketch({dom:My('<div class="tox-dialog__header"></div>'),components:[jte(o,i,L.some(c),m),Wte(),Ute(m)],containerBehaviours:Lt([Gv.config({mode:"mouse",blockerClass:"blocker",getTarget:y=>md(y,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),Tue=(o,i,c)=>{const m=na.parts.title(jte(o,i,L.none(),c)),y=na.parts.draghandle(Wte()),_=na.parts.close(Ute(c)),C=[m].concat(o.draggable?[y]:[]).concat([_]);return vh.sketch({dom:My('<div class="tox-dialog__header"></div>'),components:C})},Zte=(o,i,c)=>Tue({title:c.shared.providers.translate(o),draggable:c.dialog.isDraggableModal()},i,c.shared.providers),Gte=(o,i,c)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":c.translate(o)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:i,components:[{dom:My('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),qte=(o,i,c)=>({onClose:()=>c.closeWindow(),onBlock:m=>{na.setBusy(o(),(y,_)=>Gte(m.message,_,i))},onUnblock:()=>{na.setIdle(o())}}),Kte=(o,i,c,m)=>{const y=(_,C)=>L.some(C);return Da(aX({...o,firstTabstop:1,lazySink:m.shared.getSink,extraBehaviours:[rs.config({channel:`${$y}-${o.id}`,updateState:y,initialData:i}),Fu.memory({}),...o.extraBehaviours],onEscape:_=>{zo(_,Nv)},dialogEvents:c,eventOrder:{[or()]:[rs.name(),Pr.name()],[sf()]:["scroll-lock",rs.name(),"messages","dialog-events","alloy.base.behaviour"],[ud()]:["alloy.base.behaviour","dialog-events","messages",rs.name(),"scroll-lock"]}}))},iX=(o,i={})=>{const c=m=>{const y=Ee(m.items,_=>{const C=Gt(i,_.name).getOr(D(!1));return{..._,storage:C}});return{...m,items:y}};return Ee(o,m=>m.type==="menu"?c(m):m)},Yte=o=>re(o,(i,c)=>c.type==="menu"?re(c.items,(y,_)=>(y[_.name]=_.storage,y),i):i,{}),Xte=(o,i)=>[kb(Xh(),aW),o(JC,(c,m,y,_)=>{mf(Br(_.element)).fold(ne,wk),i.onClose(),m.onClose()}),o(Nv,(c,m,y,_)=>{m.onCancel(c),zo(_,JC)}),St(SM,(c,m)=>i.onUnblock()),St(CM,(c,m)=>i.onBlock(m.event))],lX={initUrlDialog:(o,i)=>{const c=(y,_)=>St(y,(C,R)=>{m(C,(M,N)=>{_(o(),M,R.event,C)})}),m=(y,_)=>{rs.getState(y).get().each(C=>{_(C,y)})};return[...Xte(c,i),c(wm,(y,_,C)=>{_.onAction(y,{name:C.name})})]},initDialog:(o,i,c)=>{const m=(_,C)=>St(_,(R,M)=>{y(R,(N,V)=>{C(o(),N,M.event,R)})}),y=(_,C)=>{rs.getState(_).get().each(R=>{C(R.internalDialog,_)})};return[...Xte(m,i),m(QC,(_,C)=>C.onSubmit(_)),m(Jc,(_,C,R)=>{C.onChange(_,{name:R.name})}),m(wm,(_,C,R,M)=>{const N=()=>Sn.focusIn(M),V=Q=>ae(Q,"disabled")||G(Q,"aria-disabled").exists(ie=>ie==="true"),Z=Br(M.element),K=mf(Z);C.onAction(_,{name:R.name,value:R.value}),mf(Z).fold(N,Q=>{V(Q)||K.exists(ie=>nl(Q,ie)&&V(ie))?N():c().toOptional().filter(ie=>!nl(ie.element,Q)).each(N)})}),m(zF,(_,C,R)=>{C.onTabChange(_,{newTabName:R.name,oldTabName:R.oldName})}),al(_=>{const C=o();tn.setValue(_,C.getData())})]}},Rue=(o,i)=>dR(o,o.type,i),Aue=(o,i,c)=>Oe(i,m=>m.name===c).bind(m=>m.memento.getOpt(o)),Iue=(o,i)=>{const c=i.map(R=>R.footerButtons).getOr([]),m=lt(c,R=>R.align==="start"),y=(R,M)=>vh.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${R}`]},components:Ee(M,N=>N.memento.asSpec())}),_=y("start",m.pass),C=y("end",m.fail);return[_,C]},Jte=(o,i,c)=>{const m=(y,_)=>{const C=Ee(_.buttons,M=>{const N=es(Rue(M,c));return{name:M.name,align:M.align,memento:N}}),R=M=>Aue(y,C,M);return L.some({lookupByName:R,footerButtons:C})};return{dom:My('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Lt([rs.config({channel:`${$t}-${i}`,initialData:o,updateState:m,renderComponents:Iue})])}},Oue=(o,i,c)=>Jte(o,i,c),Qte=(o,i,c)=>na.parts.footer(Jte(o,i,c)),ene=(o,i)=>{if(o.getRoot().getSystem().isConnected()){const m=yo.getCurrent(o.getFormWrapper()).getOr(o.getFormWrapper());return k_.getField(m,i).orThunk(()=>{const y=o.getFooter();return rs.getState(y).get().bind(C=>C.lookupByName(i))})}else return L.none()},Due=(o,i)=>{const c=o.getRoot();return rs.getState(c).get().map(m=>Cl(eo("data",m.dataValidator,i))).getOr(i)},tne=(o,i,c)=>{const m=ie=>{const _e=o.getRoot();_e.getSystem().isConnected()&&ie(_e)},Q={getData:()=>{const ie=o.getRoot(),_e=ie.getSystem().isConnected()?o.getFormWrapper():ie,He=tn.getValue(_e),De=mo(c,Ae=>Ae.get());return{...He,...De}},setData:ie=>{m(_e=>{const He=Q.getData(),De=ds(He,ie),Ae=Due(o,De),mt=o.getFormWrapper();tn.setValue(mt,Ae),lo(c,(bt,Ut)=>{Mo(De,Ut)&&bt.set(De[Ut])})})},setEnabled:(ie,_e)=>{ene(o,ie).each(_e?An.enable:An.disable)},focus:ie=>{ene(o,ie).each(Pn.focus)},block:ie=>{if(!x(ie))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");m(_e=>{xn(_e,CM,{message:ie})})},unblock:()=>{m(ie=>{zo(ie,SM)})},showTab:ie=>{m(_e=>{const He=o.getBody();rs.getState(He).get().exists(Ae=>Ae.isTabPanel())&&yo.getCurrent(He).each(Ae=>{Ba.showTab(Ae,ie)})})},redial:ie=>{m(_e=>{const He=o.getId(),De=i(ie),Ae=iX(De.internalDialog.buttons,c);_e.getSystem().broadcastOn([`${$y}-${He}`],De),_e.getSystem().broadcastOn([`${Ge}-${He}`],De.internalDialog),_e.getSystem().broadcastOn([`${qe}-${He}`],De.internalDialog),_e.getSystem().broadcastOn([`${$t}-${He}`],{...De.internalDialog,buttons:Ae}),Q.setData(De.initialData)})},close:()=>{m(ie=>{zo(ie,JC)})},toggleFullscreen:o.toggleFullscreen};return Q},Mue=o=>{switch(o){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},Pue=(o,i,c)=>{const m=dn("dialog"),y=o.internalDialog,_=Zte(y.title,m,c),C=Fs({body:y.body,initialData:y.initialData},m,c),R=iX(y.buttons),M=Yte(R),N=Qte({buttons:R},m,c),V=lX.initDialog(()=>_e,qte(()=>Q,c.shared.providers,i),c.shared.getSink),Z=Mue(y.size),K={id:m,header:_,body:C,footer:L.some(N),extraClasses:Z,extraBehaviours:[],extraStyles:{}},Q=Kte(K,o,V,c),ie=(()=>{const He=()=>{const Ae=na.getBody(Q);return yo.getCurrent(Ae).getOr(Ae)},De=()=>{const Ae="tox-dialog--fullscreen",mt=ze.fromDom(Q.element.dom);xi(mt,Ae)?(xs(mt,Ae),Cu(mt,Z)):(Ei(mt,Z),Jr(mt,Ae))};return{getId:J(m),getRoot:J(Q),getBody:()=>na.getBody(Q),getFooter:()=>na.getFooter(Q),getFormWrapper:He,toggleFullscreen:De}})(),_e=tne(ie,i.redial,M);return{dialog:Q,instanceApi:_e}},zue=(o,i,c,m)=>{const y=dn("dialog"),_=dn("dialog-label"),C=dn("dialog-content"),R=o.internalDialog,M=(mt,bt)=>L.some(bt),N=es(Eue({title:R.title,draggable:!0},y,_,c.shared.providers)),V=es(Fo({body:R.body,initialData:R.initialData},y,C,c,m)),Z=iX(R.buttons),K=Yte(Z),Q=es(Oue({buttons:Z},y,c)),ie=lX.initDialog(()=>Ae,{onBlock:mt=>{Rm.block(He,(bt,Ut)=>Gte(mt.message,Ut,c.shared.providers))},onUnblock:()=>{Rm.unblock(He)},onClose:()=>i.closeWindow()},c.shared.getSink),_e="tox-dialog-inline",He=Da({dom:{tag:"div",classes:["tox-dialog",_e],attributes:{role:"dialog",["aria-labelledby"]:_,["aria-describedby"]:C}},eventOrder:{[or()]:[rs.name(),Pr.name()],[ji()]:["execute-on-form"],[sf()]:["reflecting","execute-on-form"]},behaviours:Lt([Sn.config({mode:"cyclic",onEscape:mt=>(zo(mt,JC),L.some(!0)),useTabstopAt:mt=>!lS(mt)&&(el(mt)!=="button"||ua(mt,"disabled")!=="disabled"),firstTabstop:1}),rs.config({channel:`${$y}-${y}`,updateState:M,initialData:o}),Pn.config({}),no("execute-on-form",ie.concat([zg(Xh(),(mt,bt)=>{Sn.focusIn(mt)})])),Rm.config({getRoot:()=>L.some(He)}),Bn.config({}),Fu.memory({})]),components:[N.asSpec(),V.asSpec(),Q.asSpec()]}),De=()=>{const mt="tox-dialog--fullscreen",bt=ze.fromDom(He.element.dom);rh(bt,[mt])?(Ei(bt,[mt]),Cu(bt,[_e])):(Ei(bt,[_e]),Cu(bt,[mt]))},Ae=tne({getId:J(y),getRoot:J(He),getFooter:()=>Q.get(He),getBody:()=>V.get(He),getFormWrapper:()=>{const mt=V.get(He);return yo.getCurrent(mt).getOr(mt)},toggleFullscreen:De},i.redial,K);return{dialog:He,instanceApi:Ae}};var cX=tinymce.util.Tools.resolve("tinymce.util.URI");const Nue=o=>{const i=C=>{o.getSystem().isConnected()&&C(o)};return{block:C=>{if(!x(C))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");i(R=>{xn(R,CM,{message:C})})},unblock:()=>{i(C=>{zo(C,SM)})},close:()=>{i(C=>{zo(C,JC)})},sendMessage:C=>{i(R=>{R.getSystem().broadcastOn([Mt],C)})}}},Lue=["insertContent","setContent","execCommand","close","block","unblock"],nne=o=>T(o)&&Lue.indexOf(o.mceAction)!==-1,Fue=o=>!nne(o)&&T(o)&&Mo(o,"mceAction"),Bue=(o,i,c)=>{switch(c.mceAction){case"insertContent":o.insertContent(c.content);break;case"setContent":o.setContent(c.content);break;case"execCommand":const m=H(c.ui)?c.ui:!1;o.execCommand(c.cmd,m,c.value);break;case"close":i.close();break;case"block":i.block(c.message);break;case"unblock":i.unblock();break}},$ue=(o,i,c,m)=>{const y=dn("dialog"),_=Zte(o.title,y,m),C=Bs(o),R=o.buttons.bind(Ae=>Ae.length===0?L.none():L.some(Qte({buttons:Ae},y,m))),M=lX.initUrlDialog(()=>De,qte(()=>He,m.shared.providers,i)),N={...o.height.fold(()=>({}),Ae=>({height:Ae+"px","max-height":Ae+"px"})),...o.width.fold(()=>({}),Ae=>({width:Ae+"px","max-width":Ae+"px"}))},V=o.width.isNone()&&o.height.isNone()?["tox-dialog--width-lg"]:[],Z=new cX(o.url,{base_uri:new cX(window.location.href)}),K=`${Z.protocol}://${Z.host}${Z.port?":"+Z.port:""}`,Q=pd(),ie=[no("messages",[sr(()=>{const Ae=Zi(ze.fromDom(window),"message",mt=>{if(Z.isSameOrigin(new cX(mt.raw.origin))){const bt=mt.raw.data;nne(bt)?Bue(c,De,bt):Fue(bt)&&o.onMessage(De,bt)}});Q.set(Ae)}),al(Q.clear)]),Pr.config({channels:{[Mt]:{onReceive:(Ae,mt)=>{Ys(Ae.element,"iframe").each(bt=>{const Ut=bt.dom.contentWindow;Ne(Ut)&&Ut.postMessage(mt,K)})}}}})],He=Kte({id:y,header:_,body:C,footer:R,extraClasses:V,extraBehaviours:ie,extraStyles:N},o,M,m),De=Nue(He);return{dialog:He,instanceApi:De}},Vue=o=>{const i=o.shared;return{open:(m,y)=>{const _=()=>{na.hide(N),y()},C=es(dR({name:"close-alert",text:"OK",primary:!0,buttonType:L.some("primary"),align:"end",enabled:!0,icon:L.none()},"cancel",o)),R=Bte(),M=Fte(_,i.providers),N=Da(aX({lazySink:()=>i.getSink(),header:Lte(R,M),body:$te(m,i.providers),footer:L.some(Vte(Hte([],[C.asSpec()]))),onEscape:_,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[St(Nv,_)],eventOrder:{}}));na.show(N);const V=C.get(N);Pn.focus(V)}}},Hue=o=>{const i=o.shared;return{open:(m,y)=>{const _=K=>{na.hide(V),y(K)},C=es(dR({name:"yes",text:"Yes",primary:!0,buttonType:L.some("primary"),align:"end",enabled:!0,icon:L.none()},"submit",o)),R=dR({name:"no",text:"No",primary:!1,buttonType:L.some("secondary"),align:"end",enabled:!0,icon:L.none()},"cancel",o),M=Bte(),N=Fte(()=>_(!1),i.providers),V=Da(aX({lazySink:()=>i.getSink(),header:Lte(M,N),body:$te(m,i.providers),footer:L.some(Vte(Hte([],[R,C.asSpec()]))),onEscape:()=>_(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[St(Nv,()=>_(!1)),St(QC,()=>_(!0))],eventOrder:{}}));na.show(V);const Z=C.get(V);Pn.focus(Z)}}},Uue=(o,i)=>Cl(eo("data",i,o)),jue=o=>YC(o,".tox-alert-dialog")||YC(o,".tox-confirm-dialog"),Wue=(o,i,c)=>i&&c?[]:[wa.config({contextual:{lazyContext:()=>L.some(tr(ze.fromDom(o.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:m=>KC(o,m.element).map(_=>({bounds:BT(_),optScrollEnv:L.some({currentScrollTop:_.element.dom.scrollTop,scrollElmTop:si(_.element).top})})).getOrThunk(()=>({bounds:Ea(),optScrollEnv:L.none()}))})],Zue=o=>{const i=o.editor,c=NC(i),m=Vue(o.backstages.dialog),y=Hue(o.backstages.dialog),_=(Q,ie,_e)=>ie!==void 0&&ie.inline==="toolbar"?N(Q,o.backstages.popup.shared.anchors.inlineDialog(),_e,ie.ariaAttrs):ie!==void 0&&ie.inline==="cursor"?N(Q,o.backstages.popup.shared.anchors.cursor(),_e,ie.ariaAttrs):M(Q,_e),C=(Q,ie)=>R(Q,ie),R=(Q,ie)=>{const _e=He=>{const De=$ue(He,{closeWindow:()=>{na.hide(De.dialog),ie(De.instanceApi)}},i,o.backstages.dialog);return na.show(De.dialog),De.instanceApi};return ao.openUrl(_e,Q)},M=(Q,ie)=>{const _e=(He,De,Ae)=>{const mt=De,Ut=Pue({dataValidator:Ae,initialData:mt,internalDialog:He},{redial:ao.redial,closeWindow:()=>{na.hide(Ut.dialog),ie(Ut.instanceApi)}},o.backstages.dialog);return na.show(Ut.dialog),Ut.instanceApi.setData(mt),Ut.instanceApi};return ao.open(_e,Q)},N=(Q,ie,_e,He=!1)=>{const De=(Ae,mt,bt)=>{const Ut=Uue(mt,bt),Rt=ns(),Kt=o.backstages.popup.shared.header.isPositionedAtTop(),vn={dataValidator:bt,initialData:Ut,internalDialog:Ae},So=()=>Rt.on(vo=>{Us.reposition(vo),wa.refresh(vo)}),wn=zue(vn,{redial:ao.redial,closeWindow:()=>{Rt.on(Us.hide),i.off("ResizeEditor",So),Rt.clear(),_e(wn.instanceApi)}},o.backstages.popup,He),bo=Da(Us.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...Kt?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Lt([no("window-manager-inline-events",[St(eh(),(vo,$n)=>{zo(wn.dialog,Nv)})]),...Wue(i,c,Kt)]),isExtraPart:(vo,$n)=>jue($n)}));Rt.set(bo);const Kn=()=>{const vo=i.inline?Yr():ze.fromDom(i.getContainer()),$n=tr(vo);return L.some($n)};return Us.showWithinBounds(bo,Sl(wn.dialog),{anchor:ie},Kn),(!c||!Kt)&&(wa.refresh(bo),i.on("ResizeEditor",So)),wn.instanceApi.setData(Ut),Sn.focusIn(wn.dialog),wn.instanceApi};return ao.open(De,Q)};return{open:_,openUrl:C,alert:(Q,ie)=>{m.open(Q,ie)},close:Q=>{Q.close()},confirm:(Q,ie)=>{y.open(Q,ie)}}},Gue=o=>{R3(o),M9(o),j$(o)};var que=()=>{Wh.add("silver",o=>{Gue(o);let i=()=>Ea();const{dialogs:c,popups:m,renderUI:y}=v8(o,{getPopupSinkBounds:()=>i()}),_=async()=>{const M=await y();return KC(o,m.getMothership().element).each(V=>{i=()=>BT(V)}),M};vU.register(o,m.backstage.shared);const C=Zue({editor:o,backstages:{popup:m.backstage,dialog:c.backstage}}),R=()=>TH(o,{backstage:m.backstage},m.getMothership());return{renderUI:_,getWindowManagerImpl:J(C),getNotificationManagerImpl:R}})};que()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=le=>$e=>le===$e,r=n(null),u=n(void 0),f=le=>le==null,d=le=>!f(le),w=()=>{},T=(le=>()=>le)(!1);class I{constructor($e,Qe){this.tag=$e,this.value=Qe}static some($e){return new I(!0,$e)}static none(){return I.singletonNone}fold($e,Qe){return this.tag?Qe(this.value):$e()}isSome(){return this.tag}isNone(){return!this.tag}map($e){return this.tag?I.some($e(this.value)):I.none()}bind($e){return this.tag?$e(this.value):I.none()}exists($e){return this.tag&&$e(this.value)}forall($e){return!this.tag||$e(this.value)}filter($e){return!this.tag||$e(this.value)?this:I.none()}getOr($e){return this.tag?this.value:$e}or($e){return this.tag?this:$e}getOrThunk($e){return this.tag?this.value:$e()}orThunk($e){return this.tag?this:$e()}getOrDie($e){if(this.tag)return this.value;throw new Error($e!=null?$e:"Called getOrDie on None")}static from($e){return d($e)?I.some($e):I.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each($e){this.tag&&$e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}I.singletonNone=new I(!1);const $=(le,$e)=>{for(let Qe=0,Ve=le.length;Qe<Ve;Qe++){const oe=le[Qe];if($e(oe,Qe))return!0}return!1},F=(le,$e)=>{const Qe=le.length,Ve=new Array(Qe);for(let oe=0;oe<Qe;oe++){const ye=le[oe];Ve[oe]=$e(ye,oe)}return Ve},H=(le,$e)=>{for(let Qe=0,Ve=le.length;Qe<Ve;Qe++){const oe=le[Qe];$e(oe,Qe)}},de=le=>{let $e=le;return{get:()=>$e,set:oe=>{$e=oe}}},ke=(le,$e)=>{let Qe=null;const Ve=()=>{r(Qe)||(clearTimeout(Qe),Qe=null)};return{cancel:Ve,throttle:(...ye)=>{Ve(),Qe=setTimeout(()=>{Qe=null,le.apply(null,ye)},$e)}}},Ne=(le,$e)=>{le.insertContent($e)},xe=Object.keys,Fe=Object.hasOwnProperty,rt=(le,$e)=>{const Qe=xe(le);for(let Ve=0,oe=Qe.length;Ve<oe;Ve++){const ye=Qe[Ve],Ye=le[ye];$e(Ye,ye)}},ne=(le,$e)=>vt(le,(Qe,Ve)=>({k:Ve,v:$e(Qe,Ve)})),vt=(le,$e)=>{const Qe={};return rt(le,(Ve,oe)=>{const ye=$e(Ve,oe);Qe[ye.k]=ye.v}),Qe},Ue=(le,$e)=>Fe.call(le,$e),Te=(le=>(...$e)=>{if($e.length===0)throw new Error("Can't merge zero objects");const Qe={};for(let Ve=0;Ve<$e.length;Ve++){const oe=$e[Ve];for(const ye in oe)Ue(oe,ye)&&(Qe[ye]=le(Qe[ye],oe[ye]))}return Qe})((le,$e)=>$e),st=le=>{const $e=de(I.none()),Qe=()=>$e.get().each(le);return{clear:()=>{Qe(),$e.set(I.none())},isSet:()=>$e.get().isSome(),get:()=>$e.get(),set:ut=>{Qe(),$e.set(I.some(ut))}}},wt=()=>{const le=st(w);return{...le,on:Qe=>le.get().each(Qe)}},je=(le,$e,Qe)=>$e===""||le.length>=$e.length&&le.substr(Qe,Qe+$e.length)===$e,ue=(le,$e,Qe=0,Ve)=>{const oe=le.indexOf($e,Qe);return oe!==-1?u(Ve)?!0:oe+$e.length<=Ve:!1},Rn=(le,$e)=>je(le,$e,0);var ln=tinymce.util.Tools.resolve("tinymce.Resource");const It="tinymce.plugins.emoticons",L=le=>$e=>$e.options.get(le),Ht=(le,$e)=>{const Qe=le.options.register;Qe("emoticons_database",{processor:"string",default:"emojis"}),Qe("emoticons_database_url",{processor:"string",default:`${$e}/js/${ot(le)}${le.suffix}.js`}),Qe("emoticons_database_id",{processor:"string",default:It}),Qe("emoticons_append",{processor:"object",default:{}}),Qe("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},ot=L("emoticons_database"),Nn=L("emoticons_database_url"),an=L("emoticons_database_id"),it=L("emoticons_append"),Zn=L("emoticons_images_url"),io="All",uo={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Et=(le,$e)=>Ue(le,$e)?le[$e]:$e,Ee=le=>{const $e=it(le);return ne($e,Qe=>({keywords:[],category:"user",...Qe}))},me=(le,$e,Qe)=>{const Ve=wt(),oe=wt(),ye=Zn(le),Ye=Un=>Rn(Un.char,"<img")?Un.char.replace(/src="([^"]+)"/,(lo,mo)=>`src="${ye}${mo}"`):Un.char,ut=Un=>{const lo={},mo=[];rt(Un,(Io,_s)=>{const Uo={title:_s,keywords:Io.keywords,char:Ye(Io),category:Et(uo,Io.category)},zs=lo[Uo.category]!==void 0?lo[Uo.category]:[];lo[Uo.category]=zs.concat([Uo]),mo.push(Uo)}),Ve.set(lo),oe.set(mo)};le.on("init",()=>{ln.load(Qe,$e).then(Un=>{const lo=Ee(le);ut(Te(Un,lo))},Un=>{console.log(`Failed to load emojis: ${Un}`),Ve.set({}),oe.set([])})});const zt=Un=>Un===io?Dt():Ve.get().bind(lo=>I.from(lo[Un])).getOr([]),Dt=()=>oe.get().getOr([]),Vt=()=>[io].concat(xe(Ve.get().getOr({}))),sn=()=>_n()?Promise.resolve(!0):new Promise((Un,lo)=>{let mo=15;const Io=setInterval(()=>{_n()?(clearInterval(Io),Un(!0)):(mo--,mo<0&&(console.log("Could not load emojis from url: "+$e),clearInterval(Io),lo(!1)))},100)}),_n=()=>Ve.isSet()&&oe.isSet();return{listCategories:Vt,hasLoaded:_n,waitForLoad:sn,listAll:Dt,listCategory:zt}},j=(le,$e)=>ue(le.title.toLowerCase(),$e)||$(le.keywords,Qe=>ue(Qe.toLowerCase(),$e)),lt=(le,$e,Qe)=>{const Ve=[],oe=$e.toLowerCase(),ye=Qe.fold(()=>T,Ye=>ut=>ut>=Ye);for(let Ye=0;Ye<le.length&&!(($e.length===0||j(le[Ye],oe))&&(Ve.push({value:le[Ye].char,text:le[Ye].title,icon:le[Ye].char}),ye(Ve.length)));Ye++);return Ve},Xe="pattern",Tt=(le,$e)=>{const Qe={pattern:"",results:lt($e.listAll(),"",I.some(300))},Ve=de(io),oe=Vt=>{const sn=Vt.getData(),_n=Ve.get(),Un=$e.listCategory(_n),lo=lt(Un,sn[Xe],_n===io?I.some(300):I.none());Vt.setData({results:lo})},ye=ke(Vt=>{oe(Vt)},200),Ye={label:"Search",type:"input",name:Xe},ut={type:"collection",name:"results"},zt=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:F($e.listCategories(),sn=>({title:sn,name:sn,items:[Ye,ut]}))},initialData:Qe,onTabChange:(sn,_n)=>{Ve.set(_n.newTabName),ye.throttle(sn)},onChange:ye.throttle,onAction:(sn,_n)=>{_n.name==="results"&&(Ne(le,_n.value),sn.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),Dt=le.windowManager.open(zt());Dt.focus(Xe),$e.hasLoaded()||(Dt.block("Loading emojis..."),$e.waitForLoad().then(()=>{Dt.redial(zt()),ye.throttle(Dt),Dt.focus(Xe),Dt.unblock()}).catch(Vt=>{Dt.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Dt.focus(Xe),Dt.unblock()}))},re=(le,$e)=>{le.addCommand("mceEmoticons",()=>Tt(le,$e))},Re=le=>{le.on("PreInit",()=>{le.parser.addAttributeFilter("data-emoticon",$e=>{H($e,Qe=>{Qe.attr("data-mce-resize","false"),Qe.attr("data-mce-placeholder","1")})})})},Oe=(le,$e)=>{le.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(Qe,Ve)=>$e.waitForLoad().then(()=>{const oe=$e.listAll();return lt(oe,Qe,I.some(Ve))}),onAction:(Qe,Ve,oe)=>{le.selection.setRng(Ve),le.insertContent(oe),Qe.hide()}})},pt=le=>{const $e=()=>le.execCommand("mceEmoticons");le.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:$e}),le.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:$e})};var Ke=()=>{t.add("emoticons",(le,$e)=>{Ht(le,$e);const Qe=Nn(le),Ve=an(le),oe=me(le,Qe,Ve);re(le,oe),pt(le),Oe(le,oe),Re(le)})};Ke()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"\u{1F600}",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"\u{1F62C}",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"\u{1F601}",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"\u{1F602}",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"\u{1F923}",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"\u{1F973}",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"\u{1F603}",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"\u{1F604}",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"\u{1F605}",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"\u{1F606}",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"\u{1F607}",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"\u{1F609}",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"\u{1F60A}",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"\u{1F642}",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"\u{1F643}",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"\u263A\uFE0F",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"\u{1F60B}",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"\u{1F60C}",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"\u{1F60D}",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"\u{1F970}",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"\u{1F618}",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"\u{1F617}",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"\u{1F619}",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"\u{1F61A}",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"\u{1F61C}",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"\u{1F92A}",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"\u{1F928}",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"\u{1F9D0}",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"\u{1F61D}",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"\u{1F61B}",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"\u{1F911}",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"\u{1F913}",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"\u{1F60E}",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"\u{1F929}",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"\u{1F921}",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"\u{1F920}",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"\u{1F917}",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"\u{1F60F}",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"\u{1F636}",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"\u{1F610}",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"\u{1F611}",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"\u{1F612}",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"\u{1F644}",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"\u{1F914}",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"\u{1F925}",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"\u{1F92D}",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"\u{1F92B}",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"\u{1F92C}",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"\u{1F92F}",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"\u{1F633}",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"\u{1F61E}",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"\u{1F61F}",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"\u{1F620}",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"\u{1F621}",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"\u{1F614}",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"\u{1F615}",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"\u{1F641}",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"\u2639",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"\u{1F623}",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"\u{1F616}",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"\u{1F62B}",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"\u{1F629}",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"\u{1F97A}",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"\u{1F624}",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"\u{1F62E}",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"\u{1F631}",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"\u{1F628}",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"\u{1F630}",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"\u{1F62F}",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"\u{1F626}",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"\u{1F627}",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"\u{1F622}",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"\u{1F625}",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"\u{1F924}",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"\u{1F62A}",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"\u{1F613}",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"\u{1F975}",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"\u{1F976}",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"\u{1F62D}",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"\u{1F635}",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"\u{1F632}",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"\u{1F910}",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"\u{1F922}",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"\u{1F927}",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"\u{1F92E}",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"\u{1F637}",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"\u{1F912}",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"\u{1F915}",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"\u{1F974}",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"\u{1F634}",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"\u{1F4A4}",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"\u{1F4A9}",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"\u{1F608}",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"\u{1F47F}",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"\u{1F479}",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"\u{1F47A}",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"\u{1F480}",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"\u{1F47B}",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"\u{1F47D}",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"\u{1F916}",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"\u{1F63A}",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"\u{1F638}",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"\u{1F639}",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"\u{1F63B}",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"\u{1F63C}",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"\u{1F63D}",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"\u{1F640}",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"\u{1F63F}",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"\u{1F63E}",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"\u{1F932}",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"\u{1F64C}",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"\u{1F44F}",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"\u{1F44B}",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"\u{1F919}",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"\u{1F44D}",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"\u{1F44E}",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"\u{1F44A}",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"\u270A",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"\u{1F91B}",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"\u{1F91C}",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"\u270C",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"\u{1F44C}",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"\u270B",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"\u{1F91A}",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"\u{1F450}",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"\u{1F4AA}",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"\u{1F64F}",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"\u{1F9B6}",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"\u{1F9B5}",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"\u{1F91D}",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"\u261D",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"\u{1F446}",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"\u{1F447}",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"\u{1F448}",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"\u{1F449}",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"\u{1F595}",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"\u{1F590}",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"\u{1F91F}",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"\u{1F918}",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"\u{1F91E}",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"\u{1F596}",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"\u270D",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"\u{1F933}",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"\u{1F485}",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"\u{1F444}",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"\u{1F9B7}",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"\u{1F445}",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"\u{1F442}",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"\u{1F443}",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"\u{1F441}",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"\u{1F440}",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"\u{1F9E0}",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"\u{1F464}",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"\u{1F465}",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"\u{1F5E3}",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"\u{1F476}",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"\u{1F9D2}",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"\u{1F466}",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"\u{1F467}",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"\u{1F9D1}",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"\u{1F468}",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"\u{1F469}",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"\u{1F471}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"\u{1F471}",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"\u{1F9D4}",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"\u{1F9D3}",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"\u{1F474}",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"\u{1F475}",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"\u{1F472}",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"\u{1F9D5}",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"\u{1F473}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"\u{1F473}",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"\u{1F46E}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"\u{1F46E}",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"\u{1F477}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"\u{1F477}",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"\u{1F482}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"\u{1F482}",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"\u{1F575}\uFE0F\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"\u{1F575}",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"\u{1F469}\u200D\u2695\uFE0F",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"\u{1F468}\u200D\u2695\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"\u{1F469}\u200D\u{1F33E}",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"\u{1F468}\u200D\u{1F33E}",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"\u{1F469}\u200D\u{1F373}",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"\u{1F468}\u200D\u{1F373}",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"\u{1F469}\u200D\u{1F393}",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"\u{1F468}\u200D\u{1F393}",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"\u{1F469}\u200D\u{1F3A4}",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"\u{1F468}\u200D\u{1F3A4}",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"\u{1F469}\u200D\u{1F3EB}",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"\u{1F468}\u200D\u{1F3EB}",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"\u{1F469}\u200D\u{1F3ED}",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"\u{1F468}\u200D\u{1F3ED}",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"\u{1F469}\u200D\u{1F4BB}",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"\u{1F468}\u200D\u{1F4BB}",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"\u{1F469}\u200D\u{1F4BC}",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"\u{1F468}\u200D\u{1F4BC}",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"\u{1F469}\u200D\u{1F527}",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"\u{1F468}\u200D\u{1F527}",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"\u{1F469}\u200D\u{1F52C}",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"\u{1F468}\u200D\u{1F52C}",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"\u{1F469}\u200D\u{1F3A8}",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"\u{1F468}\u200D\u{1F3A8}",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"\u{1F469}\u200D\u{1F692}",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"\u{1F468}\u200D\u{1F692}",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"\u{1F469}\u200D\u2708\uFE0F",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"\u{1F468}\u200D\u2708\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"\u{1F469}\u200D\u{1F680}",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"\u{1F468}\u200D\u{1F680}",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"\u{1F469}\u200D\u2696\uFE0F",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"\u{1F468}\u200D\u2696\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"\u{1F9B8}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"\u{1F9B8}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"\u{1F9B9}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"\u{1F9B9}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"\u{1F936}",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"\u{1F385}",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"\u{1F9D9}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"\u{1F9D9}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"\u{1F9DD}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"\u{1F9DD}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"\u{1F9DB}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"\u{1F9DB}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"\u{1F9DF}\u200D\u2640\uFE0F",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"\u{1F9DF}\u200D\u2642\uFE0F",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"\u{1F9DE}\u200D\u2640\uFE0F",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"\u{1F9DE}\u200D\u2642\uFE0F",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"\u{1F9DC}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"\u{1F9DC}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"\u{1F9DA}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"\u{1F9DA}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"\u{1F47C}",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"\u{1F930}",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"\u{1F931}",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"\u{1F478}",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"\u{1F934}",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"\u{1F470}",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"\u{1F935}",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"\u{1F3C3}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"\u{1F3C3}",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"\u{1F6B6}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"\u{1F6B6}",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"\u{1F483}",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"\u{1F57A}",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"\u{1F46F}",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"\u{1F46F}\u200D\u2642\uFE0F",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"\u{1F46B}",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"\u{1F46C}",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"\u{1F46D}",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"\u{1F647}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"\u{1F647}",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"\u{1F926}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"\u{1F926}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"\u{1F937}",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"\u{1F937}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"\u{1F481}",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"\u{1F481}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"\u{1F645}",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"\u{1F645}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"\u{1F646}",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"\u{1F646}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"\u{1F64B}",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"\u{1F64B}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"\u{1F64E}",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"\u{1F64E}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"\u{1F64D}",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"\u{1F64D}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"\u{1F487}",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"\u{1F487}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"\u{1F486}",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"\u{1F486}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"\u{1F9D6}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"\u{1F9D6}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"\u{1F491}",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F469}",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F468}",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"\u{1F48F}",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"\u{1F46A}",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"\u{1F469}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"\u{1F469}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"\u{1F468}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"\u{1F468}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"\u{1F9F6}",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"\u{1F9F5}",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"\u{1F9E5}",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"\u{1F97C}",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"\u{1F45A}",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"\u{1F455}",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"\u{1F456}",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"\u{1F454}",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"\u{1F457}",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"\u{1F459}",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"\u{1F458}",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"\u{1F484}",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"\u{1F48B}",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"\u{1F463}",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"\u{1F97F}",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"\u{1F460}",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"\u{1F461}",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"\u{1F462}",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"\u{1F45E}",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"\u{1F45F}",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"\u{1F97E}",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"\u{1F9E6}",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"\u{1F9E4}",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"\u{1F9E3}",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"\u{1F452}",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"\u{1F3A9}",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"\u{1F9E2}",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"\u26D1",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"\u{1F393}",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"\u{1F451}",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"\u{1F392}",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"\u{1F9F3}",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"\u{1F45D}",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"\u{1F45B}",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"\u{1F45C}",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"\u{1F4BC}",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"\u{1F453}",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"\u{1F576}",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"\u{1F97D}",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"\u{1F48D}",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"\u{1F302}",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"\u{1F436}",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"\u{1F431}",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"\u{1F42D}",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"\u{1F439}",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"\u{1F430}",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"\u{1F98A}",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"\u{1F43B}",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"\u{1F43C}",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"\u{1F428}",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"\u{1F42F}",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"\u{1F981}",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"\u{1F42E}",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"\u{1F437}",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"\u{1F43D}",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"\u{1F438}",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"\u{1F991}",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"\u{1F419}",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"\u{1F990}",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"\u{1F435}",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"\u{1F98D}",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"\u{1F648}",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"\u{1F649}",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"\u{1F64A}",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"\u{1F412}",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"\u{1F414}",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"\u{1F427}",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"\u{1F426}",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"\u{1F424}",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"\u{1F423}",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"\u{1F425}",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"\u{1F986}",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"\u{1F985}",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"\u{1F989}",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"\u{1F987}",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"\u{1F43A}",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"\u{1F417}",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"\u{1F434}",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"\u{1F984}",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"\u{1F41D}",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"\u{1F41B}",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"\u{1F98B}",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"\u{1F40C}",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"\u{1F41E}",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"\u{1F41C}",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"\u{1F997}",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"\u{1F577}",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"\u{1F982}",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"\u{1F980}",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"\u{1F40D}",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"\u{1F98E}",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"\u{1F996}",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"\u{1F995}",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"\u{1F422}",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"\u{1F420}",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"\u{1F41F}",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"\u{1F421}",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"\u{1F42C}",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"\u{1F988}",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"\u{1F433}",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"\u{1F40B}",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"\u{1F40A}",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"\u{1F406}",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"\u{1F993}",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"\u{1F405}",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"\u{1F403}",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"\u{1F402}",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"\u{1F404}",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"\u{1F98C}",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"\u{1F42A}",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"\u{1F42B}",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"\u{1F992}",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"\u{1F418}",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"\u{1F98F}",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"\u{1F410}",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"\u{1F40F}",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"\u{1F411}",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"\u{1F40E}",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"\u{1F416}",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"\u{1F400}",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"\u{1F401}",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"\u{1F413}",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"\u{1F983}",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"\u{1F54A}",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"\u{1F415}",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"\u{1F429}",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"\u{1F408}",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"\u{1F407}",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"\u{1F43F}",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"\u{1F994}",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"\u{1F99D}",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"\u{1F999}",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"\u{1F99B}",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"\u{1F998}",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"\u{1F9A1}",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"\u{1F9A2}",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"\u{1F99A}",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"\u{1F99C}",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"\u{1F99E}",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"\u{1F99F}",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"\u{1F43E}",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"\u{1F409}",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"\u{1F432}",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"\u{1F335}",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"\u{1F384}",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"\u{1F332}",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"\u{1F333}",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"\u{1F334}",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"\u{1F331}",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"\u{1F33F}",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"\u2618",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"\u{1F340}",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"\u{1F38D}",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"\u{1F38B}",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"\u{1F343}",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"\u{1F342}",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"\u{1F341}",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"\u{1F33E}",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"\u{1F33A}",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"\u{1F33B}",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"\u{1F339}",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"\u{1F940}",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"\u{1F337}",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"\u{1F33C}",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"\u{1F338}",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"\u{1F490}",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"\u{1F344}",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"\u{1F330}",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"\u{1F383}",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"\u{1F41A}",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"\u{1F578}",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"\u{1F30E}",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"\u{1F30D}",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"\u{1F30F}",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"\u{1F315}",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"\u{1F316}",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F317}",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F318}",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F311}",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F312}",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F313}",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"\u{1F314}",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F31A}",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F31D}",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F31B}",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F31C}",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"\u{1F31E}",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"\u{1F319}",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"\u2B50",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"\u{1F31F}",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"\u{1F4AB}",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"\u2728",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"\u2604",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"\u2600\uFE0F",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"\u{1F324}",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"\u26C5",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"\u{1F325}",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"\u{1F326}",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"\u2601\uFE0F",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"\u{1F327}",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"\u26C8",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"\u{1F329}",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"\u26A1",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"\u{1F525}",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"\u{1F4A5}",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"\u2744\uFE0F",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"\u{1F328}",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"\u26C4",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"\u2603",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"\u{1F32C}",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"\u{1F4A8}",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"\u{1F32A}",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"\u{1F32B}",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"\u2602",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"\u2614",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"\u{1F4A7}",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"\u{1F4A6}",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"\u{1F30A}",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"\u{1F34F}",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"\u{1F34E}",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"\u{1F350}",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"\u{1F34A}",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"\u{1F34B}",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"\u{1F34C}",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"\u{1F349}",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"\u{1F347}",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"\u{1F353}",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"\u{1F348}",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"\u{1F352}",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"\u{1F351}",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"\u{1F34D}",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"\u{1F965}",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"\u{1F95D}",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"\u{1F96D}",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"\u{1F951}",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"\u{1F966}",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"\u{1F345}",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"\u{1F346}",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"\u{1F952}",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"\u{1F955}",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"\u{1F336}",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"\u{1F954}",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"\u{1F33D}",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"\u{1F96C}",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"\u{1F360}",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"\u{1F95C}",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"\u{1F36F}",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"\u{1F950}",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"\u{1F35E}",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"\u{1F956}",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"\u{1F96F}",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"\u{1F968}",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"\u{1F9C0}",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"\u{1F95A}",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"\u{1F953}",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"\u{1F969}",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"\u{1F95E}",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"\u{1F357}",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"\u{1F356}",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"\u{1F9B4}",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"\u{1F364}",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"\u{1F373}",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"\u{1F354}",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"\u{1F35F}",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"\u{1F959}",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"\u{1F32D}",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"\u{1F355}",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"\u{1F96A}",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"\u{1F96B}",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"\u{1F35D}",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"\u{1F32E}",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"\u{1F32F}",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"\u{1F957}",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"\u{1F958}",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"\u{1F35C}",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"\u{1F372}",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"\u{1F365}",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"\u{1F960}",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"\u{1F363}",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"\u{1F371}",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"\u{1F35B}",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"\u{1F359}",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"\u{1F35A}",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"\u{1F358}",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"\u{1F362}",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"\u{1F361}",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"\u{1F367}",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"\u{1F368}",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"\u{1F366}",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"\u{1F967}",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"\u{1F370}",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"\u{1F9C1}",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"\u{1F96E}",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"\u{1F382}",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"\u{1F36E}",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"\u{1F36C}",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"\u{1F36D}",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"\u{1F36B}",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"\u{1F37F}",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"\u{1F95F}",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"\u{1F369}",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"\u{1F36A}",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"\u{1F95B}",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"\u{1F37A}",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"\u{1F37B}",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"\u{1F942}",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"\u{1F377}",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"\u{1F943}",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"\u{1F378}",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"\u{1F379}",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"\u{1F37E}",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"\u{1F376}",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"\u{1F375}",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"\u{1F964}",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"\u2615",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"\u{1F37C}",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"\u{1F9C2}",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"\u{1F944}",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"\u{1F374}",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"\u{1F37D}",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"\u{1F963}",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"\u{1F961}",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"\u{1F962}",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"\u26BD",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"\u{1F3C0}",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"\u{1F3C8}",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"\u26BE",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"\u{1F94E}",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"\u{1F3BE}",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"\u{1F3D0}",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"\u{1F3C9}",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"\u{1F94F}",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"\u{1F3B1}",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"\u26F3",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"\u{1F3CC}\uFE0F\u200D\u2640\uFE0F",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"\u{1F3CC}",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"\u{1F3D3}",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"\u{1F3F8}",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"\u{1F945}",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"\u{1F3D2}",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"\u{1F3D1}",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"\u{1F94D}",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"\u{1F3CF}",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"\u{1F3BF}",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"\u26F7",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"\u{1F3C2}",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"\u{1F93A}",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"\u{1F93C}\u200D\u2640\uFE0F",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"\u{1F93C}\u200D\u2642\uFE0F",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"\u{1F938}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"\u{1F938}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"\u{1F93E}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"\u{1F93E}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"\u26F8",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"\u{1F94C}",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"\u{1F6F9}",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"\u{1F6F7}",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"\u{1F3F9}",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"\u{1F3A3}",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"\u{1F94A}",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"\u{1F94B}",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"\u{1F6A3}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"\u{1F6A3}",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"\u{1F9D7}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"\u{1F9D7}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"\u{1F3CA}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"\u{1F3CA}",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"\u{1F93D}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"\u{1F93D}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"\u{1F9D8}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"\u{1F9D8}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"\u{1F3C4}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"\u{1F3C4}",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"\u{1F6C0}",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"\u26F9\uFE0F\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"\u26F9",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"\u{1F3CB}\uFE0F\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"\u{1F3CB}",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"\u{1F6B4}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"\u{1F6B4}",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"\u{1F6B5}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"\u{1F6B5}",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"\u{1F3C7}",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"\u{1F574}",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"\u{1F3C6}",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"\u{1F3BD}",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"\u{1F3C5}",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"\u{1F396}",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"\u{1F947}",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"\u{1F948}",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"\u{1F949}",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"\u{1F397}",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"\u{1F3F5}",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"\u{1F3AB}",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"\u{1F39F}",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"\u{1F3AD}",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"\u{1F3A8}",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"\u{1F3AA}",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"\u{1F939}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"\u{1F939}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"\u{1F3A4}",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"\u{1F3A7}",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"\u{1F3BC}",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"\u{1F3B9}",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"\u{1F941}",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"\u{1F3B7}",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"\u{1F3BA}",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"\u{1F3B8}",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"\u{1F3BB}",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"\u{1F3AC}",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"\u{1F3AE}",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"\u{1F47E}",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"\u{1F3AF}",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"\u{1F3B2}",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"\u265F",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"\u{1F3B0}",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"\u{1F9E9}",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"\u{1F3B3}",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"\u{1F697}",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"\u{1F695}",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"\u{1F699}",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"\u{1F68C}",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"\u{1F68E}",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"\u{1F3CE}",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"\u{1F693}",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"\u{1F691}",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"\u{1F692}",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"\u{1F690}",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"\u{1F69A}",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"\u{1F69B}",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"\u{1F69C}",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"\u{1F6F4}",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"\u{1F3CD}",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"\u{1F6B2}",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"\u{1F6F5}",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"\u{1F6A8}",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"\u{1F694}",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"\u{1F68D}",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"\u{1F698}",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"\u{1F696}",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"\u{1F6A1}",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"\u{1F6A0}",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"\u{1F69F}",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"\u{1F683}",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"\u{1F68B}",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"\u{1F69D}",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"\u{1F684}",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"\u{1F685}",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"\u{1F688}",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"\u{1F69E}",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"\u{1F682}",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"\u{1F686}",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"\u{1F687}",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"\u{1F68A}",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"\u{1F689}",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"\u{1F6F8}",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"\u{1F681}",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"\u{1F6E9}",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"\u2708\uFE0F",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"\u{1F6EB}",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"\u{1F6EC}",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"\u26F5",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"\u{1F6E5}",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"\u{1F6A4}",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"\u26F4",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"\u{1F6F3}",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"\u{1F680}",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"\u{1F6F0}",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"\u{1F4BA}",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"\u{1F6F6}",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"\u2693",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"\u{1F6A7}",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"\u26FD",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"\u{1F68F}",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"\u{1F6A6}",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"\u{1F6A5}",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"\u{1F3C1}",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"\u{1F6A2}",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"\u{1F3A1}",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"\u{1F3A2}",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"\u{1F3A0}",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"\u{1F3D7}",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"\u{1F301}",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"\u{1F5FC}",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"\u{1F3ED}",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"\u26F2",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"\u{1F391}",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"\u26F0",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"\u{1F3D4}",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"\u{1F5FB}",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"\u{1F30B}",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"\u{1F5FE}",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"\u{1F3D5}",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"\u26FA",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"\u{1F3DE}",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"\u{1F6E3}",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"\u{1F6E4}",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"\u{1F305}",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"\u{1F304}",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"\u{1F3DC}",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"\u{1F3D6}",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"\u{1F3DD}",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"\u{1F307}",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"\u{1F306}",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"\u{1F3D9}",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"\u{1F303}",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"\u{1F309}",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"\u{1F30C}",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"\u{1F320}",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"\u{1F387}",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"\u{1F386}",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"\u{1F308}",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"\u{1F3D8}",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"\u{1F3F0}",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"\u{1F3EF}",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"\u{1F3DF}",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"\u{1F5FD}",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"\u{1F3E0}",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"\u{1F3E1}",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"\u{1F3DA}",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"\u{1F3E2}",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"\u{1F3EC}",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"\u{1F3E3}",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"\u{1F3E4}",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"\u{1F3E5}",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"\u{1F3E6}",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"\u{1F3E8}",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"\u{1F3EA}",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"\u{1F3EB}",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"\u{1F3E9}",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"\u{1F492}",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"\u{1F3DB}",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"\u26EA",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"\u{1F54C}",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"\u{1F54D}",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"\u{1F54B}",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"\u26E9",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"\u231A",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"\u{1F4F1}",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"\u{1F4F2}",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"\u{1F4BB}",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"\u2328",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"\u{1F5A5}",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"\u{1F5A8}",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"\u{1F5B1}",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"\u{1F5B2}",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"\u{1F579}",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"\u{1F5DC}",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"\u{1F4BD}",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"\u{1F4BE}",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"\u{1F4BF}",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"\u{1F4C0}",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"\u{1F4FC}",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"\u{1F4F7}",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"\u{1F4F8}",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"\u{1F4F9}",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"\u{1F3A5}",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"\u{1F4FD}",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"\u{1F39E}",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"\u{1F4DE}",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"\u260E\uFE0F",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"\u{1F4DF}",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"\u{1F4E0}",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"\u{1F4FA}",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"\u{1F4FB}",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"\u{1F399}",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"\u{1F39A}",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"\u{1F39B}",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"\u{1F9ED}",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"\u23F1",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"\u23F2",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"\u23F0",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"\u{1F570}",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"\u23F3",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"\u231B",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"\u{1F4E1}",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"\u{1F50B}",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"\u{1F50C}",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"\u{1F4A1}",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"\u{1F526}",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"\u{1F56F}",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"\u{1F9EF}",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"\u{1F5D1}",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"\u{1F6E2}",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"\u{1F4B8}",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"\u{1F4B5}",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"\u{1F4B4}",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"\u{1F4B6}",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"\u{1F4B7}",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"\u{1F4B0}",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"\u{1F4B3}",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"\u{1F48E}",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"\u2696",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"\u{1F9F0}",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"\u{1F527}",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"\u{1F528}",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"\u2692",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"\u{1F6E0}",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"\u26CF",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"\u{1F529}",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"\u2699",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"\u{1F9F1}",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"\u26D3",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"\u{1F9F2}",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"\u{1F52B}",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"\u{1F4A3}",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"\u{1F9E8}",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"\u{1F52A}",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"\u{1F5E1}",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"\u2694",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"\u{1F6E1}",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"\u{1F6AC}",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"\u2620",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"\u26B0",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"\u26B1",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"\u{1F3FA}",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"\u{1F52E}",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"\u{1F4FF}",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"\u{1F9FF}",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"\u{1F488}",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"\u2697",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"\u{1F52D}",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"\u{1F52C}",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"\u{1F573}",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"\u{1F48A}",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"\u{1F489}",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"\u{1F9EC}",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"\u{1F9A0}",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"\u{1F9EB}",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"\u{1F9EA}",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"\u{1F321}",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"\u{1F9F9}",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"\u{1F9FA}",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"\u{1F9FB}",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"\u{1F3F7}",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"\u{1F516}",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"\u{1F6BD}",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"\u{1F6BF}",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"\u{1F6C1}",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"\u{1F9FC}",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"\u{1F9FD}",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"\u{1F9F4}",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"\u{1F511}",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"\u{1F5DD}",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"\u{1F6CB}",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"\u{1F6CC}",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"\u{1F6CF}",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"\u{1F6AA}",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"\u{1F6CE}",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"\u{1F9F8}",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"\u{1F5BC}",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"\u{1F5FA}",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"\u26F1",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"\u{1F5FF}",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"\u{1F6CD}",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"\u{1F6D2}",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"\u{1F388}",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"\u{1F38F}",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"\u{1F380}",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"\u{1F381}",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"\u{1F38A}",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"\u{1F389}",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"\u{1F38E}",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"\u{1F390}",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"\u{1F38C}",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"\u{1F3EE}",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"\u{1F9E7}",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"\u2709\uFE0F",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"\u{1F4E9}",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"\u{1F4E8}",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"\u{1F4E7}",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"\u{1F48C}",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"\u{1F4EE}",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"\u{1F4EA}",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"\u{1F4EB}",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"\u{1F4EC}",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"\u{1F4ED}",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"\u{1F4E6}",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"\u{1F4EF}",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"\u{1F4E5}",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"\u{1F4E4}",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"\u{1F4DC}",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"\u{1F4C3}",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"\u{1F4D1}",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"\u{1F9FE}",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"\u{1F4CA}",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"\u{1F4C8}",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"\u{1F4C9}",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"\u{1F4C4}",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"\u{1F4C5}",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"\u{1F4C6}",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"\u{1F5D3}",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"\u{1F4C7}",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"\u{1F5C3}",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"\u{1F5F3}",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"\u{1F5C4}",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"\u{1F4CB}",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"\u{1F5D2}",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"\u{1F4C1}",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"\u{1F4C2}",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"\u{1F5C2}",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"\u{1F5DE}",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"\u{1F4F0}",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"\u{1F4D3}",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"\u{1F4D5}",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"\u{1F4D7}",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"\u{1F4D8}",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"\u{1F4D9}",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"\u{1F4D4}",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"\u{1F4D2}",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"\u{1F4DA}",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"\u{1F4D6}",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"\u{1F9F7}",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"\u{1F517}",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"\u{1F4CE}",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"\u{1F587}",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"\u2702\uFE0F",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"\u{1F4D0}",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"\u{1F4CF}",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"\u{1F9EE}",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"\u{1F4CC}",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"\u{1F4CD}",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"\u{1F6A9}",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"\u{1F3F3}",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"\u{1F3F4}",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"\u{1F3F3}\uFE0F\u200D\u{1F308}",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"\u{1F510}",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"\u{1F512}",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"\u{1F513}",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"\u{1F50F}",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"\u{1F58A}",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"\u{1F58B}",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"\u2712\uFE0F",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"\u{1F4DD}",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"\u270F\uFE0F",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"\u{1F58D}",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"\u{1F58C}",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"\u{1F50D}",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"\u{1F50E}",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"\u2764\uFE0F",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F9E1}",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F49B}",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F49A}",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F499}",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F49C}",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"\u{1F5A4}",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"\u{1F494}",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"\u2763",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"\u{1F495}",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"\u{1F49E}",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"\u{1F493}",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"\u{1F497}",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F496}",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"\u{1F498}",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"\u{1F49D}",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"\u{1F49F}",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"\u262E",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"\u271D",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"\u262A",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"\u{1F549}",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"\u2638",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"\u2721",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"\u{1F52F}",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"\u{1F54E}",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"\u262F",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"\u2626",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"\u{1F6D0}",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"\u26CE",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"\u2648",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"\u2649",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u264A",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u264B",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"\u264C",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u264D",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"\u264E",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"\u264F",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u2650",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u2651",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"\u2652",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"\u2653",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"\u{1F194}",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"\u269B",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"\u{1F233}",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"\u{1F239}",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"\u2622",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"\u2623",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"\u{1F4F4}",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"\u{1F4F3}",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"\u{1F236}",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"\u{1F21A}",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"\u{1F238}",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"\u{1F23A}",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"\u{1F237}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"\u2734\uFE0F",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"\u{1F19A}",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"\u{1F251}",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"\u{1F4AE}",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"\u{1F250}",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"\u3299\uFE0F",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"\u3297\uFE0F",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"\u{1F234}",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"\u{1F235}",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"\u{1F232}",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"\u{1F170}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"\u{1F171}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"\u{1F18E}",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"\u{1F191}",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"\u{1F17E}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"\u{1F198}",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"\u26D4",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"\u{1F4DB}",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"\u{1F6AB}",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"\u274C",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"\u2B55",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"\u{1F6D1}",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"\u{1F4A2}",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"\u2668\uFE0F",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"\u{1F6B7}",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"\u{1F6AF}",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"\u{1F6B3}",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"\u{1F6B1}",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"\u{1F51E}",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"\u{1F4F5}",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"\u2757",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"\u2755",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"\u2753",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"\u2754",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"\u203C\uFE0F",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"\u2049\uFE0F",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"\u{1F4AF}",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"\u{1F505}",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"\u{1F506}",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"\u{1F531}",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"\u269C",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"\u303D\uFE0F",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"\u26A0\uFE0F",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"\u{1F6B8}",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"\u{1F530}",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"\u267B\uFE0F",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"\u{1F22F}",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"\u{1F4B9}",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"\u2747\uFE0F",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"\u2733\uFE0F",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"\u274E",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"\u2705",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"\u{1F4A0}",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"\u{1F300}",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"\u27BF",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"\u{1F310}",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"\u24C2\uFE0F",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"\u{1F3E7}",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"\u{1F202}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"\u{1F6C2}",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"\u{1F6C3}",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"\u{1F6C4}",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"\u{1F6C5}",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"\u267F",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"\u{1F6AD}",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"\u{1F6BE}",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"\u{1F17F}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"\u{1F6B0}",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"\u{1F6B9}",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"\u{1F6BA}",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"\u{1F6BC}",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"\u{1F6BB}",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"\u{1F6AE}",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"\u{1F3A6}",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"\u{1F4F6}",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"\u{1F201}",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"\u{1F196}",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"\u{1F197}",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"\u{1F199}",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"\u{1F192}",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"\u{1F195}",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"\u{1F193}",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"\u{1F51F}",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*\u20E3",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"\u{1F522}",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"\u23CF\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"\u25B6\uFE0F",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"\u23F8",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"\u23ED",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"\u23F9",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"\u23FA",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"\u23EF",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"\u23EE",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"\u23E9",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"\u23EA",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"\u{1F500}",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"\u{1F501}",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"\u{1F502}",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"\u25C0\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"\u{1F53C}",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"\u{1F53D}",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"\u23EB",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"\u23EC",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"\u27A1\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"\u2B05\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"\u2B06\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"\u2B07\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"\u2197\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"\u2198\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"\u2199\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"\u2196\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"\u2195\uFE0F",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"\u2194\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"\u{1F504}",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"\u21AA\uFE0F",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"\u21A9\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"\u2934\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"\u2935\uFE0F",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"\u2139\uFE0F",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"\u{1F524}",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"\u{1F521}",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"\u{1F520}",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"\u{1F523}",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"\u{1F3B5}",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"\u{1F3B6}",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"\u3030\uFE0F",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"\u27B0",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"\u2714\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"\u{1F503}",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"\u2795",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"\u2796",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"\u2797",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"\u2716\uFE0F",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"\u267E",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"\u{1F4B2}",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"\u{1F4B1}",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"\xA9\uFE0F",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"\xAE\uFE0F",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"\u2122\uFE0F",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"\u{1F51A}",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"\u{1F519}",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"\u{1F51B}",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"\u{1F51D}",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"\u{1F51C}",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"\u2611\uFE0F",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"\u{1F518}",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"\u26AA",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"\u26AB",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"\u{1F534}",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"\u{1F535}",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"\u{1F538}",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"\u{1F539}",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"\u{1F536}",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"\u{1F537}",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"\u{1F53A}",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"\u25AA\uFE0F",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"\u25AB\uFE0F",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"\u2B1B",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"\u2B1C",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"\u{1F53B}",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"\u25FC\uFE0F",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"\u25FB\uFE0F",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"\u25FE",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"\u25FD",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"\u{1F532}",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"\u{1F533}",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"\u{1F508}",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"\u{1F509}",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"\u{1F50A}",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"\u{1F507}",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"\u{1F4E3}",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"\u{1F4E2}",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"\u{1F514}",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"\u{1F515}",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"\u{1F0CF}",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"\u{1F004}",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"\u2660\uFE0F",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"\u2663\uFE0F",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"\u2665\uFE0F",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"\u2666\uFE0F",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"\u{1F3B4}",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"\u{1F4AD}",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"\u{1F5EF}",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"\u{1F4AC}",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"\u{1F5E8}",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"\u{1F550}",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"\u{1F551}",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"\u{1F552}",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"\u{1F553}",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"\u{1F554}",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"\u{1F555}",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"\u{1F556}",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"\u{1F557}",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"\u{1F558}",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"\u{1F559}",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"\u{1F55A}",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"\u{1F55B}",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"\u{1F55C}",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"\u{1F55D}",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"\u{1F55E}",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"\u{1F55F}",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"\u{1F560}",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"\u{1F561}",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"\u{1F562}",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"\u{1F563}",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"\u{1F564}",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"\u{1F565}",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"\u{1F566}",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"\u{1F567}",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["\xC5land","islands","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1FD}",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1E7}",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EF}",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"\u{1F1E8}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FD}",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["cura\xE7ao","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1EF}",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"\u{1F1EA}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1EF}",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"\u{1F1EB}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"\u{1F1E9}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"\u{1F1EF}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"\u{1F1EF}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"\u{1F1EF}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"\u{1F1EF}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"\u{1F1FD}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1E7}",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"\u{1F1FE}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FD}",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"\u{1F1F0}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"\u{1F1F4}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"\u{1F1F6}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["r\xE9union","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barth\xE9lemy","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"\u{1F1FC}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1FD}",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1E7}",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"\u{1F1FF}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"\u{1F1F0}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1EF}",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"\u{1F1EC}\u{1F1E7}",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0065}\u{E006E}\u{E0067}\u{E007F}",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0073}\u{E0063}\u{E0074}\u{E007F}",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0077}\u{E006C}\u{E0073}\u{E007F}",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"\u{1F1FC}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"\u{1F1FE}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"\u{1F1FF}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"\u{1F1FF}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"\u{1F1FA}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"\u{1F3F4}\u200D\u2620\uFE0F",fitzpatrick_scale:!1,category:"flags"}});(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=(O,D,Y)=>{var te;return Y(O,D.prototype)?!0:((te=O.constructor)===null||te===void 0?void 0:te.name)===D.name},r=O=>{const D=typeof O;return O===null?"null":D==="object"&&Array.isArray(O)?"array":D==="object"&&n(O,String,(Y,te)=>te.isPrototypeOf(Y))?"string":D},u=O=>D=>r(D)===O,f=O=>D=>typeof D===O,d=O=>D=>O===D,w=u("string"),x=u("array"),T=f("boolean"),I=d(void 0),$=O=>O==null,F=O=>!$(O),H=f("function"),de=f("number"),ke=()=>{},Ne=(O,D)=>Y=>O(D(Y)),xe=O=>()=>O,Fe=O=>O,rt=(O,D)=>O===D;function ne(O,...D){return(...Y)=>{const te=D.concat(Y);return O.apply(null,te)}}const vt=O=>{O()},Ue=xe(!1),We=xe(!0);class J{constructor(D,Y){this.tag=D,this.value=Y}static some(D){return new J(!0,D)}static none(){return J.singletonNone}fold(D,Y){return this.tag?Y(this.value):D()}isSome(){return this.tag}isNone(){return!this.tag}map(D){return this.tag?J.some(D(this.value)):J.none()}bind(D){return this.tag?D(this.value):J.none()}exists(D){return this.tag&&D(this.value)}forall(D){return!this.tag||D(this.value)}filter(D){return!this.tag||D(this.value)?this:J.none()}getOr(D){return this.tag?this.value:D}or(D){return this.tag?this:D}getOrThunk(D){return this.tag?this.value:D()}orThunk(D){return this.tag?this:D()}getOrDie(D){if(this.tag)return this.value;throw new Error(D!=null?D:"Called getOrDie on None")}static from(D){return F(D)?J.some(D):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(D){this.tag&&D(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}J.singletonNone=new J(!1);const Te=Object.keys,st=Object.hasOwnProperty,wt=(O,D)=>{const Y=Te(O);for(let te=0,Ce=Y.length;te<Ce;te++){const at=Y[te],Nt=O[at];D(Nt,at)}},je=O=>(D,Y)=>{O[Y]=D},ue=(O,D,Y,te)=>{wt(O,(Ce,at)=>{(D(Ce,at)?Y:te)(Ce,at)})},Rn=(O,D)=>{const Y={};return ue(O,D,je(Y),ke),Y},ln=(O,D)=>{const Y=[];return wt(O,(te,Ce)=>{Y.push(D(te,Ce))}),Y},It=O=>ln(O,Fe),L=O=>Te(O).length,Ht=(O,D)=>ot(O,D)?J.from(O[D]):J.none(),ot=(O,D)=>st.call(O,D),Nn=(O,D)=>ot(O,D)&&O[D]!==void 0&&O[D]!==null,an=Array.prototype.indexOf,it=Array.prototype.push,Zn=(O,D)=>an.call(O,D),io=(O,D)=>Zn(O,D)>-1,uo=(O,D)=>{for(let Y=0,te=O.length;Y<te;Y++){const Ce=O[Y];if(D(Ce,Y))return!0}return!1},Et=(O,D)=>{const Y=[];for(let te=0;te<O;te++)Y.push(D(te));return Y},Ee=(O,D)=>{const Y=O.length,te=new Array(Y);for(let Ce=0;Ce<Y;Ce++){const at=O[Ce];te[Ce]=D(at,Ce)}return te},me=(O,D)=>{for(let Y=0,te=O.length;Y<te;Y++){const Ce=O[Y];D(Ce,Y)}},j=(O,D)=>{for(let Y=O.length-1;Y>=0;Y--){const te=O[Y];D(te,Y)}},lt=(O,D)=>{const Y=[],te=[];for(let Ce=0,at=O.length;Ce<at;Ce++){const Nt=O[Ce];(D(Nt,Ce)?Y:te).push(Nt)}return{pass:Y,fail:te}},Xe=(O,D)=>{const Y=[];for(let te=0,Ce=O.length;te<Ce;te++){const at=O[te];D(at,te)&&Y.push(at)}return Y},Tt=(O,D,Y)=>(j(O,(te,Ce)=>{Y=D(Y,te,Ce)}),Y),re=(O,D,Y)=>(me(O,(te,Ce)=>{Y=D(Y,te,Ce)}),Y),Re=(O,D,Y)=>{for(let te=0,Ce=O.length;te<Ce;te++){const at=O[te];if(D(at,te))return J.some(at);if(Y(at,te))break}return J.none()},Oe=(O,D)=>Re(O,D,Ue),pt=O=>{const D=[];for(let Y=0,te=O.length;Y<te;++Y){if(!x(O[Y]))throw new Error("Arr.flatten item "+Y+" was not an array, input: "+O);it.apply(D,O[Y])}return D},Ke=(O,D)=>pt(Ee(O,D)),le=(O,D)=>{for(let Y=0,te=O.length;Y<te;++Y){const Ce=O[Y];if(D(Ce,Y)!==!0)return!1}return!0},$e=(O,D)=>{const Y={};for(let te=0,Ce=O.length;te<Ce;te++){const at=O[te];Y[String(at)]=D(at,te)}return Y},Qe=(O,D)=>D>=0&&D<O.length?J.some(O[D]):J.none(),Ve=O=>Qe(O,0),oe=O=>Qe(O,O.length-1),ye=(O,D)=>{for(let Y=0;Y<O.length;Y++){const te=D(O[Y],Y);if(te.isSome())return te}return J.none()},Ye=8,ut=9,zt=11,Dt=1,Vt=3,sn=(O,D)=>{const te=(D||document).createElement("div");if(te.innerHTML=O,!te.hasChildNodes()||te.childNodes.length>1){const Ce="HTML does not have a single root node";throw console.error(Ce,O),new Error(Ce)}return lo(te.childNodes[0])},_n=(O,D)=>{const te=(D||document).createElement(O);return lo(te)},Un=(O,D)=>{const te=(D||document).createTextNode(O);return lo(te)},lo=O=>{if(O==null)throw new Error("Node cannot be null or undefined");return{dom:O}},Io={fromHtml:sn,fromTag:_n,fromText:Un,fromDom:lo,fromPoint:(O,D,Y)=>J.from(O.dom.elementFromPoint(D,Y)).map(lo)},_s=(O,D)=>{const Y=O.dom;if(Y.nodeType!==Dt)return!1;{const te=Y;if(te.matches!==void 0)return te.matches(D);if(te.msMatchesSelector!==void 0)return te.msMatchesSelector(D);if(te.webkitMatchesSelector!==void 0)return te.webkitMatchesSelector(D);if(te.mozMatchesSelector!==void 0)return te.mozMatchesSelector(D);throw new Error("Browser lacks native selectors")}},Uo=O=>O.nodeType!==Dt&&O.nodeType!==ut&&O.nodeType!==zt||O.childElementCount===0,zs=(O,D)=>{const Y=D===void 0?document:D.dom;return Uo(Y)?[]:Ee(Y.querySelectorAll(O),Io.fromDom)},Dl=(O,D)=>{const Y=D===void 0?document:D.dom;return Uo(Y)?J.none():J.from(Y.querySelector(O)).map(Io.fromDom)},Ii=(O,D)=>O.dom===D.dom,Fr=_s;typeof window<"u"||Function("return this;")();const pi=O=>O.dom.nodeName.toLowerCase(),Gt=O=>O.dom.nodeType,Mo=O=>D=>Gt(D)===O,Qi=O=>Gt(O)===Ye||pi(O)==="#comment",la=Mo(Dt),Ku=Mo(Vt),du=Mo(ut),bs=Mo(zt),ac=O=>D=>la(D)&&pi(D)===O,Yu=O=>Io.fromDom(O.dom.ownerDocument),us=O=>du(O)?O:Yu(O),Ln=O=>J.from(O.dom.parentNode).map(Io.fromDom),oi=(O,D)=>{const Y=H(D)?D:Ue;let te=O.dom;const Ce=[];for(;te.parentNode!==null&&te.parentNode!==void 0;){const at=te.parentNode,Nt=Io.fromDom(at);if(Ce.push(Nt),Y(Nt)===!0)break;te=at}return Ce},Oc=O=>J.from(O.dom.previousSibling).map(Io.fromDom),Mf=O=>J.from(O.dom.nextSibling).map(Io.fromDom),fu=O=>Ee(O.dom.childNodes,Io.fromDom),gi=(O,D)=>{const Y=O.dom.childNodes;return J.from(Y[D]).map(Io.fromDom)},ca=O=>gi(O,0),gr=O=>bs(O)&&F(O.dom.host),jd=H(Element.prototype.attachShadow)&&H(Node.prototype.getRootNode)?O=>Io.fromDom(O.dom.getRootNode()):us,Ca=O=>{const D=jd(O);return gr(D)?J.some(D):J.none()},Oi=O=>Io.fromDom(O.dom.host),Zs=O=>{const D=Ku(O)?O.dom.parentNode:O.dom;if(D==null||D.ownerDocument===null)return!1;const Y=D.ownerDocument;return Ca(Io.fromDom(D)).fold(()=>Y.body.contains(D),Ne(Zs,Oi))};var ja=(O,D,Y,te,Ce)=>O(Y,te)?J.some(Y):H(Ce)&&Ce(Y)?J.none():D(Y,te,Ce);const ic=(O,D,Y)=>{let te=O.dom;const Ce=H(Y)?Y:Ue;for(;te.parentNode;){te=te.parentNode;const at=Io.fromDom(te);if(D(at))return J.some(at);if(Ce(at))break}return J.none()},Pf=(O,D,Y)=>ja((Ce,at)=>at(Ce),ic,O,D,Y),Mh=(O,D)=>{const Y=Ce=>D(Io.fromDom(Ce));return Oe(O.dom.childNodes,Y).map(Io.fromDom)},yi=(O,D,Y)=>ic(O,te=>_s(te,D),Y),M0=(O,D)=>Mh(O,Y=>_s(Y,D)),ze=(O,D)=>Dl(D,O),Sa=(O,D,Y)=>ja((Ce,at)=>_s(Ce,at),yi,O,D,Y),Wd=O=>Sa(O,"[contenteditable]"),cg=(O,D=!1)=>Zs(O)?O.dom.isContentEditable:Wd(O).fold(xe(D),Y=>Bm(Y)==="true"),Bm=O=>O.dom.contentEditable,vs=O=>O.nodeName.toLowerCase(),ug=O=>Io.fromDom(O.getBody()),Ph=O=>D=>Ii(D,ug(O)),Xu=O=>O?O.replace(/px$/,""):"",bi=O=>/^\d+(\.\d+)?$/.test(O)?O+"px":O,yr=O=>Io.fromDom(O.selection.getStart()),Rr=O=>Io.fromDom(O.selection.getEnd()),hu=O=>Pf(O,ac("table")).forall(cg),el=(O,D)=>Xe(fu(O),D),Mc=(O,D)=>{let Y=[];return me(fu(O),te=>{D(te)&&(Y=Y.concat([te])),Y=Y.concat(Mc(te,D))}),Y},Ju=(O,D)=>el(O,Y=>_s(Y,D)),Qu=(O,D)=>zs(D,O),Jo=(O,D,Y)=>{if(w(Y)||T(Y)||de(Y))O.setAttribute(D,Y+"");else throw console.error("Invalid call to Attribute.set. Key ",D,":: Value ",Y,":: Element ",O),new Error("Attribute value was not simple")},tl=(O,D,Y)=>{Jo(O.dom,D,Y)},Zd=(O,D)=>{const Y=O.dom;wt(D,(te,Ce)=>{Jo(Y,Ce,te)})},Pc=(O,D)=>{const Y=O.dom.getAttribute(D);return Y===null?void 0:Y},yl=(O,D)=>J.from(Pc(O,D)),Di=(O,D)=>{O.dom.removeAttribute(D)},Gs=O=>re(O.dom.attributes,(D,Y)=>(D[Y.name]=Y.value,D),{}),Xy=(O,D,Y=rt)=>O.exists(te=>Y(te,D)),$m=O=>{const D=[],Y=te=>{D.push(te)};for(let te=0;te<O.length;te++)O[te].each(Y);return D},as=(O,D,Y)=>O.isSome()&&D.isSome()?J.some(Y(O.getOrDie(),D.getOrDie())):J.none(),nl=O=>O.bind(Fe),Mi=(O,D)=>O?J.some(D):J.none(),Kr=(O,D)=>O.substring(D),zf=(O,D,Y)=>D===""||O.length>=D.length&&O.substr(Y,Y+D.length)===D,ed=(O,D)=>bl(O,D)?Kr(O,D.length):O,bl=(O,D)=>zf(O,D,0),Vm=(O=>D=>D.replace(O,""))(/^\s+|\s+$/g),zh=O=>O.length>0,dg=O=>!zh(O),Pi=(O,D=10)=>{const Y=parseInt(O,D);return isNaN(Y)?J.none():J.some(Y)},mu=O=>{const D=parseFloat(O);return isNaN(D)?J.none():J.some(D)},Nf=O=>O.style!==void 0&&H(O.style.getPropertyValue),Hm=(O,D,Y)=>{if(!w(Y))throw console.error("Invalid call to CSS.set. Property ",D,":: Value ",Y,":: Element ",O),new Error("CSS value must be a string: "+Y);Nf(O)&&O.style.setProperty(D,Y)},Nh=(O,D)=>{Nf(O)&&O.style.removeProperty(D)},Lh=(O,D,Y)=>{const te=O.dom;Hm(te,D,Y)},Um=(O,D)=>{const Y=O.dom,Ce=window.getComputedStyle(Y).getPropertyValue(D);return Ce===""&&!Zs(O)?Lf(Y,D):Ce},Lf=(O,D)=>Nf(O)?O.style.getPropertyValue(D):"",Br=(O,D)=>{const Y=O.dom,te=Lf(Y,D);return J.from(te).filter(Ce=>Ce.length>0)},Wa=(O,D)=>{const Y=O.dom;Nh(Y,D),Xy(yl(O,"style").map(Vm),"")&&Di(O,"style")},zc=(O,D,Y=0)=>yl(O,D).map(te=>parseInt(te,10)).getOr(Y),jm=(O,D)=>fg(O,D,We),fg=(O,D,Y)=>Ke(fu(O),te=>_s(te,D)?Y(te)?[te]:[]:fg(te,D,Y)),pu=["tfoot","thead","tbody","colgroup"],Jy=O=>io(pu,O),Za=(O,D)=>({rows:O,columns:D}),Yr=(O,D,Y)=>({element:O,rowspan:D,colspan:Y}),lc=(O,D,Y,te,Ce,at)=>({element:O,rowspan:D,colspan:Y,row:te,column:Ce,isLocked:at}),Pl=(O,D,Y)=>({element:O,cells:D,section:Y}),Jn=(O,D,Y,te)=>({startRow:O,startCol:D,finishRow:Y,finishCol:te}),Bo=(O,D,Y)=>({element:O,colspan:D,column:Y}),ua=(O,D)=>({element:O,columns:D}),G=(O,D,Y=Ue)=>{if(Y(D))return J.none();if(io(O,pi(D)))return J.some(D);const te=Ce=>_s(Ce,"table")||Y(Ce);return yi(D,O.join(","),te)},ae=(O,D)=>G(["td","th"],O,D),ge=O=>jm(O,"th,td"),Je=O=>_s(O,"colgroup")?Ju(O,"col"):Ke(un(O),D=>Ju(D,"col")),en=(O,D)=>Sa(O,"table",D),co=O=>jm(O,"tr"),un=O=>en(O).fold(xe([]),D=>Ju(D,"colgroup")),Ar=(O,D)=>Ee(O,Y=>{if(pi(Y)==="colgroup"){const te=Ee(Je(Y),Ce=>{const at=zc(Ce,"span",1);return Yr(Ce,1,at)});return Pl(Y,te,"colgroup")}else{const te=Ee(ge(Y),Ce=>{const at=zc(Ce,"rowspan",1),Nt=zc(Ce,"colspan",1);return Yr(Ce,at,Nt)});return Pl(Y,te,D(Y))}}),da=O=>Ln(O).map(D=>{const Y=pi(D);return Jy(Y)?Y:"tbody"}).getOr("tbody"),xt=O=>{const D=co(O),te=[...un(O),...D];return Ar(te,da)},$r="data-snooker-locked-cols",er=O=>yl(O,$r).bind(D=>J.from(D.match(/\d+/g))).map(D=>$e(D,We)),fa=(O,D)=>O+","+D,hg=(O,D,Y)=>J.from(O.access[fa(D,Y)]),Ro=(O,D,Y)=>{const te=gu(O,Ce=>Y(D,Ce.element));return te.length>0?J.some(te[0]):J.none()},gu=(O,D)=>{const Y=Ke(O.all,te=>te.cells);return Xe(Y,D)},zi=O=>{const D={};let Y=0;return me(O.cells,te=>{const Ce=te.colspan;Et(Ce,at=>{const Nt=Y+at;D[Nt]=Bo(te.element,Ce,Nt)}),Y+=Ce}),D},br=O=>{const D={},Y=[],Ce=Ve(O).map(Ui=>Ui.element).bind(en).bind(er).getOr({});let at=0,Nt=0,rn=0;const{pass:jn,fail:Wn}=lt(O,Ui=>Ui.section==="colgroup");me(Wn,Ui=>{const Aa=[];me(Ui.cells,cd=>{let Hl=0;for(;D[fa(rn,Hl)]!==void 0;)Hl++;const Yf=Nn(Ce,Hl.toString()),sp=lc(cd.element,cd.rowspan,cd.colspan,rn,Hl,Yf);for(let Ul=0;Ul<cd.colspan;Ul++)for(let Xf=0;Xf<cd.rowspan;Xf++){const Tg=rn+Xf,Rg=Hl+Ul,Yh=fa(Tg,Rg);D[Yh]=sp,Nt=Math.max(Nt,Rg+1)}Aa.push(sp)}),at++,Y.push(Pl(Ui.element,Aa,Ui.section)),rn++});const{columns:$o,colgroups:ss}=oe(jn).map(Ui=>{const Aa=zi(Ui);return{colgroups:[ua(Ui.element,It(Aa))],columns:Aa}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Za(at,Nt),access:D,all:Y,columns:$o,colgroups:ss}},Hr={fromTable:O=>{const D=xt(O);return br(D)},generate:br,getAt:hg,findItem:Ro,filterItems:gu,justCells:O=>Ke(O.all,D=>D.cells),justColumns:O=>It(O.columns),hasColumns:O=>Te(O.columns).length>0,getColumnAt:(O,D)=>J.from(O.columns[D])};var Bf=tinymce.util.Tools.resolve("tinymce.util.Tools");const si=(O,D,Y)=>{const te=O.select("td,th",D);let Ce;for(let at=0;at<te.length;at++){const Nt=O.getStyle(te[at],Y);if(I(Ce)&&(Ce=Nt),Ce!==Nt)return""}return Ce},Gd=(O,D,Y)=>{Bf.each("left center right".split(" "),te=>{te!==Y&&O.formatter.remove("align"+te,{},D)}),Y&&O.formatter.apply("align"+Y,{},D)},Wm=(O,D,Y)=>{Bf.each("top middle bottom".split(" "),te=>{te!==Y&&O.formatter.remove("valign"+te,{},D)}),Y&&O.formatter.apply("valign"+Y,{},D)},ks=(O,D,Y)=>{O.dispatch("TableModified",{...Y,table:D})},vi=(O,D)=>mu(O).getOr(D),ri=(O,D,Y)=>vi(Um(O,D),Y),C1=(O,D,Y,te)=>{const Ce=ri(O,`padding-${Y}`,0),at=ri(O,`padding-${te}`,0),Nt=ri(O,`border-${Y}-width`,0),rn=ri(O,`border-${te}-width`,0);return D-Ce-at-Nt-rn},qd=(O,D)=>{const Y=O.dom,te=Y.getBoundingClientRect().width||Y.offsetWidth;return D==="border-box"?te:C1(O,te,"left","right")},wi=O=>qd(O,"content-box");var $f=tinymce.util.Tools.resolve("tinymce.Env");const S1="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Fh=Et(5,O=>{const D=`${O+1}px`;return{title:D,value:D}}),Nc=Ee(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],O=>({title:O,value:O.toLowerCase()})),vr="100%",_i=O=>{var D;const Y=O.dom,te=(D=Y.getParent(O.selection.getStart(),Y.isBlock))!==null&&D!==void 0?D:O.getBody();return wi(Io.fromDom(te))+"px"},Ni=(O,D)=>eb(O)||!Or(O)?D:Hf(O)?{...D,width:_i(O)}:{...D,width:vr},Lc=(O,D)=>eb(O)||Or(O)?D:Hf(O)?{...D,width:_i(O)}:{...D,width:vr},Ga=O=>D=>D.options.get(O),Ir=O=>{const D=O.options.register;D("table_border_widths",{processor:"object[]",default:Fh}),D("table_border_styles",{processor:"object[]",default:Nc}),D("table_cell_advtab",{processor:"boolean",default:!0}),D("table_row_advtab",{processor:"boolean",default:!0}),D("table_advtab",{processor:"boolean",default:!0}),D("table_appearance_options",{processor:"boolean",default:!0}),D("table_grid",{processor:"boolean",default:!$f.deviceType.isTouch()}),D("table_cell_class_list",{processor:"object[]",default:[]}),D("table_row_class_list",{processor:"object[]",default:[]}),D("table_class_list",{processor:"object[]",default:[]}),D("table_toolbar",{processor:"string",default:S1}),D("table_background_color_map",{processor:"object[]",default:[]}),D("table_border_color_map",{processor:"object[]",default:[]})},vl=Ga("table_sizing_mode"),Zm=Ga("table_border_widths"),Kd=Ga("table_border_styles"),Bh=Ga("table_cell_advtab"),mg=Ga("table_row_advtab"),zl=Ga("table_advtab"),Yd=Ga("table_appearance_options"),Gm=Ga("table_grid"),Or=Ga("table_style_by_css"),qm=Ga("table_cell_class_list"),Vf=Ga("table_row_class_list"),$h=Ga("table_class_list"),Vh=Ga("table_toolbar"),pg=Ga("table_background_color_map"),Km=Ga("table_border_color_map"),Hf=O=>vl(O)==="fixed",eb=O=>vl(O)==="responsive",tb=O=>{const D=O.options,Y=D.get("table_default_styles");return D.isSet("table_default_styles")?Y:Ni(O,Y)},Uf=O=>{const D=O.options,Y=D.get("table_default_attributes");return D.isSet("table_default_attributes")?Y:Lc(O,Y)},P0=(O,D)=>D.column>=O.startCol&&D.column+D.colspan-1<=O.finishCol&&D.row>=O.startRow&&D.row+D.rowspan-1<=O.finishRow,ve=(O,D)=>{let Y=!0;const te=ne(P0,D);for(let Ce=D.startRow;Ce<=D.finishRow;Ce++)for(let at=D.startCol;at<=D.finishCol;at++)Y=Y&&Hr.getAt(O,Ce,at).exists(te);return Y?J.some(D):J.none()},gg=(O,D)=>Jn(Math.min(O.row,D.row),Math.min(O.column,D.column),Math.max(O.row+O.rowspan-1,D.row+D.rowspan-1),Math.max(O.column+O.colspan-1,D.column+D.colspan-1)),Li=(O,D,Y)=>{const te=Hr.findItem(O,D,Ii),Ce=Hr.findItem(O,Y,Ii);return te.bind(at=>Ce.map(Nt=>gg(at,Nt)))},nb=(O,D,Y)=>Li(O,D,Y).bind(te=>ve(O,te)),z0=(O,D,Y)=>{const te=N0(O);return nb(te,D,Y)},N0=Hr.fromTable,Yo=(O,D)=>{Ln(O).each(te=>{te.dom.insertBefore(D.dom,O.dom)})},cc=(O,D)=>{Mf(O).fold(()=>{Ln(O).each(Ce=>{Nl(Ce,D)})},te=>{Yo(te,D)})},ki=(O,D)=>{ca(O).fold(()=>{Nl(O,D)},te=>{O.dom.insertBefore(D.dom,te.dom)})},Nl=(O,D)=>{O.dom.appendChild(D.dom)},x1=(O,D)=>{Yo(O,D),Nl(D,O)},jf=(O,D)=>{me(D,(Y,te)=>{const Ce=te===0?O:D[te-1];cc(Ce,Y)})},Ll=(O,D)=>{me(D,Y=>{Nl(O,Y)})},Ym=O=>{const D=O.dom;D.parentNode!==null&&D.parentNode.removeChild(D)},ob=O=>{const D=fu(O);D.length>0&&jf(O,D),Ym(O)},Fl=((O,D)=>{const Y=at=>{if(!O(at))throw new Error("Can only get "+D+" value of a "+D+" node");return te(at).getOr("")},te=at=>O(at)?J.from(at.dom.nodeValue):J.none();return{get:Y,getOption:te,set:(at,Nt)=>{if(!O(at))throw new Error("Can only set raw "+D+" value of a "+D+" node");at.dom.nodeValue=Nt}}})(Ku,"text"),Hh=O=>Fl.get(O),E1=(O,D)=>Fl.set(O,D);var wl=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],xa=()=>{const O=Wn=>Io.fromDom(Wn.dom.cloneNode(!1)),D=Wn=>us(Wn).dom,Y=Wn=>la(Wn)?pi(Wn)==="body"?!0:io(wl,pi(Wn)):!1,te=Wn=>la(Wn)?io(["br","img","hr","input"],pi(Wn)):!1,Ce=Wn=>la(Wn)&&Pc(Wn,"contenteditable")==="false",at=(Wn,$o)=>Wn.dom.compareDocumentPosition($o.dom),Nt=(Wn,$o)=>{const ss=Gs(Wn);Zd($o,ss)},rn=Wn=>{const $o=pi(Wn);return io(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],$o)},jn=Wn=>la(Wn)?yl(Wn,"lang"):J.none();return{up:xe({selector:yi,closest:Sa,predicate:ic,all:oi}),down:xe({selector:Qu,predicate:Mc}),styles:xe({get:Um,getRaw:Br,set:Lh,remove:Wa}),attrs:xe({get:Pc,set:tl,remove:Di,copyTo:Nt}),insert:xe({before:Yo,after:cc,afterAll:jf,append:Nl,appendAll:Ll,prepend:ki,wrap:x1}),remove:xe({unwrap:ob,remove:Ym}),create:xe({nu:Io.fromTag,clone:O,text:Io.fromText}),query:xe({comparePosition:at,prevSibling:Oc,nextSibling:Mf}),property:xe({children:fu,name:pi,parent:Ln,document:D,isText:Ku,isComment:Qi,isElement:la,isSpecial:rn,getLanguage:jn,getText:Hh,setText:E1,isBoundary:Y,isEmptyTag:te,isNonEditable:Ce}),eq:Ii,is:Fr}};const Uh=(O,D,Y,te)=>{const Ce=Y[0],at=Y.slice(1);return te(O,D,Ce,at)},jh=(O,D,Y)=>Y.length>0?Uh(O,D,Y,uc):J.none(),uc=(O,D,Y,te)=>{const Ce=D(O,Y);return Tt(te,(at,Nt)=>{const rn=D(O,Nt);return _l(O,at,rn)},Ce)},_l=(O,D,Y)=>D.bind(te=>Y.filter(ne(O.eq,te))),sb=jh,yg=xa(),bg=(O,D)=>sb(yg,(Y,te)=>O(te),D),rb=O=>yi(O,"table"),yu=(O,D)=>{const Y=Qu(O,D);return Y.length>0?J.some(Y):J.none()},Xm=(O,D,Y)=>ze(O,D).bind(te=>ze(O,Y).bind(Ce=>bg(rb,[te,Ce]).map(at=>({first:te,last:Ce,table:at})))),T1=(O,D)=>yu(O,D),tI=(O,D,Y)=>Xm(O,D,Y).bind(te=>{const Ce=jn=>Ii(O,jn),at="thead,tfoot,tbody,table",Nt=yi(te.first,at,Ce),rn=yi(te.last,at,Ce);return Nt.bind(jn=>rn.bind(Wn=>Ii(jn,Wn)?z0(te.table,te.first,te.last):J.none()))}),R1=O=>Ee(O,Io.fromDom),vg="data-mce-selected",ab="td["+vg+"],th["+vg+"]",td="data-mce-first-selected",ib="td["+td+"],th["+td+"]",Ns="data-mce-last-selected",tr="td["+Ns+"],th["+Ns+"]",nd={selected:vg,selectedSelector:ab,firstSelected:td,firstSelectedSelector:ib,lastSelected:Ns,lastSelectedSelector:tr},A1=O=>en(O).bind(D=>T1(D,nd.firstSelectedSelector)).fold(xe(O),D=>D[0]),I1=O=>(D,Y)=>{const te=pi(D),Ce=te==="col"||te==="colgroup"?A1(D):D;return Sa(Ce,O,Y)},Ea=I1("th,td,caption"),Wh=I1("th,td"),Fc=O=>R1(O.model.table.getSelectedCells()),bu=(O,D)=>{const Y=Wh(O),te=Y.bind(Ce=>en(Ce)).map(Ce=>co(Ce));return as(Y,te,(Ce,at)=>Xe(at,Nt=>uo(R1(Nt.dom.cells),rn=>Pc(rn,D)==="1"||Ii(rn,Ce)))).getOr([])},Wf=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],to=O=>({value:Zf(O)}),Ci=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Zh=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,O1=O=>Ci.test(O)||Zh.test(O),Zf=O=>ed(O,"#").toUpperCase(),Jm=O=>O1(O)?J.some({value:Zf(O)}):J.none(),dc=O=>{const D=O.toString(16);return(D.length===1?"0"+D:D).toUpperCase()},ol=O=>{const D=dc(O.red)+dc(O.green)+dc(O.blue);return to(D)},ai=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,kl=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,ha=(O,D,Y,te)=>({red:O,green:D,blue:Y,alpha:te}),D1=(O,D,Y,te)=>{const Ce=parseInt(O,10),at=parseInt(D,10),Nt=parseInt(Y,10),rn=parseFloat(te);return ha(Ce,at,Nt,rn)},Zo=O=>{if(O==="transparent")return J.some(ha(0,0,0,0));const D=ai.exec(O);if(D!==null)return J.some(D1(D[1],D[2],D[3],"1"));const Y=kl.exec(O);return Y!==null?J.some(D1(Y[1],Y[2],Y[3],Y[4])):J.none()},od=O=>Jm(O).orThunk(()=>Zo(O).map(ol)).getOrThunk(()=>{const D=document.createElement("canvas");D.height=1,D.width=1;const Y=D.getContext("2d");Y.clearRect(0,0,D.width,D.height),Y.fillStyle="#FFFFFF",Y.fillStyle=O,Y.fillRect(0,0,1,1);const te=Y.getImageData(0,0,1,1).data,Ce=te[0],at=te[1],Nt=te[2],rn=te[3];return ol(ha(Ce,at,Nt,rn))}),Xd=O=>Zo(O).map(ol).map(D=>"#"+D.value).getOr(O),nr=O=>{let D=O;return{get:()=>D,set:Ce=>{D=Ce}}},M1=O=>{const D=nr(J.none()),Y=()=>D.get().each(O);return{clear:()=>{Y(),D.set(J.none())},isSet:()=>D.get().isSome(),get:()=>D.get(),set:rn=>{Y(),D.set(J.some(rn))}}},F0=()=>M1(O=>O.unbind()),sd=(O,D,Y)=>te=>{const Ce=F0(),at=dg(Y),Nt=()=>{const rn=Fc(O),jn=Wn=>O.formatter.match(D,{value:Y},Wn.dom,at);at?(te.setActive(!uo(rn,jn)),Ce.set(O.formatter.formatChanged(D,Wn=>te.setActive(!Wn),!0))):(te.setActive(le(rn,jn)),Ce.set(O.formatter.formatChanged(D,te.setActive,!1,{value:Y})))};return O.initialized?Nt():O.on("init",Nt),Ce.clear},ds=O=>Nn(O,"menu"),hs=O=>Ee(O,D=>{const Y=D.text||D.title||"";return ds(D)?{text:Y,items:hs(D.menu)}:{text:Y,value:D.value}}),Dr=(O,D,Y,te)=>Ee(D,Ce=>{const at=Ce.text||Ce.title;return ds(Ce)?{type:"nestedmenuitem",text:at,getSubmenuItems:()=>Dr(O,Ce.menu,Y,te)}:{text:at,type:"togglemenuitem",onAction:()=>te(Ce.value),onSetup:sd(O,Y,Ce.value)}}),Jd=(O,D)=>Y=>{O.execCommand("mceTableApplyCellStyle",!1,{[D]:Y})},Qd=O=>Ke(O,D=>ds(D)?[{...D,menu:Qd(D.menu)}]:zh(D.value)?[D]:[]),Gf=(O,D,Y,te)=>Ce=>Ce(Dr(O,D,Y,te)),ef=(O,D,Y)=>{const te=Ee(D,Ce=>({text:Ce.title,value:"#"+od(Ce.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:te.length>0?te:void 0,allowCustomColors:!1},onAction:Ce=>{const at=Ce.value==="remove"?"":Ce.value;O.execCommand("mceTableApplyCellStyle",!1,{[Y]:at})}}]},go=O=>()=>{const Y=O.queryCommandValue("mceTableRowType")==="header"?"body":"header";O.execCommand("mceTableRowType",!1,{type:Y})},wg=O=>()=>{const Y=O.queryCommandValue("mceTableColType")==="th"?"td":"th";O.execCommand("mceTableColType",!1,{type:Y})},lb=O=>{const D=hs(qm(O));return D.length>0?J.some({name:"class",type:"listbox",label:"Class",items:D}):J.none()},B0=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Wf}],$0=O=>B0.concat(lb(O).toArray()),Qm=(O,D)=>{const te=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(hs(Kd(O)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:D==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(te):te}},ep={normal:(O,D)=>{const Y=O.dom;return{setAttrib:(Nt,rn)=>{Y.setAttrib(D,Nt,rn)},setStyle:(Nt,rn)=>{Y.setStyle(D,Nt,rn)},setFormat:(Nt,rn)=>{rn===""?O.formatter.remove(Nt,{value:null},D,!0):O.formatter.apply(Nt,{value:rn},D)}}}},fc=ac("th"),z1=(O,D)=>O&&D?"sectionCells":O?"section":"cells",_g=O=>{const D=O.section==="thead",Y=Xy(N1(O.cells),"th");return O.section==="tfoot"?{type:"footer"}:D||Y?{type:"header",subType:z1(D,Y)}:{type:"body"}},N1=O=>{const D=Xe(O,Y=>fc(Y.element));return D.length===0?J.some("td"):D.length===O.length?J.some("th"):J.none()},Bc=O=>{const D=Ee(O,Ce=>_g(Ce).type),Y=io(D,"header"),te=io(D,"footer");if(!Y&&!te)return J.some("body");{const Ce=io(D,"body");return Y&&!Ce&&!te?J.some("header"):!Y&&!Ce&&te?J.some("footer"):J.none()}},cb=O=>{let D=!1,Y;return(...te)=>(D||(D=!0,Y=O.apply(null,te)),Y)},$c=(O,D)=>ye(O.all,Y=>Oe(Y.cells,te=>Ii(D,te.element))),Gh=(O,D,Y)=>{const te=Ee(D.selection,at=>ae(at).bind(Nt=>$c(O,Nt)).filter(Y)),Ce=$m(te);return Mi(Ce.length>0,Ce)},L1=(O,D)=>D.mergable,kg=(O,D)=>D.unmergable,ub=(O,D)=>Gh(O,D,We),db=(O,D)=>$c(O,D).exists(Y=>!Y.isLocked),Ta=(O,D)=>le(D,Y=>db(O,Y)),fb=(O,D)=>L1(O,D).filter(Y=>Ta(O,Y.cells)),Mr=(O,D)=>kg(O,D).filter(Y=>Ta(O,Y));({...{generate:O=>{if(!x(O))throw new Error("cases must be an array");if(O.length===0)throw new Error("there must be at least one case");const D=[],Y={};return me(O,(te,Ce)=>{const at=Te(te);if(at.length!==1)throw new Error("one and only one name per case");const Nt=at[0],rn=te[Nt];if(Y[Nt]!==void 0)throw new Error("duplicate key detected:"+Nt);if(Nt==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(rn))throw new Error("case arguments must be an array");D.push(Nt),Y[Nt]=(...jn)=>{const Wn=jn.length;if(Wn!==rn.length)throw new Error("Wrong number of arguments to case "+Nt+". Expected "+rn.length+" ("+rn+"), got "+Wn);return{fold:(...ss)=>{if(ss.length!==O.length)throw new Error("Wrong number of arguments to fold. Expected "+O.length+", got "+ss.length);return ss[Ce].apply(null,jn)},match:ss=>{const Ls=Te(ss);if(D.length!==Ls.length)throw new Error("Wrong number of arguments to match. Expected: "+D.join(",")+`
Actual: `+Ls.join(","));if(!le(D,Aa=>io(Ls,Aa)))throw new Error("Not all branches were specified when using match. Specified: "+Ls.join(", ")+`
Required: `+D.join(", "));return ss[Nt].apply(null,jn)},log:ss=>{console.log(ss,{constructors:D,constructor:Nt,params:jn})}}}}),Y}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Bl=(O,D)=>{const Y=Hr.fromTable(O);return ub(Y,D).bind(Ce=>{const at=Ce[Ce.length-1],Nt=Ce[0].row,rn=at.row+at.rowspan,jn=Y.all.slice(Nt,rn);return Bc(jn)}).getOr("")},rd=O=>bl(O,"rgb")?Xd(O):O,hb=O=>{const D=Io.fromDom(O);return{borderwidth:Br(D,"border-width").getOr(""),borderstyle:Br(D,"border-style").getOr(""),bordercolor:Br(D,"border-color").map(rd).getOr(""),backgroundcolor:Br(D,"background-color").map(rd).getOr("")}},mb=O=>{const D=O[0],Y=O.slice(1);return me(Y,te=>{me(Te(D),Ce=>{wt(te,(at,Nt)=>{const rn=D[Ce];rn!==""&&Ce===Nt&&rn!==at&&(D[Ce]="")})})}),D},Ra=(O,D,Y,te)=>Oe(O,Ce=>!I(Y.formatter.matchNode(te,D+Ce))).getOr(""),ad=ne(Ra,["left","center","right"],"align"),hc=ne(Ra,["top","middle","bottom"],"valign"),ma=(O,D)=>{const Y=tb(O),te=Uf(O),Ce=()=>({borderstyle:Ht(Y,"border-style").getOr(""),bordercolor:rd(Ht(Y,"border-color").getOr("")),backgroundcolor:rd(Ht(Y,"background-color").getOr(""))}),at={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},Nt=()=>{const $o=Y["border-width"];return Or(O)&&$o?{border:$o}:Ht(te,"border").fold(()=>({}),ss=>({border:ss}))},rn=D?Ce():{},jn=()=>{const $o=Ht(Y,"border-spacing").or(Ht(te,"cellspacing")).fold(()=>({}),Ls=>({cellspacing:Ls})),ss=Ht(Y,"border-padding").or(Ht(te,"cellpadding")).fold(()=>({}),Ls=>({cellpadding:Ls}));return{...$o,...ss}};return{...at,...Y,...te,...rn,...Nt(),...jn()}},qf=O=>en(Io.fromDom(O)).map(D=>{const Y={selection:R1(O.cells)};return Bl(D,Y)}).getOr(""),Pt=(O,D,Y)=>{const te=(rn,jn)=>{const Wn=Br(Io.fromDom(jn),"border-width");return Or(O)&&Wn.isSome()?Wn.getOr(""):rn.getAttrib(jn,"border")||si(O.dom,jn,"border-width")||si(O.dom,jn,"border")||""},Ce=O.dom,at=Or(O)?Ce.getStyle(D,"border-spacing")||Ce.getAttrib(D,"cellspacing"):Ce.getAttrib(D,"cellspacing")||Ce.getStyle(D,"border-spacing"),Nt=Or(O)?si(Ce,D,"padding")||Ce.getAttrib(D,"cellpadding"):Ce.getAttrib(D,"cellpadding")||si(Ce,D,"padding");return{width:Ce.getStyle(D,"width")||Ce.getAttrib(D,"width"),height:Ce.getStyle(D,"height")||Ce.getAttrib(D,"height"),cellspacing:at!=null?at:"",cellpadding:Nt!=null?Nt:"",border:te(Ce,D),caption:!!Ce.select("caption",D)[0],class:Ce.getAttrib(D,"class",""),align:ad(O,D),...Y?hb(D):{}}},pb=(O,D,Y)=>{const te=O.dom;return{height:te.getStyle(D,"height")||te.getAttrib(D,"height"),class:te.getAttrib(D,"class",""),type:qf(D),align:ad(O,D),...Y?hb(D):{}}},V0=(O,D,Y,te)=>{const Ce=O.dom,at=te.getOr(D),Nt=(rn,jn)=>Ce.getStyle(rn,jn)||Ce.getAttrib(rn,jn);return{width:Nt(at,"width"),height:Nt(D,"height"),scope:Ce.getAttrib(D,"scope"),celltype:vs(D),class:Ce.getAttrib(D,"class",""),halign:ad(O,D),valign:hc(O,D),...Y?hb(D):{}}},id=(O,D)=>{const Y=Hr.fromTable(O),te=Hr.justCells(Y),Ce=Xe(te,at=>uo(D,Nt=>Ii(at.element,Nt)));return Ee(Ce,at=>({element:at.element.dom,column:Hr.getColumnAt(Y,at.column).map(Nt=>Nt.element.dom)}))},Hc=(O,D,Y,te)=>{te("scope")&&O.setAttrib("scope",Y.scope),te("class")&&O.setAttrib("class",Y.class),te("height")&&O.setStyle("height",bi(Y.height)),te("width")&&D.setStyle("width",bi(Y.width))},Cg=(O,D,Y)=>{Y("backgroundcolor")&&O.setFormat("tablecellbackgroundcolor",D.backgroundcolor),Y("bordercolor")&&O.setFormat("tablecellbordercolor",D.bordercolor),Y("borderstyle")&&O.setFormat("tablecellborderstyle",D.borderstyle),Y("borderwidth")&&O.setFormat("tablecellborderwidth",bi(D.borderwidth))},Vs=(O,D,Y,te)=>{const Ce=D.length===1;me(D,at=>{const Nt=at.element,rn=Ce?We:te,jn=ep.normal(O,Nt),Wn=at.column.map($o=>ep.normal(O,$o)).getOr(jn);Hc(jn,Wn,Y,rn),Bh(O)&&Cg(jn,Y,rn),te("halign")&&Gd(O,Nt,Y.halign),te("valign")&&Wm(O,Nt,Y.valign)})},qh=(O,D)=>{O.execCommand("mceTableCellType",!1,{type:D.celltype,no_events:!0})},Uc=(O,D,Y,te)=>{const Ce=Rn(te,(at,Nt)=>Y[Nt]!==at);L(Ce)>0&&D.length>=1&&en(D[0]).each(at=>{const Nt=id(at,D),rn=L(Rn(Ce,(Wn,$o)=>$o!=="scope"&&$o!=="celltype"))>0,jn=ot(Ce,"celltype");(rn||ot(Ce,"scope"))&&Vs(O,Nt,te,ne(ot,Ce)),jn&&qh(O,te),ks(O,at.dom,{structure:jn,style:rn})})},eo=(O,D,Y,te)=>{const Ce=te.getData();te.close(),O.undoManager.transact(()=>{Uc(O,D,Y,Ce),O.focus()})},Cl=(O,D)=>{const Y=en(D[0]).map(te=>Ee(id(te,D),Ce=>V0(O,Ce.element,Bh(O),Ce.column)));return mb(Y.getOrDie())},Bi=O=>{const D=Fc(O);if(D.length===0)return;const Y=Cl(O,D),te={type:"tabpanel",tabs:[{title:"General",name:"general",items:$0(O)},Qm(O,"cell")]},Ce={type:"panel",items:[{type:"grid",columns:2,items:$0(O)}]};O.windowManager.open({title:"Cell Properties",size:"normal",body:Bh(O)?te:Ce,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Y,onSubmit:ne(eo,O,D,Y)})},sl=O=>{const D=hs(Vf(O));return D.length>0?J.some({name:"class",type:"listbox",label:"Class",items:D}):J.none()},$i=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],$l=O=>$i.concat(sl(O).toArray()),Qo=(O,D,Y)=>{Y("class")&&O.setAttrib("class",D.class),Y("height")&&O.setStyle("height",bi(D.height))},ii=(O,D,Y)=>{Y("backgroundcolor")&&O.setStyle("background-color",D.backgroundcolor),Y("bordercolor")&&O.setStyle("border-color",D.bordercolor),Y("borderstyle")&&O.setStyle("border-style",D.borderstyle)},Sg=(O,D,Y,te)=>{const at=D.length===1?We:te;me(D,Nt=>{const rn=ep.normal(O,Nt);Qo(rn,Y,at),mg(O)&&ii(rn,Y,at),te("align")&&Gd(O,Nt,Y.align)})},Ct=(O,D)=>{O.execCommand("mceTableRowType",!1,{type:D.type,no_events:!0})},Vi=(O,D,Y,te)=>{const Ce=Rn(te,(at,Nt)=>Y[Nt]!==at);if(L(Ce)>0){const at=ot(Ce,"type"),Nt=at?L(Ce)>1:!0;Nt&&Sg(O,D,te,ne(ot,Ce)),at&&Ct(O,te),en(Io.fromDom(D[0])).each(rn=>ks(O,rn.dom,{structure:at,style:Nt}))}},tp=(O,D,Y,te)=>{const Ce=te.getData();te.close(),O.undoManager.transact(()=>{Vi(O,D,Y,Ce),O.focus()})},wr=O=>{const D=bu(yr(O),nd.selected);if(D.length===0)return;const Y=Ee(D,Nt=>pb(O,Nt.dom,mg(O))),te=mb(Y),Ce={type:"tabpanel",tabs:[{title:"General",name:"general",items:$l(O)},Qm(O,"row")]},at={type:"panel",items:[{type:"grid",columns:2,items:$l(O)}]};O.windowManager.open({title:"Row Properties",size:"normal",body:mg(O)?Ce:at,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:te,onSubmit:ne(tp,O,Ee(D,Nt=>Nt.dom),te)})},vu=(O,D,Y)=>{const te=Y?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Ce=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],at=Yd(O)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],Nt=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],rn=D.length>0?[{type:"listbox",name:"class",label:"Class",items:D}]:[];return te.concat(Ce).concat(at).concat(Nt).concat(rn)},gb=(O,D,Y,te)=>{if(D.tagName==="TD"||D.tagName==="TH")w(Y)&&F(te)?O.setStyle(D,Y,te):O.setStyles(D,Y);else if(D.children)for(let Ce=0;Ce<D.children.length;Ce++)gb(O,D.children[Ce],Y,te)},mc=(O,D,Y)=>{const te=O.dom,Ce={},at={};if(I(Y.class)||(Ce.class=Y.class),at.height=bi(Y.height),Or(O)?at.width=bi(Y.width):te.getAttrib(D,"width")&&(Ce.width=Xu(Y.width)),Or(O)?(at["border-width"]=bi(Y.border),at["border-spacing"]=bi(Y.cellspacing)):(Ce.border=Y.border,Ce.cellpadding=Y.cellpadding,Ce.cellspacing=Y.cellspacing),Or(O)&&D.children)for(let Nt=0;Nt<D.children.length;Nt++)gb(te,D.children[Nt],{"border-width":bi(Y.border),padding:bi(Y.cellpadding)}),zl(O)&&gb(te,D.children[Nt],{"border-color":Y.bordercolor});if(zl(O)){const Nt=Y;at["background-color"]=Nt.backgroundcolor,at["border-color"]=Nt.bordercolor,at["border-style"]=Nt.borderstyle}Ce.style=te.serializeStyle({...tb(O),...at}),te.setAttribs(D,{...Uf(O),...Ce})},H0=(O,D,Y,te)=>{const Ce=O.dom,at=te.getData(),Nt=Rn(at,(rn,jn)=>Y[jn]!==rn);te.close(),at.class===""&&delete at.class,O.undoManager.transact(()=>{if(!D){const rn=Pi(at.cols).getOr(1),jn=Pi(at.rows).getOr(1);O.execCommand("mceInsertTable",!1,{rows:jn,columns:rn}),D=Wh(yr(O),Ph(O)).bind(Wn=>en(Wn,Ph(O))).map(Wn=>Wn.dom).getOrDie()}if(L(Nt)>0){mc(O,D,at);const rn=Ce.select("caption",D)[0];(rn&&!at.caption||!rn&&at.caption)&&O.execCommand("mceTableToggleCaption"),Gd(O,D,at.align)}if(O.focus(),O.addVisual(),L(Nt)>0){const rn=ot(Nt,"caption"),jn=rn?L(Nt)>1:!0;ks(O,D,{structure:rn,style:jn})}})},ld=(O,D)=>{const Y=O.dom;let te,Ce=ma(O,zl(O));D?(Ce.cols="1",Ce.rows="1",zl(O)&&(Ce.borderstyle="",Ce.bordercolor="",Ce.backgroundcolor="")):(te=Y.getParent(O.selection.getStart(),"table",O.getBody()),te?Ce=Pt(O,te,zl(O)):zl(O)&&(Ce.borderstyle="",Ce.bordercolor="",Ce.backgroundcolor=""));const at=hs($h(O));at.length>0&&Ce.class&&(Ce.class=Ce.class.replace(/\s*mce\-item\-table\s*/g,""));const Nt={type:"grid",columns:2,items:vu(O,at,D)},rn=()=>({type:"panel",items:[Nt]}),jn=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[Nt]},Qm(O,"table")]}),Wn=zl(O)?jn():rn();O.windowManager.open({title:"Table Properties",size:"normal",body:Wn,onSubmit:ne(H0,O,te,Ce),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ce})},F1=O=>{const D=Y=>{hu(yr(O))&&Y()};wt({mceTableProps:ne(ld,O,!1),mceTableRowProps:ne(wr,O),mceTableCellProps:ne(Bi,O),mceInsertTableDialog:ne(ld,O,!0)},(Y,te)=>O.addCommand(te,()=>D(Y)))},rl=(O,D)=>M0(O,D).isSome(),jo=Fe,wu=O=>{const D=(te,Ce)=>yl(te,Ce).exists(at=>parseInt(at,10)>1),Y=te=>D(te,"rowspan")||D(te,"colspan");return O.length>0&&le(O,Y)?J.some(O):J.none()},np=(O,D,Y)=>D.length<=1?J.none():tI(O,Y.firstSelectedSelector,Y.lastSelectedSelector).map(te=>({bounds:te,cells:D})),_r=O=>({element:O,mergable:J.none(),unmergable:J.none(),selection:[O]}),Hi=(O,D,Y)=>({element:Y,mergable:np(D,O,nd),unmergable:wu(O),selection:jo(O)}),Kf=O=>{const D=nr(J.none()),Y=nr([]);let te=J.none();const Ce=ac("caption"),at=_o=>te.forall(ms=>!ms[_o]),Nt=()=>Ea(yr(O),Ph(O)),rn=()=>Ea(Rr(O),Ph(O)),jn=()=>Nt().bind(_o=>nl(as(en(_o),rn().bind(en),(ms,Si)=>Ii(ms,Si)?Ce(_o)?J.some(_r(_o)):J.some(Hi(Fc(O),ms,_o)):J.none()))),Wn=_o=>en(_o.element).map(Si=>{const is=Hr.fromTable(Si),Ag=ub(is,_o).getOr([]),Jf=re(Ag,(Qf,pc)=>(pc.isLocked&&(Qf.onAny=!0,pc.column===0?Qf.onFirst=!0:pc.column+pc.colspan>=is.grid.columns&&(Qf.onLast=!0)),Qf),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:fb(is,_o).isSome(),unmergeable:Mr(is,_o).isSome(),locked:Jf}}),$o=()=>{D.set(cb(jn)()),te=D.get().bind(Wn),me(Y.get(),vt)},ss=_o=>(_o(),Y.set(Y.get().concat([_o])),()=>{Y.set(Xe(Y.get(),ms=>ms!==_o))}),Ls=(_o,ms)=>ss(()=>D.get().fold(()=>{_o.setEnabled(!1)},Si=>{_o.setEnabled(!ms(Si))})),Ui=(_o,ms,Si)=>ss(()=>D.get().fold(()=>{_o.setEnabled(!1),_o.setActive(!1)},is=>{_o.setEnabled(!ms(is)),_o.setActive(Si(is))})),Aa=_o=>te.exists(ms=>ms.locked[_o]),cd=_o=>Ls(_o,ms=>!1),Hl=_o=>Ls(_o,ms=>Ce(ms.element)),Yf=_o=>ms=>Ls(ms,Si=>Ce(Si.element)||Aa(_o)),sp=_o=>ms=>Ls(ms,Si=>Ce(Si.element)||_o().isNone()),Ul=(_o,ms)=>Si=>Ls(Si,is=>Ce(is.element)||_o().isNone()||Aa(ms)),Xf=_o=>Ls(_o,ms=>at("mergeable")),Tg=_o=>Ls(_o,ms=>at("unmergeable")),Rg=_o=>Ui(_o,Ue,ms=>en(ms.element,Ph(O)).exists(is=>rl(is,"caption"))),Yh=(_o,ms)=>Si=>Ui(Si,is=>Ce(is.element),()=>O.queryCommandValue(_o)===ms),Xr=Yh("mceTableRowType","header"),_u=Yh("mceTableColType","th");return O.on("NodeChange ExecCommand TableSelectorChange",$o),{onSetupTable:cd,onSetupCellOrRow:Hl,onSetupColumn:Yf,onSetupPasteable:sp,onSetupPasteableColumn:Ul,onSetupMergeable:Xf,onSetupUnmergeable:Tg,resetTargets:$o,onSetupTableWithCaption:Rg,onSetupTableRowHeaders:Xr,onSetupTableColumnHeaders:_u,targets:D.get}};var op=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const pa="x-tinymce/dom-table-",xg=pa+"rows",Be=pa+"columns",li=O=>{var D;const Y=(D=op.read())!==null&&D!==void 0?D:[];return ye(Y,te=>J.from(te.getType(O)))},Kh=()=>li(xg),qa=()=>li(Be),Vl=(O,D)=>{O.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:rn=>rn("inserttable | cell row column | advtablesort | tableprops deletetable")});const Y=rn=>()=>O.execCommand(rn),te=(rn,jn)=>{O.queryCommandSupported(jn.command)&&O.ui.registry.addButton(rn,{...jn,onAction:H(jn.onAction)?jn.onAction:Y(jn.command)})},Ce=(rn,jn)=>{O.queryCommandSupported(jn.command)&&O.ui.registry.addToggleButton(rn,{...jn,onAction:H(jn.onAction)?jn.onAction:Y(jn.command)})};te("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:D.onSetupTable}),te("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:D.onSetupTable}),te("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:D.onSetupCellOrRow}),te("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:D.onSetupMergeable}),te("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:D.onSetupUnmergeable}),te("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:D.onSetupCellOrRow}),te("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:D.onSetupCellOrRow}),te("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:D.onSetupCellOrRow}),te("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:D.onSetupCellOrRow}),te("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:D.onSetupColumn("onFirst")}),te("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:D.onSetupColumn("onLast")}),te("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:D.onSetupColumn("onAny")}),te("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:D.onSetupCellOrRow}),te("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:D.onSetupCellOrRow}),te("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:D.onSetupPasteable(Kh)}),te("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:D.onSetupPasteable(Kh)}),te("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:D.onSetupColumn("onAny")}),te("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:D.onSetupColumn("onAny")}),te("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:D.onSetupPasteableColumn(qa,"onFirst")}),te("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:D.onSetupPasteableColumn(qa,"onLast")}),te("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table"});const at=Qd($h(O));at.length!==0&&O.queryCommandSupported("mceTableToggleClass")&&O.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Gf(O,at,"tableclass",rn=>O.execCommand("mceTableToggleClass",!1,rn)),onSetup:D.onSetupTable});const Nt=Qd(qm(O));Nt.length!==0&&O.queryCommandSupported("mceTableCellToggleClass")&&O.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Gf(O,Nt,"tablecellclass",rn=>O.execCommand("mceTableCellToggleClass",!1,rn)),onSetup:D.onSetupCellOrRow}),O.queryCommandSupported("mceTableApplyCellStyle")&&(O.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Gf(O,Wf,"tablecellverticalalign",Jd(O,"vertical-align")),onSetup:D.onSetupCellOrRow}),O.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Gf(O,Zm(O),"tablecellborderwidth",Jd(O,"border-width")),onSetup:D.onSetupCellOrRow}),O.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Gf(O,Kd(O),"tablecellborderstyle",Jd(O,"border-style")),onSetup:D.onSetupCellOrRow}),O.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:rn=>rn(ef(O,pg(O),"background-color")),onSetup:D.onSetupCellOrRow}),O.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:rn=>rn(ef(O,Km(O),"border-color")),onSetup:D.onSetupCellOrRow})),Ce("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:D.onSetupTableWithCaption}),Ce("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:go(O),onSetup:D.onSetupTableRowHeaders}),Ce("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:wg(O),onSetup:D.onSetupTableColumnHeaders})},ci=O=>{const D=te=>O.dom.is(te,"table")&&O.getBody().contains(te),Y=Vh(O);Y.length>0&&O.ui.registry.addContextToolbar("table",{predicate:D,items:Y,scope:"node",position:"node"})},Ur=(O,D)=>{const Y=ss=>()=>O.execCommand(ss),te=(ss,Ls)=>O.queryCommandSupported(Ls.command)?(O.ui.registry.addMenuItem(ss,{...Ls,onAction:H(Ls.onAction)?Ls.onAction:Y(Ls.command)}),!0):!1,Ce=(ss,Ls)=>{O.queryCommandSupported(Ls.command)&&O.ui.registry.addToggleMenuItem(ss,{...Ls,onAction:H(Ls.onAction)?Ls.onAction:Y(Ls.command)})},at=ss=>{O.execCommand("mceInsertTable",!1,{rows:ss.numRows,columns:ss.numColumns})},Nt=[te("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:D.onSetupCellOrRow}),te("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:D.onSetupCellOrRow}),te("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:D.onSetupCellOrRow}),te("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:D.onSetupCellOrRow}),te("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:D.onSetupCellOrRow}),te("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:D.onSetupCellOrRow}),te("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:D.onSetupPasteable(Kh)}),te("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:D.onSetupPasteable(Kh)})],rn=[te("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:D.onSetupColumn("onFirst")}),te("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:D.onSetupColumn("onLast")}),te("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:D.onSetupColumn("onAny")}),te("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:D.onSetupColumn("onAny")}),te("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:D.onSetupColumn("onAny")}),te("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:D.onSetupPasteableColumn(qa,"onFirst")}),te("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:D.onSetupPasteableColumn(qa,"onLast")})],jn=[te("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:D.onSetupCellOrRow}),te("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:D.onSetupMergeable}),te("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:D.onSetupUnmergeable})];Gm(O)?O.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:at}]}):O.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:Y("mceInsertTableDialog")}),O.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:Y("mceInsertTableDialog")}),te("tableprops",{text:"Table properties",onSetup:D.onSetupTable,command:"mceTableProps"}),te("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:D.onSetupTable,command:"mceTableDelete"}),io(Nt,!0)&&O.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:xe("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),io(rn,!0)&&O.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:xe("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),io(jn,!0)&&O.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:xe("tablecellprops tablemergecells tablesplitcells")}),O.ui.registry.addContextMenu("table",{update:()=>(D.resetTargets(),D.targets().fold(xe(""),ss=>pi(ss.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Wn=Qd($h(O));Wn.length!==0&&O.queryCommandSupported("mceTableToggleClass")&&O.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Dr(O,Wn,"tableclass",ss=>O.execCommand("mceTableToggleClass",!1,ss)),onSetup:D.onSetupTable});const $o=Qd(qm(O));$o.length!==0&&O.queryCommandSupported("mceTableCellToggleClass")&&O.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Dr(O,$o,"tablecellclass",ss=>O.execCommand("mceTableCellToggleClass",!1,ss)),onSetup:D.onSetupCellOrRow}),O.queryCommandSupported("mceTableApplyCellStyle")&&(O.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Dr(O,Wf,"tablecellverticalalign",Jd(O,"vertical-align")),onSetup:D.onSetupCellOrRow}),O.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Dr(O,Zm(O),"tablecellborderwidth",Jd(O,"border-width")),onSetup:D.onSetupCellOrRow}),O.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Dr(O,Kd(O),"tablecellborderstyle",Jd(O,"border-style")),onSetup:D.onSetupCellOrRow}),O.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>ef(O,pg(O),"background-color"),onSetup:D.onSetupCellOrRow}),O.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>ef(O,Km(O),"border-color"),onSetup:D.onSetupCellOrRow})),Ce("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:D.onSetupTableWithCaption}),Ce("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:go(O),onSetup:D.onSetupTableRowHeaders}),Ce("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:wg(O),onSetup:D.onSetupTableRowHeaders})},U0=O=>{const D=Kf(O);Ir(O),F1(O),Ur(O,D),Vl(O,D),ci(O)};var Eg=()=>{t.add("table",U0)};Eg()})();(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=(lt,Xe,Tt)=>{var re;return Tt(lt,Xe.prototype)?!0:((re=lt.constructor)===null||re===void 0?void 0:re.name)===Xe.name},r=lt=>{const Xe=typeof lt;return lt===null?"null":Xe==="object"&&Array.isArray(lt)?"array":Xe==="object"&&n(lt,String,(Tt,re)=>re.isPrototypeOf(Tt))?"string":Xe},u=lt=>Xe=>r(Xe)===lt,f=lt=>Xe=>typeof Xe===lt,d=u("string"),w=f("boolean"),x=lt=>lt==null,T=lt=>!x(lt),I=f("function"),$=lt=>Xe=>Xe.options.get(lt),F=lt=>{const Xe=lt.options.register,Tt=pt=>Ke=>{const le=w(Ke)||d(Ke);return le?w(Ke)?{value:Ke?pt:"",valid:le}:{value:Ke.trim(),valid:le}:{valid:!1,message:"Must be a boolean or string."}},re="bold italic | quicklink h2 h3 blockquote";Xe("quickbars_selection_toolbar",{processor:Tt(re),default:re});const Re="quickimage quicktable";Xe("quickbars_insert_toolbar",{processor:Tt(Re),default:Re});const Oe="alignleft aligncenter alignright";Xe("quickbars_image_toolbar",{processor:Tt(Oe),default:Oe})},H=$("quickbars_selection_toolbar"),de=$("quickbars_insert_toolbar"),ke=$("quickbars_image_toolbar");let Ne=0;const xe=lt=>{const Tt=new Date().getTime(),re=Math.floor(Math.random()*1e9);return Ne++,lt+"_"+re+Ne+String(Tt)},Fe=(lt,Xe,Tt)=>{lt.execCommand("mceInsertTable",!1,{rows:Tt,columns:Xe})},rt=(lt,Xe,Tt)=>{const re=lt.editorUpload.blobCache,Re=re.create(xe("mceu"),Tt,Xe);re.add(Re),lt.insertContent(lt.dom.createHTML("img",{src:Re.blobUri()}))},ne=lt=>new Promise(Xe=>{const Tt=new FileReader;Tt.onloadend=()=>{Xe(Tt.result.split(",")[1])},Tt.readAsDataURL(lt)});var vt=tinymce.util.Tools.resolve("tinymce.util.Delay");const Ue=lt=>new Promise(Xe=>{let Tt=!1;const re=document.createElement("input");re.type="file",re.accept="image/*",re.style.position="fixed",re.style.left="0",re.style.top="0",re.style.opacity="0.001",document.body.appendChild(re);const Re=Ke=>{var le;Tt||((le=re.parentNode)===null||le===void 0||le.removeChild(re),Tt=!0,Xe(Ke))},Oe=Ke=>{Re(Array.prototype.slice.call(Ke.target.files))};re.addEventListener("input",Oe),re.addEventListener("change",Oe);const pt=Ke=>{const le=()=>{Re([])};Tt||(Ke.type==="focusin"?vt.setEditorTimeout(lt,le,1e3):le()),lt.off("focusin remove",pt)};lt.on("focusin remove",pt),re.click()}),We=lt=>{lt.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{Ue(lt).then(Xe=>{if(Xe.length>0){const Tt=Xe[0];ne(Tt).then(re=>{rt(lt,re,Tt)})}})}}),lt.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{Fe(lt,2,2)}})},Te=(lt=>()=>lt)(!1);class st{constructor(Xe,Tt){this.tag=Xe,this.value=Tt}static some(Xe){return new st(!0,Xe)}static none(){return st.singletonNone}fold(Xe,Tt){return this.tag?Tt(this.value):Xe()}isSome(){return this.tag}isNone(){return!this.tag}map(Xe){return this.tag?st.some(Xe(this.value)):st.none()}bind(Xe){return this.tag?Xe(this.value):st.none()}exists(Xe){return this.tag&&Xe(this.value)}forall(Xe){return!this.tag||Xe(this.value)}filter(Xe){return!this.tag||Xe(this.value)?this:st.none()}getOr(Xe){return this.tag?this.value:Xe}or(Xe){return this.tag?this:Xe}getOrThunk(Xe){return this.tag?this.value:Xe()}orThunk(Xe){return this.tag?this:Xe()}getOrDie(Xe){if(this.tag)return this.value;throw new Error(Xe!=null?Xe:"Called getOrDie on None")}static from(Xe){return T(Xe)?st.some(Xe):st.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Xe){this.tag&&Xe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}st.singletonNone=new st(!1),typeof window<"u"||Function("return this;")();const wt=1,je=lt=>lt.dom.nodeName.toLowerCase(),ue=(lt,Xe)=>{const Tt=lt.dom;return Tt&&Tt.hasAttribute?Tt.hasAttribute(Xe):!1};var Rn=(lt,Xe,Tt,re,Re)=>lt(Tt,re)?st.some(Tt):I(Re)&&Re(Tt)?st.none():Xe(Tt,re,Re);const ln=(lt,Xe)=>{const re=(Xe||document).createElement("div");if(re.innerHTML=lt,!re.hasChildNodes()||re.childNodes.length>1){const Re="HTML does not have a single root node";throw console.error(Re,lt),new Error(Re)}return Ht(re.childNodes[0])},It=(lt,Xe)=>{const re=(Xe||document).createElement(lt);return Ht(re)},L=(lt,Xe)=>{const re=(Xe||document).createTextNode(lt);return Ht(re)},Ht=lt=>{if(lt==null)throw new Error("Node cannot be null or undefined");return{dom:lt}},Nn={fromHtml:ln,fromTag:It,fromText:L,fromDom:Ht,fromPoint:(lt,Xe,Tt)=>st.from(lt.dom.elementFromPoint(Xe,Tt)).map(Ht)},an=(lt,Xe)=>{const Tt=lt.dom;if(Tt.nodeType!==wt)return!1;{const re=Tt;if(re.matches!==void 0)return re.matches(Xe);if(re.msMatchesSelector!==void 0)return re.msMatchesSelector(Xe);if(re.webkitMatchesSelector!==void 0)return re.webkitMatchesSelector(Xe);if(re.mozMatchesSelector!==void 0)return re.mozMatchesSelector(Xe);throw new Error("Browser lacks native selectors")}},it=(lt,Xe,Tt)=>{let re=lt.dom;const Re=I(Tt)?Tt:Te;for(;re.parentNode;){re=re.parentNode;const Oe=Nn.fromDom(re);if(Xe(Oe))return st.some(Oe);if(Re(Oe))break}return st.none()},Zn=(lt,Xe,Tt)=>Rn((Re,Oe)=>Oe(Re),it,lt,Xe,Tt),io=(lt,Xe,Tt)=>Zn(lt,Xe,Tt).isSome(),uo=(lt,Xe,Tt)=>it(lt,re=>an(re,Xe),Tt),Et=(lt,Xe,Tt)=>Rn((Re,Oe)=>an(Re,Oe),uo,lt,Xe,Tt),Ee=lt=>{const Xe=de(lt);Xe.length>0&&lt.ui.registry.addContextToolbar("quickblock",{predicate:Tt=>{const re=Nn.fromDom(Tt),Re=lt.schema.getTextBlockElements(),Oe=pt=>pt.dom===lt.getBody();return!ue(re,"data-mce-bogus")&&Et(re,'table,[data-mce-bogus="all"]',Oe).fold(()=>io(re,pt=>je(pt)in Re&&lt.dom.isEmpty(pt.dom),Oe),Te)},items:Xe,position:"line",scope:"editor"})},me=lt=>{const Xe=Oe=>lt.dom.getContentEditableParent(Oe)!=="false",Tt=Oe=>Oe.nodeName==="IMG"||Oe.nodeName==="FIGURE"&&/image/i.test(Oe.className),re=ke(lt);re.length>0&&lt.ui.registry.addContextToolbar("imageselection",{predicate:Tt,items:re,position:"node"});const Re=H(lt);Re.length>0&&lt.ui.registry.addContextToolbar("textselection",{predicate:Oe=>!Tt(Oe)&&!lt.selection.isCollapsed()&&Xe(Oe),items:Re,position:"selection",scope:"editor"})};var j=()=>{t.add("quickbars",lt=>{F(lt),We(lt),Ee(lt),me(lt)})};j()})();(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=Object.getPrototypeOf,r=(G,ae,ge)=>{var Je;return ge(G,ae.prototype)?!0:((Je=G.constructor)===null||Je===void 0?void 0:Je.name)===ae.name},u=G=>{const ae=typeof G;return G===null?"null":ae==="object"&&Array.isArray(G)?"array":ae==="object"&&r(G,String,(ge,Je)=>Je.isPrototypeOf(ge))?"string":ae},f=G=>ae=>u(ae)===G,d=G=>ae=>typeof ae===G,w=G=>ae=>G===ae,x=(G,ae)=>I(G)&&r(G,ae,(ge,Je)=>n(ge)===Je),T=f("string"),I=f("object"),$=G=>x(G,Object),F=f("array"),H=w(null),de=d("boolean"),ke=G=>G==null,Ne=G=>!ke(G),xe=d("function"),Fe=d("number"),rt=(G,ae)=>{if(F(G)){for(let ge=0,Je=G.length;ge<Je;++ge)if(!ae(G[ge]))return!1;return!0}return!1},ne=()=>{};class vt{constructor(ae,ge){this.tag=ae,this.value=ge}static some(ae){return new vt(!0,ae)}static none(){return vt.singletonNone}fold(ae,ge){return this.tag?ge(this.value):ae()}isSome(){return this.tag}isNone(){return!this.tag}map(ae){return this.tag?vt.some(ae(this.value)):vt.none()}bind(ae){return this.tag?ae(this.value):vt.none()}exists(ae){return this.tag&&ae(this.value)}forall(ae){return!this.tag||ae(this.value)}filter(ae){return!this.tag||ae(this.value)?this:vt.none()}getOr(ae){return this.tag?this.value:ae}or(ae){return this.tag?this:ae}getOrThunk(ae){return this.tag?this.value:ae()}orThunk(ae){return this.tag?this:ae()}getOrDie(ae){if(this.tag)return this.value;throw new Error(ae!=null?ae:"Called getOrDie on None")}static from(ae){return Ne(ae)?vt.some(ae):vt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ae){this.tag&&ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}vt.singletonNone=new vt(!1);const Ue=Object.keys,We=Object.hasOwnProperty,J=(G,ae)=>{const ge=Ue(G);for(let Je=0,en=ge.length;Je<en;Je++){const co=ge[Je],un=G[co];ae(un,co)}},Te=G=>(ae,ge)=>{G[ge]=ae},st=(G,ae,ge,Je)=>{J(G,(en,co)=>{(ae(en,co)?ge:Je)(en,co)})},wt=(G,ae)=>{const ge={};return st(G,ae,Te(ge),ne),ge},je=(G,ae)=>We.call(G,ae),ue=(G,ae)=>je(G,ae)&&G[ae]!==void 0&&G[ae]!==null,Rn=Array.prototype.push,ln=G=>{const ae=[];for(let ge=0,Je=G.length;ge<Je;++ge){if(!F(G[ge]))throw new Error("Arr.flatten item "+ge+" was not an array, input: "+G);Rn.apply(ae,G[ge])}return ae},It=(G,ae)=>ae>=0&&ae<G.length?vt.some(G[ae]):vt.none(),L=G=>It(G,0),Ht=(G,ae)=>{for(let ge=0;ge<G.length;ge++){const Je=ae(G[ge],ge);if(Je.isSome())return Je}return vt.none()};typeof window<"u"||Function("return this;")();const ot=(G,ae,ge)=>{if(T(ge)||de(ge)||Fe(ge))G.setAttribute(ae,ge+"");else throw console.error("Invalid call to Attribute.set. Key ",ae,":: Value ",ge,":: Element ",G),new Error("Attribute value was not simple")},Nn=(G,ae,ge)=>{ot(G.dom,ae,ge)},an=(G,ae)=>{G.dom.removeAttribute(ae)},it=(G,ae)=>{const Je=(ae||document).createElement("div");if(Je.innerHTML=G,!Je.hasChildNodes()||Je.childNodes.length>1){const en="HTML does not have a single root node";throw console.error(en,G),new Error(en)}return uo(Je.childNodes[0])},Zn=(G,ae)=>{const Je=(ae||document).createElement(G);return uo(Je)},io=(G,ae)=>{const Je=(ae||document).createTextNode(G);return uo(Je)},uo=G=>{if(G==null)throw new Error("Node cannot be null or undefined");return{dom:G}},Ee={fromHtml:it,fromTag:Zn,fromText:io,fromDom:uo,fromPoint:(G,ae,ge)=>vt.from(G.dom.elementFromPoint(ae,ge)).map(uo)};var me=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),j=tinymce.util.Tools.resolve("tinymce.util.URI");const lt=G=>G.length>0,Xe=G=>ae=>ae.options.get(G),Tt=G=>{const ae=G.options.register;ae("image_dimensions",{processor:"boolean",default:!0}),ae("image_advtab",{processor:"boolean",default:!1}),ae("image_uploadtab",{processor:"boolean",default:!0}),ae("image_prepend_url",{processor:"string",default:""}),ae("image_class_list",{processor:"object[]"}),ae("image_description",{processor:"boolean",default:!0}),ae("image_title",{processor:"boolean",default:!1}),ae("image_caption",{processor:"boolean",default:!1}),ae("image_list",{processor:ge=>{const Je=ge===!1||T(ge)||rt(ge,I)||xe(ge);return Je?{value:ge,valid:Je}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},re=Xe("image_dimensions"),Re=Xe("image_advtab"),Oe=Xe("image_uploadtab"),pt=Xe("image_prepend_url"),Ke=Xe("image_class_list"),le=Xe("image_description"),$e=Xe("image_title"),Qe=Xe("image_caption"),Ve=Xe("image_list"),oe=Xe("a11y_advanced_options"),ye=Xe("automatic_uploads"),Ye=G=>lt(G.options.get("images_upload_url")),ut=G=>Ne(G.options.get("images_upload_handler")),zt=(G,ae)=>Math.max(parseInt(G,10),parseInt(ae,10)),Dt=G=>new Promise(ae=>{const ge=document.createElement("img"),Je=co=>{ge.onload=ge.onerror=null,ge.parentNode&&ge.parentNode.removeChild(ge),ae(co)};ge.onload=()=>{const co=zt(ge.width,ge.clientWidth),un=zt(ge.height,ge.clientHeight),Ar={width:co,height:un};Je(Promise.resolve(Ar))},ge.onerror=()=>{Je(Promise.reject(`Failed to get image dimensions for: ${G}`))};const en=ge.style;en.visibility="hidden",en.position="fixed",en.bottom=en.left="0px",en.width=en.height="auto",document.body.appendChild(ge),ge.src=G}),Vt=G=>(G&&(G=G.replace(/px$/,"")),G),sn=G=>(G.length>0&&/^[0-9]+$/.test(G)&&(G+="px"),G),_n=G=>{if(G.margin){const ae=String(G.margin).split(" ");switch(ae.length){case 1:G["margin-top"]=G["margin-top"]||ae[0],G["margin-right"]=G["margin-right"]||ae[0],G["margin-bottom"]=G["margin-bottom"]||ae[0],G["margin-left"]=G["margin-left"]||ae[0];break;case 2:G["margin-top"]=G["margin-top"]||ae[0],G["margin-right"]=G["margin-right"]||ae[1],G["margin-bottom"]=G["margin-bottom"]||ae[0],G["margin-left"]=G["margin-left"]||ae[1];break;case 3:G["margin-top"]=G["margin-top"]||ae[0],G["margin-right"]=G["margin-right"]||ae[1],G["margin-bottom"]=G["margin-bottom"]||ae[2],G["margin-left"]=G["margin-left"]||ae[1];break;case 4:G["margin-top"]=G["margin-top"]||ae[0],G["margin-right"]=G["margin-right"]||ae[1],G["margin-bottom"]=G["margin-bottom"]||ae[2],G["margin-left"]=G["margin-left"]||ae[3]}delete G.margin}return G},Un=(G,ae)=>{const ge=Ve(G);T(ge)?fetch(ge).then(Je=>{Je.ok&&Je.json().then(ae)}):xe(ge)?ge(ae):ae(ge)},lo=(G,ae,ge)=>{const Je=()=>{ge.onload=ge.onerror=null,G.selection&&(G.selection.select(ge),G.nodeChanged())};ge.onload=()=>{!ae.width&&!ae.height&&re(G)&&G.dom.setAttribs(ge,{width:String(ge.clientWidth),height:String(ge.clientHeight)}),Je()},ge.onerror=Je},mo=G=>new Promise((ae,ge)=>{const Je=new FileReader;Je.onload=()=>{ae(Je.result)},Je.onerror=()=>{var en;ge((en=Je.error)===null||en===void 0?void 0:en.message)},Je.readAsDataURL(G)}),Io=G=>G.nodeName==="IMG"&&(G.hasAttribute("data-mce-object")||G.hasAttribute("data-mce-placeholder")),_s=(G,ae)=>{const ge=G.options.get;return j.isDomSafe(ae,"img",{allow_html_data_urls:ge("allow_html_data_urls"),allow_script_urls:ge("allow_script_urls"),allow_svg_data_urls:ge("allow_svg_data_urls")})},Uo=me.DOM,zs=G=>G.style.marginLeft&&G.style.marginRight&&G.style.marginLeft===G.style.marginRight?Vt(G.style.marginLeft):"",Dl=G=>G.style.marginTop&&G.style.marginBottom&&G.style.marginTop===G.style.marginBottom?Vt(G.style.marginTop):"",Ii=G=>G.style.borderWidth?Vt(G.style.borderWidth):"",Fr=(G,ae)=>{var ge;return G.hasAttribute(ae)&&(ge=G.getAttribute(ae))!==null&&ge!==void 0?ge:""},pi=G=>G.parentNode!==null&&G.parentNode.nodeName==="FIGURE",Gt=(G,ae,ge)=>{ge===""||ge===null?G.removeAttribute(ae):G.setAttribute(ae,ge)},Mo=G=>{const ae=Uo.create("figure",{class:"image"});Uo.insertAfter(ae,G),ae.appendChild(G),ae.appendChild(Uo.create("figcaption",{contentEditable:"true"},"Caption")),ae.contentEditable="false"},Qi=G=>{const ae=G.parentNode;Ne(ae)&&(Uo.insertAfter(G,ae),Uo.remove(ae))},la=G=>{pi(G)?Qi(G):Mo(G)},Ku=(G,ae)=>{const ge=G.getAttribute("style"),Je=ae(ge!==null?ge:"");Je.length>0?(G.setAttribute("style",Je),G.setAttribute("data-mce-style",Je)):G.removeAttribute("style")},du=(G,ae)=>(ge,Je,en)=>{const co=ge.style;co[Je]?(co[Je]=sn(en),Ku(ge,ae)):Gt(ge,Je,en)},bs=(G,ae)=>G.style[ae]?Vt(G.style[ae]):Fr(G,ae),ac=(G,ae)=>{const ge=sn(ae);G.style.marginLeft=ge,G.style.marginRight=ge},Yu=(G,ae)=>{const ge=sn(ae);G.style.marginTop=ge,G.style.marginBottom=ge},us=(G,ae)=>{const ge=sn(ae);G.style.borderWidth=ge},Ln=(G,ae)=>{G.style.borderStyle=ae},oi=G=>{var ae;return(ae=G.style.borderStyle)!==null&&ae!==void 0?ae:""},Oc=G=>Ne(G)&&G.nodeName==="FIGURE",Mf=G=>G.nodeName==="IMG",fu=G=>Uo.getAttrib(G,"alt").length===0&&Uo.getAttrib(G,"role")==="presentation",gi=G=>fu(G)?"":Fr(G,"alt"),ca=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),gr=(G,ae)=>{var ge;const Je=document.createElement("img");return Gt(Je,"style",ae.style),(zs(Je)||ae.hspace!=="")&&ac(Je,ae.hspace),(Dl(Je)||ae.vspace!=="")&&Yu(Je,ae.vspace),(Ii(Je)||ae.border!=="")&&us(Je,ae.border),(oi(Je)||ae.borderStyle!=="")&&Ln(Je,ae.borderStyle),G((ge=Je.getAttribute("style"))!==null&&ge!==void 0?ge:"")},Dc=(G,ae)=>{const ge=document.createElement("img");if(ic(G,{...ae,caption:!1},ge),Oi(ge,ae.alt,ae.isDecorative),ae.caption){const Je=Uo.create("figure",{class:"image"});return Je.appendChild(ge),Je.appendChild(Uo.create("figcaption",{contentEditable:"true"},"Caption")),Je.contentEditable="false",Je}else return ge},jd=(G,ae)=>({src:Fr(ae,"src"),alt:gi(ae),title:Fr(ae,"title"),width:bs(ae,"width"),height:bs(ae,"height"),class:Fr(ae,"class"),style:G(Fr(ae,"style")),caption:pi(ae),hspace:zs(ae),vspace:Dl(ae),border:Ii(ae),borderStyle:oi(ae),isDecorative:fu(ae)}),Ca=(G,ae,ge,Je,en)=>{ge[Je]!==ae[Je]&&en(G,Je,String(ge[Je]))},Oi=(G,ae,ge)=>{if(ge){Uo.setAttrib(G,"role","presentation");const Je=Ee.fromDom(G);Nn(Je,"alt","")}else{if(H(ae)){const Je=Ee.fromDom(G);an(Je,"alt")}else{const Je=Ee.fromDom(G);Nn(Je,"alt",ae)}Uo.getAttrib(G,"role")==="presentation"&&Uo.setAttrib(G,"role","")}},Zs=(G,ae,ge)=>{(ge.alt!==ae.alt||ge.isDecorative!==ae.isDecorative)&&Oi(G,ge.alt,ge.isDecorative)},ja=(G,ae)=>(ge,Je,en)=>{G(ge,en),Ku(ge,ae)},ic=(G,ae,ge)=>{const Je=jd(G,ge);Ca(ge,Je,ae,"caption",(en,co,un)=>la(en)),Ca(ge,Je,ae,"src",Gt),Ca(ge,Je,ae,"title",Gt),Ca(ge,Je,ae,"width",du("width",G)),Ca(ge,Je,ae,"height",du("height",G)),Ca(ge,Je,ae,"class",Gt),Ca(ge,Je,ae,"style",ja((en,co)=>Gt(en,"style",co),G)),Ca(ge,Je,ae,"hspace",ja(ac,G)),Ca(ge,Je,ae,"vspace",ja(Yu,G)),Ca(ge,Je,ae,"border",ja(us,G)),Ca(ge,Je,ae,"borderStyle",ja(Ln,G)),Zs(ge,Je,ae)},Pf=(G,ae)=>{const ge=G.dom.styles.parse(ae),Je=_n(ge),en=G.dom.styles.parse(G.dom.styles.serialize(Je));return G.dom.styles.serialize(en)},Mh=G=>{const ae=G.selection.getNode(),ge=G.dom.getParent(ae,"figure.image");return ge?G.dom.select("img",ge)[0]:ae&&(ae.nodeName!=="IMG"||Io(ae))?null:ae},yi=(G,ae)=>{var ge;const Je=G.dom,en=wt(G.schema.getTextBlockElements(),(un,Ar)=>!G.schema.isValidChild(Ar,"figure")),co=Je.getParent(ae.parentNode,un=>ue(en,un.nodeName),G.getBody());return co&&(ge=Je.split(co,ae))!==null&&ge!==void 0?ge:ae},M0=G=>{const ae=Mh(G);return ae?jd(ge=>Pf(G,ge),ae):ca()},ze=(G,ae)=>{const ge=Dc(en=>Pf(G,en),ae);G.dom.setAttrib(ge,"data-mce-id","__mcenew"),G.focus(),G.selection.setContent(ge.outerHTML);const Je=G.dom.select('*[data-mce-id="__mcenew"]')[0];if(G.dom.setAttrib(Je,"data-mce-id",null),Oc(Je)){const en=yi(G,Je);G.selection.select(en)}else G.selection.select(Je)},Sa=(G,ae)=>{G.dom.setAttrib(ae,"src",ae.getAttribute("src"))},Wd=(G,ae)=>{if(ae){const ge=G.dom.is(ae.parentNode,"figure.image")?ae.parentNode:ae;G.dom.remove(ge),G.focus(),G.nodeChanged(),G.dom.isEmpty(G.getBody())&&(G.setContent(""),G.selection.setCursorLocation())}},cg=(G,ae)=>{const ge=Mh(G);if(ge)if(ic(Je=>Pf(G,Je),ae,ge),Sa(G,ge),Oc(ge.parentNode)){const Je=ge.parentNode;yi(G,Je),G.selection.select(ge.parentNode)}else G.selection.select(ge),lo(G,ae,ge)},Bm=(G,ae)=>{const ge=ae.src;return{...ae,src:_s(G,ge)?ge:""}},vs=(G,ae)=>{const ge=Mh(G);if(ge){const en={...jd(un=>Pf(G,un),ge),...ae},co=Bm(G,en);en.src?cg(G,co):Wd(G,ge)}else ae.src&&ze(G,{...ca(),...ae})},Xu=(G=>(...ae)=>{if(ae.length===0)throw new Error("Can't merge zero objects");const ge={};for(let Je=0;Je<ae.length;Je++){const en=ae[Je];for(const co in en)je(en,co)&&(ge[co]=G(ge[co],en[co]))}return ge})((G,ae)=>$(G)&&$(ae)?Xu(G,ae):ae);var bi=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),yr=tinymce.util.Tools.resolve("tinymce.util.Tools");const Rr=G=>T(G.value)?G.value:"",hu=G=>T(G.text)?G.text:T(G.title)?G.title:"",el=(G,ae)=>{const ge=[];return yr.each(G,Je=>{const en=hu(Je);if(Je.menu!==void 0){const co=el(Je.menu,ae);ge.push({text:en,items:co})}else{const co=ae(Je);ge.push({text:en,value:co})}}),ge},Mc=(G=Rr)=>ae=>ae?vt.from(ae).map(ge=>el(ge,G)):vt.none(),Ju=G=>Mc(Rr)(G),Qu=G=>je(G,"items"),Jo=(G,ae)=>Ht(G,ge=>Qu(ge)?Jo(ge.items,ae):ge.value===ae?vt.some(ge):vt.none()),Zd={sanitizer:Mc,sanitize:Ju,findEntry:(G,ae)=>G.bind(ge=>Jo(ge,ae))},yl={makeTab:G=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Di=G=>{const ae=Zd.sanitizer(zi=>G.convertURL(zi.value||zi.url||"","src")),ge=new Promise(zi=>{Un(G,br=>{zi(ae(br).map(Vr=>ln([[{text:"None",value:""}],Vr])))})}),Je=Zd.sanitize(Ke(G)),en=Re(G),co=Oe(G),un=Ye(G),Ar=ut(G),da=M0(G),xt=le(G),$r=$e(G),er=re(G),fa=Qe(G),hg=oe(G),Ro=ye(G),gu=vt.some(pt(G)).filter(zi=>T(zi)&&zi.length>0);return ge.then(zi=>({image:da,imageList:zi,classList:Je,hasAdvTab:en,hasUploadTab:co,hasUploadUrl:un,hasUploadHandler:Ar,hasDescription:xt,hasImageTitle:$r,hasDimensions:er,hasImageCaption:fa,prependURL:gu,hasAccessibilityOptions:hg,automaticUploads:Ro}))},Gs=G=>{const ae={name:"src",type:"urlinput",filetype:"image",label:"Source"},ge=G.imageList.map($r=>({name:"images",type:"listbox",label:"Image list",items:$r})),Je={name:"alt",type:"input",label:"Alternative description",enabled:!(G.hasAccessibilityOptions&&G.image.isDecorative)},en={name:"title",type:"input",label:"Image title"},co={name:"dimensions",type:"sizeinput"},un={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Ar=G.classList.map($r=>({name:"classes",type:"listbox",label:"Class",items:$r})),da={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},xt=$r=>$r?{type:"grid",columns:2}:{type:"panel"};return ln([[ae],ge.toArray(),G.hasAccessibilityOptions&&G.hasDescription?[un]:[],G.hasDescription?[Je]:[],G.hasImageTitle?[en]:[],G.hasDimensions?[co]:[],[{...xt(G.classList.isSome()&&G.hasImageCaption),items:ln([Ar.toArray(),G.hasImageCaption?[da]:[]])}]])},$m={makeTab:G=>({title:"General",name:"general",items:Gs(G)}),makeItems:Gs},nl={makeTab:G=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},Mi=G=>({prevImage:Zd.findEntry(G.imageList,G.image.src),prevAlt:G.image.alt,open:!0}),Kr=G=>({src:{value:G.src,meta:{}},images:G.src,alt:G.alt,title:G.title,dimensions:{width:G.width,height:G.height},classes:G.class,caption:G.caption,style:G.style,vspace:G.vspace,border:G.border,hspace:G.hspace,borderstyle:G.borderStyle,fileinput:[],isDecorative:G.isDecorative}),zf=(G,ae)=>({src:G.src.value,alt:(G.alt===null||G.alt.length===0)&&ae?null:G.alt,title:G.title,width:G.dimensions.width,height:G.dimensions.height,class:G.classes,style:G.style,caption:G.caption,hspace:G.hspace,vspace:G.vspace,border:G.border,borderStyle:G.borderstyle,isDecorative:G.isDecorative}),ed=(G,ae)=>/^(?:[a-zA-Z]+:)?\/\//.test(ae)?vt.none():G.prependURL.bind(ge=>ae.substring(0,ge.length)!==ge?vt.some(ge+ae):vt.none()),bl=(G,ae)=>{const ge=ae.getData();ed(G,ge.src.value).each(Je=>{ae.setData({src:{value:Je,meta:ge.src.meta}})})},Ml=(G,ae,ge)=>{G.hasDescription&&T(ge.alt)&&(ae.alt=ge.alt),G.hasAccessibilityOptions&&(ae.isDecorative=ge.isDecorative||ae.isDecorative||!1),G.hasImageTitle&&T(ge.title)&&(ae.title=ge.title),G.hasDimensions&&(T(ge.width)&&(ae.dimensions.width=ge.width),T(ge.height)&&(ae.dimensions.height=ge.height)),T(ge.class)&&Zd.findEntry(G.classList,ge.class).each(Je=>{ae.classes=Je.value}),G.hasImageCaption&&de(ge.caption)&&(ae.caption=ge.caption),G.hasAdvTab&&(T(ge.style)&&(ae.style=ge.style),T(ge.vspace)&&(ae.vspace=ge.vspace),T(ge.border)&&(ae.border=ge.border),T(ge.hspace)&&(ae.hspace=ge.hspace),T(ge.borderstyle)&&(ae.borderstyle=ge.borderstyle))},Vm=(G,ae)=>{const ge=ae.getData(),Je=ge.src.meta;if(Je!==void 0){const en=Xu({},ge);Ml(G,en,Je),ae.setData(en)}},zh=(G,ae,ge,Je)=>{const en=Je.getData(),co=en.src.value,un=en.src.meta||{};!un.width&&!un.height&&ae.hasDimensions&&(lt(co)?G.imageSize(co).then(Ar=>{ge.open&&Je.setData({dimensions:Ar})}).catch(Ar=>console.error(Ar)):Je.setData({dimensions:{width:"",height:""}}))},dg=(G,ae,ge)=>{const Je=ge.getData(),en=Zd.findEntry(G.imageList,Je.src.value);ae.prevImage=en,ge.setData({images:en.map(co=>co.value).getOr("")})},Pi=(G,ae,ge,Je)=>{bl(ae,Je),Vm(ae,Je),zh(G,ae,ge,Je),dg(ae,ge,Je)},mu=(G,ae,ge,Je)=>{const en=Je.getData(),co=Zd.findEntry(ae.imageList,en.images);co.each(un=>{en.alt===""||ge.prevImage.map(da=>da.text===en.alt).getOr(!1)?un.value===""?Je.setData({src:un,alt:ge.prevAlt}):Je.setData({src:un,alt:un.text}):Je.setData({src:un})}),ge.prevImage=co,Pi(G,ae,ge,Je)},Nf=(G,ae,ge,Je)=>{const en=Je.getData();Je.block("Uploading image"),L(en.fileinput).fold(()=>{Je.unblock()},co=>{const un=URL.createObjectURL(co),Ar=()=>{Je.unblock(),URL.revokeObjectURL(un)},da=xt=>{Je.setData({src:{value:xt,meta:{}}}),Je.showTab("general"),Pi(G,ae,ge,Je)};mo(co).then(xt=>{const $r=G.createBlobCache(co,un,xt);ae.automaticUploads?G.uploadImage($r).then(er=>{da(er.url),Ar()}).catch(er=>{Ar(),G.alertErr(er)}):(G.addToBlobCache($r),da($r.blobUri()),Je.unblock())})})},Hm=(G,ae,ge)=>(Je,en)=>{en.name==="src"?Pi(G,ae,ge,Je):en.name==="images"?mu(G,ae,ge,Je):en.name==="alt"?ge.prevAlt=Je.getData().alt:en.name==="fileinput"?Nf(G,ae,ge,Je):en.name==="isDecorative"&&Je.setEnabled("alt",!Je.getData().isDecorative)},Nh=G=>()=>{G.open=!1},Lh=G=>G.hasAdvTab||G.hasUploadUrl||G.hasUploadHandler?{type:"tabpanel",tabs:ln([[$m.makeTab(G)],G.hasAdvTab?[yl.makeTab(G)]:[],G.hasUploadTab&&(G.hasUploadUrl||G.hasUploadHandler)?[nl.makeTab(G)]:[]])}:{type:"panel",items:$m.makeItems(G)},Um=(G,ae,ge)=>Je=>{const en=Xu(Kr(ae.image),Je.getData()),co={...en,style:gr(ge.normalizeCss,zf(en,!1))};G.execCommand("mceUpdateImage",!1,zf(co,ae.hasAccessibilityOptions)),G.editorUpload.uploadImagesAuto(),Je.close()},Lf=G=>ae=>_s(G,ae)?Dt(G.documentBaseURI.toAbsolute(ae)).then(ge=>({width:String(ge.width),height:String(ge.height)})):Promise.resolve({width:"",height:""}),Br=G=>(ae,ge,Je)=>{var en;return G.editorUpload.blobCache.create({blob:ae,blobUri:ge,name:(en=ae.name)===null||en===void 0?void 0:en.replace(/\.[^\.]+$/,""),filename:ae.name,base64:Je.split(",")[1]})},Wa=G=>ae=>{G.editorUpload.blobCache.add(ae)},zc=G=>ae=>{G.windowManager.alert(ae)},jm=G=>ae=>Pf(G,ae),fg=G=>ae=>G.dom.parseStyle(ae),pu=G=>(ae,ge)=>G.dom.serializeStyle(ae,ge),Jy=G=>ae=>bi(G).upload([ae],!1).then(ge=>{var Je;return ge.length===0?Promise.reject("Failed to upload image"):ge[0].status===!1?Promise.reject((Je=ge[0].error)===null||Je===void 0?void 0:Je.message):ge[0]}),Za=G=>{const ae={imageSize:Lf(G),addToBlobCache:Wa(G),createBlobCache:Br(G),alertErr:zc(G),normalizeCss:jm(G),parseStyle:fg(G),serializeStyle:pu(G),uploadImage:Jy(G)};return{open:()=>{Di(G).then(Je=>{const en=Mi(Je);return{title:"Insert/Edit Image",size:"normal",body:Lh(Je),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Kr(Je.image),onSubmit:Um(G,Je,ae),onChange:Hm(ae,Je,en),onClose:Nh(en)}}).then(G.windowManager.open)}}},Yr=G=>{G.addCommand("mceImage",Za(G).open),G.addCommand("mceUpdateImage",(ae,ge)=>{G.undoManager.transact(()=>vs(G,ge))})},lc=G=>{const ae=G.attr("class");return Ne(ae)&&/\bimage\b/.test(ae)},Pl=G=>ae=>{let ge=ae.length;const Je=en=>{en.attr("contenteditable",G?"true":null)};for(;ge--;){const en=ae[ge];lc(en)&&(en.attr("contenteditable",G?"false":null),yr.each(en.getAll("figcaption"),Je))}},Jn=G=>{G.on("PreInit",()=>{G.parser.addNodeFilter("figure",Pl(!0)),G.serializer.addNodeFilter("figure",Pl(!1))})},Bo=G=>{G.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Za(G).open,onSetup:ae=>(ae.setActive(Ne(Mh(G))),G.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",ae.setActive).unbind)}),G.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Za(G).open}),G.ui.registry.addContextMenu("image",{update:ae=>Oc(ae)||Mf(ae)&&!Io(ae)?["image"]:[]})};var ua=()=>{t.add("image",G=>{Tt(G),Jn(G),Bo(G),Yr(G)})};ua()})();tinymce.addI18n("zh_TW",{Redo:"\u91CD\u505A",Undo:"\u64A4\u92B7",Cut:"\u526A\u4E0B",Copy:"\u8907\u88FD",Paste:"\u8CBC\u4E0A","Select all":"\u5168\u9078","New document":"\u65B0\u6587\u4EF6",Ok:"\u78BA\u5B9A",Cancel:"\u53D6\u6D88","Visual aids":"\u5C0F\u5E6B\u624B",Bold:"\u7C97\u9AD4",Italic:"\u659C\u9AD4",Underline:"\u4E0B\u5283\u7DDA",Strikethrough:"\u522A\u9664\u7DDA",Superscript:"\u4E0A\u6A19",Subscript:"\u4E0B\u6A19","Clear formatting":"\u6E05\u9664\u683C\u5F0F","Align left":"\u5DE6\u908A\u5C0D\u9F4A","Align center":"\u4E2D\u9593\u5C0D\u9F4A","Align right":"\u53F3\u908A\u5C0D\u9F4A",Justify:"\u5DE6\u53F3\u5C0D\u9F4A","Bullet list":"\u9805\u76EE\u6E05\u55AE","Numbered list":"\u6578\u5B57\u6E05\u55AE","Decrease indent":"\u6E1B\u5C11\u7E2E\u6392","Increase indent":"\u589E\u52A0\u7E2E\u6392",Close:"\u95DC\u9589",Formats:"\u683C\u5F0F","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"\u60A8\u7684\u700F\u89BD\u5668\u4E0D\u652F\u63F4\u5B58\u53D6\u526A\u8CBC\u7C3F\uFF0C\u53EF\u4EE5\u4F7F\u7528\u5FEB\u901F\u9375 Ctrl + X/C/V \u4EE3\u66FF\u526A\u4E0B\u3001\u8907\u88FD\u8207\u8CBC\u4E0A\u3002",Headers:"\u6A19\u984C","Header 1":"\u6A19\u984C 1","Header 2":"\u6A19\u984C 2","Header 3":"\u6A19\u984C 3","Header 4":"\u6A19\u984C 4","Header 5":"\u6A19\u984C 5","Header 6":"\u6A19\u984C 6",Headings:"\u6A19\u984C","Heading 1":"\u6A19\u984C1","Heading 2":"\u6A19\u984C2","Heading 3":"\u6A19\u984C3","Heading 4":"\u6A19\u984C4","Heading 5":"\u6A19\u984C5","Heading 6":"\u6A19\u984C6",Preformatted:"\u9810\u5148\u683C\u5F0F\u5316\u7684",Div:"Div",Pre:"Pre",Code:"\u4EE3\u78BC",Paragraph:"\u6BB5\u843D",Blockquote:"\u5F15\u6587\u5340\u584A",Inline:"\u5167\u806F",Blocks:"\u57FA\u584A","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"\u76EE\u524D\u5C07\u4EE5\u7D14\u6587\u5B57\u7684\u6A21\u5F0F\u8CBC\u4E0A\uFF0C\u60A8\u53EF\u4EE5\u518D\u9EDE\u9078\u4E00\u6B21\u53D6\u6D88\u3002",Fonts:"\u5B57\u578B","Font Sizes":"\u5B57\u578B\u5927\u5C0F",Class:"\u985E\u578B","Browse for an image":"\u5F9E\u5716\u7247\u4E2D\u700F\u89BD",OR:"\u6216","Drop an image here":"\u62D6\u66F3\u5716\u7247\u81F3\u6B64",Upload:"\u4E0A\u50B3",Block:"\u5340\u584A",Align:"\u5C0D\u9F4A",Default:"\u9810\u8A2D",Circle:"\u7A7A\u5FC3\u5713",Disc:"\u5BE6\u5FC3\u5713",Square:"\u6B63\u65B9\u5F62","Lower Alpha":"\u5C0F\u5BEB\u82F1\u6587\u5B57\u6BCD","Lower Greek":"\u5E0C\u81D8\u5B57\u6BCD","Lower Roman":"\u5C0F\u5BEB\u7F85\u99AC\u6578\u5B57","Upper Alpha":"\u5927\u5BEB\u82F1\u6587\u5B57\u6BCD","Upper Roman":"\u5927\u5BEB\u7F85\u99AC\u6578\u5B57","Anchor...":"\u9328\u9EDE...",Name:"\u540D\u7A31",Id:"Id","Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Id\u61C9\u4EE5\u5B57\u6BCD\u958B\u982D\uFF0C\u5F8C\u9762\u63A5\u8457\u5B57\u6BCD\uFF0C\u6578\u5B57\uFF0C\u7834\u6298\u865F\uFF0C\u9EDE\u6578\uFF0C\u5192\u865F\u6216\u4E0B\u5283\u7DDA\u3002","You have unsaved changes are you sure you want to navigate away?":"\u7DE8\u8F2F\u5C1A\u672A\u88AB\u5132\u5B58\uFF0C\u4F60\u78BA\u5B9A\u8981\u96E2\u958B\uFF1F","Restore last draft":"\u8F09\u5165\u4E0A\u4E00\u6B21\u7DE8\u8F2F\u7684\u8349\u7A3F","Special character...":"\u7279\u6B8A\u5B57\u5143......","Source code":"\u539F\u59CB\u78BC","Insert/Edit code sample":"\u63D2\u5165/\u7DE8\u8F2F \u7A0B\u5F0F\u78BC\u7BC4\u4F8B",Language:"\u8A9E\u8A00","Code sample...":"\u7A0B\u5F0F\u78BC\u7BC4\u4F8B...","Color Picker":"\u9078\u8272\u5668",R:"\u7D05",G:"\u7DA0",B:"\u85CD","Left to right":"\u5F9E\u5DE6\u5230\u53F3","Right to left":"\u5F9E\u53F3\u5230\u5DE6","Emoticons...":"\u8868\u60C5\u7B26\u865F\u2026","Metadata and Document Properties":"\u5F8C\u8A2D\u8CC7\u6599\u8207\u6587\u4EF6\u5C6C\u6027",Title:"\u6A19\u984C",Keywords:"\u95DC\u9375\u5B57",Description:"\u63CF\u8FF0",Robots:"\u6A5F\u5668\u4EBA",Author:"\u4F5C\u8005",Encoding:"\u7DE8\u78BC",Fullscreen:"\u5168\u87A2\u5E55",Action:"\u52D5\u4F5C",Shortcut:"\u5FEB\u901F\u9375",Help:"\u5E6B\u52A9",Address:"\u5730\u5740","Focus to menubar":"\u8DF3\u81F3\u9078\u55AE\u5217","Focus to toolbar":"\u8DF3\u81F3\u5DE5\u5177\u5217","Focus to element path":"\u8DF3\u81F3HTML\u5143\u7D20\u5217","Focus to contextual toolbar":"\u8DF3\u81F3\u5FEB\u6377\u9078\u55AE","Insert link (if link plugin activated)":"\u65B0\u589E\u6377\u5F91 (\u6377\u5F91\u5916\u639B\u555F\u7528\u6642)","Save (if save plugin activated)":"\u5132\u5B58 (\u5132\u5B58\u5916\u639B\u555F\u7528\u6642)","Find (if searchreplace plugin activated)":"\u5C0B\u627E (\u5C0B\u627E\u53D6\u4EE3\u5916\u639B\u555F\u7528\u6642)","Plugins installed ({0}):":"({0}) \u500B\u5916\u639B\u5DF2\u5B89\u88DD\uFF1A","Premium plugins:":"\u52A0\u503C\u5916\u639B\uFF1A","Learn more...":"\u4E86\u89E3\u66F4\u591A...","You are using {0}":"\u60A8\u6B63\u5728\u4F7F\u7528 {0}",Plugins:"\u5916\u639B","Handy Shortcuts":"\u5FEB\u901F\u9375","Horizontal line":"\u6C34\u5E73\u7DDA","Insert/edit image":"\u63D2\u5165/\u7DE8\u8F2F \u5716\u7247","Image description":"\u5716\u7247\u63CF\u8FF0",Source:"\u5716\u7247\u7DB2\u5740",Dimensions:"\u5C3A\u5BF8","Constrain proportions":"\u7B49\u6BD4\u4F8B\u7E2E\u653E",General:"\u4E00\u822C",Advanced:"\u9032\u968E",Style:"\u6A23\u5F0F","Vertical space":"\u9AD8\u5EA6","Horizontal space":"\u5BEC\u5EA6",Border:"\u908A\u6846","Insert image":"\u63D2\u5165\u5716\u7247","Image...":"\u5716\u7247......","Image list":"\u5716\u7247\u6E05\u55AE","Rotate counterclockwise":"\u9006\u6642\u91DD\u65CB\u8F49","Rotate clockwise":"\u9806\u6642\u91DD\u65CB\u8F49","Flip vertically":"\u5782\u76F4\u7FFB\u8F49","Flip horizontally":"\u6C34\u5E73\u7FFB\u8F49","Edit image":"\u7DE8\u8F2F\u5716\u7247","Image options":"\u5716\u7247\u9078\u9805","Zoom in":"\u653E\u5927","Zoom out":"\u7E2E\u5C0F",Crop:"\u88C1\u526A",Resize:"\u8ABF\u6574\u5927\u5C0F",Orientation:"\u65B9\u5411",Brightness:"\u4EAE\u5EA6",Sharpen:"\u92B3\u5316",Contrast:"\u5C0D\u6BD4","Color levels":"\u984F\u8272\u5C64\u6B21",Gamma:"\u4F3D\u99AC\u503C",Invert:"\u53CD\u8F49",Apply:"\u61C9\u7528",Back:"\u5F8C\u9000","Insert date/time":"\u63D2\u5165 \u65E5\u671F/\u6642\u9593","Date/time":"\u65E5\u671F/\u6642\u9593","Insert/Edit Link":"\u63D2\u5165/\u7DE8\u8F2F\u9023\u7D50","Insert/edit link":"\u63D2\u5165/\u7DE8\u8F2F\u9023\u7D50","Text to display":"\u986F\u793A\u6587\u5B57",Url:"\u7DB2\u5740","Open link in...":"\u958B\u555F\u9023\u7D50\u65BC...","Current window":"\u76EE\u524D\u8996\u7A97",None:"\u7121","New window":"\u53E6\u958B\u8996\u7A97","Remove link":"\u79FB\u9664\u9023\u7D50",Anchors:"\u52A0\u5165\u9328\u9EDE","Link...":"\u9023\u7D50...","Paste or type a link":"\u8CBC\u4E0A\u6216\u8F38\u5165\u9023\u7D50","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"\u4F60\u6240\u586B\u5BEB\u7684URL\u70BA\u96FB\u5B50\u90F5\u4EF6\uFF0C\u9700\u8981\u52A0\u4E0Amailto:\u524D\u7DB4\u55CE\uFF1F","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"\u4F60\u6240\u586B\u5BEB\u7684URL\u5C6C\u65BC\u5916\u90E8\u93C8\u63A5\uFF0C\u9700\u8981\u52A0\u4E0Ahttp://:\u524D\u7DB4\u55CE\uFF1F","Link list":"\u9023\u7D50\u6E05\u55AE","Insert video":"\u63D2\u5165\u5F71\u97F3","Insert/edit video":"\u63D2\u4EF6/\u7DE8\u8F2F \u5F71\u97F3","Insert/edit media":"\u63D2\u5165/\u7DE8\u8F2F \u5A92\u9AD4","Alternative source":"\u66FF\u4EE3\u5F71\u97F3","Alternative source URL":"\u66FF\u4EE3\u4F86\u6E90URL","Media poster (Image URL)":"\u5A92\u9AD4\u6D77\u5831\uFF08\u5F71\u50CFImage URL\uFF09","Paste your embed code below:":"\u8ACB\u5C07\u60A8\u7684\u5D4C\u5165\u5F0F\u7A0B\u5F0F\u78BC\u8CBC\u5728\u4E0B\u9762:",Embed:"\u5D4C\u5165\u78BC","Media...":"\u5A92\u9AD4...","Nonbreaking space":"\u4E0D\u5206\u884C\u7684\u7A7A\u683C","Page break":"\u5206\u9801","Paste as text":"\u4EE5\u7D14\u6587\u5B57\u8CBC\u4E0A",Preview:"\u9810\u89BD","Print...":"\u5217\u5370...",Save:"\u5132\u5B58",Find:"\u641C\u5C0B","Replace with":"\u66F4\u63DB",Replace:"\u66FF\u63DB","Replace all":"\u66FF\u63DB\u5168\u90E8",Previous:"\u4E0A\u4E00\u500B",Next:"\u4E0B\u4E00\u500B","Find and replace...":"\u5C0B\u627E\u53CA\u53D6\u4EE3...","Could not find the specified string.":"\u7121\u6CD5\u67E5\u8A62\u5230\u6B64\u7279\u5B9A\u5B57\u4E32","Match case":"\u76F8\u5339\u914D\u6848\u4EF6","Find whole words only":"\u50C5\u627E\u51FA\u5B8C\u6574\u5B57\u532F","Spell check":"\u62FC\u5BEB\u6AA2\u67E5",Ignore:"\u5FFD\u7565","Ignore all":"\u5FFD\u7565\u6240\u6709",Finish:"\u5B8C\u6210","Add to Dictionary":"\u52A0\u5165\u5B57\u5178\u4E2D","Insert table":"\u63D2\u5165\u8868\u683C","Table properties":"\u8868\u683C\u5C6C\u6027","Delete table":"\u522A\u9664\u8868\u683C",Cell:"\u5132\u5B58\u683C",Row:"\u5217",Column:"\u884C","Cell properties":"\u5132\u5B58\u683C\u5C6C\u6027","Merge cells":"\u5408\u4F75\u5132\u5B58\u683C","Split cell":"\u5206\u5272\u5132\u5B58\u683C","Insert row before":"\u63D2\u5165\u5217\u5728...\u4E4B\u524D","Insert row after":"\u63D2\u5165\u5217\u5728...\u4E4B\u5F8C","Delete row":"\u522A\u9664\u5217","Row properties":"\u5217\u5C6C\u6027","Cut row":"\u526A\u4E0B\u5217","Copy row":"\u8907\u88FD\u5217","Paste row before":"\u8CBC\u4E0A\u5217\u5728...\u4E4B\u524D","Paste row after":"\u8CBC\u4E0A\u5217\u5728...\u4E4B\u5F8C","Insert column before":"\u63D2\u5165\u6B04\u4F4D\u5728...\u4E4B\u524D","Insert column after":"\u63D2\u5165\u6B04\u4F4D\u5728...\u4E4B\u5F8C","Delete column":"\u522A\u9664\u884C",Cols:"\u6B04\u4F4D\u6BB5",Rows:"\u5217",Width:"\u5BEC\u5EA6",Height:"\u9AD8\u5EA6","Cell spacing":"\u5132\u5B58\u683C\u5F97\u9593\u8DDD","Cell padding":"\u5132\u5B58\u683C\u7684\u908A\u8DDD","Show caption":"\u986F\u793A\u6A19\u984C",Left:"\u5DE6\u908A",Center:"\u4E2D\u9593",Right:"\u53F3\u908A","Cell type":"\u5132\u5B58\u683C\u7684\u985E\u578B",Scope:"\u7BC4\u570D",Alignment:"\u5C0D\u9F4A","H Align":"\u6C34\u5E73\u4F4D\u7F6E","V Align":"\u5782\u76F4\u4F4D\u7F6E",Top:"\u7F6E\u9802",Middle:"\u7F6E\u4E2D",Bottom:"\u7F6E\u5E95","Header cell":"\u6A19\u982D\u5132\u5B58\u683C","Row group":"\u5217\u7FA4\u7D44","Column group":"\u6B04\u4F4D\u7FA4\u7D44","Row type":"\u884C\u7684\u985E\u578B",Header:"\u6A19\u982D",Body:"\u4E3B\u9AD4",Footer:"\u9801\u5C3E","Border color":"\u908A\u6846\u984F\u8272","Insert template...":"\u63D2\u5165\u6A23\u7248...",Templates:"\u6A23\u7248",Template:"\u6A23\u677F","Text color":"\u6587\u5B57\u984F\u8272","Background color":"\u80CC\u666F\u984F\u8272","Custom...":"\u81EA\u8A02","Custom color":"\u81EA\u8A02\u984F\u8272","No color":"No color","Remove color":"\u79FB\u9664\u984F\u8272","Table of Contents":"\u76EE\u9304","Show blocks":"\u986F\u793A\u5340\u584A\u8CC7\u8A0A","Show invisible characters":"\u986F\u793A\u96B1\u85CF\u5B57\u5143","Word count":"\u8A08\u7B97\u5B57\u6578",Count:"\u8A08\u7B97",Document:"\u6587\u4EF6",Selection:"\u9078\u9805",Words:"\u5B57\u6578","Words: {0}":"\u5B57\u6578\uFF1A{0}","{0} words":"{0} \u5B57\u5143",File:"\u6A94\u6848",Edit:"\u7DE8\u8F2F",Insert:"\u63D2\u5165",View:"\u6AA2\u8996",Format:"\u683C\u5F0F",Table:"\u8868\u683C",Tools:"\u5DE5\u5177","Powered by {0}":"\u7531 {0} \u63D0\u4F9B","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"\u8C50\u5BCC\u7684\u6587\u672C\u5340\u57DF\u3002\u6309ALT-F9\u524D\u5F80\u4E3B\u9078\u55AE\u3002\u6309ALT-F10\u547C\u53EB\u5DE5\u5177\u6B04\u3002\u6309ALT-0\u5C0B\u6C42\u5E6B\u52A9","Image title":"\u5716\u7247\u6A19\u984C","Border width":"\u6846\u7DDA\u5BEC\u5EA6","Border style":"\u6846\u7DDA\u6A23\u5F0F",Error:"\u932F\u8AA4",Warn:"\u8B66\u544A",Valid:"\u6709\u6548","To open the popup, press Shift+Enter":"\u8981\u958B\u555F\u5F48\u51FA\u8996\u7A97\uFF0C\u8ACB\u6309Shift+Enter","Rich Text Area. Press ALT-0 for help.":"\u5BCC\u6587\u672C\u5340\u57DF\u3002\u8ACB\u6309ALT-0\u5C0B\u6C42\u5354\u52A9\u3002","System Font":"\u7CFB\u7D71\u5B57\u578B","Failed to upload image: {0}":"\u7121\u6CD5\u4E0A\u50B3\u5F71\u50CF\uFF1A{0}","Failed to load plugin: {0} from url {1}":"\u7121\u6CD5\u4E0A\u50B3\u63D2\u4EF6\uFF1A{0}\u81EAurl{1}","Failed to load plugin url: {0}":"\u7121\u6CD5\u4E0A\u50B3\u63D2\u4EF6\uFF1A{0}","Failed to initialize plugin: {0}":"\u7121\u6CD5\u555F\u52D5\u63D2\u4EF6\uFF1A{0}",example:"\u7BC4\u4F8B",Search:"\u641C\u7D22",All:"\u5168\u90E8",Currency:"\u8CA8\u5E63",Text:"\u6587\u672C",Quotations:"\u5F15\u7528",Mathematical:"\u6578\u5B78","Extended Latin":"\u62C9\u4E01\u5B57\u6BCD\u64F4\u5145",Symbols:"\u7B26\u865F",Arrows:"\u7BAD\u982D","User Defined":"\u4F7F\u7528\u8005\u5DF2\u5B9A\u7FA9","dollar sign":"\u7F8E\u5143\u7B26\u865F","currency sign":"\u8CA8\u5E63\u7B26\u865F","euro-currency sign":"\u6B50\u5143\u7B26\u865F","colon sign":"\u79D1\u6717\u7B26\u865F","cruzeiro sign":"\u514B\u9B6F\u8CFD\u7F85\u7B26\u865F","french franc sign":"\u6CD5\u6717\u7B26\u865F","lira sign":"\u91CC\u62C9\u7B26\u865F","mill sign":"\u6587\u7B26\u865F","naira sign":"\u5948\u62C9\u7B26\u865F","peseta sign":"\u6BD4\u585E\u5854\u7B26\u865F","rupee sign":"\u76E7\u6BD4\u7B26\u865F","won sign":"\u97D3\u571C\u7B26\u865F","new sheqel sign":"\u65B0\u8B1D\u514B\u723E\u7B26\u865F","dong sign":"\u8D8A\u5357\u76FE\u7B26\u865F","kip sign":"\u8001\u64BE\u5E63\u7B26\u865F","tugrik sign":"\u8499\u53E4\u5E63\u7B26\u865F","drachma sign":"\u5FB7\u514B\u62C9\u99AC\u7B26\u865F","german penny symbol":"\u5FB7\u570B\u5206\u7B26\u865F","peso sign":"\u62AB\u7D22\u7B26\u865F","guarani sign":"\u5DF4\u62C9\u572D\u5E63\u7B26\u865F","austral sign":"\u963F\u6839\u5EF7\u5E63\u7B26\u865F","hryvnia sign":"\u70CF\u514B\u862D\u5E63\u7B26\u865F","cedi sign":"\u8FE6\u7D0D\u5E63\u7B26\u865F","livre tournois sign":"\u91CC\u5F17\u723E\u7B26\u865F","spesmilo sign":"\u570B\u969B\u5E63\u7B26\u865F","tenge sign":"\u54C8\u85A9\u514B\u5E63\u7B26\u865F","indian rupee sign":"\u5370\u5EA6\u76E7\u6BD4\u7B26\u865F","turkish lira sign":"\u571F\u8033\u5176\u91CC\u62C9\u7B26\u865F","nordic mark sign":"\u5317\u6B50\u99AC\u514B\u7B26\u865F","manat sign":"\u4E9E\u585E\u62DC\u7136\u5E63\u7B26\u865F","ruble sign":"\u76E7\u5E03\u7B26\u865F","yen character":"\u65E5\u5713\u7B26\u865F","yuan character":"\u4EBA\u6C11\u5E63\u7B26\u865F","yuan character, in hong kong and taiwan":"\u6E2F\u5143\u8207\u53F0\u5E63\u7B26\u865F","yen/yuan character variant one":"\u65E5\u5713/\u4EBA\u6C11\u5E63\u7B26\u865F\u8B8A\u5316\u578B","Loading emoticons...":"\u8F09\u5165\u8868\u60C5\u7B26\u865F\u2026","Could not load emoticons":"\u7121\u6CD5\u8F09\u5165\u8868\u60C5\u7B26\u865F",People:"\u4EBA","Animals and Nature":"\u52D5\u7269\u8207\u81EA\u7136","Food and Drink":"\u98F2\u98DF",Activity:"\u6D3B\u52D5","Travel and Places":"\u65C5\u884C\u8207\u5730\u9EDE",Objects:"\u7269\u4EF6",Flags:"\u65D7\u6A19",Characters:"\u5B57\u5143","Characters (no spaces)":"\u5B57\u5143\uFF08\u7121\u7A7A\u683C\uFF09","{0} characters":"{0}\u5B57\u5143","Error: Form submit field collision.":"\u932F\u8AA4\uFF1A\u8868\u683C\u905E\u4EA4\u6B04\u4F4D\u885D\u7A81\u3002","Error: No form element found.":"\u932F\u8AA4\uFF1A\u627E\u4E0D\u5230\u8868\u683C\u5143\u7D20\u3002",Update:"\u66F4\u65B0","Color swatch":"\u8272\u5F69\u6A23\u672C",Turquoise:"\u571F\u8033\u5176\u85CD",Green:"\u7DA0\u8272",Blue:"\u85CD\u8272",Purple:"\u7D2B\u8272","Navy Blue":"\u6DF1\u85CD\u8272","Dark Turquoise":"\u6DF1\u571F\u8033\u5176\u85CD","Dark Green":"\u6DF1\u7DA0\u8272","Medium Blue":"\u4E2D\u85CD\u8272","Medium Purple":"\u4E2D\u7D2B\u8272","Midnight Blue":"\u9ED1\u85CD\u8272",Yellow:"\u9EC3\u8272",Orange:"\u6A59\u8272",Red:"\u7D05\u8272","Light Gray":"\u6DFA\u7070\u8272",Gray:"\u7070\u8272","Dark Yellow":"\u6DF1\u9EC3\u8272","Dark Orange":"\u6DF1\u6A59\u8272","Dark Red":"\u6697\u7D05\u8272","Medium Gray":"\u4E2D\u7070\u8272","Dark Gray":"\u6DF1\u7070\u8272","Light Green":"\u6DE1\u7DA0\u8272","Light Yellow":"\u6DFA\u9EC3\u8272","Light Red":"\u6DFA\u7D05\u8272","Light Purple":"\u6DFA\u7D2B\u8272","Light Blue":"\u6DFA\u85CD\u8272","Dark Purple":"\u6DF1\u7D2B\u8272","Dark Blue":"\u6DF1\u85CD\u8272",Black:"\u9ED1\u8272",White:"\u767D\u8272","Switch to or from fullscreen mode":"\u8F49\u63DB\u81EA/\u81F3\u5168\u87A2\u5E55\u6A21\u5F0F","Open help dialog":"\u958B\u555F\u5354\u52A9\u5C0D\u8A71",history:"\u6B77\u53F2",styles:"\u6A23\u5F0F",formatting:"\u683C\u5F0F",alignment:"\u5C0D\u9F4A",indentation:"\u7E2E\u6392","permanent pen":"\u6C38\u4E45\u6027\u7B46",comments:"\u8A3B\u89E3","Format Painter":"\u8907\u88FD\u683C\u5F0F","Insert/edit iframe":"\u63D2\u5165/\u7DE8\u8F2Fiframe",Capitalization:"\u5927\u5BEB",lowercase:"\u5C0F\u5BEB",UPPERCASE:"\u5927\u5BEB","Title Case":"\u5B57\u9996\u5927\u5BEB","Permanent Pen Properties":"\u6C38\u4E45\u6A19\u8A18\u5C6C\u6027","Permanent pen properties...":"\u6C38\u4E45\u6A19\u8A18\u5C6C\u6027......",Font:"\u5B57\u578B",Size:"\u5B57\u5F62\u5927\u5C0F","More...":"\u66F4\u591A\u8CC7\u8A0A......","Spellcheck Language":"\u62FC\u5BEB\u8A9E\u8A00","Select...":"\u9078\u64C7......",Preferences:"\u9996\u9078\u9805",Yes:"\u662F",No:"\u5426","Keyboard Navigation":"\u9375\u76E4\u5C0E\u822A",Version:"\u7248\u672C",Anchor:"\u52A0\u5165\u9328\u9EDE","Special character":"\u7279\u6B8A\u5B57\u5143","Code sample":"\u7A0B\u5F0F\u78BC\u7BC4\u4F8B",Color:"\u984F\u8272",Emoticons:"\u8868\u60C5","Document properties":"\u6587\u4EF6\u7684\u5C6C\u6027",Image:"\u5716\u7247","Insert link":"\u63D2\u5165\u9023\u7D50",Target:"\u958B\u555F\u65B9\u5F0F",Link:"\u9023\u7D50",Poster:"\u9810\u89BD\u5716\u7247",Media:"\u5A92\u9AD4",Print:"\u5217\u5370",Prev:"\u4E0A\u4E00\u500B","Find and replace":"\u5C0B\u627E\u53CA\u53D6\u4EE3","Whole words":"\u6574\u500B\u55AE\u5B57",Spellcheck:"\u62FC\u5B57\u6AA2\u67E5",Caption:"\u8868\u683C\u6A19\u984C","Insert template":"\u63D2\u5165\u6A23\u7248"});var ETe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],TTe=function(t){return ETe.map(function(n){return n.toLowerCase()}).indexOf(t.toLowerCase())!==-1},RTe=function(t,n,r){Object.keys(n).filter(TTe).forEach(function(u){var f=n[u];typeof f=="function"&&(u==="onInit"?f(t,r):r.on(u.substring(2),function(d){return f(d,r)}))})},ATe=function(t,n,r,u){var f=t.modelEvents?t.modelEvents:null,d=Array.isArray(f)?f.join(" "):f;Ps(u,function(w,x){r&&typeof w=="string"&&w!==x&&w!==r.getContent({format:t.outputFormat})&&r.setContent(w)}),r.on(d||"change input undo redo",function(){n.emit("update:modelValue",r.getContent({format:t.outputFormat}))})},ITe=function(t,n,r,u,f,d){u.setContent(d()),r.attrs["onUpdate:modelValue"]&&ATe(n,r,u,f),RTe(t,r.attrs,u)},Vse=0,nue=function(t){var n=Date.now(),r=Math.floor(Math.random()*1e9);return Vse++,t+"_"+r+Vse+String(n)},OTe=function(t){return t!==null&&t.tagName.toLowerCase()==="textarea"},Hse=function(t){return typeof t>"u"||t===""?[]:Array.isArray(t)?t:t.split(" ")},DTe=function(t,n){return Hse(t).concat(Hse(n))},MTe=function(t){return t==null},Use=function(){return{listeners:[],scriptId:nue("tiny-script"),scriptLoaded:!1}},PTe=function(){var t=Use(),n=function(f,d,w,x){var T=d.createElement("script");T.referrerPolicy="origin",T.type="application/javascript",T.id=f,T.src=w;var I=function(){T.removeEventListener("load",I),x()};T.addEventListener("load",I),d.head&&d.head.appendChild(T)},r=function(f,d,w){t.scriptLoaded?w():(t.listeners.push(w),f.getElementById(t.scriptId)||n(t.scriptId,f,d,function(){t.listeners.forEach(function(x){return x()}),t.scriptLoaded=!0}))},u=function(){t=Use()};return{load:r,reinitialize:u}},zTe=PTe(),NTe=function(){return typeof window<"u"?window:global},WS=function(){var t=NTe();return t&&t.tinymce?t.tinymce:null},LTe={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return t==="html"||t==="text"}}},QS=globalThis&&globalThis.__assign||function(){return QS=Object.assign||function(t){for(var n,r=1,u=arguments.length;r<u;r++){n=arguments[r];for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&(t[f]=n[f])}return t},QS.apply(this,arguments)},FTe=function(t,n,r,u){return t(u||"div",{id:n,ref:r})},BTe=function(t,n,r){return t("textarea",{id:n,visibility:"hidden",ref:r})},$Te=lg({props:LTe,setup:function(t,n){var r=t.init?QS({},t.init):{},u=FN(t),f=u.disabled,d=u.modelValue,w=u.tagName,x=ws(null),T=null,I=t.id||nue("tiny-vue"),$=t.init&&t.init.inline||t.inline,F=!!n.attrs["onUpdate:modelValue"],H=!0,de=t.initialValue?t.initialValue:"",ke="",Ne=function(rt){return F?function(){return d!=null&&d.value?d.value:""}:function(){return rt?de:ke}},xe=function(){var rt=Ne(H),ne=QS(QS({},r),{readonly:t.disabled,target:x.value,plugins:DTe(r.plugins,t.plugins),toolbar:t.toolbar||r.toolbar,inline:$,setup:function(vt){T=vt,vt.on("init",function(Ue){return ITe(Ue,t,n,vt,d,rt)}),typeof r.setup=="function"&&r.setup(vt)}});OTe(x.value)&&(x.value.style.visibility=""),WS().init(ne),H=!1};Ps(f,function(rt){var ne;T!==null&&(typeof((ne=T.mode)===null||ne===void 0?void 0:ne.set)=="function"?T.mode.set(rt?"readonly":"design"):T.setMode(rt?"readonly":"design"))}),Ps(w,function(rt){var ne;F||(ke=T.getContent()),(ne=WS())===null||ne===void 0||ne.remove(T),$d(function(){return xe()})}),yx(function(){if(WS()!==null)xe();else if(x.value&&x.value.ownerDocument){var rt=t.cloudChannel?t.cloudChannel:"6",ne=t.apiKey?t.apiKey:"no-api-key",vt=MTe(t.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(ne,"/tinymce/").concat(rt,"/tinymce.min.js"):t.tinymceScriptSrc;zTe.load(x.value.ownerDocument,vt,xe)}}),bx(function(){WS()!==null&&WS().remove(T)}),$||(Sre(function(){H||xe()}),xre(function(){var rt;F||(ke=T.getContent()),(rt=WS())===null||rt===void 0||rt.remove(T)}));var Fe=function(rt){var ne;ke=T.getContent(),(ne=WS())===null||ne===void 0||ne.remove(T),r=QS(QS({},r),rt),$d(function(){return xe()})};return n.expose({rerender:Fe,getEditor:function(){return T}}),function(){return $?FTe(Dh,I,x,t.tagName):BTe(Dh,I,x)}}});const VTe={__name:"TinyMCE",props:{modelValue:{type:String,default:""},plugins:{type:[String,Array],default:"quickbars emoticons table image"},toolbar:{type:[String,Array],default:" bold italic underline strikethrough | fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify|bullist numlist |outdent indent blockquote | undo redo | axupimgs | removeformat | table | emoticons | image"}},emits:["update:modelValue"],setup(t,{emit:n}){const r=t,u=Gu({language:"zh_TW",height:500,menubar:!1,content_css:!1,skin:!1,plugins:r.plugins,toolbar:r.toolbar,quickbars_insert_toolbar:!1,branding:!1}),{modelValue:f}=FN(r),d=ws(f.value);return Ps(f,w=>{d.value=w}),Ps(d,w=>{n("update:modelValue",w)}),(w,x)=>(be(),Mn(Ot($Te),{modelValue:d.value,"onUpdate:modelValue":x[0]||(x[0]=T=>d.value=T),init:u},null,8,["modelValue","init"]))}},HTe={class:"col-12 px-2 py-0 mb-2"},UTe={__name:"AllBanner",props:{src:{type:String,default:"https://primefaces.org/cdn/primevue/images/galleria/galleria10.jpg"}},setup(t){return(n,r)=>{const u=Vn("Image");return be(),Le("div",HTe,[Gn(u,{imageClass:"w-full border-double border-black-alpha-20",src:t.src,height:"400"},null,8,["src"])])}}},jTe={class:"p-inputgroup"},WTe={class:"p-inputgroup-addon"},ZTe={__name:"InputTextIcon",props:{modelValue:String,label:{type:String,default:"-"},name:{type:String,default:"-"},icon:{type:String},placeholder:{type:String},rules:{type:String}},emits:["update:modelValue"],setup(t,{emit:n}){return(r,u)=>{const f=Vn("VField"),d=Vn("ErrorMessage");return be(),Le(Xn,null,[yt("div",jTe,[yt("span",WTe,[yt("i",{class:cn(["pi",t.icon])},null,2)]),Gn(f,{name:t.name,label:t.label,class:"p-inputtext p-component",rules:t.rules,placeholder:t.placeholder,value:t.modelValue,onInput:u[0]||(u[0]=w=>r.$emit("update:modelValue",w.target.value))},null,8,["name","label","rules","placeholder","value"])]),Gn(d,{name:t.name,class:"p-error"},null,8,["name"])],64)}}},GTe={__name:"InputTextTextarea",props:{modelValue:String,label:{type:String,default:"-"},name:{type:String,default:"-"},placeholder:{type:String},rules:{type:String},autoResize:{type:Boolean,default:!0},rows:{type:Number,default:6},cols:{type:Number,default:6}},emits:["update:modelValue"],setup(t,{emit:n}){return(r,u)=>{const f=Vn("Textarea"),d=Vn("VField"),w=Vn("ErrorMessage");return be(),Le(Xn,null,[Gn(d,{name:t.name,label:t.label,type:"textarea",class:"p-inputtext p-component w-full",rules:t.rules,value:t.modelValue,onInput:u[0]||(u[0]=x=>r.$emit("update:modelValue",x.target.value))},{default:Ms(({field:x,errors:T})=>[Gn(f,hr(x,{value:t.modelValue,name:t.name,placeholder:t.placeholder,class:"w-full",id:t.name,autoResize:t.autoResize,rows:t.rows,cols:t.cols}),null,16,["value","name","placeholder","id","autoResize","rows","cols"])]),_:1},8,["name","label","rules","value"]),Gn(w,{name:t.name,class:"p-error"},null,8,["name"])],64)}}},qTe={__name:"InputTextVerify",props:{modelValue:String,label:{type:String,default:"-"},name:{type:String,default:"-"},placeholder:{type:String},rules:{type:String}},emits:["update:modelValue"],setup(t,{emit:n}){return(r,u)=>{const f=Vn("InputText"),d=Vn("VField"),w=Vn("ErrorMessage");return be(),Le(Xn,null,[Gn(d,{name:t.name,label:t.label,class:"p-inputtext p-component",rules:t.rules,value:t.modelValue,onInput:u[0]||(u[0]=x=>r.$emit("update:modelValue",x.target.value))},{default:Ms(({field:x,errors:T})=>[Gn(f,hr({class:"w-full"},x,{value:t.modelValue,placeholder:t.placeholder,id:t.name,type:"text"}),null,16,["value","placeholder","id"])]),_:1},8,["name","label","rules","value"]),Gn(w,{name:t.name,class:"p-error"},null,8,["name"])],64)}}},KTe={install(t){t.component("BackButton",STe),t.component("TinyMCE",VTe),t.component("AllBanner",UTe),t.component("InputTextIcon",ZTe),t.component("TiInputTextTextareanyMCE",GTe),t.component("InputTextVerify",qTe)}},Tr=Ohe(age);Object.keys(poe).forEach(t=>{Ghe(t,poe[t])});fme({generateMessage:tge({zh_TW:rge}),validateOnInput:!0});nge("zh_TW");Tr.use(Phe());Tr.use(HJ);Tr.use(Whe);Tr.use(jhe,{ripple:!0,inputStyle:"filled",zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100}});Tr.component("Button",eI);Tr.component("Checkbox",hce);Tr.component("InputText",T7);Tr.component("Password",yce);Tr.component("Avatar",bce);Tr.component("Menu",wce);Tr.component("FileUpload",Sce);Tr.component("Toast",Ece);Tr.component("Dialog",Tce);Tr.component("Image",Rce);Tr.component("DataTable",qce);Tr.component("Column",A2e);Tr.component("Chart",Kce);Tr.component("Tag",Yce);Tr.component("Textarea",Xce);Tr.component("Knob",Jce);Tr.component("Sidebar",Qce);Tr.component("Fieldset",eue);Tr.component("TabMenu",tue);Tr.component("Dropdown",v4);Tr.component("Badge",Eee);Tr.directive("badge",kTe);Tr.component("VField",Dme);Tr.component("VForm",Bme);Tr.component("ErrorMessage",Hme);Tr.use(KTe);Tr.mount("#app");export{GTe as $,lRe as A,zve as B,rRe as C,dRe as D,YA as E,uRe as F,fRe as G,cRe as H,aRe as I,oRe as J,sRe as K,$he as L,Ai as M,PQ as N,xye as O,uie as P,NA as Q,cx as R,C0 as S,Tye as T,l4 as U,D0 as V,nRe as W,rQ as X,Ot as Y,qTe as Z,Yie as _,Gu as a,Mn as a0,Wt as a1,Xn as a2,Ua as a3,ZTe as a4,Pke as a5,QTe as a6,eRe as a7,hye as a8,Vn as b,Le as c,yt as d,Gn as e,Ms as f,tRe as g,Wu as h,Kie as i,Xae as j,ske as k,q0e as l,gRe as m,UA as n,be as o,hRe as p,pRe as q,ws as r,fce as s,Xo as t,xee as u,mRe as v,Ps as w,Y0e as x,qie as y,iRe as z};
