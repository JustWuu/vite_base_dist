import{A as E,F as H}from"./useForum.ea2c60db.js";import{C as M}from"./useDate.08bd623a.js";import{r as w,X as j,b as i,a8 as V,o as a,c as l,e as n,d as t,a9 as S,h as $,t as e,a2 as z,a3 as W,aa as X,j as q}from"./index.073cf88e.js";const G={class:""},J={class:"grid mb-4"},K={class:"col-12 py-0 px-2 mb-2"},O={class:"card"},P={class:"m-0","data-title":"\u6211\u662F\u65B0\u7684\u6807\u9898"},Q={class:"col-12 py-0 px-2"},Y={class:"card"},Z=t("h6",{class:"m-0"},"1F",-1),tt={class:"grid .p-avatar.p-avatar-circle p-avatar-circle"},st={class:"pb-0 col-12 flex justify-content-center md:col-2"},et={class:"pb-0 col-12 md:col-10"},ot={class:"flex mb-2"},ct=t("p",{class:"mb-0"},"\u4F5C\u8005\uFF1A",-1),at={class:"text-lg"},lt={class:"flex mb-2"},nt=t("p",{class:"mb-0"},"UID\uFF1A",-1),it={class:"text-lg"},rt={class:"text-left md:text-right",style:{"overflow-wrap":"anywhere"}},dt=t("hr",null,null,-1),_t={class:"overflow-scroll"},ht=["innerHTML"],ut={class:"col-12 py-0 px-2"},vt={class:"card"},pt={class:"m-0"},mt={class:"grid .p-avatar.p-avatar-circle p-avatar-circle"},ft={class:"pb-0 col-12 flex justify-content-center md:col-2"},bt={class:"pb-0 col-12 md:col-10"},gt={class:"flex mb-2"},xt=t("p",{class:"mb-0"},"\u4F5C\u8005\uFF1A",-1),wt={class:"text-lg"},yt={class:"flex mb-2"},Dt=t("p",{class:"mb-0"},"UID\uFF1A",-1),kt={class:"text-lg"},It={class:"text-left md:text-right"},Lt=t("hr",null,null,-1),Ut={class:"overflow-scroll"},Ft=["innerHTML"],Ct={__name:"ForumArticle",emits:["showSuccess","showInfo","showWarn","showError"],setup(At,{emit:y}){const D=X(),k=q(),I=new M,L=new H,U=new E,{user:F}=U.getUser(),s=w({}),r=w(D.params.id),d=o=>I.convertDate(o),A=o=>{k.push(`/forum/reply/${o}`)},B=()=>{L.getArticle(r.value).then(o=>{s.value=o}).catch(o=>{s.value=null,y("showError",o)})};return j(()=>{F.value!==null&&B()}),(o,_)=>{var u,v,p,m,f;const N=i("back-button"),R=i("Button"),h=i("Image"),T=V("title");return a(),l("div",G,[n(N),n(R,{class:"fixed z-5 bottom-0 right-0 m-5",label:"\u767C\u8868\u56DE\u8986",onClick:_[0]||(_[0]=c=>A(r.value))}),t("div",J,[t("div",K,[t("div",O,[S((a(),l("h5",P,[$("\u3010"+e((u=s.value.area)==null?void 0:u.name)+"-"+e((v=s.value.theme)==null?void 0:v.name)+"\u3011"+e(s.value.title),1)])),[[T]])])]),t("div",Q,[t("div",Y,[t("div",null,[Z,t("div",tt,[t("div",st,[n(h,{src:(p=s.value.author)==null?void 0:p.photoURL,alt:"Image",width:"80",height:"80",preview:""},null,8,["src"])]),t("div",et,[t("div",ot,[ct,t("p",at,e((m=s.value.author)==null?void 0:m.displayName),1)]),t("div",lt,[nt,t("p",it,e((f=s.value.author)==null?void 0:f.fromUid),1)]),t("p",rt,"\u767C\u8868\u6642\u9593\uFF1A"+e(d(s.value.date)),1)])])]),dt,t("div",_t,[t("div",{innerHTML:s.value.content},null,8,ht)])])])]),(a(!0),l(z,null,W(s.value.reply,(c,Bt,C)=>{var b,g,x;return a(),l("div",{class:"grid mb-4",key:c},[t("div",ut,[t("div",vt,[t("div",null,[t("h6",pt,e(C+2)+"F",1),t("div",mt,[t("div",ft,[n(h,{src:(b=c.author)==null?void 0:b.photoURL,alt:"Image",width:"80",height:"80",preview:""},null,8,["src"])]),t("div",bt,[t("div",gt,[xt,t("p",wt,e((g=c.author)==null?void 0:g.displayName),1)]),t("div",yt,[Dt,t("p",kt,e((x=c.author)==null?void 0:x.fromUid),1)]),t("p",It,"\u767C\u8868\u6642\u9593\uFF1A"+e(d(c.date)),1)])])]),Lt,t("div",Ut,[t("div",{innerHTML:c.content},null,8,Ft)])])])])}),128))])}}};export{Ct as default};
